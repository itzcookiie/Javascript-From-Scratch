!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/react.jsx")}({"./node_modules/core-js/internals/an-object.js":
/*!*****************************************************!*\
  !*** ./node_modules/core-js/internals/an-object.js ***!
  \*****************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../internals/is-object */"./node_modules/core-js/internals/is-object.js");e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},"./node_modules/core-js/internals/array-includes.js":
/*!**********************************************************!*\
  !*** ./node_modules/core-js/internals/array-includes.js ***!
  \**********************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../internals/to-indexed-object */"./node_modules/core-js/internals/to-indexed-object.js"),o=n(/*! ../internals/to-length */"./node_modules/core-js/internals/to-length.js"),a=n(/*! ../internals/to-absolute-index */"./node_modules/core-js/internals/to-absolute-index.js"),i=function(e){return function(t,n,i){var l,u=r(t),s=o(u.length),c=a(i,s);if(e&&n!=n){for(;s>c;)if((l=u[c++])!=l)return!0}else for(;s>c;c++)if((e||c in u)&&u[c]===n)return e||c||0;return!e&&-1}};e.exports={includes:i(!0),indexOf:i(!1)}},"./node_modules/core-js/internals/classof-raw.js":
/*!*******************************************************!*\
  !*** ./node_modules/core-js/internals/classof-raw.js ***!
  \*******************************************************/
/*! no static exports found */function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},"./node_modules/core-js/internals/copy-constructor-properties.js":
/*!***********************************************************************!*\
  !*** ./node_modules/core-js/internals/copy-constructor-properties.js ***!
  \***********************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../internals/has */"./node_modules/core-js/internals/has.js"),o=n(/*! ../internals/own-keys */"./node_modules/core-js/internals/own-keys.js"),a=n(/*! ../internals/object-get-own-property-descriptor */"./node_modules/core-js/internals/object-get-own-property-descriptor.js"),i=n(/*! ../internals/object-define-property */"./node_modules/core-js/internals/object-define-property.js");e.exports=function(e,t){for(var n=o(t),l=i.f,u=a.f,s=0;s<n.length;s++){var c=n[s];r(e,c)||l(e,c,u(t,c))}}},"./node_modules/core-js/internals/correct-is-regexp-logic.js":
/*!*******************************************************************!*\
  !*** ./node_modules/core-js/internals/correct-is-regexp-logic.js ***!
  \*******************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../internals/well-known-symbol */"./node_modules/core-js/internals/well-known-symbol.js")("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(e){}}return!1}},"./node_modules/core-js/internals/create-non-enumerable-property.js":
/*!**************************************************************************!*\
  !*** ./node_modules/core-js/internals/create-non-enumerable-property.js ***!
  \**************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../internals/descriptors */"./node_modules/core-js/internals/descriptors.js"),o=n(/*! ../internals/object-define-property */"./node_modules/core-js/internals/object-define-property.js"),a=n(/*! ../internals/create-property-descriptor */"./node_modules/core-js/internals/create-property-descriptor.js");e.exports=r?function(e,t,n){return o.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},"./node_modules/core-js/internals/create-property-descriptor.js":
/*!**********************************************************************!*\
  !*** ./node_modules/core-js/internals/create-property-descriptor.js ***!
  \**********************************************************************/
/*! no static exports found */function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"./node_modules/core-js/internals/descriptors.js":
/*!*******************************************************!*\
  !*** ./node_modules/core-js/internals/descriptors.js ***!
  \*******************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../internals/fails */"./node_modules/core-js/internals/fails.js");e.exports=!r((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},"./node_modules/core-js/internals/document-create-element.js":
/*!*******************************************************************!*\
  !*** ./node_modules/core-js/internals/document-create-element.js ***!
  \*******************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../internals/global */"./node_modules/core-js/internals/global.js"),o=n(/*! ../internals/is-object */"./node_modules/core-js/internals/is-object.js"),a=r.document,i=o(a)&&o(a.createElement);e.exports=function(e){return i?a.createElement(e):{}}},"./node_modules/core-js/internals/enum-bug-keys.js":
/*!*********************************************************!*\
  !*** ./node_modules/core-js/internals/enum-bug-keys.js ***!
  \*********************************************************/
/*! no static exports found */function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"./node_modules/core-js/internals/export.js":
/*!**************************************************!*\
  !*** ./node_modules/core-js/internals/export.js ***!
  \**************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../internals/global */"./node_modules/core-js/internals/global.js"),o=n(/*! ../internals/object-get-own-property-descriptor */"./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,a=n(/*! ../internals/create-non-enumerable-property */"./node_modules/core-js/internals/create-non-enumerable-property.js"),i=n(/*! ../internals/redefine */"./node_modules/core-js/internals/redefine.js"),l=n(/*! ../internals/set-global */"./node_modules/core-js/internals/set-global.js"),u=n(/*! ../internals/copy-constructor-properties */"./node_modules/core-js/internals/copy-constructor-properties.js"),s=n(/*! ../internals/is-forced */"./node_modules/core-js/internals/is-forced.js");e.exports=function(e,t){var n,c,d,f,p,m=e.target,h=e.global,v=e.stat;if(n=h?r:v?r[m]||l(m,{}):(r[m]||{}).prototype)for(c in t){if(f=t[c],d=e.noTargetGet?(p=o(n,c))&&p.value:n[c],!s(h?c:m+(v?".":"#")+c,e.forced)&&void 0!==d){if(typeof f==typeof d)continue;u(f,d)}(e.sham||d&&d.sham)&&a(f,"sham",!0),i(n,c,f,e)}}},"./node_modules/core-js/internals/fails.js":
/*!*************************************************!*\
  !*** ./node_modules/core-js/internals/fails.js ***!
  \*************************************************/
/*! no static exports found */function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},"./node_modules/core-js/internals/get-built-in.js":
/*!********************************************************!*\
  !*** ./node_modules/core-js/internals/get-built-in.js ***!
  \********************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../internals/path */"./node_modules/core-js/internals/path.js"),o=n(/*! ../internals/global */"./node_modules/core-js/internals/global.js"),a=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?a(r[e])||a(o[e]):r[e]&&r[e][t]||o[e]&&o[e][t]}},"./node_modules/core-js/internals/global.js":
/*!**************************************************!*\
  !*** ./node_modules/core-js/internals/global.js ***!
  \**************************************************/
/*! no static exports found */function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||Function("return this")()}).call(this,n(/*! ./../../webpack/buildin/global.js */"./node_modules/webpack/buildin/global.js"))},"./node_modules/core-js/internals/has.js":
/*!***********************************************!*\
  !*** ./node_modules/core-js/internals/has.js ***!
  \***********************************************/
/*! no static exports found */function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},"./node_modules/core-js/internals/hidden-keys.js":
/*!*******************************************************!*\
  !*** ./node_modules/core-js/internals/hidden-keys.js ***!
  \*******************************************************/
/*! no static exports found */function(e,t){e.exports={}},"./node_modules/core-js/internals/ie8-dom-define.js":
/*!**********************************************************!*\
  !*** ./node_modules/core-js/internals/ie8-dom-define.js ***!
  \**********************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../internals/descriptors */"./node_modules/core-js/internals/descriptors.js"),o=n(/*! ../internals/fails */"./node_modules/core-js/internals/fails.js"),a=n(/*! ../internals/document-create-element */"./node_modules/core-js/internals/document-create-element.js");e.exports=!r&&!o((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},"./node_modules/core-js/internals/indexed-object.js":
/*!**********************************************************!*\
  !*** ./node_modules/core-js/internals/indexed-object.js ***!
  \**********************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../internals/fails */"./node_modules/core-js/internals/fails.js"),o=n(/*! ../internals/classof-raw */"./node_modules/core-js/internals/classof-raw.js"),a="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?a.call(e,""):Object(e)}:Object},"./node_modules/core-js/internals/inspect-source.js":
/*!**********************************************************!*\
  !*** ./node_modules/core-js/internals/inspect-source.js ***!
  \**********************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../internals/shared-store */"./node_modules/core-js/internals/shared-store.js"),o=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return o.call(e)}),e.exports=r.inspectSource},"./node_modules/core-js/internals/internal-state.js":
/*!**********************************************************!*\
  !*** ./node_modules/core-js/internals/internal-state.js ***!
  \**********************************************************/
/*! no static exports found */function(e,t,n){var r,o,a,i=n(/*! ../internals/native-weak-map */"./node_modules/core-js/internals/native-weak-map.js"),l=n(/*! ../internals/global */"./node_modules/core-js/internals/global.js"),u=n(/*! ../internals/is-object */"./node_modules/core-js/internals/is-object.js"),s=n(/*! ../internals/create-non-enumerable-property */"./node_modules/core-js/internals/create-non-enumerable-property.js"),c=n(/*! ../internals/has */"./node_modules/core-js/internals/has.js"),d=n(/*! ../internals/shared-key */"./node_modules/core-js/internals/shared-key.js"),f=n(/*! ../internals/hidden-keys */"./node_modules/core-js/internals/hidden-keys.js"),p=l.WeakMap;if(i){var m=new p,h=m.get,v=m.has,y=m.set;r=function(e,t){return y.call(m,e,t),t},o=function(e){return h.call(m,e)||{}},a=function(e){return v.call(m,e)}}else{var g=d("state");f[g]=!0,r=function(e,t){return s(e,g,t),t},o=function(e){return c(e,g)?e[g]:{}},a=function(e){return c(e,g)}}e.exports={set:r,get:o,has:a,enforce:function(e){return a(e)?o(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!u(t)||(n=o(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},"./node_modules/core-js/internals/is-forced.js":
/*!*****************************************************!*\
  !*** ./node_modules/core-js/internals/is-forced.js ***!
  \*****************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../internals/fails */"./node_modules/core-js/internals/fails.js"),o=/#|\.prototype\./,a=function(e,t){var n=l[i(e)];return n==s||n!=u&&("function"==typeof t?r(t):!!t)},i=a.normalize=function(e){return String(e).replace(o,".").toLowerCase()},l=a.data={},u=a.NATIVE="N",s=a.POLYFILL="P";e.exports=a},"./node_modules/core-js/internals/is-object.js":
/*!*****************************************************!*\
  !*** ./node_modules/core-js/internals/is-object.js ***!
  \*****************************************************/
/*! no static exports found */function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},"./node_modules/core-js/internals/is-pure.js":
/*!***************************************************!*\
  !*** ./node_modules/core-js/internals/is-pure.js ***!
  \***************************************************/
/*! no static exports found */function(e,t){e.exports=!1},"./node_modules/core-js/internals/is-regexp.js":
/*!*****************************************************!*\
  !*** ./node_modules/core-js/internals/is-regexp.js ***!
  \*****************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../internals/is-object */"./node_modules/core-js/internals/is-object.js"),o=n(/*! ../internals/classof-raw */"./node_modules/core-js/internals/classof-raw.js"),a=n(/*! ../internals/well-known-symbol */"./node_modules/core-js/internals/well-known-symbol.js")("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==o(e))}},"./node_modules/core-js/internals/native-symbol.js":
/*!*********************************************************!*\
  !*** ./node_modules/core-js/internals/native-symbol.js ***!
  \*********************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../internals/fails */"./node_modules/core-js/internals/fails.js");e.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},"./node_modules/core-js/internals/native-weak-map.js":
/*!***********************************************************!*\
  !*** ./node_modules/core-js/internals/native-weak-map.js ***!
  \***********************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../internals/global */"./node_modules/core-js/internals/global.js"),o=n(/*! ../internals/inspect-source */"./node_modules/core-js/internals/inspect-source.js"),a=r.WeakMap;e.exports="function"==typeof a&&/native code/.test(o(a))},"./node_modules/core-js/internals/not-a-regexp.js":
/*!********************************************************!*\
  !*** ./node_modules/core-js/internals/not-a-regexp.js ***!
  \********************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../internals/is-regexp */"./node_modules/core-js/internals/is-regexp.js");e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},"./node_modules/core-js/internals/object-define-property.js":
/*!******************************************************************!*\
  !*** ./node_modules/core-js/internals/object-define-property.js ***!
  \******************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../internals/descriptors */"./node_modules/core-js/internals/descriptors.js"),o=n(/*! ../internals/ie8-dom-define */"./node_modules/core-js/internals/ie8-dom-define.js"),a=n(/*! ../internals/an-object */"./node_modules/core-js/internals/an-object.js"),i=n(/*! ../internals/to-primitive */"./node_modules/core-js/internals/to-primitive.js"),l=Object.defineProperty;t.f=r?l:function(e,t,n){if(a(e),t=i(t,!0),a(n),o)try{return l(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},"./node_modules/core-js/internals/object-get-own-property-descriptor.js":
/*!******************************************************************************!*\
  !*** ./node_modules/core-js/internals/object-get-own-property-descriptor.js ***!
  \******************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../internals/descriptors */"./node_modules/core-js/internals/descriptors.js"),o=n(/*! ../internals/object-property-is-enumerable */"./node_modules/core-js/internals/object-property-is-enumerable.js"),a=n(/*! ../internals/create-property-descriptor */"./node_modules/core-js/internals/create-property-descriptor.js"),i=n(/*! ../internals/to-indexed-object */"./node_modules/core-js/internals/to-indexed-object.js"),l=n(/*! ../internals/to-primitive */"./node_modules/core-js/internals/to-primitive.js"),u=n(/*! ../internals/has */"./node_modules/core-js/internals/has.js"),s=n(/*! ../internals/ie8-dom-define */"./node_modules/core-js/internals/ie8-dom-define.js"),c=Object.getOwnPropertyDescriptor;t.f=r?c:function(e,t){if(e=i(e),t=l(t,!0),s)try{return c(e,t)}catch(e){}if(u(e,t))return a(!o.f.call(e,t),e[t])}},"./node_modules/core-js/internals/object-get-own-property-names.js":
/*!*************************************************************************!*\
  !*** ./node_modules/core-js/internals/object-get-own-property-names.js ***!
  \*************************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../internals/object-keys-internal */"./node_modules/core-js/internals/object-keys-internal.js"),o=n(/*! ../internals/enum-bug-keys */"./node_modules/core-js/internals/enum-bug-keys.js").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},"./node_modules/core-js/internals/object-get-own-property-symbols.js":
/*!***************************************************************************!*\
  !*** ./node_modules/core-js/internals/object-get-own-property-symbols.js ***!
  \***************************************************************************/
/*! no static exports found */function(e,t){t.f=Object.getOwnPropertySymbols},"./node_modules/core-js/internals/object-keys-internal.js":
/*!****************************************************************!*\
  !*** ./node_modules/core-js/internals/object-keys-internal.js ***!
  \****************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../internals/has */"./node_modules/core-js/internals/has.js"),o=n(/*! ../internals/to-indexed-object */"./node_modules/core-js/internals/to-indexed-object.js"),a=n(/*! ../internals/array-includes */"./node_modules/core-js/internals/array-includes.js").indexOf,i=n(/*! ../internals/hidden-keys */"./node_modules/core-js/internals/hidden-keys.js");e.exports=function(e,t){var n,l=o(e),u=0,s=[];for(n in l)!r(i,n)&&r(l,n)&&s.push(n);for(;t.length>u;)r(l,n=t[u++])&&(~a(s,n)||s.push(n));return s}},"./node_modules/core-js/internals/object-property-is-enumerable.js":
/*!*************************************************************************!*\
  !*** ./node_modules/core-js/internals/object-property-is-enumerable.js ***!
  \*************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,a=o&&!r.call({1:2},1);t.f=a?function(e){var t=o(this,e);return!!t&&t.enumerable}:r},"./node_modules/core-js/internals/own-keys.js":
/*!****************************************************!*\
  !*** ./node_modules/core-js/internals/own-keys.js ***!
  \****************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../internals/get-built-in */"./node_modules/core-js/internals/get-built-in.js"),o=n(/*! ../internals/object-get-own-property-names */"./node_modules/core-js/internals/object-get-own-property-names.js"),a=n(/*! ../internals/object-get-own-property-symbols */"./node_modules/core-js/internals/object-get-own-property-symbols.js"),i=n(/*! ../internals/an-object */"./node_modules/core-js/internals/an-object.js");e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(i(e)),n=a.f;return n?t.concat(n(e)):t}},"./node_modules/core-js/internals/path.js":
/*!************************************************!*\
  !*** ./node_modules/core-js/internals/path.js ***!
  \************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../internals/global */"./node_modules/core-js/internals/global.js");e.exports=r},"./node_modules/core-js/internals/redefine.js":
/*!****************************************************!*\
  !*** ./node_modules/core-js/internals/redefine.js ***!
  \****************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../internals/global */"./node_modules/core-js/internals/global.js"),o=n(/*! ../internals/create-non-enumerable-property */"./node_modules/core-js/internals/create-non-enumerable-property.js"),a=n(/*! ../internals/has */"./node_modules/core-js/internals/has.js"),i=n(/*! ../internals/set-global */"./node_modules/core-js/internals/set-global.js"),l=n(/*! ../internals/inspect-source */"./node_modules/core-js/internals/inspect-source.js"),u=n(/*! ../internals/internal-state */"./node_modules/core-js/internals/internal-state.js"),s=u.get,c=u.enforce,d=String(String).split("String");(e.exports=function(e,t,n,l){var u=!!l&&!!l.unsafe,s=!!l&&!!l.enumerable,f=!!l&&!!l.noTargetGet;"function"==typeof n&&("string"!=typeof t||a(n,"name")||o(n,"name",t),c(n).source=d.join("string"==typeof t?t:"")),e!==r?(u?!f&&e[t]&&(s=!0):delete e[t],s?e[t]=n:o(e,t,n)):s?e[t]=n:i(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&s(this).source||l(this)}))},"./node_modules/core-js/internals/require-object-coercible.js":
/*!********************************************************************!*\
  !*** ./node_modules/core-js/internals/require-object-coercible.js ***!
  \********************************************************************/
/*! no static exports found */function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},"./node_modules/core-js/internals/set-global.js":
/*!******************************************************!*\
  !*** ./node_modules/core-js/internals/set-global.js ***!
  \******************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../internals/global */"./node_modules/core-js/internals/global.js"),o=n(/*! ../internals/create-non-enumerable-property */"./node_modules/core-js/internals/create-non-enumerable-property.js");e.exports=function(e,t){try{o(r,e,t)}catch(n){r[e]=t}return t}},"./node_modules/core-js/internals/shared-key.js":
/*!******************************************************!*\
  !*** ./node_modules/core-js/internals/shared-key.js ***!
  \******************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../internals/shared */"./node_modules/core-js/internals/shared.js"),o=n(/*! ../internals/uid */"./node_modules/core-js/internals/uid.js"),a=r("keys");e.exports=function(e){return a[e]||(a[e]=o(e))}},"./node_modules/core-js/internals/shared-store.js":
/*!********************************************************!*\
  !*** ./node_modules/core-js/internals/shared-store.js ***!
  \********************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../internals/global */"./node_modules/core-js/internals/global.js"),o=n(/*! ../internals/set-global */"./node_modules/core-js/internals/set-global.js"),a=r["__core-js_shared__"]||o("__core-js_shared__",{});e.exports=a},"./node_modules/core-js/internals/shared.js":
/*!**************************************************!*\
  !*** ./node_modules/core-js/internals/shared.js ***!
  \**************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../internals/is-pure */"./node_modules/core-js/internals/is-pure.js"),o=n(/*! ../internals/shared-store */"./node_modules/core-js/internals/shared-store.js");(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.0",mode:r?"pure":"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})},"./node_modules/core-js/internals/to-absolute-index.js":
/*!*************************************************************!*\
  !*** ./node_modules/core-js/internals/to-absolute-index.js ***!
  \*************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../internals/to-integer */"./node_modules/core-js/internals/to-integer.js"),o=Math.max,a=Math.min;e.exports=function(e,t){var n=r(e);return n<0?o(n+t,0):a(n,t)}},"./node_modules/core-js/internals/to-indexed-object.js":
/*!*************************************************************!*\
  !*** ./node_modules/core-js/internals/to-indexed-object.js ***!
  \*************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../internals/indexed-object */"./node_modules/core-js/internals/indexed-object.js"),o=n(/*! ../internals/require-object-coercible */"./node_modules/core-js/internals/require-object-coercible.js");e.exports=function(e){return r(o(e))}},"./node_modules/core-js/internals/to-integer.js":
/*!******************************************************!*\
  !*** ./node_modules/core-js/internals/to-integer.js ***!
  \******************************************************/
/*! no static exports found */function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},"./node_modules/core-js/internals/to-length.js":
/*!*****************************************************!*\
  !*** ./node_modules/core-js/internals/to-length.js ***!
  \*****************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../internals/to-integer */"./node_modules/core-js/internals/to-integer.js"),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},"./node_modules/core-js/internals/to-primitive.js":
/*!********************************************************!*\
  !*** ./node_modules/core-js/internals/to-primitive.js ***!
  \********************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../internals/is-object */"./node_modules/core-js/internals/is-object.js");e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},"./node_modules/core-js/internals/uid.js":
/*!***********************************************!*\
  !*** ./node_modules/core-js/internals/uid.js ***!
  \***********************************************/
/*! no static exports found */function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},"./node_modules/core-js/internals/use-symbol-as-uid.js":
/*!*************************************************************!*\
  !*** ./node_modules/core-js/internals/use-symbol-as-uid.js ***!
  \*************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../internals/native-symbol */"./node_modules/core-js/internals/native-symbol.js");e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol()},"./node_modules/core-js/internals/well-known-symbol.js":
/*!*************************************************************!*\
  !*** ./node_modules/core-js/internals/well-known-symbol.js ***!
  \*************************************************************/
/*! no static exports found */function(e,t,n){var r=n(/*! ../internals/global */"./node_modules/core-js/internals/global.js"),o=n(/*! ../internals/shared */"./node_modules/core-js/internals/shared.js"),a=n(/*! ../internals/has */"./node_modules/core-js/internals/has.js"),i=n(/*! ../internals/uid */"./node_modules/core-js/internals/uid.js"),l=n(/*! ../internals/native-symbol */"./node_modules/core-js/internals/native-symbol.js"),u=n(/*! ../internals/use-symbol-as-uid */"./node_modules/core-js/internals/use-symbol-as-uid.js"),s=o("wks"),c=r.Symbol,d=u?c:i;e.exports=function(e){return a(s,e)||(l&&a(c,e)?s[e]=c[e]:s[e]=d("Symbol."+e)),s[e]}},"./node_modules/core-js/modules/es.string.starts-with.js":
/*!***************************************************************!*\
  !*** ./node_modules/core-js/modules/es.string.starts-with.js ***!
  \***************************************************************/
/*! no static exports found */function(e,t,n){"use strict";var r,o=n(/*! ../internals/export */"./node_modules/core-js/internals/export.js"),a=n(/*! ../internals/object-get-own-property-descriptor */"./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,i=n(/*! ../internals/to-length */"./node_modules/core-js/internals/to-length.js"),l=n(/*! ../internals/not-a-regexp */"./node_modules/core-js/internals/not-a-regexp.js"),u=n(/*! ../internals/require-object-coercible */"./node_modules/core-js/internals/require-object-coercible.js"),s=n(/*! ../internals/correct-is-regexp-logic */"./node_modules/core-js/internals/correct-is-regexp-logic.js"),c=n(/*! ../internals/is-pure */"./node_modules/core-js/internals/is-pure.js"),d="".startsWith,f=Math.min,p=s("startsWith");o({target:"String",proto:!0,forced:!!(c||p||(r=a(String.prototype,"startsWith"),!r||r.writable))&&!p},{startsWith:function(e){var t=String(u(this));l(e);var n=i(f(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return d?d.call(t,r,n):t.slice(n,n+r.length)===r}})},"./node_modules/object-assign/index.js":
/*!*********************************************!*\
  !*** ./node_modules/object-assign/index.js ***!
  \*********************************************/
/*! no static exports found */function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,l,u=i(e),s=1;s<arguments.length;s++){for(var c in n=Object(arguments[s]))o.call(n,c)&&(u[c]=n[c]);if(r){l=r(n);for(var d=0;d<l.length;d++)a.call(n,l[d])&&(u[l[d]]=n[l[d]])}}return u}},"./node_modules/prop-types/checkPropTypes.js":
/*!***************************************************!*\
  !*** ./node_modules/prop-types/checkPropTypes.js ***!
  \***************************************************/
/*! no static exports found */function(e,t,n){"use strict";var r=function(){},o=n(/*! ./lib/ReactPropTypesSecret */"./node_modules/prop-types/lib/ReactPropTypesSecret.js"),a={},i=Function.call.bind(Object.prototype.hasOwnProperty);function l(e,t,n,l,u){for(var s in e)if(i(e,s)){var c;try{if("function"!=typeof e[s]){var d=Error((l||"React class")+": "+n+" type `"+s+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[s]+"`.");throw d.name="Invariant Violation",d}c=e[s](t,s,l,n,null,o)}catch(e){c=e}if(!c||c instanceof Error||r((l||"React class")+": type specification of "+n+" `"+s+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof c+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),c instanceof Error&&!(c.message in a)){a[c.message]=!0;var f=u?u():"";r("Failed "+n+" type: "+c.message+(null!=f?f:""))}}}r=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(e){}},l.resetWarningCache=function(){a={}},e.exports=l},"./node_modules/prop-types/lib/ReactPropTypesSecret.js":
/*!*************************************************************!*\
  !*** ./node_modules/prop-types/lib/ReactPropTypesSecret.js ***!
  \*************************************************************/
/*! no static exports found */function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},"./node_modules/react-dom/cjs/react-dom.development.js":
/*!*************************************************************!*\
  !*** ./node_modules/react-dom/cjs/react-dom.development.js ***!
  \*************************************************************/
/*! no static exports found */function(e,t,n){"use strict";
/** @license React v16.12.0
 * react-dom.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var t=n(/*! react */"./node_modules/react/index.js"),r=n(/*! object-assign */"./node_modules/object-assign/index.js"),o=n(/*! scheduler */"./node_modules/scheduler/index.js"),a=n(/*! prop-types/checkPropTypes */"./node_modules/prop-types/checkPropTypes.js"),i=n(/*! scheduler/tracing */"./node_modules/scheduler/tracing.js");if(!t)throw Error("ReactDOM was loaded before React. Make sure you load the React package before loading ReactDOM.");var l=null,u={};function s(){if(l)for(var e in u){var t=u[e],n=l.indexOf(e);if(!(n>-1))throw Error("EventPluginRegistry: Cannot inject event plugins that do not exist in the plugin ordering, `"+e+"`.");if(!f[n]){if(!t.extractEvents)throw Error("EventPluginRegistry: Event plugins must implement an `extractEvents` method, but `"+e+"` does not.");f[n]=t;var r=t.eventTypes;for(var o in r)if(!c(r[o],t,o))throw Error("EventPluginRegistry: Failed to publish event `"+o+"` for plugin `"+e+"`.")}}}function c(e,t,n){if(p.hasOwnProperty(n))throw Error("EventPluginHub: More than one plugin attempted to publish the same event name, `"+n+"`.");p[n]=e;var r=e.phasedRegistrationNames;if(r){for(var o in r){if(r.hasOwnProperty(o))d(r[o],t,n)}return!0}return!!e.registrationName&&(d(e.registrationName,t,n),!0)}function d(e,t,n){if(m[e])throw Error("EventPluginHub: More than one plugin attempted to publish the same registration name, `"+e+"`.");m[e]=t,h[e]=t.eventTypes[n].dependencies;var r=e.toLowerCase();v[r]=e,"onDoubleClick"===e&&(v.ondblclick=e)}var f=[],p={},m={},h={},v={};var y=function(e,t,n,r,o,a,i,l,u){var s=Array.prototype.slice.call(arguments,3);try{t.apply(n,s)}catch(e){this.onError(e)}};if("undefined"!=typeof window&&"function"==typeof window.dispatchEvent&&"undefined"!=typeof document&&"function"==typeof document.createEvent){var g=document.createElement("react");y=function(e,t,n,r,o,a,i,l,u){if("undefined"==typeof document)throw Error("The `document` global was defined when React was initialized, but is not defined anymore. This can happen in a test environment if a component schedules an update from an asynchronous callback, but the test has already finished running. To solve this, you can either unmount the component at the end of your test (and ensure that any asynchronous operations get canceled in `componentWillUnmount`), or you can change the test itself to be asynchronous.");var s,c=document.createEvent("Event"),d=!0,f=window.event,p=Object.getOwnPropertyDescriptor(window,"event"),m=Array.prototype.slice.call(arguments,3);function h(){g.removeEventListener(w,h,!1),void 0!==window.event&&window.hasOwnProperty("event")&&(window.event=f),t.apply(n,m),d=!1}var v=!1,y=!1;function b(e){if(s=e.error,v=!0,null===s&&0===e.colno&&0===e.lineno&&(y=!0),e.defaultPrevented&&null!=s&&"object"==typeof s)try{s._suppressLogging=!0}catch(e){}}var w="react-"+(e||"invokeguardedcallback");window.addEventListener("error",b),g.addEventListener(w,h,!1),c.initEvent(w,!1,!1),g.dispatchEvent(c),p&&Object.defineProperty(window,"event",p),d&&(v?y&&(s=new Error("A cross-origin error was thrown. React doesn't have access to the actual error object in development. See https://fb.me/react-crossorigin-error for more information.")):s=new Error("An error was thrown inside one of your components, but React doesn't know what it was. This is likely due to browser flakiness. React does its best to preserve the \"Pause on exceptions\" behavior of the DevTools, which requires some DEV-mode only tricks. It's possible that these don't work in your browser. Try triggering the error in production mode, or switching to a modern browser. If you suspect that this is actually an issue with React, please file an issue."),this.onError(s)),window.removeEventListener("error",b)}}var b=y,w=!1,k=null,x=!1,T=null,S={onError:function(e){w=!0,k=e}};function E(e,t,n,r,o,a,i,l,u){w=!1,k=null,b.apply(S,arguments)}function _(e,t,n,r,o,a,i,l,u){if(E.apply(this,arguments),w){var s=P();x||(x=!0,T=s)}}function C(){return w}function P(){if(w){var e=k;return w=!1,k=null,e}throw Error("clearCaughtError was called but no error was captured. This error is likely caused by a bug in React. Please file an issue.")}var R,j=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];if(void 0===t)throw new Error("`warningWithoutStack(condition, format, ...args)` requires a warning message argument");if(r.length>8)throw new Error("warningWithoutStack() currently supports at most 8 arguments.");if(!e){if("undefined"!=typeof console){var a=r.map((function(e){return""+e}));a.unshift("Warning: "+t),Function.prototype.apply.call(console.error,console,a)}try{var i=0,l="Warning: "+t.replace(/%s/g,(function(){return r[i++]}));throw new Error(l)}catch(e){}}},I=null,D=null,N=null;function O(e,t,n){var r=e.type||"unknown-event";e.currentTarget=N(n),_(r,t,void 0,e),e.currentTarget=null}function M(e,t){if(null==t)throw Error("accumulateInto(...): Accumulated items must not be null or undefined.");return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function z(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}R=function(e){var t=e._dispatchListeners,n=e._dispatchInstances,r=Array.isArray(t),o=r?t.length:t?1:0,a=Array.isArray(n),i=a?n.length:n?1:0;(a!==r||i!==o)&&j(!1,"EventPluginUtils: Invalid `event`.")};var U=null,A=function(e){e&&(!function(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(R(e),Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)O(e,t[r],n[r]);else t&&O(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null}(e),e.isPersistent()||e.constructor.release(e))},L=function(e){return A(e)};function W(e){null!==e&&(U=M(U,e));var t=U;if(U=null,t){if(z(t,L),U)throw Error("processEventQueue(): Additional events were enqueued while processing an event queue. Support for this has not yet been implemented.");!function(){if(x){var e=T;throw x=!1,T=null,e}}()}}var F={injectEventPluginOrder:function(e){if(l)throw Error("EventPluginRegistry: Cannot inject event plugin ordering more than once. You are likely trying to load more than one copy of React.");l=Array.prototype.slice.call(e),s()},injectEventPluginsByName:function(e){var t=!1;for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(!u.hasOwnProperty(n)||u[n]!==r){if(u[n])throw Error("EventPluginRegistry: Cannot inject two different event plugins using the same name, `"+n+"`.");u[n]=r,t=!0}}t&&s()}};function B(e,t){var n,r=e.stateNode;if(!r)return null;var o=I(r);if(!o)return null;if(n=o[t],function(e,t,n){switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":return!(!n.disabled||(r=t,"button"!==r&&"input"!==r&&"select"!==r&&"textarea"!==r));default:return!1}var r}(t,e.type,o))return null;if(n&&"function"!=typeof n)throw Error("Expected `"+t+"` listener to be a function, instead got a value of `"+typeof n+"` type.");return n}function H(e,t,n,r,o){W(function(e,t,n,r,o){for(var a=null,i=0;i<f.length;i++){var l=f[i];if(l){var u=l.extractEvents(e,t,n,r,o);u&&(a=M(a,u))}}return a}(e,t,n,r,o))}var V=0,$=1,q=2,Y=3,Q=4,K=5,X=6,G=7,J=8,Z=9,ee=10,te=11,ne=12,re=13,oe=14,ae=15,ie=16,le=17,ue=18,se=19,ce=20,de=21,fe=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;fe.hasOwnProperty("ReactCurrentDispatcher")||(fe.ReactCurrentDispatcher={current:null}),fe.hasOwnProperty("ReactCurrentBatchConfig")||(fe.ReactCurrentBatchConfig={suspense:null});var pe=/^(.*)[\\\/]/,me=function(e,t,n){var r="";if(t){var o=t.fileName,a=o.replace(pe,"");if(/^index\./.test(a)){var i=o.match(pe);if(i){var l=i[1];if(l)a=l.replace(pe,"")+"/"+a}}r=" (at "+a+":"+t.lineNumber+")"}else n&&(r=" (created by "+n+")");return"\n    in "+(e||"Unknown")+r},he="function"==typeof Symbol&&Symbol.for,ve=he?Symbol.for("react.element"):60103,ye=he?Symbol.for("react.portal"):60106,ge=he?Symbol.for("react.fragment"):60107,be=he?Symbol.for("react.strict_mode"):60108,we=he?Symbol.for("react.profiler"):60114,ke=he?Symbol.for("react.provider"):60109,xe=he?Symbol.for("react.context"):60110,Te=he?Symbol.for("react.concurrent_mode"):60111,Se=he?Symbol.for("react.forward_ref"):60112,Ee=he?Symbol.for("react.suspense"):60113,_e=he?Symbol.for("react.suspense_list"):60120,Ce=he?Symbol.for("react.memo"):60115,Pe=he?Symbol.for("react.lazy"):60116,Re=he?Symbol.for("react.fundamental"):60117,je=he?Symbol.for("react.responder"):60118,Ie=he?Symbol.for("react.scope"):60119,De="function"==typeof Symbol&&Symbol.iterator,Ne="@@iterator";function Oe(e){if(null===e||"object"!=typeof e)return null;var t=De&&e[De]||e[Ne];return"function"==typeof t?t:null}var Me=function(e,t){if(!e){for(var n=fe.ReactDebugCurrentFrame,r=n.getStackAddendum(),o=arguments.length,a=new Array(o>2?o-2:0),i=2;i<o;i++)a[i-2]=arguments[i];j.apply(void 0,[!1,t+"%s"].concat(a,[r]))}},ze=-1,Ue=0,Ae=1,Le=2;function We(e){return e._status===Ae?e._result:null}function Fe(e){if(null==e)return null;if("number"==typeof e.tag&&j(!1,"Received an unexpected object in getComponentName(). This is likely a bug in React. Please file an issue."),"function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case ge:return"Fragment";case ye:return"Portal";case we:return"Profiler";case be:return"StrictMode";case Ee:return"Suspense";case _e:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case xe:return"Context.Consumer";case ke:return"Context.Provider";case Se:return n=e,r=e.render,o="ForwardRef",a=r.displayName||r.name||"",n.displayName||(""!==a?o+"("+a+")":o);case Ce:return Fe(e.type);case Pe:var t=We(e);if(t)return Fe(t)}var n,r,o,a;return null}var Be=fe.ReactDebugCurrentFrame;function He(e){switch(e.tag){case Y:case Q:case X:case G:case ee:case Z:return"";default:var t=e._debugOwner,n=e._debugSource,r=Fe(e.type),o=null;return t&&(o=Fe(t.type)),me(r,n,o)}}function Ve(e){var t="",n=e;do{t+=He(n),n=n.return}while(n);return t}var $e=null,qe=null;function Ye(){if(null===$e)return null;var e=$e._debugOwner;return null!=e?Fe(e.type):null}function Qe(){return null===$e?"":Ve($e)}function Ke(){Be.getCurrentStack=null,$e=null,qe=null}function Xe(e){Be.getCurrentStack=Qe,$e=e,qe=null}function Ge(e){qe=e}var Je=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement);function Ze(e,t){var n=e.length;return e.substring(n-t.length,n)===t}var et=1,tt=2,nt=4,rt=8,ot=16,at=32,it=null,lt=null,ut=null;function st(e){var t=D(e);if(t){if("function"!=typeof it)throw Error("setRestoreImplementation() needs to be called to handle a target for controlled events. This error is likely caused by a bug in React. Please file an issue.");var n=I(t.stateNode);it(t.stateNode,t.type,n)}}function ct(e){lt?ut?ut.push(e):ut=[e]:lt=e}function dt(){if(lt){var e=lt,t=ut;if(lt=null,ut=null,st(e),t)for(var n=0;n<t.length;n++)st(t[n])}}var ft=!0,pt=!0,mt=!0,ht=!0,vt=!0,yt=!1,gt=!1,bt=!1,wt=!1,kt=!1,xt=!1,Tt=!1,St=!1,Et=!1,_t=!0,Ct=!1,Pt=!1,Rt=!1,jt=!1,It=!1,Dt=!1,Nt=function(e,t){return e(t)},Ot=function(e,t,n,r){return e(t,n,r)},Mt=function(){},zt=Nt,Ut=!1,At=!1;function Lt(){(null!==lt||null!==ut)&&(Mt(),dt())}function Wt(e,t,n){if(At)return e(t,n);At=!0;try{return zt(e,t,n)}finally{At=!1,Lt()}}function Ft(e,t){var n=Ut;try{Ut=!0,_("object"==typeof t&&null!==t?t.type:"",e,void 0,t)}finally{Ut=n}}function Bt(e,t,n,r){var o=Ut;Ut=!0;try{return Ot(e,t,n,r)}finally{(Ut=o)||Lt()}}var Ht=0;function Vt(e){Ut||xt&&0!==e&&Ht===e||(Ht=e,Mt())}var $t,qt=0,Yt=1,Qt=2,Kt=o.unstable_UserBlockingPriority,Xt=o.unstable_runWithPriority;var Gt=new Map,Jt=0,Zt=1,en=0,tn=null,nn=null,rn=Jt,on={dispatchEvent:function(e,t,n){switch(un(),function(e){if("object"==typeof e&&null!==e){var t=e.target,n=e.type,r=e.timeStamp;if(null==t||null==n||null==r)throw new Error('context.dispatchEvent: "target", "timeStamp", and "type" fields on event object are required.');var o=function(e){Me(!1,'%s is not available on event objects created from event responder modules (React Flare). Try wrapping in a conditional, i.e. `if (event.type !== "press") { event.%s }`',e,e)};e.isDefaultPrevented=function(){o("isDefaultPrevented()")},e.isPropagationStopped=function(){o("isPropagationStopped()")},Object.defineProperty(e,"nativeEvent",{get:function(){o("nativeEvent")}})}}(e),n){case qt:Vt(en),Bt((function(){return Ft(t,e)}));break;case Yt:Xt(Kt,(function(){return Ft(t,e)}));break;case Qt:Ft(t,e)}},isTargetWithinResponder:function(e){if(un(),null!=e)for(var t=$s(e),n=tn.fiber;null!==t;){if(t===n||t.alternate===n)return!0;t=t.return}return!1},isTargetWithinResponderScope:function(e){un();var t=tn.responder;if(null!=e)for(var n=$s(e),r=tn.fiber;null!==n;){if(n===r||n.alternate===r)return!0;if(an(n,t))return!1;n=n.return}return!1},isTargetWithinNode:function(e,t){un();var n=$s(e),r=$s(t);if(null!=n&&null!=r){for(var o=r.alternate,a=n;null!==a;){if(a===r||a===o)return!0;a=a.return}return!1}return t.contains(e)},addRootEventTypes:function(e){un(),$t(e,nn);for(var t=0;t<e.length;t++){cn(e[t],tn)}},removeRootEventTypes:function(e){un();for(var t=0;t<e.length;t++){var n=e[t],r=Gt.get(n),o=tn.rootEventTypes;null!==o&&o.delete(n),void 0!==r&&r.delete(tn)}},getActiveDocument:function(){return nn},objectAssign:r,getTimeStamp:function(){return un(),en},isTargetWithinHostComponent:function(e,t){un();for(var n=$s(e);null!==n;){if(n.tag===K&&n.type===t)return!0;n=n.return}return!1},continuePropagation:function(){rn=Zt},enqueueStateRestore:ct,getResponderNode:function(){un();var e=tn.fiber;return e.tag===de?null:e.stateNode}};function an(e,t){var n=e.tag;if(n===K||n===de){var r=e.dependencies;if(null!==r){var o=r.responders;if(null!==o&&o.has(t))return!0}}return!1}function ln(e,t){var n=t.targetEventTypes;return null!==n&&function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return!0;return!1}(n,e)}function un(){if(null===tn)throw Error("An event responder context was used outside of an event cycle.")}function sn(e,t,n,r,o){if(xt){var a=tn,i=en,l=nn,u=rn;rn=Jt,nn=9===r.nodeType?r:r.ownerDocument,en=n.timeStamp;try{Wt((function(){!function(e,t,n,r,o){for(var a=0!=(o&nt),i=0==(o&ot),l=a||!i?e:e+"_active",u=new Set,s=function(e,t,n,r,o){var a=t,i=a.buttons,l=a.pointerType,u="";return void 0!==l?u=l:void 0!==t.key?u="keyboard":void 0!==i?u="mouse":void 0!==t.changedTouches&&(u="touch"),{nativeEvent:t,passive:r,passiveSupported:o,pointerType:u,target:n,type:e}}(e,n,r,a,i),c=t,d=!1;null!==c;){var f=c,p=f.dependencies,m=f.tag;if(m===Q)d=!0;else if((m===K||m===de)&&null!==p){var h=p.responders;if(null!==h)for(var v=Array.from(h.values()),y=0,g=v.length;y<g;y++){var b=v[y],w=b.props,k=b.responder,x=b.state;if(!u.has(k)&&ln(l,k)&&(!d||k.targetPortalPropagation)){u.add(k);var T=k.onEvent;null!==T&&(tn=b,T(s,on,w,x),rn===Zt&&(u.delete(k),rn=Jt))}}}c=c.return}var S=Gt.get(l);if(void 0!==S)for(var E=Array.from(S),_=0;_<E.length;_++){var C=E[_],P=(w=C.props,k=C.responder,x=C.state,k.onRootEvent);null!==P&&(tn=C,P(s,on,w,x))}}(e,t,n,r,o)}))}finally{tn=a,en=i,nn=l,rn=u}}}function cn(e,t){var n=Gt.get(e);void 0===n&&(n=new Set,Gt.set(e,n));var r=t.rootEventTypes;if(null===r&&(r=t.rootEventTypes=new Set),r.has(e))throw Error('addRootEventTypes() found a duplicate root event type of "'+e+'". This might be because the event type exists in the event responder "rootEventTypes" array or because of a previous addRootEventTypes() using this root event type.');r.add(e),n.add(t)}var dn=0,fn=2,pn=3,mn=4,hn=5,vn=6,yn=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",gn=yn+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",bn="data-reactroot",wn=new RegExp("^["+yn+"]["+gn+"]*$"),kn=Object.prototype.hasOwnProperty,xn={},Tn={};function Sn(e){return!!kn.call(Tn,e)||!kn.call(xn,e)&&(wn.test(e)?(Tn[e]=!0,!0):(xn[e]=!0,Me(!1,"Invalid attribute name: `%s`",e),!1))}function En(e,t,n){return null!==t?t.type===dn:!n&&(e.length>2&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1]))}function _n(e,t,n,r){if(null!==n&&n.type===dn)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":if(r)return!1;if(null!==n)return!n.acceptsBooleans;var o=e.toLowerCase().slice(0,5);return"data-"!==o&&"aria-"!==o;default:return!1}}function Cn(e,t,n,r){if(null==t)return!0;if(_n(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case pn:return!t;case mn:return!1===t;case hn:return isNaN(t);case vn:return isNaN(t)||t<1}return!1}function Pn(e){return jn.hasOwnProperty(e)?jn[e]:null}function Rn(e,t,n,r,o,a){this.acceptsBooleans=t===fn||t===pn||t===mn,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a}var jn={};["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"].forEach((function(e){jn[e]=new Rn(e,dn,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0],n=e[1];jn[t]=new Rn(t,1,!1,n,null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){jn[e]=new Rn(e,fn,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){jn[e]=new Rn(e,fn,!1,e,null,!1)})),["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach((function(e){jn[e]=new Rn(e,pn,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){jn[e]=new Rn(e,pn,!0,e,null,!1)})),["capture","download"].forEach((function(e){jn[e]=new Rn(e,mn,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){jn[e]=new Rn(e,vn,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){jn[e]=new Rn(e,hn,!1,e.toLowerCase(),null,!1)}));var In=/[\-\:]([a-z])/g,Dn=function(e){return e[1].toUpperCase()};["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach((function(e){var t=e.replace(In,Dn);jn[t]=new Rn(t,1,!1,e,null,!1)})),["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach((function(e){var t=e.replace(In,Dn);jn[t]=new Rn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(In,Dn);jn[t]=new Rn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){jn[e]=new Rn(e,1,!1,e.toLowerCase(),null,!1)}));jn.xlinkHref=new Rn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){jn[e]=new Rn(e,1,!1,e.toLowerCase(),null,!0)}));var Nn=null;Nn=fe.ReactDebugCurrentFrame;var On=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*\:/i,Mn=!1;function zn(e){if(bt){if(On.test(e))throw Error("React has blocked a javascript: URL as a security precaution."+Nn.getStackAddendum())}else!Mn&&On.test(e)&&(Mn=!0,Me(!1,"A future version of React will block javascript: URLs as a security precaution. Use event handlers instead if you can. If you need to generate unsafe HTML try using dangerouslySetInnerHTML instead. React was passed %s.",JSON.stringify(e)))}function Un(e){return""+e}function An(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}var Ln=Un;function Wn(e,t,n){e.setAttribute(t,n)}function Fn(e,t,n,r){if(r.mustUseProperty)return e[r.propertyName];!bt&&r.sanitizeURL&&zn(""+n);var o=r.attributeName,a=null;if(r.type===mn){if(e.hasAttribute(o)){var i=e.getAttribute(o);return""===i||(Cn(t,n,r,!1)?i:i===""+n?n:i)}}else if(e.hasAttribute(o)){if(Cn(t,n,r,!1))return e.getAttribute(o);if(r.type===pn)return n;a=e.getAttribute(o)}return Cn(t,n,r,!1)?null===a?n:a:a===""+n?n:a}function Bn(e,t,n){if(Sn(t)){if(!e.hasAttribute(t))return void 0===n?void 0:null;var r=e.getAttribute(t);return r===""+n?n:r}}function Hn(e,t,n,r){var o=Pn(t);if(!En(t,o,r))if(Cn(t,n,o,r)&&(n=null),r||null===o){if(Sn(t)){var a=t;null===n?e.removeAttribute(a):Wn(e,a,Ln(n))}}else if(o.mustUseProperty){var i=o.propertyName;if(null===n){var l=o.type;e[i]=l!==pn&&""}else e[i]=n}else{var u=o.attributeName,s=o.attributeNamespace;if(null===n)e.removeAttribute(u);else{var c,d=o.type;d===pn||d===mn&&!0===n?c="":(c=Ln(n),o.sanitizeURL&&zn(c.toString())),s?function(e,t,n,r){e.setAttributeNS(t,n,r)}(e,s,u,c):Wn(e,u,c)}}}Dt&&"undefined"!=typeof trustedTypes&&(Ln=function(e){return"object"==typeof e&&(trustedTypes.isHTML(e)||trustedTypes.isScript(e)||trustedTypes.isScriptURL(e)||trustedTypes.isURL&&trustedTypes.isURL(e))?e:Un(e)});var Vn,$n={checkPropTypes:null};Vn=fe.ReactDebugCurrentFrame;var qn={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},Yn={value:function(e,t,n){return qn[e.type]||e.onChange||e.readOnly||e.disabled||null==e[t]||xt&&e.listeners?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,t,n){return e.onChange||e.readOnly||e.disabled||null==e[t]||xt&&e.listeners?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")}};function Qn(e){var t=e.type,n=e.nodeName;return n&&"input"===n.toLowerCase()&&("checkbox"===t||"radio"===t)}function Kn(e){return e._valueTracker}function Xn(e){Kn(e)||(e._valueTracker=function(e){var t=Qn(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var o=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){!function(e){e._valueTracker=null}(e),delete e[t]}}}}(e))}function Gn(e){if(!e)return!1;var t=Kn(e);if(!t)return!0;var n=t.getValue(),r=function(e){var t="";return e?t=Qn(e)?e.checked?"true":"false":e.value:t}(e);return r!==n&&(t.setValue(r),!0)}$n.checkPropTypes=function(e,t){a(Yn,t,"prop",e,Vn.getStackAddendum)};var Jn=!1,Zn=!1,er=!1,tr=!1;function nr(e){return"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}function rr(e,t){var n=e,o=t.checked;return r({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=o?o:n._wrapperState.initialChecked})}function or(e,t){$n.checkPropTypes("input",t),void 0===t.checked||void 0===t.defaultChecked||Zn||(Me(!1,"%s contains an input of type %s with both checked and defaultChecked props. Input elements must be either controlled or uncontrolled (specify either the checked prop, or the defaultChecked prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://fb.me/react-controlled-components",Ye()||"A component",t.type),Zn=!0),void 0===t.value||void 0===t.defaultValue||Jn||(Me(!1,"%s contains an input of type %s with both value and defaultValue props. Input elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://fb.me/react-controlled-components",Ye()||"A component",t.type),Jn=!0);var n=e,r=null==t.defaultValue?"":t.defaultValue;n._wrapperState={initialChecked:null!=t.checked?t.checked:t.defaultChecked,initialValue:An(null!=t.value?t.value:r),controlled:nr(t)}}function ar(e,t){var n=e,r=t.checked;null!=r&&Hn(n,"checked",r,!1)}function ir(e,t){var n=e,r=nr(t);n._wrapperState.controlled||!r||tr||(Me(!1,"A component is changing an uncontrolled input of type %s to be controlled. Input elements should not switch from uncontrolled to controlled (or vice versa). Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://fb.me/react-controlled-components",t.type),tr=!0),!n._wrapperState.controlled||r||er||(Me(!1,"A component is changing a controlled input of type %s to be uncontrolled. Input elements should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://fb.me/react-controlled-components",t.type),er=!0),ar(e,t);var o=An(t.value),a=t.type;if(null!=o)"number"===a?(0===o&&""===n.value||n.value!=o)&&(n.value=Un(o)):n.value!==Un(o)&&(n.value=Un(o));else if("submit"===a||"reset"===a)return void n.removeAttribute("value");wt?t.hasOwnProperty("defaultValue")&&sr(n,t.type,An(t.defaultValue)):t.hasOwnProperty("value")?sr(n,t.type,o):t.hasOwnProperty("defaultValue")&&sr(n,t.type,An(t.defaultValue)),wt?null==t.defaultChecked?n.removeAttribute("checked"):n.defaultChecked=!!t.defaultChecked:null==t.checked&&null!=t.defaultChecked&&(n.defaultChecked=!!t.defaultChecked)}function lr(e,t,n){var r=e;if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type,a="submit"===o||"reset"===o;if(a&&(void 0===t.value||null===t.value))return;var i=Un(r._wrapperState.initialValue);if(!n)if(wt){var l=An(t.value);null!=l&&(a||l!==r.value)&&(r.value=Un(l))}else i!==r.value&&(r.value=i);if(wt){var u=An(t.defaultValue);null!=u&&(r.defaultValue=Un(u))}else r.defaultValue=i}var s=r.name;""!==s&&(r.name=""),wt?(n||ar(e,t),t.hasOwnProperty("defaultChecked")&&(r.defaultChecked=!r.defaultChecked,r.defaultChecked=!!t.defaultChecked)):(r.defaultChecked=!r.defaultChecked,r.defaultChecked=!!r._wrapperState.initialChecked),""!==s&&(r.name=s)}function ur(e,t){var n=e;ir(n,t),function(e,t){var n=t.name;if("radio"===t.type&&null!=n){for(var r=e;r.parentNode;)r=r.parentNode;for(var o=r.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),a=0;a<o.length;a++){var i=o[a];if(i!==e&&i.form===e.form){var l=Qs(i);if(!l)throw Error("ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported.");Gn(i),ir(i,l)}}}}(n,t)}function sr(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=Un(e._wrapperState.initialValue):e.defaultValue!==Un(n)&&(e.defaultValue=Un(n)))}var cr,dr=!1,fr=!1;function pr(e,n){"object"==typeof n.children&&null!==n.children&&t.Children.forEach(n.children,(function(e){null!=e&&"string"!=typeof e&&"number"!=typeof e&&"string"==typeof e.type&&(fr||(fr=!0,Me(!1,"Only strings and numbers are supported as <option> children.")))})),null==n.selected||dr||(Me(!1,"Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>."),dr=!0)}function mr(e,n){var o=r({children:void 0},n),a=function(e){var n="";return t.Children.forEach(e,(function(e){null!=e&&(n+=e)})),n}(n.children);return a&&(o.children=a),o}function hr(){var e=Ye();return e?"\n\nCheck the render method of `"+e+"`.":""}cr=!1;var vr=["value","defaultValue"];function yr(e,t,n,r){var o=e.options;if(t){for(var a=n,i={},l=0;l<a.length;l++)i["$"+a[l]]=!0;for(var u=0;u<o.length;u++){var s=i.hasOwnProperty("$"+o[u].value);o[u].selected!==s&&(o[u].selected=s),s&&r&&(o[u].defaultSelected=!0)}}else{for(var c=Un(An(n)),d=null,f=0;f<o.length;f++){if(o[f].value===c)return o[f].selected=!0,void(r&&(o[f].defaultSelected=!0));null!==d||o[f].disabled||(d=o[f])}null!==d&&(d.selected=!0)}}function gr(e,t){return r({},t,{value:void 0})}function br(e,t){var n=e;!function(e){$n.checkPropTypes("select",e);for(var t=0;t<vr.length;t++){var n=vr[t];if(null!=e[n]){var r=Array.isArray(e[n]);e.multiple&&!r?Me(!1,"The `%s` prop supplied to <select> must be an array if `multiple` is true.%s",n,hr()):!e.multiple&&r&&Me(!1,"The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.%s",n,hr())}}}(t),n._wrapperState={wasMultiple:!!t.multiple},void 0===t.value||void 0===t.defaultValue||cr||(Me(!1,"Select elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled select element and remove one of these props. More info: https://fb.me/react-controlled-components"),cr=!0)}var wr=!1;function kr(e,t){var n=e;if(null!=t.dangerouslySetInnerHTML)throw Error("`dangerouslySetInnerHTML` does not make sense on <textarea>.");return r({},t,{value:void 0,defaultValue:void 0,children:Un(n._wrapperState.initialValue)})}function xr(e,t){var n=e;$n.checkPropTypes("textarea",t),void 0===t.value||void 0===t.defaultValue||wr||(Me(!1,"%s contains a textarea with both value and defaultValue props. Textarea elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled textarea and remove one of these props. More info: https://fb.me/react-controlled-components",Ye()||"A component"),wr=!0);var r=t.value;if(null==r){var o=t.defaultValue,a=t.children;if(null!=a){if(Me(!1,"Use the `defaultValue` or `value` props instead of setting children on <textarea>."),null!=o)throw Error("If you supply `defaultValue` on a <textarea>, do not pass children.");if(Array.isArray(a)){if(!(a.length<=1))throw Error("<textarea> can only have at most one child.");a=a[0]}o=a}null==o&&(o=""),r=o}n._wrapperState={initialValue:An(r)}}function Tr(e,t){var n=e,r=An(t.value),o=An(t.defaultValue);if(null!=r){var a=Un(r);a!==n.value&&(n.value=a),null==t.defaultValue&&n.defaultValue!==a&&(n.defaultValue=a)}null!=o&&(n.defaultValue=Un(o))}function Sr(e,t){var n=e,r=n.textContent;r===n._wrapperState.initialValue&&""!==r&&null!==r&&(n.value=r)}var Er="http://www.w3.org/1999/xhtml",_r="http://www.w3.org/1998/Math/MathML",Cr="http://www.w3.org/2000/svg",Pr={html:Er,mathml:_r,svg:Cr};function Rr(e){switch(e){case"svg":return Cr;case"math":return _r;default:return Er}}function jr(e,t){return null==e||e===Er?Rr(t):e===Cr&&"foreignObject"===t?Er:e}var Ir,Dr,Nr=(Dr=function(e,t){if(e.namespaceURI!==Pr.svg||(Dt&&"undefined"!=typeof trustedTypes&&Me(!1,"Using 'dangerouslySetInnerHTML' in an svg element with Trusted Types enabled in an Internet Explorer will cause the trusted value to be converted to string. Assigning string to 'innerHTML' will throw an error if Trusted Types are enforced. You can try to wrap your svg element inside a div and use 'dangerouslySetInnerHTML' on the enclosing div instead."),"innerHTML"in e))e.innerHTML=t;else{(Ir=Ir||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>";for(var n=Ir.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return Dr(e,t,n,r)}))}:Dr),Or=1,Mr=3,zr=8,Ur=9,Ar=11,Lr=function(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===Mr)return void(n.nodeValue=t)}e.textContent=t};function Wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Fr={animationend:Wr("Animation","AnimationEnd"),animationiteration:Wr("Animation","AnimationIteration"),animationstart:Wr("Animation","AnimationStart"),transitionend:Wr("Transition","TransitionEnd")},Br={},Hr={};function Vr(e){if(Br[e])return Br[e];if(!Fr[e])return e;var t=Fr[e];for(var n in t)if(t.hasOwnProperty(n)&&n in Hr)return Br[e]=t[n];return e}Je&&(Hr=document.createElement("div").style,"AnimationEvent"in window||(delete Fr.animationend.animation,delete Fr.animationiteration.animation,delete Fr.animationstart.animation),"TransitionEvent"in window||delete Fr.transitionend.transition);var $r=Vr("animationend"),qr=Vr("animationiteration"),Yr=Vr("animationstart"),Qr="blur",Kr="cancel",Xr="change",Gr="click",Jr="close",Zr="compositionend",eo="compositionstart",to="compositionupdate",no="dragenter",ro="dragleave",oo="error",ao="focus",io="gotpointercapture",lo="input",uo="invalid",so="keydown",co="keypress",fo="keyup",po="load",mo="lostpointercapture",ho="mousedown",vo="mouseout",yo="mouseover",go="paste",bo="pointerout",wo="pointerover",ko="reset",xo="scroll",To="selectionchange",So="submit",Eo="textInput",_o="toggle",Co=Vr("transitionend"),Po=["abort","canplay","canplaythrough","durationchange","emptied","encrypted","ended",oo,"loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"];function Ro(e){return e._reactInternalFiber}var jo,Io,Do,No,Oo=0,Mo=1,zo=2,Uo=4,Ao=6,Lo=8,Wo=16,Fo=32,Bo=64,Ho=128,Vo=256,$o=512,qo=1024,Yo=1028,Qo=932,Ko=2047,Xo=2048,Go=4096,Jo=fe.ReactCurrentOwner;function Zo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{var r=t;do{((t=r).effectTag&(zo|qo))!==Oo&&(n=t.return),r=t.return}while(r)}return t.tag===Y?n:null}function ea(e){if(e.tag===re){var t=e.memoizedState;if(null===t){var n=e.alternate;null!==n&&(t=n.memoizedState)}if(null!==t)return t.dehydrated}return null}function ta(e){return e.tag===Y?e.stateNode.containerInfo:null}function na(e){if(Zo(e)!==e)throw Error("Unable to find node on an unmounted component.")}function ra(e){var t=e.alternate;if(!t){var n=Zo(e);if(null===n)throw Error("Unable to find node on an unmounted component.");return n!==e?null:e}for(var r=e,o=t;;){var a=r.return;if(null===a)break;var i=a.alternate;if(null===i){var l=a.return;if(null!==l){r=o=l;continue}break}if(a.child===i.child){for(var u=a.child;u;){if(u===r)return na(a),e;if(u===o)return na(a),t;u=u.sibling}throw Error("Unable to find node on an unmounted component.")}if(r.return!==o.return)r=a,o=i;else{for(var s=!1,c=a.child;c;){if(c===r){s=!0,r=a,o=i;break}if(c===o){s=!0,o=a,r=i;break}c=c.sibling}if(!s){for(c=i.child;c;){if(c===r){s=!0,r=i,o=a;break}if(c===o){s=!0,o=i,r=a;break}c=c.sibling}if(!s)throw Error("Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.")}}if(r.alternate!==o)throw Error("Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.")}if(r.tag!==Y)throw Error("Unable to find node on an unmounted component.");return r.stateNode.current===r?e:t}function oa(e){var t=ra(e);if(!t)return null;for(var n=t;;){if(n.tag===K||n.tag===X)return n;if(n.child)n.child.return=n,n=n.child;else{if(n===t)return null;for(;!n.sibling;){if(!n.return||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}}return null}var aa=!1,ia=[],la=null,ua=null,sa=null,ca=new Map,da=new Map,fa=[];var pa=[ho,"mouseup","touchcancel","touchend","touchstart","auxclick","dblclick","pointercancel","pointerdown","pointerup","dragend","dragstart","drop",Zr,eo,so,co,fo,lo,Eo,Jr,Kr,"copy","cut",go,Gr,Xr,"contextmenu",ko,So],ma=[ao,Qr,no,ro,yo,vo,wo,bo,io,mo];function ha(e){return pa.indexOf(e)>-1}function va(e,t,n){if(Yi(e,t,n),xt){var r=e+"_passive";n.has(r)||(Ui(t,e,!0),n.add(r));var o=e+"_active";n.has(o)||(Ui(t,e,!1),n.add(o))}}function ya(e,t,n,r){return{blockedOn:e,topLevelType:t,eventSystemFlags:n|at,nativeEvent:r}}function ga(e,t,n,r){var o=ya(e,t,n,r);if(ia.push(o),gt&&1===ia.length)for(;null!==o.blockedOn;){var a=qs(o.blockedOn);if(null===a)break;if(jo(a),null!==o.blockedOn)break;Sa()}}function ba(e,t){switch(e){case ao:case Qr:la=null;break;case no:case ro:ua=null;break;case yo:case vo:sa=null;break;case wo:case bo:var n=t.pointerId;ca.delete(n);break;case io:case mo:var r=t.pointerId;da.delete(r)}}function wa(e,t,n,r,o){if(null===e||e.nativeEvent!==o){var a=ya(t,n,r,o);if(null!==t){var i=qs(t);null!==i&&Do(i)}return a}return e.eventSystemFlags|=r,e}function ka(e){var t=$s(e.target);if(null!==t){var n=Zo(t);if(null!==n){var r=n.tag;if(r===re){var a=ea(n);if(null!==a)return e.blockedOn=a,void o.unstable_runWithPriority(e.priority,(function(){No(n)}))}else if(r===Y){if(n.stateNode.hydrate)return void(e.blockedOn=ta(n))}}}e.blockedOn=null}function xa(e){if(null!==e.blockedOn)return!1;var t=Hi(e.topLevelType,e.eventSystemFlags,e.nativeEvent);if(null!==t){var n=qs(t);return null!==n&&Do(n),e.blockedOn=t,!1}return!0}function Ta(e,t,n){xa(e)&&n.delete(t)}function Sa(){for(aa=!1;ia.length>0;){var e=ia[0];if(null!==e.blockedOn){var t=qs(e.blockedOn);null!==t&&Io(t);break}var n=Hi(e.topLevelType,e.eventSystemFlags,e.nativeEvent);null!==n?e.blockedOn=n:ia.shift()}null!==la&&xa(la)&&(la=null),null!==ua&&xa(ua)&&(ua=null),null!==sa&&xa(sa)&&(sa=null),ca.forEach(Ta),da.forEach(Ta)}function Ea(e,t){e.blockedOn===t&&(e.blockedOn=null,aa||(aa=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Sa)))}function _a(e){if(ia.length>0){Ea(ia[0],e);for(var t=1;t<ia.length;t++){var n=ia[t];n.blockedOn===e&&(n.blockedOn=null)}}null!==la&&Ea(la,e),null!==ua&&Ea(ua,e),null!==sa&&Ea(sa,e);var r=function(t){return Ea(t,e)};ca.forEach(r),da.forEach(r);for(var o=0;o<fa.length;o++){var a=fa[o];a.blockedOn===e&&(a.blockedOn=null)}for(;fa.length>0;){var i=fa[0];if(null!==i.blockedOn)break;ka(i),null===i.blockedOn&&fa.shift()}}function Ca(e,t,n){e.addEventListener(t,n,!0)}function Pa(e){var t=e.target||e.srcElement||window;return t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===Mr?t.parentNode:t}function Ra(e){do{e=e.return}while(e&&e.tag!==K);return e||null}function ja(e,t,n,r,o){for(var a=e&&t?function(e,t){for(var n=0,r=e;r;r=Ra(r))n++;for(var o=0,a=t;a;a=Ra(a))o++;for(;n-o>0;)e=Ra(e),n--;for(;o-n>0;)t=Ra(t),o--;for(var i=n;i--;){if(e===t||e===t.alternate)return e;e=Ra(e),t=Ra(t)}return null}(e,t):null,i=[];e&&e!==a;){var l=e.alternate;if(null!==l&&l===a)break;i.push(e),e=Ra(e)}for(var u=[];t&&t!==a;){var s=t.alternate;if(null!==s&&s===a)break;u.push(t),t=Ra(t)}for(var c=0;c<i.length;c++)n(i[c],"bubbled",r);for(var d=u.length;d-- >0;)n(u[d],"captured",o)}function Ia(e,t,n){e||j(!1,"Dispatching inst must not be null");var r=function(e,t,n){return B(e,t.dispatchConfig.phasedRegistrationNames[n])}(e,n,t);r&&(n._dispatchListeners=M(n._dispatchListeners,r),n._dispatchInstances=M(n._dispatchInstances,e))}function Da(e){e&&e.dispatchConfig.phasedRegistrationNames&&function(e,t,n){for(var r,o=[];e;)o.push(e),e=Ra(e);for(r=o.length;r-- >0;)t(o[r],"captured",n);for(r=0;r<o.length;r++)t(o[r],"bubbled",n)}(e._targetInst,Ia,e)}function Na(e,t,n){if(e&&n&&n.dispatchConfig.registrationName){var r=B(e,n.dispatchConfig.registrationName);r&&(n._dispatchListeners=M(n._dispatchListeners,r),n._dispatchInstances=M(n._dispatchInstances,e))}}function Oa(e){e&&e.dispatchConfig.registrationName&&Na(e._targetInst,0,e)}function Ma(e){z(e,Da)}var za=10,Ua={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};function Aa(){return!0}function La(){return!1}function Wa(e,t,n,r){delete this.nativeEvent,delete this.preventDefault,delete this.stopPropagation,delete this.isDefaultPrevented,delete this.isPropagationStopped,this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n;var o=this.constructor.Interface;for(var a in o)if(o.hasOwnProperty(a)){delete this[a];var i=o[a];i?this[a]=i(n):"target"===a?this.target=r:this[a]=n[a]}var l=null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue;return this.isDefaultPrevented=l?Aa:La,this.isPropagationStopped=La,this}function Fa(e,t){var n="function"==typeof t;return{configurable:!0,set:function(e){return r(n?"setting the method":"setting the property","This is effectively a no-op"),e},get:function(){return r(n?"accessing the method":"accessing the property",n?"This is a no-op function":"This is set to null"),t}};function r(t,n){j(!1,"This synthetic event is reused for performance reasons. If you're seeing this, you're %s `%s` on a released/nullified synthetic event. %s. If you must keep the original synthetic event around, use event.persist(). See https://fb.me/react-event-pooling for more information.",t,e,n)}}function Ba(e,t,n,r){if(this.eventPool.length){var o=this.eventPool.pop();return this.call(o,e,t,n,r),o}return new this(e,t,n,r)}function Ha(e){if(!(e instanceof this))throw Error("Trying to release an event instance into a pool of a different type.");e.destructor(),this.eventPool.length<za&&this.eventPool.push(e)}function Va(e){e.eventPool=[],e.getPooled=Ba,e.release=Ha}r(Wa.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Aa)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Aa)},persist:function(){this.isPersistent=Aa},isPersistent:La,destructor:function(){var e=this.constructor.Interface;for(var t in e)Object.defineProperty(this,t,Fa(t,e[t]));this.dispatchConfig=null,this._targetInst=null,this.nativeEvent=null,this.isDefaultPrevented=La,this.isPropagationStopped=La,this._dispatchListeners=null,this._dispatchInstances=null,Object.defineProperty(this,"nativeEvent",Fa("nativeEvent",null)),Object.defineProperty(this,"isDefaultPrevented",Fa("isDefaultPrevented",La)),Object.defineProperty(this,"isPropagationStopped",Fa("isPropagationStopped",La)),Object.defineProperty(this,"preventDefault",Fa("preventDefault",(function(){}))),Object.defineProperty(this,"stopPropagation",Fa("stopPropagation",(function(){})))}}),Wa.Interface=Ua,Wa.extend=function(e){var t=this,n=function(){};n.prototype=t.prototype;var o=new n;function a(){return t.apply(this,arguments)}return r(o,a.prototype),a.prototype=o,a.prototype.constructor=a,a.Interface=r({},t.Interface,e),a.extend=t.extend,Va(a),a},Va(Wa);var $a=Wa.extend({animationName:null,elapsedTime:null,pseudoElement:null}),qa=Wa.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ya=Wa.extend({view:null,detail:null}),Qa=Ya.extend({relatedTarget:null});function Ka(e){var t,n=e.keyCode;return"charCode"in e?0===(t=e.charCode)&&13===n&&(t=13):t=n,10===t&&(t=13),t>=32||13===t?t:0}var Xa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ga={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};var Ja={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Za(e){var t=this.nativeEvent;if(t.getModifierState)return t.getModifierState(e);var n=Ja[e];return!!n&&!!t[n]}function ei(e){return Za}for(var ti=Ya.extend({key:function(e){if(e.key){var t=Xa[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var n=Ka(e);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===e.type||"keyup"===e.type?Ga[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:ei,charCode:function(e){return"keypress"===e.type?Ka(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Ka(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),ni=0,ri=0,oi=!1,ai=!1,ii=Ya.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:ei,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=ni;return ni=e.screenX,oi?"mousemove"===e.type?e.screenX-t:0:(oi=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=ri;return ri=e.screenY,ai?"mousemove"===e.type?e.screenY-t:0:(ai=!0,0)}}),li=ii.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),ui=ii.extend({dataTransfer:null}),si=Ya.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:ei}),ci=Wa.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),di=ii.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),fi=[[Qr,"blur",qt],[Kr,"cancel",qt],[Gr,"click",qt],[Jr,"close",qt],["contextmenu","contextMenu",qt],["copy","copy",qt],["cut","cut",qt],["auxclick","auxClick",qt],["dblclick","doubleClick",qt],["dragend","dragEnd",qt],["dragstart","dragStart",qt],["drop","drop",qt],[ao,"focus",qt],[lo,"input",qt],[uo,"invalid",qt],[so,"keyDown",qt],[co,"keyPress",qt],[fo,"keyUp",qt],[ho,"mouseDown",qt],["mouseup","mouseUp",qt],[go,"paste",qt],["pause","pause",qt],["play","play",qt],["pointercancel","pointerCancel",qt],["pointerdown","pointerDown",qt],["pointerup","pointerUp",qt],["ratechange","rateChange",qt],[ko,"reset",qt],["seeked","seeked",qt],[So,"submit",qt],["touchcancel","touchCancel",qt],["touchend","touchEnd",qt],["touchstart","touchStart",qt],["volumechange","volumeChange",qt],["drag","drag",Yt],[no,"dragEnter",Yt],["dragexit","dragExit",Yt],[ro,"dragLeave",Yt],["dragover","dragOver",Yt],["mousemove","mouseMove",Yt],[vo,"mouseOut",Yt],[yo,"mouseOver",Yt],["pointermove","pointerMove",Yt],[bo,"pointerOut",Yt],[wo,"pointerOver",Yt],[xo,"scroll",Yt],[_o,"toggle",Yt],["touchmove","touchMove",Yt],["wheel","wheel",Yt],["abort","abort",Qt],[$r,"animationEnd",Qt],[qr,"animationIteration",Qt],[Yr,"animationStart",Qt],["canplay","canPlay",Qt],["canplaythrough","canPlayThrough",Qt],["durationchange","durationChange",Qt],["emptied","emptied",Qt],["encrypted","encrypted",Qt],["ended","ended",Qt],[oo,"error",Qt],[io,"gotPointerCapture",Qt],[po,"load",Qt],["loadeddata","loadedData",Qt],["loadedmetadata","loadedMetadata",Qt],["loadstart","loadStart",Qt],[mo,"lostPointerCapture",Qt],["playing","playing",Qt],["progress","progress",Qt],["seeking","seeking",Qt],["stalled","stalled",Qt],["suspend","suspend",Qt],["timeupdate","timeUpdate",Qt],[Co,"transitionEnd",Qt],["waiting","waiting",Qt]],pi={},mi={},hi=0;hi<fi.length;hi++){var vi=fi[hi],yi=vi[0],gi=vi[1],bi=vi[2],wi="on"+(gi[0].toUpperCase()+gi.slice(1)),ki={phasedRegistrationNames:{bubbled:wi,captured:wi+"Capture"},dependencies:[yi],eventPriority:bi};pi[gi]=ki,mi[yi]=ki}var xi=["abort",Kr,"canplay","canplaythrough",Jr,"durationchange","emptied","encrypted","ended",oo,lo,uo,po,"loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange",ko,"seeked","seeking","stalled",So,"suspend","timeupdate",_o,"volumechange","waiting"],Ti={eventTypes:pi,getEventPriority:function(e){var t=mi[e];return void 0!==t?t.eventPriority:Qt},extractEvents:function(e,t,n,r,o){var a,i=mi[e];if(!i)return null;switch(e){case co:if(0===Ka(n))return null;case so:case fo:a=ti;break;case Qr:case ao:a=Qa;break;case Gr:if(2===n.button)return null;case"auxclick":case"dblclick":case ho:case"mousemove":case"mouseup":case vo:case yo:case"contextmenu":a=ii;break;case"drag":case"dragend":case no:case"dragexit":case ro:case"dragover":case"dragstart":case"drop":a=ui;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":a=si;break;case $r:case qr:case Yr:a=$a;break;case Co:a=ci;break;case xo:a=Ya;break;case"wheel":a=di;break;case"copy":case"cut":case go:a=qa;break;case io:case mo:case"pointercancel":case"pointerdown":case"pointermove":case bo:case wo:case"pointerup":a=li;break;default:-1===xi.indexOf(e)&&j(!1,"SimpleEventPlugin: Unhandled event type, `%s`. This warning is likely caused by a bug in React. Please file an issue.",e),a=Wa}var l=a.getPooled(i,t,n,r);return Ma(l),l}},Si=!1;if(xt&&Je)try{var Ei={};Object.defineProperty(Ei,"passive",{get:function(){Si=!0}}),window.addEventListener("test",Ei,Ei),window.removeEventListener("test",Ei,Ei)}catch(e){Si=!1}var _i=o.unstable_UserBlockingPriority,Ci=o.unstable_runWithPriority,Pi=Ti.getEventPriority,Ri=10,ji=[];function Ii(e){if(e.tag===Y)return e.stateNode.containerInfo;for(;e.return;)e=e.return;return e.tag!==Y?null:e.stateNode.containerInfo}function Di(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=Ii(n);if(!r)break;var o=n.tag;o!==K&&o!==X||e.ancestors.push(n),n=$s(r)}while(n);for(var a=0;a<e.ancestors.length;a++){t=e.ancestors[a];var i=Pa(e.nativeEvent);H(e.topLevelType,t,e.nativeEvent,i,e.eventSystemFlags)}}var Ni=!0;function Oi(e){Ni=!!e}function Mi(e,t){Ai(t,e,!1)}function zi(e,t){Ai(t,e,!0)}function Ui(e,t,n){if(xt){var r=t,o=tt;n?Si?o|=nt:(o|=rt,o|=ot,n=!1):o|=rt;var a=Bi.bind(null,t,o);Si?function(e,t,n,r){e.addEventListener(t,n,{capture:!0,passive:r})}(e,r,a,n):Ca(e,r,a)}}function Ai(e,t,n){var r;switch(Pi(t)){case qt:r=Li.bind(null,t,et);break;case Yt:r=Wi.bind(null,t,et);break;case Qt:default:r=Bi.bind(null,t,et)}var o=t;n?Ca(e,o,r):function(e,t,n){e.addEventListener(t,n,!1)}(e,o,r)}function Li(e,t,n){Vt(n.timeStamp),Bt(Bi,e,t,n)}function Wi(e,t,n){Ci(_i,Bi.bind(null,e,t,n))}function Fi(e,t,n,r){var o,a=function(e,t,n,r){if(ji.length){var o=ji.pop();return o.topLevelType=e,o.eventSystemFlags=r,o.nativeEvent=t,o.targetInst=n,o}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}(e,n,r,t);try{Wt(Di,a)}finally{(o=a).topLevelType=null,o.nativeEvent=null,o.targetInst=null,o.ancestors.length=0,ji.length<Ri&&ji.push(o)}}function Bi(e,t,n){if(Ni)if(ia.length>0&&ha(e))ga(null,e,t,n);else{var r=Hi(e,t,n);null!==r?ha(e)?ga(r,e,t,n):function(e,t,n,r){switch(t){case ao:return la=wa(la,e,t,n,r),!0;case no:return ua=wa(ua,e,t,n,r),!0;case yo:return sa=wa(sa,e,t,n,r),!0;case wo:var o=r,a=o.pointerId;return ca.set(a,wa(ca.get(a)||null,e,t,n,o)),!0;case io:var i=r,l=i.pointerId;return da.set(l,wa(da.get(l)||null,e,t,n,i)),!0}return!1}(r,e,t,n)||(ba(e,n),xt?(t&et&&Fi(e,t,n,null),t&tt&&sn(e,null,n,Pa(n),t)):Fi(e,t,n,null)):ba(e,n)}}function Hi(e,t,n){var r=Pa(n),o=$s(r);if(null!==o){var a=Zo(o);if(null===a)o=null;else{var i=a.tag;if(i===re){var l=ea(a);if(null!==l)return l;o=null}else if(i===Y){if(a.stateNode.hydrate)return ta(a);o=null}else a!==o&&(o=null)}}return xt?(t&et&&Fi(e,t,n,o),t&tt&&sn(e,o,n,r,t)):Fi(e,t,n,o),null}
/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function Vi(e){if(!Je)return!1;var t="on"+e,n=t in document;if(!n){var r=document.createElement("div");r.setAttribute(t,"return;"),n="function"==typeof r[t]}return n}var $i=new("function"==typeof WeakMap?WeakMap:Map);function qi(e){var t=$i.get(e);return void 0===t&&(t=new Set,$i.set(e,t)),t}function Yi(e,t,n){if(!n.has(e)){switch(e){case xo:zi(xo,t);break;case ao:case Qr:zi(ao,t),zi(Qr,t),n.add(Qr),n.add(ao);break;case Kr:case Jr:Vi(e)&&zi(e,t);break;case uo:case So:case ko:break;default:-1!==Po.indexOf(e)||Mi(e,t)}n.add(e)}}var Qi={animation:["animationDelay","animationDirection","animationDuration","animationFillMode","animationIterationCount","animationName","animationPlayState","animationTimingFunction"],background:["backgroundAttachment","backgroundClip","backgroundColor","backgroundImage","backgroundOrigin","backgroundPositionX","backgroundPositionY","backgroundRepeat","backgroundSize"],backgroundPosition:["backgroundPositionX","backgroundPositionY"],border:["borderBottomColor","borderBottomStyle","borderBottomWidth","borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth","borderLeftColor","borderLeftStyle","borderLeftWidth","borderRightColor","borderRightStyle","borderRightWidth","borderTopColor","borderTopStyle","borderTopWidth"],borderBlockEnd:["borderBlockEndColor","borderBlockEndStyle","borderBlockEndWidth"],borderBlockStart:["borderBlockStartColor","borderBlockStartStyle","borderBlockStartWidth"],borderBottom:["borderBottomColor","borderBottomStyle","borderBottomWidth"],borderColor:["borderBottomColor","borderLeftColor","borderRightColor","borderTopColor"],borderImage:["borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth"],borderInlineEnd:["borderInlineEndColor","borderInlineEndStyle","borderInlineEndWidth"],borderInlineStart:["borderInlineStartColor","borderInlineStartStyle","borderInlineStartWidth"],borderLeft:["borderLeftColor","borderLeftStyle","borderLeftWidth"],borderRadius:["borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius"],borderRight:["borderRightColor","borderRightStyle","borderRightWidth"],borderStyle:["borderBottomStyle","borderLeftStyle","borderRightStyle","borderTopStyle"],borderTop:["borderTopColor","borderTopStyle","borderTopWidth"],borderWidth:["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth"],columnRule:["columnRuleColor","columnRuleStyle","columnRuleWidth"],columns:["columnCount","columnWidth"],flex:["flexBasis","flexGrow","flexShrink"],flexFlow:["flexDirection","flexWrap"],font:["fontFamily","fontFeatureSettings","fontKerning","fontLanguageOverride","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontVariantAlternates","fontVariantCaps","fontVariantEastAsian","fontVariantLigatures","fontVariantNumeric","fontVariantPosition","fontWeight","lineHeight"],fontVariant:["fontVariantAlternates","fontVariantCaps","fontVariantEastAsian","fontVariantLigatures","fontVariantNumeric","fontVariantPosition"],gap:["columnGap","rowGap"],grid:["gridAutoColumns","gridAutoFlow","gridAutoRows","gridTemplateAreas","gridTemplateColumns","gridTemplateRows"],gridArea:["gridColumnEnd","gridColumnStart","gridRowEnd","gridRowStart"],gridColumn:["gridColumnEnd","gridColumnStart"],gridColumnGap:["columnGap"],gridGap:["columnGap","rowGap"],gridRow:["gridRowEnd","gridRowStart"],gridRowGap:["rowGap"],gridTemplate:["gridTemplateAreas","gridTemplateColumns","gridTemplateRows"],listStyle:["listStyleImage","listStylePosition","listStyleType"],margin:["marginBottom","marginLeft","marginRight","marginTop"],marker:["markerEnd","markerMid","markerStart"],mask:["maskClip","maskComposite","maskImage","maskMode","maskOrigin","maskPositionX","maskPositionY","maskRepeat","maskSize"],maskPosition:["maskPositionX","maskPositionY"],outline:["outlineColor","outlineStyle","outlineWidth"],overflow:["overflowX","overflowY"],padding:["paddingBottom","paddingLeft","paddingRight","paddingTop"],placeContent:["alignContent","justifyContent"],placeItems:["alignItems","justifyItems"],placeSelf:["alignSelf","justifySelf"],textDecoration:["textDecorationColor","textDecorationLine","textDecorationStyle"],textEmphasis:["textEmphasisColor","textEmphasisStyle"],transition:["transitionDelay","transitionDuration","transitionProperty","transitionTimingFunction"],wordWrap:["overflowWrap"]},Ki={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};var Xi=["Webkit","ms","Moz","O"];function Gi(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||Ki.hasOwnProperty(e)&&Ki[e]?(""+t).trim():t+"px"}Object.keys(Ki).forEach((function(e){Xi.forEach((function(t){Ki[function(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}(t,e)]=Ki[e]}))}));var Ji=/([A-Z])/g,Zi=/^ms-/;var el=/^(?:webkit|moz|o)[A-Z]/,tl=/^-ms-/,nl=/-(.)/g,rl=/;\s*$/,ol={},al={},il=!1,ll=!1,ul=function(e){ol.hasOwnProperty(e)&&ol[e]||(ol[e]=!0,Me(!1,"Unsupported style property %s. Did you mean %s?",e,e.replace(tl,"ms-").replace(nl,(function(e,t){return t.toUpperCase()}))))},sl=function(e,t){e.indexOf("-")>-1?ul(e):el.test(e)?function(e){ol.hasOwnProperty(e)&&ol[e]||(ol[e]=!0,Me(!1,"Unsupported vendor-prefixed style property %s. Did you mean %s?",e,e.charAt(0).toUpperCase()+e.slice(1)))}(e):rl.test(t)&&function(e,t){al.hasOwnProperty(t)&&al[t]||(al[t]=!0,Me(!1,'Style property values shouldn\'t contain a semicolon. Try "%s: %s" instead.',e,t.replace(rl,"")))}(e,t),"number"==typeof t&&(isNaN(t)?function(e,t){il||(il=!0,Me(!1,"`NaN` is an invalid value for the `%s` css style property.",e))}(e):isFinite(t)||function(e,t){ll||(ll=!0,Me(!1,"`Infinity` is an invalid value for the `%s` css style property.",e))}(e))};function cl(e){var t="",n="";for(var r in e)if(e.hasOwnProperty(r)){var o=e[r];if(null!=o){var a=0===r.indexOf("--");t+=n+(a?r:r.replace(Ji,"-$1").toLowerCase().replace(Zi,"-ms-"))+":",t+=Gi(r,o,a),n=";"}}return t||null}function dl(e,t){var n=e.style;for(var r in t)if(t.hasOwnProperty(r)){var o=0===r.indexOf("--");o||sl(r,t[r]);var a=Gi(r,t[r],o);"float"===r&&(r="cssFloat"),o?n.setProperty(r,a):n[r]=a}}function fl(e){var t={};for(var n in e)for(var r=Qi[n]||[n],o=0;o<r.length;o++)t[r[o]]=n;return t}var pl=r({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),ml="__html",hl=null;function vl(e,t){if(t){if(pl[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(e+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`."+hl.getStackAddendum());if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");if(!("object"==typeof t.dangerouslySetInnerHTML&&ml in t.dangerouslySetInnerHTML))throw Error("`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://fb.me/react-invariant-dangerously-set-inner-html for more information.")}if(!t.suppressContentEditableWarning&&t.contentEditable&&null!=t.children&&Me(!1,"A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional."),null!=t.style&&"object"!=typeof t.style)throw Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX."+hl.getStackAddendum())}}function yl(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}hl=fe.ReactDebugCurrentFrame;var gl={accept:"accept",acceptcharset:"acceptCharset","accept-charset":"acceptCharset",accesskey:"accessKey",action:"action",allowfullscreen:"allowFullScreen",alt:"alt",as:"as",async:"async",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",capture:"capture",cellpadding:"cellPadding",cellspacing:"cellSpacing",challenge:"challenge",charset:"charSet",checked:"checked",children:"children",cite:"cite",class:"className",classid:"classID",classname:"className",cols:"cols",colspan:"colSpan",content:"content",contenteditable:"contentEditable",contextmenu:"contextMenu",controls:"controls",controlslist:"controlsList",coords:"coords",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",data:"data",datetime:"dateTime",default:"default",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",defer:"defer",dir:"dir",disabled:"disabled",disablepictureinpicture:"disablePictureInPicture",download:"download",draggable:"draggable",enctype:"encType",for:"htmlFor",form:"form",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",headers:"headers",height:"height",hidden:"hidden",high:"high",href:"href",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",id:"id",innerhtml:"innerHTML",inputmode:"inputMode",integrity:"integrity",is:"is",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",kind:"kind",label:"label",lang:"lang",list:"list",loop:"loop",low:"low",manifest:"manifest",marginwidth:"marginWidth",marginheight:"marginHeight",max:"max",maxlength:"maxLength",media:"media",mediagroup:"mediaGroup",method:"method",min:"min",minlength:"minLength",multiple:"multiple",muted:"muted",name:"name",nomodule:"noModule",nonce:"nonce",novalidate:"noValidate",open:"open",optimum:"optimum",pattern:"pattern",placeholder:"placeholder",playsinline:"playsInline",poster:"poster",preload:"preload",profile:"profile",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rel:"rel",required:"required",reversed:"reversed",role:"role",rows:"rows",rowspan:"rowSpan",sandbox:"sandbox",scope:"scope",scoped:"scoped",scrolling:"scrolling",seamless:"seamless",selected:"selected",shape:"shape",size:"size",sizes:"sizes",span:"span",spellcheck:"spellCheck",src:"src",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",start:"start",step:"step",style:"style",summary:"summary",tabindex:"tabIndex",target:"target",title:"title",type:"type",usemap:"useMap",value:"value",width:"width",wmode:"wmode",wrap:"wrap",about:"about",accentheight:"accentHeight","accent-height":"accentHeight",accumulate:"accumulate",additive:"additive",alignmentbaseline:"alignmentBaseline","alignment-baseline":"alignmentBaseline",allowreorder:"allowReorder",alphabetic:"alphabetic",amplitude:"amplitude",arabicform:"arabicForm","arabic-form":"arabicForm",ascent:"ascent",attributename:"attributeName",attributetype:"attributeType",autoreverse:"autoReverse",azimuth:"azimuth",basefrequency:"baseFrequency",baselineshift:"baselineShift","baseline-shift":"baselineShift",baseprofile:"baseProfile",bbox:"bbox",begin:"begin",bias:"bias",by:"by",calcmode:"calcMode",capheight:"capHeight","cap-height":"capHeight",clip:"clip",clippath:"clipPath","clip-path":"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","clip-rule":"clipRule",color:"color",colorinterpolation:"colorInterpolation","color-interpolation":"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters","color-interpolation-filters":"colorInterpolationFilters",colorprofile:"colorProfile","color-profile":"colorProfile",colorrendering:"colorRendering","color-rendering":"colorRendering",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",cursor:"cursor",cx:"cx",cy:"cy",d:"d",datatype:"datatype",decelerate:"decelerate",descent:"descent",diffuseconstant:"diffuseConstant",direction:"direction",display:"display",divisor:"divisor",dominantbaseline:"dominantBaseline","dominant-baseline":"dominantBaseline",dur:"dur",dx:"dx",dy:"dy",edgemode:"edgeMode",elevation:"elevation",enablebackground:"enableBackground","enable-background":"enableBackground",end:"end",exponent:"exponent",externalresourcesrequired:"externalResourcesRequired",fill:"fill",fillopacity:"fillOpacity","fill-opacity":"fillOpacity",fillrule:"fillRule","fill-rule":"fillRule",filter:"filter",filterres:"filterRes",filterunits:"filterUnits",floodopacity:"floodOpacity","flood-opacity":"floodOpacity",floodcolor:"floodColor","flood-color":"floodColor",focusable:"focusable",fontfamily:"fontFamily","font-family":"fontFamily",fontsize:"fontSize","font-size":"fontSize",fontsizeadjust:"fontSizeAdjust","font-size-adjust":"fontSizeAdjust",fontstretch:"fontStretch","font-stretch":"fontStretch",fontstyle:"fontStyle","font-style":"fontStyle",fontvariant:"fontVariant","font-variant":"fontVariant",fontweight:"fontWeight","font-weight":"fontWeight",format:"format",from:"from",fx:"fx",fy:"fy",g1:"g1",g2:"g2",glyphname:"glyphName","glyph-name":"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal","glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical","glyph-orientation-vertical":"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",hanging:"hanging",horizadvx:"horizAdvX","horiz-adv-x":"horizAdvX",horizoriginx:"horizOriginX","horiz-origin-x":"horizOriginX",ideographic:"ideographic",imagerendering:"imageRendering","image-rendering":"imageRendering",in2:"in2",in:"in",inlist:"inlist",intercept:"intercept",k1:"k1",k2:"k2",k3:"k3",k4:"k4",k:"k",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",kerning:"kerning",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",letterspacing:"letterSpacing","letter-spacing":"letterSpacing",lightingcolor:"lightingColor","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",local:"local",markerend:"markerEnd","marker-end":"markerEnd",markerheight:"markerHeight",markermid:"markerMid","marker-mid":"markerMid",markerstart:"markerStart","marker-start":"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",mask:"mask",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",mathematical:"mathematical",mode:"mode",numoctaves:"numOctaves",offset:"offset",opacity:"opacity",operator:"operator",order:"order",orient:"orient",orientation:"orientation",origin:"origin",overflow:"overflow",overlineposition:"overlinePosition","overline-position":"overlinePosition",overlinethickness:"overlineThickness","overline-thickness":"overlineThickness",paintorder:"paintOrder","paint-order":"paintOrder",panose1:"panose1","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointerevents:"pointerEvents","pointer-events":"pointerEvents",points:"points",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",prefix:"prefix",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",property:"property",r:"r",radius:"radius",refx:"refX",refy:"refY",renderingintent:"renderingIntent","rendering-intent":"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",resource:"resource",restart:"restart",result:"result",results:"results",rotate:"rotate",rx:"rx",ry:"ry",scale:"scale",security:"security",seed:"seed",shaperendering:"shapeRendering","shape-rendering":"shapeRendering",slope:"slope",spacing:"spacing",specularconstant:"specularConstant",specularexponent:"specularExponent",speed:"speed",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stemh:"stemh",stemv:"stemv",stitchtiles:"stitchTiles",stopcolor:"stopColor","stop-color":"stopColor",stopopacity:"stopOpacity","stop-opacity":"stopOpacity",strikethroughposition:"strikethroughPosition","strikethrough-position":"strikethroughPosition",strikethroughthickness:"strikethroughThickness","strikethrough-thickness":"strikethroughThickness",string:"string",stroke:"stroke",strokedasharray:"strokeDasharray","stroke-dasharray":"strokeDasharray",strokedashoffset:"strokeDashoffset","stroke-dashoffset":"strokeDashoffset",strokelinecap:"strokeLinecap","stroke-linecap":"strokeLinecap",strokelinejoin:"strokeLinejoin","stroke-linejoin":"strokeLinejoin",strokemiterlimit:"strokeMiterlimit","stroke-miterlimit":"strokeMiterlimit",strokewidth:"strokeWidth","stroke-width":"strokeWidth",strokeopacity:"strokeOpacity","stroke-opacity":"strokeOpacity",suppresscontenteditablewarning:"suppressContentEditableWarning",suppresshydrationwarning:"suppressHydrationWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textanchor:"textAnchor","text-anchor":"textAnchor",textdecoration:"textDecoration","text-decoration":"textDecoration",textlength:"textLength",textrendering:"textRendering","text-rendering":"textRendering",to:"to",transform:"transform",typeof:"typeof",u1:"u1",u2:"u2",underlineposition:"underlinePosition","underline-position":"underlinePosition",underlinethickness:"underlineThickness","underline-thickness":"underlineThickness",unicode:"unicode",unicodebidi:"unicodeBidi","unicode-bidi":"unicodeBidi",unicoderange:"unicodeRange","unicode-range":"unicodeRange",unitsperem:"unitsPerEm","units-per-em":"unitsPerEm",unselectable:"unselectable",valphabetic:"vAlphabetic","v-alphabetic":"vAlphabetic",values:"values",vectoreffect:"vectorEffect","vector-effect":"vectorEffect",version:"version",vertadvy:"vertAdvY","vert-adv-y":"vertAdvY",vertoriginx:"vertOriginX","vert-origin-x":"vertOriginX",vertoriginy:"vertOriginY","vert-origin-y":"vertOriginY",vhanging:"vHanging","v-hanging":"vHanging",videographic:"vIdeographic","v-ideographic":"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",visibility:"visibility",vmathematical:"vMathematical","v-mathematical":"vMathematical",vocab:"vocab",widths:"widths",wordspacing:"wordSpacing","word-spacing":"wordSpacing",writingmode:"writingMode","writing-mode":"writingMode",x1:"x1",x2:"x2",x:"x",xchannelselector:"xChannelSelector",xheight:"xHeight","x-height":"xHeight",xlinkactuate:"xlinkActuate","xlink:actuate":"xlinkActuate",xlinkarcrole:"xlinkArcrole","xlink:arcrole":"xlinkArcrole",xlinkhref:"xlinkHref","xlink:href":"xlinkHref",xlinkrole:"xlinkRole","xlink:role":"xlinkRole",xlinkshow:"xlinkShow","xlink:show":"xlinkShow",xlinktitle:"xlinkTitle","xlink:title":"xlinkTitle",xlinktype:"xlinkType","xlink:type":"xlinkType",xmlbase:"xmlBase","xml:base":"xmlBase",xmllang:"xmlLang","xml:lang":"xmlLang",xmlns:"xmlns","xml:space":"xmlSpace",xmlnsxlink:"xmlnsXlink","xmlns:xlink":"xmlnsXlink",xmlspace:"xmlSpace",y1:"y1",y2:"y2",y:"y",ychannelselector:"yChannelSelector",z:"z",zoomandpan:"zoomAndPan"},bl={"aria-current":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},wl={},kl=new RegExp("^(aria)-["+gn+"]*$"),xl=new RegExp("^(aria)[A-Z]["+gn+"]*$"),Tl=Object.prototype.hasOwnProperty;function Sl(e,t){if(Tl.call(wl,t)&&wl[t])return!0;if(xl.test(t)){var n="aria-"+t.slice(4).toLowerCase(),r=bl.hasOwnProperty(n)?n:null;if(null==r)return Me(!1,"Invalid ARIA attribute `%s`. ARIA attributes follow the pattern aria-* and must be lowercase.",t),wl[t]=!0,!0;if(t!==r)return Me(!1,"Invalid ARIA attribute `%s`. Did you mean `%s`?",t,r),wl[t]=!0,!0}if(kl.test(t)){var o=t.toLowerCase(),a=bl.hasOwnProperty(o)?o:null;if(null==a)return wl[t]=!0,!1;if(t!==a)return Me(!1,"Unknown ARIA attribute `%s`. Did you mean `%s`?",t,a),wl[t]=!0,!0}return!0}function El(e,t){yl(e,t)||function(e,t){var n=[];for(var r in t){Sl(0,r)||n.push(r)}var o=n.map((function(e){return"`"+e+"`"})).join(", ");1===n.length?Me(!1,"Invalid aria prop %s on <%s> tag. For details, see https://fb.me/invalid-aria-prop",o,e):n.length>1&&Me(!1,"Invalid aria props %s on <%s> tag. For details, see https://fb.me/invalid-aria-prop",o,e)}(e,t)}var _l=!1;var Cl,Pl={},Rl=Object.prototype.hasOwnProperty,jl=/^on./,Il=/^on[^A-Z]/,Dl=new RegExp("^(aria)-["+gn+"]*$"),Nl=new RegExp("^(aria)[A-Z]["+gn+"]*$");Cl=function(e,t,n,r){if(Rl.call(Pl,t)&&Pl[t])return!0;var o=t.toLowerCase();if("onfocusin"===o||"onfocusout"===o)return Me(!1,"React uses onFocus and onBlur instead of onFocusIn and onFocusOut. All React events are normalized to bubble, so onFocusIn and onFocusOut are not needed/supported by React."),Pl[t]=!0,!0;if(r){if(m.hasOwnProperty(t))return!0;var a=v.hasOwnProperty(o)?v[o]:null;if(null!=a)return Me(!1,"Invalid event handler property `%s`. Did you mean `%s`?",t,a),Pl[t]=!0,!0;if(jl.test(t))return Me(!1,"Unknown event handler property `%s`. It will be ignored.",t),Pl[t]=!0,!0}else if(jl.test(t))return Il.test(t)&&Me(!1,"Invalid event handler property `%s`. React events use the camelCase naming convention, for example `onClick`.",t),Pl[t]=!0,!0;if(Dl.test(t)||Nl.test(t))return!0;if("innerhtml"===o)return Me(!1,"Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."),Pl[t]=!0,!0;if("aria"===o)return Me(!1,"The `aria` attribute is reserved for future use in React. Pass individual `aria-` attributes instead."),Pl[t]=!0,!0;if("is"===o&&null!=n&&"string"!=typeof n)return Me(!1,"Received a `%s` for a string attribute `is`. If this is expected, cast the value to a string.",typeof n),Pl[t]=!0,!0;if("number"==typeof n&&isNaN(n))return Me(!1,"Received NaN for the `%s` attribute. If this is expected, cast the value to a string.",t),Pl[t]=!0,!0;var i=Pn(t),l=null!==i&&i.type===dn;if(gl.hasOwnProperty(o)){var u=gl[o];if(u!==t)return Me(!1,"Invalid DOM property `%s`. Did you mean `%s`?",t,u),Pl[t]=!0,!0}else if(!l&&t!==o)return Me(!1,"React does not recognize the `%s` prop on a DOM element. If you intentionally want it to appear in the DOM as a custom attribute, spell it as lowercase `%s` instead. If you accidentally passed it from a parent component, remove it from the DOM element.",t,o),Pl[t]=!0,!0;return"boolean"==typeof n&&_n(t,n,i,!1)?(n?Me(!1,'Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.',n,t,t,n,t):Me(!1,'Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.',n,t,t,n,t,t,t),Pl[t]=!0,!0):!!l||(_n(t,n,i,!1)?(Pl[t]=!0,!1):"false"!==n&&"true"!==n||null===i||i.type!==pn||(Me(!1,"Received the string `%s` for the boolean attribute `%s`. %s Did you mean %s={%s}?",n,t,"false"===n?"The browser will interpret it as a truthy value.":'Although this works, it will not work as expected if you pass the string "false".',t,n),Pl[t]=!0,!0))};var Ol=function(e,t,n){var r=[];for(var o in t){Cl(0,o,t[o],n)||r.push(o)}var a=r.map((function(e){return"`"+e+"`"})).join(", ");1===r.length?Me(!1,"Invalid value for prop %s on <%s> tag. Either remove it from the element, or pass a string or number value to keep it in the DOM. For details, see https://fb.me/react-attribute-behavior",a,e):r.length>1&&Me(!1,"Invalid values for props %s on <%s> tag. Either remove them from the element, or pass a string or number value to keep them in the DOM. For details, see https://fb.me/react-attribute-behavior",a,e)};var Ml,zl,Ul,Al,Ll,Wl,Fl,Bl,Hl,Vl,$l=!1,ql=!1,Yl=!1,Ql="dangerouslySetInnerHTML",Kl="suppressContentEditableWarning",Xl="suppressHydrationWarning",Gl="autoFocus",Jl="children",Zl="style",eu="__html",tu="listeners",nu=Pr.html;Ml={time:!0,dialog:!0,webview:!0},Ul=function(e,t){El(e,t),function(e,t){"input"!==e&&"textarea"!==e&&"select"!==e||null==t||null!==t.value||_l||(_l=!0,"select"===e&&t.multiple?Me(!1,"`value` prop on `%s` should not be null. Consider using an empty array when `multiple` is set to `true` to clear the component or `undefined` for uncontrolled components.",e):Me(!1,"`value` prop on `%s` should not be null. Consider using an empty string to clear the component or `undefined` for uncontrolled components.",e))}(e,t),function(e,t,n){yl(e,t)||Ol(e,t,n)}(e,t,!0)},Bl=Je&&!document.documentMode;var ru=/\r\n?/g,ou=/\u0000|\uFFFD/g;function au(e,t){!function(e,t){for(var n=qi(t),r=h[e],o=0;o<r.length;o++){Yi(r[o],t,n)}}(t,e.nodeType===Ur||e.nodeType===Ar?e:e.ownerDocument)}function iu(e){return e.nodeType===Ur?e:e.ownerDocument}function lu(){}function uu(e){e.onclick=lu}function su(e,t,n,r){var o,a=yl(t,n);switch(Ul(t,n),a&&!ql&&e.shadyRoot&&(Me(!1,"%s is using shady DOM. Using shady DOM with React can cause things to break subtly.",Ye()||"A component"),ql=!0),t){case"iframe":case"object":case"embed":Mi(po,e),o=n;break;case"video":case"audio":for(var i=0;i<Po.length;i++)Mi(Po[i],e);o=n;break;case"source":Mi(oo,e),o=n;break;case"img":case"image":case"link":Mi(oo,e),Mi(po,e),o=n;break;case"form":Mi(ko,e),Mi(So,e),o=n;break;case"details":Mi(_o,e),o=n;break;case"input":or(e,n),o=rr(e,n),Mi(uo,e),au(r,"onChange");break;case"option":pr(0,n),o=mr(0,n);break;case"select":br(e,n),o=gr(0,n),Mi(uo,e),au(r,"onChange");break;case"textarea":xr(e,n),o=kr(e,n),Mi(uo,e),au(r,"onChange");break;default:o=n}switch(vl(t,o),function(e,t,n,r,o){for(var a in r)if(r.hasOwnProperty(a)){var i=r[a];if(a===Zl)i&&Object.freeze(i),dl(t,i);else if(a===Ql){var l=i?i[eu]:void 0;null!=l&&Nr(t,l)}else if(a===Jl){if("string"==typeof i)("textarea"!==e||""!==i)&&Lr(t,i);else"number"==typeof i&&Lr(t,""+i)}else xt&&a===tu||a===Kl||a===Xl||a===Gl||(m.hasOwnProperty(a)?null!=i&&("function"!=typeof i&&Fl(a,i),au(n,a)):null!=i&&Hn(t,a,i,o))}}(t,e,r,o,a),t){case"input":Xn(e),lr(e,n,!1);break;case"textarea":Xn(e),Sr(e);break;case"option":!function(e,t){null!=t.value&&e.setAttribute("value",Un(An(t.value)))}(e,n);break;case"select":!function(e,t){var n=e;n.multiple=!!t.multiple;var r=t.value;null!=r?yr(n,!!t.multiple,r,!1):null!=t.defaultValue&&yr(n,!!t.multiple,t.defaultValue,!0)}(e,n);break;default:"function"==typeof o.onClick&&uu(e)}}function cu(e,t,n,r,o){Ul(t,r);var a,i,l,u,s=null;switch(t){case"input":a=rr(e,n),i=rr(e,r),s=[];break;case"option":a=mr(0,n),i=mr(0,r),s=[];break;case"select":a=gr(0,n),i=gr(0,r),s=[];break;case"textarea":a=kr(e,n),i=kr(e,r),s=[];break;default:i=r,"function"!=typeof(a=n).onClick&&"function"==typeof i.onClick&&uu(e)}vl(t,i);var c=null;for(l in a)if(!i.hasOwnProperty(l)&&a.hasOwnProperty(l)&&null!=a[l])if(l===Zl){var d=a[l];for(u in d)d.hasOwnProperty(u)&&(c||(c={}),c[u]="")}else l===Ql||l===Jl||xt&&l===tu||l===Kl||l===Xl||l===Gl||(m.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in i){var f=i[l],p=null!=a?a[l]:void 0;if(i.hasOwnProperty(l)&&f!==p&&(null!=f||null!=p))if(l===Zl)if(f&&Object.freeze(f),p){for(u in p)!p.hasOwnProperty(u)||f&&f.hasOwnProperty(u)||(c||(c={}),c[u]="");for(u in f)f.hasOwnProperty(u)&&p[u]!==f[u]&&(c||(c={}),c[u]=f[u])}else c||(s||(s=[]),s.push(l,c)),c=f;else if(l===Ql){var h=f?f[eu]:void 0,v=p?p[eu]:void 0;null!=h&&v!==h&&(s=s||[]).push(l,Ln(h))}else l===Jl?p===f||"string"!=typeof f&&"number"!=typeof f||(s=s||[]).push(l,""+f):xt&&l===tu||l===Kl||l===Xl||(m.hasOwnProperty(l)?(null!=f&&("function"!=typeof f&&Fl(l,f),au(o,l)),s||p===f||(s=[])):(s=s||[]).push(l,f))}return c&&(!function(e,t){if(kt&&t){var n,r=fl(e),o=fl(t),a={};for(var i in r){var l=r[i],u=o[i];if(u&&l!==u){var s=l+","+u;if(a[s])continue;a[s]=!0,Me(!1,"%s a style property during rerender (%s) when a conflicting property is set (%s) can lead to styling bugs. To avoid this, don't mix shorthand and non-shorthand properties for the same value; instead, replace the shorthand with separate values.",null==(n=e[l])||"boolean"==typeof n||""===n?"Removing":"Updating",l,u)}}}}(c,i[Zl]),(s=s||[]).push(Zl,c)),s}function du(e,t,n,r,o){"input"===n&&"radio"===o.type&&null!=o.name&&ar(e,o);yl(n,r);switch(function(e,t,n,r){for(var o=0;o<t.length;o+=2){var a=t[o],i=t[o+1];a===Zl?dl(e,i):a===Ql?Nr(e,i):a===Jl?Lr(e,i):Hn(e,a,i,r)}}(e,t,0,yl(n,o)),n){case"input":ir(e,o);break;case"textarea":Tr(e,o);break;case"select":!function(e,t){var n=e,r=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!t.multiple;var o=t.value;null!=o?yr(n,!!t.multiple,o,!1):r!==!!t.multiple&&(null!=t.defaultValue?yr(n,!!t.multiple,t.defaultValue,!0):yr(n,!!t.multiple,t.multiple?[]:"",!1))}(e,o)}}function fu(e,t){Al(e.nodeValue,t)}function pu(e,t){$l||($l=!0,j(!1,"Did not expect server HTML to contain a <%s> in <%s>.",t.nodeName.toLowerCase(),e.nodeName.toLowerCase()))}function mu(e,t){$l||($l=!0,j(!1,'Did not expect server HTML to contain the text node "%s" in <%s>.',t.nodeValue,e.nodeName.toLowerCase()))}function hu(e,t,n){$l||($l=!0,j(!1,"Expected server HTML to contain a matching <%s> in <%s>.",t,e.nodeName.toLowerCase()))}function vu(e,t){""!==t&&($l||($l=!0,j(!1,'Expected server HTML to contain a matching text node for "%s" in <%s>.',t,e.nodeName.toLowerCase())))}function yu(e,t){if(xt)for(var n=qi(t),r=0,o=e.length;r<o;++r){var a=e[r],i=!Ze(a,"_active"),l=i?a+"_passive":a,u=i?a:a.substring(0,a.length-7);n.has(l)||(Ui(t,u,i),n.add(l))}}function gu(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function bu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wu(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}function ku(e,t){for(var n=bu(e),r=0,o=0;n;){if(n.nodeType===Mr){if(o=r+n.textContent.length,r<=t&&o>=t)return{node:n,offset:t-r};r=o}n=bu(wu(n))}}function xu(e){var t=e.ownerDocument,n=t&&t.defaultView||window,r=n.getSelection&&n.getSelection();if(!r||0===r.rangeCount)return null;var o=r.anchorNode,a=r.anchorOffset,i=r.focusNode,l=r.focusOffset;try{o.nodeType,i.nodeType}catch(e){return null}return function(e,t,n,r,o){var a=0,i=-1,l=-1,u=0,s=0,c=e,d=null;e:for(;;){for(var f=null;c!==t||0!==n&&c.nodeType!==Mr||(i=a+n),c!==r||0!==o&&c.nodeType!==Mr||(l=a+o),c.nodeType===Mr&&(a+=c.nodeValue.length),null!==(f=c.firstChild);)d=c,c=f;for(;;){if(c===e)break e;if(d===t&&++u===n&&(i=a),d===r&&++s===o&&(l=a),null!==(f=c.nextSibling))break;d=(c=d).parentNode}c=f}if(-1===i||-1===l)return null;return{start:i,end:l}}(e,o,a,i,l)}function Tu(e){return e&&e.nodeType===Mr}function Su(e){return e&&e.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||!Tu(t)&&(Tu(n)?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(e.ownerDocument.documentElement,e)}function Eu(e){try{return"string"==typeof e.contentWindow.location.href}catch(e){return!1}}function _u(){for(var e=window,t=gu();t instanceof e.HTMLIFrameElement;){if(!Eu(t))return t;t=gu((e=t.contentWindow).document)}return t}function Cu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Pu(e){var t=_u(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&Su(n)){null!==r&&Cu(n)&&function(e,t){var n=t.start,r=t.end;void 0===r&&(r=n);"selectionStart"in e?(e.selectionStart=n,e.selectionEnd=Math.min(r,e.value.length)):function(e,t){var n=e.ownerDocument||document,r=n&&n.defaultView||window;if(r.getSelection){var o=r.getSelection(),a=e.textContent.length,i=Math.min(t.start,a),l=void 0===t.end?i:Math.min(t.end,a);if(!o.extend&&i>l){var u=l;l=i,i=u}var s=ku(e,i),c=ku(e,l);if(s&&c){if(1===o.rangeCount&&o.anchorNode===s.node&&o.anchorOffset===s.offset&&o.focusNode===c.node&&o.focusOffset===c.offset)return;var d=n.createRange();d.setStart(s.node,s.offset),o.removeAllRanges(),i>l?(o.addRange(d),o.extend(c.node,c.offset)):(d.setEnd(c.node,c.offset),o.addRange(d))}}}(e,t)}(n,r);for(var o=[],a=n;a=a.parentNode;)a.nodeType===Or&&o.push({element:a,left:a.scrollLeft,top:a.scrollTop});"function"==typeof n.focus&&n.focus();for(var i=0;i<o.length;i++){var l=o[i];l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}}Hl=function(e){return("string"==typeof e?e:""+e).replace(ru,"\n").replace(ou,"")},Al=function(e,t){if(!$l){var n=Hl(t),r=Hl(e);r!==n&&($l=!0,j(!1,'Text content did not match. Server: "%s" Client: "%s"',r,n))}},Ll=function(e,t,n){if(!$l){var r=Hl(n),o=Hl(t);o!==r&&($l=!0,j(!1,"Prop `%s` did not match. Server: %s Client: %s",e,JSON.stringify(o),JSON.stringify(r)))}},Wl=function(e){if(!$l){$l=!0;var t=[];e.forEach((function(e){t.push(e)})),j(!1,"Extra attributes from the server: %s",t)}},Fl=function(e,t){!1===t?Me(!1,"Expected `%s` listener to be a function, instead got `false`.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.",e,e,e):Me(!1,"Expected `%s` listener to be a function, instead got a value of `%s` type.",e,typeof t)},Vl=function(e,t){var n=e.namespaceURI===nu?e.ownerDocument.createElement(e.tagName):e.ownerDocument.createElementNS(e.namespaceURI,e.tagName);return n.innerHTML=t,n.innerHTML},xt&&($t=yu);var Ru=function(){},ju=function(){},Iu=["address","applet","area","article","aside","base","basefont","bgsound","blockquote","body","br","button","caption","center","col","colgroup","dd","details","dir","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","img","input","isindex","li","link","listing","main","marquee","menu","menuitem","meta","nav","noembed","noframes","noscript","object","ol","p","param","plaintext","pre","script","section","select","source","style","summary","table","tbody","td","template","textarea","tfoot","th","thead","title","tr","track","ul","wbr","xmp"],Du=["applet","caption","html","table","td","th","marquee","object","template","foreignObject","desc","title"],Nu=Du.concat(["button"]),Ou=["dd","dt","li","option","optgroup","p","rp","rt"],Mu={current:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null};ju=function(e,t){var n=r({},e||Mu),o={tag:t};return-1!==Du.indexOf(t)&&(n.aTagInScope=null,n.buttonTagInScope=null,n.nobrTagInScope=null),-1!==Nu.indexOf(t)&&(n.pTagInButtonScope=null),-1!==Iu.indexOf(t)&&"address"!==t&&"div"!==t&&"p"!==t&&(n.listItemTagAutoclosing=null,n.dlItemTagAutoclosing=null),n.current=o,"form"===t&&(n.formTag=o),"a"===t&&(n.aTagInScope=o),"button"===t&&(n.buttonTagInScope=o),"nobr"===t&&(n.nobrTagInScope=o),"p"===t&&(n.pTagInButtonScope=o),"li"===t&&(n.listItemTagAutoclosing=o),"dd"!==t&&"dt"!==t||(n.dlItemTagAutoclosing=o),n};var zu={};function Uu(){throw Error("The current renderer does not support persistence. This error is likely caused by a bug in React. Please file an issue.")}Ru=function(e,t,n){var r=(n=n||Mu).current,o=r&&r.tag;null!=t&&(null!=e&&j(!1,"validateDOMNesting: when childText is passed, childTag should be null"),e="#text");var a=function(e,t){switch(t){case"select":return"option"===e||"optgroup"===e||"#text"===e;case"optgroup":return"option"===e||"#text"===e;case"option":return"#text"===e;case"tr":return"th"===e||"td"===e||"style"===e||"script"===e||"template"===e;case"tbody":case"thead":case"tfoot":return"tr"===e||"style"===e||"script"===e||"template"===e;case"colgroup":return"col"===e||"template"===e;case"table":return"caption"===e||"colgroup"===e||"tbody"===e||"tfoot"===e||"thead"===e||"style"===e||"script"===e||"template"===e;case"head":return"base"===e||"basefont"===e||"bgsound"===e||"link"===e||"meta"===e||"title"===e||"noscript"===e||"noframes"===e||"style"===e||"script"===e||"template"===e;case"html":return"head"===e||"body"===e||"frameset"===e;case"frameset":return"frame"===e;case"#document":return"html"===e}switch(e){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return"h1"!==t&&"h2"!==t&&"h3"!==t&&"h4"!==t&&"h5"!==t&&"h6"!==t;case"rp":case"rt":return-1===Ou.indexOf(t);case"body":case"caption":case"col":case"colgroup":case"frameset":case"frame":case"head":case"html":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return null==t}return!0}(e,o)?null:r,i=a?null:function(e,t){switch(e){case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"menu":case"nav":case"ol":case"p":case"section":case"summary":case"ul":case"pre":case"listing":case"table":case"hr":case"xmp":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return t.pTagInButtonScope;case"form":return t.formTag||t.pTagInButtonScope;case"li":return t.listItemTagAutoclosing;case"dd":case"dt":return t.dlItemTagAutoclosing;case"button":return t.buttonTagInScope;case"a":return t.aTagInScope;case"nobr":return t.nobrTagInScope}return null}(e,n),l=a||i;if(l){var u=l.tag,s=Qe(),c=!!a+"|"+e+"|"+u+"|"+s;if(!zu[c]){zu[c]=!0;var d=e,f="";if("#text"===e?/\S/.test(t)?d="Text nodes":(d="Whitespace text nodes",f=" Make sure you don't have any extra whitespace between tags on each line of your source code."):d="<"+e+">",a){var p="";"table"===u&&"tr"===e&&(p+=" Add a <tbody>, <thead> or <tfoot> to your code to match the DOM tree generated by the browser."),j(!1,"validateDOMNesting(...): %s cannot appear as a child of <%s>.%s%s%s",d,u,f,p,s)}else j(!1,"validateDOMNesting(...): %s cannot appear as a descendant of <%s>.%s",d,u,s)}}};var Au,Lu=!1,Wu=Uu,Fu=Uu,Bu=Uu,Hu=Uu,Vu=Uu,$u=Uu,qu=Uu,Yu=Uu;Au="suppressHydrationWarning";var Qu="$",Ku="/$",Xu="$?",Gu="$!",Ju="style",Zu=null,es=null;function ts(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function ns(e){var t,n;Zu=Ni,n=_u(),es={focusedElem:n,selectionRange:Cu(n)?(t=n,("selectionStart"in t?{start:t.selectionStart,end:t.selectionEnd}:xu(t))||{start:0,end:0}):null},Oi(!1)}function rs(e,t,n,r,o){var a=r;if(Ru(e,null,a.ancestorInfo),"string"==typeof t.children||"number"==typeof t.children){var i=""+t.children,l=ju(a.ancestorInfo,e);Ru(null,i,l)}var u=function(e,t,n,r){var o,a,i=iu(n),l=r;if(l===nu&&(l=Rr(e)),l===nu){if((o=yl(e,t))||e===e.toLowerCase()||Me(!1,"<%s /> is using incorrect casing. Use PascalCase for React components, or lowercase for HTML elements.",e),"script"===e){var u=i.createElement("div");Dt&&!Yl&&(Me(!1,"Encountered a script tag while rendering React component. Scripts inside React components are never executed when rendering on the client. Consider using template tag instead (https://developer.mozilla.org/en-US/docs/Web/HTML/Element/template)."),Yl=!0),u.innerHTML="<script><\/script>";var s=u.firstChild;a=u.removeChild(s)}else if("string"==typeof t.is)a=i.createElement(e,{is:t.is});else if(a=i.createElement(e),"select"===e){var c=a;t.multiple?c.multiple=!0:t.size&&(c.size=t.size)}}else a=i.createElementNS(l,e);return l===nu&&(o||"[object HTMLUnknownElement]"!==Object.prototype.toString.call(a)||Object.prototype.hasOwnProperty.call(Ml,e)||(Ml[e]=!0,Me(!1,"The tag <%s> is unrecognized in this browser. If you meant to render a React component, start its name with an uppercase letter.",e))),a}(e,t,n,a.namespace);return Bs(o,u),Ks(u,t),u}function os(e,t){e.appendChild(t)}function as(e,t,n,r,o){return su(e,t,n,r),ts(t,n)}function is(e,t,n,r,o,a){var i=a;if(typeof r.children!=typeof n.children&&("string"==typeof r.children||"number"==typeof r.children)){var l=""+r.children,u=ju(i.ancestorInfo,t);Ru(null,l,u)}return cu(e,t,n,r,o)}function ls(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}function us(e,t){return!!t.hidden}function ss(e,t,n,r){Ru(null,e,n.ancestorInfo);var o=function(e,t){return iu(t).createTextNode(e)}(e,t);return Bs(r,o),o}var cs=!0,ds=!0,fs="function"==typeof setTimeout?setTimeout:void 0,ps="function"==typeof clearTimeout?clearTimeout:void 0,ms=-1,hs=!0;function vs(e){Lr(e,"")}function ys(e,t){e.appendChild(t)}function gs(e,t){var n;e.nodeType===zr?(n=e.parentNode).insertBefore(t,e):(n=e).appendChild(t);var r=e._reactRootContainer;null==r&&null===n.onclick&&uu(n)}function bs(e,t,n){e.insertBefore(t,n)}function ws(e){xt&&es&&e===es.focusedElem&&sn("detachedvisiblenode",$s(e),{target:e,timeStamp:Date.now()},e,tt|nt)}function ks(e,t){ws(t),e.removeChild(t)}function xs(e,t){e.nodeType===zr?e.parentNode.removeChild(t):(ws(t),e.removeChild(t))}function Ts(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===zr){var a=o.data;if(a===Ku){if(0===r)return e.removeChild(o),void _a(t);r--}else a!==Qu&&a!==Xu&&a!==Gu||r++}n=o}while(n);_a(t)}function Ss(e){var t=(e=e).style;"function"==typeof t.setProperty?t.setProperty("display","none","important"):t.display="none"}function Es(e,t){e=e;var n=t[Ju],r=null!=n&&n.hasOwnProperty("display")?n.display:null;e.style.display=Gi("display",r)}function _s(e,t){e.nodeValue=t}var Cs=!0;function Ps(e){return e.data===Xu}function Rs(e){return e.data===Gu}function js(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(t===Or||t===Mr)break;if(yt&&t===zr){var n=e.data;if(n===Qu||n===Gu||n===Xu)break}}return e}function Is(e){return js(e.nextSibling)}function Ds(e){return js(e.firstChild)}function Ns(e,t,n,r,o,a){return Bs(a,e),Ks(e,n),function(e,t,n,r,o){var a,i;switch(zl=!0===n[Xl],a=yl(t,n),Ul(t,n),a&&!ql&&e.shadyRoot&&(Me(!1,"%s is using shady DOM. Using shady DOM with React can cause things to break subtly.",Ye()||"A component"),ql=!0),t){case"iframe":case"object":case"embed":Mi(po,e);break;case"video":case"audio":for(var l=0;l<Po.length;l++)Mi(Po[l],e);break;case"source":Mi(oo,e);break;case"img":case"image":case"link":Mi(oo,e),Mi(po,e);break;case"form":Mi(ko,e),Mi(So,e);break;case"details":Mi(_o,e);break;case"input":or(e,n),Mi(uo,e),au(o,"onChange");break;case"option":pr(0,n);break;case"select":br(e,n),Mi(uo,e),au(o,"onChange");break;case"textarea":xr(e,n),Mi(uo,e),au(o,"onChange")}vl(t,n),i=new Set;for(var u=e.attributes,s=0;s<u.length;s++){switch(u[s].name.toLowerCase()){case"data-reactroot":case"value":case"checked":case"selected":break;default:i.add(u[s].name)}}var c,d=null;for(var f in n)if(n.hasOwnProperty(f)){var p=n[f];if(f===Jl)"string"==typeof p?e.textContent!==p&&(zl||Al(e.textContent,p),d=[Jl,p]):"number"==typeof p&&e.textContent!==""+p&&(zl||Al(e.textContent,p),d=[Jl,""+p]);else if(m.hasOwnProperty(f))null!=p&&("function"!=typeof p&&Fl(f,p),au(o,f));else if("boolean"==typeof a){var h=void 0,v=Pn(f);if(zl);else if(xt&&f===tu||f===Kl||f===Xl||"value"===f||"checked"===f||"selected"===f);else if(f===Ql){var y=e.innerHTML,g=p?p[eu]:void 0,b=Vl(e,null!=g?g:"");b!==y&&Ll(f,y,b)}else if(f===Zl){if(i.delete(f),Bl){var w=cl(p);w!==(h=e.getAttribute("style"))&&Ll(f,h,w)}}else if(a)i.delete(f.toLowerCase()),p!==(h=Bn(e,f,p))&&Ll(f,h,p);else if(!En(f,v,a)&&!Cn(f,p,v,a)){var k=!1;if(null!==v)i.delete(v.attributeName),h=Fn(e,f,p,v);else{var x=r;if(x===nu&&(x=Rr(t)),x===nu)i.delete(f.toLowerCase());else{var T=(c=void 0,c=f.toLowerCase(),gl.hasOwnProperty(c)&&gl[c]||null);null!==T&&T!==f&&(k=!0,i.delete(T)),i.delete(f)}h=Bn(e,f,p)}p===h||k||Ll(f,h,p)}}}switch(i.size>0&&!zl&&Wl(i),t){case"input":Xn(e),lr(e,n,!0);break;case"textarea":Xn(e),Sr(e);break;case"select":case"option":break;default:"function"==typeof n.onClick&&uu(e)}return d}(e,t,n,o.namespace,r)}function Os(e){for(var t=e.previousSibling,n=0;t;){if(t.nodeType===zr){var r=t.data;if(r===Qu||r===Gu||r===Xu){if(0===n)return t;n--}else r===Ku&&n++}t=t.previousSibling}return null}function Ms(e){_a(e)}function zs(e,t,n,r,o){var a=o.ownerDocument,i=e,l=i.rootEventTypes,u=i.targetEventTypes;return null!==u&&yu(u,a),null!==l&&(!function(e,t){for(var n=0;n<t.length;n++){cn(t[n],e)}}(t,l),yu(l,a)),function(e,t,n,r){var o=e.onMount;if(null!==o){var a=tn;tn=t;try{Wt((function(){o(on,n,r)}))}finally{tn=a}}}(e,t,n,r),t}function Us(e){xt&&function(e){var t=e.responder.onUnmount;if(null!==t){var n=e.props,r=e.state,o=tn;tn=e;try{Wt((function(){t(on,n,r)}))}finally{tn=o}}var a=e.rootEventTypes;if(null!==a)for(var i=Array.from(a),l=0;l<i.length;l++){var u=i[l],s=Gt.get(u);void 0!==s&&s.delete(e)}}(e)}var As=Math.random().toString(36).slice(2),Ls="__reactInternalInstance$"+As,Ws="__reactEventHandlers$"+As,Fs="__reactContainere$"+As;function Bs(e,t){t[Ls]=e}function Hs(e){e[Fs]=null}function Vs(e){return!!e[Fs]}function $s(e){var t=e[Ls];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Fs]||n[Ls]){var r=t.alternate;if(null!==t.child||null!==r&&null!==r.child)for(var o=Os(e);null!==o;){var a=o[Ls];if(a)return a;o=Os(o)}return t}n=(e=n).parentNode}return null}function qs(e){var t=e[Ls]||e[Fs];return t&&(t.tag===K||t.tag===X||t.tag===re||t.tag===Y)?t:null}function Ys(e){if(e.tag===K||e.tag===X)return e.stateNode;throw Error("getNodeFromInstance: Invalid argument.")}function Qs(e){return e[Ws]||null}function Ks(e,t){e[Ws]=t}var Xs=null,Gs=null,Js=null;function Zs(){if(Js)return Js;var e,t,n=Gs,r=n.length,o=ec(),a=o.length;for(e=0;e<r&&n[e]===o[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===o[a-t];t++);var l=t>1?1-t:void 0;return Js=o.slice(e,l)}function ec(){return"value"in Xs?Xs.value:Xs.textContent}var tc=Wa.extend({data:null}),nc=Wa.extend({data:null}),rc=[9,13,27,32],oc=229,ac=Je&&"CompositionEvent"in window,ic=null;Je&&"documentMode"in document&&(ic=document.documentMode);var lc=Je&&"TextEvent"in window&&!ic,uc=Je&&(!ac||ic&&ic>8&&ic<=11),sc=32,cc=String.fromCharCode(sc),dc={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:[Zr,co,Eo,go]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:[Qr,Zr,so,co,fo,ho]},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:[Qr,eo,so,co,fo,ho]},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:[Qr,to,so,co,fo,ho]}},fc=!1;function pc(e,t){switch(e){case fo:return-1!==rc.indexOf(t.keyCode);case so:return t.keyCode!==oc;case co:case ho:case Qr:return!0;default:return!1}}function mc(e){var t=e.detail;return"object"==typeof t&&"data"in t?t.data:null}function hc(e){return"ko"===e.locale}var vc=!1;function yc(e,t,n,r){var o,a;if(ac?o=function(e){switch(e){case eo:return dc.compositionStart;case Zr:return dc.compositionEnd;case to:return dc.compositionUpdate}}(e):vc?pc(e,n)&&(o=dc.compositionEnd):function(e,t){return e===so&&t.keyCode===oc}(e,n)&&(o=dc.compositionStart),!o)return null;uc&&!hc(n)&&(vc||o!==dc.compositionStart?o===dc.compositionEnd&&vc&&(a=Zs()):vc=function(e){return Xs=e,Gs=ec(),!0}(r));var i=tc.getPooled(o,t,n,r);if(a)i.data=a;else{var l=mc(n);null!==l&&(i.data=l)}return Ma(i),i}function gc(e,t){if(vc){if(e===Zr||!ac&&pc(e,t)){var n=Zs();return Xs=null,Gs=null,Js=null,vc=!1,n}return null}switch(e){case go:return null;case co:if(!function(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}(t)){if(t.char&&t.char.length>1)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case Zr:return uc&&!hc(t)?null:t.data;default:return null}}function bc(e,t,n,r){var o;if(!(o=lc?function(e,t){switch(e){case Zr:return mc(t);case co:return t.which!==sc?null:(fc=!0,cc);case Eo:var n=t.data;return n===cc&&fc?null:n;default:return null}}(e,n):gc(e,n)))return null;var a=nc.getPooled(dc.beforeInput,t,n,r);return a.data=o,Ma(a),a}var wc={eventTypes:dc,extractEvents:function(e,t,n,r,o){var a=yc(e,t,n,r),i=bc(e,t,n,r);return null===a?i:null===i?a:[a,i]}},kc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!kc[e.type]:"textarea"===t}var Tc={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:[Qr,Xr,Gr,ao,lo,so,fo,To]}};function Sc(e,t,n){var r=Wa.getPooled(Tc.change,e,t,n);return r.type="change",ct(n),Ma(r),r}var Ec=null,_c=null;function Cc(e){!function(e,t){if(Ut)return e(t);Ut=!0;try{Nt(e,t)}finally{Ut=!1,Lt()}}(Pc,Sc(_c,e,Pa(e)))}function Pc(e){W(e)}function Rc(e){if(Gn(Ys(e)))return e}function jc(e,t){if(e===Xr)return t}var Ic=!1;function Dc(){Ec&&(Ec.detachEvent("onpropertychange",Nc),Ec=null,_c=null)}function Nc(e){"value"===e.propertyName&&Rc(_c)&&Cc(e)}function Oc(e,t,n){e===ao?(Dc(),function(e,t){_c=t,(Ec=e).attachEvent("onpropertychange",Nc)}(t,n)):e===Qr&&Dc()}function Mc(e,t){if(e===To||e===fo||e===so)return Rc(_c)}function zc(e,t){if(e===Gr)return Rc(t)}function Uc(e,t){if(e===lo||e===Xr)return Rc(t)}Je&&(Ic=Vi("input")&&(!document.documentMode||document.documentMode>9));var Ac,Lc={eventTypes:Tc,_isInputEventSupported:Ic,extractEvents:function(e,t,n,r,o){var a,i,l,u,s,c,d=t?Ys(t):window;if("select"===(u=(l=d).nodeName&&l.nodeName.toLowerCase())||"input"===u&&"file"===l.type?a=jc:xc(d)?Ic?a=Uc:(a=Mc,i=Oc):function(e){var t=e.nodeName;return t&&"input"===t.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)}(d)&&(a=zc),a){var f=a(e,t);if(f)return Sc(f,n,r)}i&&i(e,d,t),e===Qr&&(c=(s=d)._wrapperState)&&c.controlled&&"number"===s.type&&(wt||sr(s,"number",s.value))}},Wc={mouseEnter:{registrationName:"onMouseEnter",dependencies:[vo,yo]},mouseLeave:{registrationName:"onMouseLeave",dependencies:[vo,yo]},pointerEnter:{registrationName:"onPointerEnter",dependencies:[bo,wo]},pointerLeave:{registrationName:"onPointerLeave",dependencies:[bo,wo]}},Fc={eventTypes:Wc,extractEvents:function(e,t,n,r,o){var a,i,l,u,s,c,d,f=e===yo||e===wo,p=e===vo||e===bo;if(f&&0==(o&at)&&(n.relatedTarget||n.fromElement))return null;if(!p&&!f)return null;if(r.window===r)a=r;else{var m=r.ownerDocument;a=m?m.defaultView||m.parentWindow:window}if(p){i=t;var h=n.relatedTarget||n.toElement;if(null!==(l=h?$s(h):null))(l!==Zo(l)||l.tag!==K&&l.tag!==X)&&(l=null)}else i=null,l=t;if(i===l)return null;e===vo||e===yo?(u=ii,s=Wc.mouseLeave,c=Wc.mouseEnter,d="mouse"):e!==bo&&e!==wo||(u=li,s=Wc.pointerLeave,c=Wc.pointerEnter,d="pointer");var v=null==i?a:Ys(i),y=null==l?a:Ys(l),g=u.getPooled(s,i,n,r);g.type=d+"leave",g.target=v,g.relatedTarget=y;var b=u.getPooled(c,l,n,r);return b.type=d+"enter",b.target=y,b.relatedTarget=v,function(e,t,n,r){ja(n,r,Na,e,t)}(g,b,i,l),n===Ac?(Ac=null,[g]):(Ac=n,[g,b])}};var Bc="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Hc=Object.prototype.hasOwnProperty;function Vc(e,t){if(Bc(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!Hc.call(t,n[o])||!Bc(e[n[o]],t[n[o]]))return!1;return!0}var $c=Je&&"documentMode"in document&&document.documentMode<=11,qc={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:[Qr,"contextmenu","dragend",ao,so,fo,ho,"mouseup",To]}},Yc=null,Qc=null,Kc=null,Xc=!1;function Gc(e){return e.window===e?e.document:e.nodeType===Ur?e:e.ownerDocument}function Jc(e,t){var n=Gc(t);if(Xc||null==Yc||Yc!==gu(n))return null;var r=function(e){if("selectionStart"in e&&Cu(e))return{start:e.selectionStart,end:e.selectionEnd};var t=(e.ownerDocument&&e.ownerDocument.defaultView||window).getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}(Yc);if(!Kc||!Vc(Kc,r)){Kc=r;var o=Wa.getPooled(qc.select,Qc,e,t);return o.type="select",o.target=Yc,Ma(o),o}return null}var Zc={eventTypes:qc,extractEvents:function(e,t,n,r,o){var a=Gc(r);if(!a||!function(e,t){for(var n=qi(t),r=h[e],o=0;o<r.length;o++){var a=r[o];if(!n.has(a))return!1}return!0}("onSelect",a))return null;var i=t?Ys(t):window;switch(e){case ao:(xc(i)||"true"===i.contentEditable)&&(Yc=i,Qc=t,Kc=null);break;case Qr:Yc=null,Qc=null,Kc=null;break;case ho:Xc=!0;break;case"contextmenu":case"mouseup":case"dragend":return Xc=!1,Jc(n,r);case To:if($c)break;case so:case fo:return Jc(n,r)}return null}};F.injectEventPluginOrder(["ResponderEventPlugin","SimpleEventPlugin","EnterLeaveEventPlugin","ChangeEventPlugin","SelectEventPlugin","BeforeInputEventPlugin"]),I=Qs,D=qs,(N=Ys)&&D||j(!1,"EventPluginUtils.setComponentTree(...): Injected module is missing getNodeFromInstance or getInstanceFromNode."),F.injectEventPluginsByName({SimpleEventPlugin:Ti,EnterLeaveEventPlugin:Fc,ChangeEventPlugin:Lc,SelectEventPlugin:Zc,BeforeInputEventPlugin:wc});var ed="undefined"!=typeof performance&&"function"==typeof performance.mark&&"function"==typeof performance.clearMarks&&"function"==typeof performance.measure&&"function"==typeof performance.clearMeasures,td=null,nd=null,rd=null,od=!1,ad=!1,id=!1,ld=0,ud=0,sd=new Set,cd=function(e){return"â "+e},dd=function(e){performance.mark(cd(e))},fd=function(e,t,n){var r=cd(t),o=function(e,t){return""+(t?"â ":"â ")+e+(t?" Warning: "+t:"")}(e,n);try{performance.measure(o,r)}catch(e){}performance.clearMarks(r),performance.clearMeasures(o)},pd=function(e,t){return e+" (#"+t+")"},md=function(e,t,n){return null===n?e+" ["+(t?"update":"mount")+"]":e+"."+n},hd=function(e,t){var n=Fe(e.type)||"Unknown",r=e._debugID,o=null!==e.alternate,a=md(n,o,t);if(od&&sd.has(a))return!1;sd.add(a);var i=pd(a,r);return dd(i),!0},vd=function(e,t){var n=Fe(e.type)||"Unknown",r=e._debugID,o=null!==e.alternate,a=md(n,o,t);!function(e){performance.clearMarks(cd(e))}(pd(a,r))},yd=function(e,t,n){var r=Fe(e.type)||"Unknown",o=e._debugID,a=null!==e.alternate,i=md(r,a,t),l=pd(i,o);fd(i,l,n)},gd=function(e){switch(e.tag){case Y:case K:case X:case Q:case G:case ee:case Z:case J:return!0;default:return!1}},bd=function(){null!==nd&&null!==rd&&vd(rd,nd),rd=null,nd=null,id=!1},wd=function(){for(var e=td;e;)e._debugIsCurrentlyTiming&&yd(e,null,null),e=e.return},kd=function(e){null!==e.return&&kd(e.return),e._debugIsCurrentlyTiming&&hd(e,null)},xd=function(){null!==td&&kd(td)};function Td(){ft&&ud++}function Sd(e){if(ft){if(!ed||gd(e))return;if(td=e,!hd(e,null))return;e._debugIsCurrentlyTiming=!0}}function Ed(e){if(ft){if(!ed||gd(e))return;e._debugIsCurrentlyTiming=!1,vd(e,null)}}function _d(e){if(ft){if(!ed||gd(e))return;if(td=e.return,!e._debugIsCurrentlyTiming)return;e._debugIsCurrentlyTiming=!1,yd(e,null,null)}}function Cd(e){if(ft){if(!ed||gd(e))return;if(td=e.return,!e._debugIsCurrentlyTiming)return;e._debugIsCurrentlyTiming=!1;var t=e.tag===re?"Rendering was suspended":"An error was thrown inside this error boundary";yd(e,null,t)}}function Pd(e,t){if(ft){if(!ed)return;if(bd(),!hd(e,t))return;rd=e,nd=t}}function Rd(){if(ft){if(!ed)return;if(null!==nd&&null!==rd)yd(rd,nd,id?"Scheduled a cascading update":null);nd=null,rd=null}}function jd(e){if(ft){if(td=e,!ed)return;ld=0,dd("(React Tree Reconciliation)"),xd()}}function Id(e,t){if(ft){if(!ed)return;var n=null;if(null!==e)if(e.tag===Y)n="A top-level update interrupted the previous render";else n="An update to "+(Fe(e.type)||"Unknown")+" interrupted the previous render";else ld>1&&(n="There were cascading updates");ld=0;var r=t?"(React Tree Reconciliation: Completed Root)":"(React Tree Reconciliation: Yielded)";wd(),fd(r,"(React Tree Reconciliation)",n)}}function Dd(){if(ft){if(!ed)return;ud=0,dd("(Committing Snapshot Effects)")}}function Nd(){if(ft){if(!ed)return;var e=ud;ud=0,fd("(Committing Snapshot Effects: "+e+" Total)","(Committing Snapshot Effects)",null)}}function Od(){if(ft){if(!ed)return;ud=0,dd("(Committing Host Effects)")}}function Md(){if(ft){if(!ed)return;var e=ud;ud=0,fd("(Committing Host Effects: "+e+" Total)","(Committing Host Effects)",null)}}function zd(){if(ft){if(!ed)return;ud=0,dd("(Calling Lifecycle Methods)")}}function Ud(){if(ft){if(!ed)return;var e=ud;ud=0,fd("(Calling Lifecycle Methods: "+e+" Total)","(Calling Lifecycle Methods)",null)}}var Ad,Ld=[];Ad=[];var Wd,Fd=-1;function Bd(e){return{current:e}}function Hd(e,t){Fd<0?j(!1,"Unexpected pop."):(t!==Ad[Fd]&&j(!1,"Unexpected Fiber popped."),e.current=Ld[Fd],Ld[Fd]=null,Ad[Fd]=null,Fd--)}function Vd(e,t,n){Fd++,Ld[Fd]=e.current,Ad[Fd]=n,e.current=t}Wd={};var $d={};Object.freeze($d);var qd=Bd($d),Yd=Bd(!1),Qd=$d;function Kd(e,t,n){return jt?$d:n&&Zd(t)?Qd:qd.current}function Xd(e,t,n){if(!jt){var r=e.stateNode;r.__reactInternalMemoizedUnmaskedChildContext=t,r.__reactInternalMemoizedMaskedChildContext=n}}function Gd(e,t){if(jt)return $d;var n=e.type,r=n.contextTypes;if(!r)return $d;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var i={};for(var l in r)i[l]=t[l];var u=Fe(n)||"Unknown";return a(r,i,"context",u,Qe),o&&Xd(e,t,i),i}function Jd(){return!jt&&Yd.current}function Zd(e){if(jt)return!1;var t=e.childContextTypes;return null!=t}function ef(e){jt||(Hd(Yd,e),Hd(qd,e))}function tf(e){jt||(Hd(Yd,e),Hd(qd,e))}function nf(e,t,n){if(!jt){if(qd.current!==$d)throw Error("Unexpected context found on stack. This error is likely caused by a bug in React. Please file an issue.");Vd(qd,t,e),Vd(Yd,n,e)}}function rf(e,t,n){if(jt)return n;var o,i=e.stateNode,l=t.childContextTypes;if("function"!=typeof i.getChildContext){var u=Fe(t)||"Unknown";return Wd[u]||(Wd[u]=!0,j(!1,"%s.childContextTypes is specified but there is no getChildContext() method on the instance. You can either define getChildContext() on %s or remove childContextTypes from it.",u,u)),n}for(var s in Ge("getChildContext"),Pd(e,"getChildContext"),o=i.getChildContext(),Rd(),Ge(null),o)if(!(s in l))throw Error((Fe(t)||"Unknown")+'.getChildContext(): key "'+s+'" is not defined in childContextTypes.');var c=Fe(t)||"Unknown";return a(l,o,"child context",c,Qe),r({},n,{},o)}function of(e){if(jt)return!1;var t=e.stateNode,n=t&&t.__reactInternalMemoizedMergedChildContext||$d;return Qd=qd.current,Vd(qd,n,e),Vd(Yd,Yd.current,e),!0}function af(e,t,n){if(!jt){var r=e.stateNode;if(!r)throw Error("Expected to have an instance by this point. This error is likely caused by a bug in React. Please file an issue.");if(n){var o=rf(e,t,Qd);r.__reactInternalMemoizedMergedChildContext=o,Hd(Yd,e),Hd(qd,e),Vd(qd,o,e),Vd(Yd,n,e)}else Hd(Yd,e),Vd(Yd,n,e)}}function lf(e){if(jt)return $d;if(!function(e){return Zo(e)===e}(e)||e.tag!==$)throw Error("Expected subtree parent to be a mounted class component. This error is likely caused by a bug in React. Please file an issue.");var t=e;do{switch(t.tag){case Y:return t.stateNode.context;case $:if(Zd(t.type))return t.stateNode.__reactInternalMemoizedMergedChildContext}t=t.return}while(null!==t);throw Error("Found unexpected detached subtree parent. This error is likely caused by a bug in React. Please file an issue.")}var uf=0,sf=1,cf=2,df=o.unstable_runWithPriority,ff=o.unstable_scheduleCallback,pf=o.unstable_cancelCallback,mf=o.unstable_shouldYield,hf=o.unstable_requestPaint,vf=o.unstable_now,yf=o.unstable_getCurrentPriorityLevel,gf=o.unstable_ImmediatePriority,bf=o.unstable_UserBlockingPriority,wf=o.unstable_NormalPriority,kf=o.unstable_LowPriority,xf=o.unstable_IdlePriority;if(vt&&(null==i.__interactionsRef||null==i.__interactionsRef.current))throw Error("It is not supported to run the profiling version of a renderer (for example, `react-dom/profiling`) without also replacing the `scheduler/tracing` module with `scheduler/tracing-profiling`. Your bundler might have a setting for aliasing both modules. Learn more at http://fb.me/react-profiling");var Tf={},Sf=99,Ef=98,_f=97,Cf=96,Pf=95,Rf=90,jf=mf,If=void 0!==hf?hf:function(){},Df=null,Nf=null,Of=!1,Mf=vf(),zf=Mf<1e4?vf:function(){return vf()-Mf};function Uf(){switch(yf()){case gf:return Sf;case bf:return Ef;case wf:return _f;case kf:return Cf;case xf:return Pf;default:throw Error("Unknown priority level.")}}function Af(e){switch(e){case Sf:return gf;case Ef:return bf;case _f:return wf;case Cf:return kf;case Pf:return xf;default:throw Error("Unknown priority level.")}}function Lf(e,t){var n=Af(e);return df(n,t)}function Wf(e,t,n){var r=Af(e);return ff(r,t,n)}function Ff(e){return null===Df?(Df=[e],Nf=ff(gf,Hf)):Df.push(e),Tf}function Bf(){if(null!==Nf){var e=Nf;Nf=null,pf(e)}Hf()}function Hf(){if(!Of&&null!==Df){Of=!0;var e=0;try{var t=Df;Lf(Sf,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Df=null}catch(t){throw null!==Df&&(Df=Df.slice(e+1)),ff(gf,Bf),t}finally{Of=!1}}}var Vf=0,$f=1,qf=2,Yf=4,Qf=8,Kf=1073741823,Xf=0,Gf=1,Jf=2,Zf=3,ep=Kf,tp=ep-1,np=10,rp=tp-1;function op(e){return rp-(e/np|0)}function ap(e){return(rp-e)*np}function ip(e,t,n){return rp-(1+((rp-e+t/np)/(r=n/np)|0))*r;var r}var lp=5e3,up=250;function sp(e){return ip(e,lp,up)}var cp=500,dp=100;function fp(e){return ip(e,cp,dp)}function pp(e,t){if(t===ep)return Sf;if(t===Gf||t===Jf)return Pf;var n=ap(t)-ap(e);return n<=0?Sf:n<=cp+dp?Ef:n<=lp+up?_f:Pf}var mp=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=0,a="Warning: "+e.replace(/%s/g,(function(){return n[o++]}));"undefined"!=typeof console&&console.warn(a);try{throw new Error(a)}catch(e){}},hp=function(e,t){if(void 0===t)throw new Error("`lowPriorityWarningWithoutStack(condition, format, ...args)` requires a warning message argument");if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];mp.apply(void 0,[t].concat(r))}},vp={recordUnsafeLifecycleWarnings:function(e,t){},flushPendingUnsafeLifecycleWarnings:function(){},recordLegacyContextWarning:function(e,t){},flushLegacyContextWarning:function(){},discardPendingWarnings:function(){}},yp=function(e){var t=[];return e.forEach((function(e){t.push(e)})),t.sort().join(", ")},gp=[],bp=[],wp=[],kp=[],xp=[],Tp=[],Sp=new Set;vp.recordUnsafeLifecycleWarnings=function(e,t){Sp.has(e.type)||("function"==typeof t.componentWillMount&&!0!==t.componentWillMount.__suppressDeprecationWarning&&gp.push(e),e.mode&$f&&"function"==typeof t.UNSAFE_componentWillMount&&bp.push(e),"function"==typeof t.componentWillReceiveProps&&!0!==t.componentWillReceiveProps.__suppressDeprecationWarning&&wp.push(e),e.mode&$f&&"function"==typeof t.UNSAFE_componentWillReceiveProps&&kp.push(e),"function"==typeof t.componentWillUpdate&&!0!==t.componentWillUpdate.__suppressDeprecationWarning&&xp.push(e),e.mode&$f&&"function"==typeof t.UNSAFE_componentWillUpdate&&Tp.push(e))},vp.flushPendingUnsafeLifecycleWarnings=function(){var e=new Set;gp.length>0&&(gp.forEach((function(t){e.add(Fe(t.type)||"Component"),Sp.add(t.type)})),gp=[]);var t=new Set;bp.length>0&&(bp.forEach((function(e){t.add(Fe(e.type)||"Component"),Sp.add(e.type)})),bp=[]);var n=new Set;wp.length>0&&(wp.forEach((function(e){n.add(Fe(e.type)||"Component"),Sp.add(e.type)})),wp=[]);var r=new Set;kp.length>0&&(kp.forEach((function(e){r.add(Fe(e.type)||"Component"),Sp.add(e.type)})),kp=[]);var o=new Set;xp.length>0&&(xp.forEach((function(e){o.add(Fe(e.type)||"Component"),Sp.add(e.type)})),xp=[]);var a=new Set;if(Tp.length>0&&(Tp.forEach((function(e){a.add(Fe(e.type)||"Component"),Sp.add(e.type)})),Tp=[]),t.size>0){var i=yp(t);j(!1,"Using UNSAFE_componentWillMount in strict mode is not recommended and may indicate bugs in your code. See https://fb.me/react-unsafe-component-lifecycles for details.\n\n* Move code with side effects to componentDidMount, and set initial state in the constructor.\n\nPlease update the following components: %s",i)}if(r.size>0){var l=yp(r);j(!1,"Using UNSAFE_componentWillReceiveProps in strict mode is not recommended and may indicate bugs in your code. See https://fb.me/react-unsafe-component-lifecycles for details.\n\n* Move data fetching code or side effects to componentDidUpdate.\n* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://fb.me/react-derived-state\n\nPlease update the following components: %s",l)}if(a.size>0){var u=yp(a);j(!1,"Using UNSAFE_componentWillUpdate in strict mode is not recommended and may indicate bugs in your code. See https://fb.me/react-unsafe-component-lifecycles for details.\n\n* Move data fetching code or side effects to componentDidUpdate.\n\nPlease update the following components: %s",u)}if(e.size>0){var s=yp(e);hp(!1,"componentWillMount has been renamed, and is not recommended for use. See https://fb.me/react-unsafe-component-lifecycles for details.\n\n* Move code with side effects to componentDidMount, and set initial state in the constructor.\n* Rename componentWillMount to UNSAFE_componentWillMount to suppress this warning in non-strict mode. In React 17.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run `npx react-codemod rename-unsafe-lifecycles` in your project source folder.\n\nPlease update the following components: %s",s)}if(n.size>0){var c=yp(n);hp(!1,"componentWillReceiveProps has been renamed, and is not recommended for use. See https://fb.me/react-unsafe-component-lifecycles for details.\n\n* Move data fetching code or side effects to componentDidUpdate.\n* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://fb.me/react-derived-state\n* Rename componentWillReceiveProps to UNSAFE_componentWillReceiveProps to suppress this warning in non-strict mode. In React 17.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run `npx react-codemod rename-unsafe-lifecycles` in your project source folder.\n\nPlease update the following components: %s",c)}if(o.size>0){var d=yp(o);hp(!1,"componentWillUpdate has been renamed, and is not recommended for use. See https://fb.me/react-unsafe-component-lifecycles for details.\n\n* Move data fetching code or side effects to componentDidUpdate.\n* Rename componentWillUpdate to UNSAFE_componentWillUpdate to suppress this warning in non-strict mode. In React 17.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run `npx react-codemod rename-unsafe-lifecycles` in your project source folder.\n\nPlease update the following components: %s",d)}};var Ep=new Map,_p=new Set;vp.recordLegacyContextWarning=function(e,t){var n=function(e){for(var t=null,n=e;null!==n;)n.mode&$f&&(t=n),n=n.return;return t}(e);if(null!==n){if(!_p.has(e.type)){var r=Ep.get(n);(null!=e.type.contextTypes||null!=e.type.childContextTypes||null!==t&&"function"==typeof t.getChildContext)&&(void 0===r&&(r=[],Ep.set(n,r)),r.push(e))}}else j(!1,"Expected to find a StrictMode component in a strict mode tree. This error is likely caused by a bug in React. Please file an issue.")},vp.flushLegacyContextWarning=function(){Ep.forEach((function(e,t){var n=new Set;e.forEach((function(e){n.add(Fe(e.type)||"Component"),_p.add(e.type)}));var r=yp(n),o=Ve(t);j(!1,"Legacy context API has been detected within a strict-mode tree.\n\nThe old API will be supported in all 16.x releases, but applications using it should migrate to the new version.\n\nPlease update the following components: %s\n\nLearn more about this warning here: https://fb.me/react-legacy-context%s",r,o)}))},vp.discardPendingWarnings=function(){gp=[],bp=[],wp=[],kp=[],xp=[],Tp=[],Ep=new Map};var Cp=null,Pp=null,Rp=function(e){Cp=e};function jp(e){if(null===Cp)return e;var t=Cp(e);return void 0===t?e:t.current}function Ip(e){return jp(e)}function Dp(e){if(null===Cp)return e;var t=Cp(e);if(void 0===t){if(null!=e&&"function"==typeof e.render){var n=jp(e.render);if(e.render!==n){var r={$$typeof:Se,render:n};return void 0!==e.displayName&&(r.displayName=e.displayName),r}}return e}return t.current}function Np(e,t){if(null===Cp)return!1;var n=e.elementType,r=t.type,o=!1,a="object"==typeof r&&null!==r?r.$$typeof:null;switch(e.tag){case $:"function"==typeof r&&(o=!0);break;case V:"function"==typeof r?o=!0:a===Pe&&(o=!0);break;case te:a===Se?o=!0:a===Pe&&(o=!0);break;case oe:case ae:a===Ce?o=!0:a===Pe&&(o=!0);break;default:return!1}if(o){var i=Cp(n);if(void 0!==i&&i===Cp(r))return!0}return!1}function Op(e){null!==Cp&&"function"==typeof WeakSet&&(null===Pp&&(Pp=new WeakSet),Pp.add(e))}var Mp=function(e,t){if(null!==Cp){var n=t.staleFamilies,r=t.updatedFamilies;xw(),tw((function(){!function e(t,n,r){var o=t.alternate,a=t.child,i=t.sibling,l=t.tag,u=t.type,s=null;switch(l){case V:case ae:case $:s=u;break;case te:s=u.render}if(null===Cp)throw new Error("Expected resolveFamily to be set during hot reload.");var c=!1,d=!1;if(null!==s){var f=Cp(s);void 0!==f&&(r.has(f)?d=!0:n.has(f)&&(l===$?d=!0:c=!0))}null!==Pp&&(Pp.has(t)||null!==o&&Pp.has(o))&&(d=!0);d&&(t._debugNeedsRemount=!0);(d||c)&&$b(t,ep);null===a||d||e(a,n,r);null!==i&&e(i,n,r)}(e.current,r,n)}))}},zp=function(e,t){var n,r,o;e.context===$d&&(xw(),Lf(Sf,function(){Ck(t,e,null,null)}.bind(null,n,r,o)))};var Up=function(e,t){var n=new Set,r=new Set(t.map((function(e){return e.current})));return function e(t,n,r){var o=t.child,a=t.sibling,i=t.tag,l=t.type,u=null;switch(i){case V:case ae:case $:u=l;break;case te:u=l.render}var s=!1;null!==u&&n.has(u)&&(s=!0);s?function(e,t){if(function(e,t){var n=e,r=!1;for(;;){if(n.tag===K)r=!0,t.add(n.stateNode);else if(null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)return r;for(;null===n.sibling;){if(null===n.return||n.return===e)return r;n=n.return}n.sibling.return=n.return,n=n.sibling}return!1}(e,t))return;var n=e;for(;;){switch(n.tag){case K:return void t.add(n.stateNode);case Q:case Y:return void t.add(n.stateNode.containerInfo)}if(null===n.return)throw new Error("Expected to reach root first.");n=n.return}}(t,r):null!==o&&e(o,n,r);null!==a&&e(a,n,r)}(e.current,r,n),n};function Ap(e,t){if(e&&e.defaultProps){var n=r({},t),o=e.defaultProps;for(var a in o)void 0===n[a]&&(n[a]=o[a]);return n}return t}function Lp(e){if(function(e){if(e._status===ze){e._status=Ue;var t=(0,e._ctor)();e._result=t,t.then((function(t){if(e._status===Ue){var n=t.default;void 0===n&&Me(!1,"lazy: Expected the result of a dynamic import() call. Instead received: %s\n\nYour code should look like: \n  const MyComponent = lazy(() => import('./MyComponent'))",t),e._status=Ae,e._result=n}}),(function(t){e._status===Ue&&(e._status=Le,e._result=t)}))}}(e),e._status!==Ae)throw e._result;return e._result}var Wp,Fp=Bd(null);Wp={};var Bp=null,Hp=null,Vp=null,$p=!1;function qp(){Bp=null,Hp=null,Vp=null,$p=!1}function Yp(){$p=!0}function Qp(){$p=!1}function Kp(e,t){var n=e.type._context;cs?(Vd(Fp,n._currentValue,e),n._currentValue=t,void 0!==n._currentRenderer&&null!==n._currentRenderer&&n._currentRenderer!==Wp&&j(!1,"Detected multiple renderers concurrently rendering the same context provider. This is currently unsupported."),n._currentRenderer=Wp):(Vd(Fp,n._currentValue2,e),n._currentValue2=t,void 0!==n._currentRenderer2&&null!==n._currentRenderer2&&n._currentRenderer2!==Wp&&j(!1,"Detected multiple renderers concurrently rendering the same context provider. This is currently unsupported."),n._currentRenderer2=Wp)}function Xp(e){var t=Fp.current;Hd(Fp,e);var n=e.type._context;cs?n._currentValue=t:n._currentValue2=t}function Gp(e,t){for(var n=e;null!==n;){var r=n.alternate;if(n.childExpirationTime<t)n.childExpirationTime=t,null!==r&&r.childExpirationTime<t&&(r.childExpirationTime=t);else{if(!(null!==r&&r.childExpirationTime<t))break;r.childExpirationTime=t}n=n.return}}function Jp(e,t){Bp=e,Hp=null,Vp=null;var n=e.dependencies;null!==n&&(null!==n.firstContext&&(n.expirationTime>=t&&Jy(),n.firstContext=null))}function Zp(e,t){if($p&&Me(!1,"Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo()."),Vp===e);else if(!1===t||0===t);else{var n;"number"!=typeof t||t===Kf?(Vp=e,n=Kf):n=t;var r={context:e,observedBits:n,next:null};if(null===Hp){if(null===Bp)throw Error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");Hp=r,Bp.dependencies={expirationTime:Xf,firstContext:r,responders:null}}else Hp=Hp.next=r}return cs?e._currentValue:e._currentValue2}var em,tm,nm=0,rm=1,om=2,am=3,im=!1;function lm(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function um(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function sm(e,t){var n={expirationTime:e,suspenseConfig:t,tag:nm,payload:null,callback:null,next:null,nextEffect:null};return n.priority=Uf(),n}function cm(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function dm(e,t){var n,r,o=e.alternate;null===o?(r=null,null===(n=e.updateQueue)&&(n=e.updateQueue=lm(e.memoizedState))):(n=e.updateQueue,r=o.updateQueue,null===n?null===r?(n=e.updateQueue=lm(e.memoizedState),r=o.updateQueue=lm(o.memoizedState)):n=e.updateQueue=um(r):null===r&&(r=o.updateQueue=um(n))),null===r||n===r?cm(n,t):null===n.lastUpdate||null===r.lastUpdate?(cm(n,t),cm(r,t)):(cm(n,t),r.lastUpdate=t),e.tag!==$||tm!==n&&(null===r||tm!==r)||em||(j(!1,"An update (setState, replaceState, or forceUpdate) was scheduled from inside an update function. Update functions should be pure, with zero side-effects. Consider using componentDidUpdate or a callback."),em=!0)}function fm(e,t){var n=e.updateQueue;null===(n=null===n?e.updateQueue=lm(e.memoizedState):pm(e,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t)}function pm(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=um(t)),t}function mm(e,t,n,o,a,i){switch(n.tag){case rm:var l=n.payload;if("function"==typeof l){Yp(),pt&&e.mode&$f&&l.call(i,o,a);var u=l.call(i,o,a);return Qp(),u}return l;case am:e.effectTag=e.effectTag&~Go|Bo;case nm:var s,c=n.payload;return"function"==typeof c?(Yp(),pt&&e.mode&$f&&c.call(i,o,a),s=c.call(i,o,a),Qp()):s=c,null==s?o:r({},o,s);case om:return im=!0,o}return o}function hm(e,t,n,r,o){im=!1,t=pm(e,t),tm=t;for(var a=t.baseState,i=null,l=Xf,u=t.firstUpdate,s=a;null!==u;){var c=u.expirationTime;if(c<o)null===i&&(i=u,a=s),l<c&&(l=c);else uw(c,u.suspenseConfig),s=mm(e,0,u,s,n,r),null!==u.callback&&(e.effectTag|=Fo,u.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=u:(t.lastEffect.nextEffect=u,t.lastEffect=u));u=u.next}var d=null;for(u=t.firstCapturedUpdate;null!==u;){var f=u.expirationTime;if(f<o)null===d&&(d=u,null===i&&(a=s)),l<f&&(l=f);else s=mm(e,0,u,s,n,r),null!==u.callback&&(e.effectTag|=Fo,u.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=u:(t.lastCapturedEffect.nextEffect=u,t.lastCapturedEffect=u));u=u.next}null===i&&(t.lastUpdate=null),null===d?t.lastCapturedUpdate=null:e.effectTag|=Fo,null===i&&null===d&&(a=s),t.baseState=a,t.firstUpdate=i,t.firstCapturedUpdate=d,sw(l),e.expirationTime=l,e.memoizedState=s,tm=null}function vm(e,t){if("function"!=typeof e)throw Error("Invalid argument passed as callback. Expected a function. Instead received: "+e);e.call(t)}function ym(){im=!1}function gm(){return im}function bm(e,t,n,r){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),wm(t.firstEffect,n),t.firstEffect=t.lastEffect=null,wm(t.firstCapturedEffect,n),t.firstCapturedEffect=t.lastCapturedEffect=null}function wm(e,t){for(;null!==e;){var n=e.callback;null!==n&&(e.callback=null,vm(n,t)),e=e.nextEffect}}em=!1,tm=null;var km=fe.ReactCurrentBatchConfig;function xm(){return km.suspense}var Tm,Sm,Em,_m,Cm,Pm,Rm,jm,Im,Dm,Nm={},Om=Array.isArray,Mm=(new t.Component).refs;Tm=new Set,Sm=new Set,Em=new Set,_m=new Set,jm=new Set,Cm=new Set,Im=new Set,Dm=new Set;var zm=new Set;function Um(e,t,n,o){var a=e.memoizedState;pt&&e.mode&$f&&n(o,a);var i=n(o,a);Pm(t,i);var l=null==i?a:r({},a,i);e.memoizedState=l;var u=e.updateQueue;null!==u&&e.expirationTime===Xf&&(u.baseState=l)}Rm=function(e,t){if(null!==e&&"function"!=typeof e){var n=t+"_"+e;zm.has(n)||(zm.add(n),j(!1,"%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",t,e))}},Pm=function(e,t){if(void 0===t){var n=Fe(e)||"Component";Cm.has(n)||(Cm.add(n),j(!1,"%s.getDerivedStateFromProps(): A valid state object (or null) must be returned. You have returned undefined.",n))}},Object.defineProperty(Nm,"_processChildContext",{enumerable:!1,value:function(){throw Error("_processChildContext is not available in React 16+. This likely means you have multiple copies of React and are attempting to nest a React 15 tree inside a React 16 tree using unstable_renderSubtreeIntoContainer, which isn't supported. Try to make sure you have only one copy of React (and ideally, switch to ReactDOM.createPortal).")}}),Object.freeze(Nm);var Am,Lm,Wm,Fm,Bm,Hm={isMounted:function(e){var t=Jo.current;if(null!==t&&t.tag===$){var n=t,r=n.stateNode;r._warnedAboutRefsInRender||j(!1,"%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",Fe(n.type)||"A component"),r._warnedAboutRefsInRender=!0}var o=Ro(e);return!!o&&Zo(o)===o},enqueueSetState:function(e,t,n){var r=Ro(e),o=Hb(),a=xm(),i=Vb(o,r,a),l=sm(i,a);l.payload=t,null!=n&&(Rm(n,"setState"),l.callback=n),dm(r,l),$b(r,i)},enqueueReplaceState:function(e,t,n){var r=Ro(e),o=Hb(),a=xm(),i=Vb(o,r,a),l=sm(i,a);l.tag=rm,l.payload=t,null!=n&&(Rm(n,"replaceState"),l.callback=n),dm(r,l),$b(r,i)},enqueueForceUpdate:function(e,t){var n=Ro(e),r=Hb(),o=xm(),a=Vb(r,n,o),i=sm(a,o);i.tag=om,null!=t&&(Rm(t,"forceUpdate"),i.callback=t),dm(n,i),$b(n,a)}};function Vm(e,t,n,r,o,a,i){var l=e.stateNode;if("function"==typeof l.shouldComponentUpdate){Pd(e,"shouldComponentUpdate");var u=l.shouldComponentUpdate(r,a,i);return Rd(),void 0===u&&j(!1,"%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",Fe(t)||"Component"),u}return!t.prototype||!t.prototype.isPureReactComponent||(!Vc(n,r)||!Vc(o,a))}function $m(e,t){var n;t.updater=Hm,e.stateNode=t,n=e,t._reactInternalFiber=n,t._reactInternalInstance=Nm}function qm(e,t,n,r){var o=!1,a=$d,i=$d,l=t.contextType;if("contextType"in t&&(!(null===l||void 0!==l&&l.$$typeof===xe&&void 0===l._context)&&!Dm.has(t))){Dm.add(t);var u="";u=void 0===l?" However, it is set to undefined. This can be caused by a typo or by mixing up named and default imports. This can also happen due to a circular dependency, so try moving the createContext() call to a separate file.":"object"!=typeof l?" However, it is set to a "+typeof l+".":l.$$typeof===ke?" Did you accidentally pass the Context.Provider instead?":void 0!==l._context?" Did you accidentally pass the Context.Consumer instead?":" However, it is set to an object with keys {"+Object.keys(l).join(", ")+"}.",j(!1,"%s defines an invalid contextType. contextType should point to the Context object returned by React.createContext().%s",Fe(t)||"Component",u)}if("object"==typeof l&&null!==l)i=Zp(l);else if(!jt){a=Kd(0,t,!0);var s=t.contextTypes;i=(o=null!=s)?Gd(e,a):$d}pt&&e.mode&$f&&new t(n,i);var c=new t(n,i),d=e.memoizedState=null!==c.state&&void 0!==c.state?c.state:null;if($m(e,c),"function"==typeof t.getDerivedStateFromProps&&null===d){var f=Fe(t)||"Component";Sm.has(f)||(Sm.add(f),j(!1,"`%s` uses `getDerivedStateFromProps` but its initial state is %s. This is not recommended. Instead, define the initial state by assigning an object to `this.state` in the constructor of `%s`. This ensures that `getDerivedStateFromProps` arguments have a consistent shape.",f,null===c.state?"null":"undefined",f))}if("function"==typeof t.getDerivedStateFromProps||"function"==typeof c.getSnapshotBeforeUpdate){var p=null,m=null,h=null;if("function"==typeof c.componentWillMount&&!0!==c.componentWillMount.__suppressDeprecationWarning?p="componentWillMount":"function"==typeof c.UNSAFE_componentWillMount&&(p="UNSAFE_componentWillMount"),"function"==typeof c.componentWillReceiveProps&&!0!==c.componentWillReceiveProps.__suppressDeprecationWarning?m="componentWillReceiveProps":"function"==typeof c.UNSAFE_componentWillReceiveProps&&(m="UNSAFE_componentWillReceiveProps"),"function"==typeof c.componentWillUpdate&&!0!==c.componentWillUpdate.__suppressDeprecationWarning?h="componentWillUpdate":"function"==typeof c.UNSAFE_componentWillUpdate&&(h="UNSAFE_componentWillUpdate"),null!==p||null!==m||null!==h){var v=Fe(t)||"Component",y="function"==typeof t.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";_m.has(v)||(_m.add(v),j(!1,"Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n%s uses %s but also contains the following legacy lifecycles:%s%s%s\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-unsafe-component-lifecycles",v,y,null!==p?"\n  "+p:"",null!==m?"\n  "+m:"",null!==h?"\n  "+h:""))}}return o&&Xd(e,a,i),c}function Ym(e,t,n,r){var o=t.state;if(Pd(e,"componentWillReceiveProps"),"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),Rd(),t.state!==o){var a=Fe(e.type)||"Component";Tm.has(a)||(Tm.add(a),j(!1,"%s.componentWillReceiveProps(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",a)),Hm.enqueueReplaceState(t,t.state,null)}}function Qm(e,t,n,r){!function(e,t,n){var r=e.stateNode,o=Fe(t)||"Component";r.render||(t.prototype&&"function"==typeof t.prototype.render?j(!1,"%s(...): No `render` method found on the returned component instance: did you accidentally return an object from the constructor?",o):j(!1,"%s(...): No `render` method found on the returned component instance: you may have forgotten to define `render`.",o)),!r.getInitialState||r.getInitialState.isReactClassApproved||r.state||j(!1,"getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",o),!r.getDefaultProps||r.getDefaultProps.isReactClassApproved||j(!1,"getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",o),!r.propTypes||j(!1,"propTypes was defined as an instance property on %s. Use a static property to define propTypes instead.",o),!r.contextType||j(!1,"contextType was defined as an instance property on %s. Use a static property to define contextType instead.",o),jt?(t.childContextTypes&&j(!1,"%s uses the legacy childContextTypes API which is no longer supported. Use React.createContext() instead.",o),t.contextTypes&&j(!1,"%s uses the legacy contextTypes API which is no longer supported. Use React.createContext() with static contextType instead.",o)):(!r.contextTypes||j(!1,"contextTypes was defined as an instance property on %s. Use a static property to define contextTypes instead.",o),t.contextType&&t.contextTypes&&!Im.has(t)&&(Im.add(t),j(!1,"%s declares both contextTypes and contextType static properties. The legacy contextTypes property will be ignored.",o))),"function"!=typeof r.componentShouldUpdate||j(!1,"%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",o),t.prototype&&t.prototype.isPureReactComponent&&void 0!==r.shouldComponentUpdate&&j(!1,"%s has a method called shouldComponentUpdate(). shouldComponentUpdate should not be used when extending React.PureComponent. Please extend React.Component if shouldComponentUpdate is used.",Fe(t)||"A pure component"),"function"!=typeof r.componentDidUnmount||j(!1,"%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?",o),"function"!=typeof r.componentDidReceiveProps||j(!1,"%s has a method called componentDidReceiveProps(). But there is no such lifecycle method. If you meant to update the state in response to changing props, use componentWillReceiveProps(). If you meant to fetch data or run side-effects or mutations after React has updated the UI, use componentDidUpdate().",o),"function"!=typeof r.componentWillRecieveProps||j(!1,"%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",o),"function"!=typeof r.UNSAFE_componentWillRecieveProps||j(!1,"%s has a method called UNSAFE_componentWillRecieveProps(). Did you mean UNSAFE_componentWillReceiveProps()?",o);var a=r.props!==n;void 0!==r.props&&a&&j(!1,"%s(...): When calling super() in `%s`, make sure to pass up the same props that your component's constructor was passed.",o,o),!r.defaultProps||j(!1,"Setting defaultProps as an instance property on %s is not supported and will be ignored. Instead, define defaultProps as a static property on %s.",o,o),"function"!=typeof r.getSnapshotBeforeUpdate||"function"==typeof r.componentDidUpdate||Em.has(t)||(Em.add(t),j(!1,"%s: getSnapshotBeforeUpdate() should be used with componentDidUpdate(). This component defines getSnapshotBeforeUpdate() only.",Fe(t))),"function"!=typeof r.getDerivedStateFromProps||j(!1,"%s: getDerivedStateFromProps() is defined as an instance method and will be ignored. Instead, declare it as a static method.",o),"function"!=typeof r.getDerivedStateFromError||j(!1,"%s: getDerivedStateFromError() is defined as an instance method and will be ignored. Instead, declare it as a static method.",o),"function"!=typeof t.getSnapshotBeforeUpdate||j(!1,"%s: getSnapshotBeforeUpdate() is defined as a static method and will be ignored. Instead, declare it as an instance method.",o);var i=r.state;i&&("object"!=typeof i||Om(i))&&j(!1,"%s.state: must be set to an object or null",o),"function"==typeof r.getChildContext&&"object"!=typeof t.childContextTypes&&j(!1,"%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",o)}(e,t,n);var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=Mm;var a=t.contextType;if("object"==typeof a&&null!==a)o.context=Zp(a);else if(jt)o.context=$d;else{var i=Kd(0,t,!0);o.context=Gd(e,i)}if(o.state===n){var l=Fe(t)||"Component";jm.has(l)||(jm.add(l),j(!1,"%s: It is not recommended to assign props directly to state because updates to props won't be reflected in state. In most cases, it is better to use props directly.",l))}e.mode&$f&&vp.recordLegacyContextWarning(e,o),mt&&vp.recordUnsafeLifecycleWarnings(e,o);var u=e.updateQueue;null!==u&&(hm(e,u,n,o,r),o.state=e.memoizedState);var s=t.getDerivedStateFromProps;"function"==typeof s&&(Um(e,t,s,n),o.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(!function(e,t){Pd(e,"componentWillMount");var n=t.state;"function"==typeof t.componentWillMount&&t.componentWillMount(),"function"==typeof t.UNSAFE_componentWillMount&&t.UNSAFE_componentWillMount(),Rd(),n!==t.state&&(j(!1,"%s.componentWillMount(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",Fe(e.type)||"Component"),Hm.enqueueReplaceState(t,t.state,null))}(e,o),null!==(u=e.updateQueue)&&(hm(e,u,n,o,r),o.state=e.memoizedState)),"function"==typeof o.componentDidMount&&(e.effectTag|=Uo)}var Km=function(e){};Am=!1,Lm=!1,Wm={},Fm={},Bm={},Km=function(e){if(null!==e&&"object"==typeof e&&e._store&&!e._store.validated&&null==e.key){if("object"!=typeof e._store)throw Error("React Component in warnForMissingKey should have a _store. This error is likely caused by a bug in React. Please file an issue.");e._store.validated=!0;var t='Each child in a list should have a unique "key" prop. See https://fb.me/react-warning-keys for more information.'+Qe();Fm[t]||(Fm[t]=!0,Me(!1,'Each child in a list should have a unique "key" prop. See https://fb.me/react-warning-keys for more information.'))}};var Xm=Array.isArray;function Gm(e,t,n){var r=n.ref;if(null!==r&&"function"!=typeof r&&"object"!=typeof r){if(e.mode&$f||Rt){var o=Fe(e.type)||"Component";Wm[o]||(Rt?j(!1,'Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. We recommend using useRef() or createRef() instead. Learn more about using refs safely here: https://fb.me/react-strict-mode-string-ref%s',o,r,Ve(e)):j(!1,'A string ref, "%s", has been found within a strict mode tree. String refs are a source of potential bugs and should be avoided. We recommend using useRef() or createRef() instead. Learn more about using refs safely here: https://fb.me/react-strict-mode-string-ref%s',r,Ve(e)),Wm[o]=!0)}if(n._owner){var a,i=n._owner;if(i){var l=i;if(l.tag!==$)throw Error("Function components cannot have refs. Did you mean to use React.forwardRef()?");a=l.stateNode}if(!a)throw Error("Missing owner for string ref "+r+". This error is likely caused by a bug in React. Please file an issue.");var u=""+r;if(null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===u)return t.ref;var s=function(e){var t=a.refs;t===Mm&&(t=a.refs={}),null===e?delete t[u]:t[u]=e};return s._stringRef=u,s}if("string"!=typeof r)throw Error("Expected ref to be a function, a string, an object returned by React.createRef(), or null.");if(!n._owner)throw Error("Element ref was specified as a string ("+r+") but no owner was set. This could happen for one of the following reasons:\n1. You may be adding a ref to a function component\n2. You may be adding a ref to a component that was not created inside a component's render method\n3. You have multiple copies of React loaded\nSee https://fb.me/react-refs-must-have-owner for more information.")}return r}function Jm(e,t){if("textarea"!==e.type){var n;throw n=" If you meant to render a collection of children, use an array instead."+Qe(),Error("Objects are not valid as a React child (found: "+("[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t)+")."+n)}}function Zm(){var e="Functions are not valid as a React child. This may happen if you return a Component instead of <Component /> from render. Or maybe you meant to call this function rather than return it."+Qe();Bm[e]||(Bm[e]=!0,Me(!1,"Functions are not valid as a React child. This may happen if you return a Component instead of <Component /> from render. Or maybe you meant to call this function rather than return it."))}function eh(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=Lo}}function n(n,r){if(!e)return null;for(var o=r;null!==o;)t(n,o),o=o.sibling;return null}function r(e,t){for(var n=new Map,r=t;null!==r;)null!==r.key?n.set(r.key,r):n.set(r.index,r),r=r.sibling;return n}function o(e,t,n){var r=ck(e,t,n);return r.index=0,r.sibling=null,r}function a(t,n,r){if(t.index=r,!e)return n;var o=t.alternate;if(null!==o){var a=o.index;return a<n?(t.effectTag=zo,n):a}return t.effectTag=zo,n}function i(t){return e&&null===t.alternate&&(t.effectTag=zo),t}function l(e,t,n,r){if(null===t||t.tag!==X){var a=hk(n,e.mode,r);return a.return=e,a}var i=o(t,n,r);return i.return=e,i}function u(e,t,n,r){if(null===t||t.elementType!==n.type&&!Np(t,n)){var a=pk(n,e.mode,r);return a.ref=Gm(e,t,n),a.return=e,a}var i=o(t,n.props,r);return i.ref=Gm(e,t,n),i.return=e,i._debugSource=n._source,i._debugOwner=n._owner,i}function s(e,t,n,r){if(null===t||t.tag!==Q||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation){var a=vk(n,e.mode,r);return a.return=e,a}var i=o(t,n.children||[],r);return i.return=e,i}function c(e,t,n,r,a){if(null===t||t.tag!==G){var i=mk(n,e.mode,r,a);return i.return=e,i}var l=o(t,n,r);return l.return=e,l}function d(e,t,n){if("string"==typeof t||"number"==typeof t){var r=hk(""+t,e.mode,n);return r.return=e,r}if("object"==typeof t&&null!==t){switch(t.$$typeof){case ve:var o=pk(t,e.mode,n);return o.ref=Gm(e,null,t),o.return=e,o;case ye:var a=vk(t,e.mode,n);return a.return=e,a}if(Xm(t)||Oe(t)){var i=mk(t,e.mode,n,null);return i.return=e,i}Jm(e,t)}return"function"==typeof t&&Zm(),null}function f(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==o?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case ve:return n.key===o?n.type===ge?c(e,t,n.props.children,r,o):u(e,t,n,r):null;case ye:return n.key===o?s(e,t,n,r):null}if(Xm(n)||Oe(n))return null!==o?null:c(e,t,n,r,null);Jm(e,n)}return"function"==typeof n&&Zm(),null}function p(e,t,n,r,o){if("string"==typeof r||"number"==typeof r)return l(t,e.get(n)||null,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case ve:var a=e.get(null===r.key?n:r.key)||null;return r.type===ge?c(t,a,r.props.children,o,r.key):u(t,a,r,o);case ye:return s(t,e.get(null===r.key?n:r.key)||null,r,o)}if(Xm(r)||Oe(r))return c(t,e.get(n)||null,r,o,null);Jm(t,r)}return"function"==typeof r&&Zm(),null}function m(e,t){if("object"!=typeof e||null===e)return t;switch(e.$$typeof){case ve:case ye:Km(e);var n=e.key;if("string"!=typeof n)break;if(null===t){(t=new Set).add(n);break}if(!t.has(n)){t.add(n);break}Me(!1,"Encountered two children with the same key, `%s`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted â the behavior is unsupported and could change in a future version.",n)}return t}return function(l,u,s,c){var h="object"==typeof s&&null!==s&&s.type===ge&&null===s.key;h&&(s=s.props.children);var v="object"==typeof s&&null!==s;if(v)switch(s.$$typeof){case ve:return i(function(e,r,a,i){for(var l=a.key,u=r;null!==u;){if(u.key===l){if(u.tag===G?a.type===ge:u.elementType===a.type||Np(u,a)){n(e,u.sibling);var s=o(u,a.type===ge?a.props.children:a.props,i);return s.ref=Gm(e,u,a),s.return=e,s._debugSource=a._source,s._debugOwner=a._owner,s}n(e,u);break}t(e,u),u=u.sibling}if(a.type===ge){var c=mk(a.props.children,e.mode,i,a.key);return c.return=e,c}var d=pk(a,e.mode,i);return d.ref=Gm(e,r,a),d.return=e,d}(l,u,s,c));case ye:return i(function(e,r,a,i){for(var l=a.key,u=r;null!==u;){if(u.key===l){if(u.tag===Q&&u.stateNode.containerInfo===a.containerInfo&&u.stateNode.implementation===a.implementation){n(e,u.sibling);var s=o(u,a.children||[],i);return s.return=e,s}n(e,u);break}t(e,u),u=u.sibling}var c=vk(a,e.mode,i);return c.return=e,c}(l,u,s,c))}if("string"==typeof s||"number"==typeof s)return i(function(e,t,r,a){if(null!==t&&t.tag===X){n(e,t.sibling);var i=o(t,r,a);return i.return=e,i}n(e,t);var l=hk(r,e.mode,a);return l.return=e,l}(l,u,""+s,c));if(Xm(s))return function(o,i,l,u){for(var s=null,c=0;c<l.length;c++){s=m(l[c],s)}for(var h=null,v=null,y=i,g=0,b=0,w=null;null!==y&&b<l.length;b++){y.index>b?(w=y,y=null):w=y.sibling;var k=f(o,y,l[b],u);if(null===k){null===y&&(y=w);break}e&&y&&null===k.alternate&&t(o,y),g=a(k,g,b),null===v?h=k:v.sibling=k,v=k,y=w}if(b===l.length)return n(o,y),h;if(null===y){for(;b<l.length;b++){var x=d(o,l[b],u);null!==x&&(g=a(x,g,b),null===v?h=x:v.sibling=x,v=x)}return h}for(var T=r(0,y);b<l.length;b++){var S=p(T,o,b,l[b],u);null!==S&&(e&&null!==S.alternate&&T.delete(null===S.key?b:S.key),g=a(S,g,b),null===v?h=S:v.sibling=S,v=S)}return e&&T.forEach((function(e){return t(o,e)})),h}(l,u,s,c);if(Oe(s))return function(o,i,l,u){var s=Oe(l);if("function"!=typeof s)throw Error("An object is not an iterable. This error is likely caused by a bug in React. Please file an issue.");"function"==typeof Symbol&&"Generator"===l[Symbol.toStringTag]&&(Lm||Me(!1,"Using Generators as children is unsupported and will likely yield unexpected results because enumerating a generator mutates it. You may convert it to an array with `Array.from()` or the `[...spread]` operator before rendering. Keep in mind you might need to polyfill these features for older browsers."),Lm=!0),l.entries===s&&(Am||Me(!1,"Using Maps as children is unsupported and will likely yield unexpected results. Convert it to a sequence/iterable of keyed ReactElements instead."),Am=!0);var c=s.call(l);if(c)for(var h=null,v=c.next();!v.done;v=c.next()){h=m(v.value,h)}var y=s.call(l);if(null==y)throw Error("An iterable object provided no iterator.");for(var g=null,b=null,w=i,k=0,x=0,T=null,S=y.next();null!==w&&!S.done;x++,S=y.next()){w.index>x?(T=w,w=null):T=w.sibling;var E=f(o,w,S.value,u);if(null===E){null===w&&(w=T);break}e&&w&&null===E.alternate&&t(o,w),k=a(E,k,x),null===b?g=E:b.sibling=E,b=E,w=T}if(S.done)return n(o,w),g;if(null===w){for(;!S.done;x++,S=y.next()){var _=d(o,S.value,u);null!==_&&(k=a(_,k,x),null===b?g=_:b.sibling=_,b=_)}return g}for(var C=r(0,w);!S.done;x++,S=y.next()){var P=p(C,o,x,S.value,u);null!==P&&(e&&null!==P.alternate&&C.delete(null===P.key?x:P.key),k=a(P,k,x),null===b?g=P:b.sibling=P,b=P)}return e&&C.forEach((function(e){return t(o,e)})),g}(l,u,s,c);if(v&&Jm(l,s),"function"==typeof s&&Zm(),void 0===s&&!h)switch(l.tag){case $:if(l.stateNode.render._isMockFunction)break;case V:var y=l.type;throw Error((y.displayName||y.name||"Component")+"(...): Nothing was returned from render. This usually means a return statement is missing. Or, to render nothing, return null.")}return n(l,u)}}var th=eh(!0),nh=eh(!1);function rh(e,t){for(var n=e.child;null!==n;)dk(n,t),n=n.sibling}var oh={},ah=Bd(oh),ih=Bd(oh),lh=Bd(oh);function uh(e){if(e===oh)throw Error("Expected host context to exist. This error is likely caused by a bug in React. Please file an issue.");return e}function sh(){return uh(lh.current)}function ch(e,t){Vd(lh,t,e),Vd(ih,e,e),Vd(ah,oh,e);var n=function(e){var t,n,r=e.nodeType;switch(r){case Ur:case Ar:t=r===Ur?"#document":"#fragment";var o=e.documentElement;n=o?o.namespaceURI:jr(null,"");break;default:var a=r===zr?e.parentNode:e;n=jr(a.namespaceURI||null,t=a.tagName)}var i=t.toLowerCase();return{namespace:n,ancestorInfo:ju(null,i)}}(t);Hd(ah,e),Vd(ah,n,e)}function dh(e){Hd(ah,e),Hd(ih,e),Hd(lh,e)}function fh(){return uh(ah.current)}function ph(e){uh(lh.current);var t,n,r,o=uh(ah.current),a=(t=o,n=e.type,{namespace:jr((r=t).namespace,n),ancestorInfo:ju(r.ancestorInfo,n)});o!==a&&(Vd(ih,e,e),Vd(ah,a,e))}function mh(e){ih.current===e&&(Hd(ah,e),Hd(ih,e))}var hh=1,vh=1,yh=2,gh=Bd(0);function bh(e,t){return 0!=(e&t)}function wh(e){return e&hh}function kh(e,t){return e&hh|t}function xh(e,t){Vd(gh,t,e)}function Th(e){Hd(gh,e)}function Sh(e,t){var n=e.memoizedState;if(null!==n)return null!==n.dehydrated;var r=e.memoizedProps;return void 0!==r.fallback&&(!0!==r.unstable_avoidThisFallback||!t)}function Eh(e){for(var t=e;null!==t;){if(t.tag===re){var n=t.memoizedState;if(null!==n){var r=n.dehydrated;if(null===r||Ps(r)||Rs(r))return t}}else if(t.tag===se&&void 0!==t.memoizedProps.revealOrder){if((t.effectTag&Bo)!==Oo)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)return null;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var _h={},Ch=Array.isArray;function Ph(e,t,n,r,o){var a,i;if(e&&(a=e.responder,i=e.props),!a||a.$$typeof!==je)throw Error("An invalid value was used as an event listener. Expect one or many event listeners created via React.unstable_useResponder().");var l=i;if(n.has(a))Me(!1,'Duplicate event responder "%s" found in event listeners. Event listeners passed to elements cannot use the same event responder more than once.',a.displayName);else{n.add(a);var u=r.get(a);void 0===u?function(e,t,n,r,o){var a=_h,i=e.getInitialState;null!==i&&(a=i(t));var l=function(e,t,n,r){return{fiber:r,props:t,responder:e,rootEventTypes:null,state:n}}(e,t,a,n);if(!o)for(var u=n;null!==u;){var s=u.tag;if(s===K){o=u.stateNode;break}if(s===Y){o=u.stateNode.containerInfo;break}u=u.return}zs(e,l,t,a,o),r.set(e,l)}(a,l,t,r,o):(u.props=l,u.fiber=t)}}function Rh(e,t,n){var r=new Set,o=t.dependencies;if(null!=e){null===o&&(o=t.dependencies={expirationTime:Xf,firstContext:null,responders:new Map});var a=o.responders;if(null===a&&(a=new Map),Ch(e))for(var i=0,l=e.length;i<l;i++){Ph(e[i],t,r,a,n)}else Ph(e,t,r,a,n)}if(null!==o){var u=o.responders;if(null!==u)for(var s=Array.from(u.keys()),c=0,d=s.length;c<d;c++){var f=s[c];if(!r.has(f))Us(u.get(f)),u.delete(f)}}}function jh(e,t){var n={responder:e,props:t};return Object.freeze(n),n}var Ih,Dh=0,Nh=2,Oh=4,Mh=8,zh=16,Uh=32,Ah=64,Lh=128,Wh=fe.ReactCurrentDispatcher,Fh=fe.ReactCurrentBatchConfig;Ih=new Set;var Bh=Xf,Hh=null,Vh=null,$h=null,qh=null,Yh=null,Qh=null,Kh=Xf,Xh=null,Gh=0,Jh=!1,Zh=null,ev=0,tv=25,nv=null,rv=null,ov=-1,av=!1;function iv(){var e=nv;null===rv?rv=[e]:rv.push(e)}function lv(){var e=nv;null!==rv&&(ov++,rv[ov]!==e&&function(e){var t=Fe(Hh.type);if(!Ih.has(t)&&(Ih.add(t),null!==rv)){for(var n="",r=0;r<=ov;r++){for(var o=rv[r],a=r===ov?e:o,i=r+1+". "+o;i.length<30;)i+=" ";n+=i+=a+"\n"}Me(!1,"React has detected a change in the order of Hooks called by %s. This will lead to bugs and errors if not fixed. For more information, read the Rules of Hooks: https://fb.me/rules-of-hooks\n\n   Previous render            Next render\n   ------------------------------------------------------\n%s   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n",t,n)}}(e))}function uv(e){null==e||Array.isArray(e)||Me(!1,"%s received a final argument that is not an array (instead, received `%s`). When specified, the final argument must be an array.",nv,typeof e)}function sv(){throw Error("Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:\n1. You might have mismatching versions of React and the renderer (such as React DOM)\n2. You might be breaking the Rules of Hooks\n3. You might have more than one copy of React in the same app\nSee https://fb.me/react-invalid-hook-call for tips about how to debug and fix this problem.")}function cv(e,t){if(av)return!1;if(null===t)return Me(!1,"%s received a final argument during this render, but not during the previous render. Even though the final argument is optional, its type cannot change between renders.",nv),!1;e.length!==t.length&&Me(!1,"The final argument passed to %s changed size between renders. The order and size of this array must remain constant.\n\nPrevious: %s\nIncoming: %s",nv,"["+t.join(", ")+"]","["+e.join(", ")+"]");for(var n=0;n<t.length&&n<e.length;n++)if(!Bc(e[n],t[n]))return!1;return!0}function dv(e,t,n,r,o,a){Bh=a,Hh=t,$h=null!==e?e.memoizedState:null,rv=null!==e?e._debugHookTypes:null,ov=-1,av=null!==e&&e.type!==t.type,Wh.current=null!==$h?Yv:null!==rv?qv:$v;var i=n(r,o);if(Jh){do{Jh=!1,ev+=1,av=!1,$h=null!==e?e.memoizedState:null,Qh=qh,Vh=null,Yh=null,Xh=null,ov=-1,Wh.current=Yv,i=n(r,o)}while(Jh);Zh=null,ev=0}Wh.current=Vv;var l=Hh;l.memoizedState=qh,l.expirationTime=Kh,l.updateQueue=Xh,l.effectTag|=Gh,l._debugHookTypes=rv;var u=null!==Vh&&null!==Vh.next;if(Bh=Xf,Hh=null,Vh=null,$h=null,qh=null,Yh=null,Qh=null,nv=null,rv=null,ov=-1,Kh=Xf,Xh=null,Gh=0,u)throw Error("Rendered fewer hooks than expected. This may be caused by an accidental early return statement.");return i}function fv(e,t,n){t.updateQueue=e.updateQueue,t.effectTag&=~($o|Uo),e.expirationTime<=n&&(e.expirationTime=Xf)}function pv(){Wh.current=Vv,Bh=Xf,Hh=null,Vh=null,$h=null,qh=null,Yh=null,Qh=null,rv=null,ov=-1,nv=null,Kh=Xf,Xh=null,Gh=0,Jh=!1,Zh=null,ev=0}function mv(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===Yh?qh=Yh=e:Yh=Yh.next=e,Yh}function hv(){if(null!==Qh)Qh=(Yh=Qh).next,$h=null!==(Vh=$h)?Vh.next:null;else{if(null===$h)throw Error("Rendered more hooks than during the previous render.");var e={memoizedState:(Vh=$h).memoizedState,baseState:Vh.baseState,queue:Vh.queue,baseUpdate:Vh.baseUpdate,next:null};Yh=null===Yh?qh=e:Yh.next=e,$h=Vh.next}return Yh}function vv(e,t){return"function"==typeof t?t(e):t}function yv(e,t,n){var r,o=mv();r=void 0!==n?n(t):t,o.memoizedState=o.baseState=r;var a=o.queue={last:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},i=a.dispatch=Hv.bind(null,Hh,a);return[o.memoizedState,i]}function gv(e,t,n){var r=hv(),o=r.queue;if(null===o)throw Error("Should have a queue. This is likely a bug in React. Please file an issue.");if(o.lastRenderedReducer=e,ev>0){var a=o.dispatch;if(null!==Zh){var i=Zh.get(o);if(void 0!==i){Zh.delete(o);var l=r.memoizedState,u=i;do{l=e(l,u.action),u=u.next}while(null!==u);return Bc(l,r.memoizedState)||Jy(),r.memoizedState=l,r.baseUpdate===o.last&&(r.baseState=l),o.lastRenderedState=l,[l,a]}}return[r.memoizedState,a]}var s,c=o.last,d=r.baseUpdate,f=r.baseState;if(null!==d?(null!==c&&(c.next=null),s=d.next):s=null!==c?c.next:null,null!==s){var p=f,m=null,h=null,v=d,y=s,g=!1;do{var b=y.expirationTime;if(b<Bh)g||(g=!0,h=v,m=p),b>Kh&&sw(Kh=b);else if(uw(b,y.suspenseConfig),y.eagerReducer===e)p=y.eagerState;else p=e(p,y.action);v=y,y=y.next}while(null!==y&&y!==s);g||(h=v,m=p),Bc(p,r.memoizedState)||Jy(),r.memoizedState=p,r.baseUpdate=h,r.baseState=m,o.lastRenderedState=p}var w=o.dispatch;return[r.memoizedState,w]}function bv(e){var t=mv();"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e;var n=t.queue={last:null,dispatch:null,lastRenderedReducer:vv,lastRenderedState:e},r=n.dispatch=Hv.bind(null,Hh,n);return[t.memoizedState,r]}function wv(e){return gv(vv)}function kv(e,t,n,r){var o={tag:e,create:t,destroy:n,deps:r,next:null};if(null===Xh)(Xh={lastEffect:null}).lastEffect=o.next=o;else{var a=Xh.lastEffect;if(null===a)Xh.lastEffect=o.next=o;else{var i=a.next;a.next=o,o.next=i,Xh.lastEffect=o}}return o}function xv(e){var t=mv(),n={current:e};return Object.seal(n),t.memoizedState=n,n}function Tv(e){return hv().memoizedState}function Sv(e,t,n,r){var o=mv(),a=void 0===r?null:r;Gh|=e,o.memoizedState=kv(t,n,void 0,a)}function Ev(e,t,n,r){var o=hv(),a=void 0===r?null:r,i=void 0;if(null!==Vh){var l=Vh.memoizedState;if(i=l.destroy,null!==a)if(cv(a,l.deps))return void kv(Dh,n,i,a)}Gh|=e,o.memoizedState=kv(t,n,i,a)}function _v(e,t){return"undefined"!=typeof jest&&Ww(Hh),Sv(Uo|$o,Lh|Ah,e,t)}function Cv(e,t){return"undefined"!=typeof jest&&Ww(Hh),Ev(Uo|$o,Lh|Ah,e,t)}function Pv(e,t){return Sv(Uo,Oh|Uh,e,t)}function Rv(e,t){return Ev(Uo,Oh|Uh,e,t)}function jv(e,t){if("function"==typeof t){var n=t,r=e();return n(r),function(){n(null)}}if(null!=t){var o=t;o.hasOwnProperty("current")||Me(!1,"Expected useImperativeHandle() first argument to either be a ref callback or React.createRef() object. Instead received: %s.","an object with keys {"+Object.keys(o).join(", ")+"}");var a=e();return o.current=a,function(){o.current=null}}}function Iv(e,t,n){"function"!=typeof t&&Me(!1,"Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",null!==t?typeof t:"null");var r=null!=n?n.concat([e]):null;return Sv(Uo,Oh|Uh,jv.bind(null,t,e),r)}function Dv(e,t,n){"function"!=typeof t&&Me(!1,"Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",null!==t?typeof t:"null");var r=null!=n?n.concat([e]):null;return Ev(Uo,Oh|Uh,jv.bind(null,t,e),r)}function Nv(e,t){}var Ov=Nv;function Mv(e,t){var n=void 0===t?null:t;return mv().memoizedState=[e,n],e}function zv(e,t){var n=hv(),r=void 0===t?null:t,o=n.memoizedState;if(null!==o&&(null!==r&&cv(r,o[1])))return o[0];return n.memoizedState=[e,r],e}function Uv(e,t){var n=mv(),r=void 0===t?null:t,o=e();return n.memoizedState=[o,r],o}function Av(e,t){var n=hv(),r=void 0===t?null:t,o=n.memoizedState;if(null!==o&&(null!==r&&cv(r,o[1])))return o[0];var a=e();return n.memoizedState=[a,r],a}function Lv(e,t){var n=bv(e),r=n[0],a=n[1];return _v((function(){o.unstable_next((function(){var n=Fh.suspense;Fh.suspense=void 0===t?null:t;try{a(e)}finally{Fh.suspense=n}}))}),[e,t]),r}function Wv(e,t){var n=wv(),r=n[0],a=n[1];return Cv((function(){o.unstable_next((function(){var n=Fh.suspense;Fh.suspense=void 0===t?null:t;try{a(e)}finally{Fh.suspense=n}}))}),[e,t]),r}function Fv(e){var t=bv(!1),n=t[0],r=t[1];return[Mv((function(t){r(!0),o.unstable_next((function(){var n=Fh.suspense;Fh.suspense=void 0===e?null:e;try{r(!1),t()}finally{Fh.suspense=n}}))}),[e,n]),n]}function Bv(e){var t=wv(),n=t[0],r=t[1];return[zv((function(t){r(!0),o.unstable_next((function(){var n=Fh.suspense;Fh.suspense=void 0===e?null:e;try{r(!1),t()}finally{Fh.suspense=n}}))}),[e,n]),n]}function Hv(e,t,n){if(!(ev<tv))throw Error("Too many re-renders. React limits the number of renders to prevent an infinite loop.");"function"==typeof arguments[3]&&Me(!1,"State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect().");var r=e.alternate;if(e===Hh||null!==r&&r===Hh){Jh=!0;var o={expirationTime:Bh,suspenseConfig:null,action:n,eagerReducer:null,eagerState:null,next:null};o.priority=Uf(),null===Zh&&(Zh=new Map);var a=Zh.get(t);if(void 0===a)Zh.set(t,o);else{for(var i=a;null!==i.next;)i=i.next;i.next=o}}else{var l=Hb(),u=xm(),s=Vb(l,e,u),c={expirationTime:s,suspenseConfig:u,action:n,eagerReducer:null,eagerState:null,next:null};c.priority=Uf();var d=t.last;if(null===d)c.next=c;else{var f=d.next;null!==f&&(c.next=f),d.next=c}if(t.last=c,e.expirationTime===Xf&&(null===r||r.expirationTime===Xf)){var p=t.lastRenderedReducer;if(null!==p){var m;m=Wh.current,Wh.current=Kv;try{var h=t.lastRenderedState,v=p(h,n);if(c.eagerReducer=p,c.eagerState=v,Bc(v,h))return}catch(e){}finally{Wh.current=m}}}"undefined"!=typeof jest&&(Lw(e),Fw(e)),$b(e,s)}}var Vv={readContext:Zp,useCallback:sv,useContext:sv,useEffect:sv,useImperativeHandle:sv,useLayoutEffect:sv,useMemo:sv,useReducer:sv,useRef:sv,useState:sv,useDebugValue:sv,useResponder:sv,useDeferredValue:sv,useTransition:sv},$v=null,qv=null,Yv=null,Qv=null,Kv=null,Xv=function(){Me(!1,"Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().")},Gv=function(){Me(!1,"Do not call Hooks inside useEffect(...), useMemo(...), or other built-in Hooks. You can only call Hooks at the top level of your React function. For more information, see https://fb.me/rules-of-hooks")};$v={readContext:function(e,t){return Zp(e,t)},useCallback:function(e,t){return nv="useCallback",iv(),uv(t),Mv(e,t)},useContext:function(e,t){return nv="useContext",iv(),Zp(e,t)},useEffect:function(e,t){return nv="useEffect",iv(),uv(t),_v(e,t)},useImperativeHandle:function(e,t,n){return nv="useImperativeHandle",iv(),uv(n),Iv(e,t,n)},useLayoutEffect:function(e,t){return nv="useLayoutEffect",iv(),uv(t),Pv(e,t)},useMemo:function(e,t){nv="useMemo",iv(),uv(t);var n=Wh.current;Wh.current=Qv;try{return Uv(e,t)}finally{Wh.current=n}},useReducer:function(e,t,n){nv="useReducer",iv();var r=Wh.current;Wh.current=Qv;try{return yv(e,t,n)}finally{Wh.current=r}},useRef:function(e){return nv="useRef",iv(),xv(e)},useState:function(e){nv="useState",iv();var t=Wh.current;Wh.current=Qv;try{return bv(e)}finally{Wh.current=t}},useDebugValue:function(e,t){nv="useDebugValue",iv()},useResponder:function(e,t){return nv="useResponder",iv(),jh(e,t)},useDeferredValue:function(e,t){return nv="useDeferredValue",iv(),Lv(e,t)},useTransition:function(e){return nv="useTransition",iv(),Fv(e)}},qv={readContext:function(e,t){return Zp(e,t)},useCallback:function(e,t){return nv="useCallback",lv(),Mv(e,t)},useContext:function(e,t){return nv="useContext",lv(),Zp(e,t)},useEffect:function(e,t){return nv="useEffect",lv(),_v(e,t)},useImperativeHandle:function(e,t,n){return nv="useImperativeHandle",lv(),Iv(e,t,n)},useLayoutEffect:function(e,t){return nv="useLayoutEffect",lv(),Pv(e,t)},useMemo:function(e,t){nv="useMemo",lv();var n=Wh.current;Wh.current=Qv;try{return Uv(e,t)}finally{Wh.current=n}},useReducer:function(e,t,n){nv="useReducer",lv();var r=Wh.current;Wh.current=Qv;try{return yv(e,t,n)}finally{Wh.current=r}},useRef:function(e){return nv="useRef",lv(),xv(e)},useState:function(e){nv="useState",lv();var t=Wh.current;Wh.current=Qv;try{return bv(e)}finally{Wh.current=t}},useDebugValue:function(e,t){nv="useDebugValue",lv()},useResponder:function(e,t){return nv="useResponder",lv(),jh(e,t)},useDeferredValue:function(e,t){return nv="useDeferredValue",lv(),Lv(e,t)},useTransition:function(e){return nv="useTransition",lv(),Fv(e)}},Yv={readContext:function(e,t){return Zp(e,t)},useCallback:function(e,t){return nv="useCallback",lv(),zv(e,t)},useContext:function(e,t){return nv="useContext",lv(),Zp(e,t)},useEffect:function(e,t){return nv="useEffect",lv(),Cv(e,t)},useImperativeHandle:function(e,t,n){return nv="useImperativeHandle",lv(),Dv(e,t,n)},useLayoutEffect:function(e,t){return nv="useLayoutEffect",lv(),Rv(e,t)},useMemo:function(e,t){nv="useMemo",lv();var n=Wh.current;Wh.current=Kv;try{return Av(e,t)}finally{Wh.current=n}},useReducer:function(e,t,n){nv="useReducer",lv();var r=Wh.current;Wh.current=Kv;try{return gv(e)}finally{Wh.current=r}},useRef:function(e){return nv="useRef",lv(),Tv()},useState:function(e){nv="useState",lv();var t=Wh.current;Wh.current=Kv;try{return wv()}finally{Wh.current=t}},useDebugValue:function(e,t){return nv="useDebugValue",lv(),Ov(e,t)},useResponder:function(e,t){return nv="useResponder",lv(),jh(e,t)},useDeferredValue:function(e,t){return nv="useDeferredValue",lv(),Wv(e,t)},useTransition:function(e){return nv="useTransition",lv(),Bv(e)}},Qv={readContext:function(e,t){return Xv(),Zp(e,t)},useCallback:function(e,t){return nv="useCallback",Gv(),iv(),Mv(e,t)},useContext:function(e,t){return nv="useContext",Gv(),iv(),Zp(e,t)},useEffect:function(e,t){return nv="useEffect",Gv(),iv(),_v(e,t)},useImperativeHandle:function(e,t,n){return nv="useImperativeHandle",Gv(),iv(),Iv(e,t,n)},useLayoutEffect:function(e,t){return nv="useLayoutEffect",Gv(),iv(),Pv(e,t)},useMemo:function(e,t){nv="useMemo",Gv(),iv();var n=Wh.current;Wh.current=Qv;try{return Uv(e,t)}finally{Wh.current=n}},useReducer:function(e,t,n){nv="useReducer",Gv(),iv();var r=Wh.current;Wh.current=Qv;try{return yv(e,t,n)}finally{Wh.current=r}},useRef:function(e){return nv="useRef",Gv(),iv(),xv(e)},useState:function(e){nv="useState",Gv(),iv();var t=Wh.current;Wh.current=Qv;try{return bv(e)}finally{Wh.current=t}},useDebugValue:function(e,t){nv="useDebugValue",Gv(),iv()},useResponder:function(e,t){return nv="useResponder",Gv(),iv(),jh(e,t)},useDeferredValue:function(e,t){return nv="useDeferredValue",Gv(),iv(),Lv(e,t)},useTransition:function(e){return nv="useTransition",Gv(),iv(),Fv(e)}},Kv={readContext:function(e,t){return Xv(),Zp(e,t)},useCallback:function(e,t){return nv="useCallback",Gv(),lv(),zv(e,t)},useContext:function(e,t){return nv="useContext",Gv(),lv(),Zp(e,t)},useEffect:function(e,t){return nv="useEffect",Gv(),lv(),Cv(e,t)},useImperativeHandle:function(e,t,n){return nv="useImperativeHandle",Gv(),lv(),Dv(e,t,n)},useLayoutEffect:function(e,t){return nv="useLayoutEffect",Gv(),lv(),Rv(e,t)},useMemo:function(e,t){nv="useMemo",Gv(),lv();var n=Wh.current;Wh.current=Kv;try{return Av(e,t)}finally{Wh.current=n}},useReducer:function(e,t,n){nv="useReducer",Gv(),lv();var r=Wh.current;Wh.current=Kv;try{return gv(e)}finally{Wh.current=r}},useRef:function(e){return nv="useRef",Gv(),lv(),Tv()},useState:function(e){nv="useState",Gv(),lv();var t=Wh.current;Wh.current=Kv;try{return wv()}finally{Wh.current=t}},useDebugValue:function(e,t){return nv="useDebugValue",Gv(),lv(),Ov(e,t)},useResponder:function(e,t){return nv="useResponder",Gv(),lv(),jh(e,t)},useDeferredValue:function(e,t){return nv="useDeferredValue",Gv(),lv(),Wv(e,t)},useTransition:function(e){return nv="useTransition",Gv(),lv(),Bv(e)}};var Jv=o.unstable_now,Zv=0,ey=-1;function ty(){return Zv}function ny(){ht&&(Zv=Jv())}function ry(e){ht&&(ey=Jv(),e.actualStartTime<0&&(e.actualStartTime=Jv()))}function oy(e){ht&&(ey=-1)}function ay(e,t){if(ht&&ey>=0){var n=Jv()-ey;e.actualDuration+=n,t&&(e.selfBaseDuration=n),ey=-1}}var iy=null,ly=null,uy=!1;function sy(e,t){switch(e.tag){case Y:!function(e,t){t.nodeType===Or?pu(e,t):t.nodeType===zr||mu(e,t)}(e.stateNode.containerInfo,t);break;case K:!function(e,t,n,r){!0!==t[Au]&&(r.nodeType===Or?pu(n,r):r.nodeType===zr||mu(n,r))}(e.type,e.memoizedProps,e.stateNode,t)}var n,r=((n=uk(K,null,null,Vf)).elementType="DELETED",n.type="DELETED",n);r.stateNode=t,r.return=e,r.effectTag=Lo,null!==e.lastEffect?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function cy(e,t){switch(t.effectTag=t.effectTag&~qo|zo,e.tag){case Y:var n=e.stateNode.containerInfo;switch(t.tag){case K:var r=t.type;t.pendingProps;!function(e,t,n){hu(e,t)}(n,r);break;case X:!function(e,t){vu(e,t)}(n,t.pendingProps)}break;case K:e.type;var o=e.memoizedProps,a=e.stateNode;switch(t.tag){case K:var i=t.type;t.pendingProps;!function(e,t,n,r,o){!0!==t[Au]&&hu(n,r)}(0,o,a,i);break;case X:!function(e,t,n,r){!0!==t[Au]&&vu(n,r)}(0,o,a,t.pendingProps);break;case re:!function(e,t,n){t[Au]}(0,o)}break;default:return}}function dy(e,t){switch(e.tag){case K:var n=e.type,r=(e.pendingProps,function(e,t,n){return e.nodeType!==Or||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e}(t,n));return null!==r&&(e.stateNode=r,!0);case X:var o=function(e,t){return""===t||e.nodeType!==Mr?null:e}(t,e.pendingProps);return null!==o&&(e.stateNode=o,!0);case re:if(yt){var a=function(e){return e.nodeType!==zr?null:e}(t);if(null!==a){var i={dehydrated:a,retryTime:Gf};e.memoizedState=i;var l=function(e){var t=uk(ue,null,null,Vf);return t.stateNode=e,t}(a);return l.return=e,e.child=l,!0}}return!1;default:return!1}}function fy(e){if(uy){var t=ly;if(!t)return cy(iy,e),uy=!1,void(iy=e);var n=t;if(!dy(e,t)){if(!(t=Is(n))||!dy(e,t))return cy(iy,e),uy=!1,void(iy=e);sy(iy,n)}iy=e,ly=Ds(t)}}function py(e){if(!Cs)throw Error("Expected prepareToHydrateHostTextInstance() to never be called. This error is likely caused by a bug in React. Please file an issue.");var t=e.stateNode,n=e.memoizedProps,r=function(e,t,n){return Bs(n,e),function(e,t){return e.nodeValue!==t}(e,t)}(t,n,e);if(r){var o=iy;if(null!==o)switch(o.tag){case Y:o.stateNode.containerInfo;!function(e,t,n){fu(t,n)}(0,t,n);break;case K:o.type;var a=o.memoizedProps;o.stateNode;!function(e,t,n,r,o){!0!==t[Au]&&fu(r,o)}(0,a,0,t,n)}}return r}function my(e){if(!Cs)throw Error("Expected prepareToHydrateHostSuspenseInstance() to never be called. This error is likely caused by a bug in React. Please file an issue.");var t=e.memoizedState,n=null!==t?t.dehydrated:null;if(!n)throw Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");!function(e,t){Bs(t,e)}(n,e)}function hy(e){if(!Cs)throw Error("Expected skipPastDehydratedSuspenseInstance() to never be called. This error is likely caused by a bug in React. Please file an issue.");var t=e.memoizedState,n=null!==t?t.dehydrated:null;if(!n)throw Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");return function(e){for(var t=e.nextSibling,n=0;t;){if(t.nodeType===zr){var r=t.data;if(r===Ku){if(0===n)return Is(t);n--}else r!==Qu&&r!==Gu&&r!==Xu||n++}t=t.nextSibling}return null}(n)}function vy(e){for(var t=e.return;null!==t&&t.tag!==K&&t.tag!==Y&&t.tag!==re;)t=t.return;iy=t}function yy(e){if(!Cs)return!1;if(e!==iy)return!1;if(!uy)return vy(e),uy=!0,!1;var t=e.type;if(e.tag!==K||"head"!==t&&"body"!==t&&!ls(t,e.memoizedProps))for(var n=ly;n;)sy(e,n),n=Is(n);return vy(e),ly=e.tag===re?hy(e):iy?Is(e.stateNode):null,!0}function gy(){Cs&&(iy=null,ly=null,uy=!1)}var by,wy,ky,xy,Ty,Sy,Ey,_y,Cy,Py,Ry=fe.ReactCurrentOwner,jy=!1;function Iy(e,t,n,r){t.child=null===e?nh(t,null,n,r):th(t,e.child,n,r)}function Dy(e,t,n,r,o){if(t.type!==t.elementType){var i=n.propTypes;i&&a(i,r,"prop",Fe(n),Qe)}var l,u=n.render,s=t.ref;return Jp(t,o),Ry.current=t,Ge("render"),l=dv(e,t,u,r,s,o),pt&&t.mode&$f&&null!==t.memoizedState&&(l=dv(e,t,u,r,s,o)),Ge(null),null===e||jy?(t.effectTag|=Mo,Iy(e,t,l,o),t.child):(fv(e,t,o),Zy(e,t,o))}function Ny(e,t,n,r,o,i){if(null===e){var l=n.type;if(function(e){return"function"==typeof e&&!sk(e)&&void 0===e.defaultProps}(l)&&null===n.compare&&void 0===n.defaultProps){var u;return u=jp(l),t.tag=ae,t.type=u,By(t,l),Oy(e,t,u,r,o,i)}var s=l.propTypes;s&&a(s,r,"prop",Fe(l),Qe);var c=fk(n.type,null,r,null,t.mode,i);return c.ref=t.ref,c.return=t,t.child=c,c}var d=n.type,f=d.propTypes;f&&a(f,r,"prop",Fe(d),Qe);var p=e.child;if(o<i){var m=p.memoizedProps,h=n.compare;if((h=null!==h?h:Vc)(m,r)&&e.ref===t.ref)return Zy(e,t,i)}t.effectTag|=Mo;var v=ck(p,r,i);return v.ref=t.ref,v.return=t,t.child=v,v}function Oy(e,t,n,r,o,i){if(t.type!==t.elementType){var l=t.elementType;l.$$typeof===Pe&&(l=We(l));var u=l&&l.propTypes;u&&a(u,r,"prop",Fe(l),Qe)}if(null!==e&&(Vc(e.memoizedProps,r)&&e.ref===t.ref&&t.type===e.type&&(jy=!1,o<i)))return Zy(e,t,i);return zy(e,t,n,r,i)}function My(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=Ho)}function zy(e,t,n,r,o){if(t.type!==t.elementType){var i=n.propTypes;i&&a(i,r,"prop",Fe(n),Qe)}var l,u;jt||(l=Gd(t,Kd(0,n,!0)));return Jp(t,o),Ry.current=t,Ge("render"),u=dv(e,t,n,r,l,o),pt&&t.mode&$f&&null!==t.memoizedState&&(u=dv(e,t,n,r,l,o)),Ge(null),null===e||jy?(t.effectTag|=Mo,Iy(e,t,u,o),t.child):(fv(e,t,o),Zy(e,t,o))}function Uy(e,t,n,r,o){if(t.type!==t.elementType){var i=n.propTypes;i&&a(i,r,"prop",Fe(n),Qe)}var l,u;Zd(n)?(l=!0,of(t)):l=!1,Jp(t,o),null===t.stateNode?(null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=zo),qm(t,n,r),Qm(t,n,r,o),u=!0):u=null===e?function(e,t,n,r){var o=e.stateNode,a=e.memoizedProps;o.props=a;var i=o.context,l=t.contextType,u=$d;if("object"==typeof l&&null!==l)u=Zp(l);else if(!jt){u=Gd(e,Kd(0,t,!0))}var s=t.getDerivedStateFromProps,c="function"==typeof s||"function"==typeof o.getSnapshotBeforeUpdate;c||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||a===n&&i===u||Ym(e,o,n,u),ym();var d=e.memoizedState,f=o.state=d,p=e.updateQueue;if(null!==p&&(hm(e,p,n,o,r),f=e.memoizedState),a===n&&d===f&&!Jd()&&!gm())return"function"==typeof o.componentDidMount&&(e.effectTag|=Uo),!1;"function"==typeof s&&(Um(e,t,s,n),f=e.memoizedState);var m=gm()||Vm(e,t,a,n,d,f,u);return m?(c||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(Pd(e,"componentWillMount"),"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),Rd()),"function"==typeof o.componentDidMount&&(e.effectTag|=Uo)):("function"==typeof o.componentDidMount&&(e.effectTag|=Uo),e.memoizedProps=n,e.memoizedState=f),o.props=n,o.state=f,o.context=u,m}(t,n,r,o):function(e,t,n,r,o){var a=t.stateNode,i=t.memoizedProps;a.props=t.type===t.elementType?i:Ap(t.type,i);var l=a.context,u=n.contextType,s=$d;if("object"==typeof u&&null!==u)s=Zp(u);else if(!jt){s=Gd(t,Kd(0,n,!0))}var c=n.getDerivedStateFromProps,d="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;d||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||i===r&&l===s||Ym(t,a,r,s),ym();var f=t.memoizedState,p=a.state=f,m=t.updateQueue;if(null!==m&&(hm(t,m,r,a,o),p=t.memoizedState),i===r&&f===p&&!Jd()&&!gm())return"function"==typeof a.componentDidUpdate&&(i===e.memoizedProps&&f===e.memoizedState||(t.effectTag|=Uo)),"function"==typeof a.getSnapshotBeforeUpdate&&(i===e.memoizedProps&&f===e.memoizedState||(t.effectTag|=Vo)),!1;"function"==typeof c&&(Um(t,n,c,r),p=t.memoizedState);var h=gm()||Vm(t,n,i,r,f,p,s);return h?(d||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||(Pd(t,"componentWillUpdate"),"function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,s),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,s),Rd()),"function"==typeof a.componentDidUpdate&&(t.effectTag|=Uo),"function"==typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=Vo)):("function"==typeof a.componentDidUpdate&&(i===e.memoizedProps&&f===e.memoizedState||(t.effectTag|=Uo)),"function"==typeof a.getSnapshotBeforeUpdate&&(i===e.memoizedProps&&f===e.memoizedState||(t.effectTag|=Vo)),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=s,h}(e,t,n,r,o);var s=Ay(e,t,n,u,l,o);return t.stateNode.props!==r&&(Sy||Me(!1,"It looks like %s is reassigning its own `this.props` while rendering. This is not supported and can lead to confusing bugs.",Fe(t.type)||"a component"),Sy=!0),s}function Ay(e,t,n,r,o,a){My(e,t);var i=(t.effectTag&Bo)!==Oo;if(!r&&!i)return o&&af(t,n,!1),Zy(e,t,a);var l,u=t.stateNode;return Ry.current=t,i&&"function"!=typeof n.getDerivedStateFromError?(l=null,ht&&oy()):(Ge("render"),l=u.render(),pt&&t.mode&$f&&u.render(),Ge(null)),t.effectTag|=Mo,null!==e&&i?function(e,t,n,r){t.child=th(t,e.child,null,r),t.child=th(t,null,n,r)}(e,t,l,a):Iy(e,t,l,a),t.memoizedState=u.state,o&&af(t,n,!0),t.child}function Ly(e){var t=e.stateNode;t.pendingContext?nf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&nf(e,t.context,!1),ch(e,t.containerInfo)}function Wy(e,t,n){Ly(t);var r=t.updateQueue;if(null===r)throw Error("If the root does not have an updateQueue, we should have already bailed out. This error is likely caused by a bug in React. Please file an issue.");var o=t.pendingProps,a=t.memoizedState,i=null!==a?a.element:null;hm(t,r,o,null,n);var l=t.memoizedState.element;if(l===i)return gy(),Zy(e,t,n);if(t.stateNode.hydrate&&function(e){if(!Cs)return!1;var t=e.stateNode.containerInfo;return ly=Ds(t),iy=e,uy=!0,!0}(t)){var u=nh(t,null,l,n);t.child=u;for(var s=u;s;)s.effectTag=s.effectTag&~zo|qo,s=s.sibling}else Iy(e,t,l,n),gy();return t.child}function Fy(e,t,n,r,o){null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=zo);var i=t.pendingProps;Ed(t);var l=Lp(n);t.type=l;var u=t.tag=function(e){if("function"==typeof e)return sk(e)?$:V;if(null!=e){var t=e.$$typeof;if(t===Se)return te;if(t===Ce)return oe}return q}(l);Sd(t);var s,c=Ap(l,i);switch(u){case V:By(t,l),t.type=l=jp(l),s=zy(null,t,l,c,o);break;case $:t.type=l=Ip(l),s=Uy(null,t,l,c,o);break;case te:t.type=l=Dp(l),s=Dy(null,t,l,c,o);break;case oe:if(t.type!==t.elementType){var d=l.propTypes;d&&a(d,c,"prop",Fe(l),Qe)}s=Ny(null,t,l,Ap(l.type,c),r,o);break;default:var f="";throw null!==l&&"object"==typeof l&&l.$$typeof===Pe&&(f=" Did you wrap a component in React.lazy() more than once?"),Error("Element type is invalid. Received a promise that resolves to: "+l+". Lazy element type must resolve to a class or function."+f)}return s}function By(e,t){if(t&&t.childContextTypes&&j(!1,"%s(...): childContextTypes cannot be defined on a function component.",t.displayName||t.name||"Component"),null!==e.ref){var n="",r=Ye();r&&(n+="\n\nCheck the render method of `"+r+"`.");var o=r||e._debugID||"",a=e._debugSource;a&&(o=a.fileName+":"+a.lineNumber),Ty[o]||(Ty[o]=!0,Me(!1,"Function components cannot be given refs. Attempts to access this ref will fail. Did you mean to use React.forwardRef()?%s",n))}if(Pt&&void 0!==t.defaultProps){var i=Fe(t)||"Unknown";Py[i]||(j(!1,"%s: Support for defaultProps will be removed from function components in a future major release. Use JavaScript default parameters instead.",i),Py[i]=!0)}if("function"==typeof t.getDerivedStateFromProps){var l=Fe(t)||"Unknown";xy[l]||(j(!1,"%s: Function components do not support getDerivedStateFromProps.",l),xy[l]=!0)}if("object"==typeof t.contextType&&null!==t.contextType){var u=Fe(t)||"Unknown";ky[u]||(j(!1,"%s: Function components do not support contextType.",u),ky[u]=!0)}}by={},wy={},ky={},xy={},Ty={},Sy=!1,Ey=!1,_y={},Cy={},Py={};var Hy={dehydrated:null,retryTime:Xf};function Vy(e,t,n){var r=t.mode,o=t.pendingProps;Dk(t)&&(t.effectTag|=Bo);var a=gh.current,i=!1,l=(t.effectTag&Bo)!==Oo;if(l||function(e,t,n){return bh(e,yh)&&(null===t||null!==t.memoizedState)}(a,e)?(i=!0,t.effectTag&=~Bo):null!==e&&null===e.memoizedState||void 0!==o.fallback&&!0!==o.unstable_avoidThisFallback&&(a=a|vh),xh(t,a=wh(a)),"maxDuration"in o&&(Ey||(Ey=!0,Me(!1,"maxDuration has been removed from React. Remove the maxDuration prop."))),null===e){if(void 0!==o.fallback&&(fy(t),yt)){var u=t.memoizedState;if(null!==u){var s=u.dehydrated;if(null!==s)return function(e,t,n){if((e.mode&qf)===Vf)Me(!1,"Cannot hydrate Suspense in legacy mode. Switch from ReactDOM.hydrate(element, container) to ReactDOM.createBlockingRoot(container, { hydrate: true }).render(element) or remove the Suspense components from the server rendered components."),e.expirationTime=ep;else if(Rs(t)){var r=sp(Hb());vt&&qw(r),e.expirationTime=r}else e.expirationTime=Gf,vt&&qw(Gf);return null}(t,s)}}if(i){var c=o.fallback,d=mk(null,r,Xf,null);if(d.return=t,(t.mode&qf)===Vf){var f=null!==t.memoizedState?t.child.child:t.child;d.child=f;for(var p=f;null!==p;)p.return=d,p=p.sibling}var m=mk(c,r,n,null);return m.return=t,d.sibling=m,t.memoizedState=Hy,t.child=d,m}var h=o.children;return t.memoizedState=null,t.child=nh(t,null,h,n)}var v=e.memoizedState;if(null!==v){if(yt){var y=v.dehydrated;if(null!==y){if(l){if(null!==t.memoizedState)return t.child=e.child,t.effectTag|=Bo,null;var g=o.fallback,b=mk(null,r,Xf,null);if(b.return=t,b.child=null,(t.mode&qf)===Vf)for(var w=b.child=t.child;null!==w;)w.return=b,w=w.sibling;else th(t,e.child,null,n);if(ht&&t.mode&Qf){for(var k=0,x=b.child;null!==x;)k+=x.treeBaseDuration,x=x.sibling;b.treeBaseDuration=k}var T=mk(g,r,n,null);return T.return=t,b.sibling=T,T.effectTag|=zo,b.childExpirationTime=Xf,t.memoizedState=Hy,t.child=b,T}return function(e,t,n,r,o){if(function(){uy&&Me(!1,"We should not be hydrating here. This is a bug in React. Please file a bug.")}(),(t.mode&qf)===Vf)return $y(e,t,o);if(Rs(n))return $y(e,t,o);var a=e.childExpirationTime>=o;if(jy||a){if(o<ep&&r.retryTime<=o){var i=o+1;r.retryTime=i,$b(e,i)}return cw(),$y(e,t,o)}if(Ps(n))return t.effectTag|=Bo,t.child=e.child,c=n,d=jw.bind(null,e),c._reactRetry=d,null;!function(e,t){!!Cs&&(ly=Is(t),vy(e),uy=!0)}(t,n);for(var l=t.pendingProps.children,u=nh(t,null,l,o),s=u;s;)s.effectTag|=qo,s=s.sibling;return t.child=u,t.child;var c,d}(e,t,y,v,n)}}var S=e.child,E=S.sibling;if(i){var _=o.fallback,C=ck(S,S.pendingProps,Xf);if(C.return=t,(t.mode&qf)===Vf){var P=null!==t.memoizedState?t.child.child:t.child;if(P!==S.child){C.child=P;for(var R=P;null!==R;)R.return=C,R=R.sibling}}if(ht&&t.mode&Qf){for(var j=0,I=C.child;null!==I;)j+=I.treeBaseDuration,I=I.sibling;C.treeBaseDuration=j}var D=ck(E,_,E.expirationTime);return D.return=t,C.sibling=D,C.childExpirationTime=Xf,t.memoizedState=Hy,t.child=C,D}var N=o.children,O=S.child,M=th(t,O,N,n);return t.memoizedState=null,t.child=M}var z=e.child;if(i){var U=o.fallback,A=mk(null,r,Xf,null);if(A.return=t,A.child=z,null!==z&&(z.return=A),(t.mode&qf)===Vf){var L=null!==t.memoizedState?t.child.child:t.child;A.child=L;for(var W=L;null!==W;)W.return=A,W=W.sibling}if(ht&&t.mode&Qf){for(var F=0,B=A.child;null!==B;)F+=B.treeBaseDuration,B=B.sibling;A.treeBaseDuration=F}var H=mk(U,r,n,null);return H.return=t,A.sibling=H,H.effectTag|=zo,A.childExpirationTime=Xf,t.memoizedState=Hy,t.child=A,H}t.memoizedState=null;var V=o.children;return t.child=th(t,z,V,n)}function $y(e,t,n){return t.memoizedState=null,Iy(e,t,t.pendingProps.children,n),t.child}function qy(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),Gp(e.return,t)}function Yy(e,t){var n=Array.isArray(e),r=!n&&"function"==typeof Oe(e);if(n||r){var o=n?"array":"iterable";return Me(!1,"A nested %s was passed to row #%s in <SuspenseList />. Wrap it in an additional SuspenseList to configure its revealOrder: <SuspenseList revealOrder=...> ... <SuspenseList revealOrder=...>{%s}</SuspenseList> ... </SuspenseList>",o,t,o),!1}return!0}function Qy(e,t,n,r,o,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,last:r,tail:n,tailExpiration:0,tailMode:o,lastEffect:a}:(i.isBackwards=t,i.rendering=null,i.last=r,i.tail=n,i.tailExpiration=0,i.tailMode=o,i.lastEffect=a)}function Ky(e,t,n){var r=t.pendingProps,o=r.revealOrder,a=r.tail,i=r.children;!function(e){if(void 0!==e&&"forwards"!==e&&"backwards"!==e&&"together"!==e&&!_y[e])if(_y[e]=!0,"string"==typeof e)switch(e.toLowerCase()){case"together":case"forwards":case"backwards":Me(!1,'"%s" is not a valid value for revealOrder on <SuspenseList />. Use lowercase "%s" instead.',e,e.toLowerCase());break;case"forward":case"backward":Me(!1,'"%s" is not a valid value for revealOrder on <SuspenseList />. React uses the -s suffix in the spelling. Use "%ss" instead.',e,e.toLowerCase());break;default:Me(!1,'"%s" is not a supported revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',e)}else Me(!1,'%s is not a supported value for revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',e)}(o),function(e,t){void 0===e||Cy[e]||("collapsed"!==e&&"hidden"!==e?(Cy[e]=!0,Me(!1,'"%s" is not a supported value for tail on <SuspenseList />. Did you mean "collapsed" or "hidden"?',e)):"forwards"!==t&&"backwards"!==t&&(Cy[e]=!0,Me(!1,'<SuspenseList tail="%s" /> is only valid if revealOrder is "forwards" or "backwards". Did you mean to specify revealOrder="forwards"?',e)))}(a,o),function(e,t){if(("forwards"===t||"backwards"===t)&&null!=e&&!1!==e)if(Array.isArray(e)){for(var n=0;n<e.length;n++)if(!Yy(e[n],n))return}else{var r=Oe(e);if("function"==typeof r){var o=r.call(e);if(o)for(var a=o.next(),i=0;!a.done;a=o.next()){if(!Yy(a.value,i))return;i++}}else Me(!1,'A single row was passed to a <SuspenseList revealOrder="%s" />. This is not useful since it needs multiple rows. Did you mean to pass multiple children or an array?',t)}}(i,o),Iy(e,t,i,n);var l=gh.current;bh(l,yh)?(l=kh(l,yh),t.effectTag|=Bo):(null!==e&&(e.effectTag&Bo)!==Oo&&function(e,t,n){for(var r=t;null!==r;){if(r.tag===re)null!==r.memoizedState&&qy(r,n);else if(r.tag===se)qy(r,n);else if(null!==r.child){r.child.return=r,r=r.child;continue}if(r===e)return;for(;null===r.sibling;){if(null===r.return||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}(t,t.child,n),l=wh(l));if(xh(t,l),(t.mode&qf)===Vf)t.memoizedState=null;else switch(o){case"forwards":var u,s=function(e){for(var t=e,n=null;null!==t;){var r=t.alternate;null!==r&&null===Eh(r)&&(n=t),t=t.sibling}return n}(t.child);null===s?(u=t.child,t.child=null):(u=s.sibling,s.sibling=null),Qy(t,!1,u,s,a,t.lastEffect);break;case"backwards":var c=null,d=t.child;for(t.child=null;null!==d;){var f=d.alternate;if(null!==f&&null===Eh(f)){t.child=d;break}var p=d.sibling;d.sibling=c,c=d,d=p}Qy(t,!0,c,null,a,t.lastEffect);break;case"together":Qy(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Xy(e,t,n){var r=t.type._context,o=t.pendingProps,i=t.memoizedProps,l=o.value,u=t.type.propTypes;if(u&&a(u,o,"prop","Context.Provider",Qe),Kp(t,l),null!==i){var s=function(e,t,n){if(Bc(n,t))return 0;var r="function"==typeof e._calculateChangedBits?e._calculateChangedBits(n,t):Kf;return(r&Kf)!==r&&Me(!1,"calculateChangedBits: Expected the return value to be a 31-bit integer. Instead received: %s",r),0|r}(r,l,i.value);if(0===s){if(i.children===o.children&&!Jd())return Zy(e,t,n)}else!function(e,t,n,r){var o=e.child;for(null!==o&&(o.return=e);null!==o;){var a=void 0,i=o.dependencies;if(null!==i){a=o.child;for(var l=i.firstContext;null!==l;){if(l.context===t&&0!=(l.observedBits&n)){if(o.tag===$){var u=sm(r,null);u.tag=om,dm(o,u)}o.expirationTime<r&&(o.expirationTime=r);var s=o.alternate;null!==s&&s.expirationTime<r&&(s.expirationTime=r),Gp(o.return,r),i.expirationTime<r&&(i.expirationTime=r);break}l=l.next}}else if(o.tag===ee)a=o.type===e.type?null:o.child;else if(yt&&o.tag===ue){var c=o.return;if(null===c)throw Error("We just came from a parent so we must have had a parent. This is a bug in React.");c.expirationTime<r&&(c.expirationTime=r);var d=c.alternate;null!==d&&d.expirationTime<r&&(d.expirationTime=r),Gp(c,r),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===e){a=null;break}var f=a.sibling;if(null!==f){f.return=a.return,a=f;break}a=a.return}o=a}}(t,r,s,n)}return Iy(e,t,o.children,n),t.child}var Gy=!1;function Jy(){jy=!0}function Zy(e,t,n){Ed(t),null!==e&&(t.dependencies=e.dependencies),ht&&oy();var r=t.expirationTime;return r!==Xf&&sw(r),t.childExpirationTime<n?null:(function(e,t){if(null!==e&&t.child!==e.child)throw Error("Resuming work not yet implemented.");if(null!==t.child){var n=t.child,r=ck(n,n.pendingProps,n.expirationTime);for(t.child=r,r.return=t;null!==n.sibling;)n=n.sibling,(r=r.sibling=ck(n,n.pendingProps,n.expirationTime)).return=t;r.sibling=null}}(e,t),t.child)}function eg(e,t,n){var r=t.expirationTime;if(t._debugNeedsRemount&&null!==e)return function(e,t,n){var r=t.return;if(null===r)throw new Error("Cannot swap the root fiber.");if(e.alternate=null,t.alternate=null,n.index=t.index,n.sibling=t.sibling,n.return=t.return,n.ref=t.ref,t===r.child)r.child=n;else{var o=r.child;if(null===o)throw new Error("Expected parent to have a child.");for(;o.sibling!==t;)if(null===(o=o.sibling))throw new Error("Expected to find the previous sibling.");o.sibling=n}var a=r.lastEffect;return null!==a?(a.nextEffect=e,r.lastEffect=e):r.firstEffect=r.lastEffect=e,e.nextEffect=null,e.effectTag=Lo,n.effectTag|=zo,n}(e,t,fk(t.type,t.key,t.pendingProps,t._debugOwner||null,t.mode,t.expirationTime));if(null!==e){var o=e.memoizedProps,i=t.pendingProps;if(o!==i||Jd()||t.type!==e.type)jy=!0;else{if(r<n){switch(jy=!1,t.tag){case Y:Ly(t),gy();break;case K:if(ph(t),t.mode&Yf&&n!==Gf&&us(t.type,i))return vt&&qw(Gf),t.expirationTime=t.childExpirationTime=Gf,null;break;case $:Zd(t.type)&&of(t);break;case Q:ch(t,t.stateNode.containerInfo);break;case ee:Kp(t,t.memoizedProps.value);break;case ne:if(ht)t.childExpirationTime>=n&&(t.effectTag|=Uo);break;case re:var l=t.memoizedState;if(null!==l){if(yt&&null!==l.dehydrated){xh(t,wh(gh.current)),t.effectTag|=Bo;break}var u=t.child.childExpirationTime;if(u!==Xf&&u>=n)return Vy(e,t,n);xh(t,wh(gh.current));var s=Zy(e,t,n);return null!==s?s.sibling:null}xh(t,wh(gh.current));break;case se:var c=(e.effectTag&Bo)!==Oo,d=t.childExpirationTime>=n;if(c){if(d)return Ky(e,t,n);t.effectTag|=Bo}var f=t.memoizedState;if(null!==f&&(f.rendering=null,f.tail=null),xh(t,gh.current),d)break;return null}return Zy(e,t,n)}jy=!1}}else jy=!1;switch(t.expirationTime=Xf,t.tag){case q:return function(e,t,n,r){null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=zo);var o,a,i=t.pendingProps;if(jt||(o=Gd(t,Kd(0,n,!1))),Jp(t,r),n.prototype&&"function"==typeof n.prototype.render){var l=Fe(n)||"Unknown";by[l]||(j(!1,"The <%s /> component appears to have a render method, but doesn't extend React.Component. This is likely to cause errors. Change %s to extend React.Component instead.",l,l),by[l]=!0)}if(t.mode&$f&&vp.recordLegacyContextWarning(t,null),Ry.current=t,a=dv(null,t,n,i,o,r),t.effectTag|=Mo,"object"==typeof a&&null!==a&&"function"==typeof a.render&&void 0===a.$$typeof){var u=Fe(n)||"Unknown";wy[u]||(j(!1,"The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.",u,u,u),wy[u]=!0),t.tag=$,pv();var s=!1;Zd(n)?(s=!0,of(t)):s=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null;var c=n.getDerivedStateFromProps;return"function"==typeof c&&Um(t,n,c,i),$m(t,a),Qm(t,n,i,r),Ay(null,t,n,!0,s,r)}return t.tag=V,jt&&n.contextTypes&&j(!1,"%s uses the legacy contextTypes API which is no longer supported. Use React.createContext() with React.useContext() instead.",Fe(n)||"Unknown"),pt&&t.mode&$f&&null!==t.memoizedState&&(a=dv(null,t,n,i,o,r)),Iy(null,t,a,r),By(t,n),t.child}(e,t,t.type,n);case ie:return Fy(e,t,t.elementType,r,n);case V:var p=t.type,m=t.pendingProps;return zy(e,t,p,t.elementType===p?m:Ap(p,m),n);case $:var h=t.type,v=t.pendingProps;return Uy(e,t,h,t.elementType===h?v:Ap(h,v),n);case Y:return Wy(e,t,n);case K:return function(e,t,n){ph(t),null===e&&fy(t);var r=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,i=o.children;return ls(r,o)?i=null:null!==a&&ls(r,a)&&(t.effectTag|=Wo),My(e,t),t.mode&Yf&&n!==Gf&&us(0,o)?(vt&&qw(Gf),t.expirationTime=t.childExpirationTime=Gf,null):(Iy(e,t,i,n),t.child)}(e,t,n);case X:return function(e,t){return null===e&&fy(t),null}(e,t);case re:return Vy(e,t,n);case Q:return function(e,t,n){ch(t,t.stateNode.containerInfo);var r=t.pendingProps;return null===e?t.child=th(t,null,r,n):Iy(e,t,r,n),t.child}(e,t,n);case te:var y=t.type,g=t.pendingProps;return Dy(e,t,y,t.elementType===y?g:Ap(y,g),n);case G:return function(e,t,n){return Iy(e,t,t.pendingProps,n),t.child}(e,t,n);case J:return function(e,t,n){return Iy(e,t,t.pendingProps.children,n),t.child}(e,t,n);case ne:return function(e,t,n){return ht&&(t.effectTag|=Uo),Iy(e,t,t.pendingProps.children,n),t.child}(e,t,n);case ee:return Xy(e,t,n);case Z:return function(e,t,n){var r=t.type;void 0===r._context?r!==r.Consumer&&(Gy||(Gy=!0,Me(!1,"Rendering <Context> directly is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?"))):r=r._context;var o=t.pendingProps,a=o.children;"function"!=typeof a&&j(!1,"A context consumer was rendered with multiple children, or a child that isn't a function. A context consumer expects a single child that is a function. If you did pass a function, make sure there is no trailing or leading whitespace around it."),Jp(t,n);var i,l=Zp(r,o.unstable_observedBits);return Ry.current=t,Ge("render"),i=a(l),Ge(null),t.effectTag|=Mo,Iy(e,t,i,n),t.child}(e,t,n);case oe:var b=t.type,w=Ap(b,t.pendingProps);if(t.type!==t.elementType){var k=b.propTypes;k&&a(k,w,"prop",Fe(b),Qe)}return Ny(e,t,b,w=Ap(b.type,w),r,n);case ae:return Oy(e,t,t.type,t.pendingProps,r,n);case le:var x=t.type,T=t.pendingProps;return function(e,t,n,r,o){var a;return null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=zo),t.tag=$,Zd(n)?(a=!0,of(t)):a=!1,Jp(t,o),qm(t,n,r),Qm(t,n,r,o),Ay(null,t,n,!0,a,o)}(e,t,x,t.elementType===x?T:Ap(x,T),n);case se:return Ky(e,t,n);case ce:if(Tt)return function(e,t,n){return!1===t.type.impl.reconcileChildren?null:(Iy(e,t,t.pendingProps.children,n),t.child)}(e,t,n);break;case de:if(St)return function(e,t,n){return Iy(e,t,t.pendingProps.children,n),t.child}(e,t,n)}throw Error("Unknown unit of work tag ("+t.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function tg(e){return e.tag===re&&null!==e.memoizedState}function ng(e){return e.child.sibling.child}var rg,og,ag,ig,lg={};function ug(e,t,n){if(St){if(e.tag===K){var r=e.type,o=e.memoizedProps,a=e.stateNode;null!==a&&!0===t(r,o||lg,a)&&n.push(a)}var i=e.child;tg(e)&&(i=ng(e)),null!==i&&cg(i,t,n)}}function sg(e,t){if(St){if(e.tag===K){var n=e.type,r=e.memoizedProps,o=e.stateNode;if(null!==o&&!0===t(n,r,o))return o}var a=e.child;if(tg(e)&&(a=ng(e)),null!==a)return dg(a,t)}return null}function cg(e,t,n){for(var r=e;null!==r;)ug(r,t,n),r=r.sibling}function dg(e,t){for(var n=e;null!==n;){var r=sg(n,t);if(null!==r)return r;n=n.sibling}return null}function fg(e,t,n){if(function(e,t){return e.tag===de&&e.type===t&&null!==e.stateNode}(e,t))n.push(e.stateNode.methods);else{var r=e.child;tg(e)&&(r=ng(e)),null!==r&&pg(r,t,n)}}function pg(e,t,n){for(var r=e;null!==r;)fg(r,t,n),r=r.sibling}function mg(e,t){return{getChildren:function(){var n=t.fiber.child,r=[];return null!==n&&pg(n,e,r),0===r.length?null:r},getChildrenFromRoot:function(){for(var n=t.fiber;null!==n;){var r=n.return;if(null===r)break;if((n=r).tag===de&&n.type===e)break}var o=[];return pg(n.child,e,o),0===o.length?null:o},getParent:function(){for(var n=t.fiber.return;null!==n;){if(n.tag===de&&n.type===e)return n.stateNode.methods;n=n.return}return null},getProps:function(){return t.fiber.memoizedProps},queryAllNodes:function(e){var n=t.fiber.child,r=[];return null!==n&&cg(n,e,r),0===r.length?null:r},queryFirstNode:function(e){var n=t.fiber.child;return null!==n?dg(n,e):null},containsNode:function(n){for(var r=function(e){return $s(e)||null}(n);null!==r;){if(r.tag===de&&r.type===e&&r.stateNode===t)return!0;r=r.return}return!1}}}function hg(e){e.effectTag|=Uo}function vg(e){e.effectTag|=Ho}if(hs)rg=function(e,t,n,r){for(var o=t.child;null!==o;){if(o.tag===K||o.tag===X)os(e,o.stateNode);else if(Tt&&o.tag===ce)os(e,o.stateNode.instance);else if(o.tag===Q);else if(null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)return;for(;null===o.sibling;){if(null===o.return||o.return===t)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},og=function(e){},ag=function(e,t,n,r,o){var a=e.memoizedProps;if(a!==r){var i=is(t.stateNode,n,a,r,o,fh());t.updateQueue=i,i&&hg(t)}},ig=function(e,t,n,r){n!==r&&hg(t)};else if(Lu){rg=function(e,t,n,r){for(var o=t.child;null!==o;){if(o.tag===K){var a=o.stateNode;if(n&&r){var i=o.memoizedProps,l=o.type;a=qu(a,l,i,o)}os(e,a)}else if(o.tag===X){var u=o.stateNode;if(n&&r){var s=o.memoizedProps;u=Yu(u,s,o)}os(e,u)}else if(Tt&&o.tag===ce){var c=o.stateNode.instance;if(n&&r){var d=o.memoizedProps,f=o.type;c=qu(c,f,d,o)}os(e,c)}else if(o.tag===Q);else if(o.tag===re){if((o.effectTag&Uo)!==Oo){var p=null!==o.memoizedState;if(p){var m=o.child;if(null!==m){null!==m.child&&(m.child.return=m,rg(e,m,!0,p));var h=m.sibling;if(null!==h){h.return=o,o=h;continue}}}}if(null!==o.child){o.child.return=o,o=o.child;continue}}else if(null!==o.child){o.child.return=o,o=o.child;continue}if((o=o)===t)return;for(;null===o.sibling;){if(null===o.return||o.return===t)return;o=o.return}o.sibling.return=o.return,o=o.sibling}};var yg=function(e,t,n,r){for(var o=t.child;null!==o;){if(o.tag===K){var a=o.stateNode;if(n&&r){var i=o.memoizedProps,l=o.type;a=qu(a,l,i,o)}Hu(e,a)}else if(o.tag===X){var u=o.stateNode;if(n&&r){var s=o.memoizedProps;u=Yu(u,s,o)}Hu(e,u)}else if(Tt&&o.tag===ce){var c=o.stateNode.instance;if(n&&r){var d=o.memoizedProps,f=o.type;c=qu(c,f,d,o)}Hu(e,c)}else if(o.tag===Q);else if(o.tag===re){if((o.effectTag&Uo)!==Oo){var p=null!==o.memoizedState;if(p){var m=o.child;if(null!==m){null!==m.child&&(m.child.return=m,yg(e,m,!0,p));var h=m.sibling;if(null!==h){h.return=o,o=h;continue}}}}if(null!==o.child){o.child.return=o,o=o.child;continue}}else if(null!==o.child){o.child.return=o,o=o.child;continue}if((o=o)===t)return;for(;null===o.sibling;){if(null===o.return||o.return===t)return;o=o.return}o.sibling.return=o.return,o=o.sibling}};og=function(e){var t=e.stateNode;if(null===e.firstEffect);else{var n=t.containerInfo,r=Bu(n);yg(r,e,!1,!1),t.pendingChildren=r,hg(e),Vu(n,r)}},ag=function(e,t,n,r,o){var a=e.stateNode,i=e.memoizedProps,l=null===t.firstEffect;if(l&&i===r)t.stateNode=a;else{var u=t.stateNode,s=fh(),c=null;if(i!==r&&(c=is(u,n,i,r,o,s)),l&&null===c)t.stateNode=a;else{var d=Wu(a,c,n,i,r,t,l,u);as(d,n,r,o)&&hg(t),t.stateNode=d,l?hg(t):rg(d,t,!1,!1)}}},ig=function(e,t,n,r){if(n!==r){var o=sh(),a=fh();t.stateNode=ss(r,o,a,t),hg(t)}}}else og=function(e){},ag=function(e,t,n,r,o){},ig=function(e,t,n,r){};function gg(e,t){switch(e.tailMode){case"hidden":for(var n=e.tail,r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":for(var o=e.tail,a=null;null!==o;)null!==o.alternate&&(a=o),o=o.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function bg(e,t,n){var r=t.pendingProps;switch(t.tag){case q:case ie:break;case ae:case V:break;case $:Zd(t.type)&&ef(t);break;case Y:dh(t),tf(t);var o=t.stateNode;if(o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),null===e||null===e.child)yy(t)&&hg(t);og(t);break;case K:mh(t);var a=sh(),i=t.type;if(null!==e&&null!=t.stateNode){if(ag(e,t,i,r,a),xt)e.memoizedProps.listeners!==r.listeners&&hg(t);e.ref!==t.ref&&vg(t)}else{if(!r){if(null===t.stateNode)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");break}var l=fh();if(yy(t)){if(function(e,t,n){if(!Cs)throw Error("Expected prepareToHydrateHostInstance() to never be called. This error is likely caused by a bug in React. Please file an issue.");var r=Ns(e.stateNode,e.type,e.memoizedProps,t,n,e);return e.updateQueue=r,null!==r}(t,a,l)&&hg(t),xt){var u=r.listeners;null!=u&&Rh(u,t,a)}}else{var s=rs(i,r,a,l,t);if(rg(s,t,!1,!1),t.stateNode=s,xt){var c=r.listeners;null!=c&&Rh(c,t,a)}as(s,i,r,a)&&hg(t)}null!==t.ref&&vg(t)}break;case X:var d=r;if(e&&null!=t.stateNode){var f=e.memoizedProps;ig(e,t,f,d)}else{if("string"!=typeof d&&null===t.stateNode)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");var p=sh(),m=fh();yy(t)?py(t)&&hg(t):t.stateNode=ss(d,p,m,t)}break;case te:break;case re:Th(t);var h=t.memoizedState;if(yt&&null!==h&&null!==h.dehydrated){if(null===e){if(!yy(t))throw Error("A dehydrated suspense component was completed without a hydrated node. This is probably a bug in React.");return my(t),vt&&qw(Gf),null}return gy(),(t.effectTag&Bo)===Oo&&(t.memoizedState=null),t.effectTag|=Uo,null}if((t.effectTag&Bo)!==Oo)return t.expirationTime=n,t;var v=null!==h,y=!1;if(null===e)void 0!==t.memoizedProps.fallback&&yy(t);else{var g=e.memoizedState;if(y=null!==g,!v&&null!==g){var b=e.child.sibling;if(null!==b){var w=t.firstEffect;null!==w?(t.firstEffect=b,b.nextEffect=w):(t.firstEffect=t.lastEffect=b,b.nextEffect=null),b.effectTag=Lo}}}if(v&&!y)if((t.mode&qf)!==Vf)null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||bh(gh.current,vh)?yb===lb&&(yb=cb):cw();Lu&&v&&(t.effectTag|=Uo),hs&&(v||y)&&(t.effectTag|=Uo),Ct&&null!==t.updateQueue&&null!=t.memoizedProps.suspenseCallback&&(t.effectTag|=Uo);break;case G:case J:case ne:break;case Q:dh(t),og(t);break;case ee:Xp(t);break;case Z:case oe:break;case le:Zd(t.type)&&ef(t);break;case se:Th(t);var k=t.memoizedState;if(null===k)break;var x=(t.effectTag&Bo)!==Oo,T=k.rendering;if(null===T){if(x)gg(k,!1);else if(!(yb===lb&&(null===e||(e.effectTag&Bo)===Oo)))for(var S=t.child;null!==S;){var E=Eh(S);if(null!==E){x=!0,t.effectTag|=Bo,gg(k,!1);var _=E.updateQueue;return null!==_&&(t.updateQueue=_,t.effectTag|=Uo),null===k.lastEffect&&(t.firstEffect=null),t.lastEffect=k.lastEffect,rh(t,n),xh(t,kh(gh.current,yh)),t.child}S=S.sibling}}else{if(!x){var C=Eh(T);if(null!==C){t.effectTag|=Bo,x=!0;var P=C.updateQueue;if(null!==P&&(t.updateQueue=P,t.effectTag|=Uo),gg(k,!0),null===k.tail&&"hidden"===k.tailMode&&!T.alternate){var R=t.lastEffect=k.lastEffect;return null!==R&&(R.nextEffect=null),null}}else if(zf()>k.tailExpiration&&n>Gf){t.effectTag|=Bo,x=!0,gg(k,!1);var j=n-1;t.expirationTime=t.childExpirationTime=j,vt&&qw(j)}}if(k.isBackwards)T.sibling=t.child,t.child=T;else{var I=k.last;null!==I?I.sibling=T:t.child=T,k.last=T}}if(null!==k.tail){if(0===k.tailExpiration){k.tailExpiration=zf()+500}var D=k.tail;k.rendering=D,k.tail=D.sibling,k.lastEffect=t.lastEffect,D.sibling=null;var N=gh.current;return xh(t,N=x?kh(N,yh):wh(N)),D}break;case ce:if(Tt){var O=t.type.impl,M=t.stateNode;if(null===M){var z,U=O.getInitialState;void 0!==U&&(z=U(r));var A=function(e){if(Tt){var t=e.currentFiber,n=e.impl,r=e.props,o=e.state,a=n.getInstance(null,r,o);return Bs(t,a),a}return null}(M=t.stateNode=function(e,t,n,r){return{currentFiber:e,impl:n,instance:null,prevProps:null,props:t,state:r}}(t,r,O,z||{}));if(M.instance=A,!1===O.reconcileChildren)return null;rg(A,t,!1,!1),function(e){if(Tt){var t=e.impl,n=e.instance,r=e.props,o=e.state,a=t.onMount;void 0!==a&&a(null,n,r,o)}}(M)}else{var L=M.props;if(M.prevProps=L,M.props=r,M.currentFiber=t,Lu){var W=Fu(M);M.instance=W,rg(W,t,!1,!1)}(function(e){if(Tt){var t=e.impl,n=e.prevProps,r=e.props,o=e.state,a=t.shouldUpdate;if(void 0!==a)return a(null,n,r,o)}return!0})(M)&&hg(t)}}break;case de:if(St)if(null===e){var F=t.type,B={fiber:t,methods:null};if(t.stateNode=B,B.methods=mg(F,B),xt){var H=r.listeners;if(null!=H)Rh(H,t,sh())}null!==t.ref&&(vg(t),hg(t))}else{if(xt)e.memoizedProps.listeners===r.listeners&&null===t.ref||hg(t);else null!==t.ref&&hg(t);e.ref!==t.ref&&vg(t)}break;default:throw Error("Unknown unit of work tag ("+t.tag+"). This error is likely caused by a bug in React. Please file an issue.")}return null}function wg(e,t){switch(e.tag){case $:Zd(e.type)&&ef(e);var n=e.effectTag;return n&Go?(e.effectTag=n&~Go|Bo,e):null;case Y:dh(e),tf(e);var r=e.effectTag;if((r&Bo)!==Oo)throw Error("The root failed to unmount after an error. This is likely a bug in React. Please file an issue.");return e.effectTag=r&~Go|Bo,e;case K:return mh(e),null;case re:if(Th(e),yt){var o=e.memoizedState;if(null!==o&&null!==o.dehydrated){if(null===e.alternate)throw Error("Threw in newly mounted dehydrated component. This is likely a bug in React. Please file an issue.");gy()}}var a=e.effectTag;return a&Go?(e.effectTag=a&~Go|Bo,e):null;case se:return Th(e),null;case Q:return dh(e),null;case ee:return Xp(e),null;default:return null}}function kg(e){switch(e.tag){case $:var t=e.type.childContextTypes;null!=t&&ef(e);break;case Y:dh(e),tf(e);break;case K:mh(e);break;case Q:dh(e);break;case re:case se:Th(e);break;case ee:Xp(e)}}function xg(e,t){return{value:e,source:t,stack:Ve(t)}}var Tg=null;Tg=new Set;var Sg="function"==typeof WeakSet?WeakSet:Set;function Eg(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=Ve(n));var o={componentName:null!==n?Fe(n.type):null,componentStack:null!==r?r:"",error:t.value,errorBoundary:null,errorBoundaryName:null,errorBoundaryFound:!1,willRetry:!1};null!==e&&e.tag===$&&(o.errorBoundary=e.stateNode,o.errorBoundaryName=Fe(e.type),o.errorBoundaryFound=!0,o.willRetry=!0);try{!function(e){var t=e.error,n=e.componentName,r=e.componentStack,o=e.errorBoundaryName,a=e.errorBoundaryFound,i=e.willRetry;if(null!=t&&t._suppressLogging){if(a&&i)return;console.error(t)}var l=""+(n?"The above error occurred in the <"+n+"> component:":"The above error occurred in one of your React components:")+r+"\n\n"+(a&&o?i?"React will try to recreate this component tree from scratch using the error boundary you provided, "+o+".":"This error was initially handled by the error boundary "+o+".\nRecreating the tree from scratch failed so React will unmount the tree.":"Consider adding an error boundary to your tree to customize error handling behavior.\nVisit https://fb.me/react-error-boundaries to learn more about error boundaries.");console.error(l)}(o)}catch(e){setTimeout((function(){throw e}))}}var _g=function(e,t){Pd(e,"componentWillUnmount"),t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount(),Rd()};function Cg(e){var t=e.ref;null!==t&&("function"==typeof t?(E(null,t,null,null),C()&&Cw(e,P())):t.current=null)}function Pg(e,t){(E(null,t,null),C())&&Cw(e,P())}function Rg(e,t){switch(t.tag){case V:case te:case ae:return void jg(Nh,Dh,t);case $:if(t.effectTag&Vo&&null!==e){var n=e.memoizedProps,r=e.memoizedState;Pd(t,"getSnapshotBeforeUpdate");var o=t.stateNode;t.type!==t.elementType||Sy||(o.props!==t.memoizedProps&&Me(!1,"Expected %s props to match memoized props before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",Fe(t.type)||"instance"),o.state!==t.memoizedState&&Me(!1,"Expected %s state to match memoized state before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",Fe(t.type)||"instance"));var a=o.getSnapshotBeforeUpdate(t.elementType===t.type?n:Ap(t.type,n),r),i=Tg;void 0!==a||i.has(t.type)||(i.add(t.type),j(!1,"%s.getSnapshotBeforeUpdate(): A snapshot value (or null) must be returned. You have returned undefined.",Fe(t.type))),o.__reactInternalSnapshotBeforeUpdate=a,Rd()}return;case Y:case K:case X:case Q:case le:return;default:throw Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}}function jg(e,t,n){var r=n.updateQueue,o=null!==r?r.lastEffect:null;if(null!==o){var a=o.next,i=a;do{if((i.tag&e)!==Dh){var l=i.destroy;i.destroy=void 0,void 0!==l&&l()}if((i.tag&t)!==Dh){var u=i.create;i.destroy=u();var s=i.destroy;if(void 0!==s&&"function"!=typeof s){var c=void 0;c=null===s?" You returned null. If your effect does not require clean up, return undefined (or nothing).":"function"==typeof s.then?"\n\nIt looks like you wrote useEffect(async () => ...) or returned a Promise. Instead, write the async function inside your effect and call it immediately:\n\nuseEffect(() => {\n  async function fetchData() {\n    // You can await here\n    const response = await MyAPI.getData(someId);\n    // ...\n  }\n  fetchData();\n}, [someId]); // Or [] if effect doesn't need props or state\n\nLearn more about data fetching with Hooks: https://fb.me/react-hooks-data-fetching":" You returned: "+s,j(!1,"An effect function must not return anything besides a function, which is used for clean-up.%s%s",c,Ve(n))}}i=i.next}while(i!==a)}}function Ig(e){if((e.effectTag&$o)!==Oo)switch(e.tag){case V:case te:case ae:jg(Lh,Dh,e),jg(Dh,Ah,e)}}function Dg(e,t,n,r){switch(n.tag){case V:case te:case ae:jg(zh,Uh,n);break;case $:var o=n.stateNode;if(n.effectTag&Uo)if(null===t)Pd(n,"componentDidMount"),n.type!==n.elementType||Sy||(o.props!==n.memoizedProps&&Me(!1,"Expected %s props to match memoized props before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",Fe(n.type)||"instance"),o.state!==n.memoizedState&&Me(!1,"Expected %s state to match memoized state before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",Fe(n.type)||"instance")),o.componentDidMount(),Rd();else{var a=n.elementType===n.type?t.memoizedProps:Ap(n.type,t.memoizedProps),i=t.memoizedState;Pd(n,"componentDidUpdate"),n.type!==n.elementType||Sy||(o.props!==n.memoizedProps&&Me(!1,"Expected %s props to match memoized props before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",Fe(n.type)||"instance"),o.state!==n.memoizedState&&Me(!1,"Expected %s state to match memoized state before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",Fe(n.type)||"instance")),o.componentDidUpdate(a,i,o.__reactInternalSnapshotBeforeUpdate),Rd()}var l=n.updateQueue;return void(null!==l&&(n.type!==n.elementType||Sy||(o.props!==n.memoizedProps&&Me(!1,"Expected %s props to match memoized props before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",Fe(n.type)||"instance"),o.state!==n.memoizedState&&Me(!1,"Expected %s state to match memoized state before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",Fe(n.type)||"instance")),bm(0,l,o)));case Y:var u=n.updateQueue;if(null!==u){var s=null;if(null!==n.child)switch(n.child.tag){case K:case $:s=n.child.stateNode}bm(0,u,s)}return;case K:var c=n.stateNode;if(null===t&&n.effectTag&Uo)!function(e,t,n,r){ts(t,n)&&e.focus()}(c,n.type,n.memoizedProps);return;case X:case Q:return;case ne:if(ht){var d=n.memoizedProps.onRender;"function"==typeof d&&(vt?d(n.memoizedProps.id,null===t?"mount":"update",n.actualDuration,n.treeBaseDuration,n.actualStartTime,ty(),e.memoizedInteractions):d(n.memoizedProps.id,null===t?"mount":"update",n.actualDuration,n.treeBaseDuration,n.actualStartTime,ty()))}return;case re:return void function(e,t){if(!Cs)return;if(null===t.memoizedState){var n=t.alternate;if(null!==n){var r=n.memoizedState;if(null!==r){var o=r.dehydrated;if(null!==o&&(function(e){_a(e)}(o),Ct)){var a=e.hydrationCallbacks;if(null!==a){var i=a.onHydrated;i&&i(o)}}}}}}(e,n);case se:case le:case ce:case de:return;default:throw Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}}function Ng(e){var t=e.ref;if(null!==t){var n,r=e.stateNode;switch(e.tag){case K:n=r;break;default:n=r}St&&e.tag===de&&(n=r.methods),"function"==typeof t?t(n):(t.hasOwnProperty("current")||j(!1,"Unexpected ref object provided for %s. Use either a ref-setter function or React.createRef().%s",Fe(e.type),Ve(e)),t.current=n)}}function Og(e){var t=e.ref;null!==t&&("function"==typeof t?t(null):t.current=null)}function Mg(e,t,n){var r;switch(r=t,"function"==typeof Zw&&Zw(r),t.tag){case V:case te:case oe:case ae:var o=t.updateQueue;if(null!==o){var a=o.lastEffect;if(null!==a){var i=a.next;Lf(n>_f?_f:n,(function(){var e=i;do{var n=e.destroy;void 0!==n&&Pg(t,n),e=e.next}while(e!==i)}))}}break;case $:Cg(t);var l=t.stateNode;return void("function"==typeof l.componentWillUnmount&&function(e,t){E(null,_g,null,e,t),C()&&Cw(e,P())}(t,l));case K:if(xt){var u=t.dependencies;if(null!==u){var s=u.responders;if(null!==s){for(var c=Array.from(s.values()),d=0,f=c.length;d<f;d++){Us(c[d])}u.responders=null}}}return void Cg(t);case Q:return void(hs?Lg(e,t,n):Lu&&function(e){if(!Lu)return;var t=e.stateNode.containerInfo,n=Bu(t);$u(t,n)}(t));case ce:if(Tt){var p=t.stateNode;null!==p&&(!function(e){if(Tt){var t=e.impl,n=e.instance,r=e.props,o=e.state,a=t.onUnmount;void 0!==a&&a(null,n,r,o)}}(p),t.stateNode=null)}return;case ue:if(Ct){var m=e.hydrationCallbacks;if(null!==m){var h=m.onDeleted;h&&h(t.stateNode)}}return;case de:St&&Cg(t)}}function zg(e,t,n){for(var r=t;;)if(Mg(e,r,n),null===r.child||hs&&r.tag===Q){if(r===t)return;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}else r.child.return=r,r=r.child}function Ug(e){return e.tag===K||e.tag===Y||e.tag===Q}function Ag(e){if(hs){var t,n,r=function(e){for(var t=e.return;null!==t;){if(Ug(t))return t;t=t.return}throw Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.")}(e),o=r.stateNode;switch(r.tag){case K:t=o,n=!1;break;case Y:case Q:t=o.containerInfo,n=!0;break;case ce:Tt&&(t=o.instance,n=!1);default:throw Error("Invalid host parent fiber. This error is likely caused by a bug in React. Please file an issue.")}r.effectTag&Wo&&(vs(t),r.effectTag&=~Wo);for(var a,i,l,u=function(e){var t=e;e:for(;;){for(;null===t.sibling;){if(null===t.return||Ug(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==K&&t.tag!==X&&t.tag!==ue;){if(t.effectTag&zo)continue e;if(null===t.child||t.tag===Q)continue e;t.child.return=t,t=t.child}if(!(t.effectTag&zo))return t.stateNode}}(e),s=e;;){var c=s.tag===K||s.tag===X;if(c||Tt&&s.tag===ce){var d=c?s.stateNode:s.stateNode.instance;u?n?(i=d,l=u,(a=t).nodeType===zr?a.parentNode.insertBefore(i,l):a.insertBefore(i,l)):bs(t,d,u):n?gs(t,d):ys(t,d)}else if(s.tag===Q);else if(null!==s.child){s.child.return=s,s=s.child;continue}if(s===e)return;for(;null===s.sibling;){if(null===s.return||s.return===e)return;s=s.return}s.sibling.return=s.return,s=s.sibling}}}function Lg(e,t,n){for(var r,o,a,i,l=t,u=!1;;){if(!u){var s=l.return;e:for(;;){if(null===s)throw Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.");var c=s.stateNode;switch(s.tag){case K:r=c,o=!1;break e;case Y:case Q:r=c.containerInfo,o=!0;break e;case ce:Tt&&(r=c.instance,o=!1)}s=s.return}u=!0}if(l.tag===K||l.tag===X)zg(e,l,n),o?xs(r,l.stateNode):ks(r,l.stateNode);else if(Tt&&l.tag===ce){var d=l.stateNode.instance;zg(e,l,n),o?xs(r,d):ks(r,d)}else if(yt&&l.tag===ue){if(Ct){var f=e.hydrationCallbacks;if(null!==f){var p=f.onDeleted;p&&p(l.stateNode)}}o?(a=r,i=l.stateNode,a.nodeType===zr?Ts(a.parentNode,i):a.nodeType===Or&&Ts(a,i),_a(a)):Ts(r,l.stateNode)}else if(l.tag===Q){if(null!==l.child){r=l.stateNode.containerInfo,o=!0,l.child.return=l,l=l.child;continue}}else if(Mg(e,l,n),null!==l.child){l.child.return=l,l=l.child;continue}if(l===t)return;for(;null===l.sibling;){if(null===l.return||l.return===t)return;(l=l.return).tag===Q&&(u=!1)}l.sibling.return=l.return,l=l.sibling}}function Wg(e,t,n){hs?Lg(e,t,n):zg(e,t,n),function e(t){var n=t.alternate;t.return=null,t.child=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.alternate=null,t.firstEffect=null,t.lastEffect=null,t.pendingProps=null,t.memoizedProps=null,null!==n&&e(n)}(t)}function Fg(e,t){if(hs)switch(t.tag){case V:case te:case oe:case ae:return void jg(Oh,Mh,t);case $:return;case K:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,o=null!==e?e.memoizedProps:r,a=t.type,i=t.updateQueue;if(t.updateQueue=null,null!==i&&function(e,t,n,r,o,a){Ks(e,o),du(e,t,n,r,o)}(n,i,a,o,r),xt){var l=o.listeners,u=r.listeners;l!==u&&Rh(u,t,null)}}return;case X:if(null===t.stateNode)throw Error("This should have a text node initialized. This error is likely caused by a bug in React. Please file an issue.");var s=t.stateNode,c=t.memoizedProps;null!==e&&e.memoizedProps;return void function(e,t,n){e.nodeValue=n}(s,0,c);case Y:if(Cs){var d=t.stateNode;d.hydrate&&(d.hydrate=!1,Ms(d.containerInfo))}return;case ne:return;case re:return Bg(t),void Hg(t);case se:return void Hg(t);case le:return;case ce:if(Tt)!function(e){if(Tt){var t=e.impl,n=e.instance,r=e.prevProps,o=e.props,a=e.state,i=t.onUpdate;void 0!==i&&i(null,n,r,o,a)}}(t.stateNode);return;case de:if(St)if(t.stateNode.fiber=t,xt){var f=t.memoizedProps,p=(null!==e?e.memoizedProps:f).listeners,m=f.listeners;p!==m&&Rh(m,t,null)}return;default:throw Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}else{switch(t.tag){case V:case te:case oe:case ae:return void jg(Oh,Mh,t);case ne:return;case re:return Bg(t),void Hg(t);case se:return void Hg(t);case Y:if(Cs){var h=t.stateNode;h.hydrate&&(h.hydrate=!1,Ms(h.containerInfo))}}!function(e){if(Lu)switch(e.tag){case $:case K:case X:case ce:return;case Y:case Q:var t=e.stateNode,n=t.containerInfo,r=t.pendingChildren;return void $u(n,r);default:throw Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}}(t)}}function Bg(e){var t,n=e.memoizedState,r=e;if(null===n?t=!1:(t=!0,r=e.child,Sb=zf()),hs&&null!==r&&function(e,t){if(hs)for(var n=e;;){if(n.tag===K){var r=n.stateNode;t?Ss(r):Es(n.stateNode,n.memoizedProps)}else if(n.tag===X){var o=n.stateNode;t?o.nodeValue="":_s(o,n.memoizedProps)}else{if(n.tag===re&&null!==n.memoizedState&&null===n.memoizedState.dehydrated){var a=n.child.sibling;a.return=n,n=a;continue}if(null!==n.child){n.child.return=n,n=n.child;continue}}if(n===e)return;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}(r,t),Ct&&null!==n){var o=e.memoizedProps.suspenseCallback;if("function"==typeof o){var a=e.updateQueue;null!==a&&o(new Set(a))}else void 0!==o&&Me(!1,"Unexpected type for suspenseCallback.")}}function Hg(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Sg),t.forEach((function(t){var r=Iw.bind(null,e,t);n.has(t)||(vt&&!0!==t.__reactDoNotTraceInteractions&&(r=i.unstable_wrap(r)),n.add(t),t.then(r,r))}))}}function Vg(e){hs&&vs(e.stateNode)}var $g="function"==typeof WeakMap?WeakMap:Map;function qg(e,t,n){var r=sm(n,null);r.tag=am,r.payload={element:null};var o=t.value;return r.callback=function(){Ew(o),Eg(e,t)},r}function Yg(e,t,n){var r=sm(n,null);r.tag=am;var o=e.type.getDerivedStateFromError;if("function"==typeof o){var a=t.value;r.payload=function(){return Eg(e,t),o(a)}}var i=e.stateNode;return null!==i&&"function"==typeof i.componentDidCatch?r.callback=function(){var n;Op(e),"function"!=typeof o&&(n=this,null===Rb?Rb=new Set([n]):Rb.add(n),Eg(e,t));var r=t.value,a=t.stack;this.componentDidCatch(r,{componentStack:null!==a?a:""}),"function"!=typeof o&&e.expirationTime!==ep&&j(!1,"%s: Error boundaries should implement getDerivedStateFromError(). In that method, return a state update to display an error message or fallback UI.",Fe(e.type)||"Unknown")}:r.callback=function(){Op(e)},r}function Qg(e,t,n){var r,o=e.pingCache;if(null===o?(o=e.pingCache=new $g,r=new Set,o.set(n,r)):void 0===(r=o.get(n))&&(r=new Set,o.set(n,r)),!r.has(t)){r.add(t);var a=Pw.bind(null,e,n,t);n.then(a,a)}}function Kg(e,t,n,r,o){if(n.effectTag|=Xo,n.firstEffect=n.lastEffect=null,null!==r&&"object"==typeof r&&"function"==typeof r.then){var a=r;!function(e){var t=Uf();if((e.mode&Yf)!==Oo&&(t===Ef||t===Sf))for(var n=e;null!==n;){var r=n.alternate;if(null!==r)switch(n.tag){case $:var o=r.updateQueue;if(null!==o)for(var a=o.firstUpdate;null!==a;){var i=a.priority;if(i===Ef||i===Sf){null===Hw?Hw=new Set([Fe(n.type)]):Hw.add(Fe(n.type));break}a=a.next}break;case V:case te:case ae:if(null!==n.memoizedState&&null!==n.memoizedState.baseUpdate)for(var l=n.memoizedState.baseUpdate;null!==l;){var u=l.priority;if(u===Ef||u===Sf){null===Hw?Hw=new Set([Fe(n.type)]):Hw.add(Fe(n.type));break}if(l.next===n.memoizedState.baseUpdate)break;l=l.next}}n=n.return}}(n);var i=bh(gh.current,vh),l=t;do{if(l.tag===re&&Sh(l,i)){var u=l.updateQueue;if(null===u){var s=new Set;s.add(a),l.updateQueue=s}else u.add(a);if((l.mode&qf)===Vf){if(l.effectTag|=Bo,n.effectTag&=~(Qo|Xo),n.tag===$)if(null===n.alternate)n.tag=le;else{var c=sm(ep,null);c.tag=om,dm(n,c)}return void(n.expirationTime=ep)}return Qg(e,o,a),l.effectTag|=Go,void(l.expirationTime=o)}l=l.return}while(null!==l);r=new Error((Fe(n.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+Ve(n))}yb!==fb&&(yb=sb),r=xg(r,n);var d=t;do{switch(d.tag){case Y:var f=r;return d.effectTag|=Go,d.expirationTime=o,void fm(d,qg(d,f,o));case $:var p=r,m=d.type,h=d.stateNode;if((d.effectTag&Bo)===Oo&&("function"==typeof m.getDerivedStateFromError||null!==h&&"function"==typeof h.componentDidCatch&&!Sw(h)))return d.effectTag|=Go,d.expirationTime=o,void fm(d,Yg(d,p,o))}d=d.return}while(null!==d)}var Xg=Math.ceil,Gg=fe.ReactCurrentDispatcher,Jg=fe.ReactCurrentOwner,Zg=fe.IsSomeRendererActing,eb=0,tb=1,nb=2,rb=4,ob=8,ab=16,ib=32,lb=0,ub=1,sb=2,cb=3,db=4,fb=5,pb=eb,mb=null,hb=null,vb=Xf,yb=lb,gb=null,bb=ep,wb=ep,kb=null,xb=Xf,Tb=!1,Sb=0,Eb=500,_b=null,Cb=!1,Pb=null,Rb=null,jb=!1,Ib=null,Db=Rf,Nb=Xf,Ob=null,Mb=50,zb=0,Ub=null,Ab=50,Lb=0,Wb=null,Fb=null,Bb=Xf;function Hb(){return(pb&(ab|ib))!==eb?op(zf()):Bb!==Xf?Bb:Bb=op(zf())}function Vb(e,t,n){var r=t.mode;if((r&qf)===Vf)return ep;var o,a=Uf();if((r&Yf)===Vf)return a===Sf?ep:tp;if((pb&ab)!==eb)return vb;if(null!==n)o=function(e,t){return ip(e,t,up)}(e,0|n.timeoutMs||lp);else switch(a){case Sf:o=ep;break;case Ef:o=fp(e);break;case _f:case Cf:o=sp(e);break;case Pf:o=Jf;break;default:throw Error("Expected a valid priority level")}return null!==mb&&o===vb&&(o-=1),o}var $b=function(e,t){!function(){if(zb>Mb)throw zb=0,Ub=null,Error("Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.");Lb>Ab&&(Lb=0,Me(!1,"Maximum update depth exceeded. This can happen when a component calls setState inside useEffect, but useEffect either doesn't have a dependency array, or one of the dependencies changes on every render."))}(),function(e){if(e.tag===$)switch(qe){case"getChildContext":if(Uw)return;j(!1,"setState(...): Cannot call setState() inside getChildContext()"),Uw=!0;break;case"render":if(zw)return;j(!1,"Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state."),zw=!0}}(e);var n=qb(e,t);if(null!==n){var r,o;r=e,o=t,ft&&null!==mb&&o>vb&&(Wb=r),ft&&(od&&(ad=!0),null!==nd&&"componentWillMount"!==nd&&"componentWillReceiveProps"!==nd&&(id=!0));var a=Uf();if(t===ep?(pb&ob)!==eb&&(pb&(ab|ib))===eb?(Qw(n,t),Xb(n)):(Qb(n),Qw(n,t),pb===eb&&Bf()):(Qb(n),Qw(n,t)),(pb&rb)!==eb&&(a===Ef||a===Sf))if(null===Ob)Ob=new Map([[n,t]]);else{var i=Ob.get(n);(void 0===i||i>t)&&Ob.set(n,t)}}else!function(e){var t=e.tag;if(t!==Y&&t!==$&&t!==V&&t!==te&&t!==oe&&t!==ae)return;var n=Fe(e.type)||"ReactComponent";if(null!==Mw){if(Mw.has(n))return;Mw.add(n)}else Mw=new Set([n]);j(!1,"Can't perform a React state update on an unmounted component. This is a no-op, but it indicates a memory leak in your application. To fix, cancel all subscriptions and asynchronous tasks in %s.%s",t===$?"the componentWillUnmount method":"a useEffect cleanup function",Ve(e))}(e)};function qb(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,o=null;if(null===r&&e.tag===Y)o=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t?(r.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t)):null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&r.tag===Y){o=r.stateNode;break}r=r.return}return null!==o&&(mb===o&&(sw(t),yb===db&&kk(o,vb)),xk(o,t)),o}function Yb(e){var t=e.lastExpiredTime;if(t!==Xf)return t;var n=e.firstPendingTime;if(!wk(e,n))return n;var r=e.lastPingedTime,o=e.nextKnownPendingLevel;return r>o?r:o}function Qb(e){if(e.lastExpiredTime!==Xf)return e.callbackExpirationTime=ep,e.callbackPriority=Sf,void(e.callbackNode=Ff(Xb.bind(null,e)));var t=Yb(e),n=e.callbackNode;if(t!==Xf){var r,o=pp(Hb(),t);if(null!==n){var a=e.callbackPriority;if(e.callbackExpirationTime===t&&a>=o)return;!function(e){e!==Tf&&pf(e)}(n)}e.callbackExpirationTime=t,e.callbackPriority=o,r=t===ep?Ff(Xb.bind(null,e)):It?Wf(o,Kb.bind(null,e)):Wf(o,Kb.bind(null,e),{timeout:ap(t)-zf()}),e.callbackNode=r}else null!==n&&(e.callbackNode=null,e.callbackExpirationTime=Xf,e.callbackPriority=Rf)}function Kb(e,t){if(Bb=Xf,t)return Tk(e,Hb()),Qb(e),null;var n=Yb(e);if(n!==Xf){var r=e.callbackNode;if((pb&(ab|ib))!==eb)throw Error("Should not already be working.");if(xw(),e===mb&&n===vb||(nw(e,n),Kw(e,n)),null!==hb){var o=pb;pb|=ab;var a=ow(e),i=iw(e);for(jd(hb);;)try{fw();break}catch(t){rw(e,t)}if(qp(),pb=o,aw(a),vt&&lw(i),yb===ub){var l=gb;throw Nw(),nw(e,n),kk(e,n),Qb(e),l}if(null!==hb)Nw();else{Dw();var u=e.finishedWork=e.current.alternate;e.finishedExpirationTime=n,function(e,t,n,r){switch(mb=null,n){case lb:case ub:throw Error("Root did not complete. This is a bug in React.");case sb:Tk(e,r>Jf?Jf:r);break;case cb:kk(e,r);var o=e.lastSuspendedTime;if(r===o&&(e.nextKnownPendingLevel=hw(t)),Vw(),bb===ep&&(!_t||!Aw.current)){var a=Sb+Eb-zf();if(a>10){if(Tb){var i=e.lastPingedTime;if(i===Xf||i>=r){e.lastPingedTime=r,nw(e,r);break}}var l=Yb(e);if(l!==Xf&&l!==r)break;if(o!==Xf&&o!==r){e.lastPingedTime=o;break}e.timeoutHandle=fs(yw.bind(null,e),a);break}}yw(e);break;case db:kk(e,r);var u=e.lastSuspendedTime;if(r===u&&(e.nextKnownPendingLevel=hw(t)),Vw(),!_t||!Aw.current){if(Tb){var s=e.lastPingedTime;if(s===Xf||s>=r){e.lastPingedTime=r,nw(e,r);break}}var c,d=Yb(e);if(d!==Xf&&d!==r)break;if(u!==Xf&&u!==r){e.lastPingedTime=u;break}if(wb!==ep)c=ap(wb)-zf();else if(bb===ep)c=0;else{var f=function(e){return ap(e)-lp}(bb),p=zf(),m=ap(r)-p,h=p-f;h<0&&(h=0),c=function(e){return e<120?120:e<480?480:e<1080?1080:e<1920?1920:e<3e3?3e3:e<4320?4320:1960*Xg(e/1960)}(h)-h,m<c&&(c=m)}if(c>10){e.timeoutHandle=fs(yw.bind(null,e),c);break}}yw(e);break;case fb:if(!(_t&&Aw.current||bb===ep||null===kb)){var v=function(e,t,n){var r=0|n.busyMinDurationMs;if(r<=0)return 0;var o=0|n.busyDelayMs,a=zf(),i=function(e,t){return ap(e)-(0|t.timeoutMs||lp)}(e,n),l=a-i;if(l<=o)return 0;return o+r-l}(bb,0,kb);if(v>10){kk(e,r),e.timeoutHandle=fs(yw.bind(null,e),v);break}}yw(e);break;default:throw Error("Unknown root exit status.")}}(e,u,yb,n)}if(Qb(e),e.callbackNode===r)return Kb.bind(null,e)}}return null}function Xb(e){var t=e.lastExpiredTime,n=t!==Xf?t:ep;if(e.finishedExpirationTime===n)yw(e);else{if((pb&(ab|ib))!==eb)throw Error("Should not already be working.");if(xw(),e===mb&&n===vb||(nw(e,n),Kw(e,n)),null!==hb){var r=pb;pb|=ab;var o=ow(e),a=iw(e);for(jd(hb);;)try{dw();break}catch(t){rw(e,t)}if(qp(),pb=r,aw(o),vt&&lw(a),yb===ub){var i=gb;throw Nw(),nw(e,n),kk(e,n),Qb(e),i}if(null!==hb)throw Error("Cannot commit an incomplete root. This error is likely caused by a bug in React. Please file an issue.");Dw(),e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,function(e,t,n){mb=null,(t===cb||t===db)&&Vw();yw(e)}(e,yb),Qb(e)}}return null}function Gb(){(pb&(tb|ab|ib))===eb?(!function(){if(null!==Ob){var e=Ob;Ob=null,e.forEach((function(e,t){Tk(t,e),Qb(t)})),Bf()}}(),xw()):(pb&ab)!==eb&&Me(!1,"unstable_flushDiscreteUpdates: Cannot flush updates when React is already rendering.")}function Jb(e,t){var n=pb;pb|=tb;try{return e(t)}finally{(pb=n)===eb&&Bf()}}function Zb(e,t,n,r){var o=pb;pb|=rb;try{return Lf(Ef,e.bind(null,t,n,r))}finally{(pb=o)===eb&&Bf()}}function ew(e,t){var n=pb;pb&=~tb,pb|=ob;try{return e(t)}finally{(pb=n)===eb&&Bf()}}function tw(e,t){if((pb&(ab|ib))!==eb)throw Error("flushSync was called from inside a lifecycle method. It cannot be called when React is already rendering.");var n=pb;pb|=tb;try{return Lf(Sf,e.bind(null,t))}finally{pb=n,Bf()}}function nw(e,t){e.finishedWork=null,e.finishedExpirationTime=Xf;var n=e.timeoutHandle;if(n!==ms&&(e.timeoutHandle=ms,ps(n)),null!==hb)for(var r=hb.return;null!==r;)kg(r),r=r.return;mb=e,hb=ck(e.current,null,t),vb=t,yb=lb,gb=null,bb=ep,wb=ep,kb=null,xb=Xf,Tb=!1,vt&&(Fb=null),vp.discardPendingWarnings(),Hw=null}function rw(e,t){for(;;){try{if(qp(),pv(),Ke(),null===hb||null===hb.return)return yb=ub,gb=t,null;ht&&hb.mode&Qf&&ay(hb,!0),Kg(e,hb.return,hb,t,vb),hb=mw(hb)}catch(e){t=e;continue}return}}function ow(e){var t=Gg.current;return Gg.current=Vv,null===t?Vv:t}function aw(e){Gg.current=e}function iw(e){if(vt){var t=i.__interactionsRef.current;return i.__interactionsRef.current=e.memoizedInteractions,t}return null}function lw(e){vt&&(i.__interactionsRef.current=e)}function uw(e,t){e<bb&&e>Jf&&(bb=e),null!==t&&e<wb&&e>Jf&&(wb=e,kb=t)}function sw(e){e>xb&&(xb=e)}function cw(){yb!==lb&&yb!==cb||(yb=db),xb!==Xf&&null!==mb&&(kk(mb,vb),xk(mb,xb))}function dw(){for(;null!==hb;)hb=pw(hb)}function fw(){for(;null!==hb&&!jf();)hb=pw(hb)}function pw(e){var t,n=e.alternate;return Sd(e),Xe(e),ht&&(e.mode&Qf)!==Vf?(ry(e),t=Ow(n,e,vb),ay(e,!0)):t=Ow(n,e,vb),Ke(),e.memoizedProps=e.pendingProps,null===t&&(t=mw(e)),Jg.current=null,t}function mw(e){hb=e;do{var t=hb.alternate,n=hb.return;if((hb.effectTag&Xo)===Oo){Xe(hb);var r=void 0;if(ht&&(hb.mode&Qf)!==Vf?(ry(hb),r=bg(t,hb,vb),ay(hb,!1)):r=bg(t,hb,vb),_d(hb),Ke(),vw(hb),null!==r)return r;if(null!==n&&(n.effectTag&Xo)===Oo)null===n.firstEffect&&(n.firstEffect=hb.firstEffect),null!==hb.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=hb.firstEffect),n.lastEffect=hb.lastEffect),hb.effectTag>Mo&&(null!==n.lastEffect?n.lastEffect.nextEffect=hb:n.firstEffect=hb,n.lastEffect=hb)}else{var o=wg(hb);if(ht&&(hb.mode&Qf)!==Vf){ay(hb,!1);for(var a=hb.actualDuration,i=hb.child;null!==i;)a+=i.actualDuration,i=i.sibling;hb.actualDuration=a}if(null!==o)return Cd(hb),o.effectTag&=Ko,o;_d(hb),null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=Xo)}var l=hb.sibling;if(null!==l)return l;hb=n}while(null!==hb);return yb===lb&&(yb=fb),null}function hw(e){var t=e.expirationTime,n=e.childExpirationTime;return t>n?t:n}function vw(e){if(vb===Gf||e.childExpirationTime!==Gf){var t=Xf;if(ht&&(e.mode&Qf)!==Vf){for(var n=e.actualDuration,r=e.selfBaseDuration,o=null===e.alternate||e.child!==e.alternate.child,a=e.child;null!==a;){var i=a.expirationTime,l=a.childExpirationTime;i>t&&(t=i),l>t&&(t=l),o&&(n+=a.actualDuration),r+=a.treeBaseDuration,a=a.sibling}e.actualDuration=n,e.treeBaseDuration=r}else for(var u=e.child;null!==u;){var s=u.expirationTime,c=u.childExpirationTime;s>t&&(t=s),c>t&&(t=c),u=u.sibling}e.childExpirationTime=t}}function yw(e){var t=Uf();return Lf(Sf,gw.bind(null,e,t)),null}function gw(e,t){do{xw()}while(null!==Ib);if(vp.flushLegacyContextWarning(),mt&&vp.flushPendingUnsafeLifecycleWarnings(),(pb&(ab|ib))!==eb)throw Error("Should not already be working.");var n,r=e.finishedWork,o=e.finishedExpirationTime;if(null===r)return null;if(e.finishedWork=null,e.finishedExpirationTime=Xf,r===e.current)throw Error("Cannot commit the same tree as before. This error is likely caused by a bug in React. Please file an issue.");if(e.callbackNode=null,e.callbackExpirationTime=Xf,e.callbackPriority=Rf,e.nextKnownPendingLevel=Xf,function(){if(ft){if(!ed)return;od=!0,ad=!1,sd.clear(),dd("(Committing Changes)")}}(),function(e,t,n){e.firstPendingTime=n,t<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=Xf:t<=e.firstSuspendedTime&&(e.firstSuspendedTime=t-1);t<=e.lastPingedTime&&(e.lastPingedTime=Xf);t<=e.lastExpiredTime&&(e.lastExpiredTime=Xf)}(e,o,hw(r)),e===mb&&(mb=null,hb=null,vb=Xf),r.effectTag>Mo?null!==r.lastEffect?(r.lastEffect.nextEffect=r,n=r.firstEffect):n=r:n=r.firstEffect,null!==n){var a=pb;pb|=ib;var i=iw(e);Jg.current=null,Dd(),ns(e.containerInfo),_b=n;do{if(E(null,bw,null),C()){if(null===_b)throw Error("Should be working on an effect.");var l=P();Cw(_b,l),_b=_b.nextEffect}}while(null!==_b);Nd(),ht&&ny(),Od(),_b=n;do{if(E(null,ww,null,e,t),C()){if(null===_b)throw Error("Should be working on an effect.");var u=P();Cw(_b,u),_b=_b.nextEffect}}while(null!==_b);Md(),e.containerInfo,Pu(es),es=null,Oi(Zu),Zu=null,e.current=r,zd(),_b=n;do{if(E(null,kw,null,e,o),C()){if(null===_b)throw Error("Should be working on an effect.");var s=P();Cw(_b,s),_b=_b.nextEffect}}while(null!==_b);Ud(),_b=null,If(),vt&&lw(i),pb=a}else e.current=r,Dd(),Nd(),ht&&ny(),Od(),Md(),zd(),Ud();!function(){if(ft){if(!ed)return;var e=null;ad?e="Lifecycle hook scheduled a cascading update":ld>0&&(e="Caused by a cascading update in earlier commit"),ad=!1,ld++,od=!1,sd.clear(),fd("(Committing Changes)","(Committing Changes)",e)}}();var c=jb;if(jb)jb=!1,Ib=e,Nb=o,Db=t;else for(_b=n;null!==_b;){var d=_b.nextEffect;_b.nextEffect=null,_b=d}var f=e.firstPendingTime;if(f!==Xf){if(vt){if(null!==Fb){var p=Fb;Fb=null;for(var m=0;m<p.length;m++)Yw(e,p[m],e.memoizedInteractions)}Qw(e,f)}}else Rb=null;if(vt&&(c||Xw(e,o)),f===ep?e===Ub?zb++:(zb=0,Ub=e):zb=0,function(e,t){"function"==typeof Jw&&Jw(e,t)}(r.stateNode,o),Qb(e),Cb){Cb=!1;var h=Pb;throw Pb=null,h}return(pb&ob)!==eb?null:(Bf(),null)}function bw(){for(;null!==_b;){var e=_b.effectTag;if((e&Vo)!==Oo)Xe(_b),Td(),Rg(_b.alternate,_b),Ke();(e&$o)!==Oo&&(jb||(jb=!0,Wf(_f,(function(){return xw(),null})))),_b=_b.nextEffect}}function ww(e,t){for(;null!==_b;){Xe(_b);var n=_b.effectTag;if(n&Wo&&Vg(_b),n&Ho){var r=_b.alternate;null!==r&&Og(r)}switch(n&(zo|Uo|Lo|qo)){case zo:Ag(_b),_b.effectTag&=~zo;break;case Ao:Ag(_b),_b.effectTag&=~zo,Fg(_b.alternate,_b);break;case qo:_b.effectTag&=~qo;break;case Yo:_b.effectTag&=~qo,Fg(_b.alternate,_b);break;case Uo:Fg(_b.alternate,_b);break;case Lo:Wg(e,_b,t)}Td(),Ke(),_b=_b.nextEffect}}function kw(e,t){for(;null!==_b;){Xe(_b);var n=_b.effectTag;if(n&(Uo|Fo))Td(),Dg(e,_b.alternate,_b);n&Ho&&(Td(),Ng(_b)),Ke(),_b=_b.nextEffect}}function xw(){if(Db!==Rf){var e=Db>_f?_f:Db;return Db=Rf,Lf(e,Tw)}}function Tw(){if(null===Ib)return!1;var e=Ib,t=Nb;if(Ib=null,Nb=Xf,(pb&(ab|ib))!==eb)throw Error("Cannot flush passive effects while already rendering.");var n=pb;pb|=ib;for(var r=iw(e),o=e.current.firstEffect;null!==o;){if(Xe(o),E(null,Ig,null,o),C()){if(null===o)throw Error("Should be working on an effect.");Cw(o,P())}Ke();var a=o.nextEffect;o.nextEffect=null,o=a}return vt&&(lw(r),Xw(e,t)),pb=n,Bf(),Lb=null===Ib?0:Lb+1,!0}function Sw(e){return null!==Rb&&Rb.has(e)}var Ew=function(e){Cb||(Cb=!0,Pb=e)};function _w(e,t,n){dm(e,qg(e,xg(n,t),ep));var r=qb(e,ep);null!==r&&(Qb(r),Qw(r,ep))}function Cw(e,t){if(e.tag!==Y)for(var n=e.return;null!==n;){if(n.tag===Y)return void _w(n,e,t);if(n.tag===$){var r=n.type,o=n.stateNode;if("function"==typeof r.getDerivedStateFromError||"function"==typeof o.componentDidCatch&&!Sw(o)){dm(n,Yg(n,xg(t,e),ep));var a=qb(n,ep);return void(null!==a&&(Qb(a),Qw(a,ep)))}}n=n.return}else _w(e,e,t)}function Pw(e,t,n){var r=e.pingCache;if(null!==r&&r.delete(t),mb!==e||vb!==n){if(wk(e,n)){var o=e.lastPingedTime;o!==Xf&&o<n||(e.lastPingedTime=n,e.finishedExpirationTime===n&&(e.finishedExpirationTime=Xf,e.finishedWork=null),Qb(e),Qw(e,n))}}else yb===db||yb===cb&&bb===ep&&zf()-Sb<Eb?nw(e,vb):Tb=!0}function Rw(e,t){if(t===Xf){t=Vb(Hb(),e,null)}var n=qb(e,t);null!==n&&(Qb(n),Qw(n,t))}function jw(e){var t=e.memoizedState,n=Xf;null!==t&&(n=t.retryTime),Rw(e,n)}function Iw(e,t){var n,r=Xf;if(yt)switch(e.tag){case re:n=e.stateNode;var o=e.memoizedState;null!==o&&(r=o.retryTime);break;case se:n=e.stateNode;break;default:throw Error("Pinged unknown suspense boundary type. This is probably a bug in React.")}else n=e.stateNode;null!==n&&n.delete(t),Rw(e,r)}function Dw(){Id(Wb,!0),Wb=null}function Nw(){Id(Wb,!1),Wb=null}var Ow,Mw=null;Ow=function(e,t,n){var r=yk(null,t);try{return eg(e,t,n)}catch(o){if(null!==o&&"object"==typeof o&&"function"==typeof o.then)throw o;if(qp(),pv(),kg(t),yk(t,r),ht&&t.mode&Qf&&ry(t),E(null,eg,null,e,t,n),C())throw P();throw o}};var zw=!1,Uw=!1;var Aw={current:!1};function Lw(e){!0===ds&&!0===Zg.current&&!0!==Aw.current&&j(!1,"It looks like you're using the wrong act() around your test interactions.\nBe sure to use the matching version of act() corresponding to your renderer:\n\n// for react-dom:\nimport {act} from 'react-dom/test-utils';\n// ...\nact(() => ...);\n\n// for react-test-renderer:\nimport TestRenderer from 'react-test-renderer';\nconst {act} = TestRenderer;\n// ...\nact(() => ...);%s",Ve(e))}function Ww(e){!0===ds&&(e.mode&$f)!==Vf&&!1===Zg.current&&!1===Aw.current&&j(!1,"An update to %s ran an effect, but was not wrapped in act(...).\n\nWhen testing, code that causes React state updates should be wrapped into act(...):\n\nact(() => {\n  /* fire events that update state */\n});\n/* assert on the output */\n\nThis ensures that you're testing the behavior the user would see in the browser. Learn more at https://fb.me/react-wrap-tests-with-act%s",Fe(e.type),Ve(e))}var Fw=function(e){!0===ds&&pb===eb&&!1===Zg.current&&!1===Aw.current&&j(!1,"An update to %s inside a test was not wrapped in act(...).\n\nWhen testing, code that causes React state updates should be wrapped into act(...):\n\nact(() => {\n  /* fire events that update state */\n});\n/* assert on the output */\n\nThis ensures that you're testing the behavior the user would see in the browser. Learn more at https://fb.me/react-wrap-tests-with-act%s",Fe(e.type),Ve(e))},Bw=!1;var Hw=null;function Vw(){if(null!==Hw){var e=[];Hw.forEach((function(t){return e.push(t)})),Hw=null,e.length>0&&j(!1,"%s triggered a user-blocking update that suspended.\n\nThe fix is to split the update into multiple parts: a user-blocking update to provide immediate feedback, and another update that triggers the bulk of the changes.\n\nRefer to the documentation for useTransition to learn how to implement this pattern.",e.sort().join(", "))}}function $w(e,t){return 1e3*t+e.interactionThreadID}function qw(e){vt&&(null===Fb?Fb=[e]:Fb.push(e))}function Yw(e,t,n){if(vt&&n.size>0){var r=e.pendingInteractionMap,o=r.get(t);null!=o?n.forEach((function(e){o.has(e)||e.__count++,o.add(e)})):(r.set(t,new Set(n)),n.forEach((function(e){e.__count++})));var a=i.__subscriberRef.current;if(null!==a){var l=$w(e,t);a.onWorkScheduled(n,l)}}}function Qw(e,t){vt&&Yw(e,t,i.__interactionsRef.current)}function Kw(e,t){if(vt){var n=new Set;if(e.pendingInteractionMap.forEach((function(e,r){r>=t&&e.forEach((function(e){return n.add(e)}))})),e.memoizedInteractions=n,n.size>0){var r=i.__subscriberRef.current;if(null!==r){var o=$w(e,t);try{r.onWorkStarted(n,o)}catch(e){Wf(Sf,(function(){throw e}))}}}}}function Xw(e,t){if(vt){var n,r=e.firstPendingTime;try{if(null!==(n=i.__subscriberRef.current)&&e.memoizedInteractions.size>0){var o=$w(e,t);n.onWorkStopped(e.memoizedInteractions,o)}}catch(e){Wf(Sf,(function(){throw e}))}finally{var a=e.pendingInteractionMap;a.forEach((function(e,t){t>r&&(a.delete(t),e.forEach((function(e){if(e.__count--,null!==n&&0===e.__count)try{n.onInteractionScheduledWorkCompleted(e)}catch(e){Wf(Sf,(function(){throw e}))}})))}))}}}var Gw,Jw=null,Zw=null,ek=!1,tk="undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__;function nk(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled)return!0;if(!t.supportsFiber)return j(!1,"The installed version of React DevTools is too old and will not work with the current version of React. Please update React DevTools. https://fb.me/react-devtools"),!0;try{var n=t.inject(e);Jw=function(e,r){try{var o=(e.current.effectTag&Bo)===Bo;if(ht){var a=pp(op(zf()),r);t.onCommitFiberRoot(n,e,a,o)}else t.onCommitFiberRoot(n,e,void 0,o)}catch(e){ek||(ek=!0,j(!1,"React DevTools encountered an error: %s",e))}},Zw=function(e){try{t.onCommitFiberUnmount(n,e)}catch(e){ek||(ek=!0,j(!1,"React DevTools encountered an error: %s",e))}}}catch(e){j(!1,"React DevTools encountered an error: %s.",e)}return!0}Gw=!1;try{var rk=Object.preventExtensions({}),ok=new Map([[rk,null]]),ak=new Set([rk]);ok.set(0,0),ak.add(0)}catch(e){Gw=!0}var ik=1;function lk(e,t,n,r){this.tag=e,this.key=n,this.elementType=null,this.type=null,this.stateNode=null,this.return=null,this.child=null,this.sibling=null,this.index=0,this.ref=null,this.pendingProps=t,this.memoizedProps=null,this.updateQueue=null,this.memoizedState=null,this.dependencies=null,this.mode=r,this.effectTag=Oo,this.nextEffect=null,this.firstEffect=null,this.lastEffect=null,this.expirationTime=Xf,this.childExpirationTime=Xf,this.alternate=null,ht&&(this.actualDuration=Number.NaN,this.actualStartTime=Number.NaN,this.selfBaseDuration=Number.NaN,this.treeBaseDuration=Number.NaN,this.actualDuration=0,this.actualStartTime=-1,this.selfBaseDuration=0,this.treeBaseDuration=0),ft&&(this._debugID=ik++,this._debugIsCurrentlyTiming=!1),this._debugSource=null,this._debugOwner=null,this._debugNeedsRemount=!1,this._debugHookTypes=null,Gw||"function"!=typeof Object.preventExtensions||Object.preventExtensions(this)}var uk=function(e,t,n,r){return new lk(e,t,n,r)};function sk(e){var t=e.prototype;return!(!t||!t.isReactComponent)}function ck(e,t,n){var r=e.alternate;null===r?((r=uk(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r._debugID=e._debugID,r._debugSource=e._debugSource,r._debugOwner=e._debugOwner,r._debugHookTypes=e._debugHookTypes,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.effectTag=Oo,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null,ht&&(r.actualDuration=0,r.actualStartTime=-1)),r.childExpirationTime=e.childExpirationTime,r.expirationTime=e.expirationTime,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue;var o=e.dependencies;switch(r.dependencies=null===o?null:{expirationTime:o.expirationTime,firstContext:o.firstContext,responders:o.responders},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,ht&&(r.selfBaseDuration=e.selfBaseDuration,r.treeBaseDuration=e.treeBaseDuration),r._debugNeedsRemount=e._debugNeedsRemount,r.tag){case q:case V:case ae:r.type=jp(e.type);break;case $:r.type=Ip(e.type);break;case te:r.type=Dp(e.type)}return r}function dk(e,t){e.effectTag&=zo,e.nextEffect=null,e.firstEffect=null,e.lastEffect=null;var n=e.alternate;if(null===n)e.childExpirationTime=Xf,e.expirationTime=t,e.child=null,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,ht&&(e.selfBaseDuration=0,e.treeBaseDuration=0);else{e.childExpirationTime=n.childExpirationTime,e.expirationTime=n.expirationTime,e.child=n.child,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue;var r=n.dependencies;e.dependencies=null===r?null:{expirationTime:r.expirationTime,firstContext:r.firstContext,responders:r.responders},ht&&(e.selfBaseDuration=n.selfBaseDuration,e.treeBaseDuration=n.treeBaseDuration)}return e}function fk(e,t,n,r,o,a){var i,l=q,u=e;if("function"==typeof e)sk(e)?(l=$,u=Ip(u)):u=jp(u);else if("string"==typeof e)l=K;else e:switch(e){case ge:return mk(n.children,o,a,t);case Te:l=J,o|=Yf|qf|$f;break;case be:l=J,o|=$f;break;case we:return function(e,t,n,r){"string"==typeof e.id&&"function"==typeof e.onRender||j(!1,'Profiler must specify an "id" string and "onRender" function as props');var o=uk(ne,e,r,t|Qf);return o.elementType=we,o.type=we,o.expirationTime=n,o}(n,o,a,t);case Ee:return function(e,t,n,r){var o=uk(re,e,r,t);return o.type=Ee,o.elementType=Ee,o.expirationTime=n,o}(n,o,a,t);case _e:return function(e,t,n,r){var o=uk(se,e,r,t);return o.type=_e,o.elementType=_e,o.expirationTime=n,o}(n,o,a,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case ke:l=ee;break e;case xe:l=Z;break e;case Se:l=te,u=Dp(u);break e;case Ce:l=oe;break e;case Pe:l=ie,u=null;break e;case Re:if(Tt)return function(e,t,n,r,o){var a=uk(ce,t,o,n);return a.elementType=e,a.type=e,a.expirationTime=r,a}(e,n,o,a,t);break;case Ie:if(St)return function(e,t,n,r,o){var a=uk(de,t,o,n);return a.type=e,a.elementType=e,a.expirationTime=r,a}(e,n,o,a,t)}var s="";(void 0===e||"object"==typeof e&&null!==e&&0===Object.keys(e).length)&&(s+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var c=r?Fe(r.type):null;throw c&&(s+="\n\nCheck the render method of `"+c+"`."),Error("Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: "+(null==e?e:typeof e)+"."+s)}return(i=uk(l,n,t,o)).elementType=e,i.type=u,i.expirationTime=a,i}function pk(e,t,n){var r;r=e._owner;var o=fk(e.type,e.key,e.props,r,t,n);return o._debugSource=e._source,o._debugOwner=e._owner,o}function mk(e,t,n,r){var o=uk(G,e,r,t);return o.expirationTime=n,o}function hk(e,t,n){var r=uk(X,e,null,t);return r.expirationTime=n,r}function vk(e,t,n){var r=null!==e.children?e.children:[],o=uk(Q,r,e.key,t);return o.expirationTime=n,o.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},o}function yk(e,t){return null===e&&(e=uk(q,null,null,Vf)),e.tag=t.tag,e.key=t.key,e.elementType=t.elementType,e.type=t.type,e.stateNode=t.stateNode,e.return=t.return,e.child=t.child,e.sibling=t.sibling,e.index=t.index,e.ref=t.ref,e.pendingProps=t.pendingProps,e.memoizedProps=t.memoizedProps,e.updateQueue=t.updateQueue,e.memoizedState=t.memoizedState,e.dependencies=t.dependencies,e.mode=t.mode,e.effectTag=t.effectTag,e.nextEffect=t.nextEffect,e.firstEffect=t.firstEffect,e.lastEffect=t.lastEffect,e.expirationTime=t.expirationTime,e.childExpirationTime=t.childExpirationTime,e.alternate=t.alternate,ht&&(e.actualDuration=t.actualDuration,e.actualStartTime=t.actualStartTime,e.selfBaseDuration=t.selfBaseDuration,e.treeBaseDuration=t.treeBaseDuration),e._debugID=t._debugID,e._debugSource=t._debugSource,e._debugOwner=t._debugOwner,e._debugIsCurrentlyTiming=t._debugIsCurrentlyTiming,e._debugNeedsRemount=t._debugNeedsRemount,e._debugHookTypes=t._debugHookTypes,e}function gk(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pendingChildren=null,this.pingCache=null,this.finishedExpirationTime=Xf,this.finishedWork=null,this.timeoutHandle=ms,this.context=null,this.pendingContext=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=Rf,this.firstPendingTime=Xf,this.firstSuspendedTime=Xf,this.lastSuspendedTime=Xf,this.nextKnownPendingLevel=Xf,this.lastPingedTime=Xf,this.lastExpiredTime=Xf,vt&&(this.interactionThreadID=i.unstable_getThreadID(),this.memoizedInteractions=new Set,this.pendingInteractionMap=new Map),Ct&&(this.hydrationCallbacks=null)}function bk(e,t,n,r){var o=new gk(e,t,n);Ct&&(o.hydrationCallbacks=r);var a=function(e){var t;return t=e===cf?Yf|qf|$f:e===sf?qf|$f:Vf,ht&&tk&&(t|=Qf),uk(Y,null,null,t)}(t);return o.current=a,a.stateNode=o,o}function wk(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;return n!==Xf&&n>=t&&r<=t}function kk(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||n===Xf)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=Xf),t<=e.lastExpiredTime&&(e.lastExpiredTime=Xf)}function xk(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;n!==Xf&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=Xf:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Tk(e,t){var n=e.lastExpiredTime;(n===Xf||n>t)&&(e.lastExpiredTime=t)}var Sk,Ek,_k={debugTool:null};function Ck(e,t,n,r){var a,i=t.current,l=Hb();"undefined"!=typeof jest&&(a=i,!1===Bw&&void 0===o.unstable_flushAllWithoutAsserting&&(a.mode&qf||a.mode&Yf?(Bw=!0,j(!1,"In Concurrent or Sync modes, the \"scheduler\" module needs to be mocked to guarantee consistent behaviour across tests and browsers. For example, with jest: \njest.mock('scheduler', () => require('scheduler/unstable_mock'));\n\nFor more info, visit https://fb.me/react-mock-scheduler")):!0===Et&&(Bw=!0,j(!1,"Starting from React v17, the \"scheduler\" module will need to be mocked to guarantee consistent behaviour across tests and browsers. For example, with jest: \njest.mock('scheduler', () => require('scheduler/unstable_mock'));\n\nFor more info, visit https://fb.me/react-mock-scheduler"))),Lw(i));var u=xm(),s=Vb(l,i,u);_k.debugTool&&(null===i.alternate?_k.debugTool.onMountContainer(t):null===e?_k.debugTool.onUnmountContainer(t):_k.debugTool.onUpdateContainer(t));var c=function(e){if(!e)return $d;var t=Ro(e),n=lf(t);if(t.tag===$){var r=t.type;if(Zd(r))return rf(t,r,n)}return n}(n);null===t.context?t.context=c:t.pendingContext=c,"render"!==qe||null===$e||Sk||(Sk=!0,j(!1,"Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate.\n\nCheck the render method of %s.",Fe($e.type)||"Unknown"));var d=sm(s,u);return d.payload={element:e},null!==(r=void 0===r?null:r)&&("function"!=typeof r&&j(!1,"render(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",r),d.callback=r),dm(i,d),$b(i,s),s}function Pk(e){var t=e.current;if(!t.child)return null;switch(t.child.tag){case K:default:return t.child.stateNode}}function Rk(e,t){var n=e.memoizedState;null!==n&&null!==n.dehydrated&&n.retryTime<t&&(n.retryTime=t)}function jk(e,t){Rk(e,t);var n=e.alternate;n&&Rk(n,t)}function Ik(e){var t=function(e){var t=ra(e);if(!t)return null;for(var n=t;;){if(n.tag===K||n.tag===X||Tt&&n.tag===ce)return n;if(n.child&&n.tag!==Q)n.child.return=n,n=n.child;else{if(n===t)return null;for(;!n.sibling;){if(!n.return||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}}return null}(e);return null===t?null:t.tag===ce?t.stateNode.instance:t.stateNode}Sk=!1,Ek={};var Dk=function(e){return!1};var Nk=null,Ok=null,Mk=null,zk=null,Uk=function(e,t,n,o){if(n>=t.length)return o;var a=t[n],i=Array.isArray(e)?e.slice():r({},e);return i[a]=Uk(e[a],t,n+1,o),i},Ak=function(e,t,n){return Uk(e,t,0,n)};function Lk(e,t){this._internalRoot=Fk(e,cf,t)}function Wk(e,t,n){this._internalRoot=Fk(e,t,n)}function Fk(e,t,n){var r,o=null!=n&&!0===n.hydrate,a=function(e,t,n,r){return bk(e,t,n,r)}(e,t,o,null!=n&&n.hydrationOptions||null);(r=a.current,e[Fs]=r,o&&t!==uf)&&function(e){var t=qi(e);pa.forEach((function(n){va(n,e,t)})),ma.forEach((function(n){va(n,e,t)}))}(e.nodeType===Ur?e:e.ownerDocument);return a}function Bk(e){return!(!e||e.nodeType!==Or&&e.nodeType!==Ur&&e.nodeType!==Ar&&(e.nodeType!==zr||" react-mount-point-unstable "!==e.nodeValue))}function Hk(e,t){null!==e&&"function"!=typeof e&&j(!1,"%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",t,e)}Nk=function(e,t,n,o){for(var a=e.memoizedState;null!==a&&t>0;)a=a.next,t--;if(null!==a){var i=Ak(a.memoizedState,n,o);a.memoizedState=i,a.baseState=i,e.memoizedProps=r({},e.memoizedProps),$b(e,ep)}},Ok=function(e,t,n){e.pendingProps=Ak(e.memoizedProps,t,n),e.alternate&&(e.alternate.pendingProps=e.pendingProps),$b(e,ep)},Mk=function(e){$b(e,ep)},zk=function(e){Dk=e},Lk.prototype.render=Wk.prototype.render=function(e,t){var n=this._internalRoot,r=void 0===t?null:t;Hk(r,"render"),Ck(e,n,null,r)},Lk.prototype.unmount=Wk.prototype.unmount=function(e){var t=this._internalRoot,n=void 0===e?null:e;Hk(n,"render");var r=t.containerInfo;Ck(null,t,null,(function(){Hs(r),null!==n&&n()}))};var Vk,$k=fe.ReactCurrentOwner,qk=!1;function Yk(e){return e?e.nodeType===Ur?e.documentElement:e.firstChild:null}function Qk(e,t){var n=t||function(e){var t=Yk(e);return!(!t||t.nodeType!==Or||!t.hasAttribute(bn))}(e);if(!n)for(var r,o=!1;r=e.lastChild;)!o&&r.nodeType===Or&&r.hasAttribute(bn)&&(o=!0,j(!1,"render(): Target node has markup rendered by React, but there are unrelated nodes as well. This is most commonly caused by white-space inserted around server-rendered markup.")),e.removeChild(r);return!n||t||qk||(qk=!0,hp(!1,"render(): Calling ReactDOM.render() to hydrate server-rendered markup will stop working in React v17. Replace the ReactDOM.render() call with ReactDOM.hydrate() if you want React to attach to the server HTML.")),function(e,t){return new Wk(e,uf,t)}(e,n?{hydrate:!0}:void 0)}function Kk(e,t,n,r,o){Vk(n),Hk(void 0===o?null:o,"render");var a,i=n._reactRootContainer;if(i){if(a=i._internalRoot,"function"==typeof o){var l=o;o=function(){var e=Pk(a);l.call(e)}}Ck(t,a,e,o)}else{if(i=n._reactRootContainer=Qk(n,r),a=i._internalRoot,"function"==typeof o){var u=o;o=function(){var e=Pk(a);u.call(e)}}ew((function(){Ck(t,a,e,o)}))}return Pk(a)}Vk=function(e){if(e._reactRootContainer&&e.nodeType!==zr){var t=Ik(e._reactRootContainer._internalRoot.current);t&&t.parentNode!==e&&j(!1,"render(...): It looks like the React-rendered content of this container was removed without using React. This is not supported and will cause errors. Instead, call ReactDOM.unmountComponentAtNode to empty a container.")}var n=!!e._reactRootContainer,r=Yk(e);!(!r||!qs(r))&&!n&&j(!1,"render(...): Replacing React-rendered children with a new root component. If you intended to update the children of this node, you should instead have the existing children update their state and render the new components instead of calling ReactDOM.render."),e.nodeType===Or&&e.tagName&&"BODY"===e.tagName.toUpperCase()&&j(!1,"render(): Rendering components directly into document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try rendering into a container element created for your app.")};jo=function(e){switch(e.tag){case Y:var t=e.stateNode;t.hydrate&&function(e,t){Tk(e,t),Qb(e),(pb&(ab|ib))===eb&&Bf()}(t,t.firstPendingTime);break;case re:tw((function(){return $b(e,ep)}));var n=fp(Hb());jk(e,n)}},function(e){Io=e}((function(e){if(e.tag===re){var t=fp(Hb());$b(e,t),jk(e,t)}})),function(e){Do=e}((function(e){if(e.tag===re){var t=(Hb(),Zf++);$b(e,t),jk(e,t)}})),function(e){No=e}((function(e){if(e.tag===re){var t=Vb(Hb(),e,null);$b(e,t),jk(e,t)}}));var Xk=!1;function Gk(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!Bk(t))throw Error("Target container is not a DOM element.");return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:ye,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}"function"==typeof Map&&null!=Map.prototype&&"function"==typeof Map.prototype.forEach&&"function"==typeof Set&&null!=Set.prototype&&"function"==typeof Set.prototype.clear&&"function"==typeof Set.prototype.forEach||j(!1,"React depends on Map and Set built-in types. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),it=function(e,t,n){switch(t){case"input":return void ur(e,n);case"textarea":return void function(e,t){Tr(e,t)}(e,n);case"select":return void function(e,t){var n=e,r=t.value;null!=r&&yr(n,!!t.multiple,r,!1)}(e,n)}},Nt=Jb,Ot=Zb,Mt=Gb,zt=function(e,t){var n=pb;pb|=nb;try{return e(t)}finally{(pb=n)===eb&&Bf()}};var Jk={createPortal:Gk,findDOMNode:function(e){var t=$k.current;return null!==t&&null!==t.stateNode&&(t.stateNode._warnedAboutRefsInRender||j(!1,"%s is accessing findDOMNode inside its render(). render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",Fe(t.type)||"A component"),t.stateNode._warnedAboutRefsInRender=!0),null==e?null:e.nodeType===Or?e:function(e,t){var n=Ro(e);if(void 0===n)throw"function"==typeof e.render?Error("Unable to find node on an unmounted component."):Error("Argument appears to not be a ReactComponent. Keys: "+Object.keys(e));var r=oa(n);if(null===r)return null;if(r.mode&$f){var o=Fe(n.type)||"Component";Ek[o]||(Ek[o]=!0,n.mode&$f?j(!1,"%s is deprecated in StrictMode. %s was passed an instance of %s which is inside StrictMode. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://fb.me/react-strict-mode-find-node%s",t,t,o,Ve(r)):j(!1,"%s is deprecated in StrictMode. %s was passed an instance of %s which renders StrictMode children. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://fb.me/react-strict-mode-find-node%s",t,t,o,Ve(r)))}return r.stateNode}(e,"findDOMNode")},hydrate:function(e,t,n){if(!Bk(t))throw Error("Target container is not a DOM element.");return Vs(t)&&void 0===t._reactRootContainer&&j(!1,"You are calling ReactDOM.hydrate() on a container that was previously passed to ReactDOM.createRoot(). This is not supported. Did you mean to call createRoot(container, {hydrate: true}).render(element)?"),Kk(null,e,t,!0,n)},render:function(e,t,n){if(!Bk(t))throw Error("Target container is not a DOM element.");return Vs(t)&&void 0===t._reactRootContainer&&j(!1,"You are calling ReactDOM.render() on a container that was previously passed to ReactDOM.createRoot(). This is not supported. Did you mean to call root.render(element)?"),Kk(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,r){if(!Bk(n))throw Error("Target container is not a DOM element.");if(null==e||void 0===e._reactInternalFiber)throw Error("parentComponent must be a valid React Component");return Kk(e,t,n,!1,r)},unmountComponentAtNode:function(e){if(!Bk(e))throw Error("unmountComponentAtNode(...): Target container is not a DOM element.");if(Vs(e)&&void 0===e._reactRootContainer&&j(!1,"You are calling ReactDOM.unmountComponentAtNode() on a container that was previously passed to ReactDOM.createRoot(). This is not supported. Did you mean to call root.unmount()?"),e._reactRootContainer){var t=Yk(e);return t&&!qs(t)&&j(!1,"unmountComponentAtNode(): The node you're attempting to unmount was rendered by another copy of React."),ew((function(){Kk(null,null,e,!1,(function(){e._reactRootContainer=null,Hs(e)}))})),!0}var n=Yk(e),r=!(!n||!qs(n)),o=e.nodeType===Or&&Bk(e.parentNode)&&!!e.parentNode._reactRootContainer;return r&&j(!1,"unmountComponentAtNode(): The node you're attempting to unmount was rendered by React and is not a top-level container. %s",o?"You may have accidentally passed in a React root node instead of its container.":"Instead, have the parent component update its state and rerender in order to remove this component."),!1},unstable_createPortal:function(){return Xk||(Xk=!0,hp(!1,'The ReactDOM.unstable_createPortal() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactDOM.createPortal() instead. It has the exact same API, but without the "unstable_" prefix.')),Gk.apply(void 0,arguments)},unstable_batchedUpdates:Jb,flushSync:tw,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[qs,Ys,Qs,F.injectEventPluginsByName,p,Ma,function(e){z(e,Oa)},ct,dt,Bi,W,xw,Aw]}};if(!function(e){var t=e.findFiberByHostInstance,n=fe.ReactCurrentDispatcher;return nk(r({},e,{overrideHookState:Nk,overrideProps:Ok,setSuspenseHandler:zk,scheduleUpdate:Mk,currentDispatcherRef:n,findHostInstanceByFiber:function(e){var t=oa(e);return null===t?null:t.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:Up,scheduleRefresh:Mp,scheduleRoot:zp,setRefreshHandler:Rp,getCurrentFiber:function(){return $e}}))}({findFiberByHostInstance:$s,bundleType:1,version:"16.12.0",rendererPackageName:"react-dom"})&&Je&&window.top===window.self&&(navigator.userAgent.indexOf("Chrome")>-1&&-1===navigator.userAgent.indexOf("Edge")||navigator.userAgent.indexOf("Firefox")>-1)){var Zk=window.location.protocol;/^(https?|file):$/.test(Zk)&&console.info("%cDownload the React DevTools for a better development experience: https://fb.me/react-devtools"+("file:"===Zk?"\nYou might need to use a local HTTP server (instead of file://): https://fb.me/react-devtools-faq":""),"font-weight:bold")}var ex=Object.freeze({default:Jk}),tx=ex&&Jk||ex,nx=tx.default||tx;e.exports=nx})()},"./node_modules/react-dom/index.js":
/*!*****************************************!*\
  !*** ./node_modules/react-dom/index.js ***!
  \*****************************************/
/*! no static exports found */function(e,t,n){"use strict";e.exports=n(/*! ./cjs/react-dom.development.js */"./node_modules/react-dom/cjs/react-dom.development.js")},"./node_modules/react/cjs/react.development.js":
/*!*****************************************************!*\
  !*** ./node_modules/react/cjs/react.development.js ***!
  \*****************************************************/
/*! no static exports found */function(e,t,n){"use strict";
/** @license React v16.12.0
 * react.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var t=n(/*! object-assign */"./node_modules/object-assign/index.js"),r=n(/*! prop-types/checkPropTypes */"./node_modules/prop-types/checkPropTypes.js"),o="function"==typeof Symbol&&Symbol.for,a=o?Symbol.for("react.element"):60103,i=o?Symbol.for("react.portal"):60106,l=o?Symbol.for("react.fragment"):60107,u=o?Symbol.for("react.strict_mode"):60108,s=o?Symbol.for("react.profiler"):60114,c=o?Symbol.for("react.provider"):60109,d=o?Symbol.for("react.context"):60110,f=o?Symbol.for("react.concurrent_mode"):60111,p=o?Symbol.for("react.forward_ref"):60112,m=o?Symbol.for("react.suspense"):60113,h=o?Symbol.for("react.suspense_list"):60120,v=o?Symbol.for("react.memo"):60115,y=o?Symbol.for("react.lazy"):60116,g=o?Symbol.for("react.fundamental"):60117,b=o?Symbol.for("react.responder"):60118,w=o?Symbol.for("react.scope"):60119,k="function"==typeof Symbol&&Symbol.iterator,x="@@iterator";function T(e){if(null===e||"object"!=typeof e)return null;var t=k&&e[k]||e[x];return"function"==typeof t?t:null}var S=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=0,a="Warning: "+e.replace(/%s/g,(function(){return n[o++]}));"undefined"!=typeof console&&console.warn(a);try{throw new Error(a)}catch(e){}},E=function(e,t){if(void 0===t)throw new Error("`lowPriorityWarningWithoutStack(condition, format, ...args)` requires a warning message argument");if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];S.apply(void 0,[t].concat(r))}},_=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];if(void 0===t)throw new Error("`warningWithoutStack(condition, format, ...args)` requires a warning message argument");if(r.length>8)throw new Error("warningWithoutStack() currently supports at most 8 arguments.");if(!e){if("undefined"!=typeof console){var a=r.map((function(e){return""+e}));a.unshift("Warning: "+t),Function.prototype.apply.call(console.error,console,a)}try{var i=0,l="Warning: "+t.replace(/%s/g,(function(){return r[i++]}));throw new Error(l)}catch(e){}}},C={};function P(e,t){var n=e.constructor,r=n&&(n.displayName||n.name)||"ReactClass",o=r+"."+t;C[o]||(_(!1,"Can't call %s on a component that is not yet mounted. This is a no-op, but it might indicate a bug in your application. Instead, assign to `this.state` directly or define a `state = {};` class property with the desired state in the %s component.",t,r),C[o]=!0)}var R={isMounted:function(e){return!1},enqueueForceUpdate:function(e,t,n){P(e,"forceUpdate")},enqueueReplaceState:function(e,t,n,r){P(e,"replaceState")},enqueueSetState:function(e,t,n,r){P(e,"setState")}},j={};function I(e,t,n){this.props=e,this.context=t,this.refs=j,this.updater=n||R}Object.freeze(j),I.prototype.isReactComponent={},I.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},I.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};var D={isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."]},N=function(e,t){Object.defineProperty(I.prototype,e,{get:function(){E(!1,"%s(...) is deprecated in plain JavaScript React classes. %s",t[0],t[1])}})};for(var O in D)D.hasOwnProperty(O)&&N(O,D[O]);function M(){}function z(e,t,n){this.props=e,this.context=t,this.refs=j,this.updater=n||R}M.prototype=I.prototype;var U=z.prototype=new M;U.constructor=z,t(U,I.prototype),U.isPureReactComponent=!0;var A={current:null},L={suspense:null},W={current:null},F=/^(.*)[\\\/]/,B=1;function H(e){if(null==e)return null;if("number"==typeof e.tag&&_(!1,"Received an unexpected object in getComponentName(). This is likely a bug in React. Please file an issue."),"function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case l:return"Fragment";case i:return"Portal";case s:return"Profiler";case u:return"StrictMode";case m:return"Suspense";case h:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case d:return"Context.Consumer";case c:return"Context.Provider";case p:return r=e,o=e.render,a="ForwardRef",f=o.displayName||o.name||"",r.displayName||(""!==f?a+"("+f+")":a);case v:return H(e.type);case y:var t=(n=e)._status===B?n._result:null;if(t)return H(t)}var n,r,o,a,f;return null}var V={},$=null;function q(e){$=e}V.getCurrentStack=null,V.getStackAddendum=function(){var e="";if($){var t=H($.type),n=$._owner;e+=function(e,t,n){var r="";if(t){var o=t.fileName,a=o.replace(F,"");if(/^index\./.test(a)){var i=o.match(F);if(i){var l=i[1];if(l)a=l.replace(F,"")+"/"+a}}r=" (at "+a+":"+t.lineNumber+")"}else n&&(r=" (created by "+n+")");return"\n    in "+(e||"Unknown")+r}(t,$._source,n&&H(n.type))}var r=V.getCurrentStack;return r&&(e+=r()||""),e};var Y={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:L,ReactCurrentOwner:W,IsSomeRendererActing:{current:!1},assign:t};t(Y,{ReactDebugCurrentFrame:V,ReactComponentTreeHook:{}});var Q,K,X=function(e,t){if(!e){for(var n=Y.ReactDebugCurrentFrame,r=n.getStackAddendum(),o=arguments.length,a=new Array(o>2?o-2:0),i=2;i<o;i++)a[i-2]=arguments[i];_.apply(void 0,[!1,t+"%s"].concat(a,[r]))}},G=Object.prototype.hasOwnProperty,J={key:!0,ref:!0,__self:!0,__source:!0};function Z(e){if(G.call(e,"ref")){var t=Object.getOwnPropertyDescriptor(e,"ref").get;if(t&&t.isReactWarning)return!1}return void 0!==e.ref}function ee(e){if(G.call(e,"key")){var t=Object.getOwnPropertyDescriptor(e,"key").get;if(t&&t.isReactWarning)return!1}return void 0!==e.key}function te(e,t){var n=function(){Q||(Q=!0,_(!1,"%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://fb.me/react-special-props)",t))};n.isReactWarning=!0,Object.defineProperty(e,"key",{get:n,configurable:!0})}function ne(e,t){var n=function(){K||(K=!0,_(!1,"%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://fb.me/react-special-props)",t))};n.isReactWarning=!0,Object.defineProperty(e,"ref",{get:n,configurable:!0})}var re=function(e,t,n,r,o,i,l){var u={$$typeof:a,type:e,key:t,ref:n,props:l,_owner:i,_store:{}};return Object.defineProperty(u._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(u,"_self",{configurable:!1,enumerable:!1,writable:!1,value:r}),Object.defineProperty(u,"_source",{configurable:!1,enumerable:!1,writable:!1,value:o}),Object.freeze&&(Object.freeze(u.props),Object.freeze(u)),u};function oe(e,t,n){var r,o={},a=null,i=null,l=null,u=null;if(null!=t)for(r in Z(t)&&(i=t.ref),ee(t)&&(a=""+t.key),l=void 0===t.__self?null:t.__self,u=void 0===t.__source?null:t.__source,t)G.call(t,r)&&!J.hasOwnProperty(r)&&(o[r]=t[r]);var s=arguments.length-2;if(1===s)o.children=n;else if(s>1){for(var c=Array(s),d=0;d<s;d++)c[d]=arguments[d+2];Object.freeze&&Object.freeze(c),o.children=c}if(e&&e.defaultProps){var f=e.defaultProps;for(r in f)void 0===o[r]&&(o[r]=f[r])}if(a||i){var p="function"==typeof e?e.displayName||e.name||"Unknown":e;a&&te(o,p),i&&ne(o,p)}return re(e,a,i,l,u,W.current,o)}function ae(e,n,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o,a,i=t({},e.props),l=e.key,u=e.ref,s=e._self,c=e._source,d=e._owner;if(null!=n)for(o in Z(n)&&(u=n.ref,d=W.current),ee(n)&&(l=""+n.key),e.type&&e.type.defaultProps&&(a=e.type.defaultProps),n)G.call(n,o)&&!J.hasOwnProperty(o)&&(void 0===n[o]&&void 0!==a?i[o]=a[o]:i[o]=n[o]);var f=arguments.length-2;if(1===f)i.children=r;else if(f>1){for(var p=Array(f),m=0;m<f;m++)p[m]=arguments[m+2];i.children=p}return re(e.type,l,u,s,c,d,i)}function ie(e){return"object"==typeof e&&null!==e&&e.$$typeof===a}var le=".",ue=":";var se=!1,ce=/\/+/g;function de(e){return(""+e).replace(ce,"$&/")}var fe=10,pe=[];function me(e,t,n,r){if(pe.length){var o=pe.pop();return o.result=e,o.keyPrefix=t,o.func=n,o.context=r,o.count=0,o}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function he(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,pe.length<fe&&pe.push(e)}function ve(e,t,n){return null==e?0:function e(t,n,r,o){var l=typeof t;"undefined"!==l&&"boolean"!==l||(t=null);var u,s=!1;if(null===t)s=!0;else switch(l){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case a:case i:s=!0}}if(s)return r(o,t,""===n?le+ye(t,0):n),1;var c=0,d=""===n?le:n+ue;if(Array.isArray(t))for(var f=0;f<t.length;f++)c+=e(u=t[f],d+ye(u,f),r,o);else{var p=T(t);if("function"==typeof p){p===t.entries&&(se||X(!1,"Using Maps as children is unsupported and will likely yield unexpected results. Convert it to a sequence/iterable of keyed ReactElements instead."),se=!0);for(var m,h=p.call(t),v=0;!(m=h.next()).done;)c+=e(u=m.value,d+ye(u,v++),r,o)}else if("object"===l){var y;y=" If you meant to render a collection of children, use an array instead."+V.getStackAddendum();var g=""+t;throw Error("Objects are not valid as a React child (found: "+("[object Object]"===g?"object with keys {"+Object.keys(t).join(", ")+"}":g)+")."+y)}}return c}(e,"",t,n)}function ye(e,t){return"object"==typeof e&&null!==e&&null!=e.key?(n=e.key,r={"=":"=0",":":"=2"},"$"+(""+n).replace(/[=:]/g,(function(e){return r[e]}))):t.toString(36);var n,r}function ge(e,t,n){var r=e.func,o=e.context;r.call(o,t,e.count++)}function be(e,t,n){var r,o,a=e.result,i=e.keyPrefix,l=e.func,u=e.context,s=l.call(u,t,e.count++);Array.isArray(s)?we(s,a,n,(function(e){return e})):null!=s&&(ie(s)&&(r=s,o=i+(!s.key||t&&t.key===s.key?"":de(s.key)+"/")+n,s=re(r.type,o,r.ref,r._self,r._source,r._owner,r.props)),a.push(s))}function we(e,t,n,r,o){var a="";null!=n&&(a=de(n)+"/");var i=me(t,a,r,o);ve(e,be,i),he(i)}function ke(e){return"string"==typeof e||"function"==typeof e||e===l||e===f||e===s||e===u||e===m||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===v||e.$$typeof===c||e.$$typeof===d||e.$$typeof===p||e.$$typeof===g||e.$$typeof===b||e.$$typeof===w)}function xe(){var e=A.current;if(null===e)throw Error("Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:\n1. You might have mismatching versions of React and the renderer (such as React DOM)\n2. You might be breaking the Rules of Hooks\n3. You might have more than one copy of React in the same app\nSee https://fb.me/react-invalid-hook-call for tips about how to debug and fix this problem.");return e}var Te;Te=!1;Object.prototype.hasOwnProperty;function Se(){if(W.current){var e=H(W.current.type);if(e)return"\n\nCheck the render method of `"+e+"`."}return""}function Ee(e){return void 0!==e?"\n\nCheck your code at "+e.fileName.replace(/^.*[\\\/]/,"")+":"+e.lineNumber+".":""}var _e={};function Ce(e,t){if(e._store&&!e._store.validated&&null==e.key){e._store.validated=!0;var n=function(e){var t=Se();if(!t){var n="string"==typeof e?e:e.displayName||e.name;n&&(t="\n\nCheck the top-level render call using <"+n+">.")}return t}(t);if(!_e[n]){_e[n]=!0;var r="";e&&e._owner&&e._owner!==W.current&&(r=" It was passed a child from "+H(e._owner.type)+"."),q(e),X(!1,'Each child in a list should have a unique "key" prop.%s%s See https://fb.me/react-warning-keys for more information.',n,r),q(null)}}}function Pe(e,t){if("object"==typeof e)if(Array.isArray(e))for(var n=0;n<e.length;n++){var r=e[n];ie(r)&&Ce(r,t)}else if(ie(e))e._store&&(e._store.validated=!0);else if(e){var o=T(e);if("function"==typeof o&&o!==e.entries)for(var a,i=o.call(e);!(a=i.next()).done;)ie(a.value)&&Ce(a.value,t)}}function Re(e){var t=e.type;if(null!=t&&"string"!=typeof t){var n,o=H(t);if("function"==typeof t)n=t.propTypes;else{if("object"!=typeof t||t.$$typeof!==p&&t.$$typeof!==v)return;n=t.propTypes}n?(q(e),r(n,e.props,"prop",o,V.getStackAddendum),q(null)):void 0===t.PropTypes||Te||(Te=!0,_(!1,"Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",o||"Unknown")),"function"==typeof t.getDefaultProps&&(t.getDefaultProps.isReactClassApproved||_(!1,"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead."))}}function je(e){q(e);for(var t=Object.keys(e.props),n=0;n<t.length;n++){var r=t[n];if("children"!==r&&"key"!==r){X(!1,"Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",r);break}}null!==e.ref&&X(!1,"Invalid attribute `ref` supplied to `React.Fragment`."),q(null)}function Ie(e,t,n){var r,o=ke(e);if(!o){var i="";(void 0===e||"object"==typeof e&&null!==e&&0===Object.keys(e).length)&&(i+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var u,s=null!=(r=t)?Ee(r.__source):"";i+=s||Se(),null===e?u="null":Array.isArray(e)?u="array":void 0!==e&&e.$$typeof===a?(u="<"+(H(e.type)||"Unknown")+" />",i=" Did you accidentally export a JSX literal instead of a component?"):u=typeof e,X(!1,"React.createElement: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",u,i)}var c=oe.apply(this,arguments);if(null==c)return c;if(o)for(var d=2;d<arguments.length;d++)Pe(arguments[d],e);return e===l?je(c):Re(c),c}try{var De=Object.freeze({}),Ne=new Map([[De,null]]),Oe=new Set([De]);Ne.set(0,0),Oe.add(0)}catch(e){!0}var Me={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return we(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;var r=me(null,null,t,n);ve(e,ge,r),he(r)},count:function(e){return ve(e,(function(){return null}),null)},toArray:function(e){var t=[];return we(e,t,null,(function(e){return e})),t},only:function(e){if(!ie(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},createRef:function(){var e={current:null};return Object.seal(e),e},Component:I,PureComponent:z,createContext:function(e,t){void 0===t?t=null:null!==t&&"function"!=typeof t&&_(!1,"createContext: Expected the optional second argument to be a function. Instead received: %s",t);var n={$$typeof:d,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null};n.Provider={$$typeof:c,_context:n};var r=!1,o=!1,a={$$typeof:d,_context:n,_calculateChangedBits:n._calculateChangedBits};return Object.defineProperties(a,{Provider:{get:function(){return o||(o=!0,X(!1,"Rendering <Context.Consumer.Provider> is not supported and will be removed in a future major release. Did you mean to render <Context.Provider> instead?")),n.Provider},set:function(e){n.Provider=e}},_currentValue:{get:function(){return n._currentValue},set:function(e){n._currentValue=e}},_currentValue2:{get:function(){return n._currentValue2},set:function(e){n._currentValue2=e}},_threadCount:{get:function(){return n._threadCount},set:function(e){n._threadCount=e}},Consumer:{get:function(){return r||(r=!0,X(!1,"Rendering <Context.Consumer.Consumer> is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?")),n.Consumer}}}),n.Consumer=a,n._currentRenderer=null,n._currentRenderer2=null,n},forwardRef:function(e){return null!=e&&e.$$typeof===v?_(!1,"forwardRef requires a render function but received a `memo` component. Instead of forwardRef(memo(...)), use memo(forwardRef(...))."):"function"!=typeof e?_(!1,"forwardRef requires a render function but was given %s.",null===e?"null":typeof e):0!==e.length&&2!==e.length&&_(!1,"forwardRef render functions accept exactly two parameters: props and ref. %s",1===e.length?"Did you forget to use the ref parameter?":"Any additional parameter will be undefined."),null!=e&&(null!=e.defaultProps||null!=e.propTypes)&&_(!1,"forwardRef render functions do not support propTypes or defaultProps. Did you accidentally pass a React component?"),{$$typeof:p,render:e}},lazy:function(e){var t,n,r={$$typeof:y,_ctor:e,_status:-1,_result:null};return Object.defineProperties(r,{defaultProps:{configurable:!0,get:function(){return t},set:function(e){X(!1,"React.lazy(...): It is not supported to assign `defaultProps` to a lazy component import. Either specify them where the component is defined, or create a wrapping component around it."),t=e,Object.defineProperty(r,"defaultProps",{enumerable:!0})}},propTypes:{configurable:!0,get:function(){return n},set:function(e){X(!1,"React.lazy(...): It is not supported to assign `propTypes` to a lazy component import. Either specify them where the component is defined, or create a wrapping component around it."),n=e,Object.defineProperty(r,"propTypes",{enumerable:!0})}}}),r},memo:function(e,t){return ke(e)||_(!1,"memo: The first argument must be a component. Instead received: %s",null===e?"null":typeof e),{$$typeof:v,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return xe().useCallback(e,t)},useContext:function(e,t){var n=xe();if(void 0!==t&&X(!1,"useContext() second argument is reserved for future use in React. Passing it is not supported. You passed: %s.%s",t,"number"==typeof t&&Array.isArray(arguments[2])?"\n\nDid you call array.map(useContext)? Calling Hooks inside a loop is not supported. Learn more at https://fb.me/rules-of-hooks":""),void 0!==e._context){var r=e._context;r.Consumer===e?X(!1,"Calling useContext(Context.Consumer) is not supported, may cause bugs, and will be removed in a future major release. Did you mean to call useContext(Context) instead?"):r.Provider===e&&X(!1,"Calling useContext(Context.Provider) is not supported. Did you mean to call useContext(Context) instead?")}return n.useContext(e,t)},useEffect:function(e,t){return xe().useEffect(e,t)},useImperativeHandle:function(e,t,n){return xe().useImperativeHandle(e,t,n)},useDebugValue:function(e,t){return xe().useDebugValue(e,t)},useLayoutEffect:function(e,t){return xe().useLayoutEffect(e,t)},useMemo:function(e,t){return xe().useMemo(e,t)},useReducer:function(e,t,n){return xe().useReducer(e,t,n)},useRef:function(e){return xe().useRef(e)},useState:function(e){return xe().useState(e)},Fragment:l,Profiler:s,StrictMode:u,Suspense:m,createElement:Ie,cloneElement:function(e,t,n){for(var r=ae.apply(this,arguments),o=2;o<arguments.length;o++)Pe(arguments[o],r.type);return Re(r),r},createFactory:function(e){var t=Ie.bind(null,e);return t.type=e,Object.defineProperty(t,"type",{enumerable:!1,get:function(){return E(!1,"Factory.type is deprecated. Access the class directly before passing it to createFactory."),Object.defineProperty(this,"type",{value:e}),e}}),t},isValidElement:ie,version:"16.12.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Y};var ze=Object.freeze({default:Me}),Ue=ze&&Me||ze,Ae=Ue.default||Ue;e.exports=Ae})()},"./node_modules/react/index.js":
/*!*************************************!*\
  !*** ./node_modules/react/index.js ***!
  \*************************************/
/*! no static exports found */function(e,t,n){"use strict";e.exports=n(/*! ./cjs/react.development.js */"./node_modules/react/cjs/react.development.js")},"./node_modules/scheduler/cjs/scheduler-tracing.development.js":
/*!*********************************************************************!*\
  !*** ./node_modules/scheduler/cjs/scheduler-tracing.development.js ***!
  \*********************************************************************/
/*! no static exports found */function(e,t,n){"use strict";
/** @license React v0.18.0
 * scheduler-tracing.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){Object.defineProperty(t,"__esModule",{value:!0});var e=!0,n=0,r=0,o=0;t.__interactionsRef=null,t.__subscriberRef=null,e&&(t.__interactionsRef={current:new Set},t.__subscriberRef={current:null});var a=null;function i(e){var t=!1,n=null;if(a.forEach((function(r){try{r.onInteractionTraced(e)}catch(e){t||(t=!0,n=e)}})),t)throw n}function l(e){var t=!1,n=null;if(a.forEach((function(r){try{r.onInteractionScheduledWorkCompleted(e)}catch(e){t||(t=!0,n=e)}})),t)throw n}function u(e,t){var n=!1,r=null;if(a.forEach((function(o){try{o.onWorkScheduled(e,t)}catch(e){n||(n=!0,r=e)}})),n)throw r}function s(e,t){var n=!1,r=null;if(a.forEach((function(o){try{o.onWorkStarted(e,t)}catch(e){n||(n=!0,r=e)}})),n)throw r}function c(e,t){var n=!1,r=null;if(a.forEach((function(o){try{o.onWorkStopped(e,t)}catch(e){n||(n=!0,r=e)}})),n)throw r}function d(e,t){var n=!1,r=null;if(a.forEach((function(o){try{o.onWorkCanceled(e,t)}catch(e){n||(n=!0,r=e)}})),n)throw r}e&&(a=new Set),t.unstable_clear=function(n){if(!e)return n();var r=t.__interactionsRef.current;t.__interactionsRef.current=new Set;try{return n()}finally{t.__interactionsRef.current=r}},t.unstable_getCurrent=function(){return e?t.__interactionsRef.current:null},t.unstable_getThreadID=function(){return++o},t.unstable_trace=function(o,a,i){var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;if(!e)return i();var u={__count:1,id:r++,name:o,timestamp:a},s=t.__interactionsRef.current,c=new Set(s);c.add(u),t.__interactionsRef.current=c;var d,f=t.__subscriberRef.current;try{null!==f&&f.onInteractionTraced(u)}finally{try{null!==f&&f.onWorkStarted(c,l)}finally{try{d=i()}finally{t.__interactionsRef.current=s;try{null!==f&&f.onWorkStopped(c,l)}finally{u.__count--,null!==f&&0===u.__count&&f.onInteractionScheduledWorkCompleted(u)}}}}return d},t.unstable_wrap=function(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n;if(!e)return r;var a=t.__interactionsRef.current,i=t.__subscriberRef.current;null!==i&&i.onWorkScheduled(a,o),a.forEach((function(e){e.__count++}));var l=!1;function u(){var e=t.__interactionsRef.current;t.__interactionsRef.current=a,i=t.__subscriberRef.current;try{var n;try{null!==i&&i.onWorkStarted(a,o)}finally{try{n=r.apply(void 0,arguments)}finally{t.__interactionsRef.current=e,null!==i&&i.onWorkStopped(a,o)}}return n}finally{l||(l=!0,a.forEach((function(e){e.__count--,null!==i&&0===e.__count&&i.onInteractionScheduledWorkCompleted(e)})))}}return u.cancel=function(){i=t.__subscriberRef.current;try{null!==i&&i.onWorkCanceled(a,o)}finally{a.forEach((function(e){e.__count--,i&&0===e.__count&&i.onInteractionScheduledWorkCompleted(e)}))}},u},t.unstable_subscribe=function(n){e&&(a.add(n),1===a.size&&(t.__subscriberRef.current={onInteractionScheduledWorkCompleted:l,onInteractionTraced:i,onWorkCanceled:d,onWorkScheduled:u,onWorkStarted:s,onWorkStopped:c}))},t.unstable_unsubscribe=function(n){e&&(a.delete(n),0===a.size&&(t.__subscriberRef.current=null))}})()},"./node_modules/scheduler/cjs/scheduler.development.js":
/*!*************************************************************!*\
  !*** ./node_modules/scheduler/cjs/scheduler.development.js ***!
  \*************************************************************/
/*! no static exports found */function(e,t,n){"use strict";
/** @license React v0.18.0
 * scheduler.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){Object.defineProperty(t,"__esModule",{value:!0});var e,n,r,o,a,i=!1,l=!0;if("undefined"==typeof window||"function"!=typeof MessageChannel){var u=null,s=null,c=function(){if(null!==u)try{var e=t.unstable_now();u(!0,e),u=null}catch(e){throw setTimeout(c,0),e}},d=Date.now();t.unstable_now=function(){return Date.now()-d},e=function(t){null!==u?setTimeout(e,0,t):(u=t,setTimeout(c,0))},n=function(e,t){s=setTimeout(e,t)},r=function(){clearTimeout(s)},o=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var f=window.performance,p=window.Date,m=window.setTimeout,h=window.clearTimeout;if("undefined"!=typeof console){var v=window.requestAnimationFrame,y=window.cancelAnimationFrame;"function"!=typeof v&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof y&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof f&&"function"==typeof f.now)t.unstable_now=function(){return f.now()};else{var g=p.now();t.unstable_now=function(){return p.now()-g}}var b=!1,w=null,k=-1,x=5,T=0;o=function(){return t.unstable_now()>=T},a=function(){},t.unstable_forceFrameRate=function(e){e<0||e>125?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):x=e>0?Math.floor(1e3/e):5};var S=new MessageChannel,E=S.port2;S.port1.onmessage=function(){if(null!==w){var e=t.unstable_now();T=e+x;try{w(!0,e)?E.postMessage(null):(b=!1,w=null)}catch(e){throw E.postMessage(null),e}}else b=!1;!1},e=function(e){w=e,b||(b=!0,E.postMessage(null))},n=function(e,n){k=m((function(){e(t.unstable_now())}),n)},r=function(){h(k),k=-1}}function _(e,t){var n=e.length;e.push(t),function(e,t,n){var r=n;for(;;){var o=Math.floor((r-1)/2),a=e[o];if(!(void 0!==a&&R(a,t)>0))return;e[o]=t,e[r]=a,r=o}}(e,t,n)}function C(e){var t=e[0];return void 0===t?null:t}function P(e){var t=e[0];if(void 0!==t){var n=e.pop();return n!==t&&(e[0]=n,function(e,t,n){var r=n,o=e.length;for(;r<o;){var a=2*(r+1)-1,i=e[a],l=a+1,u=e[l];if(void 0!==i&&R(i,t)<0)void 0!==u&&R(u,i)<0?(e[r]=u,e[l]=t,r=l):(e[r]=i,e[a]=t,r=a);else{if(!(void 0!==u&&R(u,t)<0))return;e[r]=u,e[l]=t,r=l}}}(e,n,0)),t}return null}function R(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var j=0,I=1,D=2,N=3,O=4,M=5,z=0,U=0,A=l?"function"==typeof SharedArrayBuffer?new SharedArrayBuffer(4*Int32Array.BYTES_PER_ELEMENT):"function"==typeof ArrayBuffer?new ArrayBuffer(4*Int32Array.BYTES_PER_ELEMENT):null:null,L=l&&null!==A?new Int32Array(A):[],W=0,F=1,B=2,H=3;l&&(L[W]=j,L[H]=0,L[F]=0);var V=131072,$=524288,q=0,Y=null,Q=null,K=0,X=1,G=2,J=3,Z=4,ee=5,te=6,ne=7,re=8;function oe(e){if(null!==Q){var t=K;if((K+=e.length)+1>q){if((q*=2)>$)return console.error("Scheduler Profiling: Event log exceeded maximum size. Don't forget to call `stopLoggingProfilingEvents()`."),void ae();var n=new Int32Array(4*q);n.set(Q),Y=n.buffer,Q=n}Q.set(e,t)}}function ae(){var e=Y;return q=0,Y=null,Q=null,K=0,e}function ie(e,t){l&&(L[H]++,null!==Q&&oe([X,1e3*t,e.id,e.priorityLevel]))}function le(e,t){l&&(L[W]=j,L[F]=0,L[H]--,null!==Q&&oe([G,1e3*t,e.id]))}function ue(e,t){l&&(L[W]=j,L[F]=0,L[B]=0,null!==Q&&oe([te,1e3*t,e.id,z]))}var se=-1,ce=250,de=5e3,fe=1e4,pe=1073741823,me=[],he=[],ve=1,ye=!1,ge=null,be=N,we=!1,ke=!1,xe=!1;function Te(e){for(var t=C(he);null!==t;){if(null===t.callback)P(he);else{if(!(t.startTime<=e))return;P(he),t.sortIndex=t.expirationTime,_(me,t),l&&(ie(t,e),t.isQueued=!0)}t=C(he)}}function Se(t){if(xe=!1,Te(t),!ke)if(null!==C(me))ke=!0,e(Ee);else{var r=C(he);null!==r&&n(Se,r.startTime-t)}}function Ee(e,n){var o;l&&(o=n,l&&null!==Q&&oe([re,1e3*o,U])),ke=!1,xe&&(xe=!1,r()),we=!0;var a=be;try{if(!l)return _e(e,n);try{return _e(e,n)}catch(e){if(null!==ge){var i=t.unstable_now();!function(e,t){l&&(L[W]=j,L[F]=0,L[H]--,null!==Q&&oe([J,1e3*t,e.id]))}(ge,i),ge.isQueued=!1}throw e}}finally{if(ge=null,be=a,we=!1,l)!function(e){l&&(U++,null!==Q&&oe([ne,1e3*e,U]))}(t.unstable_now())}}function _e(e,r){var a,u,s=r;for(Te(s),ge=C(me);!(null===ge||i&&ye)&&(!(ge.expirationTime>s)||e&&!o());){var c=ge.callback;if(null!==c){ge.callback=null,be=ge.priorityLevel;var d=ge.expirationTime<=s;a=ge,u=s,l&&(z++,L[W]=a.priorityLevel,L[F]=a.id,L[B]=z,null!==Q&&oe([ee,1e3*u,a.id,z]));var f=c(d);s=t.unstable_now(),"function"==typeof f?(ge.callback=f,ue(ge,s)):(l&&(le(ge,s),ge.isQueued=!1),ge===C(me)&&P(me)),Te(s)}else P(me);ge=C(me)}if(null!==ge)return!0;var p=C(he);return null!==p&&n(Se,p.startTime-s),!1}function Ce(e){switch(e){case I:return se;case D:return ce;case M:return pe;case O:return fe;case N:default:return de}}var Pe=a,Re=l?{startLoggingProfilingEvents:function(){q=V,Y=new ArrayBuffer(4*q),Q=new Int32Array(Y),K=0},stopLoggingProfilingEvents:ae,sharedProfilingBuffer:A}:null;t.unstable_ImmediatePriority=I,t.unstable_UserBlockingPriority=D,t.unstable_NormalPriority=N,t.unstable_IdlePriority=M,t.unstable_LowPriority=O,t.unstable_runWithPriority=function(e,t){switch(e){case I:case D:case N:case O:case M:break;default:e=N}var n=be;be=e;try{return t()}finally{be=n}},t.unstable_next=function(e){var t;switch(be){case I:case D:case N:t=N;break;default:t=be}var n=be;be=t;try{return e()}finally{be=n}},t.unstable_scheduleCallback=function(o,a,i){var u,s,c=t.unstable_now();if("object"==typeof i&&null!==i){var d=i.delay;u="number"==typeof d&&d>0?c+d:c,s="number"==typeof i.timeout?i.timeout:Ce(o)}else s=Ce(o),u=c;var f=u+s,p={id:ve++,callback:a,priorityLevel:o,startTime:u,expirationTime:f,sortIndex:-1};return l&&(p.isQueued=!1),u>c?(p.sortIndex=u,_(he,p),null===C(me)&&p===C(he)&&(xe?r():xe=!0,n(Se,u-c))):(p.sortIndex=f,_(me,p),l&&(ie(p,c),p.isQueued=!0),ke||we||(ke=!0,e(Ee))),p},t.unstable_cancelCallback=function(e){l&&e.isQueued&&(!function(e,t){l&&(L[H]--,null!==Q&&oe([Z,1e3*t,e.id]))}(e,t.unstable_now()),e.isQueued=!1),e.callback=null},t.unstable_wrapCallback=function(e){var t=be;return function(){var n=be;be=t;try{return e.apply(this,arguments)}finally{be=n}}},t.unstable_getCurrentPriorityLevel=function(){return be},t.unstable_shouldYield=function(){var e=t.unstable_now();Te(e);var n=C(me);return n!==ge&&null!==ge&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<ge.expirationTime||o()},t.unstable_requestPaint=Pe,t.unstable_continueExecution=function(){ye=!1,ke||we||(ke=!0,e(Ee))},t.unstable_pauseExecution=function(){ye=!0},t.unstable_getFirstCallbackNode=function(){return C(me)},t.unstable_Profiling=Re})()},"./node_modules/scheduler/index.js":
/*!*****************************************!*\
  !*** ./node_modules/scheduler/index.js ***!
  \*****************************************/
/*! no static exports found */function(e,t,n){"use strict";e.exports=n(/*! ./cjs/scheduler.development.js */"./node_modules/scheduler/cjs/scheduler.development.js")},"./node_modules/scheduler/tracing.js":
/*!*******************************************!*\
  !*** ./node_modules/scheduler/tracing.js ***!
  \*******************************************/
/*! no static exports found */function(e,t,n){"use strict";e.exports=n(/*! ./cjs/scheduler-tracing.development.js */"./node_modules/scheduler/cjs/scheduler-tracing.development.js")},"./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},"./src/index.ts":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/*! exports provided: firstName */function(e,t,n){"use strict";n.r(t),n.d(t,"firstName",(function(){return r}));n(/*! core-js/modules/es.string.starts-with */"./node_modules/core-js/modules/es.string.starts-with.js");var r="Hello World";console.log("Does it start with W?",r.startsWith("W")),console.log(r)},"./src/javascript.js":
/*!***************************!*\
  !*** ./src/javascript.js ***!
  \***************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var r=n(/*! ./index.ts */"./src/index.ts");console.log("My name is "+r.firstName);var o=r.firstName+"Bobby";t.default=o},"./src/react.jsx":
/*!***********************!*\
  !*** ./src/react.jsx ***!
  \***********************/
/*! exports provided: App */function(e,t,n){"use strict";n.r(t),n.d(t,"App",(function(){return u}));var r=n(/*! react */"./node_modules/react/index.js"),o=n.n(r),a=n(/*! react-dom */"./node_modules/react-dom/index.js"),i=n.n(a),l=n(/*! ./javascript.js */"./src/javascript.js"),u=function(){return o.a.createElement("div",null,o.a.createElement("h1",null,"My react application"),o.a.createElement("p",null,"My full name is ",l.default))};console.log("hello boy"),i.a.render(o.a.createElement(u,null),document.querySelector(".app"))}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2FuLW9iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvYXJyYXktaW5jbHVkZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2NsYXNzb2YtcmF3LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9jb3B5LWNvbnN0cnVjdG9yLXByb3BlcnRpZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2NvcnJlY3QtaXMtcmVnZXhwLWxvZ2ljLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9jcmVhdGUtbm9uLWVudW1lcmFibGUtcHJvcGVydHkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2NyZWF0ZS1wcm9wZXJ0eS1kZXNjcmlwdG9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9kZXNjcmlwdG9ycy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvZG9jdW1lbnQtY3JlYXRlLWVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2VudW0tYnVnLWtleXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2V4cG9ydC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvZmFpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2dldC1idWlsdC1pbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvZ2xvYmFsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9oYXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2hpZGRlbi1rZXlzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9pZTgtZG9tLWRlZmluZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvaW5kZXhlZC1vYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2luc3BlY3Qtc291cmNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9pbnRlcm5hbC1zdGF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvaXMtZm9yY2VkLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9pcy1vYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2lzLXB1cmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2lzLXJlZ2V4cC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvbmF0aXZlLXN5bWJvbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvbmF0aXZlLXdlYWstbWFwLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9ub3QtYS1yZWdleHAuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL29iamVjdC1kZWZpbmUtcHJvcGVydHkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL29iamVjdC1nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL29iamVjdC1nZXQtb3duLXByb3BlcnR5LW5hbWVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9vYmplY3QtZ2V0LW93bi1wcm9wZXJ0eS1zeW1ib2xzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9vYmplY3Qta2V5cy1pbnRlcm5hbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvb2JqZWN0LXByb3BlcnR5LWlzLWVudW1lcmFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL293bi1rZXlzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9wYXRoLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9yZWRlZmluZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvcmVxdWlyZS1vYmplY3QtY29lcmNpYmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9zZXQtZ2xvYmFsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9zaGFyZWQta2V5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9zaGFyZWQtc3RvcmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3NoYXJlZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvdG8tYWJzb2x1dGUtaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3RvLWluZGV4ZWQtb2JqZWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy90by1pbnRlZ2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy90by1sZW5ndGguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3RvLXByaW1pdGl2ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvdWlkLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy91c2Utc3ltYm9sLWFzLXVpZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvd2VsbC1rbm93bi1zeW1ib2wuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3RhcnRzLXdpdGguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29iamVjdC1hc3NpZ24vaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvY2hlY2tQcm9wVHlwZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvbGliL1JlYWN0UHJvcFR5cGVzU2VjcmV0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1kb20vY2pzL3JlYWN0LWRvbS5kZXZlbG9wbWVudC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtZG9tL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC9janMvcmVhY3QuZGV2ZWxvcG1lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0L2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zY2hlZHVsZXIvY2pzL3NjaGVkdWxlci10cmFjaW5nLmRldmVsb3BtZW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zY2hlZHVsZXIvY2pzL3NjaGVkdWxlci5kZXZlbG9wbWVudC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc2NoZWR1bGVyL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zY2hlZHVsZXIvdHJhY2luZy5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvamF2YXNjcmlwdC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcmVhY3QuanN4Il0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiaXNPYmplY3QiLCJpdCIsIlR5cGVFcnJvciIsIlN0cmluZyIsInRvSW5kZXhlZE9iamVjdCIsInRvTGVuZ3RoIiwidG9BYnNvbHV0ZUluZGV4IiwiY3JlYXRlTWV0aG9kIiwiSVNfSU5DTFVERVMiLCIkdGhpcyIsImVsIiwiZnJvbUluZGV4IiwiTyIsImxlbmd0aCIsImluZGV4IiwiaW5jbHVkZXMiLCJpbmRleE9mIiwidG9TdHJpbmciLCJzbGljZSIsImhhcyIsIm93bktleXMiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JNb2R1bGUiLCJkZWZpbmVQcm9wZXJ0eU1vZHVsZSIsInRhcmdldCIsInNvdXJjZSIsImtleXMiLCJmIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiTUFUQ0giLCJ3ZWxsS25vd25TeW1ib2wiLCJNRVRIT0RfTkFNRSIsInJlZ2V4cCIsImUiLCJERVNDUklQVE9SUyIsImNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvciIsImJpdG1hcCIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiZmFpbHMiLCJhIiwiZ2xvYmFsIiwiZG9jdW1lbnQiLCJFWElTVFMiLCJjcmVhdGVFbGVtZW50IiwiY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5IiwicmVkZWZpbmUiLCJzZXRHbG9iYWwiLCJjb3B5Q29uc3RydWN0b3JQcm9wZXJ0aWVzIiwiaXNGb3JjZWQiLCJvcHRpb25zIiwidGFyZ2V0UHJvcGVydHkiLCJzb3VyY2VQcm9wZXJ0eSIsImRlc2NyaXB0b3IiLCJUQVJHRVQiLCJHTE9CQUwiLCJTVEFUSUMiLCJzdGF0Iiwibm9UYXJnZXRHZXQiLCJmb3JjZWQiLCJ1bmRlZmluZWQiLCJzaGFtIiwiZXhlYyIsImVycm9yIiwicGF0aCIsImFGdW5jdGlvbiIsInZhcmlhYmxlIiwibmFtZXNwYWNlIiwibWV0aG9kIiwiYXJndW1lbnRzIiwiTWF0aCIsImNoZWNrIiwiZ2xvYmFsVGhpcyIsIndpbmRvdyIsInNlbGYiLCJGdW5jdGlvbiIsImNsYXNzb2YiLCJzcGxpdCIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwic3RvcmUiLCJmdW5jdGlvblRvU3RyaW5nIiwiaW5zcGVjdFNvdXJjZSIsInNldCIsIk5BVElWRV9XRUFLX01BUCIsIm9iamVjdEhhcyIsInNoYXJlZEtleSIsImhpZGRlbktleXMiLCJXZWFrTWFwIiwid21nZXQiLCJ3bWhhcyIsIndtc2V0IiwibWV0YWRhdGEiLCJTVEFURSIsImVuZm9yY2UiLCJnZXR0ZXJGb3IiLCJUWVBFIiwic3RhdGUiLCJ0eXBlIiwicmVwbGFjZW1lbnQiLCJmZWF0dXJlIiwiZGV0ZWN0aW9uIiwiZGF0YSIsIm5vcm1hbGl6ZSIsIlBPTFlGSUxMIiwiTkFUSVZFIiwic3RyaW5nIiwicmVwbGFjZSIsInRvTG93ZXJDYXNlIiwiaXNSZWdFeHAiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJ0ZXN0IiwiSUU4X0RPTV9ERUZJTkUiLCJhbk9iamVjdCIsInRvUHJpbWl0aXZlIiwibmF0aXZlRGVmaW5lUHJvcGVydHkiLCJQIiwiQXR0cmlidXRlcyIsInByb3BlcnR5SXNFbnVtZXJhYmxlTW9kdWxlIiwibmF0aXZlR2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiaW50ZXJuYWxPYmplY3RLZXlzIiwiY29uY2F0IiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsIm5hbWVzIiwicmVzdWx0IiwicHVzaCIsIm5hdGl2ZVByb3BlcnR5SXNFbnVtZXJhYmxlIiwiTkFTSE9STl9CVUciLCIxIiwiViIsInRoaXMiLCJnZXRCdWlsdEluIiwiZ2V0T3duUHJvcGVydHlOYW1lc01vZHVsZSIsImdldE93blByb3BlcnR5U3ltYm9sc01vZHVsZSIsIkludGVybmFsU3RhdGVNb2R1bGUiLCJnZXRJbnRlcm5hbFN0YXRlIiwiZW5mb3JjZUludGVybmFsU3RhdGUiLCJURU1QTEFURSIsInVuc2FmZSIsInNpbXBsZSIsImpvaW4iLCJzaGFyZWQiLCJ1aWQiLCJJU19QVVJFIiwidmVyc2lvbiIsImNvcHlyaWdodCIsInRvSW50ZWdlciIsIm1heCIsIm1pbiIsImludGVnZXIiLCJJbmRleGVkT2JqZWN0IiwicmVxdWlyZU9iamVjdENvZXJjaWJsZSIsImNlaWwiLCJmbG9vciIsImFyZ3VtZW50IiwiaXNOYU4iLCJpbnB1dCIsIlBSRUZFUlJFRF9TVFJJTkciLCJmbiIsInZhbCIsInZhbHVlT2YiLCJpZCIsInBvc3RmaXgiLCJyYW5kb20iLCJOQVRJVkVfU1lNQk9MIiwiVVNFX1NZTUJPTF9BU19VSUQiLCJXZWxsS25vd25TeW1ib2xzU3RvcmUiLCJjcmVhdGVXZWxsS25vd25TeW1ib2wiLCIkIiwibm90QVJlZ0V4cCIsImNvcnJlY3RJc1JlZ0V4cExvZ2ljIiwibmF0aXZlU3RhcnRzV2l0aCIsInN0YXJ0c1dpdGgiLCJDT1JSRUNUX0lTX1JFR0VYUF9MT0dJQyIsInByb3RvIiwic2VhcmNoU3RyaW5nIiwidGhhdCIsInNlYXJjaCIsInByb3BJc0VudW1lcmFibGUiLCJ0b09iamVjdCIsImFzc2lnbiIsInRlc3QxIiwidGVzdDIiLCJmcm9tQ2hhckNvZGUiLCJtYXAiLCJ0ZXN0MyIsImZvckVhY2giLCJsZXR0ZXIiLCJlcnIiLCJzaG91bGRVc2VOYXRpdmUiLCJmcm9tIiwic3ltYm9scyIsInRvIiwicHJpbnRXYXJuaW5nIiwiUmVhY3RQcm9wVHlwZXNTZWNyZXQiLCJsb2dnZWRUeXBlRmFpbHVyZXMiLCJjaGVja1Byb3BUeXBlcyIsInR5cGVTcGVjcyIsInZhbHVlcyIsImxvY2F0aW9uIiwiY29tcG9uZW50TmFtZSIsImdldFN0YWNrIiwidHlwZVNwZWNOYW1lIiwiRXJyb3IiLCJleCIsIm1lc3NhZ2UiLCJzdGFjayIsInRleHQiLCJjb25zb2xlIiwieCIsInJlc2V0V2FybmluZ0NhY2hlIiwiUmVhY3QiLCJfYXNzaWduIiwiU2NoZWR1bGVyIiwidHJhY2luZyIsImV2ZW50UGx1Z2luT3JkZXIiLCJuYW1lc1RvUGx1Z2lucyIsInJlY29tcHV0ZVBsdWdpbk9yZGVyaW5nIiwicGx1Z2luTmFtZSIsInBsdWdpbk1vZHVsZSIsInBsdWdpbkluZGV4IiwicGx1Z2lucyIsImV4dHJhY3RFdmVudHMiLCJwdWJsaXNoZWRFdmVudHMiLCJldmVudFR5cGVzIiwiZXZlbnROYW1lIiwicHVibGlzaEV2ZW50Rm9yUGx1Z2luIiwiZGlzcGF0Y2hDb25maWciLCJldmVudE5hbWVEaXNwYXRjaENvbmZpZ3MiLCJwaGFzZWRSZWdpc3RyYXRpb25OYW1lcyIsInBoYXNlTmFtZSIsInB1Ymxpc2hSZWdpc3RyYXRpb25OYW1lIiwicmVnaXN0cmF0aW9uTmFtZSIsInJlZ2lzdHJhdGlvbk5hbWVNb2R1bGVzIiwicmVnaXN0cmF0aW9uTmFtZURlcGVuZGVuY2llcyIsImRlcGVuZGVuY2llcyIsImxvd2VyQ2FzZWROYW1lIiwicG9zc2libGVSZWdpc3RyYXRpb25OYW1lcyIsIm9uZGJsY2xpY2siLCJpbnZva2VHdWFyZGVkQ2FsbGJhY2tJbXBsIiwiZnVuYyIsImNvbnRleHQiLCJiIiwiZnVuY0FyZ3MiLCJBcnJheSIsImFwcGx5Iiwib25FcnJvciIsImRpc3BhdGNoRXZlbnQiLCJjcmVhdGVFdmVudCIsImZha2VOb2RlIiwiZXZ0IiwiZGlkRXJyb3IiLCJ3aW5kb3dFdmVudCIsImV2ZW50Iiwid2luZG93RXZlbnREZXNjcmlwdG9yIiwiY2FsbENhbGxiYWNrIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImV2dFR5cGUiLCJkaWRTZXRFcnJvciIsImlzQ3Jvc3NPcmlnaW5FcnJvciIsImhhbmRsZVdpbmRvd0Vycm9yIiwiY29sbm8iLCJsaW5lbm8iLCJkZWZhdWx0UHJldmVudGVkIiwiX3N1cHByZXNzTG9nZ2luZyIsImlubmVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsImluaXRFdmVudCIsImludm9rZUd1YXJkZWRDYWxsYmFja0ltcGwkMSIsImhhc0Vycm9yIiwiY2F1Z2h0RXJyb3IiLCJoYXNSZXRocm93RXJyb3IiLCJyZXRocm93RXJyb3IiLCJyZXBvcnRlciIsImludm9rZUd1YXJkZWRDYWxsYmFjayIsImludm9rZUd1YXJkZWRDYWxsYmFja0FuZENhdGNoRmlyc3RFcnJvciIsImNsZWFyQ2F1Z2h0RXJyb3IiLCJoYXNDYXVnaHRFcnJvciIsInZhbGlkYXRlRXZlbnREaXNwYXRjaGVzIiwid2FybmluZ1dpdGhvdXRTdGFjayQxIiwiY29uZGl0aW9uIiwiZm9ybWF0IiwiX2xlbiIsImFyZ3MiLCJfa2V5IiwiYXJnc1dpdGhGb3JtYXQiLCJpdGVtIiwidW5zaGlmdCIsImFyZ0luZGV4IiwiZ2V0RmliZXJDdXJyZW50UHJvcHNGcm9tTm9kZSIsImdldEluc3RhbmNlRnJvbU5vZGUiLCJnZXROb2RlRnJvbUluc3RhbmNlIiwiZXhlY3V0ZURpc3BhdGNoIiwibGlzdGVuZXIiLCJpbnN0IiwiY3VycmVudFRhcmdldCIsImFjY3VtdWxhdGVJbnRvIiwiY3VycmVudCIsIm5leHQiLCJpc0FycmF5IiwiZm9yRWFjaEFjY3VtdWxhdGVkIiwiYXJyIiwiY2IiLCJzY29wZSIsImRpc3BhdGNoTGlzdGVuZXJzIiwiX2Rpc3BhdGNoTGlzdGVuZXJzIiwiZGlzcGF0Y2hJbnN0YW5jZXMiLCJfZGlzcGF0Y2hJbnN0YW5jZXMiLCJsaXN0ZW5lcnNJc0FyciIsImxpc3RlbmVyc0xlbiIsImluc3RhbmNlc0lzQXJyIiwiaW5zdGFuY2VzTGVuIiwiZXZlbnRRdWV1ZSIsImV4ZWN1dGVEaXNwYXRjaGVzQW5kUmVsZWFzZSIsImlzUHJvcGFnYXRpb25TdG9wcGVkIiwiZXhlY3V0ZURpc3BhdGNoZXNJbk9yZGVyIiwiaXNQZXJzaXN0ZW50IiwiY29uc3RydWN0b3IiLCJyZWxlYXNlIiwiZXhlY3V0ZURpc3BhdGNoZXNBbmRSZWxlYXNlVG9wTGV2ZWwiLCJydW5FdmVudHNJbkJhdGNoIiwiZXZlbnRzIiwicHJvY2Vzc2luZ0V2ZW50UXVldWUiLCJyZXRocm93Q2F1Z2h0RXJyb3IiLCJpbmplY3Rpb24iLCJpbmplY3RFdmVudFBsdWdpbk9yZGVyIiwiaW5qZWN0ZWRFdmVudFBsdWdpbk9yZGVyIiwiaW5qZWN0RXZlbnRQbHVnaW5zQnlOYW1lIiwiaW5qZWN0ZWROYW1lc1RvUGx1Z2lucyIsImlzT3JkZXJpbmdEaXJ0eSIsImdldExpc3RlbmVyIiwic3RhdGVOb2RlIiwicHJvcHMiLCJkaXNhYmxlZCIsInRhZyIsInNob3VsZFByZXZlbnRNb3VzZUV2ZW50IiwicnVuRXh0cmFjdGVkUGx1Z2luRXZlbnRzSW5CYXRjaCIsInRvcExldmVsVHlwZSIsInRhcmdldEluc3QiLCJuYXRpdmVFdmVudCIsIm5hdGl2ZUV2ZW50VGFyZ2V0IiwiZXZlbnRTeXN0ZW1GbGFncyIsInBvc3NpYmxlUGx1Z2luIiwiZXh0cmFjdGVkRXZlbnRzIiwiZXh0cmFjdFBsdWdpbkV2ZW50cyIsIkZ1bmN0aW9uQ29tcG9uZW50IiwiQ2xhc3NDb21wb25lbnQiLCJJbmRldGVybWluYXRlQ29tcG9uZW50IiwiSG9zdFJvb3QiLCJIb3N0UG9ydGFsIiwiSG9zdENvbXBvbmVudCIsIkhvc3RUZXh0IiwiRnJhZ21lbnQiLCJNb2RlIiwiQ29udGV4dENvbnN1bWVyIiwiQ29udGV4dFByb3ZpZGVyIiwiRm9yd2FyZFJlZiIsIlByb2ZpbGVyIiwiU3VzcGVuc2VDb21wb25lbnQiLCJNZW1vQ29tcG9uZW50IiwiU2ltcGxlTWVtb0NvbXBvbmVudCIsIkxhenlDb21wb25lbnQiLCJJbmNvbXBsZXRlQ2xhc3NDb21wb25lbnQiLCJEZWh5ZHJhdGVkRnJhZ21lbnQiLCJTdXNwZW5zZUxpc3RDb21wb25lbnQiLCJGdW5kYW1lbnRhbENvbXBvbmVudCIsIlNjb3BlQ29tcG9uZW50IiwiUmVhY3RTaGFyZWRJbnRlcm5hbHMiLCJfX1NFQ1JFVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRCIsIlJlYWN0Q3VycmVudERpc3BhdGNoZXIiLCJSZWFjdEN1cnJlbnRCYXRjaENvbmZpZyIsInN1c3BlbnNlIiwiQkVGT1JFX1NMQVNIX1JFIiwiZGVzY3JpYmVDb21wb25lbnRGcmFtZSIsIm93bmVyTmFtZSIsInNvdXJjZUluZm8iLCJmaWxlTmFtZSIsIm1hdGNoIiwicGF0aEJlZm9yZVNsYXNoIiwibGluZU51bWJlciIsImhhc1N5bWJvbCIsImZvciIsIlJFQUNUX0VMRU1FTlRfVFlQRSIsIlJFQUNUX1BPUlRBTF9UWVBFIiwiUkVBQ1RfRlJBR01FTlRfVFlQRSIsIlJFQUNUX1NUUklDVF9NT0RFX1RZUEUiLCJSRUFDVF9QUk9GSUxFUl9UWVBFIiwiUkVBQ1RfUFJPVklERVJfVFlQRSIsIlJFQUNUX0NPTlRFWFRfVFlQRSIsIlJFQUNUX0NPTkNVUlJFTlRfTU9ERV9UWVBFIiwiUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRSIsIlJFQUNUX1NVU1BFTlNFX1RZUEUiLCJSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEUiLCJSRUFDVF9NRU1PX1RZUEUiLCJSRUFDVF9MQVpZX1RZUEUiLCJSRUFDVF9GVU5EQU1FTlRBTF9UWVBFIiwiUkVBQ1RfUkVTUE9OREVSX1RZUEUiLCJSRUFDVF9TQ09QRV9UWVBFIiwiTUFZQkVfSVRFUkFUT1JfU1lNQk9MIiwiaXRlcmF0b3IiLCJGQVVYX0lURVJBVE9SX1NZTUJPTCIsImdldEl0ZXJhdG9yRm4iLCJtYXliZUl0ZXJhYmxlIiwibWF5YmVJdGVyYXRvciIsIndhcm5pbmckMSIsIlJlYWN0RGVidWdDdXJyZW50RnJhbWUiLCJnZXRTdGFja0FkZGVuZHVtIiwiVW5pbml0aWFsaXplZCIsIlBlbmRpbmciLCJSZXNvbHZlZCIsIlJlamVjdGVkIiwicmVmaW5lUmVzb2x2ZWRMYXp5Q29tcG9uZW50IiwibGF6eUNvbXBvbmVudCIsIl9zdGF0dXMiLCJfcmVzdWx0IiwiZ2V0Q29tcG9uZW50TmFtZSIsImRpc3BsYXlOYW1lIiwiJCR0eXBlb2YiLCJvdXRlclR5cGUiLCJpbm5lclR5cGUiLCJyZW5kZXIiLCJ3cmFwcGVyTmFtZSIsImZ1bmN0aW9uTmFtZSIsInJlc29sdmVkVGhlbmFibGUiLCJkZXNjcmliZUZpYmVyIiwiZmliZXIiLCJvd25lciIsIl9kZWJ1Z093bmVyIiwiX2RlYnVnU291cmNlIiwiZ2V0U3RhY2tCeUZpYmVySW5EZXZBbmRQcm9kIiwid29ya0luUHJvZ3Jlc3MiLCJpbmZvIiwibm9kZSIsInJldHVybiIsInBoYXNlIiwiZ2V0Q3VycmVudEZpYmVyT3duZXJOYW1lSW5EZXZPck51bGwiLCJnZXRDdXJyZW50RmliZXJTdGFja0luRGV2IiwicmVzZXRDdXJyZW50RmliZXIiLCJnZXRDdXJyZW50U3RhY2siLCJzZXRDdXJyZW50RmliZXIiLCJzZXRDdXJyZW50UGhhc2UiLCJsaWZlQ3ljbGVQaGFzZSIsImNhblVzZURPTSIsImVuZHNXaXRoIiwic3ViamVjdCIsInN1YnN0cmluZyIsIlBMVUdJTl9FVkVOVF9TWVNURU0iLCJSRVNQT05ERVJfRVZFTlRfU1lTVEVNIiwiSVNfUEFTU0lWRSIsIklTX0FDVElWRSIsIlBBU1NJVkVfTk9UX1NVUFBPUlRFRCIsIklTX1JFUExBWUVEIiwicmVzdG9yZUltcGwiLCJyZXN0b3JlVGFyZ2V0IiwicmVzdG9yZVF1ZXVlIiwicmVzdG9yZVN0YXRlT2ZUYXJnZXQiLCJpbnRlcm5hbEluc3RhbmNlIiwiZW5xdWV1ZVN0YXRlUmVzdG9yZSIsInJlc3RvcmVTdGF0ZUlmTmVlZGVkIiwicXVldWVkVGFyZ2V0cyIsImVuYWJsZVVzZXJUaW1pbmdBUEkiLCJkZWJ1Z1JlbmRlclBoYXNlU2lkZUVmZmVjdHNGb3JTdHJpY3RNb2RlIiwid2FybkFib3V0RGVwcmVjYXRlZExpZmVjeWNsZXMiLCJlbmFibGVQcm9maWxlclRpbWVyIiwiZW5hYmxlU2NoZWR1bGVyVHJhY2luZyIsImVuYWJsZVN1c3BlbnNlU2VydmVyUmVuZGVyZXIiLCJlbmFibGVTZWxlY3RpdmVIeWRyYXRpb24iLCJkaXNhYmxlSmF2YVNjcmlwdFVSTHMiLCJkaXNhYmxlSW5wdXRBdHRyaWJ1dGVTeW5jaW5nIiwid2FybkFib3V0U2hvcnRoYW5kUHJvcGVydHlDb2xsaXNpb24iLCJlbmFibGVGbGFyZUFQSSIsImVuYWJsZUZ1bmRhbWVudGFsQVBJIiwiZW5hYmxlU2NvcGVBUEkiLCJ3YXJuQWJvdXRVbm1vY2tlZFNjaGVkdWxlciIsImZsdXNoU3VzcGVuc2VGYWxsYmFja3NJblRlc3RzIiwiZW5hYmxlU3VzcGVuc2VDYWxsYmFjayIsIndhcm5BYm91dERlZmF1bHRQcm9wc09uRnVuY3Rpb25Db21wb25lbnRzIiwid2FybkFib3V0U3RyaW5nUmVmcyIsImRpc2FibGVMZWdhY3lDb250ZXh0IiwiZGlzYWJsZVNjaGVkdWxlclRpbWVvdXRCYXNlZE9uUmVhY3RFeHBpcmF0aW9uVGltZSIsImVuYWJsZVRydXN0ZWRUeXBlc0ludGVncmF0aW9uIiwiYmF0Y2hlZFVwZGF0ZXNJbXBsIiwiYm9va2tlZXBpbmciLCJkaXNjcmV0ZVVwZGF0ZXNJbXBsIiwiZmx1c2hEaXNjcmV0ZVVwZGF0ZXNJbXBsIiwiYmF0Y2hlZEV2ZW50VXBkYXRlc0ltcGwiLCJpc0luc2lkZUV2ZW50SGFuZGxlciIsImlzQmF0Y2hpbmdFdmVudFVwZGF0ZXMiLCJmaW5pc2hFdmVudEhhbmRsZXIiLCJiYXRjaGVkRXZlbnRVcGRhdGVzIiwiZXhlY3V0ZVVzZXJFdmVudEhhbmRsZXIiLCJwcmV2aW91c2x5SW5FdmVudEhhbmRsZXIiLCJkaXNjcmV0ZVVwZGF0ZXMiLCJwcmV2SXNJbnNpZGVFdmVudEhhbmRsZXIiLCJsYXN0Rmx1c2hlZEV2ZW50VGltZVN0YW1wIiwiZmx1c2hEaXNjcmV0ZVVwZGF0ZXNJZk5lZWRlZCIsInRpbWVTdGFtcCIsImxpc3RlblRvUmVzcG9uZGVyRXZlbnRUeXBlc0ltcGwiLCJEaXNjcmV0ZUV2ZW50IiwiVXNlckJsb2NraW5nRXZlbnQiLCJDb250aW51b3VzRXZlbnQiLCJVc2VyQmxvY2tpbmdQcmlvcml0eSIsInVuc3RhYmxlX1VzZXJCbG9ja2luZ1ByaW9yaXR5IiwicnVuV2l0aFByaW9yaXR5IiwidW5zdGFibGVfcnVuV2l0aFByaW9yaXR5Iiwicm9vdEV2ZW50VHlwZXNUb0V2ZW50UmVzcG9uZGVySW5zdGFuY2VzIiwiTWFwIiwiRG9Ob3RQcm9wYWdhdGVUb05leHRSZXNwb25kZXIiLCJQcm9wYWdhdGVUb05leHRSZXNwb25kZXIiLCJjdXJyZW50VGltZVN0YW1wIiwiY3VycmVudEluc3RhbmNlIiwiY3VycmVudERvY3VtZW50IiwiY3VycmVudFByb3BhZ2F0aW9uQmVoYXZpb3IiLCJldmVudFJlc3BvbmRlckNvbnRleHQiLCJldmVudFZhbHVlIiwiZXZlbnRMaXN0ZW5lciIsImV2ZW50UHJpb3JpdHkiLCJ2YWxpZGF0ZVJlc3BvbmRlckNvbnRleHQiLCJzaG93V2FybmluZyIsImlzRGVmYXVsdFByZXZlbnRlZCIsInZhbGlkYXRlRXZlbnRWYWx1ZSIsImlzVGFyZ2V0V2l0aGluUmVzcG9uZGVyIiwiZ2V0Q2xvc2VzdEluc3RhbmNlRnJvbU5vZGUiLCJyZXNwb25kZXJGaWJlciIsImFsdGVybmF0ZSIsImlzVGFyZ2V0V2l0aGluUmVzcG9uZGVyU2NvcGUiLCJyZXNwb25kZXIiLCJkb2VzRmliZXJIYXZlUmVzcG9uZGVyIiwiaXNUYXJnZXRXaXRoaW5Ob2RlIiwiY2hpbGRUYXJnZXQiLCJwYXJlbnRUYXJnZXQiLCJjaGlsZEZpYmVyIiwicGFyZW50RmliZXIiLCJwYXJlbnRBbHRlcm5hdGVGaWJlciIsImNvbnRhaW5zIiwiYWRkUm9vdEV2ZW50VHlwZXMiLCJyb290RXZlbnRUeXBlcyIsInJlZ2lzdGVyUm9vdEV2ZW50VHlwZSIsInJlbW92ZVJvb3RFdmVudFR5cGVzIiwicm9vdEV2ZW50VHlwZSIsInJvb3RFdmVudFJlc3BvbmRlcnMiLCJyb290RXZlbnRUeXBlc1NldCIsImRlbGV0ZSIsImdldEFjdGl2ZURvY3VtZW50Iiwib2JqZWN0QXNzaWduIiwiZ2V0VGltZVN0YW1wIiwiaXNUYXJnZXRXaXRoaW5Ib3N0Q29tcG9uZW50IiwiZWxlbWVudFR5cGUiLCJjb250aW51ZVByb3BhZ2F0aW9uIiwiZ2V0UmVzcG9uZGVyTm9kZSIsInJlc3BvbmRlcnNNYXAiLCJyZXNwb25kZXJzIiwidmFsaWRhdGVSZXNwb25kZXJUYXJnZXRFdmVudFR5cGVzIiwiZXZlbnRUeXBlIiwidGFyZ2V0RXZlbnRUeXBlcyIsImxlbiIsInJlc3BvbmRlckV2ZW50VHlwZXNDb250YWluVHlwZSIsImRpc3BhdGNoRXZlbnRGb3JSZXNwb25kZXJFdmVudFN5c3RlbSIsInRhcmdldEZpYmVyIiwicHJldmlvdXNJbnN0YW5jZSIsInByZXZpb3VzVGltZVN0YW1wIiwicHJldmlvdXNEb2N1bWVudCIsInByZXZpb3VzUHJvcGFnYXRpb25CZWhhdmlvciIsIm5vZGVUeXBlIiwib3duZXJEb2N1bWVudCIsImlzUGFzc2l2ZUV2ZW50IiwiaXNQYXNzaXZlU3VwcG9ydGVkIiwidmlzaXRlZFJlc3BvbmRlcnMiLCJTZXQiLCJyZXNwb25kZXJFdmVudCIsInBhc3NpdmUiLCJwYXNzaXZlU3VwcG9ydGVkIiwiX3JlZiIsImJ1dHRvbnMiLCJwb2ludGVyVHlwZSIsImV2ZW50UG9pbnRlclR5cGUiLCJjaGFuZ2VkVG91Y2hlcyIsImNyZWF0ZURPTVJlc3BvbmRlckV2ZW50IiwiaW5zaWRlUG9ydGFsIiwiX25vZGUiLCJyZXNwb25kZXJJbnN0YW5jZXMiLCJyZXNwb25kZXJJbnN0YW5jZSIsInRhcmdldFBvcnRhbFByb3BhZ2F0aW9uIiwiYWRkIiwib25FdmVudCIsInJvb3RFdmVudFJlc3BvbmRlckluc3RhbmNlcyIsIl9yZXNwb25kZXJJbnN0YW5jZXMiLCJfaSIsIl9yZXNwb25kZXJJbnN0YW5jZSIsIm9uUm9vdEV2ZW50IiwidHJhdmVyc2VBbmRIYW5kbGVFdmVudFJlc3BvbmRlckluc3RhbmNlcyIsImV2ZW50UmVzcG9uZGVySW5zdGFuY2UiLCJSRVNFUlZFRCIsIkJPT0xFQU5JU0hfU1RSSU5HIiwiQk9PTEVBTiIsIk9WRVJMT0FERURfQk9PTEVBTiIsIk5VTUVSSUMiLCJQT1NJVElWRV9OVU1FUklDIiwiQVRUUklCVVRFX05BTUVfU1RBUlRfQ0hBUiIsIkFUVFJJQlVURV9OQU1FX0NIQVIiLCJST09UX0FUVFJJQlVURV9OQU1FIiwiVkFMSURfQVRUUklCVVRFX05BTUVfUkVHRVgiLCJSZWdFeHAiLCJpbGxlZ2FsQXR0cmlidXRlTmFtZUNhY2hlIiwidmFsaWRhdGVkQXR0cmlidXRlTmFtZUNhY2hlIiwiaXNBdHRyaWJ1dGVOYW1lU2FmZSIsImF0dHJpYnV0ZU5hbWUiLCJzaG91bGRJZ25vcmVBdHRyaWJ1dGUiLCJwcm9wZXJ0eUluZm8iLCJpc0N1c3RvbUNvbXBvbmVudFRhZyIsInNob3VsZFJlbW92ZUF0dHJpYnV0ZVdpdGhXYXJuaW5nIiwiYWNjZXB0c0Jvb2xlYW5zIiwicHJlZml4Iiwic2hvdWxkUmVtb3ZlQXR0cmlidXRlIiwiZ2V0UHJvcGVydHlJbmZvIiwicHJvcGVydGllcyIsIlByb3BlcnR5SW5mb1JlY29yZCIsIm11c3RVc2VQcm9wZXJ0eSIsImF0dHJpYnV0ZU5hbWVzcGFjZSIsInNhbml0aXplVVJMIiwicHJvcGVydHlOYW1lIiwiQ0FNRUxJWkUiLCJjYXBpdGFsaXplIiwidG9rZW4iLCJ0b1VwcGVyQ2FzZSIsIlJlYWN0RGVidWdDdXJyZW50RnJhbWUkMSIsImlzSmF2YVNjcmlwdFByb3RvY29sIiwiZGlkV2FybiIsInVybCIsIkpTT04iLCJzdHJpbmdpZnkiLCJnZXRUb1N0cmluZ1ZhbHVlIiwidG9TdHJpbmdPclRydXN0ZWRUeXBlIiwic2V0QXR0cmlidXRlIiwiYXR0cmlidXRlVmFsdWUiLCJnZXRWYWx1ZUZvclByb3BlcnR5IiwiZXhwZWN0ZWQiLCJzdHJpbmdWYWx1ZSIsImhhc0F0dHJpYnV0ZSIsImdldEF0dHJpYnV0ZSIsImdldFZhbHVlRm9yQXR0cmlidXRlIiwic2V0VmFsdWVGb3JQcm9wZXJ0eSIsIl9hdHRyaWJ1dGVOYW1lIiwicmVtb3ZlQXR0cmlidXRlIiwiX3R5cGUiLCJzZXRBdHRyaWJ1dGVOUyIsInRydXN0ZWRUeXBlcyIsImlzSFRNTCIsImlzU2NyaXB0IiwiaXNTY3JpcHRVUkwiLCJpc1VSTCIsIlJlYWN0RGVidWdDdXJyZW50RnJhbWUkMiIsIlJlYWN0Q29udHJvbGxlZFZhbHVlUHJvcFR5cGVzIiwiaGFzUmVhZE9ubHlWYWx1ZSIsImJ1dHRvbiIsImNoZWNrYm94IiwiaW1hZ2UiLCJoaWRkZW4iLCJyYWRpbyIsInJlc2V0Iiwic3VibWl0IiwicHJvcFR5cGVzIiwicHJvcE5hbWUiLCJvbkNoYW5nZSIsInJlYWRPbmx5IiwibGlzdGVuZXJzIiwiY2hlY2tlZCIsImlzQ2hlY2thYmxlIiwiZWxlbSIsIm5vZGVOYW1lIiwiZ2V0VHJhY2tlciIsIl92YWx1ZVRyYWNrZXIiLCJ0cmFjayIsInZhbHVlRmllbGQiLCJjdXJyZW50VmFsdWUiLCJnZXRWYWx1ZSIsInNldFZhbHVlIiwic3RvcFRyYWNraW5nIiwiZGV0YWNoVHJhY2tlciIsInRyYWNrVmFsdWVPbk5vZGUiLCJ1cGRhdGVWYWx1ZUlmQ2hhbmdlZCIsInRyYWNrZXIiLCJsYXN0VmFsdWUiLCJuZXh0VmFsdWUiLCJnZXRWYWx1ZUZyb21Ob2RlIiwidGFnTmFtZSIsImRpZFdhcm5WYWx1ZURlZmF1bHRWYWx1ZSIsImRpZFdhcm5DaGVja2VkRGVmYXVsdENoZWNrZWQiLCJkaWRXYXJuQ29udHJvbGxlZFRvVW5jb250cm9sbGVkIiwiZGlkV2FyblVuY29udHJvbGxlZFRvQ29udHJvbGxlZCIsImlzQ29udHJvbGxlZCIsImdldEhvc3RQcm9wcyIsImVsZW1lbnQiLCJkZWZhdWx0Q2hlY2tlZCIsImRlZmF1bHRWYWx1ZSIsIl93cmFwcGVyU3RhdGUiLCJpbml0aWFsQ2hlY2tlZCIsImluaXRXcmFwcGVyU3RhdGUiLCJpbml0aWFsVmFsdWUiLCJjb250cm9sbGVkIiwidXBkYXRlQ2hlY2tlZCIsInVwZGF0ZVdyYXBwZXIiLCJzZXREZWZhdWx0VmFsdWUiLCJwb3N0TW91bnRXcmFwcGVyIiwiaXNIeWRyYXRpbmciLCJpc0J1dHRvbiIsInJlc3RvcmVDb250cm9sbGVkU3RhdGUkMSIsInJvb3ROb2RlIiwicXVlcnlSb290IiwicGFyZW50Tm9kZSIsImdyb3VwIiwicXVlcnlTZWxlY3RvckFsbCIsIm90aGVyTm9kZSIsImZvcm0iLCJvdGhlclByb3BzIiwiZ2V0RmliZXJDdXJyZW50UHJvcHNGcm9tTm9kZSQxIiwidXBkYXRlTmFtZWRDb3VzaW5zIiwiYWN0aXZlRWxlbWVudCIsImRpZFdhcm5WYWx1ZURlZmF1bHRWYWx1ZSQxIiwiZGlkV2FyblNlbGVjdGVkU2V0T25PcHRpb24iLCJkaWRXYXJuSW52YWxpZENoaWxkIiwidmFsaWRhdGVQcm9wcyIsImNoaWxkcmVuIiwiQ2hpbGRyZW4iLCJjaGlsZCIsInNlbGVjdGVkIiwiZ2V0SG9zdFByb3BzJDEiLCJob3N0UHJvcHMiLCJjb250ZW50IiwiZmxhdHRlbkNoaWxkcmVuIiwiZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtIiwidmFsdWVQcm9wTmFtZXMiLCJ1cGRhdGVPcHRpb25zIiwibXVsdGlwbGUiLCJwcm9wVmFsdWUiLCJzZXREZWZhdWx0U2VsZWN0ZWQiLCJzZWxlY3RlZFZhbHVlcyIsInNlbGVjdGVkVmFsdWUiLCJkZWZhdWx0U2VsZWN0ZWQiLCJfc2VsZWN0ZWRWYWx1ZSIsIl9pMiIsImdldEhvc3RQcm9wcyQyIiwiaW5pdFdyYXBwZXJTdGF0ZSQxIiwiY2hlY2tTZWxlY3RQcm9wVHlwZXMiLCJ3YXNNdWx0aXBsZSIsImRpZFdhcm5WYWxEZWZhdWx0VmFsIiwiZ2V0SG9zdFByb3BzJDMiLCJkYW5nZXJvdXNseVNldElubmVySFRNTCIsImluaXRXcmFwcGVyU3RhdGUkMiIsInVwZGF0ZVdyYXBwZXIkMSIsIm5ld1ZhbHVlIiwicG9zdE1vdW50V3JhcHBlciQzIiwidGV4dENvbnRlbnQiLCJIVE1MX05BTUVTUEFDRSQxIiwiTUFUSF9OQU1FU1BBQ0UiLCJTVkdfTkFNRVNQQUNFIiwiTmFtZXNwYWNlcyIsImh0bWwiLCJtYXRobWwiLCJzdmciLCJnZXRJbnRyaW5zaWNOYW1lc3BhY2UiLCJnZXRDaGlsZE5hbWVzcGFjZSIsInBhcmVudE5hbWVzcGFjZSIsInJldXNhYmxlU1ZHQ29udGFpbmVyIiwic2V0SW5uZXJIVE1MIiwibmFtZXNwYWNlVVJJIiwiaW5uZXJIVE1MIiwic3ZnTm9kZSIsImZpcnN0Q2hpbGQiLCJyZW1vdmVDaGlsZCIsImFwcGVuZENoaWxkIiwiTVNBcHAiLCJleGVjVW5zYWZlTG9jYWxGdW5jdGlvbiIsImFyZzAiLCJhcmcxIiwiYXJnMiIsImFyZzMiLCJFTEVNRU5UX05PREUiLCJURVhUX05PREUiLCJDT01NRU5UX05PREUiLCJET0NVTUVOVF9OT0RFIiwiRE9DVU1FTlRfRlJBR01FTlRfTk9ERSIsInNldFRleHRDb250ZW50IiwibGFzdENoaWxkIiwibm9kZVZhbHVlIiwibWFrZVByZWZpeE1hcCIsInN0eWxlUHJvcCIsInByZWZpeGVzIiwidmVuZG9yUHJlZml4ZXMiLCJhbmltYXRpb25lbmQiLCJhbmltYXRpb25pdGVyYXRpb24iLCJhbmltYXRpb25zdGFydCIsInRyYW5zaXRpb25lbmQiLCJwcmVmaXhlZEV2ZW50TmFtZXMiLCJzdHlsZSIsImdldFZlbmRvclByZWZpeGVkRXZlbnROYW1lIiwicHJlZml4TWFwIiwiYW5pbWF0aW9uIiwidHJhbnNpdGlvbiIsIlRPUF9BTklNQVRJT05fRU5EIiwiVE9QX0FOSU1BVElPTl9JVEVSQVRJT04iLCJUT1BfQU5JTUFUSU9OX1NUQVJUIiwiVE9QX0JMVVIiLCJUT1BfQ0FOQ0VMIiwiVE9QX0NIQU5HRSIsIlRPUF9DTElDSyIsIlRPUF9DTE9TRSIsIlRPUF9DT01QT1NJVElPTl9FTkQiLCJUT1BfQ09NUE9TSVRJT05fU1RBUlQiLCJUT1BfQ09NUE9TSVRJT05fVVBEQVRFIiwiVE9QX0RSQUdfRU5URVIiLCJUT1BfRFJBR19MRUFWRSIsIlRPUF9FUlJPUiIsIlRPUF9GT0NVUyIsIlRPUF9HT1RfUE9JTlRFUl9DQVBUVVJFIiwiVE9QX0lOUFVUIiwiVE9QX0lOVkFMSUQiLCJUT1BfS0VZX0RPV04iLCJUT1BfS0VZX1BSRVNTIiwiVE9QX0tFWV9VUCIsIlRPUF9MT0FEIiwiVE9QX0xPU1RfUE9JTlRFUl9DQVBUVVJFIiwiVE9QX01PVVNFX0RPV04iLCJUT1BfTU9VU0VfT1VUIiwiVE9QX01PVVNFX09WRVIiLCJUT1BfUEFTVEUiLCJUT1BfUE9JTlRFUl9PVVQiLCJUT1BfUE9JTlRFUl9PVkVSIiwiVE9QX1JFU0VUIiwiVE9QX1NDUk9MTCIsIlRPUF9TRUxFQ1RJT05fQ0hBTkdFIiwiVE9QX1NVQk1JVCIsIlRPUF9URVhUX0lOUFVUIiwiVE9QX1RPR0dMRSIsIlRPUF9UUkFOU0lUSU9OX0VORCIsIm1lZGlhRXZlbnRUeXBlcyIsIl9yZWFjdEludGVybmFsRmliZXIiLCJhdHRlbXB0U3luY2hyb25vdXNIeWRyYXRpb24iLCJhdHRlbXB0VXNlckJsb2NraW5nSHlkcmF0aW9uIiwiYXR0ZW1wdENvbnRpbnVvdXNIeWRyYXRpb24iLCJhdHRlbXB0SHlkcmF0aW9uQXRDdXJyZW50UHJpb3JpdHkiLCJOb0VmZmVjdCIsIlBlcmZvcm1lZFdvcmsiLCJQbGFjZW1lbnQiLCJVcGRhdGUiLCJQbGFjZW1lbnRBbmRVcGRhdGUiLCJEZWxldGlvbiIsIkNvbnRlbnRSZXNldCIsIkNhbGxiYWNrIiwiRGlkQ2FwdHVyZSIsIlJlZiIsIlNuYXBzaG90IiwiUGFzc2l2ZSIsIkh5ZHJhdGluZyIsIkh5ZHJhdGluZ0FuZFVwZGF0ZSIsIkxpZmVjeWNsZUVmZmVjdE1hc2siLCJIb3N0RWZmZWN0TWFzayIsIkluY29tcGxldGUiLCJTaG91bGRDYXB0dXJlIiwiUmVhY3RDdXJyZW50T3duZXIiLCJnZXROZWFyZXN0TW91bnRlZEZpYmVyIiwibmVhcmVzdE1vdW50ZWQiLCJuZXh0Tm9kZSIsImVmZmVjdFRhZyIsImdldFN1c3BlbnNlSW5zdGFuY2VGcm9tRmliZXIiLCJzdXNwZW5zZVN0YXRlIiwibWVtb2l6ZWRTdGF0ZSIsImRlaHlkcmF0ZWQiLCJnZXRDb250YWluZXJGcm9tRmliZXIiLCJjb250YWluZXJJbmZvIiwiYXNzZXJ0SXNNb3VudGVkIiwiZmluZEN1cnJlbnRGaWJlclVzaW5nU2xvd1BhdGgiLCJwYXJlbnRBIiwicGFyZW50QiIsIm5leHRQYXJlbnQiLCJzaWJsaW5nIiwiZGlkRmluZENoaWxkIiwiX2NoaWxkIiwiZmluZEN1cnJlbnRIb3N0RmliZXIiLCJwYXJlbnQiLCJjdXJyZW50UGFyZW50IiwiaGFzU2NoZWR1bGVkUmVwbGF5QXR0ZW1wdCIsInF1ZXVlZERpc2NyZXRlRXZlbnRzIiwicXVldWVkRm9jdXMiLCJxdWV1ZWREcmFnIiwicXVldWVkTW91c2UiLCJxdWV1ZWRQb2ludGVycyIsInF1ZXVlZFBvaW50ZXJDYXB0dXJlcyIsInF1ZXVlZEV4cGxpY2l0SHlkcmF0aW9uVGFyZ2V0cyIsImRpc2NyZXRlUmVwbGF5YWJsZUV2ZW50cyIsImNvbnRpbnVvdXNSZXBsYXlhYmxlRXZlbnRzIiwiaXNSZXBsYXlhYmxlRGlzY3JldGVFdmVudCIsInRyYXBSZXBsYXlhYmxlRXZlbnQiLCJsaXN0ZW5pbmdTZXQiLCJsaXN0ZW5Ub1RvcExldmVsIiwicGFzc2l2ZUV2ZW50S2V5IiwidHJhcEV2ZW50Rm9yUmVzcG9uZGVyRXZlbnRTeXN0ZW0iLCJhY3RpdmVFdmVudEtleSIsImNyZWF0ZVF1ZXVlZFJlcGxheWFibGVFdmVudCIsImJsb2NrZWRPbiIsInF1ZXVlRGlzY3JldGVFdmVudCIsInF1ZXVlZEV2ZW50IiwiX2ZpYmVyIiwiZ2V0SW5zdGFuY2VGcm9tTm9kZSQxIiwicmVwbGF5VW5ibG9ja2VkRXZlbnRzIiwiY2xlYXJJZkNvbnRpbnVvdXNFdmVudCIsInBvaW50ZXJJZCIsIl9wb2ludGVySWQiLCJhY2N1bXVsYXRlT3JDcmVhdGVDb250aW51b3VzUXVldWVkUmVwbGF5YWJsZUV2ZW50IiwiZXhpc3RpbmdRdWV1ZWRFdmVudCIsIl9maWJlcjIiLCJhdHRlbXB0RXhwbGljaXRIeWRyYXRpb25UYXJnZXQiLCJxdWV1ZWRUYXJnZXQiLCJpbnN0YW5jZSIsInByaW9yaXR5IiwiaHlkcmF0ZSIsImF0dGVtcHRSZXBsYXlDb250aW51b3VzUXVldWVkRXZlbnQiLCJuZXh0QmxvY2tlZE9uIiwiYXR0ZW1wdFRvRGlzcGF0Y2hFdmVudCIsIl9maWJlcjMiLCJhdHRlbXB0UmVwbGF5Q29udGludW91c1F1ZXVlZEV2ZW50SW5NYXAiLCJuZXh0RGlzY3JldGVFdmVudCIsIl9maWJlcjQiLCJzaGlmdCIsInNjaGVkdWxlQ2FsbGJhY2tJZlVuYmxvY2tlZCIsInVuYmxvY2tlZCIsInVuc3RhYmxlX3NjaGVkdWxlQ2FsbGJhY2siLCJ1bnN0YWJsZV9Ob3JtYWxQcmlvcml0eSIsInJldHJ5SWZCbG9ja2VkT24iLCJ1bmJsb2NrIiwibmV4dEV4cGxpY2l0VGFyZ2V0IiwiYWRkRXZlbnRDYXB0dXJlTGlzdGVuZXIiLCJnZXRFdmVudFRhcmdldCIsInNyY0VsZW1lbnQiLCJjb3JyZXNwb25kaW5nVXNlRWxlbWVudCIsImdldFBhcmVudCIsInRyYXZlcnNlRW50ZXJMZWF2ZSIsImFyZ0Zyb20iLCJhcmdUbyIsImNvbW1vbiIsImluc3RBIiwiaW5zdEIiLCJkZXB0aEEiLCJ0ZW1wQSIsImRlcHRoQiIsInRlbXBCIiwiZGVwdGgiLCJnZXRMb3dlc3RDb21tb25BbmNlc3RvciIsInBhdGhGcm9tIiwicGF0aFRvIiwiX2FsdGVybmF0ZSIsImFjY3VtdWxhdGVEaXJlY3Rpb25hbERpc3BhdGNoZXMiLCJwcm9wYWdhdGlvblBoYXNlIiwibGlzdGVuZXJBdFBoYXNlIiwiYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlc1NpbmdsZSIsImFyZyIsInRyYXZlcnNlVHdvUGhhc2UiLCJfdGFyZ2V0SW5zdCIsImFjY3VtdWxhdGVEaXNwYXRjaGVzIiwiaWdub3JlZERpcmVjdGlvbiIsImFjY3VtdWxhdGVEaXJlY3REaXNwYXRjaGVzU2luZ2xlIiwiYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlcyIsIkVWRU5UX1BPT0xfU0laRSIsIkV2ZW50SW50ZXJmYWNlIiwiZXZlbnRQaGFzZSIsImJ1YmJsZXMiLCJjYW5jZWxhYmxlIiwiRGF0ZSIsIm5vdyIsImlzVHJ1c3RlZCIsImZ1bmN0aW9uVGhhdFJldHVybnNUcnVlIiwiZnVuY3Rpb25UaGF0UmV0dXJuc0ZhbHNlIiwiU3ludGhldGljRXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsInN0b3BQcm9wYWdhdGlvbiIsIkludGVyZmFjZSIsInJldHVyblZhbHVlIiwiZ2V0UG9vbGVkV2FybmluZ1Byb3BlcnR5RGVmaW5pdGlvbiIsImdldFZhbCIsImlzRnVuY3Rpb24iLCJ3YXJuIiwiYWN0aW9uIiwiZ2V0UG9vbGVkRXZlbnQiLCJuYXRpdmVJbnN0IiwiZXZlbnRQb29sIiwicG9wIiwicmVsZWFzZVBvb2xlZEV2ZW50IiwiZGVzdHJ1Y3RvciIsImFkZEV2ZW50UG9vbGluZ1RvIiwiRXZlbnRDb25zdHJ1Y3RvciIsImdldFBvb2xlZCIsImNhbmNlbEJ1YmJsZSIsInBlcnNpc3QiLCJleHRlbmQiLCJTdXBlciIsIkUiLCJDbGFzcyIsIlN5bnRoZXRpY0FuaW1hdGlvbkV2ZW50IiwiYW5pbWF0aW9uTmFtZSIsImVsYXBzZWRUaW1lIiwicHNldWRvRWxlbWVudCIsIlN5bnRoZXRpY0NsaXBib2FyZEV2ZW50IiwiY2xpcGJvYXJkRGF0YSIsIlN5bnRoZXRpY1VJRXZlbnQiLCJ2aWV3IiwiZGV0YWlsIiwiU3ludGhldGljRm9jdXNFdmVudCIsInJlbGF0ZWRUYXJnZXQiLCJnZXRFdmVudENoYXJDb2RlIiwiY2hhckNvZGUiLCJrZXlDb2RlIiwibm9ybWFsaXplS2V5IiwiRXNjIiwiU3BhY2ViYXIiLCJMZWZ0IiwiVXAiLCJSaWdodCIsIkRvd24iLCJEZWwiLCJXaW4iLCJNZW51IiwiQXBwcyIsIlNjcm9sbCIsIk1velByaW50YWJsZUtleSIsInRyYW5zbGF0ZVRvS2V5IiwibW9kaWZpZXJLZXlUb1Byb3AiLCJBbHQiLCJDb250cm9sIiwiTWV0YSIsIlNoaWZ0IiwibW9kaWZpZXJTdGF0ZUdldHRlciIsImtleUFyZyIsImdldE1vZGlmaWVyU3RhdGUiLCJrZXlQcm9wIiwiZ2V0RXZlbnRNb2RpZmllclN0YXRlIiwiU3ludGhldGljS2V5Ym9hcmRFdmVudCIsImN0cmxLZXkiLCJzaGlmdEtleSIsImFsdEtleSIsIm1ldGFLZXkiLCJyZXBlYXQiLCJsb2NhbGUiLCJ3aGljaCIsInByZXZpb3VzU2NyZWVuWCIsInByZXZpb3VzU2NyZWVuWSIsImlzTW92ZW1lbnRYU2V0IiwiaXNNb3ZlbWVudFlTZXQiLCJTeW50aGV0aWNNb3VzZUV2ZW50Iiwic2NyZWVuWCIsInNjcmVlblkiLCJjbGllbnRYIiwiY2xpZW50WSIsInBhZ2VYIiwicGFnZVkiLCJmcm9tRWxlbWVudCIsInRvRWxlbWVudCIsIm1vdmVtZW50WCIsIm1vdmVtZW50WSIsIlN5bnRoZXRpY1BvaW50ZXJFdmVudCIsIndpZHRoIiwiaGVpZ2h0IiwicHJlc3N1cmUiLCJ0YW5nZW50aWFsUHJlc3N1cmUiLCJ0aWx0WCIsInRpbHRZIiwidHdpc3QiLCJpc1ByaW1hcnkiLCJTeW50aGV0aWNEcmFnRXZlbnQiLCJkYXRhVHJhbnNmZXIiLCJTeW50aGV0aWNUb3VjaEV2ZW50IiwidG91Y2hlcyIsInRhcmdldFRvdWNoZXMiLCJTeW50aGV0aWNUcmFuc2l0aW9uRXZlbnQiLCJTeW50aGV0aWNXaGVlbEV2ZW50IiwiZGVsdGFYIiwid2hlZWxEZWx0YVgiLCJkZWx0YVkiLCJ3aGVlbERlbHRhWSIsIndoZWVsRGVsdGEiLCJkZWx0YVoiLCJkZWx0YU1vZGUiLCJldmVudFR1cGxlcyIsInRvcExldmVsRXZlbnRzVG9EaXNwYXRjaENvbmZpZyIsImV2ZW50VHVwbGUiLCJ0b3BFdmVudCIsImNvbmZpZyIsImJ1YmJsZWQiLCJjYXB0dXJlZCIsImtub3duSFRNTFRvcExldmVsVHlwZXMiLCJTaW1wbGVFdmVudFBsdWdpbiIsImdldEV2ZW50UHJpb3JpdHkiLCJwYXNzaXZlQnJvd3NlckV2ZW50c1N1cHBvcnRlZCIsIlVzZXJCbG9ja2luZ1ByaW9yaXR5JDEiLCJydW5XaXRoUHJpb3JpdHkkMSIsIkNBTExCQUNLX0JPT0tLRUVQSU5HX1BPT0xfU0laRSIsImNhbGxiYWNrQm9va2tlZXBpbmdQb29sIiwiZmluZFJvb3RDb250YWluZXJOb2RlIiwiaGFuZGxlVG9wTGV2ZWwiLCJib29rS2VlcGluZyIsImFuY2VzdG9yIiwiYW5jZXN0b3JzIiwicm9vdCIsImV2ZW50VGFyZ2V0IiwiX2VuYWJsZWQiLCJzZXRFbmFibGVkIiwiZW5hYmxlZCIsInRyYXBCdWJibGVkRXZlbnQiLCJ0cmFwRXZlbnRGb3JQbHVnaW5FdmVudFN5c3RlbSIsInRyYXBDYXB0dXJlZEV2ZW50IiwicmF3RXZlbnROYW1lIiwiZXZlbnRGbGFncyIsImNhcHR1cmUiLCJhZGRFdmVudENhcHR1cmVMaXN0ZW5lcldpdGhQYXNzaXZlRmxhZyIsImRpc3BhdGNoRGlzY3JldGVFdmVudCIsImRpc3BhdGNoVXNlckJsb2NraW5nVXBkYXRlIiwiYWRkRXZlbnRCdWJibGVMaXN0ZW5lciIsImRpc3BhdGNoRXZlbnRGb3JQbHVnaW5FdmVudFN5c3RlbSIsImdldFRvcExldmVsQ2FsbGJhY2tCb29rS2VlcGluZyIsInBvaW50ZXJFdmVudCIsIl9wb2ludGVyRXZlbnQiLCJfcG9pbnRlcklkMiIsInF1ZXVlSWZDb250aW51b3VzRXZlbnQiLCJpc0V2ZW50U3VwcG9ydGVkIiwiZXZlbnROYW1lU3VmZml4IiwiaXNTdXBwb3J0ZWQiLCJlbGVtZW50TGlzdGVuaW5nU2V0cyIsImdldExpc3RlbmluZ1NldEZvckVsZW1lbnQiLCJtb3VudEF0Iiwic2hvcnRoYW5kVG9Mb25naGFuZCIsImJhY2tncm91bmQiLCJiYWNrZ3JvdW5kUG9zaXRpb24iLCJib3JkZXIiLCJib3JkZXJCbG9ja0VuZCIsImJvcmRlckJsb2NrU3RhcnQiLCJib3JkZXJCb3R0b20iLCJib3JkZXJDb2xvciIsImJvcmRlckltYWdlIiwiYm9yZGVySW5saW5lRW5kIiwiYm9yZGVySW5saW5lU3RhcnQiLCJib3JkZXJMZWZ0IiwiYm9yZGVyUmFkaXVzIiwiYm9yZGVyUmlnaHQiLCJib3JkZXJTdHlsZSIsImJvcmRlclRvcCIsImJvcmRlcldpZHRoIiwiY29sdW1uUnVsZSIsImNvbHVtbnMiLCJmbGV4IiwiZmxleEZsb3ciLCJmb250IiwiZm9udFZhcmlhbnQiLCJnYXAiLCJncmlkIiwiZ3JpZEFyZWEiLCJncmlkQ29sdW1uIiwiZ3JpZENvbHVtbkdhcCIsImdyaWRHYXAiLCJncmlkUm93IiwiZ3JpZFJvd0dhcCIsImdyaWRUZW1wbGF0ZSIsImxpc3RTdHlsZSIsIm1hcmdpbiIsIm1hcmtlciIsIm1hc2siLCJtYXNrUG9zaXRpb24iLCJvdXRsaW5lIiwib3ZlcmZsb3ciLCJwYWRkaW5nIiwicGxhY2VDb250ZW50IiwicGxhY2VJdGVtcyIsInBsYWNlU2VsZiIsInRleHREZWNvcmF0aW9uIiwidGV4dEVtcGhhc2lzIiwid29yZFdyYXAiLCJpc1VuaXRsZXNzTnVtYmVyIiwiYW5pbWF0aW9uSXRlcmF0aW9uQ291bnQiLCJib3JkZXJJbWFnZU91dHNldCIsImJvcmRlckltYWdlU2xpY2UiLCJib3JkZXJJbWFnZVdpZHRoIiwiYm94RmxleCIsImJveEZsZXhHcm91cCIsImJveE9yZGluYWxHcm91cCIsImNvbHVtbkNvdW50IiwiZmxleEdyb3ciLCJmbGV4UG9zaXRpdmUiLCJmbGV4U2hyaW5rIiwiZmxleE5lZ2F0aXZlIiwiZmxleE9yZGVyIiwiZ3JpZFJvd0VuZCIsImdyaWRSb3dTcGFuIiwiZ3JpZFJvd1N0YXJ0IiwiZ3JpZENvbHVtbkVuZCIsImdyaWRDb2x1bW5TcGFuIiwiZ3JpZENvbHVtblN0YXJ0IiwiZm9udFdlaWdodCIsImxpbmVDbGFtcCIsImxpbmVIZWlnaHQiLCJvcGFjaXR5Iiwib3JkZXIiLCJvcnBoYW5zIiwidGFiU2l6ZSIsIndpZG93cyIsInpJbmRleCIsInpvb20iLCJmaWxsT3BhY2l0eSIsImZsb29kT3BhY2l0eSIsInN0b3BPcGFjaXR5Iiwic3Ryb2tlRGFzaGFycmF5Iiwic3Ryb2tlRGFzaG9mZnNldCIsInN0cm9rZU1pdGVybGltaXQiLCJzdHJva2VPcGFjaXR5Iiwic3Ryb2tlV2lkdGgiLCJkYW5nZXJvdXNTdHlsZVZhbHVlIiwiaXNDdXN0b21Qcm9wZXJ0eSIsInRyaW0iLCJwcm9wIiwiY2hhckF0IiwicHJlZml4S2V5IiwidXBwZXJjYXNlUGF0dGVybiIsIm1zUGF0dGVybiIsImJhZFZlbmRvcmVkU3R5bGVOYW1lUGF0dGVybiIsIm1zUGF0dGVybiQxIiwiaHlwaGVuUGF0dGVybiIsImJhZFN0eWxlVmFsdWVXaXRoU2VtaWNvbG9uUGF0dGVybiIsIndhcm5lZFN0eWxlTmFtZXMiLCJ3YXJuZWRTdHlsZVZhbHVlcyIsIndhcm5lZEZvck5hTlZhbHVlIiwid2FybmVkRm9ySW5maW5pdHlWYWx1ZSIsIndhcm5IeXBoZW5hdGVkU3R5bGVOYW1lIiwiXyIsImNoYXJhY3RlciIsIndhcm5WYWxpZFN0eWxlJDEiLCJ3YXJuQmFkVmVuZG9yZWRTdHlsZU5hbWUiLCJ3YXJuU3R5bGVWYWx1ZVdpdGhTZW1pY29sb24iLCJ3YXJuU3R5bGVWYWx1ZUlzTmFOIiwiaXNGaW5pdGUiLCJ3YXJuU3R5bGVWYWx1ZUlzSW5maW5pdHkiLCJjcmVhdGVEYW5nZXJvdXNTdHJpbmdGb3JTdHlsZXMiLCJzdHlsZXMiLCJzZXJpYWxpemVkIiwiZGVsaW1pdGVyIiwic3R5bGVOYW1lIiwic3R5bGVWYWx1ZSIsInNldFZhbHVlRm9yU3R5bGVzIiwic2V0UHJvcGVydHkiLCJleHBhbmRTaG9ydGhhbmRNYXAiLCJleHBhbmRlZCIsImxvbmdoYW5kcyIsInZvaWRFbGVtZW50VGFncyIsIm1lbnVpdGVtIiwiYXJlYSIsImJhc2UiLCJiciIsImNvbCIsImVtYmVkIiwiaHIiLCJpbWciLCJrZXlnZW4iLCJsaW5rIiwibWV0YSIsInBhcmFtIiwid2JyIiwiSFRNTCQxIiwiUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZSQzIiwiYXNzZXJ0VmFsaWRQcm9wcyIsInN1cHByZXNzQ29udGVudEVkaXRhYmxlV2FybmluZyIsImNvbnRlbnRFZGl0YWJsZSIsImlzQ3VzdG9tQ29tcG9uZW50IiwiaXMiLCJwb3NzaWJsZVN0YW5kYXJkTmFtZXMiLCJhY2NlcHQiLCJhY2NlcHRjaGFyc2V0IiwiYWNjZXNza2V5IiwiYWxsb3dmdWxsc2NyZWVuIiwiYWx0IiwiYXMiLCJhc3luYyIsImF1dG9jYXBpdGFsaXplIiwiYXV0b2NvbXBsZXRlIiwiYXV0b2NvcnJlY3QiLCJhdXRvZm9jdXMiLCJhdXRvcGxheSIsImF1dG9zYXZlIiwiY2VsbHBhZGRpbmciLCJjZWxsc3BhY2luZyIsImNoYWxsZW5nZSIsImNoYXJzZXQiLCJjaXRlIiwiY2xhc3MiLCJjbGFzc2lkIiwiY2xhc3NuYW1lIiwiY29scyIsImNvbHNwYW4iLCJjb250ZW50ZWRpdGFibGUiLCJjb250ZXh0bWVudSIsImNvbnRyb2xzIiwiY29udHJvbHNsaXN0IiwiY29vcmRzIiwiY3Jvc3NvcmlnaW4iLCJkYW5nZXJvdXNseXNldGlubmVyaHRtbCIsImRhdGV0aW1lIiwiZGVmYXVsdCIsImRlZmF1bHRjaGVja2VkIiwiZGVmYXVsdHZhbHVlIiwiZGVmZXIiLCJkaXIiLCJkaXNhYmxlcGljdHVyZWlucGljdHVyZSIsImRvd25sb2FkIiwiZHJhZ2dhYmxlIiwiZW5jdHlwZSIsImZvcm1tZXRob2QiLCJmb3JtYWN0aW9uIiwiZm9ybWVuY3R5cGUiLCJmb3Jtbm92YWxpZGF0ZSIsImZvcm10YXJnZXQiLCJmcmFtZWJvcmRlciIsImhlYWRlcnMiLCJoaWdoIiwiaHJlZiIsImhyZWZsYW5nIiwiaHRtbGZvciIsImh0dHBlcXVpdiIsImljb24iLCJpbm5lcmh0bWwiLCJpbnB1dG1vZGUiLCJpbnRlZ3JpdHkiLCJpdGVtaWQiLCJpdGVtcHJvcCIsIml0ZW1yZWYiLCJpdGVtc2NvcGUiLCJpdGVtdHlwZSIsImtleXBhcmFtcyIsImtleXR5cGUiLCJraW5kIiwibGFiZWwiLCJsYW5nIiwibGlzdCIsImxvb3AiLCJsb3ciLCJtYW5pZmVzdCIsIm1hcmdpbndpZHRoIiwibWFyZ2luaGVpZ2h0IiwibWF4bGVuZ3RoIiwibWVkaWEiLCJtZWRpYWdyb3VwIiwibWlubGVuZ3RoIiwibXV0ZWQiLCJub21vZHVsZSIsIm5vbmNlIiwibm92YWxpZGF0ZSIsIm9wZW4iLCJvcHRpbXVtIiwicGF0dGVybiIsInBsYWNlaG9sZGVyIiwicGxheXNpbmxpbmUiLCJwb3N0ZXIiLCJwcmVsb2FkIiwicHJvZmlsZSIsInJhZGlvZ3JvdXAiLCJyZWFkb25seSIsInJlZmVycmVycG9saWN5IiwicmVsIiwicmVxdWlyZWQiLCJyZXZlcnNlZCIsInJvbGUiLCJyb3dzIiwicm93c3BhbiIsInNhbmRib3giLCJzY29wZWQiLCJzY3JvbGxpbmciLCJzZWFtbGVzcyIsInNoYXBlIiwic2l6ZSIsInNpemVzIiwic3BhbiIsInNwZWxsY2hlY2siLCJzcmMiLCJzcmNkb2MiLCJzcmNsYW5nIiwic3Jjc2V0Iiwic3RhcnQiLCJzdGVwIiwic3VtbWFyeSIsInRhYmluZGV4IiwidGl0bGUiLCJ1c2VtYXAiLCJ3bW9kZSIsIndyYXAiLCJhYm91dCIsImFjY2VudGhlaWdodCIsImFjY3VtdWxhdGUiLCJhZGRpdGl2ZSIsImFsaWdubWVudGJhc2VsaW5lIiwiYWxsb3dyZW9yZGVyIiwiYWxwaGFiZXRpYyIsImFtcGxpdHVkZSIsImFyYWJpY2Zvcm0iLCJhc2NlbnQiLCJhdHRyaWJ1dGVuYW1lIiwiYXR0cmlidXRldHlwZSIsImF1dG9yZXZlcnNlIiwiYXppbXV0aCIsImJhc2VmcmVxdWVuY3kiLCJiYXNlbGluZXNoaWZ0IiwiYmFzZXByb2ZpbGUiLCJiYm94IiwiYmVnaW4iLCJiaWFzIiwiYnkiLCJjYWxjbW9kZSIsImNhcGhlaWdodCIsImNsaXAiLCJjbGlwcGF0aCIsImNsaXBwYXRodW5pdHMiLCJjbGlwcnVsZSIsImNvbG9yIiwiY29sb3JpbnRlcnBvbGF0aW9uIiwiY29sb3JpbnRlcnBvbGF0aW9uZmlsdGVycyIsImNvbG9ycHJvZmlsZSIsImNvbG9ycmVuZGVyaW5nIiwiY29udGVudHNjcmlwdHR5cGUiLCJjb250ZW50c3R5bGV0eXBlIiwiY3Vyc29yIiwiY3giLCJjeSIsImRhdGF0eXBlIiwiZGVjZWxlcmF0ZSIsImRlc2NlbnQiLCJkaWZmdXNlY29uc3RhbnQiLCJkaXJlY3Rpb24iLCJkaXNwbGF5IiwiZGl2aXNvciIsImRvbWluYW50YmFzZWxpbmUiLCJkdXIiLCJkeCIsImR5IiwiZWRnZW1vZGUiLCJlbGV2YXRpb24iLCJlbmFibGViYWNrZ3JvdW5kIiwiZW5kIiwiZXhwb25lbnQiLCJleHRlcm5hbHJlc291cmNlc3JlcXVpcmVkIiwiZmlsbCIsImZpbGxvcGFjaXR5IiwiZmlsbHJ1bGUiLCJmaWx0ZXIiLCJmaWx0ZXJyZXMiLCJmaWx0ZXJ1bml0cyIsImZsb29kb3BhY2l0eSIsImZsb29kY29sb3IiLCJmb2N1c2FibGUiLCJmb250ZmFtaWx5IiwiZm9udHNpemUiLCJmb250c2l6ZWFkanVzdCIsImZvbnRzdHJldGNoIiwiZm9udHN0eWxlIiwiZm9udHZhcmlhbnQiLCJmb250d2VpZ2h0IiwiZngiLCJmeSIsImcxIiwiZzIiLCJnbHlwaG5hbWUiLCJnbHlwaG9yaWVudGF0aW9uaG9yaXpvbnRhbCIsImdseXBob3JpZW50YXRpb252ZXJ0aWNhbCIsImdseXBocmVmIiwiZ3JhZGllbnR0cmFuc2Zvcm0iLCJncmFkaWVudHVuaXRzIiwiaGFuZ2luZyIsImhvcml6YWR2eCIsImhvcml6b3JpZ2lueCIsImlkZW9ncmFwaGljIiwiaW1hZ2VyZW5kZXJpbmciLCJpbjIiLCJpbiIsImlubGlzdCIsImludGVyY2VwdCIsImsxIiwiazIiLCJrMyIsIms0IiwiayIsImtlcm5lbG1hdHJpeCIsImtlcm5lbHVuaXRsZW5ndGgiLCJrZXJuaW5nIiwia2V5cG9pbnRzIiwia2V5c3BsaW5lcyIsImtleXRpbWVzIiwibGVuZ3RoYWRqdXN0IiwibGV0dGVyc3BhY2luZyIsImxpZ2h0aW5nY29sb3IiLCJsaW1pdGluZ2NvbmVhbmdsZSIsImxvY2FsIiwibWFya2VyZW5kIiwibWFya2VyaGVpZ2h0IiwibWFya2VybWlkIiwibWFya2Vyc3RhcnQiLCJtYXJrZXJ1bml0cyIsIm1hcmtlcndpZHRoIiwibWFza2NvbnRlbnR1bml0cyIsIm1hc2t1bml0cyIsIm1hdGhlbWF0aWNhbCIsIm51bW9jdGF2ZXMiLCJvZmZzZXQiLCJvcGVyYXRvciIsIm9yaWVudCIsIm9yaWVudGF0aW9uIiwib3JpZ2luIiwib3ZlcmxpbmVwb3NpdGlvbiIsIm92ZXJsaW5ldGhpY2tuZXNzIiwicGFpbnRvcmRlciIsInBhbm9zZTEiLCJwYXRobGVuZ3RoIiwicGF0dGVybmNvbnRlbnR1bml0cyIsInBhdHRlcm50cmFuc2Zvcm0iLCJwYXR0ZXJudW5pdHMiLCJwb2ludGVyZXZlbnRzIiwicG9pbnRzIiwicG9pbnRzYXR4IiwicG9pbnRzYXR5IiwicG9pbnRzYXR6IiwicHJlc2VydmVhbHBoYSIsInByZXNlcnZlYXNwZWN0cmF0aW8iLCJwcmltaXRpdmV1bml0cyIsInJhZGl1cyIsInJlZngiLCJyZWZ5IiwicmVuZGVyaW5naW50ZW50IiwicmVwZWF0Y291bnQiLCJyZXBlYXRkdXIiLCJyZXF1aXJlZGV4dGVuc2lvbnMiLCJyZXF1aXJlZGZlYXR1cmVzIiwicmVzb3VyY2UiLCJyZXN0YXJ0IiwicmVzdWx0cyIsInJvdGF0ZSIsInJ4IiwicnkiLCJzY2FsZSIsInNlY3VyaXR5Iiwic2VlZCIsInNoYXBlcmVuZGVyaW5nIiwic2xvcGUiLCJzcGFjaW5nIiwic3BlY3VsYXJjb25zdGFudCIsInNwZWN1bGFyZXhwb25lbnQiLCJzcGVlZCIsInNwcmVhZG1ldGhvZCIsInN0YXJ0b2Zmc2V0Iiwic3RkZGV2aWF0aW9uIiwic3RlbWgiLCJzdGVtdiIsInN0aXRjaHRpbGVzIiwic3RvcGNvbG9yIiwic3RvcG9wYWNpdHkiLCJzdHJpa2V0aHJvdWdocG9zaXRpb24iLCJzdHJpa2V0aHJvdWdodGhpY2tuZXNzIiwic3Ryb2tlIiwic3Ryb2tlZGFzaGFycmF5Iiwic3Ryb2tlZGFzaG9mZnNldCIsInN0cm9rZWxpbmVjYXAiLCJzdHJva2VsaW5lam9pbiIsInN0cm9rZW1pdGVybGltaXQiLCJzdHJva2V3aWR0aCIsInN0cm9rZW9wYWNpdHkiLCJzdXBwcmVzc2NvbnRlbnRlZGl0YWJsZXdhcm5pbmciLCJzdXBwcmVzc2h5ZHJhdGlvbndhcm5pbmciLCJzdXJmYWNlc2NhbGUiLCJzeXN0ZW1sYW5ndWFnZSIsInRhYmxldmFsdWVzIiwidGFyZ2V0eCIsInRhcmdldHkiLCJ0ZXh0YW5jaG9yIiwidGV4dGRlY29yYXRpb24iLCJ0ZXh0bGVuZ3RoIiwidGV4dHJlbmRlcmluZyIsInRyYW5zZm9ybSIsInR5cGVvZiIsInUxIiwidTIiLCJ1bmRlcmxpbmVwb3NpdGlvbiIsInVuZGVybGluZXRoaWNrbmVzcyIsInVuaWNvZGUiLCJ1bmljb2RlYmlkaSIsInVuaWNvZGVyYW5nZSIsInVuaXRzcGVyZW0iLCJ1bnNlbGVjdGFibGUiLCJ2YWxwaGFiZXRpYyIsInZlY3RvcmVmZmVjdCIsInZlcnRhZHZ5IiwidmVydG9yaWdpbngiLCJ2ZXJ0b3JpZ2lueSIsInZoYW5naW5nIiwidmlkZW9ncmFwaGljIiwidmlld2JveCIsInZpZXd0YXJnZXQiLCJ2aXNpYmlsaXR5Iiwidm1hdGhlbWF0aWNhbCIsInZvY2FiIiwid2lkdGhzIiwid29yZHNwYWNpbmciLCJ3cml0aW5nbW9kZSIsIngxIiwieDIiLCJ4Y2hhbm5lbHNlbGVjdG9yIiwieGhlaWdodCIsInhsaW5rYWN0dWF0ZSIsInhsaW5rYXJjcm9sZSIsInhsaW5raHJlZiIsInhsaW5rcm9sZSIsInhsaW5rc2hvdyIsInhsaW5rdGl0bGUiLCJ4bGlua3R5cGUiLCJ4bWxiYXNlIiwieG1sbGFuZyIsInhtbG5zIiwieG1sbnN4bGluayIsInhtbHNwYWNlIiwieTEiLCJ5MiIsInkiLCJ5Y2hhbm5lbHNlbGVjdG9yIiwieiIsInpvb21hbmRwYW4iLCJhcmlhUHJvcGVydGllcyIsIndhcm5lZFByb3BlcnRpZXMiLCJyQVJJQSIsInJBUklBQ2FtZWwiLCJoYXNPd25Qcm9wZXJ0eSQxIiwidmFsaWRhdGVQcm9wZXJ0eSIsImFyaWFOYW1lIiwiY29ycmVjdE5hbWUiLCJzdGFuZGFyZE5hbWUiLCJ2YWxpZGF0ZVByb3BlcnRpZXMiLCJpbnZhbGlkUHJvcHMiLCJ1bmtub3duUHJvcFN0cmluZyIsIndhcm5JbnZhbGlkQVJJQVByb3BzIiwiZGlkV2FyblZhbHVlTnVsbCIsInZhbGlkYXRlUHJvcGVydHkkMSIsIndhcm5lZFByb3BlcnRpZXMkMSIsIl9oYXNPd25Qcm9wZXJ0eSIsIkVWRU5UX05BTUVfUkVHRVgiLCJJTlZBTElEX0VWRU5UX05BTUVfUkVHRVgiLCJyQVJJQSQxIiwickFSSUFDYW1lbCQxIiwiY2FuVXNlRXZlbnRTeXN0ZW0iLCJpc1Jlc2VydmVkIiwid2FyblVua25vd25Qcm9wZXJ0aWVzIiwidW5rbm93blByb3BzIiwid2FybmVkVW5rbm93blRhZ3MiLCJzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmciLCJ2YWxpZGF0ZVByb3BlcnRpZXNJbkRldmVsb3BtZW50Iiwid2FybkZvclRleHREaWZmZXJlbmNlIiwid2FybkZvclByb3BEaWZmZXJlbmNlIiwid2FybkZvckV4dHJhQXR0cmlidXRlcyIsIndhcm5Gb3JJbnZhbGlkRXZlbnRMaXN0ZW5lciIsImNhbkRpZmZTdHlsZUZvckh5ZHJhdGlvbldhcm5pbmciLCJub3JtYWxpemVNYXJrdXBGb3JUZXh0T3JBdHRyaWJ1dGUiLCJub3JtYWxpemVIVE1MIiwiZGlkV2FybkludmFsaWRIeWRyYXRpb24iLCJkaWRXYXJuU2hhZHlET00iLCJkaWRXYXJuU2NyaXB0VGFncyIsIkRBTkdFUk9VU0xZX1NFVF9JTk5FUl9IVE1MIiwiU1VQUFJFU1NfQ09OVEVOVF9FRElUQUJMRV9XQVJOSU5HIiwiU1VQUFJFU1NfSFlEUkFUSU9OX1dBUk5JTkckMSIsIkFVVE9GT0NVUyIsIkNISUxEUkVOIiwiU1RZTEUkMSIsIkhUTUwiLCJMSVNURU5FUlMiLCJIVE1MX05BTUVTUEFDRSIsInRpbWUiLCJkaWFsb2ciLCJ3ZWJ2aWV3IiwidmFsaWRhdGVQcm9wZXJ0aWVzJDEiLCJ2YWxpZGF0ZVByb3BlcnRpZXMkMiIsImRvY3VtZW50TW9kZSIsIk5PUk1BTElaRV9ORVdMSU5FU19SRUdFWCIsIk5PUk1BTElaRV9OVUxMX0FORF9SRVBMQUNFTUVOVF9SRUdFWCIsImVuc3VyZUxpc3RlbmluZ1RvIiwicm9vdENvbnRhaW5lckVsZW1lbnQiLCJsaXN0ZW5UbyIsImdldE93bmVyRG9jdW1lbnRGcm9tUm9vdENvbnRhaW5lciIsIm5vb3AiLCJ0cmFwQ2xpY2tPbk5vbkludGVyYWN0aXZlRWxlbWVudCIsIm9uY2xpY2siLCJzZXRJbml0aWFsUHJvcGVydGllcyIsImRvbUVsZW1lbnQiLCJyYXdQcm9wcyIsInNoYWR5Um9vdCIsIm5leHRQcm9wcyIsInByb3BLZXkiLCJuZXh0UHJvcCIsImZyZWV6ZSIsIm5leHRIdG1sIiwic2V0SW5pdGlhbERPTVByb3BlcnRpZXMiLCJwb3N0TW91bnRXcmFwcGVyJDEiLCJwb3N0TW91bnRXcmFwcGVyJDIiLCJvbkNsaWNrIiwiZGlmZlByb3BlcnRpZXMiLCJsYXN0UmF3UHJvcHMiLCJuZXh0UmF3UHJvcHMiLCJsYXN0UHJvcHMiLCJ1cGRhdGVQYXlsb2FkIiwic3R5bGVVcGRhdGVzIiwibGFzdFN0eWxlIiwibGFzdFByb3AiLCJsYXN0SHRtbCIsIm5leHRTdHlsZXMiLCJleHBhbmRlZFVwZGF0ZXMiLCJleHBhbmRlZFN0eWxlcyIsIndhcm5lZEFib3V0Iiwib3JpZ2luYWxLZXkiLCJjb3JyZWN0T3JpZ2luYWxLZXkiLCJ3YXJuaW5nS2V5IiwidmFsaWRhdGVTaG9ydGhhbmRQcm9wZXJ0eUNvbGxpc2lvbkluRGV2IiwidXBkYXRlUHJvcGVydGllcyIsIndhc0N1c3RvbUNvbXBvbmVudFRhZyIsInVwZGF0ZURPTVByb3BlcnRpZXMiLCJwb3N0VXBkYXRlV3JhcHBlciIsIndhcm5Gb3JVbm1hdGNoZWRUZXh0IiwidGV4dE5vZGUiLCJ3YXJuRm9yRGVsZXRlZEh5ZHJhdGFibGVFbGVtZW50Iiwid2FybkZvckRlbGV0ZWRIeWRyYXRhYmxlVGV4dCIsIndhcm5Gb3JJbnNlcnRlZEh5ZHJhdGVkRWxlbWVudCIsIndhcm5Gb3JJbnNlcnRlZEh5ZHJhdGVkVGV4dCIsImxpc3RlblRvRXZlbnRSZXNwb25kZXJFdmVudFR5cGVzIiwiaXNQYXNzaXZlIiwiZXZlbnRLZXkiLCJ0YXJnZXRFdmVudFR5cGUiLCJnZXRBY3RpdmVFbGVtZW50IiwiZG9jIiwiYm9keSIsImdldExlYWZOb2RlIiwiZ2V0U2libGluZ05vZGUiLCJuZXh0U2libGluZyIsImdldE5vZGVGb3JDaGFyYWN0ZXJPZmZzZXQiLCJub2RlU3RhcnQiLCJub2RlRW5kIiwiZ2V0T2Zmc2V0cyIsIm91dGVyTm9kZSIsIndpbiIsImRlZmF1bHRWaWV3Iiwic2VsZWN0aW9uIiwiZ2V0U2VsZWN0aW9uIiwicmFuZ2VDb3VudCIsImFuY2hvck5vZGUiLCJhbmNob3JPZmZzZXQiLCJmb2N1c05vZGUiLCJmb2N1c09mZnNldCIsImluZGV4V2l0aGluQW5jaG9yIiwiaW5kZXhXaXRoaW5Gb2N1cyIsIm91dGVyIiwiZ2V0TW9kZXJuT2Zmc2V0c0Zyb21Qb2ludHMiLCJpc1RleHROb2RlIiwiaXNJbkRvY3VtZW50IiwiY29udGFpbnNOb2RlIiwiaW5uZXJOb2RlIiwiY29tcGFyZURvY3VtZW50UG9zaXRpb24iLCJkb2N1bWVudEVsZW1lbnQiLCJpc1NhbWVPcmlnaW5GcmFtZSIsImlmcmFtZSIsImNvbnRlbnRXaW5kb3ciLCJnZXRBY3RpdmVFbGVtZW50RGVlcCIsIkhUTUxJRnJhbWVFbGVtZW50IiwiaGFzU2VsZWN0aW9uQ2FwYWJpbGl0aWVzIiwicmVzdG9yZVNlbGVjdGlvbiIsInByaW9yU2VsZWN0aW9uSW5mb3JtYXRpb24iLCJjdXJGb2N1c2VkRWxlbSIsInByaW9yRm9jdXNlZEVsZW0iLCJmb2N1c2VkRWxlbSIsInByaW9yU2VsZWN0aW9uUmFuZ2UiLCJzZWxlY3Rpb25SYW5nZSIsIm9mZnNldHMiLCJzZWxlY3Rpb25TdGFydCIsInNlbGVjdGlvbkVuZCIsInRlbXAiLCJzdGFydE1hcmtlciIsImVuZE1hcmtlciIsInJhbmdlIiwiY3JlYXRlUmFuZ2UiLCJzZXRTdGFydCIsInJlbW92ZUFsbFJhbmdlcyIsImFkZFJhbmdlIiwic2V0RW5kIiwic2V0T2Zmc2V0cyIsInNldFNlbGVjdGlvbiIsImxlZnQiLCJzY3JvbGxMZWZ0IiwidG9wIiwic2Nyb2xsVG9wIiwiZm9jdXMiLCJtYXJrdXAiLCJzZXJ2ZXJUZXh0IiwiY2xpZW50VGV4dCIsIm5vcm1hbGl6ZWRDbGllbnRUZXh0Iiwibm9ybWFsaXplZFNlcnZlclRleHQiLCJzZXJ2ZXJWYWx1ZSIsImNsaWVudFZhbHVlIiwibm9ybWFsaXplZENsaWVudFZhbHVlIiwibm9ybWFsaXplZFNlcnZlclZhbHVlIiwiYXR0cmlidXRlTmFtZXMiLCJ0ZXN0RWxlbWVudCIsImNyZWF0ZUVsZW1lbnROUyIsInZhbGlkYXRlRE9NTmVzdGluZyIsInVwZGF0ZWRBbmNlc3RvckluZm8iLCJzcGVjaWFsVGFncyIsImluU2NvcGVUYWdzIiwiYnV0dG9uU2NvcGVUYWdzIiwiaW1wbGllZEVuZFRhZ3MiLCJlbXB0eUFuY2VzdG9ySW5mbyIsImZvcm1UYWciLCJhVGFnSW5TY29wZSIsImJ1dHRvblRhZ0luU2NvcGUiLCJub2JyVGFnSW5TY29wZSIsInBUYWdJbkJ1dHRvblNjb3BlIiwibGlzdEl0ZW1UYWdBdXRvY2xvc2luZyIsImRsSXRlbVRhZ0F1dG9jbG9zaW5nIiwib2xkSW5mbyIsImFuY2VzdG9ySW5mbyIsImRpZFdhcm4kMSIsInNoaW0iLCJjaGlsZFRhZyIsImNoaWxkVGV4dCIsInBhcmVudEluZm8iLCJwYXJlbnRUYWciLCJpbnZhbGlkUGFyZW50IiwiaXNUYWdWYWxpZFdpdGhQYXJlbnQiLCJpbnZhbGlkQW5jZXN0b3IiLCJmaW5kSW52YWxpZEFuY2VzdG9yRm9yVGFnIiwiaW52YWxpZFBhcmVudE9yQW5jZXN0b3IiLCJhbmNlc3RvclRhZyIsImFkZGVuZHVtIiwid2FybktleSIsInRhZ0Rpc3BsYXlOYW1lIiwid2hpdGVzcGFjZUluZm8iLCJTVVBQUkVTU19IWURSQVRJT05fV0FSTklORyIsInN1cHBvcnRzUGVyc2lzdGVuY2UiLCJjbG9uZUluc3RhbmNlIiwiY2xvbmVGdW5kYW1lbnRhbEluc3RhbmNlIiwiY3JlYXRlQ29udGFpbmVyQ2hpbGRTZXQiLCJhcHBlbmRDaGlsZFRvQ29udGFpbmVyQ2hpbGRTZXQiLCJmaW5hbGl6ZUNvbnRhaW5lckNoaWxkcmVuIiwicmVwbGFjZUNvbnRhaW5lckNoaWxkcmVuIiwiY2xvbmVIaWRkZW5JbnN0YW5jZSIsImNsb25lSGlkZGVuVGV4dEluc3RhbmNlIiwiU1VTUEVOU0VfU1RBUlRfREFUQSIsIlNVU1BFTlNFX0VORF9EQVRBIiwiU1VTUEVOU0VfUEVORElOR19TVEFSVF9EQVRBIiwiU1VTUEVOU0VfRkFMTEJBQ0tfU1RBUlRfREFUQSIsIlNUWUxFIiwiZXZlbnRzRW5hYmxlZCIsInNlbGVjdGlvbkluZm9ybWF0aW9uIiwic2hvdWxkQXV0b0ZvY3VzSG9zdENvbXBvbmVudCIsImF1dG9Gb2N1cyIsInByZXBhcmVGb3JDb21taXQiLCJjcmVhdGVJbnN0YW5jZSIsInJvb3RDb250YWluZXJJbnN0YW5jZSIsImhvc3RDb250ZXh0IiwiaW50ZXJuYWxJbnN0YW5jZUhhbmRsZSIsImhvc3RDb250ZXh0RGV2Iiwib3duQW5jZXN0b3JJbmZvIiwiZGl2IiwicHJlY2FjaGVGaWJlck5vZGUiLCJ1cGRhdGVGaWJlclByb3BzIiwiYXBwZW5kSW5pdGlhbENoaWxkIiwicGFyZW50SW5zdGFuY2UiLCJmaW5hbGl6ZUluaXRpYWxDaGlsZHJlbiIsInByZXBhcmVVcGRhdGUiLCJvbGRQcm9wcyIsIm5ld1Byb3BzIiwic2hvdWxkU2V0VGV4dENvbnRlbnQiLCJfX2h0bWwiLCJzaG91bGREZXByaW9yaXRpemVTdWJ0cmVlIiwiY3JlYXRlVGV4dEluc3RhbmNlIiwiY3JlYXRlVGV4dE5vZGUiLCJpc1ByaW1hcnlSZW5kZXJlciIsIndhcm5zSWZOb3RBY3RpbmciLCJzY2hlZHVsZVRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiY2FuY2VsVGltZW91dCIsImNsZWFyVGltZW91dCIsIm5vVGltZW91dCIsInN1cHBvcnRzTXV0YXRpb24iLCJyZXNldFRleHRDb250ZW50IiwiYXBwZW5kQ2hpbGRUb0NvbnRhaW5lciIsImNvbnRhaW5lciIsImluc2VydEJlZm9yZSIsInJlYWN0Um9vdENvbnRhaW5lciIsIl9yZWFjdFJvb3RDb250YWluZXIiLCJiZWZvcmVDaGlsZCIsImRpc3BhdGNoRGV0YWNoZWRWaXNpYmxlTm9kZUV2ZW50IiwicmVtb3ZlQ2hpbGRGcm9tQ29udGFpbmVyIiwiY2xlYXJTdXNwZW5zZUJvdW5kYXJ5Iiwic3VzcGVuc2VJbnN0YW5jZSIsImhpZGVJbnN0YW5jZSIsInVuaGlkZUluc3RhbmNlIiwidW5oaWRlVGV4dEluc3RhbmNlIiwidGV4dEluc3RhbmNlIiwic3VwcG9ydHNIeWRyYXRpb24iLCJpc1N1c3BlbnNlSW5zdGFuY2VQZW5kaW5nIiwiaXNTdXNwZW5zZUluc3RhbmNlRmFsbGJhY2siLCJnZXROZXh0SHlkcmF0YWJsZSIsIm5vZGVEYXRhIiwiZ2V0TmV4dEh5ZHJhdGFibGVTaWJsaW5nIiwiZ2V0Rmlyc3RIeWRyYXRhYmxlQ2hpbGQiLCJoeWRyYXRlSW5zdGFuY2UiLCJleHRyYUF0dHJpYnV0ZU5hbWVzIiwiYXR0cmlidXRlcyIsInNlcnZlckhUTUwiLCJleHBlY3RlZEhUTUwiLCJleHBlY3RlZFN0eWxlIiwiaXNNaXNtYXRjaER1ZVRvQmFkQ2FzaW5nIiwib3duTmFtZXNwYWNlIiwiZGlmZkh5ZHJhdGVkUHJvcGVydGllcyIsImdldFBhcmVudFN1c3BlbnNlSW5zdGFuY2UiLCJ0YXJnZXRJbnN0YW5jZSIsInByZXZpb3VzU2libGluZyIsImNvbW1pdEh5ZHJhdGVkQ29udGFpbmVyIiwibW91bnRSZXNwb25kZXJJbnN0YW5jZSIsInJlc3BvbmRlclByb3BzIiwicmVzcG9uZGVyU3RhdGUiLCJhZGRSb290RXZlbnRUeXBlc0ZvclJlc3BvbmRlckluc3RhbmNlIiwib25Nb3VudCIsIm1vdW50RXZlbnRSZXNwb25kZXIiLCJ1bm1vdW50UmVzcG9uZGVySW5zdGFuY2UiLCJvblVubW91bnQiLCJ0b3BMZXZlbEV2ZW50VHlwZSIsInVubW91bnRFdmVudFJlc3BvbmRlciIsInJhbmRvbUtleSIsImludGVybmFsSW5zdGFuY2VLZXkiLCJpbnRlcm5hbEV2ZW50SGFuZGxlcnNLZXkiLCJpbnRlcm5hbENvbnRhaW5lckluc3RhbmNlS2V5IiwiaG9zdEluc3QiLCJ1bm1hcmtDb250YWluZXJBc1Jvb3QiLCJpc0NvbnRhaW5lck1hcmtlZEFzUm9vdCIsInRhcmdldE5vZGUiLCJ0YXJnZXRTdXNwZW5zZUluc3QiLCJnZXROb2RlRnJvbUluc3RhbmNlJDEiLCJzdGFydFRleHQiLCJmYWxsYmFja1RleHQiLCJnZXREYXRhIiwic3RhcnRWYWx1ZSIsInN0YXJ0TGVuZ3RoIiwiZW5kVmFsdWUiLCJnZXRUZXh0IiwiZW5kTGVuZ3RoIiwibWluRW5kIiwic2xpY2VUYWlsIiwiU3ludGhldGljQ29tcG9zaXRpb25FdmVudCIsIlN5bnRoZXRpY0lucHV0RXZlbnQiLCJFTkRfS0VZQ09ERVMiLCJTVEFSVF9LRVlDT0RFIiwiY2FuVXNlQ29tcG9zaXRpb25FdmVudCIsImNhblVzZVRleHRJbnB1dEV2ZW50IiwidXNlRmFsbGJhY2tDb21wb3NpdGlvbkRhdGEiLCJTUEFDRUJBUl9DT0RFIiwiU1BBQ0VCQVJfQ0hBUiIsImV2ZW50VHlwZXMkMSIsImJlZm9yZUlucHV0IiwiY29tcG9zaXRpb25FbmQiLCJjb21wb3NpdGlvblN0YXJ0IiwiY29tcG9zaXRpb25VcGRhdGUiLCJoYXNTcGFjZUtleXByZXNzIiwiaXNGYWxsYmFja0NvbXBvc2l0aW9uRW5kIiwiZ2V0RGF0YUZyb21DdXN0b21FdmVudCIsImlzVXNpbmdLb3JlYW5JTUUiLCJpc0NvbXBvc2luZyIsImV4dHJhY3RDb21wb3NpdGlvbkV2ZW50IiwiZmFsbGJhY2tEYXRhIiwiZ2V0Q29tcG9zaXRpb25FdmVudFR5cGUiLCJpc0ZhbGxiYWNrQ29tcG9zaXRpb25TdGFydCIsImluaXRpYWxpemUiLCJjdXN0b21EYXRhIiwiZ2V0RmFsbGJhY2tCZWZvcmVJbnB1dENoYXJzIiwiY2hhcnMiLCJpc0tleXByZXNzQ29tbWFuZCIsImNoYXIiLCJleHRyYWN0QmVmb3JlSW5wdXRFdmVudCIsImdldE5hdGl2ZUJlZm9yZUlucHV0Q2hhcnMiLCJCZWZvcmVJbnB1dEV2ZW50UGx1Z2luIiwiY29tcG9zaXRpb24iLCJzdXBwb3J0ZWRJbnB1dFR5cGVzIiwiZGF0ZSIsImVtYWlsIiwibW9udGgiLCJudW1iZXIiLCJwYXNzd29yZCIsInRlbCIsIndlZWsiLCJpc1RleHRJbnB1dEVsZW1lbnQiLCJldmVudFR5cGVzJDIiLCJjaGFuZ2UiLCJjcmVhdGVBbmRBY2N1bXVsYXRlQ2hhbmdlRXZlbnQiLCJhY3RpdmVFbGVtZW50SW5zdCIsIm1hbnVhbERpc3BhdGNoQ2hhbmdlRXZlbnQiLCJiYXRjaGVkVXBkYXRlcyIsInJ1bkV2ZW50SW5CYXRjaCIsImdldEluc3RJZlZhbHVlQ2hhbmdlZCIsImdldFRhcmdldEluc3RGb3JDaGFuZ2VFdmVudCIsImlzSW5wdXRFdmVudFN1cHBvcnRlZCIsInN0b3BXYXRjaGluZ0ZvclZhbHVlQ2hhbmdlIiwiZGV0YWNoRXZlbnQiLCJoYW5kbGVQcm9wZXJ0eUNoYW5nZSIsImhhbmRsZUV2ZW50c0ZvcklucHV0RXZlbnRQb2x5ZmlsbCIsImF0dGFjaEV2ZW50Iiwic3RhcnRXYXRjaGluZ0ZvclZhbHVlQ2hhbmdlIiwiZ2V0VGFyZ2V0SW5zdEZvcklucHV0RXZlbnRQb2x5ZmlsbCIsImdldFRhcmdldEluc3RGb3JDbGlja0V2ZW50IiwiZ2V0VGFyZ2V0SW5zdEZvcklucHV0T3JDaGFuZ2VFdmVudCIsImxhc3ROYXRpdmVFdmVudCIsIkNoYW5nZUV2ZW50UGx1Z2luIiwiX2lzSW5wdXRFdmVudFN1cHBvcnRlZCIsImdldFRhcmdldEluc3RGdW5jIiwiaGFuZGxlRXZlbnRGdW5jIiwic2hvdWxkVXNlQ2xpY2tFdmVudCIsImV2ZW50VHlwZXMkMyIsIm1vdXNlRW50ZXIiLCJtb3VzZUxlYXZlIiwicG9pbnRlckVudGVyIiwicG9pbnRlckxlYXZlIiwiRW50ZXJMZWF2ZUV2ZW50UGx1Z2luIiwiZXZlbnRJbnRlcmZhY2UiLCJsZWF2ZUV2ZW50VHlwZSIsImVudGVyRXZlbnRUeXBlIiwiZXZlbnRUeXBlUHJlZml4IiwiaXNPdmVyRXZlbnQiLCJpc091dEV2ZW50IiwicGFyZW50V2luZG93IiwicmVsYXRlZCIsImZyb21Ob2RlIiwidG9Ob2RlIiwibGVhdmUiLCJlbnRlciIsImFjY3VtdWxhdGVFbnRlckxlYXZlRGlzcGF0Y2hlcyIsImlzJDEiLCJoYXNPd25Qcm9wZXJ0eSQyIiwic2hhbGxvd0VxdWFsIiwib2JqQSIsIm9iakIiLCJrZXlzQSIsImtleXNCIiwic2tpcFNlbGVjdGlvbkNoYW5nZUV2ZW50IiwiZXZlbnRUeXBlcyQ0Iiwic2VsZWN0IiwiYWN0aXZlRWxlbWVudCQxIiwiYWN0aXZlRWxlbWVudEluc3QkMSIsImxhc3RTZWxlY3Rpb24iLCJtb3VzZURvd24iLCJnZXRFdmVudFRhcmdldERvY3VtZW50IiwiY29uc3RydWN0U2VsZWN0RXZlbnQiLCJjdXJyZW50U2VsZWN0aW9uIiwiZ2V0U2VsZWN0aW9uJDEiLCJzeW50aGV0aWNFdmVudCIsIlNlbGVjdEV2ZW50UGx1Z2luIiwiZGVwZW5kZW5jeSIsImlzTGlzdGVuaW5nVG9BbGxEZXBlbmRlbmNpZXMiLCJzdXBwb3J0c1VzZXJUaW1pbmciLCJwZXJmb3JtYW5jZSIsIm1hcmsiLCJjbGVhck1hcmtzIiwibWVhc3VyZSIsImNsZWFyTWVhc3VyZXMiLCJjdXJyZW50RmliZXIiLCJjdXJyZW50UGhhc2UiLCJjdXJyZW50UGhhc2VGaWJlciIsImlzQ29tbWl0dGluZyIsImhhc1NjaGVkdWxlZFVwZGF0ZUluQ3VycmVudENvbW1pdCIsImhhc1NjaGVkdWxlZFVwZGF0ZUluQ3VycmVudFBoYXNlIiwiY29tbWl0Q291bnRJbkN1cnJlbnRXb3JrTG9vcCIsImVmZmVjdENvdW50SW5DdXJyZW50Q29tbWl0IiwibGFiZWxzSW5DdXJyZW50Q29tbWl0IiwiZm9ybWF0TWFya05hbWUiLCJtYXJrTmFtZSIsInJlYWN0RW1vamkiLCJiZWdpbk1hcmsiLCJlbmRNYXJrIiwid2FybmluZyIsImZvcm1hdHRlZE1hcmtOYW1lIiwiZm9ybWF0dGVkTGFiZWwiLCJ3YXJuaW5nRW1vamkiLCJmb3JtYXRMYWJlbCIsImdldEZpYmVyTWFya05hbWUiLCJkZWJ1Z0lEIiwiZ2V0RmliZXJMYWJlbCIsImlzTW91bnRlZCIsImJlZ2luRmliZXJNYXJrIiwiX2RlYnVnSUQiLCJjbGVhckZpYmVyTWFyayIsImNsZWFyTWFyayIsImVuZEZpYmVyTWFyayIsInNob3VsZElnbm9yZUZpYmVyIiwiY2xlYXJQZW5kaW5nUGhhc2VNZWFzdXJlbWVudCIsInBhdXNlVGltZXJzIiwiX2RlYnVnSXNDdXJyZW50bHlUaW1pbmciLCJyZXN1bWVUaW1lcnNSZWN1cnNpdmVseSIsInJlc3VtZVRpbWVycyIsInJlY29yZEVmZmVjdCIsInN0YXJ0V29ya1RpbWVyIiwiY2FuY2VsV29ya1RpbWVyIiwic3RvcFdvcmtUaW1lciIsInN0b3BGYWlsZWRXb3JrVGltZXIiLCJzdGFydFBoYXNlVGltZXIiLCJzdG9wUGhhc2VUaW1lciIsInN0YXJ0V29ya0xvb3BUaW1lciIsIm5leHRVbml0T2ZXb3JrIiwic3RvcFdvcmtMb29wVGltZXIiLCJpbnRlcnJ1cHRlZEJ5IiwiZGlkQ29tcGxldGVSb290Iiwic3RhcnRDb21taXRTbmFwc2hvdEVmZmVjdHNUaW1lciIsInN0b3BDb21taXRTbmFwc2hvdEVmZmVjdHNUaW1lciIsImNvdW50Iiwic3RhcnRDb21taXRIb3N0RWZmZWN0c1RpbWVyIiwic3RvcENvbW1pdEhvc3RFZmZlY3RzVGltZXIiLCJzdGFydENvbW1pdExpZmVDeWNsZXNUaW1lciIsInN0b3BDb21taXRMaWZlQ3ljbGVzVGltZXIiLCJmaWJlclN0YWNrIiwidmFsdWVTdGFjayIsIndhcm5lZEFib3V0TWlzc2luZ0dldENoaWxkQ29udGV4dCIsImNyZWF0ZUN1cnNvciIsImVtcHR5Q29udGV4dE9iamVjdCIsImNvbnRleHRTdGFja0N1cnNvciIsImRpZFBlcmZvcm1Xb3JrU3RhY2tDdXJzb3IiLCJwcmV2aW91c0NvbnRleHQiLCJnZXRVbm1hc2tlZENvbnRleHQiLCJDb21wb25lbnQiLCJkaWRQdXNoT3duQ29udGV4dElmUHJvdmlkZXIiLCJpc0NvbnRleHRQcm92aWRlciIsImNhY2hlQ29udGV4dCIsInVubWFza2VkQ29udGV4dCIsIm1hc2tlZENvbnRleHQiLCJfX3JlYWN0SW50ZXJuYWxNZW1vaXplZFVubWFza2VkQ2hpbGRDb250ZXh0IiwiX19yZWFjdEludGVybmFsTWVtb2l6ZWRNYXNrZWRDaGlsZENvbnRleHQiLCJnZXRNYXNrZWRDb250ZXh0IiwiY29udGV4dFR5cGVzIiwiaGFzQ29udGV4dENoYW5nZWQiLCJjaGlsZENvbnRleHRUeXBlcyIsInBvcENvbnRleHQiLCJwb3BUb3BMZXZlbENvbnRleHRPYmplY3QiLCJwdXNoVG9wTGV2ZWxDb250ZXh0T2JqZWN0IiwiZGlkQ2hhbmdlIiwicHJvY2Vzc0NoaWxkQ29udGV4dCIsInBhcmVudENvbnRleHQiLCJjaGlsZENvbnRleHQiLCJnZXRDaGlsZENvbnRleHQiLCJjb250ZXh0S2V5IiwicHVzaENvbnRleHRQcm92aWRlciIsIm1lbW9pemVkTWVyZ2VkQ2hpbGRDb250ZXh0IiwiX19yZWFjdEludGVybmFsTWVtb2l6ZWRNZXJnZWRDaGlsZENvbnRleHQiLCJpbnZhbGlkYXRlQ29udGV4dFByb3ZpZGVyIiwibWVyZ2VkQ29udGV4dCIsImZpbmRDdXJyZW50VW5tYXNrZWRDb250ZXh0IiwiaXNGaWJlck1vdW50ZWQiLCJMZWdhY3lSb290IiwiQmxvY2tpbmdSb290IiwiQ29uY3VycmVudFJvb3QiLCJTY2hlZHVsZXJfcnVuV2l0aFByaW9yaXR5IiwiU2NoZWR1bGVyX3NjaGVkdWxlQ2FsbGJhY2siLCJTY2hlZHVsZXJfY2FuY2VsQ2FsbGJhY2siLCJ1bnN0YWJsZV9jYW5jZWxDYWxsYmFjayIsIlNjaGVkdWxlcl9zaG91bGRZaWVsZCIsInVuc3RhYmxlX3Nob3VsZFlpZWxkIiwiU2NoZWR1bGVyX3JlcXVlc3RQYWludCIsInVuc3RhYmxlX3JlcXVlc3RQYWludCIsIlNjaGVkdWxlcl9ub3ciLCJ1bnN0YWJsZV9ub3ciLCJTY2hlZHVsZXJfZ2V0Q3VycmVudFByaW9yaXR5TGV2ZWwiLCJ1bnN0YWJsZV9nZXRDdXJyZW50UHJpb3JpdHlMZXZlbCIsIlNjaGVkdWxlcl9JbW1lZGlhdGVQcmlvcml0eSIsInVuc3RhYmxlX0ltbWVkaWF0ZVByaW9yaXR5IiwiU2NoZWR1bGVyX1VzZXJCbG9ja2luZ1ByaW9yaXR5IiwiU2NoZWR1bGVyX05vcm1hbFByaW9yaXR5IiwiU2NoZWR1bGVyX0xvd1ByaW9yaXR5IiwidW5zdGFibGVfTG93UHJpb3JpdHkiLCJTY2hlZHVsZXJfSWRsZVByaW9yaXR5IiwidW5zdGFibGVfSWRsZVByaW9yaXR5IiwiX19pbnRlcmFjdGlvbnNSZWYiLCJmYWtlQ2FsbGJhY2tOb2RlIiwiSW1tZWRpYXRlUHJpb3JpdHkiLCJVc2VyQmxvY2tpbmdQcmlvcml0eSQyIiwiTm9ybWFsUHJpb3JpdHkiLCJMb3dQcmlvcml0eSIsIklkbGVQcmlvcml0eSIsIk5vUHJpb3JpdHkiLCJzaG91bGRZaWVsZCIsInJlcXVlc3RQYWludCIsInN5bmNRdWV1ZSIsImltbWVkaWF0ZVF1ZXVlQ2FsbGJhY2tOb2RlIiwiaXNGbHVzaGluZ1N5bmNRdWV1ZSIsImluaXRpYWxUaW1lTXMiLCJnZXRDdXJyZW50UHJpb3JpdHlMZXZlbCIsInJlYWN0UHJpb3JpdHlUb1NjaGVkdWxlclByaW9yaXR5IiwicmVhY3RQcmlvcml0eUxldmVsIiwicnVuV2l0aFByaW9yaXR5JDIiLCJwcmlvcml0eUxldmVsIiwic2NoZWR1bGVDYWxsYmFjayIsImNhbGxiYWNrIiwic2NoZWR1bGVTeW5jQ2FsbGJhY2siLCJmbHVzaFN5bmNDYWxsYmFja1F1ZXVlSW1wbCIsImZsdXNoU3luY0NhbGxiYWNrUXVldWUiLCJxdWV1ZSIsIk5vTW9kZSIsIlN0cmljdE1vZGUiLCJCbG9ja2luZ01vZGUiLCJDb25jdXJyZW50TW9kZSIsIlByb2ZpbGVNb2RlIiwiTUFYX1NJR05FRF8zMV9CSVRfSU5UIiwiTm9Xb3JrIiwiTmV2ZXIiLCJJZGxlIiwiQ29udGludW91c0h5ZHJhdGlvbiIsIlN5bmMiLCJCYXRjaGVkIiwiVU5JVF9TSVpFIiwiTUFHSUNfTlVNQkVSX09GRlNFVCIsIm1zVG9FeHBpcmF0aW9uVGltZSIsIm1zIiwiZXhwaXJhdGlvblRpbWVUb01zIiwiZXhwaXJhdGlvblRpbWUiLCJjb21wdXRlRXhwaXJhdGlvbkJ1Y2tldCIsImN1cnJlbnRUaW1lIiwiZXhwaXJhdGlvbkluTXMiLCJidWNrZXRTaXplTXMiLCJwcmVjaXNpb24iLCJMT1dfUFJJT1JJVFlfRVhQSVJBVElPTiIsIkxPV19QUklPUklUWV9CQVRDSF9TSVpFIiwiY29tcHV0ZUFzeW5jRXhwaXJhdGlvbiIsIkhJR0hfUFJJT1JJVFlfRVhQSVJBVElPTiIsIkhJR0hfUFJJT1JJVFlfQkFUQ0hfU0laRSIsImNvbXB1dGVJbnRlcmFjdGl2ZUV4cGlyYXRpb24iLCJpbmZlclByaW9yaXR5RnJvbUV4cGlyYXRpb25UaW1lIiwibXNVbnRpbCIsImxvd1ByaW9yaXR5V2FybmluZ1dpdGhvdXRTdGFjayQxIiwiX2xlbjIiLCJfa2V5MiIsIlJlYWN0U3RyaWN0TW9kZVdhcm5pbmdzIiwicmVjb3JkVW5zYWZlTGlmZWN5Y2xlV2FybmluZ3MiLCJmbHVzaFBlbmRpbmdVbnNhZmVMaWZlY3ljbGVXYXJuaW5ncyIsInJlY29yZExlZ2FjeUNvbnRleHRXYXJuaW5nIiwiZmx1c2hMZWdhY3lDb250ZXh0V2FybmluZyIsImRpc2NhcmRQZW5kaW5nV2FybmluZ3MiLCJzZXRUb1NvcnRlZFN0cmluZyIsImFycmF5Iiwic29ydCIsInBlbmRpbmdDb21wb25lbnRXaWxsTW91bnRXYXJuaW5ncyIsInBlbmRpbmdVTlNBRkVfQ29tcG9uZW50V2lsbE1vdW50V2FybmluZ3MiLCJwZW5kaW5nQ29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1dhcm5pbmdzIiwicGVuZGluZ1VOU0FGRV9Db21wb25lbnRXaWxsUmVjZWl2ZVByb3BzV2FybmluZ3MiLCJwZW5kaW5nQ29tcG9uZW50V2lsbFVwZGF0ZVdhcm5pbmdzIiwicGVuZGluZ1VOU0FGRV9Db21wb25lbnRXaWxsVXBkYXRlV2FybmluZ3MiLCJkaWRXYXJuQWJvdXRVbnNhZmVMaWZlY3ljbGVzIiwiY29tcG9uZW50V2lsbE1vdW50IiwiX19zdXBwcmVzc0RlcHJlY2F0aW9uV2FybmluZyIsIlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQiLCJjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIiwiVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMiLCJjb21wb25lbnRXaWxsVXBkYXRlIiwiVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGUiLCJjb21wb25lbnRXaWxsTW91bnRVbmlxdWVOYW1lcyIsIlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnRVbmlxdWVOYW1lcyIsImNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNVbmlxdWVOYW1lcyIsIlVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzVW5pcXVlTmFtZXMiLCJjb21wb25lbnRXaWxsVXBkYXRlVW5pcXVlTmFtZXMiLCJVTlNBRkVfY29tcG9uZW50V2lsbFVwZGF0ZVVuaXF1ZU5hbWVzIiwic29ydGVkTmFtZXMiLCJfc29ydGVkTmFtZXMiLCJfc29ydGVkTmFtZXMyIiwiX3NvcnRlZE5hbWVzMyIsIl9zb3J0ZWROYW1lczQiLCJfc29ydGVkTmFtZXM1IiwicGVuZGluZ0xlZ2FjeUNvbnRleHRXYXJuaW5nIiwiZGlkV2FybkFib3V0TGVnYWN5Q29udGV4dCIsInN0cmljdFJvb3QiLCJtYXliZVN0cmljdFJvb3QiLCJmaW5kU3RyaWN0Um9vdCIsIndhcm5pbmdzRm9yUm9vdCIsImZpYmVyQXJyYXkiLCJ1bmlxdWVOYW1lcyIsInN0cmljdFJvb3RDb21wb25lbnRTdGFjayIsInJlc29sdmVGYW1pbHkiLCJmYWlsZWRCb3VuZGFyaWVzIiwic2V0UmVmcmVzaEhhbmRsZXIiLCJoYW5kbGVyIiwicmVzb2x2ZUZ1bmN0aW9uRm9ySG90UmVsb2FkaW5nIiwiZmFtaWx5IiwicmVzb2x2ZUNsYXNzRm9ySG90UmVsb2FkaW5nIiwicmVzb2x2ZUZvcndhcmRSZWZGb3JIb3RSZWxvYWRpbmciLCJjdXJyZW50UmVuZGVyIiwic3ludGhldGljVHlwZSIsImlzQ29tcGF0aWJsZUZhbWlseUZvckhvdFJlbG9hZGluZyIsInByZXZUeXBlIiwibmV4dFR5cGUiLCJuZWVkc0NvbXBhcmVGYW1pbGllcyIsIiQkdHlwZW9mTmV4dFR5cGUiLCJwcmV2RmFtaWx5IiwibWFya0ZhaWxlZEVycm9yQm91bmRhcnlGb3JIb3RSZWxvYWRpbmciLCJXZWFrU2V0Iiwic2NoZWR1bGVSZWZyZXNoIiwidXBkYXRlIiwic3RhbGVGYW1pbGllcyIsInVwZGF0ZWRGYW1pbGllcyIsImZsdXNoUGFzc2l2ZUVmZmVjdHMiLCJmbHVzaFN5bmMiLCJzY2hlZHVsZUZpYmVyc1dpdGhGYW1pbGllc1JlY3Vyc2l2ZWx5IiwiY2FuZGlkYXRlVHlwZSIsIm5lZWRzUmVuZGVyIiwibmVlZHNSZW1vdW50IiwiX2RlYnVnTmVlZHNSZW1vdW50Iiwic2NoZWR1bGVXb3JrIiwic2NoZWR1bGVSb290IiwidXBkYXRlQ29udGFpbmVyIiwiZmluZEhvc3RJbnN0YW5jZXNGb3JSZWZyZXNoIiwiZmFtaWxpZXMiLCJob3N0SW5zdGFuY2VzIiwidHlwZXMiLCJmaW5kSG9zdEluc3RhbmNlc0Zvck1hdGNoaW5nRmliZXJzUmVjdXJzaXZlbHkiLCJkaWRNYXRjaCIsImZvdW5kSG9zdEluc3RhbmNlcyIsImZpbmRDaGlsZEhvc3RJbnN0YW5jZXNGb3JGaWJlclNoYWxsb3dseSIsImZpbmRIb3N0SW5zdGFuY2VzRm9yRmliZXJTaGFsbG93bHkiLCJyZXNvbHZlRGVmYXVsdFByb3BzIiwiYmFzZVByb3BzIiwiZGVmYXVsdFByb3BzIiwicmVhZExhenlDb21wb25lbnRUeXBlIiwidGhlbmFibGUiLCJjdG9yIiwiX2N0b3IiLCJ0aGVuIiwibW9kdWxlT2JqZWN0IiwiZGVmYXVsdEV4cG9ydCIsImluaXRpYWxpemVMYXp5Q29tcG9uZW50VHlwZSIsInJlbmRlcmVyU2lnaWwiLCJ2YWx1ZUN1cnNvciIsImN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyIiwibGFzdENvbnRleHREZXBlbmRlbmN5IiwibGFzdENvbnRleHRXaXRoQWxsQml0c09ic2VydmVkIiwiaXNEaXNhbGxvd2VkQ29udGV4dFJlYWRJbkRFViIsInJlc2V0Q29udGV4dERlcGVuZGVuY2llcyIsImVudGVyRGlzYWxsb3dlZENvbnRleHRSZWFkSW5ERVYiLCJleGl0RGlzYWxsb3dlZENvbnRleHRSZWFkSW5ERVYiLCJwdXNoUHJvdmlkZXIiLCJwcm92aWRlckZpYmVyIiwiX2NvbnRleHQiLCJfY3VycmVudFZhbHVlIiwiX2N1cnJlbnRSZW5kZXJlciIsIl9jdXJyZW50VmFsdWUyIiwiX2N1cnJlbnRSZW5kZXJlcjIiLCJwb3BQcm92aWRlciIsInNjaGVkdWxlV29ya09uUGFyZW50UGF0aCIsInJlbmRlckV4cGlyYXRpb25UaW1lIiwiY2hpbGRFeHBpcmF0aW9uVGltZSIsInByZXBhcmVUb1JlYWRDb250ZXh0IiwiZmlyc3RDb250ZXh0IiwibWFya1dvcmtJblByb2dyZXNzUmVjZWl2ZWRVcGRhdGUiLCJyZWFkQ29udGV4dCIsIm9ic2VydmVkQml0cyIsInJlc29sdmVkT2JzZXJ2ZWRCaXRzIiwiY29udGV4dEl0ZW0iLCJkaWRXYXJuVXBkYXRlSW5zaWRlVXBkYXRlIiwiY3VycmVudGx5UHJvY2Vzc2luZ1F1ZXVlIiwiVXBkYXRlU3RhdGUiLCJSZXBsYWNlU3RhdGUiLCJGb3JjZVVwZGF0ZSIsIkNhcHR1cmVVcGRhdGUiLCJoYXNGb3JjZVVwZGF0ZSIsImNyZWF0ZVVwZGF0ZVF1ZXVlIiwiYmFzZVN0YXRlIiwiZmlyc3RVcGRhdGUiLCJsYXN0VXBkYXRlIiwiZmlyc3RDYXB0dXJlZFVwZGF0ZSIsImxhc3RDYXB0dXJlZFVwZGF0ZSIsImZpcnN0RWZmZWN0IiwibGFzdEVmZmVjdCIsImZpcnN0Q2FwdHVyZWRFZmZlY3QiLCJsYXN0Q2FwdHVyZWRFZmZlY3QiLCJjbG9uZVVwZGF0ZVF1ZXVlIiwiY3VycmVudFF1ZXVlIiwiY3JlYXRlVXBkYXRlIiwic3VzcGVuc2VDb25maWciLCJwYXlsb2FkIiwibmV4dEVmZmVjdCIsImFwcGVuZFVwZGF0ZVRvUXVldWUiLCJlbnF1ZXVlVXBkYXRlIiwicXVldWUxIiwicXVldWUyIiwidXBkYXRlUXVldWUiLCJlbnF1ZXVlQ2FwdHVyZWRVcGRhdGUiLCJ3b3JrSW5Qcm9ncmVzc1F1ZXVlIiwiZW5zdXJlV29ya0luUHJvZ3Jlc3NRdWV1ZUlzQUNsb25lIiwiZ2V0U3RhdGVGcm9tVXBkYXRlIiwicHJldlN0YXRlIiwibmV4dFN0YXRlIiwicGFydGlhbFN0YXRlIiwiX3BheWxvYWQiLCJwcm9jZXNzVXBkYXRlUXVldWUiLCJuZXdCYXNlU3RhdGUiLCJuZXdGaXJzdFVwZGF0ZSIsIm5ld0V4cGlyYXRpb25UaW1lIiwicmVzdWx0U3RhdGUiLCJ1cGRhdGVFeHBpcmF0aW9uVGltZSIsIm1hcmtSZW5kZXJFdmVudFRpbWVBbmRDb25maWciLCJuZXdGaXJzdENhcHR1cmVkVXBkYXRlIiwiX3VwZGF0ZUV4cGlyYXRpb25UaW1lIiwibWFya1VucHJvY2Vzc2VkVXBkYXRlVGltZSIsInJlc2V0SGFzRm9yY2VVcGRhdGVCZWZvcmVQcm9jZXNzaW5nIiwiY2hlY2tIYXNGb3JjZVVwZGF0ZUFmdGVyUHJvY2Vzc2luZyIsImNvbW1pdFVwZGF0ZVF1ZXVlIiwiZmluaXNoZWRXb3JrIiwiZmluaXNoZWRRdWV1ZSIsImNvbW1pdFVwZGF0ZUVmZmVjdHMiLCJlZmZlY3QiLCJyZXF1ZXN0Q3VycmVudFN1c3BlbnNlQ29uZmlnIiwiZGlkV2FybkFib3V0U3RhdGVBc3NpZ25tZW50Rm9yQ29tcG9uZW50IiwiZGlkV2FybkFib3V0VW5pbml0aWFsaXplZFN0YXRlIiwiZGlkV2FybkFib3V0R2V0U25hcHNob3RCZWZvcmVVcGRhdGVXaXRob3V0RGlkVXBkYXRlIiwiZGlkV2FybkFib3V0TGVnYWN5TGlmZWN5Y2xlc0FuZERlcml2ZWRTdGF0ZSIsImRpZFdhcm5BYm91dFVuZGVmaW5lZERlcml2ZWRTdGF0ZSIsIndhcm5PblVuZGVmaW5lZERlcml2ZWRTdGF0ZSIsIndhcm5PbkludmFsaWRDYWxsYmFjayQxIiwiZGlkV2FybkFib3V0RGlyZWN0bHlBc3NpZ25pbmdQcm9wc1RvU3RhdGUiLCJkaWRXYXJuQWJvdXRDb250ZXh0VHlwZUFuZENvbnRleHRUeXBlcyIsImRpZFdhcm5BYm91dEludmFsaWRhdGVDb250ZXh0VHlwZSIsImZha2VJbnRlcm5hbEluc3RhbmNlIiwiaXNBcnJheSQxIiwiZW1wdHlSZWZzT2JqZWN0IiwicmVmcyIsImRpZFdhcm5PbkludmFsaWRDYWxsYmFjayIsImFwcGx5RGVyaXZlZFN0YXRlRnJvbVByb3BzIiwiZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzIiwiY2FsbGVyTmFtZSIsImRpZFdhcm5BYm91dE1hcHMiLCJkaWRXYXJuQWJvdXRHZW5lcmF0b3JzIiwiZGlkV2FybkFib3V0U3RyaW5nUmVmcyIsIm93bmVySGFzS2V5VXNlV2FybmluZyIsIm93bmVySGFzRnVuY3Rpb25UeXBlV2FybmluZyIsImNsYXNzQ29tcG9uZW50VXBkYXRlciIsImNvbXBvbmVudCIsIm93bmVyRmliZXIiLCJfd2FybmVkQWJvdXRSZWZzSW5SZW5kZXIiLCJlbnF1ZXVlU2V0U3RhdGUiLCJyZXF1ZXN0Q3VycmVudFRpbWVGb3JVcGRhdGUiLCJjb21wdXRlRXhwaXJhdGlvbkZvckZpYmVyIiwiZW5xdWV1ZVJlcGxhY2VTdGF0ZSIsImVucXVldWVGb3JjZVVwZGF0ZSIsImNoZWNrU2hvdWxkQ29tcG9uZW50VXBkYXRlIiwib2xkU3RhdGUiLCJuZXdTdGF0ZSIsIm5leHRDb250ZXh0Iiwic2hvdWxkQ29tcG9uZW50VXBkYXRlIiwic2hvdWxkVXBkYXRlIiwiaXNQdXJlUmVhY3RDb21wb25lbnQiLCJhZG9wdENsYXNzSW5zdGFuY2UiLCJ1cGRhdGVyIiwiX3JlYWN0SW50ZXJuYWxJbnN0YW5jZSIsImNvbnN0cnVjdENsYXNzSW5zdGFuY2UiLCJpc0xlZ2FjeUNvbnRleHRDb25zdW1lciIsImNvbnRleHRUeXBlIiwiZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUiLCJmb3VuZFdpbGxNb3VudE5hbWUiLCJmb3VuZFdpbGxSZWNlaXZlUHJvcHNOYW1lIiwiZm91bmRXaWxsVXBkYXRlTmFtZSIsIl9jb21wb25lbnROYW1lIiwibmV3QXBpTmFtZSIsImNhbGxDb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIiwibW91bnRDbGFzc0luc3RhbmNlIiwiZ2V0SW5pdGlhbFN0YXRlIiwiaXNSZWFjdENsYXNzQXBwcm92ZWQiLCJnZXREZWZhdWx0UHJvcHMiLCJjb21wb25lbnRTaG91bGRVcGRhdGUiLCJjb21wb25lbnREaWRVbm1vdW50IiwiY29tcG9uZW50RGlkUmVjZWl2ZVByb3BzIiwiY29tcG9uZW50V2lsbFJlY2lldmVQcm9wcyIsIlVOU0FGRV9jb21wb25lbnRXaWxsUmVjaWV2ZVByb3BzIiwiaGFzTXV0YXRlZFByb3BzIiwiY29tcG9uZW50RGlkVXBkYXRlIiwiZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yIiwiX3N0YXRlIiwiY2hlY2tDbGFzc0luc3RhbmNlIiwiY2FsbENvbXBvbmVudFdpbGxNb3VudCIsImNvbXBvbmVudERpZE1vdW50Iiwid2FybkZvck1pc3NpbmdLZXkiLCJfc3RvcmUiLCJ2YWxpZGF0ZWQiLCJjdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvIiwiY29lcmNlUmVmIiwicmV0dXJuRmliZXIiLCJjdXJyZW50JCQxIiwibWl4ZWRSZWYiLCJyZWYiLCJfb3duZXIiLCJzdHJpbmdSZWYiLCJfc3RyaW5nUmVmIiwidGhyb3dPbkludmFsaWRPYmplY3RUeXBlIiwibmV3Q2hpbGQiLCJ3YXJuT25GdW5jdGlvblR5cGUiLCJDaGlsZFJlY29uY2lsZXIiLCJzaG91bGRUcmFja1NpZGVFZmZlY3RzIiwiZGVsZXRlQ2hpbGQiLCJjaGlsZFRvRGVsZXRlIiwibGFzdCIsImRlbGV0ZVJlbWFpbmluZ0NoaWxkcmVuIiwiY3VycmVudEZpcnN0Q2hpbGQiLCJtYXBSZW1haW5pbmdDaGlsZHJlbiIsImV4aXN0aW5nQ2hpbGRyZW4iLCJleGlzdGluZ0NoaWxkIiwidXNlRmliZXIiLCJwZW5kaW5nUHJvcHMiLCJjbG9uZSIsImNyZWF0ZVdvcmtJblByb2dyZXNzIiwicGxhY2VDaGlsZCIsIm5ld0ZpYmVyIiwibGFzdFBsYWNlZEluZGV4IiwibmV3SW5kZXgiLCJvbGRJbmRleCIsInBsYWNlU2luZ2xlQ2hpbGQiLCJ1cGRhdGVUZXh0Tm9kZSIsImNyZWF0ZWQiLCJjcmVhdGVGaWJlckZyb21UZXh0IiwiZXhpc3RpbmciLCJ1cGRhdGVFbGVtZW50IiwiY3JlYXRlRmliZXJGcm9tRWxlbWVudCIsIl9zb3VyY2UiLCJ1cGRhdGVQb3J0YWwiLCJwb3J0YWwiLCJpbXBsZW1lbnRhdGlvbiIsImNyZWF0ZUZpYmVyRnJvbVBvcnRhbCIsInVwZGF0ZUZyYWdtZW50IiwiZnJhZ21lbnQiLCJjcmVhdGVGaWJlckZyb21GcmFnbWVudCIsImNyZWF0ZUNoaWxkIiwiX2NyZWF0ZWQiLCJfY3JlYXRlZDIiLCJfY3JlYXRlZDMiLCJ1cGRhdGVTbG90Iiwib2xkRmliZXIiLCJ1cGRhdGVGcm9tTWFwIiwibmV3SWR4IiwiX21hdGNoZWRGaWJlciIsIndhcm5PbkludmFsaWRLZXkiLCJrbm93bktleXMiLCJpc1Vua2V5ZWRUb3BMZXZlbEZyYWdtZW50IiwiX2NyZWF0ZWQ0IiwicmVjb25jaWxlU2luZ2xlRWxlbWVudCIsInJlY29uY2lsZVNpbmdsZVBvcnRhbCIsInJlY29uY2lsZVNpbmdsZVRleHROb2RlIiwibmV3Q2hpbGRyZW4iLCJyZXN1bHRpbmdGaXJzdENoaWxkIiwicHJldmlvdXNOZXdGaWJlciIsIm5leHRPbGRGaWJlciIsIl9uZXdGaWJlciIsIl9uZXdGaWJlcjIiLCJyZWNvbmNpbGVDaGlsZHJlbkFycmF5IiwibmV3Q2hpbGRyZW5JdGVyYWJsZSIsIml0ZXJhdG9yRm4iLCJlbnRyaWVzIiwiX25ld0NoaWxkcmVuIiwiX3N0ZXAiLCJkb25lIiwiX25ld0ZpYmVyMyIsIl9uZXdGaWJlcjQiLCJyZWNvbmNpbGVDaGlsZHJlbkl0ZXJhdG9yIiwiX2lzTW9ja0Z1bmN0aW9uIiwicmVjb25jaWxlQ2hpbGRGaWJlcnMiLCJtb3VudENoaWxkRmliZXJzIiwicmVzZXRDaGlsZEZpYmVycyIsInJlc2V0V29ya0luUHJvZ3Jlc3MiLCJOT19DT05URVhUIiwiY29udGV4dFN0YWNrQ3Vyc29yJDEiLCJjb250ZXh0RmliZXJTdGFja0N1cnNvciIsInJvb3RJbnN0YW5jZVN0YWNrQ3Vyc29yIiwicmVxdWlyZWRDb250ZXh0IiwiZ2V0Um9vdEhvc3RDb250YWluZXIiLCJwdXNoSG9zdENvbnRhaW5lciIsIm5leHRSb290SW5zdGFuY2UiLCJuZXh0Um9vdENvbnRleHQiLCJ2YWxpZGF0ZWRUYWciLCJnZXRSb290SG9zdENvbnRleHQiLCJwb3BIb3N0Q29udGFpbmVyIiwiZ2V0SG9zdENvbnRleHQiLCJwdXNoSG9zdENvbnRleHQiLCJwYXJlbnRIb3N0Q29udGV4dCIsInBhcmVudEhvc3RDb250ZXh0RGV2IiwicG9wSG9zdENvbnRleHQiLCJTdWJ0cmVlU3VzcGVuc2VDb250ZXh0TWFzayIsIkludmlzaWJsZVBhcmVudFN1c3BlbnNlQ29udGV4dCIsIkZvcmNlU3VzcGVuc2VGYWxsYmFjayIsInN1c3BlbnNlU3RhY2tDdXJzb3IiLCJoYXNTdXNwZW5zZUNvbnRleHQiLCJmbGFnIiwic2V0RGVmYXVsdFNoYWxsb3dTdXNwZW5zZUNvbnRleHQiLCJzZXRTaGFsbG93U3VzcGVuc2VDb250ZXh0Iiwic2hhbGxvd0NvbnRleHQiLCJwdXNoU3VzcGVuc2VDb250ZXh0IiwibmV3Q29udGV4dCIsInBvcFN1c3BlbnNlQ29udGV4dCIsInNob3VsZENhcHR1cmVTdXNwZW5zZSIsImhhc0ludmlzaWJsZVBhcmVudCIsIm1lbW9pemVkUHJvcHMiLCJmYWxsYmFjayIsInVuc3RhYmxlX2F2b2lkVGhpc0ZhbGxiYWNrIiwiZmluZEZpcnN0U3VzcGVuZGVkIiwicm93IiwicmV2ZWFsT3JkZXIiLCJlbXB0eU9iamVjdCIsImlzQXJyYXkkMiIsInVwZGF0ZUV2ZW50TGlzdGVuZXIiLCJ2aXNpc3RlZFJlc3BvbmRlcnMiLCJsaXN0ZW5lclByb3BzIiwiY3JlYXRlUmVzcG9uZGVySW5zdGFuY2UiLCJtb3VudEV2ZW50UmVzcG9uZGVyJDEiLCJ1cGRhdGVFdmVudExpc3RlbmVycyIsIl9yZXNwb25kZXJzTWFwIiwibW91bnRlZFJlc3BvbmRlcnMiLCJfbGVuZ3RoIiwibW91bnRlZFJlc3BvbmRlciIsImNyZWF0ZVJlc3BvbmRlckxpc3RlbmVyIiwiZXZlbnRSZXNwb25kZXJMaXN0ZW5lciIsImRpZFdhcm5BYm91dE1pc21hdGNoZWRIb29rc0ZvckNvbXBvbmVudCIsIk5vRWZmZWN0JDEiLCJVbm1vdW50U25hcHNob3QiLCJVbm1vdW50TXV0YXRpb24iLCJNb3VudE11dGF0aW9uIiwiVW5tb3VudExheW91dCIsIk1vdW50TGF5b3V0IiwiTW91bnRQYXNzaXZlIiwiVW5tb3VudFBhc3NpdmUiLCJSZWFjdEN1cnJlbnREaXNwYXRjaGVyJDEiLCJSZWFjdEN1cnJlbnRCYXRjaENvbmZpZyQxIiwicmVuZGVyRXhwaXJhdGlvblRpbWUkMSIsImN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEiLCJjdXJyZW50SG9vayIsIm5leHRDdXJyZW50SG9vayIsImZpcnN0V29ya0luUHJvZ3Jlc3NIb29rIiwid29ya0luUHJvZ3Jlc3NIb29rIiwibmV4dFdvcmtJblByb2dyZXNzSG9vayIsInJlbWFpbmluZ0V4cGlyYXRpb25UaW1lIiwiY29tcG9uZW50VXBkYXRlUXVldWUiLCJzaWRlRWZmZWN0VGFnIiwiZGlkU2NoZWR1bGVSZW5kZXJQaGFzZVVwZGF0ZSIsInJlbmRlclBoYXNlVXBkYXRlcyIsIm51bWJlck9mUmVSZW5kZXJzIiwiUkVfUkVOREVSX0xJTUlUIiwiY3VycmVudEhvb2tOYW1lSW5EZXYiLCJob29rVHlwZXNEZXYiLCJob29rVHlwZXNVcGRhdGVJbmRleERldiIsImlnbm9yZVByZXZpb3VzRGVwZW5kZW5jaWVzIiwibW91bnRIb29rVHlwZXNEZXYiLCJob29rTmFtZSIsInVwZGF0ZUhvb2tUeXBlc0RldiIsImN1cnJlbnRIb29rTmFtZSIsInRhYmxlIiwib2xkSG9va05hbWUiLCJuZXdIb29rTmFtZSIsIndhcm5Pbkhvb2tNaXNtYXRjaEluRGV2IiwiY2hlY2tEZXBzQXJlQXJyYXlEZXYiLCJkZXBzIiwidGhyb3dJbnZhbGlkSG9va0Vycm9yIiwiYXJlSG9va0lucHV0c0VxdWFsIiwibmV4dERlcHMiLCJwcmV2RGVwcyIsInJlbmRlcldpdGhIb29rcyIsInJlZk9yQ29udGV4dCIsIm5leHRSZW5kZXJFeHBpcmF0aW9uVGltZSIsIl9kZWJ1Z0hvb2tUeXBlcyIsIkhvb2tzRGlzcGF0Y2hlck9uVXBkYXRlSW5ERVYiLCJIb29rc0Rpc3BhdGNoZXJPbk1vdW50V2l0aEhvb2tUeXBlc0luREVWIiwiSG9va3NEaXNwYXRjaGVyT25Nb3VudEluREVWIiwiQ29udGV4dE9ubHlEaXNwYXRjaGVyIiwicmVuZGVyZWRXb3JrIiwiZGlkUmVuZGVyVG9vRmV3SG9va3MiLCJiYWlsb3V0SG9va3MiLCJyZXNldEhvb2tzIiwibW91bnRXb3JrSW5Qcm9ncmVzc0hvb2siLCJob29rIiwiYmFzZVVwZGF0ZSIsInVwZGF0ZVdvcmtJblByb2dyZXNzSG9vayIsIm5ld0hvb2siLCJiYXNpY1N0YXRlUmVkdWNlciIsIm1vdW50UmVkdWNlciIsInJlZHVjZXIiLCJpbml0aWFsQXJnIiwiaW5pdCIsImluaXRpYWxTdGF0ZSIsImRpc3BhdGNoIiwibGFzdFJlbmRlcmVkUmVkdWNlciIsImxhc3RSZW5kZXJlZFN0YXRlIiwiZGlzcGF0Y2hBY3Rpb24iLCJ1cGRhdGVSZWR1Y2VyIiwiX2Rpc3BhdGNoIiwiZmlyc3RSZW5kZXJQaGFzZVVwZGF0ZSIsImZpcnN0IiwiX25ld1N0YXRlIiwibmV3QmFzZVVwZGF0ZSIsInByZXZVcGRhdGUiLCJfdXBkYXRlIiwiZGlkU2tpcCIsImVhZ2VyUmVkdWNlciIsImVhZ2VyU3RhdGUiLCJtb3VudFN0YXRlIiwidXBkYXRlU3RhdGUiLCJwdXNoRWZmZWN0IiwiZGVzdHJveSIsIm1vdW50UmVmIiwic2VhbCIsInVwZGF0ZVJlZiIsIm1vdW50RWZmZWN0SW1wbCIsImZpYmVyRWZmZWN0VGFnIiwiaG9va0VmZmVjdFRhZyIsInVwZGF0ZUVmZmVjdEltcGwiLCJwcmV2RWZmZWN0IiwibW91bnRFZmZlY3QiLCJqZXN0Iiwid2FybklmTm90Q3VycmVudGx5QWN0aW5nRWZmZWN0c0luREVWIiwidXBkYXRlRWZmZWN0IiwibW91bnRMYXlvdXRFZmZlY3QiLCJ1cGRhdGVMYXlvdXRFZmZlY3QiLCJpbXBlcmF0aXZlSGFuZGxlRWZmZWN0IiwicmVmQ2FsbGJhY2siLCJfaW5zdCIsInJlZk9iamVjdCIsIl9pbnN0MiIsIm1vdW50SW1wZXJhdGl2ZUhhbmRsZSIsImVmZmVjdERlcHMiLCJ1cGRhdGVJbXBlcmF0aXZlSGFuZGxlIiwibW91bnREZWJ1Z1ZhbHVlIiwiZm9ybWF0dGVyRm4iLCJ1cGRhdGVEZWJ1Z1ZhbHVlIiwibW91bnRDYWxsYmFjayIsInVwZGF0ZUNhbGxiYWNrIiwibW91bnRNZW1vIiwibmV4dENyZWF0ZSIsInVwZGF0ZU1lbW8iLCJtb3VudERlZmVycmVkVmFsdWUiLCJfbW91bnRTdGF0ZSIsInByZXZWYWx1ZSIsInVuc3RhYmxlX25leHQiLCJwcmV2aW91c0NvbmZpZyIsInVwZGF0ZURlZmVycmVkVmFsdWUiLCJfdXBkYXRlU3RhdGUiLCJtb3VudFRyYW5zaXRpb24iLCJfbW91bnRTdGF0ZTIiLCJpc1BlbmRpbmciLCJzZXRQZW5kaW5nIiwidXBkYXRlVHJhbnNpdGlvbiIsIl91cGRhdGVTdGF0ZTIiLCJsYXN0UmVuZGVyUGhhc2VVcGRhdGUiLCJfdXBkYXRlMiIsInByZXZEaXNwYXRjaGVyIiwiSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uVXBkYXRlSW5ERVYiLCJjdXJyZW50U3RhdGUiLCJ3YXJuSWZOb3RTY29wZWRXaXRoTWF0Y2hpbmdBY3QiLCJ3YXJuSWZOb3RDdXJyZW50bHlBY3RpbmdVcGRhdGVzSW5EZXYiLCJ1c2VDYWxsYmFjayIsInVzZUNvbnRleHQiLCJ1c2VFZmZlY3QiLCJ1c2VJbXBlcmF0aXZlSGFuZGxlIiwidXNlTGF5b3V0RWZmZWN0IiwidXNlTWVtbyIsInVzZVJlZHVjZXIiLCJ1c2VSZWYiLCJ1c2VTdGF0ZSIsInVzZURlYnVnVmFsdWUiLCJ1c2VSZXNwb25kZXIiLCJ1c2VEZWZlcnJlZFZhbHVlIiwidXNlVHJhbnNpdGlvbiIsIkludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPbk1vdW50SW5ERVYiLCJ3YXJuSW52YWxpZENvbnRleHRBY2Nlc3MiLCJ3YXJuSW52YWxpZEhvb2tBY2Nlc3MiLCJub3ckMSIsImNvbW1pdFRpbWUiLCJwcm9maWxlclN0YXJ0VGltZSIsImdldENvbW1pdFRpbWUiLCJyZWNvcmRDb21taXRUaW1lIiwic3RhcnRQcm9maWxlclRpbWVyIiwiYWN0dWFsU3RhcnRUaW1lIiwic3RvcFByb2ZpbGVyVGltZXJJZlJ1bm5pbmciLCJzdG9wUHJvZmlsZXJUaW1lcklmUnVubmluZ0FuZFJlY29yZERlbHRhIiwib3ZlcnJpZGVCYXNlVGltZSIsImFjdHVhbER1cmF0aW9uIiwic2VsZkJhc2VEdXJhdGlvbiIsImh5ZHJhdGlvblBhcmVudEZpYmVyIiwibmV4dEh5ZHJhdGFibGVJbnN0YW5jZSIsImRlbGV0ZUh5ZHJhdGFibGVJbnN0YW5jZSIsInBhcmVudENvbnRhaW5lciIsImRpZE5vdEh5ZHJhdGVDb250YWluZXJJbnN0YW5jZSIsInBhcmVudFR5cGUiLCJwYXJlbnRQcm9wcyIsImRpZE5vdEh5ZHJhdGVJbnN0YW5jZSIsImNyZWF0ZUZpYmVyIiwiaW5zZXJ0Tm9uSHlkcmF0ZWRJbnN0YW5jZSIsImRpZE5vdEZpbmRIeWRyYXRhYmxlQ29udGFpbmVySW5zdGFuY2UiLCJkaWROb3RGaW5kSHlkcmF0YWJsZUNvbnRhaW5lclRleHRJbnN0YW5jZSIsImRpZE5vdEZpbmRIeWRyYXRhYmxlSW5zdGFuY2UiLCJkaWROb3RGaW5kSHlkcmF0YWJsZVRleHRJbnN0YW5jZSIsImRpZE5vdEZpbmRIeWRyYXRhYmxlU3VzcGVuc2VJbnN0YW5jZSIsInRyeUh5ZHJhdGUiLCJuZXh0SW5zdGFuY2UiLCJjYW5IeWRyYXRlSW5zdGFuY2UiLCJjYW5IeWRyYXRlVGV4dEluc3RhbmNlIiwiY2FuSHlkcmF0ZVN1c3BlbnNlSW5zdGFuY2UiLCJyZXRyeVRpbWUiLCJkZWh5ZHJhdGVkRnJhZ21lbnQiLCJkZWh5ZHJhdGVkTm9kZSIsImNyZWF0ZUZpYmVyRnJvbURlaHlkcmF0ZWRGcmFnbWVudCIsInRyeVRvQ2xhaW1OZXh0SHlkcmF0YWJsZUluc3RhbmNlIiwiZmlyc3RBdHRlbXB0ZWRJbnN0YW5jZSIsInByZXBhcmVUb0h5ZHJhdGVIb3N0VGV4dEluc3RhbmNlIiwiZGlmZkh5ZHJhdGVkVGV4dCIsImh5ZHJhdGVUZXh0SW5zdGFuY2UiLCJkaWROb3RNYXRjaEh5ZHJhdGVkQ29udGFpbmVyVGV4dEluc3RhbmNlIiwiZGlkTm90TWF0Y2hIeWRyYXRlZFRleHRJbnN0YW5jZSIsInByZXBhcmVUb0h5ZHJhdGVIb3N0U3VzcGVuc2VJbnN0YW5jZSIsImh5ZHJhdGVTdXNwZW5zZUluc3RhbmNlIiwic2tpcFBhc3REZWh5ZHJhdGVkU3VzcGVuc2VJbnN0YW5jZSIsImdldE5leHRIeWRyYXRhYmxlSW5zdGFuY2VBZnRlclN1c3BlbnNlSW5zdGFuY2UiLCJwb3BUb05leHRIb3N0UGFyZW50IiwicG9wSHlkcmF0aW9uU3RhdGUiLCJyZXNldEh5ZHJhdGlvblN0YXRlIiwiZGlkV2FybkFib3V0QmFkQ2xhc3MiLCJkaWRXYXJuQWJvdXRNb2R1bGVQYXR0ZXJuQ29tcG9uZW50IiwiZGlkV2FybkFib3V0Q29udGV4dFR5cGVPbkZ1bmN0aW9uQ29tcG9uZW50IiwiZGlkV2FybkFib3V0R2V0RGVyaXZlZFN0YXRlT25GdW5jdGlvbkNvbXBvbmVudCIsImRpZFdhcm5BYm91dEZ1bmN0aW9uUmVmcyIsImRpZFdhcm5BYm91dFJlYXNzaWduaW5nUHJvcHMiLCJkaWRXYXJuQWJvdXRNYXhEdXJhdGlvbiIsImRpZFdhcm5BYm91dFJldmVhbE9yZGVyIiwiZGlkV2FybkFib3V0VGFpbE9wdGlvbnMiLCJkaWRXYXJuQWJvdXREZWZhdWx0UHJvcHNPbkZ1bmN0aW9uQ29tcG9uZW50IiwiUmVhY3RDdXJyZW50T3duZXIkMyIsImRpZFJlY2VpdmVVcGRhdGUiLCJyZWNvbmNpbGVDaGlsZHJlbiIsIm5leHRDaGlsZHJlbiIsInVwZGF0ZUZvcndhcmRSZWYiLCJpbm5lclByb3BUeXBlcyIsImJhaWxvdXRPbkFscmVhZHlGaW5pc2hlZFdvcmsiLCJ1cGRhdGVNZW1vQ29tcG9uZW50Iiwic2hvdWxkQ29uc3RydWN0IiwiaXNTaW1wbGVGdW5jdGlvbkNvbXBvbmVudCIsImNvbXBhcmUiLCJyZXNvbHZlZFR5cGUiLCJ2YWxpZGF0ZUZ1bmN0aW9uQ29tcG9uZW50SW5EZXYiLCJ1cGRhdGVTaW1wbGVNZW1vQ29tcG9uZW50IiwiY3JlYXRlRmliZXJGcm9tVHlwZUFuZFByb3BzIiwiX2lubmVyUHJvcFR5cGVzIiwiY3VycmVudENoaWxkIiwicHJldlByb3BzIiwib3V0ZXJNZW1vVHlwZSIsIm91dGVyUHJvcFR5cGVzIiwidXBkYXRlRnVuY3Rpb25Db21wb25lbnQiLCJtYXJrUmVmIiwidXBkYXRlQ2xhc3NDb21wb25lbnQiLCJoYXNDb250ZXh0Iiwib2xkQ29udGV4dCIsImhhc05ld0xpZmVjeWNsZXMiLCJyZXN1bWVNb3VudENsYXNzSW5zdGFuY2UiLCJ1cGRhdGVDbGFzc0luc3RhbmNlIiwiZmluaXNoQ2xhc3NDb21wb25lbnQiLCJkaWRDYXB0dXJlRXJyb3IiLCJmb3JjZVVubW91bnRDdXJyZW50QW5kUmVjb25jaWxlIiwicHVzaEhvc3RSb290Q29udGV4dCIsInBlbmRpbmdDb250ZXh0IiwidXBkYXRlSG9zdFJvb3QiLCJwcmV2Q2hpbGRyZW4iLCJlbnRlckh5ZHJhdGlvblN0YXRlIiwibW91bnRMYXp5Q29tcG9uZW50IiwiX2N1cnJlbnQiLCJyZXNvbHZlZFRhZyIsInJlc29sdmVMYXp5Q29tcG9uZW50VGFnIiwicmVzb2x2ZWRQcm9wcyIsImhpbnQiLCJkZWJ1Z1NvdXJjZSIsIl9jb21wb25lbnROYW1lMiIsIl9jb21wb25lbnROYW1lMyIsIlNVU1BFTkRFRF9NQVJLRVIiLCJ1cGRhdGVTdXNwZW5zZUNvbXBvbmVudCIsInNob3VsZFN1c3BlbmRJbXBsIiwic3VzcGVuc2VDb250ZXh0IiwibmV4dERpZFRpbWVvdXQiLCJkaWRTdXNwZW5kIiwic2hvdWxkUmVtYWluT25GYWxsYmFjayIsIm1hcmtTcGF3bmVkV29yayIsIm1vdW50RGVoeWRyYXRlZFN1c3BlbnNlQ29tcG9uZW50IiwibmV4dEZhbGxiYWNrQ2hpbGRyZW4iLCJwcmltYXJ5Q2hpbGRGcmFnbWVudCIsInByb2dyZXNzZWRQcmltYXJ5Q2hpbGQiLCJwcm9ncmVzc2VkQ2hpbGQiLCJmYWxsYmFja0NoaWxkRnJhZ21lbnQiLCJuZXh0UHJpbWFyeUNoaWxkcmVuIiwiX2RlaHlkcmF0ZWQiLCJfbmV4dEZhbGxiYWNrQ2hpbGRyZW4iLCJfcHJpbWFyeUNoaWxkRnJhZ21lbnQiLCJfcHJvZ3Jlc3NlZENoaWxkIiwidHJlZUJhc2VEdXJhdGlvbiIsImhpZGRlbkNoaWxkIiwiX2ZhbGxiYWNrQ2hpbGRGcmFnbWVudCIsIndhcm5JZkh5ZHJhdGluZyIsInJldHJ5U3VzcGVuc2VDb21wb25lbnRXaXRob3V0SHlkcmF0aW5nIiwiaGFzQ29udGV4dENoYW5nZWQkJDEiLCJhdHRlbXB0SHlkcmF0aW9uQXRFeHBpcmF0aW9uVGltZSIsInJlbmRlckRpZFN1c3BlbmREZWxheUlmUG9zc2libGUiLCJyZXRyeURlaHlkcmF0ZWRTdXNwZW5zZUJvdW5kYXJ5IiwiX3JlYWN0UmV0cnkiLCJyZWVudGVySHlkcmF0aW9uU3RhdGVGcm9tRGVoeWRyYXRlZFN1c3BlbnNlSW5zdGFuY2UiLCJ1cGRhdGVEZWh5ZHJhdGVkU3VzcGVuc2VDb21wb25lbnQiLCJjdXJyZW50UHJpbWFyeUNoaWxkRnJhZ21lbnQiLCJjdXJyZW50RmFsbGJhY2tDaGlsZEZyYWdtZW50IiwiX25leHRGYWxsYmFja0NoaWxkcmVuMiIsIl9wcmltYXJ5Q2hpbGRGcmFnbWVudDIiLCJfcHJvZ3Jlc3NlZFByaW1hcnlDaGlsZCIsIl9wcm9ncmVzc2VkQ2hpbGQyIiwiX3RyZWVCYXNlRHVyYXRpb24iLCJfaGlkZGVuQ2hpbGQiLCJfZmFsbGJhY2tDaGlsZEZyYWdtZW50MiIsIl9uZXh0UHJpbWFyeUNoaWxkcmVuIiwiY3VycmVudFByaW1hcnlDaGlsZCIsInByaW1hcnlDaGlsZCIsIl9jdXJyZW50UHJpbWFyeUNoaWxkIiwiX25leHRGYWxsYmFja0NoaWxkcmVuMyIsIl9wcmltYXJ5Q2hpbGRGcmFnbWVudDMiLCJfcHJvZ3Jlc3NlZFByaW1hcnlDaGlsZDIiLCJfcHJvZ3Jlc3NlZENoaWxkMyIsIl90cmVlQmFzZUR1cmF0aW9uMiIsIl9oaWRkZW5DaGlsZDIiLCJfZmFsbGJhY2tDaGlsZEZyYWdtZW50MyIsIl9uZXh0UHJpbWFyeUNoaWxkcmVuMiIsInNjaGVkdWxlV29ya09uRmliZXIiLCJ2YWxpZGF0ZVN1c3BlbnNlTGlzdE5lc3RlZENoaWxkIiwiY2hpbGRTbG90IiwiaXNJdGVyYWJsZSIsImluaXRTdXNwZW5zZUxpc3RSZW5kZXJTdGF0ZSIsImlzQmFja3dhcmRzIiwidGFpbCIsImxhc3RDb250ZW50Um93IiwidGFpbE1vZGUiLCJsYXN0RWZmZWN0QmVmb3JlUmVuZGVyaW5nIiwicmVuZGVyU3RhdGUiLCJyZW5kZXJpbmciLCJ0YWlsRXhwaXJhdGlvbiIsInVwZGF0ZVN1c3BlbnNlTGlzdENvbXBvbmVudCIsInZhbGlkYXRlUmV2ZWFsT3JkZXIiLCJ2YWxpZGF0ZVRhaWxPcHRpb25zIiwiY2hpbGRyZW5JdGVyYXRvciIsInZhbGlkYXRlU3VzcGVuc2VMaXN0Q2hpbGRyZW4iLCJwcm9wYWdhdGVTdXNwZW5zZUNvbnRleHRDaGFuZ2UiLCJjdXJyZW50Um93IiwiZmluZExhc3RDb250ZW50Um93IiwiX3RhaWwiLCJuZXh0Um93IiwidXBkYXRlQ29udGV4dFByb3ZpZGVyIiwicHJvdmlkZXJQcm9wVHlwZXMiLCJjaGFuZ2VkQml0cyIsIm9sZFZhbHVlIiwiX2NhbGN1bGF0ZUNoYW5nZWRCaXRzIiwiY2FsY3VsYXRlQ2hhbmdlZEJpdHMiLCJuZXh0RmliZXIiLCJwYXJlbnRTdXNwZW5zZSIsInByb3BhZ2F0ZUNvbnRleHRDaGFuZ2UiLCJoYXNXYXJuZWRBYm91dFVzaW5nQ29udGV4dEFzQ29uc3VtZXIiLCJjbG9uZUNoaWxkRmliZXJzIiwiYmVnaW5Xb3JrJDEiLCJvbGRXb3JrSW5Qcm9ncmVzcyIsIm5ld1dvcmtJblByb2dyZXNzIiwicHJldlNpYmxpbmciLCJyZW1vdW50RmliZXIiLCJwcmltYXJ5Q2hpbGRFeHBpcmF0aW9uVGltZSIsImRpZFN1c3BlbmRCZWZvcmUiLCJfaGFzQ2hpbGRXb3JrIiwibW91bnRJbmRldGVybWluYXRlQ29tcG9uZW50IiwiX0NvbXBvbmVudCIsInVucmVzb2x2ZWRQcm9wcyIsIl9Db21wb25lbnQyIiwiX3VucmVzb2x2ZWRQcm9wcyIsInVwZGF0ZUhvc3RDb21wb25lbnQiLCJ1cGRhdGVIb3N0VGV4dCIsInVwZGF0ZVBvcnRhbENvbXBvbmVudCIsIl91bnJlc29sdmVkUHJvcHMyIiwidXBkYXRlTW9kZSIsInVwZGF0ZVByb2ZpbGVyIiwiQ29uc3VtZXIiLCJ1bnN0YWJsZV9vYnNlcnZlZEJpdHMiLCJ1cGRhdGVDb250ZXh0Q29uc3VtZXIiLCJfdHlwZTIiLCJfcmVzb2x2ZWRQcm9wczMiLCJfQ29tcG9uZW50MyIsIl91bnJlc29sdmVkUHJvcHM0IiwibW91bnRJbmNvbXBsZXRlQ2xhc3NDb21wb25lbnQiLCJpbXBsIiwidXBkYXRlRnVuZGFtZW50YWxDb21wb25lbnQkMSIsInVwZGF0ZVNjb3BlQ29tcG9uZW50IiwiaXNGaWJlclN1c3BlbnNlQW5kVGltZWRPdXQiLCJnZXRTdXNwZW5zZUZhbGxiYWNrQ2hpbGQiLCJhcHBlbmRBbGxDaGlsZHJlbiIsInVwZGF0ZUhvc3RDb250YWluZXIiLCJ1cGRhdGVIb3N0Q29tcG9uZW50JDEiLCJ1cGRhdGVIb3N0VGV4dCQxIiwiZW1wdHlPYmplY3QkMSIsImNvbGxlY3RTY29wZWROb2RlcyIsInNjb3BlZE5vZGVzIiwiX2luc3RhbmNlIiwiY29sbGVjdFNjb3BlZE5vZGVzRnJvbUNoaWxkcmVuIiwiY29sbGVjdEZpcnN0U2NvcGVkTm9kZSIsIl9pbnN0YW5jZTIiLCJjb2xsZWN0Rmlyc3RTY29wZWROb2RlRnJvbUNoaWxkcmVuIiwic3RhcnRpbmdDaGlsZCIsInNjb3BlZE5vZGUiLCJjb2xsZWN0TmVhcmVzdFNjb3BlTWV0aG9kcyIsImNoaWxkcmVuU2NvcGVzIiwiaXNWYWxpZFNjb3BlTm9kZSIsIm1ldGhvZHMiLCJjb2xsZWN0TmVhcmVzdENoaWxkU2NvcGVNZXRob2RzIiwiY3JlYXRlU2NvcGVNZXRob2RzIiwiZ2V0Q2hpbGRyZW4iLCJnZXRDaGlsZHJlbkZyb21Sb290IiwiZ2V0UHJvcHMiLCJxdWVyeUFsbE5vZGVzIiwicXVlcnlGaXJzdE5vZGUiLCJnZXRJbnN0YW5jZUZyb21Ob2RlJDIiLCJtYXJrVXBkYXRlIiwibWFya1JlZiQxIiwibmVlZHNWaXNpYmlsaXR5VG9nZ2xlIiwiaXNIaWRkZW4iLCJvbGRUZXh0IiwibmV3VGV4dCIsIl9wcm9wcyIsIm5ld0lzSGlkZGVuIiwicHJpbWFyeUNoaWxkUGFyZW50IiwiZmFsbGJhY2tDaGlsZFBhcmVudCIsImFwcGVuZEFsbENoaWxkcmVuVG9Db250YWluZXIiLCJjb250YWluZXJDaGlsZFNldCIsIl9pbnN0YW5jZTMiLCJfaW5zdGFuY2U0IiwiX3Byb3BzMiIsInBvcnRhbE9yUm9vdCIsIm5ld0NoaWxkU2V0IiwicGVuZGluZ0NoaWxkcmVuIiwiY2hpbGRyZW5VbmNoYW5nZWQiLCJyZWN5Y2xhYmxlSW5zdGFuY2UiLCJjdXJyZW50SG9zdENvbnRleHQiLCJuZXdJbnN0YW5jZSIsImN1dE9mZlRhaWxJZk5lZWRlZCIsImhhc1JlbmRlcmVkQVRhaWxGYWxsYmFjayIsInRhaWxOb2RlIiwibGFzdFRhaWxOb2RlIiwiX3RhaWxOb2RlIiwiX2xhc3RUYWlsTm9kZSIsImNvbXBsZXRlV29yayIsImZpYmVyUm9vdCIsInByZXBhcmVUb0h5ZHJhdGVIb3N0SW5zdGFuY2UiLCJfbGlzdGVuZXJzIiwiX3Jvb3RDb250YWluZXJJbnN0YW5jZSIsIl9jdXJyZW50SG9zdENvbnRleHQiLCJwcmV2RGlkVGltZW91dCIsImN1cnJlbnRGYWxsYmFja0NoaWxkIiwid29ya0luUHJvZ3Jlc3NSb290RXhpdFN0YXR1cyIsIlJvb3RJbmNvbXBsZXRlIiwiUm9vdFN1c3BlbmRlZCIsInN1c3BlbnNlQ2FsbGJhY2siLCJkaWRTdXNwZW5kQWxyZWFkeSIsInJlbmRlcmVkVGFpbCIsInN1c3BlbmRlZCIsIm5ld1RoZW5uYWJsZXMiLCJfc3VzcGVuZGVkIiwiX25ld1RoZW5uYWJsZXMiLCJuZXh0UHJpb3JpdHkiLCJmdW5kYW1lbnRhbEltcGwiLCJmdW5kYW1lbnRhbEluc3RhbmNlIiwiZnVuZGFtZW50YWxTdGF0ZSIsIl9pbnN0YW5jZTUiLCJnZXRJbnN0YW5jZSIsImdldEZ1bmRhbWVudGFsQ29tcG9uZW50SW5zdGFuY2UiLCJjcmVhdGVGdW5kYW1lbnRhbFN0YXRlSW5zdGFuY2UiLCJtb3VudEZ1bmRhbWVudGFsQ29tcG9uZW50IiwiX2luc3RhbmNlNiIsInNob3VsZFVwZGF0ZUZ1bmRhbWVudGFsQ29tcG9uZW50IiwiX3R5cGUzIiwic2NvcGVJbnN0YW5jZSIsIl9saXN0ZW5lcnMyIiwidW53aW5kV29yayIsIl9lZmZlY3RUYWciLCJfZWZmZWN0VGFnMiIsInVud2luZEludGVycnVwdGVkV29yayIsImludGVycnVwdGVkV29yayIsImNyZWF0ZUNhcHR1cmVkVmFsdWUiLCJkaWRXYXJuQWJvdXRVbmRlZmluZWRTbmFwc2hvdEJlZm9yZVVwZGF0ZSIsIlBvc3NpYmx5V2Vha1NldCIsImxvZ0Vycm9yIiwiYm91bmRhcnkiLCJlcnJvckluZm8iLCJjYXB0dXJlZEVycm9yIiwiY29tcG9uZW50U3RhY2siLCJlcnJvckJvdW5kYXJ5IiwiZXJyb3JCb3VuZGFyeU5hbWUiLCJlcnJvckJvdW5kYXJ5Rm91bmQiLCJ3aWxsUmV0cnkiLCJjb21iaW5lZE1lc3NhZ2UiLCJsb2dDYXB0dXJlZEVycm9yIiwiY2FsbENvbXBvbmVudFdpbGxVbm1vdW50V2l0aFRpbWVyIiwiY29tcG9uZW50V2lsbFVubW91bnQiLCJzYWZlbHlEZXRhY2hSZWYiLCJjYXB0dXJlQ29tbWl0UGhhc2VFcnJvciIsInNhZmVseUNhbGxEZXN0cm95IiwiY29tbWl0QmVmb3JlTXV0YXRpb25MaWZlQ3ljbGVzIiwiY29tbWl0SG9va0VmZmVjdExpc3QiLCJzbmFwc2hvdCIsImRpZFdhcm5TZXQiLCJfX3JlYWN0SW50ZXJuYWxTbmFwc2hvdEJlZm9yZVVwZGF0ZSIsInVubW91bnRUYWciLCJtb3VudFRhZyIsIl9kZXN0cm95IiwiY29tbWl0UGFzc2l2ZUhvb2tFZmZlY3RzIiwiY29tbWl0TGlmZUN5Y2xlcyIsImZpbmlzaGVkUm9vdCIsImNvbW1pdHRlZEV4cGlyYXRpb25UaW1lIiwiX3VwZGF0ZVF1ZXVlIiwiY29tbWl0TW91bnQiLCJvblJlbmRlciIsIm1lbW9pemVkSW50ZXJhY3Rpb25zIiwiY29tbWl0SHlkcmF0ZWRTdXNwZW5zZUluc3RhbmNlIiwiaHlkcmF0aW9uQ2FsbGJhY2tzIiwib25IeWRyYXRlZCIsImNvbW1pdFN1c3BlbnNlSHlkcmF0aW9uQ2FsbGJhY2tzIiwiY29tbWl0QXR0YWNoUmVmIiwiaW5zdGFuY2VUb1VzZSIsImNvbW1pdERldGFjaFJlZiIsImN1cnJlbnRSZWYiLCJjb21taXRVbm1vdW50IiwicmVuZGVyUHJpb3JpdHlMZXZlbCIsIm9uQ29tbWl0RmliZXJVbm1vdW50Iiwic2FmZWx5Q2FsbENvbXBvbmVudFdpbGxVbm1vdW50IiwidW5tb3VudEhvc3RDb21wb25lbnRzIiwiZW1wdHlDaGlsZFNldCIsImVtcHR5UG9ydGFsQ29udGFpbmVyIiwidW5tb3VudEZ1bmRhbWVudGFsQ29tcG9uZW50Iiwib25EZWxldGVkIiwiY29tbWl0TmVzdGVkVW5tb3VudHMiLCJpc0hvc3RQYXJlbnQiLCJjb21taXRQbGFjZW1lbnQiLCJpc0NvbnRhaW5lciIsImdldEhvc3RQYXJlbnRGaWJlciIsInBhcmVudFN0YXRlTm9kZSIsImJlZm9yZSIsInNpYmxpbmdzIiwiZ2V0SG9zdFNpYmxpbmciLCJpc0hvc3QiLCJjdXJyZW50UGFyZW50SXNDb250YWluZXIiLCJjdXJyZW50UGFyZW50SXNWYWxpZCIsImZpbmRQYXJlbnQiLCJmdW5kYW1lbnRhbE5vZGUiLCJjb21taXREZWxldGlvbiIsImRldGFjaEZpYmVyIiwiY29tbWl0V29yayIsImNvbW1pdFVwZGF0ZSIsInByZXZMaXN0ZW5lcnMiLCJuZXh0TGlzdGVuZXJzIiwiY29tbWl0VGV4dFVwZGF0ZSIsIl9yb290IiwiY29tbWl0U3VzcGVuc2VDb21wb25lbnQiLCJhdHRhY2hTdXNwZW5zZVJldHJ5TGlzdGVuZXJzIiwib25VcGRhdGUiLCJ1cGRhdGVGdW5kYW1lbnRhbENvbXBvbmVudCIsIl9uZXdQcm9wcyIsIl9wcmV2TGlzdGVuZXJzIiwiX25leHRMaXN0ZW5lcnMiLCJjb21taXRDb250YWluZXIiLCJuZXdEaWRUaW1lb3V0IiwiZ2xvYmFsTW9zdFJlY2VudEZhbGxiYWNrVGltZSIsImhpZGVPclVuaGlkZUFsbENoaWxkcmVuIiwidGhlbmFibGVzIiwicmV0cnlDYWNoZSIsInJldHJ5IiwicmVzb2x2ZVJldHJ5VGhlbmFibGUiLCJfX3JlYWN0RG9Ob3RUcmFjZUludGVyYWN0aW9ucyIsInVuc3RhYmxlX3dyYXAiLCJjb21taXRSZXNldFRleHRDb250ZW50IiwiUG9zc2libHlXZWFrTWFwJDEiLCJjcmVhdGVSb290RXJyb3JVcGRhdGUiLCJvblVuY2F1Z2h0RXJyb3IiLCJjcmVhdGVDbGFzc0Vycm9yVXBkYXRlIiwiY29tcG9uZW50RGlkQ2F0Y2giLCJsZWdhY3lFcnJvckJvdW5kYXJpZXNUaGF0QWxyZWFkeUZhaWxlZCIsImF0dGFjaFBpbmdMaXN0ZW5lciIsInRocmVhZElEcyIsInBpbmdDYWNoZSIsInBpbmciLCJwaW5nU3VzcGVuZGVkUm9vdCIsInRocm93RXhjZXB0aW9uIiwic291cmNlRmliZXIiLCJjdXJyZW50UHJpb3JpdHlMZXZlbCIsIndvcmtJblByb2dyZXNzTm9kZSIsImNvbXBvbmVudHNUaGF0VHJpZ2dlcmVkSGlnaFByaVN1c3BlbmQiLCJjaGVja0Zvcldyb25nU3VzcGVuc2VQcmlvcml0eUluREVWIiwiaGFzSW52aXNpYmxlUGFyZW50Qm91bmRhcnkiLCJfd29ya0luUHJvZ3Jlc3MiLCJSb290Q29tcGxldGVkIiwiUm9vdEVycm9yZWQiLCJfZXJyb3JJbmZvIiwiaXNBbHJlYWR5RmFpbGVkTGVnYWN5RXJyb3JCb3VuZGFyeSIsIlJlYWN0Q3VycmVudE93bmVyJDIiLCJJc1NvbWVSZW5kZXJlckFjdGluZyIsIk5vQ29udGV4dCIsIkJhdGNoZWRDb250ZXh0IiwiRXZlbnRDb250ZXh0IiwiRGlzY3JldGVFdmVudENvbnRleHQiLCJMZWdhY3lVbmJhdGNoZWRDb250ZXh0IiwiUmVuZGVyQ29udGV4dCIsIkNvbW1pdENvbnRleHQiLCJSb290RmF0YWxFcnJvcmVkIiwiUm9vdFN1c3BlbmRlZFdpdGhEZWxheSIsImV4ZWN1dGlvbkNvbnRleHQiLCJ3b3JrSW5Qcm9ncmVzc1Jvb3QiLCJ3b3JrSW5Qcm9ncmVzc1Jvb3RGYXRhbEVycm9yIiwid29ya0luUHJvZ3Jlc3NSb290TGF0ZXN0UHJvY2Vzc2VkRXhwaXJhdGlvblRpbWUiLCJ3b3JrSW5Qcm9ncmVzc1Jvb3RMYXRlc3RTdXNwZW5zZVRpbWVvdXQiLCJ3b3JrSW5Qcm9ncmVzc1Jvb3RDYW5TdXNwZW5kVXNpbmdDb25maWciLCJ3b3JrSW5Qcm9ncmVzc1Jvb3ROZXh0VW5wcm9jZXNzZWRVcGRhdGVUaW1lIiwid29ya0luUHJvZ3Jlc3NSb290SGFzUGVuZGluZ1BpbmciLCJGQUxMQkFDS19USFJPVFRMRV9NUyIsImhhc1VuY2F1Z2h0RXJyb3IiLCJmaXJzdFVuY2F1Z2h0RXJyb3IiLCJyb290RG9lc0hhdmVQYXNzaXZlRWZmZWN0cyIsInJvb3RXaXRoUGVuZGluZ1Bhc3NpdmVFZmZlY3RzIiwicGVuZGluZ1Bhc3NpdmVFZmZlY3RzUmVuZGVyUHJpb3JpdHkiLCJwZW5kaW5nUGFzc2l2ZUVmZmVjdHNFeHBpcmF0aW9uVGltZSIsInJvb3RzV2l0aFBlbmRpbmdEaXNjcmV0ZVVwZGF0ZXMiLCJORVNURURfVVBEQVRFX0xJTUlUIiwibmVzdGVkVXBkYXRlQ291bnQiLCJyb290V2l0aE5lc3RlZFVwZGF0ZXMiLCJORVNURURfUEFTU0lWRV9VUERBVEVfTElNSVQiLCJuZXN0ZWRQYXNzaXZlVXBkYXRlQ291bnQiLCJzcGF3bmVkV29ya0R1cmluZ1JlbmRlciIsImN1cnJlbnRFdmVudFRpbWUiLCJ0aW1lb3V0TXMiLCJjb21wdXRlU3VzcGVuc2VFeHBpcmF0aW9uIiwiY2hlY2tGb3JOZXN0ZWRVcGRhdGVzIiwiZGlkV2FybkFib3V0VXBkYXRlSW5HZXRDaGlsZENvbnRleHQiLCJkaWRXYXJuQWJvdXRVcGRhdGVJblJlbmRlciIsIndhcm5BYm91dEludmFsaWRVcGRhdGVzT25DbGFzc0NvbXBvbmVudHNJbkRFViIsIm1hcmtVcGRhdGVUaW1lRnJvbUZpYmVyVG9Sb290IiwiZmliZXJUaGF0UmVjZWl2ZWRVcGRhdGUiLCJzY2hlZHVsZVBlbmRpbmdJbnRlcmFjdGlvbnMiLCJwZXJmb3JtU3luY1dvcmtPblJvb3QiLCJlbnN1cmVSb290SXNTY2hlZHVsZWQiLCJsYXN0RGlzY3JldGVUaW1lIiwiZGlkV2FyblN0YXRlVXBkYXRlRm9yVW5tb3VudGVkQ29tcG9uZW50Iiwid2FybkFib3V0VXBkYXRlT25Vbm1vdW50ZWRGaWJlckluREVWIiwibWFya1Jvb3RTdXNwZW5kZWRBdFRpbWUiLCJtYXJrUm9vdFVwZGF0ZWRBdFRpbWUiLCJnZXROZXh0Um9vdEV4cGlyYXRpb25UaW1lVG9Xb3JrT24iLCJsYXN0RXhwaXJlZFRpbWUiLCJmaXJzdFBlbmRpbmdUaW1lIiwiaXNSb290U3VzcGVuZGVkQXRUaW1lIiwibGFzdFBpbmdlZFRpbWUiLCJuZXh0S25vd25QZW5kaW5nTGV2ZWwiLCJjYWxsYmFja0V4cGlyYXRpb25UaW1lIiwiY2FsbGJhY2tQcmlvcml0eSIsImNhbGxiYWNrTm9kZSIsImV4aXN0aW5nQ2FsbGJhY2tOb2RlIiwiZXhpc3RpbmdDYWxsYmFja1ByaW9yaXR5IiwiY2FuY2VsQ2FsbGJhY2siLCJwZXJmb3JtQ29uY3VycmVudFdvcmtPblJvb3QiLCJ0aW1lb3V0IiwiZGlkVGltZW91dCIsIm1hcmtSb290RXhwaXJlZEF0VGltZSIsIm9yaWdpbmFsQ2FsbGJhY2tOb2RlIiwicHJlcGFyZUZyZXNoU3RhY2siLCJzdGFydFdvcmtPblBlbmRpbmdJbnRlcmFjdGlvbnMiLCJwcmV2RXhlY3V0aW9uQ29udGV4dCIsInB1c2hEaXNwYXRjaGVyIiwicHJldkludGVyYWN0aW9ucyIsInB1c2hJbnRlcmFjdGlvbnMiLCJ3b3JrTG9vcENvbmN1cnJlbnQiLCJ0aHJvd25WYWx1ZSIsImhhbmRsZUVycm9yIiwicG9wRGlzcGF0Y2hlciIsInBvcEludGVyYWN0aW9ucyIsImZhdGFsRXJyb3IiLCJzdG9wSW50ZXJydXB0ZWRXb3JrTG9vcFRpbWVyIiwic3RvcEZpbmlzaGVkV29ya0xvb3BUaW1lciIsImZpbmlzaGVkRXhwaXJhdGlvblRpbWUiLCJleGl0U3RhdHVzIiwibGFzdFN1c3BlbmRlZFRpbWUiLCJnZXRSZW1haW5pbmdFeHBpcmF0aW9uVGltZSIsImZsdXNoU3VzcGVuc2VQcmlvcml0eVdhcm5pbmdJbkRFViIsIklzVGhpc1JlbmRlcmVyQWN0aW5nIiwibXNVbnRpbFRpbWVvdXQiLCJuZXh0VGltZSIsInRpbWVvdXRIYW5kbGUiLCJjb21taXRSb290IiwiX2xhc3RTdXNwZW5kZWRUaW1lIiwiX2xhc3RQaW5nZWRUaW1lIiwiX21zVW50aWxUaW1lb3V0IiwiX25leHRUaW1lIiwiZXZlbnRUaW1lTXMiLCJpbmZlclRpbWVGcm9tRXhwaXJhdGlvblRpbWUiLCJjdXJyZW50VGltZU1zIiwidGltZVVudGlsRXhwaXJhdGlvbk1zIiwidGltZUVsYXBzZWQiLCJqbmQiLCJfbXNVbnRpbFRpbWVvdXQyIiwibW9zdFJlY2VudEV2ZW50VGltZSIsImJ1c3lNaW5EdXJhdGlvbk1zIiwiYnVzeURlbGF5TXMiLCJpbmZlclRpbWVGcm9tRXhwaXJhdGlvblRpbWVXaXRoU3VzcGVuc2VDb25maWciLCJjb21wdXRlTXNVbnRpbFN1c3BlbnNlTG9hZGluZ0RlbGF5IiwiZmluaXNoQ29uY3VycmVudFJlbmRlciIsIndvcmtMb29wU3luYyIsImZpbmlzaFN5bmNSZW5kZXIiLCJmbHVzaERpc2NyZXRlVXBkYXRlcyIsInJvb3RzIiwiZmx1c2hQZW5kaW5nRGlzY3JldGVVcGRhdGVzIiwiYmF0Y2hlZFVwZGF0ZXMkMSIsImRpc2NyZXRlVXBkYXRlcyQxIiwidW5iYXRjaGVkVXBkYXRlcyIsImNvbXBsZXRlVW5pdE9mV29yayIsInlldEFub3RoZXJUaHJvd25WYWx1ZSIsInBlcmZvcm1Vbml0T2ZXb3JrIiwidW5pdE9mV29yayIsImJlZ2luV29yayQkMSIsInJlc2V0Q2hpbGRFeHBpcmF0aW9uVGltZSIsIl9uZXh0Iiwic2libGluZ0ZpYmVyIiwiY29tcGxldGVkV29yayIsIm5ld0NoaWxkRXhwaXJhdGlvblRpbWUiLCJzaG91bGRCdWJibGVBY3R1YWxEdXJhdGlvbnMiLCJjaGlsZFVwZGF0ZUV4cGlyYXRpb25UaW1lIiwiY2hpbGRDaGlsZEV4cGlyYXRpb25UaW1lIiwiX2NoaWxkVXBkYXRlRXhwaXJhdGlvblRpbWUiLCJfY2hpbGRDaGlsZEV4cGlyYXRpb25UaW1lIiwiY29tbWl0Um9vdEltcGwiLCJjbGVhciIsInN0YXJ0Q29tbWl0VGltZXIiLCJmaXJzdFN1c3BlbmRlZFRpbWUiLCJtYXJrUm9vdEZpbmlzaGVkQXRUaW1lIiwiY29tbWl0QmVmb3JlTXV0YXRpb25FZmZlY3RzIiwiY29tbWl0TXV0YXRpb25FZmZlY3RzIiwiX2Vycm9yIiwiY29tbWl0TGF5b3V0RWZmZWN0cyIsIl9lcnJvcjIiLCJzdG9wQ29tbWl0VGltZXIiLCJyb290RGlkSGF2ZVBhc3NpdmVFZmZlY3RzIiwibmV4dE5leHRFZmZlY3QiLCJleHBpcmF0aW9uVGltZXMiLCJzY2hlZHVsZUludGVyYWN0aW9ucyIsImZpbmlzaFBlbmRpbmdJbnRlcmFjdGlvbnMiLCJvbkNvbW1pdEZpYmVyUm9vdCIsIm9uQ29tbWl0Um9vdCIsIl9lcnJvcjMiLCJmbHVzaFBhc3NpdmVFZmZlY3RzSW1wbCIsImNhcHR1cmVDb21taXRQaGFzZUVycm9yT25Sb290Iiwicm9vdEZpYmVyIiwic3VzcGVuZGVkVGltZSIsInJldHJ5VGltZWRPdXRCb3VuZGFyeSIsImJvdW5kYXJ5RmliZXIiLCJvcmlnaW5hbFdvcmtJblByb2dyZXNzQ29weSIsImFzc2lnbkZpYmVyUHJvcGVydGllc0luREVWIiwib3JpZ2luYWxFcnJvciIsImRpZFdhcm5BYm91dFVubW9ja2VkU2NoZWR1bGVyIiwiY29tcG9uZW50TmFtZXMiLCJjb21wdXRlVGhyZWFkSUQiLCJpbnRlcmFjdGlvblRocmVhZElEIiwiaW50ZXJhY3Rpb25zIiwicGVuZGluZ0ludGVyYWN0aW9uTWFwIiwicGVuZGluZ0ludGVyYWN0aW9ucyIsImludGVyYWN0aW9uIiwiX19jb3VudCIsInN1YnNjcmliZXIiLCJfX3N1YnNjcmliZXJSZWYiLCJ0aHJlYWRJRCIsIm9uV29ya1NjaGVkdWxlZCIsInNjaGVkdWxlZEludGVyYWN0aW9ucyIsInNjaGVkdWxlZEV4cGlyYXRpb25UaW1lIiwib25Xb3JrU3RhcnRlZCIsImVhcmxpZXN0UmVtYWluaW5nVGltZUFmdGVyQ29tbWl0Iiwib25Xb3JrU3RvcHBlZCIsIm9uSW50ZXJhY3Rpb25TY2hlZHVsZWRXb3JrQ29tcGxldGVkIiwiaGFzQmFkTWFwUG9seWZpbGwiLCJoYXNMb2dnZWRFcnJvciIsImlzRGV2VG9vbHNQcmVzZW50IiwiX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fIiwiaW5qZWN0SW50ZXJuYWxzIiwiaW50ZXJuYWxzIiwiaXNEaXNhYmxlZCIsInN1cHBvcnRzRmliZXIiLCJyZW5kZXJlcklEIiwiaW5qZWN0Iiwibm9uRXh0ZW5zaWJsZU9iamVjdCIsInByZXZlbnRFeHRlbnNpb25zIiwidGVzdE1hcCIsInRlc3RTZXQiLCJkZWJ1Z0NvdW50ZXIiLCJGaWJlck5vZGUiLCJOdW1iZXIiLCJOYU4iLCJpc1JlYWN0Q29tcG9uZW50IiwiY3VycmVudERlcGVuZGVuY2llcyIsImZpYmVyVGFnIiwiZ2V0VGFnIiwiY3JlYXRlRmliZXJGcm9tUHJvZmlsZXIiLCJjcmVhdGVGaWJlckZyb21TdXNwZW5zZSIsImNyZWF0ZUZpYmVyRnJvbVN1c3BlbnNlTGlzdCIsImZ1bmRhbWVudGFsQ29tcG9uZW50IiwiY3JlYXRlRmliZXJGcm9tRnVuZGFtZW50YWwiLCJjcmVhdGVGaWJlckZyb21TY29wZSIsImVsZW1lbnRzIiwiRmliZXJSb290Tm9kZSIsInVuc3RhYmxlX2dldFRocmVhZElEIiwiY3JlYXRlRmliZXJSb290IiwidW5pbml0aWFsaXplZEZpYmVyIiwiY3JlYXRlSG9zdFJvb3RGaWJlciIsImRpZFdhcm5BYm91dE5lc3RlZFVwZGF0ZXMiLCJkaWRXYXJuQWJvdXRGaW5kTm9kZUluU3RyaWN0TW9kZSIsIlJlYWN0RmliZXJJbnN0cnVtZW50YXRpb25fMSIsImRlYnVnVG9vbCIsInBhcmVudENvbXBvbmVudCIsInVuc3RhYmxlX2ZsdXNoQWxsV2l0aG91dEFzc2VydGluZyIsIm9uTW91bnRDb250YWluZXIiLCJvblVubW91bnRDb250YWluZXIiLCJvblVwZGF0ZUNvbnRhaW5lciIsImdldENvbnRleHRGb3JTdWJ0cmVlIiwiZ2V0UHVibGljUm9vdEluc3RhbmNlIiwiY29udGFpbmVyRmliZXIiLCJtYXJrUmV0cnlUaW1lSW1wbCIsIm1hcmtSZXRyeVRpbWVJZk5vdEh5ZHJhdGVkIiwiZmluZEhvc3RJbnN0YW5jZVdpdGhOb1BvcnRhbHMiLCJob3N0RmliZXIiLCJmaW5kQ3VycmVudEhvc3RGaWJlcldpdGhOb1BvcnRhbHMiLCJvdmVycmlkZUhvb2tTdGF0ZSIsIm92ZXJyaWRlUHJvcHMiLCJzY2hlZHVsZVVwZGF0ZSIsInNldFN1c3BlbnNlSGFuZGxlciIsImNvcHlXaXRoU2V0SW1wbCIsIm9iaiIsImlkeCIsInVwZGF0ZWQiLCJjb3B5V2l0aFNldCIsIlJlYWN0RE9NUm9vdCIsIl9pbnRlcm5hbFJvb3QiLCJjcmVhdGVSb290SW1wbCIsIlJlYWN0RE9NQmxvY2tpbmdSb290IiwiaG9zdFJvb3QiLCJjcmVhdGVDb250YWluZXIiLCJoeWRyYXRpb25PcHRpb25zIiwiZWFnZXJseVRyYXBSZXBsYXlhYmxlRXZlbnRzIiwiaXNWYWxpZENvbnRhaW5lciIsIndhcm5PbkludmFsaWRDYWxsYmFjayIsIm5ld1Nob3VsZFN1c3BlbmRJbXBsIiwidW5tb3VudCIsInRvcExldmVsVXBkYXRlV2FybmluZ3MiLCJSZWFjdEN1cnJlbnRPd25lciQxIiwid2FybmVkQWJvdXRIeWRyYXRlQVBJIiwiZ2V0UmVhY3RSb290RWxlbWVudEluQ29udGFpbmVyIiwibGVnYWN5Q3JlYXRlUm9vdEZyb21ET01Db250YWluZXIiLCJmb3JjZUh5ZHJhdGUiLCJzaG91bGRIeWRyYXRlIiwicm9vdEVsZW1lbnQiLCJzaG91bGRIeWRyYXRlRHVlVG9MZWdhY3lIZXVyaXN0aWMiLCJyb290U2libGluZyIsIndhcm5lZCIsImNyZWF0ZUxlZ2FjeVJvb3QiLCJsZWdhY3lSZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lciIsIl9vcmlnaW5hbENhbGxiYWNrIiwib3JpZ2luYWxDYWxsYmFjayIsImhvc3RJbnN0YW5jZSIsImlzUm9vdFJlbmRlcmVkQnlTb21lUmVhY3QiLCJyb290RWwiLCJmbHVzaFJvb3QiLCJyZXRyeUV4cFRpbWUiLCJzZXRBdHRlbXB0VXNlckJsb2NraW5nSHlkcmF0aW9uIiwiZXhwVGltZSIsInNldEF0dGVtcHRDb250aW51b3VzSHlkcmF0aW9uIiwic2V0QXR0ZW1wdEh5ZHJhdGlvbkF0Q3VycmVudFByaW9yaXR5IiwiZGlkV2FybkFib3V0VW5zdGFibGVDcmVhdGVQb3J0YWwiLCJjcmVhdGVQb3J0YWwkJDEiLCJjcmVhdGVQb3J0YWwkMSIsInJlc3RvcmVDb250cm9sbGVkU3RhdGUkMyIsInJlc3RvcmVDb250cm9sbGVkU3RhdGUkMiIsIlJlYWN0RE9NIiwiY3JlYXRlUG9ydGFsIiwiZmluZERPTU5vZGUiLCJjb21wb25lbnRPckVsZW1lbnQiLCJtZXRob2ROYW1lIiwiZmluZEhvc3RJbnN0YW5jZVdpdGhXYXJuaW5nIiwidW5zdGFibGVfcmVuZGVyU3VidHJlZUludG9Db250YWluZXIiLCJjb250YWluZXJOb2RlIiwidW5tb3VudENvbXBvbmVudEF0Tm9kZSIsIl9yb290RWwiLCJoYXNOb25Sb290UmVhY3RDaGlsZCIsImlzQ29udGFpbmVyUmVhY3RSb290IiwidW5zdGFibGVfY3JlYXRlUG9ydGFsIiwidW5zdGFibGVfYmF0Y2hlZFVwZGF0ZXMiLCJFdmVudHMiLCJkZXZUb29sc0NvbmZpZyIsImZpbmRGaWJlckJ5SG9zdEluc3RhbmNlIiwiY3VycmVudERpc3BhdGNoZXJSZWYiLCJmaW5kSG9zdEluc3RhbmNlQnlGaWJlciIsImdldEN1cnJlbnRGaWJlciIsImluamVjdEludG9EZXZUb29scyIsImJ1bmRsZVR5cGUiLCJyZW5kZXJlclBhY2thZ2VOYW1lIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwicHJvdG9jb2wiLCJSZWFjdERPTSQyIiwiUmVhY3RET00kMyIsInJlYWN0RG9tIiwid2Fybk5vb3AiLCJwdWJsaWNJbnN0YW5jZSIsIl9jb25zdHJ1Y3RvciIsIlJlYWN0Tm9vcFVwZGF0ZVF1ZXVlIiwiY29tcGxldGVTdGF0ZSIsInNldFN0YXRlIiwiZm9yY2VVcGRhdGUiLCJkZXByZWNhdGVkQVBJcyIsInJlcGxhY2VTdGF0ZSIsImRlZmluZURlcHJlY2F0aW9uV2FybmluZyIsImZuTmFtZSIsIkNvbXBvbmVudER1bW15IiwiUHVyZUNvbXBvbmVudCIsInB1cmVDb21wb25lbnRQcm90b3R5cGUiLCJjdXJyZW50bHlWYWxpZGF0aW5nRWxlbWVudCIsInNldEN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50IiwiUmVhY3RDb21wb25lbnRUcmVlSG9vayIsInNwZWNpYWxQcm9wS2V5V2FybmluZ1Nob3duIiwic3BlY2lhbFByb3BSZWZXYXJuaW5nU2hvd24iLCJSRVNFUlZFRF9QUk9QUyIsIl9fc2VsZiIsIl9fc291cmNlIiwiaGFzVmFsaWRSZWYiLCJpc1JlYWN0V2FybmluZyIsImhhc1ZhbGlkS2V5IiwiZGVmaW5lS2V5UHJvcFdhcm5pbmdHZXR0ZXIiLCJ3YXJuQWJvdXRBY2Nlc3NpbmdLZXkiLCJkZWZpbmVSZWZQcm9wV2FybmluZ0dldHRlciIsIndhcm5BYm91dEFjY2Vzc2luZ1JlZiIsIlJlYWN0RWxlbWVudCIsImNoaWxkcmVuTGVuZ3RoIiwiY2hpbGRBcnJheSIsImNsb25lRWxlbWVudCIsIl9zZWxmIiwiaXNWYWxpZEVsZW1lbnQiLCJTRVBBUkFUT1IiLCJTVUJTRVBBUkFUT1IiLCJ1c2VyUHJvdmlkZWRLZXlFc2NhcGVSZWdleCIsImVzY2FwZVVzZXJQcm92aWRlZEtleSIsIlBPT0xfU0laRSIsInRyYXZlcnNlQ29udGV4dFBvb2wiLCJnZXRQb29sZWRUcmF2ZXJzZUNvbnRleHQiLCJtYXBSZXN1bHQiLCJrZXlQcmVmaXgiLCJtYXBGdW5jdGlvbiIsIm1hcENvbnRleHQiLCJ0cmF2ZXJzZUNvbnRleHQiLCJyZWxlYXNlVHJhdmVyc2VDb250ZXh0IiwidHJhdmVyc2VBbGxDaGlsZHJlbiIsInRyYXZlcnNlQWxsQ2hpbGRyZW5JbXBsIiwibmFtZVNvRmFyIiwiaW52b2tlQ2FsbGJhY2siLCJnZXRDb21wb25lbnRLZXkiLCJzdWJ0cmVlQ291bnQiLCJuZXh0TmFtZVByZWZpeCIsImlpIiwiY2hpbGRyZW5TdHJpbmciLCJlc2NhcGVyTG9va3VwIiwiZm9yRWFjaFNpbmdsZUNoaWxkIiwibWFwU2luZ2xlQ2hpbGRJbnRvQ29udGV4dCIsImNoaWxkS2V5Iiwib2xkRWxlbWVudCIsIm5ld0tleSIsIm1hcHBlZENoaWxkIiwibWFwSW50b1dpdGhLZXlQcmVmaXhJbnRlcm5hbCIsImVzY2FwZWRQcmVmaXgiLCJpc1ZhbGlkRWxlbWVudFR5cGUiLCJyZXNvbHZlRGlzcGF0Y2hlciIsImRpc3BhdGNoZXIiLCJwcm9wVHlwZXNNaXNzcGVsbFdhcm5pbmdTaG93biIsImdldFNvdXJjZUluZm9FcnJvckFkZGVuZHVtIiwidmFsaWRhdGVFeHBsaWNpdEtleSIsInBhcmVudE5hbWUiLCJnZXRDdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvIiwiY2hpbGRPd25lciIsInZhbGlkYXRlQ2hpbGRLZXlzIiwidmFsaWRhdGVQcm9wVHlwZXMiLCJQcm9wVHlwZXMiLCJ2YWxpZGF0ZUZyYWdtZW50UHJvcHMiLCJjcmVhdGVFbGVtZW50V2l0aFZhbGlkYXRpb24iLCJlbGVtZW50UHJvcHMiLCJ2YWxpZFR5cGUiLCJ0eXBlU3RyaW5nIiwiZnJvemVuT2JqZWN0IiwiZm9yRWFjaEZ1bmMiLCJmb3JFYWNoQ29udGV4dCIsInRvQXJyYXkiLCJvbmx5IiwiY3JlYXRlUmVmIiwiY3JlYXRlQ29udGV4dCIsIl90aHJlYWRDb3VudCIsIlByb3ZpZGVyIiwiaGFzV2FybmVkQWJvdXRVc2luZ05lc3RlZENvbnRleHRDb25zdW1lcnMiLCJoYXNXYXJuZWRBYm91dFVzaW5nQ29uc3VtZXJQcm92aWRlciIsImRlZmluZVByb3BlcnRpZXMiLCJfUHJvdmlkZXIiLCJmb3J3YXJkUmVmIiwibGF6eSIsImxhenlUeXBlIiwibmV3RGVmYXVsdFByb3BzIiwibmV3UHJvcFR5cGVzIiwibWVtbyIsImlucHV0cyIsIkNvbnRleHQiLCJyZWFsQ29udGV4dCIsIlN1c3BlbnNlIiwibmV3RWxlbWVudCIsImNyZWF0ZUZhY3RvcnkiLCJ2YWxpZGF0ZWRGYWN0b3J5IiwiUmVhY3QkMiIsIlJlYWN0JDMiLCJyZWFjdCIsIkRFRkFVTFRfVEhSRUFEX0lEIiwiaW50ZXJhY3Rpb25JRENvdW50ZXIiLCJ0aHJlYWRJRENvdW50ZXIiLCJzdWJzY3JpYmVycyIsIm9uSW50ZXJhY3Rpb25UcmFjZWQiLCJkaWRDYXRjaEVycm9yIiwib25Xb3JrQ2FuY2VsZWQiLCJ1bnN0YWJsZV9jbGVhciIsInVuc3RhYmxlX2dldEN1cnJlbnQiLCJ1bnN0YWJsZV90cmFjZSIsInRpbWVzdGFtcCIsIndyYXBwZWRJbnRlcmFjdGlvbnMiLCJoYXNSdW4iLCJ3cmFwcGVkIiwiY2FuY2VsIiwidW5zdGFibGVfc3Vic2NyaWJlIiwidW5zdGFibGVfdW5zdWJzY3JpYmUiLCJyZXF1ZXN0SG9zdENhbGxiYWNrIiwicmVxdWVzdEhvc3RUaW1lb3V0IiwiY2FuY2VsSG9zdFRpbWVvdXQiLCJzaG91bGRZaWVsZFRvSG9zdCIsImVuYWJsZVNjaGVkdWxlckRlYnVnZ2luZyIsImVuYWJsZVByb2ZpbGluZyIsIk1lc3NhZ2VDaGFubmVsIiwiX2NhbGxiYWNrIiwiX3RpbWVvdXRJRCIsIl9mbHVzaENhbGxiYWNrIiwiaW5pdGlhbFRpbWUiLCJ1bnN0YWJsZV9mb3JjZUZyYW1lUmF0ZSIsIl9EYXRlIiwiX3NldFRpbWVvdXQiLCJfY2xlYXJUaW1lb3V0IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJfaW5pdGlhbFRpbWUiLCJpc01lc3NhZ2VMb29wUnVubmluZyIsInNjaGVkdWxlZEhvc3RDYWxsYmFjayIsInRhc2tUaW1lb3V0SUQiLCJ5aWVsZEludGVydmFsIiwiZGVhZGxpbmUiLCJmcHMiLCJjaGFubmVsIiwicG9ydCIsInBvcnQyIiwicG9ydDEiLCJvbm1lc3NhZ2UiLCJwb3N0TWVzc2FnZSIsImhlYXAiLCJwYXJlbnRJbmRleCIsInNpZnRVcCIsInBlZWsiLCJsZWZ0SW5kZXgiLCJyaWdodEluZGV4IiwicmlnaHQiLCJzaWZ0RG93biIsImRpZmYiLCJzb3J0SW5kZXgiLCJydW5JZENvdW50ZXIiLCJtYWluVGhyZWFkSWRDb3VudGVyIiwic2hhcmVkUHJvZmlsaW5nQnVmZmVyIiwiU2hhcmVkQXJyYXlCdWZmZXIiLCJJbnQzMkFycmF5IiwiQllURVNfUEVSX0VMRU1FTlQiLCJBcnJheUJ1ZmZlciIsInByb2ZpbGluZ1N0YXRlIiwiUFJJT1JJVFkiLCJDVVJSRU5UX1RBU0tfSUQiLCJDVVJSRU5UX1JVTl9JRCIsIlFVRVVFX1NJWkUiLCJJTklUSUFMX0VWRU5UX0xPR19TSVpFIiwiTUFYX0VWRU5UX0xPR19TSVpFIiwiZXZlbnRMb2dTaXplIiwiZXZlbnRMb2dCdWZmZXIiLCJldmVudExvZyIsImV2ZW50TG9nSW5kZXgiLCJUYXNrU3RhcnRFdmVudCIsIlRhc2tDb21wbGV0ZUV2ZW50IiwiVGFza0Vycm9yRXZlbnQiLCJUYXNrQ2FuY2VsRXZlbnQiLCJUYXNrUnVuRXZlbnQiLCJUYXNrWWllbGRFdmVudCIsIlNjaGVkdWxlclN1c3BlbmRFdmVudCIsIlNjaGVkdWxlclJlc3VtZUV2ZW50IiwibG9nRXZlbnQiLCJzdG9wTG9nZ2luZ1Byb2ZpbGluZ0V2ZW50cyIsIm5ld0V2ZW50TG9nIiwiYnVmZmVyIiwibWFya1Rhc2tTdGFydCIsInRhc2siLCJtYXJrVGFza0NvbXBsZXRlZCIsIm1hcmtUYXNrWWllbGQiLCJJTU1FRElBVEVfUFJJT1JJVFlfVElNRU9VVCIsIlVTRVJfQkxPQ0tJTkdfUFJJT1JJVFkiLCJOT1JNQUxfUFJJT1JJVFlfVElNRU9VVCIsIkxPV19QUklPUklUWV9USU1FT1VUIiwiSURMRV9QUklPUklUWSIsInRhc2tRdWV1ZSIsInRpbWVyUXVldWUiLCJ0YXNrSWRDb3VudGVyIiwiaXNTY2hlZHVsZXJQYXVzZWQiLCJjdXJyZW50VGFzayIsImlzUGVyZm9ybWluZ1dvcmsiLCJpc0hvc3RDYWxsYmFja1NjaGVkdWxlZCIsImlzSG9zdFRpbWVvdXRTY2hlZHVsZWQiLCJhZHZhbmNlVGltZXJzIiwidGltZXIiLCJzdGFydFRpbWUiLCJpc1F1ZXVlZCIsImhhbmRsZVRpbWVvdXQiLCJmbHVzaFdvcmsiLCJmaXJzdFRpbWVyIiwiaGFzVGltZVJlbWFpbmluZyIsInByZXZpb3VzUHJpb3JpdHlMZXZlbCIsIndvcmtMb29wIiwibWFya1Rhc2tFcnJvcmVkIiwibWFya1NjaGVkdWxlclN1c3BlbmRlZCIsImRpZFVzZXJDYWxsYmFja1RpbWVvdXQiLCJjb250aW51YXRpb25DYWxsYmFjayIsInRpbWVvdXRGb3JQcmlvcml0eUxldmVsIiwidW5zdGFibGVfUHJvZmlsaW5nIiwic3RhcnRMb2dnaW5nUHJvZmlsaW5nRXZlbnRzIiwiZXZlbnRIYW5kbGVyIiwiZGVsYXkiLCJuZXdUYXNrIiwibWFya1Rhc2tDYW5jZWxlZCIsInVuc3RhYmxlX3dyYXBDYWxsYmFjayIsInBhcmVudFByaW9yaXR5TGV2ZWwiLCJmaXJzdFRhc2siLCJ1bnN0YWJsZV9jb250aW51ZUV4ZWN1dGlvbiIsInVuc3RhYmxlX3BhdXNlRXhlY3V0aW9uIiwidW5zdGFibGVfZ2V0Rmlyc3RDYWxsYmFja05vZGUiLCJnIiwiZmlyc3ROYW1lIiwibG9nIiwiZnVsbE5hbWUiLCJBcHAiLCJSZWFjdERvbSIsInF1ZXJ5U2VsZWN0b3IiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMs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NEJELEtBQy9CQyxJQUEwQixFQUMxQnJGLEVBQW9CNEYsTUF1RHhCOXFILEVBQVFrc0gsd0JBaEVSLFdBQ0U5QixJQUFvQixHQWdFdEJwcUgsRUFBUW1zSCw4QkFwRFIsV0FDRSxPQUFPaEYsRUFBSzhDLEtBb0RkanFILEVBQVF3ckgsbUJBQXFCQSxJQXYzQjNCLEk7Ozs7MkRDVEF2ckgsRUFBT0QsUUFBVSx1Q0FBUSwwRDs7OzsyRENBekJDLEVBQU9ELFFBQVUsK0NBQVEsa0U7Ozs7NENDTDNCLElBQUlvc0gsRUFHSkEsRUFBSSxXQUNILE9BQU9saUgsS0FESixHQUlKLElBRUNraUgsRUFBSUEsR0FBSyxJQUFJeGxILFNBQVMsY0FBYixHQUNSLE1BQU8xQyxHQUVjLGlCQUFYd0MsU0FBcUIwbEgsRUFBSTFsSCxRQU9yQ3pHLEVBQU9ELFFBQVVvc0gsRzs7Ozs2TkNuQkpDLEVBQW1CLGNBRWhDcjlHLFFBQVFzOUcsSUFBSSx3QkFBeUJELEVBQVV6L0csV0FBVyxNQUUxRG9DLFFBQVFzOUcsSUFBSUQsSTs7Ozs2RENKWixrREFHQXI5RyxRQUFRczlHLElBQUksY0FBZ0JELGFBRTVCLElBQU1FLEVBQVdGLFlBQVksUUFFZEUsYTs7Ozt5RENQZiw0TkFJYUMsRUFBTSxXQUNmLE9BQ0ksNkJBQ0ksb0RBQ0EsOENBQW9CRCxhQUloQ3Y5RyxRQUFRczlHLElBQUksYUFDWkcsSUFBU3J3RyxPQUFPLGtCQUFDb3dHLEVBQUQsTUFBUzduSCxTQUFTK25ILGNBQWMiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSBcIi4vc3JjL3JlYWN0LmpzeFwiKTtcbiIsInZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1vYmplY3QnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgaWYgKCFpc09iamVjdChpdCkpIHtcbiAgICB0aHJvdyBUeXBlRXJyb3IoU3RyaW5nKGl0KSArICcgaXMgbm90IGFuIG9iamVjdCcpO1xuICB9IHJldHVybiBpdDtcbn07XG4iLCJ2YXIgdG9JbmRleGVkT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLWluZGV4ZWQtb2JqZWN0Jyk7XG52YXIgdG9MZW5ndGggPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8tbGVuZ3RoJyk7XG52YXIgdG9BYnNvbHV0ZUluZGV4ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLWFic29sdXRlLWluZGV4Jyk7XG5cbi8vIGBBcnJheS5wcm90b3R5cGUueyBpbmRleE9mLCBpbmNsdWRlcyB9YCBtZXRob2RzIGltcGxlbWVudGF0aW9uXG52YXIgY3JlYXRlTWV0aG9kID0gZnVuY3Rpb24gKElTX0lOQ0xVREVTKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoJHRoaXMsIGVsLCBmcm9tSW5kZXgpIHtcbiAgICB2YXIgTyA9IHRvSW5kZXhlZE9iamVjdCgkdGhpcyk7XG4gICAgdmFyIGxlbmd0aCA9IHRvTGVuZ3RoKE8ubGVuZ3RoKTtcbiAgICB2YXIgaW5kZXggPSB0b0Fic29sdXRlSW5kZXgoZnJvbUluZGV4LCBsZW5ndGgpO1xuICAgIHZhciB2YWx1ZTtcbiAgICAvLyBBcnJheSNpbmNsdWRlcyB1c2VzIFNhbWVWYWx1ZVplcm8gZXF1YWxpdHkgYWxnb3JpdGhtXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNlbGYtY29tcGFyZVxuICAgIGlmIChJU19JTkNMVURFUyAmJiBlbCAhPSBlbCkgd2hpbGUgKGxlbmd0aCA+IGluZGV4KSB7XG4gICAgICB2YWx1ZSA9IE9baW5kZXgrK107XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2VsZi1jb21wYXJlXG4gICAgICBpZiAodmFsdWUgIT0gdmFsdWUpIHJldHVybiB0cnVlO1xuICAgIC8vIEFycmF5I2luZGV4T2YgaWdub3JlcyBob2xlcywgQXJyYXkjaW5jbHVkZXMgLSBub3RcbiAgICB9IGVsc2UgZm9yICg7bGVuZ3RoID4gaW5kZXg7IGluZGV4KyspIHtcbiAgICAgIGlmICgoSVNfSU5DTFVERVMgfHwgaW5kZXggaW4gTykgJiYgT1tpbmRleF0gPT09IGVsKSByZXR1cm4gSVNfSU5DTFVERVMgfHwgaW5kZXggfHwgMDtcbiAgICB9IHJldHVybiAhSVNfSU5DTFVERVMgJiYgLTE7XG4gIH07XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgLy8gYEFycmF5LnByb3RvdHlwZS5pbmNsdWRlc2AgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5pbmNsdWRlc1xuICBpbmNsdWRlczogY3JlYXRlTWV0aG9kKHRydWUpLFxuICAvLyBgQXJyYXkucHJvdG90eXBlLmluZGV4T2ZgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUuaW5kZXhvZlxuICBpbmRleE9mOiBjcmVhdGVNZXRob2QoZmFsc2UpXG59O1xuIiwidmFyIHRvU3RyaW5nID0ge30udG9TdHJpbmc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKGl0KS5zbGljZSg4LCAtMSk7XG59O1xuIiwidmFyIGhhcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9oYXMnKTtcbnZhciBvd25LZXlzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL293bi1rZXlzJyk7XG52YXIgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yTW9kdWxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3InKTtcbnZhciBkZWZpbmVQcm9wZXJ0eU1vZHVsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3QtZGVmaW5lLXByb3BlcnR5Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHRhcmdldCwgc291cmNlKSB7XG4gIHZhciBrZXlzID0gb3duS2V5cyhzb3VyY2UpO1xuICB2YXIgZGVmaW5lUHJvcGVydHkgPSBkZWZpbmVQcm9wZXJ0eU1vZHVsZS5mO1xuICB2YXIgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yTW9kdWxlLmY7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgIGlmICghaGFzKHRhcmdldCwga2V5KSkgZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpO1xuICB9XG59O1xuIiwidmFyIHdlbGxLbm93blN5bWJvbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy93ZWxsLWtub3duLXN5bWJvbCcpO1xuXG52YXIgTUFUQ0ggPSB3ZWxsS25vd25TeW1ib2woJ21hdGNoJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKE1FVEhPRF9OQU1FKSB7XG4gIHZhciByZWdleHAgPSAvLi87XG4gIHRyeSB7XG4gICAgJy8uLydbTUVUSE9EX05BTUVdKHJlZ2V4cCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICB0cnkge1xuICAgICAgcmVnZXhwW01BVENIXSA9IGZhbHNlO1xuICAgICAgcmV0dXJuICcvLi8nW01FVEhPRF9OQU1FXShyZWdleHApO1xuICAgIH0gY2F0Y2ggKGYpIHsgLyogZW1wdHkgKi8gfVxuICB9IHJldHVybiBmYWxzZTtcbn07XG4iLCJ2YXIgREVTQ1JJUFRPUlMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZGVzY3JpcHRvcnMnKTtcbnZhciBkZWZpbmVQcm9wZXJ0eU1vZHVsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3QtZGVmaW5lLXByb3BlcnR5Jyk7XG52YXIgY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2NyZWF0ZS1wcm9wZXJ0eS1kZXNjcmlwdG9yJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gREVTQ1JJUFRPUlMgPyBmdW5jdGlvbiAob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gIHJldHVybiBkZWZpbmVQcm9wZXJ0eU1vZHVsZS5mKG9iamVjdCwga2V5LCBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IoMSwgdmFsdWUpKTtcbn0gOiBmdW5jdGlvbiAob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gIG9iamVjdFtrZXldID0gdmFsdWU7XG4gIHJldHVybiBvYmplY3Q7XG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYml0bWFwLCB2YWx1ZSkge1xuICByZXR1cm4ge1xuICAgIGVudW1lcmFibGU6ICEoYml0bWFwICYgMSksXG4gICAgY29uZmlndXJhYmxlOiAhKGJpdG1hcCAmIDIpLFxuICAgIHdyaXRhYmxlOiAhKGJpdG1hcCAmIDQpLFxuICAgIHZhbHVlOiB2YWx1ZVxuICB9O1xufTtcbiIsInZhciBmYWlscyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mYWlscycpO1xuXG4vLyBUaGFuaydzIElFOCBmb3IgaGlzIGZ1bm55IGRlZmluZVByb3BlcnR5XG5tb2R1bGUuZXhwb3J0cyA9ICFmYWlscyhmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdhJywgeyBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIDc7IH0gfSkuYSAhPSA3O1xufSk7XG4iLCJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dsb2JhbCcpO1xudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLW9iamVjdCcpO1xuXG52YXIgZG9jdW1lbnQgPSBnbG9iYWwuZG9jdW1lbnQ7XG4vLyB0eXBlb2YgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCBpcyAnb2JqZWN0JyBpbiBvbGQgSUVcbnZhciBFWElTVFMgPSBpc09iamVjdChkb2N1bWVudCkgJiYgaXNPYmplY3QoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBFWElTVFMgPyBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGl0KSA6IHt9O1xufTtcbiIsIi8vIElFOC0gZG9uJ3QgZW51bSBidWcga2V5c1xubW9kdWxlLmV4cG9ydHMgPSBbXG4gICdjb25zdHJ1Y3RvcicsXG4gICdoYXNPd25Qcm9wZXJ0eScsXG4gICdpc1Byb3RvdHlwZU9mJyxcbiAgJ3Byb3BlcnR5SXNFbnVtZXJhYmxlJyxcbiAgJ3RvTG9jYWxlU3RyaW5nJyxcbiAgJ3RvU3RyaW5nJyxcbiAgJ3ZhbHVlT2YnXG5dO1xuIiwidmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nbG9iYWwnKTtcbnZhciBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvcicpLmY7XG52YXIgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2NyZWF0ZS1ub24tZW51bWVyYWJsZS1wcm9wZXJ0eScpO1xudmFyIHJlZGVmaW5lID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3JlZGVmaW5lJyk7XG52YXIgc2V0R2xvYmFsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3NldC1nbG9iYWwnKTtcbnZhciBjb3B5Q29uc3RydWN0b3JQcm9wZXJ0aWVzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2NvcHktY29uc3RydWN0b3ItcHJvcGVydGllcycpO1xudmFyIGlzRm9yY2VkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLWZvcmNlZCcpO1xuXG4vKlxuICBvcHRpb25zLnRhcmdldCAgICAgIC0gbmFtZSBvZiB0aGUgdGFyZ2V0IG9iamVjdFxuICBvcHRpb25zLmdsb2JhbCAgICAgIC0gdGFyZ2V0IGlzIHRoZSBnbG9iYWwgb2JqZWN0XG4gIG9wdGlvbnMuc3RhdCAgICAgICAgLSBleHBvcnQgYXMgc3RhdGljIG1ldGhvZHMgb2YgdGFyZ2V0XG4gIG9wdGlvbnMucHJvdG8gICAgICAgLSBleHBvcnQgYXMgcHJvdG90eXBlIG1ldGhvZHMgb2YgdGFyZ2V0XG4gIG9wdGlvbnMucmVhbCAgICAgICAgLSByZWFsIHByb3RvdHlwZSBtZXRob2QgZm9yIHRoZSBgcHVyZWAgdmVyc2lvblxuICBvcHRpb25zLmZvcmNlZCAgICAgIC0gZXhwb3J0IGV2ZW4gaWYgdGhlIG5hdGl2ZSBmZWF0dXJlIGlzIGF2YWlsYWJsZVxuICBvcHRpb25zLmJpbmQgICAgICAgIC0gYmluZCBtZXRob2RzIHRvIHRoZSB0YXJnZXQsIHJlcXVpcmVkIGZvciB0aGUgYHB1cmVgIHZlcnNpb25cbiAgb3B0aW9ucy53cmFwICAgICAgICAtIHdyYXAgY29uc3RydWN0b3JzIHRvIHByZXZlbnRpbmcgZ2xvYmFsIHBvbGx1dGlvbiwgcmVxdWlyZWQgZm9yIHRoZSBgcHVyZWAgdmVyc2lvblxuICBvcHRpb25zLnVuc2FmZSAgICAgIC0gdXNlIHRoZSBzaW1wbGUgYXNzaWdubWVudCBvZiBwcm9wZXJ0eSBpbnN0ZWFkIG9mIGRlbGV0ZSArIGRlZmluZVByb3BlcnR5XG4gIG9wdGlvbnMuc2hhbSAgICAgICAgLSBhZGQgYSBmbGFnIHRvIG5vdCBjb21wbGV0ZWx5IGZ1bGwgcG9seWZpbGxzXG4gIG9wdGlvbnMuZW51bWVyYWJsZSAgLSBleHBvcnQgYXMgZW51bWVyYWJsZSBwcm9wZXJ0eVxuICBvcHRpb25zLm5vVGFyZ2V0R2V0IC0gcHJldmVudCBjYWxsaW5nIGEgZ2V0dGVyIG9uIHRhcmdldFxuKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9wdGlvbnMsIHNvdXJjZSkge1xuICB2YXIgVEFSR0VUID0gb3B0aW9ucy50YXJnZXQ7XG4gIHZhciBHTE9CQUwgPSBvcHRpb25zLmdsb2JhbDtcbiAgdmFyIFNUQVRJQyA9IG9wdGlvbnMuc3RhdDtcbiAgdmFyIEZPUkNFRCwgdGFyZ2V0LCBrZXksIHRhcmdldFByb3BlcnR5LCBzb3VyY2VQcm9wZXJ0eSwgZGVzY3JpcHRvcjtcbiAgaWYgKEdMT0JBTCkge1xuICAgIHRhcmdldCA9IGdsb2JhbDtcbiAgfSBlbHNlIGlmIChTVEFUSUMpIHtcbiAgICB0YXJnZXQgPSBnbG9iYWxbVEFSR0VUXSB8fCBzZXRHbG9iYWwoVEFSR0VULCB7fSk7XG4gIH0gZWxzZSB7XG4gICAgdGFyZ2V0ID0gKGdsb2JhbFtUQVJHRVRdIHx8IHt9KS5wcm90b3R5cGU7XG4gIH1cbiAgaWYgKHRhcmdldCkgZm9yIChrZXkgaW4gc291cmNlKSB7XG4gICAgc291cmNlUHJvcGVydHkgPSBzb3VyY2Vba2V5XTtcbiAgICBpZiAob3B0aW9ucy5ub1RhcmdldEdldCkge1xuICAgICAgZGVzY3JpcHRvciA9IGdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSk7XG4gICAgICB0YXJnZXRQcm9wZXJ0eSA9IGRlc2NyaXB0b3IgJiYgZGVzY3JpcHRvci52YWx1ZTtcbiAgICB9IGVsc2UgdGFyZ2V0UHJvcGVydHkgPSB0YXJnZXRba2V5XTtcbiAgICBGT1JDRUQgPSBpc0ZvcmNlZChHTE9CQUwgPyBrZXkgOiBUQVJHRVQgKyAoU1RBVElDID8gJy4nIDogJyMnKSArIGtleSwgb3B0aW9ucy5mb3JjZWQpO1xuICAgIC8vIGNvbnRhaW5lZCBpbiB0YXJnZXRcbiAgICBpZiAoIUZPUkNFRCAmJiB0YXJnZXRQcm9wZXJ0eSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAodHlwZW9mIHNvdXJjZVByb3BlcnR5ID09PSB0eXBlb2YgdGFyZ2V0UHJvcGVydHkpIGNvbnRpbnVlO1xuICAgICAgY29weUNvbnN0cnVjdG9yUHJvcGVydGllcyhzb3VyY2VQcm9wZXJ0eSwgdGFyZ2V0UHJvcGVydHkpO1xuICAgIH1cbiAgICAvLyBhZGQgYSBmbGFnIHRvIG5vdCBjb21wbGV0ZWx5IGZ1bGwgcG9seWZpbGxzXG4gICAgaWYgKG9wdGlvbnMuc2hhbSB8fCAodGFyZ2V0UHJvcGVydHkgJiYgdGFyZ2V0UHJvcGVydHkuc2hhbSkpIHtcbiAgICAgIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eShzb3VyY2VQcm9wZXJ0eSwgJ3NoYW0nLCB0cnVlKTtcbiAgICB9XG4gICAgLy8gZXh0ZW5kIGdsb2JhbFxuICAgIHJlZGVmaW5lKHRhcmdldCwga2V5LCBzb3VyY2VQcm9wZXJ0eSwgb3B0aW9ucyk7XG4gIH1cbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChleGVjKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuICEhZXhlYygpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59O1xuIiwidmFyIHBhdGggPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvcGF0aCcpO1xudmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nbG9iYWwnKTtcblxudmFyIGFGdW5jdGlvbiA9IGZ1bmN0aW9uICh2YXJpYWJsZSkge1xuICByZXR1cm4gdHlwZW9mIHZhcmlhYmxlID09ICdmdW5jdGlvbicgPyB2YXJpYWJsZSA6IHVuZGVmaW5lZDtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG5hbWVzcGFjZSwgbWV0aG9kKSB7XG4gIHJldHVybiBhcmd1bWVudHMubGVuZ3RoIDwgMiA/IGFGdW5jdGlvbihwYXRoW25hbWVzcGFjZV0pIHx8IGFGdW5jdGlvbihnbG9iYWxbbmFtZXNwYWNlXSlcbiAgICA6IHBhdGhbbmFtZXNwYWNlXSAmJiBwYXRoW25hbWVzcGFjZV1bbWV0aG9kXSB8fCBnbG9iYWxbbmFtZXNwYWNlXSAmJiBnbG9iYWxbbmFtZXNwYWNlXVttZXRob2RdO1xufTtcbiIsInZhciBjaGVjayA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gaXQgJiYgaXQuTWF0aCA9PSBNYXRoICYmIGl0O1xufTtcblxuLy8gaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzg2I2lzc3VlY29tbWVudC0xMTU3NTkwMjhcbm1vZHVsZS5leHBvcnRzID1cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gIGNoZWNrKHR5cGVvZiBnbG9iYWxUaGlzID09ICdvYmplY3QnICYmIGdsb2JhbFRoaXMpIHx8XG4gIGNoZWNrKHR5cGVvZiB3aW5kb3cgPT0gJ29iamVjdCcgJiYgd2luZG93KSB8fFxuICBjaGVjayh0eXBlb2Ygc2VsZiA9PSAnb2JqZWN0JyAmJiBzZWxmKSB8fFxuICBjaGVjayh0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbCkgfHxcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW5ldy1mdW5jXG4gIEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG4iLCJ2YXIgaGFzT3duUHJvcGVydHkgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQsIGtleSkge1xuICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChpdCwga2V5KTtcbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHt9O1xuIiwidmFyIERFU0NSSVBUT1JTID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Rlc2NyaXB0b3JzJyk7XG52YXIgZmFpbHMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZmFpbHMnKTtcbnZhciBjcmVhdGVFbGVtZW50ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2RvY3VtZW50LWNyZWF0ZS1lbGVtZW50Jyk7XG5cbi8vIFRoYW5rJ3MgSUU4IGZvciBoaXMgZnVubnkgZGVmaW5lUHJvcGVydHlcbm1vZHVsZS5leHBvcnRzID0gIURFU0NSSVBUT1JTICYmICFmYWlscyhmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3JlYXRlRWxlbWVudCgnZGl2JyksICdhJywge1xuICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gNzsgfVxuICB9KS5hICE9IDc7XG59KTtcbiIsInZhciBmYWlscyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mYWlscycpO1xudmFyIGNsYXNzb2YgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvY2xhc3NvZi1yYXcnKTtcblxudmFyIHNwbGl0ID0gJycuc3BsaXQ7XG5cbi8vIGZhbGxiYWNrIGZvciBub24tYXJyYXktbGlrZSBFUzMgYW5kIG5vbi1lbnVtZXJhYmxlIG9sZCBWOCBzdHJpbmdzXG5tb2R1bGUuZXhwb3J0cyA9IGZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgLy8gdGhyb3dzIGFuIGVycm9yIGluIHJoaW5vLCBzZWUgaHR0cHM6Ly9naXRodWIuY29tL21vemlsbGEvcmhpbm8vaXNzdWVzLzM0NlxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zXG4gIHJldHVybiAhT2JqZWN0KCd6JykucHJvcGVydHlJc0VudW1lcmFibGUoMCk7XG59KSA/IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gY2xhc3NvZihpdCkgPT0gJ1N0cmluZycgPyBzcGxpdC5jYWxsKGl0LCAnJykgOiBPYmplY3QoaXQpO1xufSA6IE9iamVjdDtcbiIsInZhciBzdG9yZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9zaGFyZWQtc3RvcmUnKTtcblxudmFyIGZ1bmN0aW9uVG9TdHJpbmcgPSBGdW5jdGlvbi50b1N0cmluZztcblxuLy8gdGhpcyBoZWxwZXIgYnJva2VuIGluIGAzLjQuMS0zLjQuNGAsIHNvIHdlIGNhbid0IHVzZSBgc2hhcmVkYCBoZWxwZXJcbmlmICh0eXBlb2Ygc3RvcmUuaW5zcGVjdFNvdXJjZSAhPSAnZnVuY3Rpb24nKSB7XG4gIHN0b3JlLmluc3BlY3RTb3VyY2UgPSBmdW5jdGlvbiAoaXQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb25Ub1N0cmluZy5jYWxsKGl0KTtcbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzdG9yZS5pbnNwZWN0U291cmNlO1xuIiwidmFyIE5BVElWRV9XRUFLX01BUCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9uYXRpdmUtd2Vhay1tYXAnKTtcbnZhciBnbG9iYWwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2xvYmFsJyk7XG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtb2JqZWN0Jyk7XG52YXIgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2NyZWF0ZS1ub24tZW51bWVyYWJsZS1wcm9wZXJ0eScpO1xudmFyIG9iamVjdEhhcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9oYXMnKTtcbnZhciBzaGFyZWRLZXkgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvc2hhcmVkLWtleScpO1xudmFyIGhpZGRlbktleXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaGlkZGVuLWtleXMnKTtcblxudmFyIFdlYWtNYXAgPSBnbG9iYWwuV2Vha01hcDtcbnZhciBzZXQsIGdldCwgaGFzO1xuXG52YXIgZW5mb3JjZSA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gaGFzKGl0KSA/IGdldChpdCkgOiBzZXQoaXQsIHt9KTtcbn07XG5cbnZhciBnZXR0ZXJGb3IgPSBmdW5jdGlvbiAoVFlQRSkge1xuICByZXR1cm4gZnVuY3Rpb24gKGl0KSB7XG4gICAgdmFyIHN0YXRlO1xuICAgIGlmICghaXNPYmplY3QoaXQpIHx8IChzdGF0ZSA9IGdldChpdCkpLnR5cGUgIT09IFRZUEUpIHtcbiAgICAgIHRocm93IFR5cGVFcnJvcignSW5jb21wYXRpYmxlIHJlY2VpdmVyLCAnICsgVFlQRSArICcgcmVxdWlyZWQnKTtcbiAgICB9IHJldHVybiBzdGF0ZTtcbiAgfTtcbn07XG5cbmlmIChOQVRJVkVfV0VBS19NQVApIHtcbiAgdmFyIHN0b3JlID0gbmV3IFdlYWtNYXAoKTtcbiAgdmFyIHdtZ2V0ID0gc3RvcmUuZ2V0O1xuICB2YXIgd21oYXMgPSBzdG9yZS5oYXM7XG4gIHZhciB3bXNldCA9IHN0b3JlLnNldDtcbiAgc2V0ID0gZnVuY3Rpb24gKGl0LCBtZXRhZGF0YSkge1xuICAgIHdtc2V0LmNhbGwoc3RvcmUsIGl0LCBtZXRhZGF0YSk7XG4gICAgcmV0dXJuIG1ldGFkYXRhO1xuICB9O1xuICBnZXQgPSBmdW5jdGlvbiAoaXQpIHtcbiAgICByZXR1cm4gd21nZXQuY2FsbChzdG9yZSwgaXQpIHx8IHt9O1xuICB9O1xuICBoYXMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgICByZXR1cm4gd21oYXMuY2FsbChzdG9yZSwgaXQpO1xuICB9O1xufSBlbHNlIHtcbiAgdmFyIFNUQVRFID0gc2hhcmVkS2V5KCdzdGF0ZScpO1xuICBoaWRkZW5LZXlzW1NUQVRFXSA9IHRydWU7XG4gIHNldCA9IGZ1bmN0aW9uIChpdCwgbWV0YWRhdGEpIHtcbiAgICBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkoaXQsIFNUQVRFLCBtZXRhZGF0YSk7XG4gICAgcmV0dXJuIG1ldGFkYXRhO1xuICB9O1xuICBnZXQgPSBmdW5jdGlvbiAoaXQpIHtcbiAgICByZXR1cm4gb2JqZWN0SGFzKGl0LCBTVEFURSkgPyBpdFtTVEFURV0gOiB7fTtcbiAgfTtcbiAgaGFzID0gZnVuY3Rpb24gKGl0KSB7XG4gICAgcmV0dXJuIG9iamVjdEhhcyhpdCwgU1RBVEUpO1xuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgc2V0OiBzZXQsXG4gIGdldDogZ2V0LFxuICBoYXM6IGhhcyxcbiAgZW5mb3JjZTogZW5mb3JjZSxcbiAgZ2V0dGVyRm9yOiBnZXR0ZXJGb3Jcbn07XG4iLCJ2YXIgZmFpbHMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZmFpbHMnKTtcblxudmFyIHJlcGxhY2VtZW50ID0gLyN8XFwucHJvdG90eXBlXFwuLztcblxudmFyIGlzRm9yY2VkID0gZnVuY3Rpb24gKGZlYXR1cmUsIGRldGVjdGlvbikge1xuICB2YXIgdmFsdWUgPSBkYXRhW25vcm1hbGl6ZShmZWF0dXJlKV07XG4gIHJldHVybiB2YWx1ZSA9PSBQT0xZRklMTCA/IHRydWVcbiAgICA6IHZhbHVlID09IE5BVElWRSA/IGZhbHNlXG4gICAgOiB0eXBlb2YgZGV0ZWN0aW9uID09ICdmdW5jdGlvbicgPyBmYWlscyhkZXRlY3Rpb24pXG4gICAgOiAhIWRldGVjdGlvbjtcbn07XG5cbnZhciBub3JtYWxpemUgPSBpc0ZvcmNlZC5ub3JtYWxpemUgPSBmdW5jdGlvbiAoc3RyaW5nKSB7XG4gIHJldHVybiBTdHJpbmcoc3RyaW5nKS5yZXBsYWNlKHJlcGxhY2VtZW50LCAnLicpLnRvTG93ZXJDYXNlKCk7XG59O1xuXG52YXIgZGF0YSA9IGlzRm9yY2VkLmRhdGEgPSB7fTtcbnZhciBOQVRJVkUgPSBpc0ZvcmNlZC5OQVRJVkUgPSAnTic7XG52YXIgUE9MWUZJTEwgPSBpc0ZvcmNlZC5QT0xZRklMTCA9ICdQJztcblxubW9kdWxlLmV4cG9ydHMgPSBpc0ZvcmNlZDtcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiB0eXBlb2YgaXQgPT09ICdvYmplY3QnID8gaXQgIT09IG51bGwgOiB0eXBlb2YgaXQgPT09ICdmdW5jdGlvbic7XG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPSBmYWxzZTtcbiIsInZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1vYmplY3QnKTtcbnZhciBjbGFzc29mID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2NsYXNzb2YtcmF3Jyk7XG52YXIgd2VsbEtub3duU3ltYm9sID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3dlbGwta25vd24tc3ltYm9sJyk7XG5cbnZhciBNQVRDSCA9IHdlbGxLbm93blN5bWJvbCgnbWF0Y2gnKTtcblxuLy8gYElzUmVnRXhwYCBhYnN0cmFjdCBvcGVyYXRpb25cbi8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLWlzcmVnZXhwXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICB2YXIgaXNSZWdFeHA7XG4gIHJldHVybiBpc09iamVjdChpdCkgJiYgKChpc1JlZ0V4cCA9IGl0W01BVENIXSkgIT09IHVuZGVmaW5lZCA/ICEhaXNSZWdFeHAgOiBjbGFzc29mKGl0KSA9PSAnUmVnRXhwJyk7XG59O1xuIiwidmFyIGZhaWxzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2ZhaWxzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gISFPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzICYmICFmYWlscyhmdW5jdGlvbiAoKSB7XG4gIC8vIENocm9tZSAzOCBTeW1ib2wgaGFzIGluY29ycmVjdCB0b1N0cmluZyBjb252ZXJzaW9uXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICByZXR1cm4gIVN0cmluZyhTeW1ib2woKSk7XG59KTtcbiIsInZhciBnbG9iYWwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2xvYmFsJyk7XG52YXIgaW5zcGVjdFNvdXJjZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pbnNwZWN0LXNvdXJjZScpO1xuXG52YXIgV2Vha01hcCA9IGdsb2JhbC5XZWFrTWFwO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHR5cGVvZiBXZWFrTWFwID09PSAnZnVuY3Rpb24nICYmIC9uYXRpdmUgY29kZS8udGVzdChpbnNwZWN0U291cmNlKFdlYWtNYXApKTtcbiIsInZhciBpc1JlZ0V4cCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1yZWdleHAnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgaWYgKGlzUmVnRXhwKGl0KSkge1xuICAgIHRocm93IFR5cGVFcnJvcihcIlRoZSBtZXRob2QgZG9lc24ndCBhY2NlcHQgcmVndWxhciBleHByZXNzaW9uc1wiKTtcbiAgfSByZXR1cm4gaXQ7XG59O1xuIiwidmFyIERFU0NSSVBUT1JTID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Rlc2NyaXB0b3JzJyk7XG52YXIgSUU4X0RPTV9ERUZJTkUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaWU4LWRvbS1kZWZpbmUnKTtcbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hbi1vYmplY3QnKTtcbnZhciB0b1ByaW1pdGl2ZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1wcmltaXRpdmUnKTtcblxudmFyIG5hdGl2ZURlZmluZVByb3BlcnR5ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xuXG4vLyBgT2JqZWN0LmRlZmluZVByb3BlcnR5YCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLW9iamVjdC5kZWZpbmVwcm9wZXJ0eVxuZXhwb3J0cy5mID0gREVTQ1JJUFRPUlMgPyBuYXRpdmVEZWZpbmVQcm9wZXJ0eSA6IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KE8sIFAsIEF0dHJpYnV0ZXMpIHtcbiAgYW5PYmplY3QoTyk7XG4gIFAgPSB0b1ByaW1pdGl2ZShQLCB0cnVlKTtcbiAgYW5PYmplY3QoQXR0cmlidXRlcyk7XG4gIGlmIChJRThfRE9NX0RFRklORSkgdHJ5IHtcbiAgICByZXR1cm4gbmF0aXZlRGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcyk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7IC8qIGVtcHR5ICovIH1cbiAgaWYgKCdnZXQnIGluIEF0dHJpYnV0ZXMgfHwgJ3NldCcgaW4gQXR0cmlidXRlcykgdGhyb3cgVHlwZUVycm9yKCdBY2Nlc3NvcnMgbm90IHN1cHBvcnRlZCcpO1xuICBpZiAoJ3ZhbHVlJyBpbiBBdHRyaWJ1dGVzKSBPW1BdID0gQXR0cmlidXRlcy52YWx1ZTtcbiAgcmV0dXJuIE87XG59O1xuIiwidmFyIERFU0NSSVBUT1JTID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Rlc2NyaXB0b3JzJyk7XG52YXIgcHJvcGVydHlJc0VudW1lcmFibGVNb2R1bGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LXByb3BlcnR5LWlzLWVudW1lcmFibGUnKTtcbnZhciBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvY3JlYXRlLXByb3BlcnR5LWRlc2NyaXB0b3InKTtcbnZhciB0b0luZGV4ZWRPYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8taW5kZXhlZC1vYmplY3QnKTtcbnZhciB0b1ByaW1pdGl2ZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1wcmltaXRpdmUnKTtcbnZhciBoYXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaGFzJyk7XG52YXIgSUU4X0RPTV9ERUZJTkUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaWU4LWRvbS1kZWZpbmUnKTtcblxudmFyIG5hdGl2ZUdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG5cbi8vIGBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLW9iamVjdC5nZXRvd25wcm9wZXJ0eWRlc2NyaXB0b3JcbmV4cG9ydHMuZiA9IERFU0NSSVBUT1JTID8gbmF0aXZlR2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIDogZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE8sIFApIHtcbiAgTyA9IHRvSW5kZXhlZE9iamVjdChPKTtcbiAgUCA9IHRvUHJpbWl0aXZlKFAsIHRydWUpO1xuICBpZiAoSUU4X0RPTV9ERUZJTkUpIHRyeSB7XG4gICAgcmV0dXJuIG5hdGl2ZUdldE93blByb3BlcnR5RGVzY3JpcHRvcihPLCBQKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHsgLyogZW1wdHkgKi8gfVxuICBpZiAoaGFzKE8sIFApKSByZXR1cm4gY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yKCFwcm9wZXJ0eUlzRW51bWVyYWJsZU1vZHVsZS5mLmNhbGwoTywgUCksIE9bUF0pO1xufTtcbiIsInZhciBpbnRlcm5hbE9iamVjdEtleXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWtleXMtaW50ZXJuYWwnKTtcbnZhciBlbnVtQnVnS2V5cyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9lbnVtLWJ1Zy1rZXlzJyk7XG5cbnZhciBoaWRkZW5LZXlzID0gZW51bUJ1Z0tleXMuY29uY2F0KCdsZW5ndGgnLCAncHJvdG90eXBlJyk7XG5cbi8vIGBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lc2AgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1vYmplY3QuZ2V0b3ducHJvcGVydHluYW1lc1xuZXhwb3J0cy5mID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMgfHwgZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhPKSB7XG4gIHJldHVybiBpbnRlcm5hbE9iamVjdEtleXMoTywgaGlkZGVuS2V5cyk7XG59O1xuIiwiZXhwb3J0cy5mID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbiIsInZhciBoYXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaGFzJyk7XG52YXIgdG9JbmRleGVkT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLWluZGV4ZWQtb2JqZWN0Jyk7XG52YXIgaW5kZXhPZiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hcnJheS1pbmNsdWRlcycpLmluZGV4T2Y7XG52YXIgaGlkZGVuS2V5cyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9oaWRkZW4ta2V5cycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvYmplY3QsIG5hbWVzKSB7XG4gIHZhciBPID0gdG9JbmRleGVkT2JqZWN0KG9iamVjdCk7XG4gIHZhciBpID0gMDtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICB2YXIga2V5O1xuICBmb3IgKGtleSBpbiBPKSAhaGFzKGhpZGRlbktleXMsIGtleSkgJiYgaGFzKE8sIGtleSkgJiYgcmVzdWx0LnB1c2goa2V5KTtcbiAgLy8gRG9uJ3QgZW51bSBidWcgJiBoaWRkZW4ga2V5c1xuICB3aGlsZSAobmFtZXMubGVuZ3RoID4gaSkgaWYgKGhhcyhPLCBrZXkgPSBuYW1lc1tpKytdKSkge1xuICAgIH5pbmRleE9mKHJlc3VsdCwga2V5KSB8fCByZXN1bHQucHVzaChrZXkpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyIG5hdGl2ZVByb3BlcnR5SXNFbnVtZXJhYmxlID0ge30ucHJvcGVydHlJc0VudW1lcmFibGU7XG52YXIgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcblxuLy8gTmFzaG9ybiB+IEpESzggYnVnXG52YXIgTkFTSE9STl9CVUcgPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgJiYgIW5hdGl2ZVByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoeyAxOiAyIH0sIDEpO1xuXG4vLyBgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZWAgbWV0aG9kIGltcGxlbWVudGF0aW9uXG4vLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1vYmplY3QucHJvdG90eXBlLnByb3BlcnR5aXNlbnVtZXJhYmxlXG5leHBvcnRzLmYgPSBOQVNIT1JOX0JVRyA/IGZ1bmN0aW9uIHByb3BlcnR5SXNFbnVtZXJhYmxlKFYpIHtcbiAgdmFyIGRlc2NyaXB0b3IgPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGhpcywgVik7XG4gIHJldHVybiAhIWRlc2NyaXB0b3IgJiYgZGVzY3JpcHRvci5lbnVtZXJhYmxlO1xufSA6IG5hdGl2ZVByb3BlcnR5SXNFbnVtZXJhYmxlO1xuIiwidmFyIGdldEJ1aWx0SW4gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2V0LWJ1aWx0LWluJyk7XG52YXIgZ2V0T3duUHJvcGVydHlOYW1lc01vZHVsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3QtZ2V0LW93bi1wcm9wZXJ0eS1uYW1lcycpO1xudmFyIGdldE93blByb3BlcnR5U3ltYm9sc01vZHVsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3QtZ2V0LW93bi1wcm9wZXJ0eS1zeW1ib2xzJyk7XG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYW4tb2JqZWN0Jyk7XG5cbi8vIGFsbCBvYmplY3Qga2V5cywgaW5jbHVkZXMgbm9uLWVudW1lcmFibGUgYW5kIHN5bWJvbHNcbm1vZHVsZS5leHBvcnRzID0gZ2V0QnVpbHRJbignUmVmbGVjdCcsICdvd25LZXlzJykgfHwgZnVuY3Rpb24gb3duS2V5cyhpdCkge1xuICB2YXIga2V5cyA9IGdldE93blByb3BlcnR5TmFtZXNNb2R1bGUuZihhbk9iamVjdChpdCkpO1xuICB2YXIgZ2V0T3duUHJvcGVydHlTeW1ib2xzID0gZ2V0T3duUHJvcGVydHlTeW1ib2xzTW9kdWxlLmY7XG4gIHJldHVybiBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPyBrZXlzLmNvbmNhdChnZXRPd25Qcm9wZXJ0eVN5bWJvbHMoaXQpKSA6IGtleXM7XG59O1xuIiwidmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nbG9iYWwnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBnbG9iYWw7XG4iLCJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dsb2JhbCcpO1xudmFyIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9jcmVhdGUtbm9uLWVudW1lcmFibGUtcHJvcGVydHknKTtcbnZhciBoYXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaGFzJyk7XG52YXIgc2V0R2xvYmFsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3NldC1nbG9iYWwnKTtcbnZhciBpbnNwZWN0U291cmNlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2luc3BlY3Qtc291cmNlJyk7XG52YXIgSW50ZXJuYWxTdGF0ZU1vZHVsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pbnRlcm5hbC1zdGF0ZScpO1xuXG52YXIgZ2V0SW50ZXJuYWxTdGF0ZSA9IEludGVybmFsU3RhdGVNb2R1bGUuZ2V0O1xudmFyIGVuZm9yY2VJbnRlcm5hbFN0YXRlID0gSW50ZXJuYWxTdGF0ZU1vZHVsZS5lbmZvcmNlO1xudmFyIFRFTVBMQVRFID0gU3RyaW5nKFN0cmluZykuc3BsaXQoJ1N0cmluZycpO1xuXG4obW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoTywga2V5LCB2YWx1ZSwgb3B0aW9ucykge1xuICB2YXIgdW5zYWZlID0gb3B0aW9ucyA/ICEhb3B0aW9ucy51bnNhZmUgOiBmYWxzZTtcbiAgdmFyIHNpbXBsZSA9IG9wdGlvbnMgPyAhIW9wdGlvbnMuZW51bWVyYWJsZSA6IGZhbHNlO1xuICB2YXIgbm9UYXJnZXRHZXQgPSBvcHRpb25zID8gISFvcHRpb25zLm5vVGFyZ2V0R2V0IDogZmFsc2U7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT0gJ2Z1bmN0aW9uJykge1xuICAgIGlmICh0eXBlb2Yga2V5ID09ICdzdHJpbmcnICYmICFoYXModmFsdWUsICduYW1lJykpIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eSh2YWx1ZSwgJ25hbWUnLCBrZXkpO1xuICAgIGVuZm9yY2VJbnRlcm5hbFN0YXRlKHZhbHVlKS5zb3VyY2UgPSBURU1QTEFURS5qb2luKHR5cGVvZiBrZXkgPT0gJ3N0cmluZycgPyBrZXkgOiAnJyk7XG4gIH1cbiAgaWYgKE8gPT09IGdsb2JhbCkge1xuICAgIGlmIChzaW1wbGUpIE9ba2V5XSA9IHZhbHVlO1xuICAgIGVsc2Ugc2V0R2xvYmFsKGtleSwgdmFsdWUpO1xuICAgIHJldHVybjtcbiAgfSBlbHNlIGlmICghdW5zYWZlKSB7XG4gICAgZGVsZXRlIE9ba2V5XTtcbiAgfSBlbHNlIGlmICghbm9UYXJnZXRHZXQgJiYgT1trZXldKSB7XG4gICAgc2ltcGxlID0gdHJ1ZTtcbiAgfVxuICBpZiAoc2ltcGxlKSBPW2tleV0gPSB2YWx1ZTtcbiAgZWxzZSBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkoTywga2V5LCB2YWx1ZSk7XG4vLyBhZGQgZmFrZSBGdW5jdGlvbiN0b1N0cmluZyBmb3IgY29ycmVjdCB3b3JrIHdyYXBwZWQgbWV0aG9kcyAvIGNvbnN0cnVjdG9ycyB3aXRoIG1ldGhvZHMgbGlrZSBMb0Rhc2ggaXNOYXRpdmVcbn0pKEZ1bmN0aW9uLnByb3RvdHlwZSwgJ3RvU3RyaW5nJywgZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gIHJldHVybiB0eXBlb2YgdGhpcyA9PSAnZnVuY3Rpb24nICYmIGdldEludGVybmFsU3RhdGUodGhpcykuc291cmNlIHx8IGluc3BlY3RTb3VyY2UodGhpcyk7XG59KTtcbiIsIi8vIGBSZXF1aXJlT2JqZWN0Q29lcmNpYmxlYCBhYnN0cmFjdCBvcGVyYXRpb25cbi8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLXJlcXVpcmVvYmplY3Rjb2VyY2libGVcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIGlmIChpdCA9PSB1bmRlZmluZWQpIHRocm93IFR5cGVFcnJvcihcIkNhbid0IGNhbGwgbWV0aG9kIG9uIFwiICsgaXQpO1xuICByZXR1cm4gaXQ7XG59O1xuIiwidmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nbG9iYWwnKTtcbnZhciBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvY3JlYXRlLW5vbi1lbnVtZXJhYmxlLXByb3BlcnR5Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgdHJ5IHtcbiAgICBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkoZ2xvYmFsLCBrZXksIHZhbHVlKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBnbG9iYWxba2V5XSA9IHZhbHVlO1xuICB9IHJldHVybiB2YWx1ZTtcbn07XG4iLCJ2YXIgc2hhcmVkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3NoYXJlZCcpO1xudmFyIHVpZCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy91aWQnKTtcblxudmFyIGtleXMgPSBzaGFyZWQoJ2tleXMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoa2V5KSB7XG4gIHJldHVybiBrZXlzW2tleV0gfHwgKGtleXNba2V5XSA9IHVpZChrZXkpKTtcbn07XG4iLCJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dsb2JhbCcpO1xudmFyIHNldEdsb2JhbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9zZXQtZ2xvYmFsJyk7XG5cbnZhciBTSEFSRUQgPSAnX19jb3JlLWpzX3NoYXJlZF9fJztcbnZhciBzdG9yZSA9IGdsb2JhbFtTSEFSRURdIHx8IHNldEdsb2JhbChTSEFSRUQsIHt9KTtcblxubW9kdWxlLmV4cG9ydHMgPSBzdG9yZTtcbiIsInZhciBJU19QVVJFID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLXB1cmUnKTtcbnZhciBzdG9yZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9zaGFyZWQtc3RvcmUnKTtcblxuKG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgcmV0dXJuIHN0b3JlW2tleV0gfHwgKHN0b3JlW2tleV0gPSB2YWx1ZSAhPT0gdW5kZWZpbmVkID8gdmFsdWUgOiB7fSk7XG59KSgndmVyc2lvbnMnLCBbXSkucHVzaCh7XG4gIHZlcnNpb246ICczLjYuMCcsXG4gIG1vZGU6IElTX1BVUkUgPyAncHVyZScgOiAnZ2xvYmFsJyxcbiAgY29weXJpZ2h0OiAnwqkgMjAxOSBEZW5pcyBQdXNoa2FyZXYgKHpsb2lyb2NrLnJ1KSdcbn0pO1xuIiwidmFyIHRvSW50ZWdlciA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1pbnRlZ2VyJyk7XG5cbnZhciBtYXggPSBNYXRoLm1heDtcbnZhciBtaW4gPSBNYXRoLm1pbjtcblxuLy8gSGVscGVyIGZvciBhIHBvcHVsYXIgcmVwZWF0aW5nIGNhc2Ugb2YgdGhlIHNwZWM6XG4vLyBMZXQgaW50ZWdlciBiZSA/IFRvSW50ZWdlcihpbmRleCkuXG4vLyBJZiBpbnRlZ2VyIDwgMCwgbGV0IHJlc3VsdCBiZSBtYXgoKGxlbmd0aCArIGludGVnZXIpLCAwKTsgZWxzZSBsZXQgcmVzdWx0IGJlIG1pbihpbnRlZ2VyLCBsZW5ndGgpLlxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaW5kZXgsIGxlbmd0aCkge1xuICB2YXIgaW50ZWdlciA9IHRvSW50ZWdlcihpbmRleCk7XG4gIHJldHVybiBpbnRlZ2VyIDwgMCA/IG1heChpbnRlZ2VyICsgbGVuZ3RoLCAwKSA6IG1pbihpbnRlZ2VyLCBsZW5ndGgpO1xufTtcbiIsIi8vIHRvT2JqZWN0IHdpdGggZmFsbGJhY2sgZm9yIG5vbi1hcnJheS1saWtlIEVTMyBzdHJpbmdzXG52YXIgSW5kZXhlZE9iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pbmRleGVkLW9iamVjdCcpO1xudmFyIHJlcXVpcmVPYmplY3RDb2VyY2libGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvcmVxdWlyZS1vYmplY3QtY29lcmNpYmxlJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBJbmRleGVkT2JqZWN0KHJlcXVpcmVPYmplY3RDb2VyY2libGUoaXQpKTtcbn07XG4iLCJ2YXIgY2VpbCA9IE1hdGguY2VpbDtcbnZhciBmbG9vciA9IE1hdGguZmxvb3I7XG5cbi8vIGBUb0ludGVnZXJgIGFic3RyYWN0IG9wZXJhdGlvblxuLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtdG9pbnRlZ2VyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChhcmd1bWVudCkge1xuICByZXR1cm4gaXNOYU4oYXJndW1lbnQgPSArYXJndW1lbnQpID8gMCA6IChhcmd1bWVudCA+IDAgPyBmbG9vciA6IGNlaWwpKGFyZ3VtZW50KTtcbn07XG4iLCJ2YXIgdG9JbnRlZ2VyID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLWludGVnZXInKTtcblxudmFyIG1pbiA9IE1hdGgubWluO1xuXG4vLyBgVG9MZW5ndGhgIGFic3RyYWN0IG9wZXJhdGlvblxuLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtdG9sZW5ndGhcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gIHJldHVybiBhcmd1bWVudCA+IDAgPyBtaW4odG9JbnRlZ2VyKGFyZ3VtZW50KSwgMHgxRkZGRkZGRkZGRkZGRikgOiAwOyAvLyAyICoqIDUzIC0gMSA9PSA5MDA3MTk5MjU0NzQwOTkxXG59O1xuIiwidmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLW9iamVjdCcpO1xuXG4vLyBgVG9QcmltaXRpdmVgIGFic3RyYWN0IG9wZXJhdGlvblxuLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtdG9wcmltaXRpdmVcbi8vIGluc3RlYWQgb2YgdGhlIEVTNiBzcGVjIHZlcnNpb24sIHdlIGRpZG4ndCBpbXBsZW1lbnQgQEB0b1ByaW1pdGl2ZSBjYXNlXG4vLyBhbmQgdGhlIHNlY29uZCBhcmd1bWVudCAtIGZsYWcgLSBwcmVmZXJyZWQgdHlwZSBpcyBhIHN0cmluZ1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaW5wdXQsIFBSRUZFUlJFRF9TVFJJTkcpIHtcbiAgaWYgKCFpc09iamVjdChpbnB1dCkpIHJldHVybiBpbnB1dDtcbiAgdmFyIGZuLCB2YWw7XG4gIGlmIChQUkVGRVJSRURfU1RSSU5HICYmIHR5cGVvZiAoZm4gPSBpbnB1dC50b1N0cmluZykgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNPYmplY3QodmFsID0gZm4uY2FsbChpbnB1dCkpKSByZXR1cm4gdmFsO1xuICBpZiAodHlwZW9mIChmbiA9IGlucHV0LnZhbHVlT2YpID09ICdmdW5jdGlvbicgJiYgIWlzT2JqZWN0KHZhbCA9IGZuLmNhbGwoaW5wdXQpKSkgcmV0dXJuIHZhbDtcbiAgaWYgKCFQUkVGRVJSRURfU1RSSU5HICYmIHR5cGVvZiAoZm4gPSBpbnB1dC50b1N0cmluZykgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNPYmplY3QodmFsID0gZm4uY2FsbChpbnB1dCkpKSByZXR1cm4gdmFsO1xuICB0aHJvdyBUeXBlRXJyb3IoXCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWVcIik7XG59O1xuIiwidmFyIGlkID0gMDtcbnZhciBwb3N0Zml4ID0gTWF0aC5yYW5kb20oKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoa2V5KSB7XG4gIHJldHVybiAnU3ltYm9sKCcgKyBTdHJpbmcoa2V5ID09PSB1bmRlZmluZWQgPyAnJyA6IGtleSkgKyAnKV8nICsgKCsraWQgKyBwb3N0Zml4KS50b1N0cmluZygzNik7XG59O1xuIiwidmFyIE5BVElWRV9TWU1CT0wgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvbmF0aXZlLXN5bWJvbCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IE5BVElWRV9TWU1CT0xcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICYmICFTeW1ib2wuc2hhbVxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgJiYgdHlwZW9mIFN5bWJvbCgpID09ICdzeW1ib2wnO1xuIiwidmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nbG9iYWwnKTtcbnZhciBzaGFyZWQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvc2hhcmVkJyk7XG52YXIgaGFzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2hhcycpO1xudmFyIHVpZCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy91aWQnKTtcbnZhciBOQVRJVkVfU1lNQk9MID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL25hdGl2ZS1zeW1ib2wnKTtcbnZhciBVU0VfU1lNQk9MX0FTX1VJRCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy91c2Utc3ltYm9sLWFzLXVpZCcpO1xuXG52YXIgV2VsbEtub3duU3ltYm9sc1N0b3JlID0gc2hhcmVkKCd3a3MnKTtcbnZhciBTeW1ib2wgPSBnbG9iYWwuU3ltYm9sO1xudmFyIGNyZWF0ZVdlbGxLbm93blN5bWJvbCA9IFVTRV9TWU1CT0xfQVNfVUlEID8gU3ltYm9sIDogdWlkO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gIGlmICghaGFzKFdlbGxLbm93blN5bWJvbHNTdG9yZSwgbmFtZSkpIHtcbiAgICBpZiAoTkFUSVZFX1NZTUJPTCAmJiBoYXMoU3ltYm9sLCBuYW1lKSkgV2VsbEtub3duU3ltYm9sc1N0b3JlW25hbWVdID0gU3ltYm9sW25hbWVdO1xuICAgIGVsc2UgV2VsbEtub3duU3ltYm9sc1N0b3JlW25hbWVdID0gY3JlYXRlV2VsbEtub3duU3ltYm9sKCdTeW1ib2wuJyArIG5hbWUpO1xuICB9IHJldHVybiBXZWxsS25vd25TeW1ib2xzU3RvcmVbbmFtZV07XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyICQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZXhwb3J0Jyk7XG52YXIgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3InKS5mO1xudmFyIHRvTGVuZ3RoID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLWxlbmd0aCcpO1xudmFyIG5vdEFSZWdFeHAgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvbm90LWEtcmVnZXhwJyk7XG52YXIgcmVxdWlyZU9iamVjdENvZXJjaWJsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9yZXF1aXJlLW9iamVjdC1jb2VyY2libGUnKTtcbnZhciBjb3JyZWN0SXNSZWdFeHBMb2dpYyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9jb3JyZWN0LWlzLXJlZ2V4cC1sb2dpYycpO1xudmFyIElTX1BVUkUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtcHVyZScpO1xuXG52YXIgbmF0aXZlU3RhcnRzV2l0aCA9ICcnLnN0YXJ0c1dpdGg7XG52YXIgbWluID0gTWF0aC5taW47XG5cbnZhciBDT1JSRUNUX0lTX1JFR0VYUF9MT0dJQyA9IGNvcnJlY3RJc1JlZ0V4cExvZ2ljKCdzdGFydHNXaXRoJyk7XG4vLyBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9wdWxsLzcwMlxudmFyIE1ETl9QT0xZRklMTF9CVUcgPSAhSVNfUFVSRSAmJiAhQ09SUkVDVF9JU19SRUdFWFBfTE9HSUMgJiYgISFmdW5jdGlvbiAoKSB7XG4gIHZhciBkZXNjcmlwdG9yID0gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFN0cmluZy5wcm90b3R5cGUsICdzdGFydHNXaXRoJyk7XG4gIHJldHVybiBkZXNjcmlwdG9yICYmICFkZXNjcmlwdG9yLndyaXRhYmxlO1xufSgpO1xuXG4vLyBgU3RyaW5nLnByb3RvdHlwZS5zdGFydHNXaXRoYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLXN0cmluZy5wcm90b3R5cGUuc3RhcnRzd2l0aFxuJCh7IHRhcmdldDogJ1N0cmluZycsIHByb3RvOiB0cnVlLCBmb3JjZWQ6ICFNRE5fUE9MWUZJTExfQlVHICYmICFDT1JSRUNUX0lTX1JFR0VYUF9MT0dJQyB9LCB7XG4gIHN0YXJ0c1dpdGg6IGZ1bmN0aW9uIHN0YXJ0c1dpdGgoc2VhcmNoU3RyaW5nIC8qICwgcG9zaXRpb24gPSAwICovKSB7XG4gICAgdmFyIHRoYXQgPSBTdHJpbmcocmVxdWlyZU9iamVjdENvZXJjaWJsZSh0aGlzKSk7XG4gICAgbm90QVJlZ0V4cChzZWFyY2hTdHJpbmcpO1xuICAgIHZhciBpbmRleCA9IHRvTGVuZ3RoKG1pbihhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZCwgdGhhdC5sZW5ndGgpKTtcbiAgICB2YXIgc2VhcmNoID0gU3RyaW5nKHNlYXJjaFN0cmluZyk7XG4gICAgcmV0dXJuIG5hdGl2ZVN0YXJ0c1dpdGhcbiAgICAgID8gbmF0aXZlU3RhcnRzV2l0aC5jYWxsKHRoYXQsIHNlYXJjaCwgaW5kZXgpXG4gICAgICA6IHRoYXQuc2xpY2UoaW5kZXgsIGluZGV4ICsgc2VhcmNoLmxlbmd0aCkgPT09IHNlYXJjaDtcbiAgfVxufSk7XG4iLCIvKlxub2JqZWN0LWFzc2lnblxuKGMpIFNpbmRyZSBTb3JodXNcbkBsaWNlbnNlIE1JVFxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cbnZhciBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xudmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciBwcm9wSXNFbnVtZXJhYmxlID0gT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcblxuZnVuY3Rpb24gdG9PYmplY3QodmFsKSB7XG5cdGlmICh2YWwgPT09IG51bGwgfHwgdmFsID09PSB1bmRlZmluZWQpIHtcblx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdPYmplY3QuYXNzaWduIGNhbm5vdCBiZSBjYWxsZWQgd2l0aCBudWxsIG9yIHVuZGVmaW5lZCcpO1xuXHR9XG5cblx0cmV0dXJuIE9iamVjdCh2YWwpO1xufVxuXG5mdW5jdGlvbiBzaG91bGRVc2VOYXRpdmUoKSB7XG5cdHRyeSB7XG5cdFx0aWYgKCFPYmplY3QuYXNzaWduKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gRGV0ZWN0IGJ1Z2d5IHByb3BlcnR5IGVudW1lcmF0aW9uIG9yZGVyIGluIG9sZGVyIFY4IHZlcnNpb25zLlxuXG5cdFx0Ly8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9NDExOFxuXHRcdHZhciB0ZXN0MSA9IG5ldyBTdHJpbmcoJ2FiYycpOyAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZXctd3JhcHBlcnNcblx0XHR0ZXN0MVs1XSA9ICdkZSc7XG5cdFx0aWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRlc3QxKVswXSA9PT0gJzUnKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MzA1NlxuXHRcdHZhciB0ZXN0MiA9IHt9O1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgMTA7IGkrKykge1xuXHRcdFx0dGVzdDJbJ18nICsgU3RyaW5nLmZyb21DaGFyQ29kZShpKV0gPSBpO1xuXHRcdH1cblx0XHR2YXIgb3JkZXIyID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGVzdDIpLm1hcChmdW5jdGlvbiAobikge1xuXHRcdFx0cmV0dXJuIHRlc3QyW25dO1xuXHRcdH0pO1xuXHRcdGlmIChvcmRlcjIuam9pbignJykgIT09ICcwMTIzNDU2Nzg5Jykge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTMwNTZcblx0XHR2YXIgdGVzdDMgPSB7fTtcblx0XHQnYWJjZGVmZ2hpamtsbW5vcHFyc3QnLnNwbGl0KCcnKS5mb3JFYWNoKGZ1bmN0aW9uIChsZXR0ZXIpIHtcblx0XHRcdHRlc3QzW2xldHRlcl0gPSBsZXR0ZXI7XG5cdFx0fSk7XG5cdFx0aWYgKE9iamVjdC5rZXlzKE9iamVjdC5hc3NpZ24oe30sIHRlc3QzKSkuam9pbignJykgIT09XG5cdFx0XHRcdCdhYmNkZWZnaGlqa2xtbm9wcXJzdCcpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0Ly8gV2UgZG9uJ3QgZXhwZWN0IGFueSBvZiB0aGUgYWJvdmUgdG8gdGhyb3csIGJ1dCBiZXR0ZXIgdG8gYmUgc2FmZS5cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzaG91bGRVc2VOYXRpdmUoKSA/IE9iamVjdC5hc3NpZ24gOiBmdW5jdGlvbiAodGFyZ2V0LCBzb3VyY2UpIHtcblx0dmFyIGZyb207XG5cdHZhciB0byA9IHRvT2JqZWN0KHRhcmdldCk7XG5cdHZhciBzeW1ib2xzO1xuXG5cdGZvciAodmFyIHMgPSAxOyBzIDwgYXJndW1lbnRzLmxlbmd0aDsgcysrKSB7XG5cdFx0ZnJvbSA9IE9iamVjdChhcmd1bWVudHNbc10pO1xuXG5cdFx0Zm9yICh2YXIga2V5IGluIGZyb20pIHtcblx0XHRcdGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGZyb20sIGtleSkpIHtcblx0XHRcdFx0dG9ba2V5XSA9IGZyb21ba2V5XTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG5cdFx0XHRzeW1ib2xzID0gZ2V0T3duUHJvcGVydHlTeW1ib2xzKGZyb20pO1xuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzeW1ib2xzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdGlmIChwcm9wSXNFbnVtZXJhYmxlLmNhbGwoZnJvbSwgc3ltYm9sc1tpXSkpIHtcblx0XHRcdFx0XHR0b1tzeW1ib2xzW2ldXSA9IGZyb21bc3ltYm9sc1tpXV07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gdG87XG59O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBwcmludFdhcm5pbmcgPSBmdW5jdGlvbigpIHt9O1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICB2YXIgUmVhY3RQcm9wVHlwZXNTZWNyZXQgPSByZXF1aXJlKCcuL2xpYi9SZWFjdFByb3BUeXBlc1NlY3JldCcpO1xuICB2YXIgbG9nZ2VkVHlwZUZhaWx1cmVzID0ge307XG4gIHZhciBoYXMgPSBGdW5jdGlvbi5jYWxsLmJpbmQoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSk7XG5cbiAgcHJpbnRXYXJuaW5nID0gZnVuY3Rpb24odGV4dCkge1xuICAgIHZhciBtZXNzYWdlID0gJ1dhcm5pbmc6ICcgKyB0ZXh0O1xuICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAvLyAtLS0gV2VsY29tZSB0byBkZWJ1Z2dpbmcgUmVhY3QgLS0tXG4gICAgICAvLyBUaGlzIGVycm9yIHdhcyB0aHJvd24gYXMgYSBjb252ZW5pZW5jZSBzbyB0aGF0IHlvdSBjYW4gdXNlIHRoaXMgc3RhY2tcbiAgICAgIC8vIHRvIGZpbmQgdGhlIGNhbGxzaXRlIHRoYXQgY2F1c2VkIHRoaXMgd2FybmluZyB0byBmaXJlLlxuICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgIH0gY2F0Y2ggKHgpIHt9XG4gIH07XG59XG5cbi8qKlxuICogQXNzZXJ0IHRoYXQgdGhlIHZhbHVlcyBtYXRjaCB3aXRoIHRoZSB0eXBlIHNwZWNzLlxuICogRXJyb3IgbWVzc2FnZXMgYXJlIG1lbW9yaXplZCBhbmQgd2lsbCBvbmx5IGJlIHNob3duIG9uY2UuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IHR5cGVTcGVjcyBNYXAgb2YgbmFtZSB0byBhIFJlYWN0UHJvcFR5cGVcbiAqIEBwYXJhbSB7b2JqZWN0fSB2YWx1ZXMgUnVudGltZSB2YWx1ZXMgdGhhdCBuZWVkIHRvIGJlIHR5cGUtY2hlY2tlZFxuICogQHBhcmFtIHtzdHJpbmd9IGxvY2F0aW9uIGUuZy4gXCJwcm9wXCIsIFwiY29udGV4dFwiLCBcImNoaWxkIGNvbnRleHRcIlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbXBvbmVudE5hbWUgTmFtZSBvZiB0aGUgY29tcG9uZW50IGZvciBlcnJvciBtZXNzYWdlcy5cbiAqIEBwYXJhbSB7P0Z1bmN0aW9ufSBnZXRTdGFjayBSZXR1cm5zIHRoZSBjb21wb25lbnQgc3RhY2suXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBjaGVja1Byb3BUeXBlcyh0eXBlU3BlY3MsIHZhbHVlcywgbG9jYXRpb24sIGNvbXBvbmVudE5hbWUsIGdldFN0YWNrKSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgZm9yICh2YXIgdHlwZVNwZWNOYW1lIGluIHR5cGVTcGVjcykge1xuICAgICAgaWYgKGhhcyh0eXBlU3BlY3MsIHR5cGVTcGVjTmFtZSkpIHtcbiAgICAgICAgdmFyIGVycm9yO1xuICAgICAgICAvLyBQcm9wIHR5cGUgdmFsaWRhdGlvbiBtYXkgdGhyb3cuIEluIGNhc2UgdGhleSBkbywgd2UgZG9uJ3Qgd2FudCB0b1xuICAgICAgICAvLyBmYWlsIHRoZSByZW5kZXIgcGhhc2Ugd2hlcmUgaXQgZGlkbid0IGZhaWwgYmVmb3JlLiBTbyB3ZSBsb2cgaXQuXG4gICAgICAgIC8vIEFmdGVyIHRoZXNlIGhhdmUgYmVlbiBjbGVhbmVkIHVwLCB3ZSdsbCBsZXQgdGhlbSB0aHJvdy5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBUaGlzIGlzIGludGVudGlvbmFsbHkgYW4gaW52YXJpYW50IHRoYXQgZ2V0cyBjYXVnaHQuIEl0J3MgdGhlIHNhbWVcbiAgICAgICAgICAvLyBiZWhhdmlvciBhcyB3aXRob3V0IHRoaXMgc3RhdGVtZW50IGV4Y2VwdCB3aXRoIGEgYmV0dGVyIG1lc3NhZ2UuXG4gICAgICAgICAgaWYgKHR5cGVvZiB0eXBlU3BlY3NbdHlwZVNwZWNOYW1lXSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdmFyIGVyciA9IEVycm9yKFxuICAgICAgICAgICAgICAoY29tcG9uZW50TmFtZSB8fCAnUmVhY3QgY2xhc3MnKSArICc6ICcgKyBsb2NhdGlvbiArICcgdHlwZSBgJyArIHR5cGVTcGVjTmFtZSArICdgIGlzIGludmFsaWQ7ICcgK1xuICAgICAgICAgICAgICAnaXQgbXVzdCBiZSBhIGZ1bmN0aW9uLCB1c3VhbGx5IGZyb20gdGhlIGBwcm9wLXR5cGVzYCBwYWNrYWdlLCBidXQgcmVjZWl2ZWQgYCcgKyB0eXBlb2YgdHlwZVNwZWNzW3R5cGVTcGVjTmFtZV0gKyAnYC4nXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgZXJyLm5hbWUgPSAnSW52YXJpYW50IFZpb2xhdGlvbic7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVycm9yID0gdHlwZVNwZWNzW3R5cGVTcGVjTmFtZV0odmFsdWVzLCB0eXBlU3BlY05hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBudWxsLCBSZWFjdFByb3BUeXBlc1NlY3JldCk7XG4gICAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgZXJyb3IgPSBleDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXJyb3IgJiYgIShlcnJvciBpbnN0YW5jZW9mIEVycm9yKSkge1xuICAgICAgICAgIHByaW50V2FybmluZyhcbiAgICAgICAgICAgIChjb21wb25lbnROYW1lIHx8ICdSZWFjdCBjbGFzcycpICsgJzogdHlwZSBzcGVjaWZpY2F0aW9uIG9mICcgK1xuICAgICAgICAgICAgbG9jYXRpb24gKyAnIGAnICsgdHlwZVNwZWNOYW1lICsgJ2AgaXMgaW52YWxpZDsgdGhlIHR5cGUgY2hlY2tlciAnICtcbiAgICAgICAgICAgICdmdW5jdGlvbiBtdXN0IHJldHVybiBgbnVsbGAgb3IgYW4gYEVycm9yYCBidXQgcmV0dXJuZWQgYSAnICsgdHlwZW9mIGVycm9yICsgJy4gJyArXG4gICAgICAgICAgICAnWW91IG1heSBoYXZlIGZvcmdvdHRlbiB0byBwYXNzIGFuIGFyZ3VtZW50IHRvIHRoZSB0eXBlIGNoZWNrZXIgJyArXG4gICAgICAgICAgICAnY3JlYXRvciAoYXJyYXlPZiwgaW5zdGFuY2VPZiwgb2JqZWN0T2YsIG9uZU9mLCBvbmVPZlR5cGUsIGFuZCAnICtcbiAgICAgICAgICAgICdzaGFwZSBhbGwgcmVxdWlyZSBhbiBhcmd1bWVudCkuJ1xuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IgJiYgIShlcnJvci5tZXNzYWdlIGluIGxvZ2dlZFR5cGVGYWlsdXJlcykpIHtcbiAgICAgICAgICAvLyBPbmx5IG1vbml0b3IgdGhpcyBmYWlsdXJlIG9uY2UgYmVjYXVzZSB0aGVyZSB0ZW5kcyB0byBiZSBhIGxvdCBvZiB0aGVcbiAgICAgICAgICAvLyBzYW1lIGVycm9yLlxuICAgICAgICAgIGxvZ2dlZFR5cGVGYWlsdXJlc1tlcnJvci5tZXNzYWdlXSA9IHRydWU7XG5cbiAgICAgICAgICB2YXIgc3RhY2sgPSBnZXRTdGFjayA/IGdldFN0YWNrKCkgOiAnJztcblxuICAgICAgICAgIHByaW50V2FybmluZyhcbiAgICAgICAgICAgICdGYWlsZWQgJyArIGxvY2F0aW9uICsgJyB0eXBlOiAnICsgZXJyb3IubWVzc2FnZSArIChzdGFjayAhPSBudWxsID8gc3RhY2sgOiAnJylcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogUmVzZXRzIHdhcm5pbmcgY2FjaGUgd2hlbiB0ZXN0aW5nLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmNoZWNrUHJvcFR5cGVzLnJlc2V0V2FybmluZ0NhY2hlID0gZnVuY3Rpb24oKSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgbG9nZ2VkVHlwZUZhaWx1cmVzID0ge307XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjaGVja1Byb3BUeXBlcztcbiIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUmVhY3RQcm9wVHlwZXNTZWNyZXQgPSAnU0VDUkVUX0RPX05PVF9QQVNTX1RISVNfT1JfWU9VX1dJTExfQkVfRklSRUQnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0UHJvcFR5cGVzU2VjcmV0O1xuIiwiLyoqIEBsaWNlbnNlIFJlYWN0IHYxNi4xMi4wXG4gKiByZWFjdC1kb20uZGV2ZWxvcG1lbnQuanNcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIEZhY2Vib29rLCBJbmMuIGFuZCBpdHMgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cblxuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gIChmdW5jdGlvbigpIHtcbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbnZhciBfYXNzaWduID0gcmVxdWlyZSgnb2JqZWN0LWFzc2lnbicpO1xudmFyIFNjaGVkdWxlciA9IHJlcXVpcmUoJ3NjaGVkdWxlcicpO1xudmFyIGNoZWNrUHJvcFR5cGVzID0gcmVxdWlyZSgncHJvcC10eXBlcy9jaGVja1Byb3BUeXBlcycpO1xudmFyIHRyYWNpbmcgPSByZXF1aXJlKCdzY2hlZHVsZXIvdHJhY2luZycpO1xuXG4vLyBEbyBub3QgcmVxdWlyZSB0aGlzIG1vZHVsZSBkaXJlY3RseSEgVXNlIG5vcm1hbCBgaW52YXJpYW50YCBjYWxscyB3aXRoXG4vLyB0ZW1wbGF0ZSBsaXRlcmFsIHN0cmluZ3MuIFRoZSBtZXNzYWdlcyB3aWxsIGJlIHJlcGxhY2VkIHdpdGggZXJyb3IgY29kZXNcbi8vIGR1cmluZyBidWlsZC5cblxuLyoqXG4gKiBVc2UgaW52YXJpYW50KCkgdG8gYXNzZXJ0IHN0YXRlIHdoaWNoIHlvdXIgcHJvZ3JhbSBhc3N1bWVzIHRvIGJlIHRydWUuXG4gKlxuICogUHJvdmlkZSBzcHJpbnRmLXN0eWxlIGZvcm1hdCAob25seSAlcyBpcyBzdXBwb3J0ZWQpIGFuZCBhcmd1bWVudHNcbiAqIHRvIHByb3ZpZGUgaW5mb3JtYXRpb24gYWJvdXQgd2hhdCBicm9rZSBhbmQgd2hhdCB5b3Ugd2VyZVxuICogZXhwZWN0aW5nLlxuICpcbiAqIFRoZSBpbnZhcmlhbnQgbWVzc2FnZSB3aWxsIGJlIHN0cmlwcGVkIGluIHByb2R1Y3Rpb24sIGJ1dCB0aGUgaW52YXJpYW50XG4gKiB3aWxsIHJlbWFpbiB0byBlbnN1cmUgbG9naWMgZG9lcyBub3QgZGlmZmVyIGluIHByb2R1Y3Rpb24uXG4gKi9cblxuaWYgKCFSZWFjdCkge1xuICB7XG4gICAgdGhyb3cgRXJyb3IoXCJSZWFjdERPTSB3YXMgbG9hZGVkIGJlZm9yZSBSZWFjdC4gTWFrZSBzdXJlIHlvdSBsb2FkIHRoZSBSZWFjdCBwYWNrYWdlIGJlZm9yZSBsb2FkaW5nIFJlYWN0RE9NLlwiKTtcbiAgfVxufVxuXG4vKipcbiAqIEluamVjdGFibGUgb3JkZXJpbmcgb2YgZXZlbnQgcGx1Z2lucy5cbiAqL1xudmFyIGV2ZW50UGx1Z2luT3JkZXIgPSBudWxsO1xuLyoqXG4gKiBJbmplY3RhYmxlIG1hcHBpbmcgZnJvbSBuYW1lcyB0byBldmVudCBwbHVnaW4gbW9kdWxlcy5cbiAqL1xuXG52YXIgbmFtZXNUb1BsdWdpbnMgPSB7fTtcbi8qKlxuICogUmVjb21wdXRlcyB0aGUgcGx1Z2luIGxpc3QgdXNpbmcgdGhlIGluamVjdGVkIHBsdWdpbnMgYW5kIHBsdWdpbiBvcmRlcmluZy5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIHJlY29tcHV0ZVBsdWdpbk9yZGVyaW5nKCkge1xuICBpZiAoIWV2ZW50UGx1Z2luT3JkZXIpIHtcbiAgICAvLyBXYWl0IHVudGlsIGFuIGBldmVudFBsdWdpbk9yZGVyYCBpcyBpbmplY3RlZC5cbiAgICByZXR1cm47XG4gIH1cblxuICBmb3IgKHZhciBwbHVnaW5OYW1lIGluIG5hbWVzVG9QbHVnaW5zKSB7XG4gICAgdmFyIHBsdWdpbk1vZHVsZSA9IG5hbWVzVG9QbHVnaW5zW3BsdWdpbk5hbWVdO1xuICAgIHZhciBwbHVnaW5JbmRleCA9IGV2ZW50UGx1Z2luT3JkZXIuaW5kZXhPZihwbHVnaW5OYW1lKTtcblxuICAgIGlmICghKHBsdWdpbkluZGV4ID4gLTEpKSB7XG4gICAgICB7XG4gICAgICAgIHRocm93IEVycm9yKFwiRXZlbnRQbHVnaW5SZWdpc3RyeTogQ2Fubm90IGluamVjdCBldmVudCBwbHVnaW5zIHRoYXQgZG8gbm90IGV4aXN0IGluIHRoZSBwbHVnaW4gb3JkZXJpbmcsIGBcIiArIHBsdWdpbk5hbWUgKyBcImAuXCIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChwbHVnaW5zW3BsdWdpbkluZGV4XSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKCFwbHVnaW5Nb2R1bGUuZXh0cmFjdEV2ZW50cykge1xuICAgICAge1xuICAgICAgICB0aHJvdyBFcnJvcihcIkV2ZW50UGx1Z2luUmVnaXN0cnk6IEV2ZW50IHBsdWdpbnMgbXVzdCBpbXBsZW1lbnQgYW4gYGV4dHJhY3RFdmVudHNgIG1ldGhvZCwgYnV0IGBcIiArIHBsdWdpbk5hbWUgKyBcImAgZG9lcyBub3QuXCIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHBsdWdpbnNbcGx1Z2luSW5kZXhdID0gcGx1Z2luTW9kdWxlO1xuICAgIHZhciBwdWJsaXNoZWRFdmVudHMgPSBwbHVnaW5Nb2R1bGUuZXZlbnRUeXBlcztcblxuICAgIGZvciAodmFyIGV2ZW50TmFtZSBpbiBwdWJsaXNoZWRFdmVudHMpIHtcbiAgICAgIGlmICghcHVibGlzaEV2ZW50Rm9yUGx1Z2luKHB1Ymxpc2hlZEV2ZW50c1tldmVudE5hbWVdLCBwbHVnaW5Nb2R1bGUsIGV2ZW50TmFtZSkpIHtcbiAgICAgICAge1xuICAgICAgICAgIHRocm93IEVycm9yKFwiRXZlbnRQbHVnaW5SZWdpc3RyeTogRmFpbGVkIHRvIHB1Ymxpc2ggZXZlbnQgYFwiICsgZXZlbnROYW1lICsgXCJgIGZvciBwbHVnaW4gYFwiICsgcGx1Z2luTmFtZSArIFwiYC5cIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbi8qKlxuICogUHVibGlzaGVzIGFuIGV2ZW50IHNvIHRoYXQgaXQgY2FuIGJlIGRpc3BhdGNoZWQgYnkgdGhlIHN1cHBsaWVkIHBsdWdpbi5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gZGlzcGF0Y2hDb25maWcgRGlzcGF0Y2ggY29uZmlndXJhdGlvbiBmb3IgdGhlIGV2ZW50LlxuICogQHBhcmFtIHtvYmplY3R9IFBsdWdpbk1vZHVsZSBQbHVnaW4gcHVibGlzaGluZyB0aGUgZXZlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBldmVudCB3YXMgc3VjY2Vzc2Z1bGx5IHB1Ymxpc2hlZC5cbiAqIEBwcml2YXRlXG4gKi9cblxuXG5mdW5jdGlvbiBwdWJsaXNoRXZlbnRGb3JQbHVnaW4oZGlzcGF0Y2hDb25maWcsIHBsdWdpbk1vZHVsZSwgZXZlbnROYW1lKSB7XG4gIGlmICghIWV2ZW50TmFtZURpc3BhdGNoQ29uZmlncy5oYXNPd25Qcm9wZXJ0eShldmVudE5hbWUpKSB7XG4gICAge1xuICAgICAgdGhyb3cgRXJyb3IoXCJFdmVudFBsdWdpbkh1YjogTW9yZSB0aGFuIG9uZSBwbHVnaW4gYXR0ZW1wdGVkIHRvIHB1Ymxpc2ggdGhlIHNhbWUgZXZlbnQgbmFtZSwgYFwiICsgZXZlbnROYW1lICsgXCJgLlwiKTtcbiAgICB9XG4gIH1cblxuICBldmVudE5hbWVEaXNwYXRjaENvbmZpZ3NbZXZlbnROYW1lXSA9IGRpc3BhdGNoQ29uZmlnO1xuICB2YXIgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXMgPSBkaXNwYXRjaENvbmZpZy5waGFzZWRSZWdpc3RyYXRpb25OYW1lcztcblxuICBpZiAocGhhc2VkUmVnaXN0cmF0aW9uTmFtZXMpIHtcbiAgICBmb3IgKHZhciBwaGFzZU5hbWUgaW4gcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXMpIHtcbiAgICAgIGlmIChwaGFzZWRSZWdpc3RyYXRpb25OYW1lcy5oYXNPd25Qcm9wZXJ0eShwaGFzZU5hbWUpKSB7XG4gICAgICAgIHZhciBwaGFzZWRSZWdpc3RyYXRpb25OYW1lID0gcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXNbcGhhc2VOYW1lXTtcbiAgICAgICAgcHVibGlzaFJlZ2lzdHJhdGlvbk5hbWUocGhhc2VkUmVnaXN0cmF0aW9uTmFtZSwgcGx1Z2luTW9kdWxlLCBldmVudE5hbWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9IGVsc2UgaWYgKGRpc3BhdGNoQ29uZmlnLnJlZ2lzdHJhdGlvbk5hbWUpIHtcbiAgICBwdWJsaXNoUmVnaXN0cmF0aW9uTmFtZShkaXNwYXRjaENvbmZpZy5yZWdpc3RyYXRpb25OYW1lLCBwbHVnaW5Nb2R1bGUsIGV2ZW50TmFtZSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG4vKipcbiAqIFB1Ymxpc2hlcyBhIHJlZ2lzdHJhdGlvbiBuYW1lIHRoYXQgaXMgdXNlZCB0byBpZGVudGlmeSBkaXNwYXRjaGVkIGV2ZW50cy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVnaXN0cmF0aW9uTmFtZSBSZWdpc3RyYXRpb24gbmFtZSB0byBhZGQuXG4gKiBAcGFyYW0ge29iamVjdH0gUGx1Z2luTW9kdWxlIFBsdWdpbiBwdWJsaXNoaW5nIHRoZSBldmVudC5cbiAqIEBwcml2YXRlXG4gKi9cblxuXG5mdW5jdGlvbiBwdWJsaXNoUmVnaXN0cmF0aW9uTmFtZShyZWdpc3RyYXRpb25OYW1lLCBwbHVnaW5Nb2R1bGUsIGV2ZW50TmFtZSkge1xuICBpZiAoISFyZWdpc3RyYXRpb25OYW1lTW9kdWxlc1tyZWdpc3RyYXRpb25OYW1lXSkge1xuICAgIHtcbiAgICAgIHRocm93IEVycm9yKFwiRXZlbnRQbHVnaW5IdWI6IE1vcmUgdGhhbiBvbmUgcGx1Z2luIGF0dGVtcHRlZCB0byBwdWJsaXNoIHRoZSBzYW1lIHJlZ2lzdHJhdGlvbiBuYW1lLCBgXCIgKyByZWdpc3RyYXRpb25OYW1lICsgXCJgLlwiKTtcbiAgICB9XG4gIH1cblxuICByZWdpc3RyYXRpb25OYW1lTW9kdWxlc1tyZWdpc3RyYXRpb25OYW1lXSA9IHBsdWdpbk1vZHVsZTtcbiAgcmVnaXN0cmF0aW9uTmFtZURlcGVuZGVuY2llc1tyZWdpc3RyYXRpb25OYW1lXSA9IHBsdWdpbk1vZHVsZS5ldmVudFR5cGVzW2V2ZW50TmFtZV0uZGVwZW5kZW5jaWVzO1xuXG4gIHtcbiAgICB2YXIgbG93ZXJDYXNlZE5hbWUgPSByZWdpc3RyYXRpb25OYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgcG9zc2libGVSZWdpc3RyYXRpb25OYW1lc1tsb3dlckNhc2VkTmFtZV0gPSByZWdpc3RyYXRpb25OYW1lO1xuXG4gICAgaWYgKHJlZ2lzdHJhdGlvbk5hbWUgPT09ICdvbkRvdWJsZUNsaWNrJykge1xuICAgICAgcG9zc2libGVSZWdpc3RyYXRpb25OYW1lcy5vbmRibGNsaWNrID0gcmVnaXN0cmF0aW9uTmFtZTtcbiAgICB9XG4gIH1cbn1cbi8qKlxuICogUmVnaXN0ZXJzIHBsdWdpbnMgc28gdGhhdCB0aGV5IGNhbiBleHRyYWN0IGFuZCBkaXNwYXRjaCBldmVudHMuXG4gKlxuICogQHNlZSB7RXZlbnRQbHVnaW5IdWJ9XG4gKi9cblxuLyoqXG4gKiBPcmRlcmVkIGxpc3Qgb2YgaW5qZWN0ZWQgcGx1Z2lucy5cbiAqL1xuXG5cbnZhciBwbHVnaW5zID0gW107XG4vKipcbiAqIE1hcHBpbmcgZnJvbSBldmVudCBuYW1lIHRvIGRpc3BhdGNoIGNvbmZpZ1xuICovXG5cbnZhciBldmVudE5hbWVEaXNwYXRjaENvbmZpZ3MgPSB7fTtcbi8qKlxuICogTWFwcGluZyBmcm9tIHJlZ2lzdHJhdGlvbiBuYW1lIHRvIHBsdWdpbiBtb2R1bGVcbiAqL1xuXG52YXIgcmVnaXN0cmF0aW9uTmFtZU1vZHVsZXMgPSB7fTtcbi8qKlxuICogTWFwcGluZyBmcm9tIHJlZ2lzdHJhdGlvbiBuYW1lIHRvIGV2ZW50IG5hbWVcbiAqL1xuXG52YXIgcmVnaXN0cmF0aW9uTmFtZURlcGVuZGVuY2llcyA9IHt9O1xuLyoqXG4gKiBNYXBwaW5nIGZyb20gbG93ZXJjYXNlIHJlZ2lzdHJhdGlvbiBuYW1lcyB0byB0aGUgcHJvcGVybHkgY2FzZWQgdmVyc2lvbixcbiAqIHVzZWQgdG8gd2FybiBpbiB0aGUgY2FzZSBvZiBtaXNzaW5nIGV2ZW50IGhhbmRsZXJzLiBBdmFpbGFibGVcbiAqIG9ubHkgaW4gdHJ1ZS5cbiAqIEB0eXBlIHtPYmplY3R9XG4gKi9cblxudmFyIHBvc3NpYmxlUmVnaXN0cmF0aW9uTmFtZXMgPSB7fTsgLy8gVHJ1c3QgdGhlIGRldmVsb3BlciB0byBvbmx5IHVzZSBwb3NzaWJsZVJlZ2lzdHJhdGlvbk5hbWVzIGluIHRydWVcblxuLyoqXG4gKiBJbmplY3RzIGFuIG9yZGVyaW5nIG9mIHBsdWdpbnMgKGJ5IHBsdWdpbiBuYW1lKS4gVGhpcyBhbGxvd3MgdGhlIG9yZGVyaW5nXG4gKiB0byBiZSBkZWNvdXBsZWQgZnJvbSBpbmplY3Rpb24gb2YgdGhlIGFjdHVhbCBwbHVnaW5zIHNvIHRoYXQgb3JkZXJpbmcgaXNcbiAqIGFsd2F5cyBkZXRlcm1pbmlzdGljIHJlZ2FyZGxlc3Mgb2YgcGFja2FnaW5nLCBvbi10aGUtZmx5IGluamVjdGlvbiwgZXRjLlxuICpcbiAqIEBwYXJhbSB7YXJyYXl9IEluamVjdGVkRXZlbnRQbHVnaW5PcmRlclxuICogQGludGVybmFsXG4gKiBAc2VlIHtFdmVudFBsdWdpbkh1Yi5pbmplY3Rpb24uaW5qZWN0RXZlbnRQbHVnaW5PcmRlcn1cbiAqL1xuXG5mdW5jdGlvbiBpbmplY3RFdmVudFBsdWdpbk9yZGVyKGluamVjdGVkRXZlbnRQbHVnaW5PcmRlcikge1xuICBpZiAoISFldmVudFBsdWdpbk9yZGVyKSB7XG4gICAge1xuICAgICAgdGhyb3cgRXJyb3IoXCJFdmVudFBsdWdpblJlZ2lzdHJ5OiBDYW5ub3QgaW5qZWN0IGV2ZW50IHBsdWdpbiBvcmRlcmluZyBtb3JlIHRoYW4gb25jZS4gWW91IGFyZSBsaWtlbHkgdHJ5aW5nIHRvIGxvYWQgbW9yZSB0aGFuIG9uZSBjb3B5IG9mIFJlYWN0LlwiKTtcbiAgICB9XG4gIH0gLy8gQ2xvbmUgdGhlIG9yZGVyaW5nIHNvIGl0IGNhbm5vdCBiZSBkeW5hbWljYWxseSBtdXRhdGVkLlxuXG5cbiAgZXZlbnRQbHVnaW5PcmRlciA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGluamVjdGVkRXZlbnRQbHVnaW5PcmRlcik7XG4gIHJlY29tcHV0ZVBsdWdpbk9yZGVyaW5nKCk7XG59XG4vKipcbiAqIEluamVjdHMgcGx1Z2lucyB0byBiZSB1c2VkIGJ5IGBFdmVudFBsdWdpbkh1YmAuIFRoZSBwbHVnaW4gbmFtZXMgbXVzdCBiZVxuICogaW4gdGhlIG9yZGVyaW5nIGluamVjdGVkIGJ5IGBpbmplY3RFdmVudFBsdWdpbk9yZGVyYC5cbiAqXG4gKiBQbHVnaW5zIGNhbiBiZSBpbmplY3RlZCBhcyBwYXJ0IG9mIHBhZ2UgaW5pdGlhbGl6YXRpb24gb3Igb24tdGhlLWZseS5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gaW5qZWN0ZWROYW1lc1RvUGx1Z2lucyBNYXAgZnJvbSBuYW1lcyB0byBwbHVnaW4gbW9kdWxlcy5cbiAqIEBpbnRlcm5hbFxuICogQHNlZSB7RXZlbnRQbHVnaW5IdWIuaW5qZWN0aW9uLmluamVjdEV2ZW50UGx1Z2luc0J5TmFtZX1cbiAqL1xuXG5mdW5jdGlvbiBpbmplY3RFdmVudFBsdWdpbnNCeU5hbWUoaW5qZWN0ZWROYW1lc1RvUGx1Z2lucykge1xuICB2YXIgaXNPcmRlcmluZ0RpcnR5ID0gZmFsc2U7XG5cbiAgZm9yICh2YXIgcGx1Z2luTmFtZSBpbiBpbmplY3RlZE5hbWVzVG9QbHVnaW5zKSB7XG4gICAgaWYgKCFpbmplY3RlZE5hbWVzVG9QbHVnaW5zLmhhc093blByb3BlcnR5KHBsdWdpbk5hbWUpKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICB2YXIgcGx1Z2luTW9kdWxlID0gaW5qZWN0ZWROYW1lc1RvUGx1Z2luc1twbHVnaW5OYW1lXTtcblxuICAgIGlmICghbmFtZXNUb1BsdWdpbnMuaGFzT3duUHJvcGVydHkocGx1Z2luTmFtZSkgfHwgbmFtZXNUb1BsdWdpbnNbcGx1Z2luTmFtZV0gIT09IHBsdWdpbk1vZHVsZSkge1xuICAgICAgaWYgKCEhbmFtZXNUb1BsdWdpbnNbcGx1Z2luTmFtZV0pIHtcbiAgICAgICAge1xuICAgICAgICAgIHRocm93IEVycm9yKFwiRXZlbnRQbHVnaW5SZWdpc3RyeTogQ2Fubm90IGluamVjdCB0d28gZGlmZmVyZW50IGV2ZW50IHBsdWdpbnMgdXNpbmcgdGhlIHNhbWUgbmFtZSwgYFwiICsgcGx1Z2luTmFtZSArIFwiYC5cIik7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbmFtZXNUb1BsdWdpbnNbcGx1Z2luTmFtZV0gPSBwbHVnaW5Nb2R1bGU7XG4gICAgICBpc09yZGVyaW5nRGlydHkgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIGlmIChpc09yZGVyaW5nRGlydHkpIHtcbiAgICByZWNvbXB1dGVQbHVnaW5PcmRlcmluZygpO1xuICB9XG59XG5cbnZhciBpbnZva2VHdWFyZGVkQ2FsbGJhY2tJbXBsID0gZnVuY3Rpb24gKG5hbWUsIGZ1bmMsIGNvbnRleHQsIGEsIGIsIGMsIGQsIGUsIGYpIHtcbiAgdmFyIGZ1bmNBcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAzKTtcblxuICB0cnkge1xuICAgIGZ1bmMuYXBwbHkoY29udGV4dCwgZnVuY0FyZ3MpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRoaXMub25FcnJvcihlcnJvcik7XG4gIH1cbn07XG5cbntcbiAgLy8gSW4gREVWIG1vZGUsIHdlIHN3YXAgb3V0IGludm9rZUd1YXJkZWRDYWxsYmFjayBmb3IgYSBzcGVjaWFsIHZlcnNpb25cbiAgLy8gdGhhdCBwbGF5cyBtb3JlIG5pY2VseSB3aXRoIHRoZSBicm93c2VyJ3MgRGV2VG9vbHMuIFRoZSBpZGVhIGlzIHRvIHByZXNlcnZlXG4gIC8vIFwiUGF1c2Ugb24gZXhjZXB0aW9uc1wiIGJlaGF2aW9yLiBCZWNhdXNlIFJlYWN0IHdyYXBzIGFsbCB1c2VyLXByb3ZpZGVkXG4gIC8vIGZ1bmN0aW9ucyBpbiBpbnZva2VHdWFyZGVkQ2FsbGJhY2ssIGFuZCB0aGUgcHJvZHVjdGlvbiB2ZXJzaW9uIG9mXG4gIC8vIGludm9rZUd1YXJkZWRDYWxsYmFjayB1c2VzIGEgdHJ5LWNhdGNoLCBhbGwgdXNlciBleGNlcHRpb25zIGFyZSB0cmVhdGVkXG4gIC8vIGxpa2UgY2F1Z2h0IGV4Y2VwdGlvbnMsIGFuZCB0aGUgRGV2VG9vbHMgd29uJ3QgcGF1c2UgdW5sZXNzIHRoZSBkZXZlbG9wZXJcbiAgLy8gdGFrZXMgdGhlIGV4dHJhIHN0ZXAgb2YgZW5hYmxpbmcgcGF1c2Ugb24gY2F1Z2h0IGV4Y2VwdGlvbnMuIFRoaXMgaXNcbiAgLy8gdW5pbnR1aXRpdmUsIHRob3VnaCwgYmVjYXVzZSBldmVuIHRob3VnaCBSZWFjdCBoYXMgY2F1Z2h0IHRoZSBlcnJvciwgZnJvbVxuICAvLyB0aGUgZGV2ZWxvcGVyJ3MgcGVyc3BlY3RpdmUsIHRoZSBlcnJvciBpcyB1bmNhdWdodC5cbiAgLy9cbiAgLy8gVG8gcHJlc2VydmUgdGhlIGV4cGVjdGVkIFwiUGF1c2Ugb24gZXhjZXB0aW9uc1wiIGJlaGF2aW9yLCB3ZSBkb24ndCB1c2UgYVxuICAvLyB0cnktY2F0Y2ggaW4gREVWLiBJbnN0ZWFkLCB3ZSBzeW5jaHJvbm91c2x5IGRpc3BhdGNoIGEgZmFrZSBldmVudCB0byBhIGZha2VcbiAgLy8gRE9NIG5vZGUsIGFuZCBjYWxsIHRoZSB1c2VyLXByb3ZpZGVkIGNhbGxiYWNrIGZyb20gaW5zaWRlIGFuIGV2ZW50IGhhbmRsZXJcbiAgLy8gZm9yIHRoYXQgZmFrZSBldmVudC4gSWYgdGhlIGNhbGxiYWNrIHRocm93cywgdGhlIGVycm9yIGlzIFwiY2FwdHVyZWRcIiB1c2luZ1xuICAvLyBhIGdsb2JhbCBldmVudCBoYW5kbGVyLiBCdXQgYmVjYXVzZSB0aGUgZXJyb3IgaGFwcGVucyBpbiBhIGRpZmZlcmVudFxuICAvLyBldmVudCBsb29wIGNvbnRleHQsIGl0IGRvZXMgbm90IGludGVycnVwdCB0aGUgbm9ybWFsIHByb2dyYW0gZmxvdy5cbiAgLy8gRWZmZWN0aXZlbHksIHRoaXMgZ2l2ZXMgdXMgdHJ5LWNhdGNoIGJlaGF2aW9yIHdpdGhvdXQgYWN0dWFsbHkgdXNpbmdcbiAgLy8gdHJ5LWNhdGNoLiBOZWF0IVxuICAvLyBDaGVjayB0aGF0IHRoZSBicm93c2VyIHN1cHBvcnRzIHRoZSBBUElzIHdlIG5lZWQgdG8gaW1wbGVtZW50IG91ciBzcGVjaWFsXG4gIC8vIERFViB2ZXJzaW9uIG9mIGludm9rZUd1YXJkZWRDYWxsYmFja1xuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHdpbmRvdy5kaXNwYXRjaEV2ZW50ID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGRvY3VtZW50LmNyZWF0ZUV2ZW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdmFyIGZha2VOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncmVhY3QnKTtcblxuICAgIHZhciBpbnZva2VHdWFyZGVkQ2FsbGJhY2tEZXYgPSBmdW5jdGlvbiAobmFtZSwgZnVuYywgY29udGV4dCwgYSwgYiwgYywgZCwgZSwgZikge1xuICAgICAgLy8gSWYgZG9jdW1lbnQgZG9lc24ndCBleGlzdCB3ZSBrbm93IGZvciBzdXJlIHdlIHdpbGwgY3Jhc2ggaW4gdGhpcyBtZXRob2RcbiAgICAgIC8vIHdoZW4gd2UgY2FsbCBkb2N1bWVudC5jcmVhdGVFdmVudCgpLiBIb3dldmVyIHRoaXMgY2FuIGNhdXNlIGNvbmZ1c2luZ1xuICAgICAgLy8gZXJyb3JzOiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2tpbmN1YmF0b3IvY3JlYXRlLXJlYWN0LWFwcC9pc3N1ZXMvMzQ4MlxuICAgICAgLy8gU28gd2UgcHJlZW1wdGl2ZWx5IHRocm93IHdpdGggYSBiZXR0ZXIgbWVzc2FnZSBpbnN0ZWFkLlxuICAgICAgaWYgKCEodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJykpIHtcbiAgICAgICAge1xuICAgICAgICAgIHRocm93IEVycm9yKFwiVGhlIGBkb2N1bWVudGAgZ2xvYmFsIHdhcyBkZWZpbmVkIHdoZW4gUmVhY3Qgd2FzIGluaXRpYWxpemVkLCBidXQgaXMgbm90IGRlZmluZWQgYW55bW9yZS4gVGhpcyBjYW4gaGFwcGVuIGluIGEgdGVzdCBlbnZpcm9ubWVudCBpZiBhIGNvbXBvbmVudCBzY2hlZHVsZXMgYW4gdXBkYXRlIGZyb20gYW4gYXN5bmNocm9ub3VzIGNhbGxiYWNrLCBidXQgdGhlIHRlc3QgaGFzIGFscmVhZHkgZmluaXNoZWQgcnVubmluZy4gVG8gc29sdmUgdGhpcywgeW91IGNhbiBlaXRoZXIgdW5tb3VudCB0aGUgY29tcG9uZW50IGF0IHRoZSBlbmQgb2YgeW91ciB0ZXN0IChhbmQgZW5zdXJlIHRoYXQgYW55IGFzeW5jaHJvbm91cyBvcGVyYXRpb25zIGdldCBjYW5jZWxlZCBpbiBgY29tcG9uZW50V2lsbFVubW91bnRgKSwgb3IgeW91IGNhbiBjaGFuZ2UgdGhlIHRlc3QgaXRzZWxmIHRvIGJlIGFzeW5jaHJvbm91cy5cIik7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIGV2dCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdFdmVudCcpOyAvLyBLZWVwcyB0cmFjayBvZiB3aGV0aGVyIHRoZSB1c2VyLXByb3ZpZGVkIGNhbGxiYWNrIHRocmV3IGFuIGVycm9yLiBXZVxuICAgICAgLy8gc2V0IHRoaXMgdG8gdHJ1ZSBhdCB0aGUgYmVnaW5uaW5nLCB0aGVuIHNldCBpdCB0byBmYWxzZSByaWdodCBhZnRlclxuICAgICAgLy8gY2FsbGluZyB0aGUgZnVuY3Rpb24uIElmIHRoZSBmdW5jdGlvbiBlcnJvcnMsIGBkaWRFcnJvcmAgd2lsbCBuZXZlciBiZVxuICAgICAgLy8gc2V0IHRvIGZhbHNlLiBUaGlzIHN0cmF0ZWd5IHdvcmtzIGV2ZW4gaWYgdGhlIGJyb3dzZXIgaXMgZmxha3kgYW5kXG4gICAgICAvLyBmYWlscyB0byBjYWxsIG91ciBnbG9iYWwgZXJyb3IgaGFuZGxlciwgYmVjYXVzZSBpdCBkb2Vzbid0IHJlbHkgb25cbiAgICAgIC8vIHRoZSBlcnJvciBldmVudCBhdCBhbGwuXG5cbiAgICAgIHZhciBkaWRFcnJvciA9IHRydWU7IC8vIEtlZXBzIHRyYWNrIG9mIHRoZSB2YWx1ZSBvZiB3aW5kb3cuZXZlbnQgc28gdGhhdCB3ZSBjYW4gcmVzZXQgaXRcbiAgICAgIC8vIGR1cmluZyB0aGUgY2FsbGJhY2sgdG8gbGV0IHVzZXIgY29kZSBhY2Nlc3Mgd2luZG93LmV2ZW50IGluIHRoZVxuICAgICAgLy8gYnJvd3NlcnMgdGhhdCBzdXBwb3J0IGl0LlxuXG4gICAgICB2YXIgd2luZG93RXZlbnQgPSB3aW5kb3cuZXZlbnQ7IC8vIEtlZXBzIHRyYWNrIG9mIHRoZSBkZXNjcmlwdG9yIG9mIHdpbmRvdy5ldmVudCB0byByZXN0b3JlIGl0IGFmdGVyIGV2ZW50XG4gICAgICAvLyBkaXNwYXRjaGluZzogaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2lzc3Vlcy8xMzY4OFxuXG4gICAgICB2YXIgd2luZG93RXZlbnREZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih3aW5kb3csICdldmVudCcpOyAvLyBDcmVhdGUgYW4gZXZlbnQgaGFuZGxlciBmb3Igb3VyIGZha2UgZXZlbnQuIFdlIHdpbGwgc3luY2hyb25vdXNseVxuICAgICAgLy8gZGlzcGF0Y2ggb3VyIGZha2UgZXZlbnQgdXNpbmcgYGRpc3BhdGNoRXZlbnRgLiBJbnNpZGUgdGhlIGhhbmRsZXIsIHdlXG4gICAgICAvLyBjYWxsIHRoZSB1c2VyLXByb3ZpZGVkIGNhbGxiYWNrLlxuXG4gICAgICB2YXIgZnVuY0FyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDMpO1xuXG4gICAgICBmdW5jdGlvbiBjYWxsQ2FsbGJhY2soKSB7XG4gICAgICAgIC8vIFdlIGltbWVkaWF0ZWx5IHJlbW92ZSB0aGUgY2FsbGJhY2sgZnJvbSBldmVudCBsaXN0ZW5lcnMgc28gdGhhdFxuICAgICAgICAvLyBuZXN0ZWQgYGludm9rZUd1YXJkZWRDYWxsYmFja2AgY2FsbHMgZG8gbm90IGNsYXNoLiBPdGhlcndpc2UsIGFcbiAgICAgICAgLy8gbmVzdGVkIGNhbGwgd291bGQgdHJpZ2dlciB0aGUgZmFrZSBldmVudCBoYW5kbGVycyBvZiBhbnkgY2FsbCBoaWdoZXJcbiAgICAgICAgLy8gaW4gdGhlIHN0YWNrLlxuICAgICAgICBmYWtlTm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKGV2dFR5cGUsIGNhbGxDYWxsYmFjaywgZmFsc2UpOyAvLyBXZSBjaGVjayBmb3Igd2luZG93Lmhhc093blByb3BlcnR5KCdldmVudCcpIHRvIHByZXZlbnQgdGhlXG4gICAgICAgIC8vIHdpbmRvdy5ldmVudCBhc3NpZ25tZW50IGluIGJvdGggSUUgPD0gMTAgYXMgdGhleSB0aHJvdyBhbiBlcnJvclxuICAgICAgICAvLyBcIk1lbWJlciBub3QgZm91bmRcIiBpbiBzdHJpY3QgbW9kZSwgYW5kIGluIEZpcmVmb3ggd2hpY2ggZG9lcyBub3RcbiAgICAgICAgLy8gc3VwcG9ydCB3aW5kb3cuZXZlbnQuXG5cbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cuZXZlbnQgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5oYXNPd25Qcm9wZXJ0eSgnZXZlbnQnKSkge1xuICAgICAgICAgIHdpbmRvdy5ldmVudCA9IHdpbmRvd0V2ZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuYy5hcHBseShjb250ZXh0LCBmdW5jQXJncyk7XG4gICAgICAgIGRpZEVycm9yID0gZmFsc2U7XG4gICAgICB9IC8vIENyZWF0ZSBhIGdsb2JhbCBlcnJvciBldmVudCBoYW5kbGVyLiBXZSB1c2UgdGhpcyB0byBjYXB0dXJlIHRoZSB2YWx1ZVxuICAgICAgLy8gdGhhdCB3YXMgdGhyb3duLiBJdCdzIHBvc3NpYmxlIHRoYXQgdGhpcyBlcnJvciBoYW5kbGVyIHdpbGwgZmlyZSBtb3JlXG4gICAgICAvLyB0aGFuIG9uY2U7IGZvciBleGFtcGxlLCBpZiBub24tUmVhY3QgY29kZSBhbHNvIGNhbGxzIGBkaXNwYXRjaEV2ZW50YFxuICAgICAgLy8gYW5kIGEgaGFuZGxlciBmb3IgdGhhdCBldmVudCB0aHJvd3MuIFdlIHNob3VsZCBiZSByZXNpbGllbnQgdG8gbW9zdCBvZlxuICAgICAgLy8gdGhvc2UgY2FzZXMuIEV2ZW4gaWYgb3VyIGVycm9yIGV2ZW50IGhhbmRsZXIgZmlyZXMgbW9yZSB0aGFuIG9uY2UsIHRoZVxuICAgICAgLy8gbGFzdCBlcnJvciBldmVudCBpcyBhbHdheXMgdXNlZC4gSWYgdGhlIGNhbGxiYWNrIGFjdHVhbGx5IGRvZXMgZXJyb3IsXG4gICAgICAvLyB3ZSBrbm93IHRoYXQgdGhlIGxhc3QgZXJyb3IgZXZlbnQgaXMgdGhlIGNvcnJlY3Qgb25lLCBiZWNhdXNlIGl0J3Mgbm90XG4gICAgICAvLyBwb3NzaWJsZSBmb3IgYW55dGhpbmcgZWxzZSB0byBoYXZlIGhhcHBlbmVkIGluIGJldHdlZW4gb3VyIGNhbGxiYWNrXG4gICAgICAvLyBlcnJvcmluZyBhbmQgdGhlIGNvZGUgdGhhdCBmb2xsb3dzIHRoZSBgZGlzcGF0Y2hFdmVudGAgY2FsbCBiZWxvdy4gSWZcbiAgICAgIC8vIHRoZSBjYWxsYmFjayBkb2Vzbid0IGVycm9yLCBidXQgdGhlIGVycm9yIGV2ZW50IHdhcyBmaXJlZCwgd2Uga25vdyB0b1xuICAgICAgLy8gaWdub3JlIGl0IGJlY2F1c2UgYGRpZEVycm9yYCB3aWxsIGJlIGZhbHNlLCBhcyBkZXNjcmliZWQgYWJvdmUuXG5cblxuICAgICAgdmFyIGVycm9yOyAvLyBVc2UgdGhpcyB0byB0cmFjayB3aGV0aGVyIHRoZSBlcnJvciBldmVudCBpcyBldmVyIGNhbGxlZC5cblxuICAgICAgdmFyIGRpZFNldEVycm9yID0gZmFsc2U7XG4gICAgICB2YXIgaXNDcm9zc09yaWdpbkVycm9yID0gZmFsc2U7XG5cbiAgICAgIGZ1bmN0aW9uIGhhbmRsZVdpbmRvd0Vycm9yKGV2ZW50KSB7XG4gICAgICAgIGVycm9yID0gZXZlbnQuZXJyb3I7XG4gICAgICAgIGRpZFNldEVycm9yID0gdHJ1ZTtcblxuICAgICAgICBpZiAoZXJyb3IgPT09IG51bGwgJiYgZXZlbnQuY29sbm8gPT09IDAgJiYgZXZlbnQubGluZW5vID09PSAwKSB7XG4gICAgICAgICAgaXNDcm9zc09yaWdpbkVycm9yID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChldmVudC5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICAgICAgLy8gU29tZSBvdGhlciBlcnJvciBoYW5kbGVyIGhhcyBwcmV2ZW50ZWQgZGVmYXVsdC5cbiAgICAgICAgICAvLyBCcm93c2VycyBzaWxlbmNlIHRoZSBlcnJvciByZXBvcnQgaWYgdGhpcyBoYXBwZW5zLlxuICAgICAgICAgIC8vIFdlJ2xsIHJlbWVtYmVyIHRoaXMgdG8gbGF0ZXIgZGVjaWRlIHdoZXRoZXIgdG8gbG9nIGl0IG9yIG5vdC5cbiAgICAgICAgICBpZiAoZXJyb3IgIT0gbnVsbCAmJiB0eXBlb2YgZXJyb3IgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBlcnJvci5fc3VwcHJlc3NMb2dnaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGlubmVyKSB7Ly8gSWdub3JlLlxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSAvLyBDcmVhdGUgYSBmYWtlIGV2ZW50IHR5cGUuXG5cblxuICAgICAgdmFyIGV2dFR5cGUgPSBcInJlYWN0LVwiICsgKG5hbWUgPyBuYW1lIDogJ2ludm9rZWd1YXJkZWRjYWxsYmFjaycpOyAvLyBBdHRhY2ggb3VyIGV2ZW50IGhhbmRsZXJzXG5cbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIGhhbmRsZVdpbmRvd0Vycm9yKTtcbiAgICAgIGZha2VOb2RlLmFkZEV2ZW50TGlzdGVuZXIoZXZ0VHlwZSwgY2FsbENhbGxiYWNrLCBmYWxzZSk7IC8vIFN5bmNocm9ub3VzbHkgZGlzcGF0Y2ggb3VyIGZha2UgZXZlbnQuIElmIHRoZSB1c2VyLXByb3ZpZGVkIGZ1bmN0aW9uXG4gICAgICAvLyBlcnJvcnMsIGl0IHdpbGwgdHJpZ2dlciBvdXIgZ2xvYmFsIGVycm9yIGhhbmRsZXIuXG5cbiAgICAgIGV2dC5pbml0RXZlbnQoZXZ0VHlwZSwgZmFsc2UsIGZhbHNlKTtcbiAgICAgIGZha2VOb2RlLmRpc3BhdGNoRXZlbnQoZXZ0KTtcblxuICAgICAgaWYgKHdpbmRvd0V2ZW50RGVzY3JpcHRvcikge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LCAnZXZlbnQnLCB3aW5kb3dFdmVudERlc2NyaXB0b3IpO1xuICAgICAgfVxuXG4gICAgICBpZiAoZGlkRXJyb3IpIHtcbiAgICAgICAgaWYgKCFkaWRTZXRFcnJvcikge1xuICAgICAgICAgIC8vIFRoZSBjYWxsYmFjayBlcnJvcmVkLCBidXQgdGhlIGVycm9yIGV2ZW50IG5ldmVyIGZpcmVkLlxuICAgICAgICAgIGVycm9yID0gbmV3IEVycm9yKCdBbiBlcnJvciB3YXMgdGhyb3duIGluc2lkZSBvbmUgb2YgeW91ciBjb21wb25lbnRzLCBidXQgUmVhY3QgJyArIFwiZG9lc24ndCBrbm93IHdoYXQgaXQgd2FzLiBUaGlzIGlzIGxpa2VseSBkdWUgdG8gYnJvd3NlciBcIiArICdmbGFraW5lc3MuIFJlYWN0IGRvZXMgaXRzIGJlc3QgdG8gcHJlc2VydmUgdGhlIFwiUGF1c2Ugb24gJyArICdleGNlcHRpb25zXCIgYmVoYXZpb3Igb2YgdGhlIERldlRvb2xzLCB3aGljaCByZXF1aXJlcyBzb21lICcgKyBcIkRFVi1tb2RlIG9ubHkgdHJpY2tzLiBJdCdzIHBvc3NpYmxlIHRoYXQgdGhlc2UgZG9uJ3Qgd29yayBpbiBcIiArICd5b3VyIGJyb3dzZXIuIFRyeSB0cmlnZ2VyaW5nIHRoZSBlcnJvciBpbiBwcm9kdWN0aW9uIG1vZGUsICcgKyAnb3Igc3dpdGNoaW5nIHRvIGEgbW9kZXJuIGJyb3dzZXIuIElmIHlvdSBzdXNwZWN0IHRoYXQgdGhpcyBpcyAnICsgJ2FjdHVhbGx5IGFuIGlzc3VlIHdpdGggUmVhY3QsIHBsZWFzZSBmaWxlIGFuIGlzc3VlLicpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzQ3Jvc3NPcmlnaW5FcnJvcikge1xuICAgICAgICAgIGVycm9yID0gbmV3IEVycm9yKFwiQSBjcm9zcy1vcmlnaW4gZXJyb3Igd2FzIHRocm93bi4gUmVhY3QgZG9lc24ndCBoYXZlIGFjY2VzcyB0byBcIiArICd0aGUgYWN0dWFsIGVycm9yIG9iamVjdCBpbiBkZXZlbG9wbWVudC4gJyArICdTZWUgaHR0cHM6Ly9mYi5tZS9yZWFjdC1jcm9zc29yaWdpbi1lcnJvciBmb3IgbW9yZSBpbmZvcm1hdGlvbi4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMub25FcnJvcihlcnJvcik7XG4gICAgICB9IC8vIFJlbW92ZSBvdXIgZXZlbnQgbGlzdGVuZXJzXG5cblxuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgaGFuZGxlV2luZG93RXJyb3IpO1xuICAgIH07XG5cbiAgICBpbnZva2VHdWFyZGVkQ2FsbGJhY2tJbXBsID0gaW52b2tlR3VhcmRlZENhbGxiYWNrRGV2O1xuICB9XG59XG5cbnZhciBpbnZva2VHdWFyZGVkQ2FsbGJhY2tJbXBsJDEgPSBpbnZva2VHdWFyZGVkQ2FsbGJhY2tJbXBsO1xuXG52YXIgaGFzRXJyb3IgPSBmYWxzZTtcbnZhciBjYXVnaHRFcnJvciA9IG51bGw7IC8vIFVzZWQgYnkgZXZlbnQgc3lzdGVtIHRvIGNhcHR1cmUvcmV0aHJvdyB0aGUgZmlyc3QgZXJyb3IuXG5cbnZhciBoYXNSZXRocm93RXJyb3IgPSBmYWxzZTtcbnZhciByZXRocm93RXJyb3IgPSBudWxsO1xudmFyIHJlcG9ydGVyID0ge1xuICBvbkVycm9yOiBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICBoYXNFcnJvciA9IHRydWU7XG4gICAgY2F1Z2h0RXJyb3IgPSBlcnJvcjtcbiAgfVxufTtcbi8qKlxuICogQ2FsbCBhIGZ1bmN0aW9uIHdoaWxlIGd1YXJkaW5nIGFnYWluc3QgZXJyb3JzIHRoYXQgaGFwcGVucyB3aXRoaW4gaXQuXG4gKiBSZXR1cm5zIGFuIGVycm9yIGlmIGl0IHRocm93cywgb3RoZXJ3aXNlIG51bGwuXG4gKlxuICogSW4gcHJvZHVjdGlvbiwgdGhpcyBpcyBpbXBsZW1lbnRlZCB1c2luZyBhIHRyeS1jYXRjaC4gVGhlIHJlYXNvbiB3ZSBkb24ndFxuICogdXNlIGEgdHJ5LWNhdGNoIGRpcmVjdGx5IGlzIHNvIHRoYXQgd2UgY2FuIHN3YXAgb3V0IGEgZGlmZmVyZW50XG4gKiBpbXBsZW1lbnRhdGlvbiBpbiBERVYgbW9kZS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZSBvZiB0aGUgZ3VhcmQgdG8gdXNlIGZvciBsb2dnaW5nIG9yIGRlYnVnZ2luZ1xuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaW52b2tlXG4gKiBAcGFyYW0geyp9IGNvbnRleHQgVGhlIGNvbnRleHQgdG8gdXNlIHdoZW4gY2FsbGluZyB0aGUgZnVuY3Rpb25cbiAqIEBwYXJhbSB7Li4uKn0gYXJncyBBcmd1bWVudHMgZm9yIGZ1bmN0aW9uXG4gKi9cblxuZnVuY3Rpb24gaW52b2tlR3VhcmRlZENhbGxiYWNrKG5hbWUsIGZ1bmMsIGNvbnRleHQsIGEsIGIsIGMsIGQsIGUsIGYpIHtcbiAgaGFzRXJyb3IgPSBmYWxzZTtcbiAgY2F1Z2h0RXJyb3IgPSBudWxsO1xuICBpbnZva2VHdWFyZGVkQ2FsbGJhY2tJbXBsJDEuYXBwbHkocmVwb3J0ZXIsIGFyZ3VtZW50cyk7XG59XG4vKipcbiAqIFNhbWUgYXMgaW52b2tlR3VhcmRlZENhbGxiYWNrLCBidXQgaW5zdGVhZCBvZiByZXR1cm5pbmcgYW4gZXJyb3IsIGl0IHN0b3Jlc1xuICogaXQgaW4gYSBnbG9iYWwgc28gaXQgY2FuIGJlIHJldGhyb3duIGJ5IGByZXRocm93Q2F1Z2h0RXJyb3JgIGxhdGVyLlxuICogVE9ETzogU2VlIGlmIGNhdWdodEVycm9yIGFuZCByZXRocm93RXJyb3IgY2FuIGJlIHVuaWZpZWQuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgb2YgdGhlIGd1YXJkIHRvIHVzZSBmb3IgbG9nZ2luZyBvciBkZWJ1Z2dpbmdcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGludm9rZVxuICogQHBhcmFtIHsqfSBjb250ZXh0IFRoZSBjb250ZXh0IHRvIHVzZSB3aGVuIGNhbGxpbmcgdGhlIGZ1bmN0aW9uXG4gKiBAcGFyYW0gey4uLip9IGFyZ3MgQXJndW1lbnRzIGZvciBmdW5jdGlvblxuICovXG5cbmZ1bmN0aW9uIGludm9rZUd1YXJkZWRDYWxsYmFja0FuZENhdGNoRmlyc3RFcnJvcihuYW1lLCBmdW5jLCBjb250ZXh0LCBhLCBiLCBjLCBkLCBlLCBmKSB7XG4gIGludm9rZUd1YXJkZWRDYWxsYmFjay5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gIGlmIChoYXNFcnJvcikge1xuICAgIHZhciBlcnJvciA9IGNsZWFyQ2F1Z2h0RXJyb3IoKTtcblxuICAgIGlmICghaGFzUmV0aHJvd0Vycm9yKSB7XG4gICAgICBoYXNSZXRocm93RXJyb3IgPSB0cnVlO1xuICAgICAgcmV0aHJvd0Vycm9yID0gZXJyb3I7XG4gICAgfVxuICB9XG59XG4vKipcbiAqIER1cmluZyBleGVjdXRpb24gb2YgZ3VhcmRlZCBmdW5jdGlvbnMgd2Ugd2lsbCBjYXB0dXJlIHRoZSBmaXJzdCBlcnJvciB3aGljaFxuICogd2Ugd2lsbCByZXRocm93IHRvIGJlIGhhbmRsZWQgYnkgdGhlIHRvcCBsZXZlbCBlcnJvciBoYW5kbGVyLlxuICovXG5cbmZ1bmN0aW9uIHJldGhyb3dDYXVnaHRFcnJvcigpIHtcbiAgaWYgKGhhc1JldGhyb3dFcnJvcikge1xuICAgIHZhciBlcnJvciA9IHJldGhyb3dFcnJvcjtcbiAgICBoYXNSZXRocm93RXJyb3IgPSBmYWxzZTtcbiAgICByZXRocm93RXJyb3IgPSBudWxsO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5mdW5jdGlvbiBoYXNDYXVnaHRFcnJvcigpIHtcbiAgcmV0dXJuIGhhc0Vycm9yO1xufVxuZnVuY3Rpb24gY2xlYXJDYXVnaHRFcnJvcigpIHtcbiAgaWYgKGhhc0Vycm9yKSB7XG4gICAgdmFyIGVycm9yID0gY2F1Z2h0RXJyb3I7XG4gICAgaGFzRXJyb3IgPSBmYWxzZTtcbiAgICBjYXVnaHRFcnJvciA9IG51bGw7XG4gICAgcmV0dXJuIGVycm9yO1xuICB9IGVsc2Uge1xuICAgIHtcbiAgICAgIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJjbGVhckNhdWdodEVycm9yIHdhcyBjYWxsZWQgYnV0IG5vIGVycm9yIHdhcyBjYXB0dXJlZC4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIik7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogU2ltaWxhciB0byBpbnZhcmlhbnQgYnV0IG9ubHkgbG9ncyBhIHdhcm5pbmcgaWYgdGhlIGNvbmRpdGlvbiBpcyBub3QgbWV0LlxuICogVGhpcyBjYW4gYmUgdXNlZCB0byBsb2cgaXNzdWVzIGluIGRldmVsb3BtZW50IGVudmlyb25tZW50cyBpbiBjcml0aWNhbFxuICogcGF0aHMuIFJlbW92aW5nIHRoZSBsb2dnaW5nIGNvZGUgZm9yIHByb2R1Y3Rpb24gZW52aXJvbm1lbnRzIHdpbGwga2VlcCB0aGVcbiAqIHNhbWUgbG9naWMgYW5kIGZvbGxvdyB0aGUgc2FtZSBjb2RlIHBhdGhzLlxuICovXG52YXIgd2FybmluZ1dpdGhvdXRTdGFjayA9IGZ1bmN0aW9uICgpIHt9O1xuXG57XG4gIHdhcm5pbmdXaXRob3V0U3RhY2sgPSBmdW5jdGlvbiAoY29uZGl0aW9uLCBmb3JtYXQpIHtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuID4gMiA/IF9sZW4gLSAyIDogMCksIF9rZXkgPSAyOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXkgLSAyXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignYHdhcm5pbmdXaXRob3V0U3RhY2soY29uZGl0aW9uLCBmb3JtYXQsIC4uLmFyZ3MpYCByZXF1aXJlcyBhIHdhcm5pbmcgJyArICdtZXNzYWdlIGFyZ3VtZW50Jyk7XG4gICAgfVxuXG4gICAgaWYgKGFyZ3MubGVuZ3RoID4gOCkge1xuICAgICAgLy8gQ2hlY2sgYmVmb3JlIHRoZSBjb25kaXRpb24gdG8gY2F0Y2ggdmlvbGF0aW9ucyBlYXJseS5cbiAgICAgIHRocm93IG5ldyBFcnJvcignd2FybmluZ1dpdGhvdXRTdGFjaygpIGN1cnJlbnRseSBzdXBwb3J0cyBhdCBtb3N0IDggYXJndW1lbnRzLicpO1xuICAgIH1cblxuICAgIGlmIChjb25kaXRpb24pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YXIgYXJnc1dpdGhGb3JtYXQgPSBhcmdzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICByZXR1cm4gJycgKyBpdGVtO1xuICAgICAgfSk7XG4gICAgICBhcmdzV2l0aEZvcm1hdC51bnNoaWZ0KCdXYXJuaW5nOiAnICsgZm9ybWF0KTsgLy8gV2UgaW50ZW50aW9uYWxseSBkb24ndCB1c2Ugc3ByZWFkIChvciAuYXBwbHkpIGRpcmVjdGx5IGJlY2F1c2UgaXRcbiAgICAgIC8vIGJyZWFrcyBJRTk6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvMTM2MTBcblxuICAgICAgRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmNhbGwoY29uc29sZS5lcnJvciwgY29uc29sZSwgYXJnc1dpdGhGb3JtYXQpO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAvLyAtLS0gV2VsY29tZSB0byBkZWJ1Z2dpbmcgUmVhY3QgLS0tXG4gICAgICAvLyBUaGlzIGVycm9yIHdhcyB0aHJvd24gYXMgYSBjb252ZW5pZW5jZSBzbyB0aGF0IHlvdSBjYW4gdXNlIHRoaXMgc3RhY2tcbiAgICAgIC8vIHRvIGZpbmQgdGhlIGNhbGxzaXRlIHRoYXQgY2F1c2VkIHRoaXMgd2FybmluZyB0byBmaXJlLlxuICAgICAgdmFyIGFyZ0luZGV4ID0gMDtcbiAgICAgIHZhciBtZXNzYWdlID0gJ1dhcm5pbmc6ICcgKyBmb3JtYXQucmVwbGFjZSgvJXMvZywgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gYXJnc1thcmdJbmRleCsrXTtcbiAgICAgIH0pO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgIH0gY2F0Y2ggKHgpIHt9XG4gIH07XG59XG5cbnZhciB3YXJuaW5nV2l0aG91dFN0YWNrJDEgPSB3YXJuaW5nV2l0aG91dFN0YWNrO1xuXG52YXIgZ2V0RmliZXJDdXJyZW50UHJvcHNGcm9tTm9kZSA9IG51bGw7XG52YXIgZ2V0SW5zdGFuY2VGcm9tTm9kZSA9IG51bGw7XG52YXIgZ2V0Tm9kZUZyb21JbnN0YW5jZSA9IG51bGw7XG5mdW5jdGlvbiBzZXRDb21wb25lbnRUcmVlKGdldEZpYmVyQ3VycmVudFByb3BzRnJvbU5vZGVJbXBsLCBnZXRJbnN0YW5jZUZyb21Ob2RlSW1wbCwgZ2V0Tm9kZUZyb21JbnN0YW5jZUltcGwpIHtcbiAgZ2V0RmliZXJDdXJyZW50UHJvcHNGcm9tTm9kZSA9IGdldEZpYmVyQ3VycmVudFByb3BzRnJvbU5vZGVJbXBsO1xuICBnZXRJbnN0YW5jZUZyb21Ob2RlID0gZ2V0SW5zdGFuY2VGcm9tTm9kZUltcGw7XG4gIGdldE5vZGVGcm9tSW5zdGFuY2UgPSBnZXROb2RlRnJvbUluc3RhbmNlSW1wbDtcblxuICB7XG4gICAgIShnZXROb2RlRnJvbUluc3RhbmNlICYmIGdldEluc3RhbmNlRnJvbU5vZGUpID8gd2FybmluZ1dpdGhvdXRTdGFjayQxKGZhbHNlLCAnRXZlbnRQbHVnaW5VdGlscy5zZXRDb21wb25lbnRUcmVlKC4uLik6IEluamVjdGVkICcgKyAnbW9kdWxlIGlzIG1pc3NpbmcgZ2V0Tm9kZUZyb21JbnN0YW5jZSBvciBnZXRJbnN0YW5jZUZyb21Ob2RlLicpIDogdm9pZCAwO1xuICB9XG59XG52YXIgdmFsaWRhdGVFdmVudERpc3BhdGNoZXM7XG5cbntcbiAgdmFsaWRhdGVFdmVudERpc3BhdGNoZXMgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICB2YXIgZGlzcGF0Y2hMaXN0ZW5lcnMgPSBldmVudC5fZGlzcGF0Y2hMaXN0ZW5lcnM7XG4gICAgdmFyIGRpc3BhdGNoSW5zdGFuY2VzID0gZXZlbnQuX2Rpc3BhdGNoSW5zdGFuY2VzO1xuICAgIHZhciBsaXN0ZW5lcnNJc0FyciA9IEFycmF5LmlzQXJyYXkoZGlzcGF0Y2hMaXN0ZW5lcnMpO1xuICAgIHZhciBsaXN0ZW5lcnNMZW4gPSBsaXN0ZW5lcnNJc0FyciA/IGRpc3BhdGNoTGlzdGVuZXJzLmxlbmd0aCA6IGRpc3BhdGNoTGlzdGVuZXJzID8gMSA6IDA7XG4gICAgdmFyIGluc3RhbmNlc0lzQXJyID0gQXJyYXkuaXNBcnJheShkaXNwYXRjaEluc3RhbmNlcyk7XG4gICAgdmFyIGluc3RhbmNlc0xlbiA9IGluc3RhbmNlc0lzQXJyID8gZGlzcGF0Y2hJbnN0YW5jZXMubGVuZ3RoIDogZGlzcGF0Y2hJbnN0YW5jZXMgPyAxIDogMDtcbiAgICAhKGluc3RhbmNlc0lzQXJyID09PSBsaXN0ZW5lcnNJc0FyciAmJiBpbnN0YW5jZXNMZW4gPT09IGxpc3RlbmVyc0xlbikgPyB3YXJuaW5nV2l0aG91dFN0YWNrJDEoZmFsc2UsICdFdmVudFBsdWdpblV0aWxzOiBJbnZhbGlkIGBldmVudGAuJykgOiB2b2lkIDA7XG4gIH07XG59XG4vKipcbiAqIERpc3BhdGNoIHRoZSBldmVudCB0byB0aGUgbGlzdGVuZXIuXG4gKiBAcGFyYW0ge1N5bnRoZXRpY0V2ZW50fSBldmVudCBTeW50aGV0aWNFdmVudCB0byBoYW5kbGVcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGxpc3RlbmVyIEFwcGxpY2F0aW9uLWxldmVsIGNhbGxiYWNrXG4gKiBAcGFyYW0geyp9IGluc3QgSW50ZXJuYWwgY29tcG9uZW50IGluc3RhbmNlXG4gKi9cblxuXG5mdW5jdGlvbiBleGVjdXRlRGlzcGF0Y2goZXZlbnQsIGxpc3RlbmVyLCBpbnN0KSB7XG4gIHZhciB0eXBlID0gZXZlbnQudHlwZSB8fCAndW5rbm93bi1ldmVudCc7XG4gIGV2ZW50LmN1cnJlbnRUYXJnZXQgPSBnZXROb2RlRnJvbUluc3RhbmNlKGluc3QpO1xuICBpbnZva2VHdWFyZGVkQ2FsbGJhY2tBbmRDYXRjaEZpcnN0RXJyb3IodHlwZSwgbGlzdGVuZXIsIHVuZGVmaW5lZCwgZXZlbnQpO1xuICBldmVudC5jdXJyZW50VGFyZ2V0ID0gbnVsbDtcbn1cbi8qKlxuICogU3RhbmRhcmQvc2ltcGxlIGl0ZXJhdGlvbiB0aHJvdWdoIGFuIGV2ZW50J3MgY29sbGVjdGVkIGRpc3BhdGNoZXMuXG4gKi9cblxuZnVuY3Rpb24gZXhlY3V0ZURpc3BhdGNoZXNJbk9yZGVyKGV2ZW50KSB7XG4gIHZhciBkaXNwYXRjaExpc3RlbmVycyA9IGV2ZW50Ll9kaXNwYXRjaExpc3RlbmVycztcbiAgdmFyIGRpc3BhdGNoSW5zdGFuY2VzID0gZXZlbnQuX2Rpc3BhdGNoSW5zdGFuY2VzO1xuXG4gIHtcbiAgICB2YWxpZGF0ZUV2ZW50RGlzcGF0Y2hlcyhldmVudCk7XG4gIH1cblxuICBpZiAoQXJyYXkuaXNBcnJheShkaXNwYXRjaExpc3RlbmVycykpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRpc3BhdGNoTGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoZXZlbnQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH0gLy8gTGlzdGVuZXJzIGFuZCBJbnN0YW5jZXMgYXJlIHR3byBwYXJhbGxlbCBhcnJheXMgdGhhdCBhcmUgYWx3YXlzIGluIHN5bmMuXG5cblxuICAgICAgZXhlY3V0ZURpc3BhdGNoKGV2ZW50LCBkaXNwYXRjaExpc3RlbmVyc1tpXSwgZGlzcGF0Y2hJbnN0YW5jZXNbaV0pO1xuICAgIH1cbiAgfSBlbHNlIGlmIChkaXNwYXRjaExpc3RlbmVycykge1xuICAgIGV4ZWN1dGVEaXNwYXRjaChldmVudCwgZGlzcGF0Y2hMaXN0ZW5lcnMsIGRpc3BhdGNoSW5zdGFuY2VzKTtcbiAgfVxuXG4gIGV2ZW50Ll9kaXNwYXRjaExpc3RlbmVycyA9IG51bGw7XG4gIGV2ZW50Ll9kaXNwYXRjaEluc3RhbmNlcyA9IG51bGw7XG59XG4vKipcbiAqIEBzZWUgZXhlY3V0ZURpc3BhdGNoZXNJbk9yZGVyU3RvcEF0VHJ1ZUltcGxcbiAqL1xuXG5cblxuLyoqXG4gKiBFeGVjdXRpb24gb2YgYSBcImRpcmVjdFwiIGRpc3BhdGNoIC0gdGhlcmUgbXVzdCBiZSBhdCBtb3N0IG9uZSBkaXNwYXRjaFxuICogYWNjdW11bGF0ZWQgb24gdGhlIGV2ZW50IG9yIGl0IGlzIGNvbnNpZGVyZWQgYW4gZXJyb3IuIEl0IGRvZXNuJ3QgcmVhbGx5IG1ha2VcbiAqIHNlbnNlIGZvciBhbiBldmVudCB3aXRoIG11bHRpcGxlIGRpc3BhdGNoZXMgKGJ1YmJsZWQpIHRvIGtlZXAgdHJhY2sgb2YgdGhlXG4gKiByZXR1cm4gdmFsdWVzIGF0IGVhY2ggZGlzcGF0Y2ggZXhlY3V0aW9uLCBidXQgaXQgZG9lcyB0ZW5kIHRvIG1ha2Ugc2Vuc2Ugd2hlblxuICogZGVhbGluZyB3aXRoIFwiZGlyZWN0XCIgZGlzcGF0Y2hlcy5cbiAqXG4gKiBAcmV0dXJuIHsqfSBUaGUgcmV0dXJuIHZhbHVlIG9mIGV4ZWN1dGluZyB0aGUgc2luZ2xlIGRpc3BhdGNoLlxuICovXG5cblxuLyoqXG4gKiBAcGFyYW0ge1N5bnRoZXRpY0V2ZW50fSBldmVudFxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZmYgbnVtYmVyIG9mIGRpc3BhdGNoZXMgYWNjdW11bGF0ZWQgaXMgZ3JlYXRlciB0aGFuIDAuXG4gKi9cblxuLyoqXG4gKiBBY2N1bXVsYXRlcyBpdGVtcyB0aGF0IG11c3Qgbm90IGJlIG51bGwgb3IgdW5kZWZpbmVkIGludG8gdGhlIGZpcnN0IG9uZS4gVGhpc1xuICogaXMgdXNlZCB0byBjb25zZXJ2ZSBtZW1vcnkgYnkgYXZvaWRpbmcgYXJyYXkgYWxsb2NhdGlvbnMsIGFuZCB0aHVzIHNhY3JpZmljZXNcbiAqIEFQSSBjbGVhbm5lc3MuIFNpbmNlIGBjdXJyZW50YCBjYW4gYmUgbnVsbCBiZWZvcmUgYmVpbmcgcGFzc2VkIGluIGFuZCBub3RcbiAqIG51bGwgYWZ0ZXIgdGhpcyBmdW5jdGlvbiwgbWFrZSBzdXJlIHRvIGFzc2lnbiBpdCBiYWNrIHRvIGBjdXJyZW50YDpcbiAqXG4gKiBgYSA9IGFjY3VtdWxhdGVJbnRvKGEsIGIpO2BcbiAqXG4gKiBUaGlzIEFQSSBzaG91bGQgYmUgc3BhcmluZ2x5IHVzZWQuIFRyeSBgYWNjdW11bGF0ZWAgZm9yIHNvbWV0aGluZyBjbGVhbmVyLlxuICpcbiAqIEByZXR1cm4geyp8YXJyYXk8Kj59IEFuIGFjY3VtdWxhdGlvbiBvZiBpdGVtcy5cbiAqL1xuXG5mdW5jdGlvbiBhY2N1bXVsYXRlSW50byhjdXJyZW50LCBuZXh0KSB7XG4gIGlmICghKG5leHQgIT0gbnVsbCkpIHtcbiAgICB7XG4gICAgICB0aHJvdyBFcnJvcihcImFjY3VtdWxhdGVJbnRvKC4uLik6IEFjY3VtdWxhdGVkIGl0ZW1zIG11c3Qgbm90IGJlIG51bGwgb3IgdW5kZWZpbmVkLlwiKTtcbiAgICB9XG4gIH1cblxuICBpZiAoY3VycmVudCA9PSBudWxsKSB7XG4gICAgcmV0dXJuIG5leHQ7XG4gIH0gLy8gQm90aCBhcmUgbm90IGVtcHR5LiBXYXJuaW5nOiBOZXZlciBjYWxsIHguY29uY2F0KHkpIHdoZW4geW91IGFyZSBub3RcbiAgLy8gY2VydGFpbiB0aGF0IHggaXMgYW4gQXJyYXkgKHggY291bGQgYmUgYSBzdHJpbmcgd2l0aCBjb25jYXQgbWV0aG9kKS5cblxuXG4gIGlmIChBcnJheS5pc0FycmF5KGN1cnJlbnQpKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkobmV4dCkpIHtcbiAgICAgIGN1cnJlbnQucHVzaC5hcHBseShjdXJyZW50LCBuZXh0KTtcbiAgICAgIHJldHVybiBjdXJyZW50O1xuICAgIH1cblxuICAgIGN1cnJlbnQucHVzaChuZXh0KTtcbiAgICByZXR1cm4gY3VycmVudDtcbiAgfVxuXG4gIGlmIChBcnJheS5pc0FycmF5KG5leHQpKSB7XG4gICAgLy8gQSBiaXQgdG9vIGRhbmdlcm91cyB0byBtdXRhdGUgYG5leHRgLlxuICAgIHJldHVybiBbY3VycmVudF0uY29uY2F0KG5leHQpO1xuICB9XG5cbiAgcmV0dXJuIFtjdXJyZW50LCBuZXh0XTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge2FycmF5fSBhcnIgYW4gXCJhY2N1bXVsYXRpb25cIiBvZiBpdGVtcyB3aGljaCBpcyBlaXRoZXIgYW4gQXJyYXkgb3JcbiAqIGEgc2luZ2xlIGl0ZW0uIFVzZWZ1bCB3aGVuIHBhaXJlZCB3aXRoIHRoZSBgYWNjdW11bGF0ZWAgbW9kdWxlLiBUaGlzIGlzIGFcbiAqIHNpbXBsZSB1dGlsaXR5IHRoYXQgYWxsb3dzIHVzIHRvIHJlYXNvbiBhYm91dCBhIGNvbGxlY3Rpb24gb2YgaXRlbXMsIGJ1dFxuICogaGFuZGxpbmcgdGhlIGNhc2Ugd2hlbiB0aGVyZSBpcyBleGFjdGx5IG9uZSBpdGVtIChhbmQgd2UgZG8gbm90IG5lZWQgdG9cbiAqIGFsbG9jYXRlIGFuIGFycmF5KS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNiIENhbGxiYWNrIGludm9rZWQgd2l0aCBlYWNoIGVsZW1lbnQgb3IgYSBjb2xsZWN0aW9uLlxuICogQHBhcmFtIHs/fSBbc2NvcGVdIFNjb3BlIHVzZWQgYXMgYHRoaXNgIGluIGEgY2FsbGJhY2suXG4gKi9cbmZ1bmN0aW9uIGZvckVhY2hBY2N1bXVsYXRlZChhcnIsIGNiLCBzY29wZSkge1xuICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7XG4gICAgYXJyLmZvckVhY2goY2IsIHNjb3BlKTtcbiAgfSBlbHNlIGlmIChhcnIpIHtcbiAgICBjYi5jYWxsKHNjb3BlLCBhcnIpO1xuICB9XG59XG5cbi8qKlxuICogSW50ZXJuYWwgcXVldWUgb2YgZXZlbnRzIHRoYXQgaGF2ZSBhY2N1bXVsYXRlZCB0aGVpciBkaXNwYXRjaGVzIGFuZCBhcmVcbiAqIHdhaXRpbmcgdG8gaGF2ZSB0aGVpciBkaXNwYXRjaGVzIGV4ZWN1dGVkLlxuICovXG5cbnZhciBldmVudFF1ZXVlID0gbnVsbDtcbi8qKlxuICogRGlzcGF0Y2hlcyBhbiBldmVudCBhbmQgcmVsZWFzZXMgaXQgYmFjayBpbnRvIHRoZSBwb29sLCB1bmxlc3MgcGVyc2lzdGVudC5cbiAqXG4gKiBAcGFyYW0gez9vYmplY3R9IGV2ZW50IFN5bnRoZXRpYyBldmVudCB0byBiZSBkaXNwYXRjaGVkLlxuICogQHByaXZhdGVcbiAqL1xuXG52YXIgZXhlY3V0ZURpc3BhdGNoZXNBbmRSZWxlYXNlID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gIGlmIChldmVudCkge1xuICAgIGV4ZWN1dGVEaXNwYXRjaGVzSW5PcmRlcihldmVudCk7XG5cbiAgICBpZiAoIWV2ZW50LmlzUGVyc2lzdGVudCgpKSB7XG4gICAgICBldmVudC5jb25zdHJ1Y3Rvci5yZWxlYXNlKGV2ZW50KTtcbiAgICB9XG4gIH1cbn07XG5cbnZhciBleGVjdXRlRGlzcGF0Y2hlc0FuZFJlbGVhc2VUb3BMZXZlbCA9IGZ1bmN0aW9uIChlKSB7XG4gIHJldHVybiBleGVjdXRlRGlzcGF0Y2hlc0FuZFJlbGVhc2UoZSk7XG59O1xuXG5mdW5jdGlvbiBydW5FdmVudHNJbkJhdGNoKGV2ZW50cykge1xuICBpZiAoZXZlbnRzICE9PSBudWxsKSB7XG4gICAgZXZlbnRRdWV1ZSA9IGFjY3VtdWxhdGVJbnRvKGV2ZW50UXVldWUsIGV2ZW50cyk7XG4gIH0gLy8gU2V0IGBldmVudFF1ZXVlYCB0byBudWxsIGJlZm9yZSBwcm9jZXNzaW5nIGl0IHNvIHRoYXQgd2UgY2FuIHRlbGwgaWYgbW9yZVxuICAvLyBldmVudHMgZ2V0IGVucXVldWVkIHdoaWxlIHByb2Nlc3NpbmcuXG5cblxuICB2YXIgcHJvY2Vzc2luZ0V2ZW50UXVldWUgPSBldmVudFF1ZXVlO1xuICBldmVudFF1ZXVlID0gbnVsbDtcblxuICBpZiAoIXByb2Nlc3NpbmdFdmVudFF1ZXVlKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgZm9yRWFjaEFjY3VtdWxhdGVkKHByb2Nlc3NpbmdFdmVudFF1ZXVlLCBleGVjdXRlRGlzcGF0Y2hlc0FuZFJlbGVhc2VUb3BMZXZlbCk7XG5cbiAgaWYgKCEhZXZlbnRRdWV1ZSkge1xuICAgIHtcbiAgICAgIHRocm93IEVycm9yKFwicHJvY2Vzc0V2ZW50UXVldWUoKTogQWRkaXRpb25hbCBldmVudHMgd2VyZSBlbnF1ZXVlZCB3aGlsZSBwcm9jZXNzaW5nIGFuIGV2ZW50IHF1ZXVlLiBTdXBwb3J0IGZvciB0aGlzIGhhcyBub3QgeWV0IGJlZW4gaW1wbGVtZW50ZWQuXCIpO1xuICAgIH1cbiAgfSAvLyBUaGlzIHdvdWxkIGJlIGEgZ29vZCB0aW1lIHRvIHJldGhyb3cgaWYgYW55IG9mIHRoZSBldmVudCBoYW5kbGVycyB0aHJldy5cblxuXG4gIHJldGhyb3dDYXVnaHRFcnJvcigpO1xufVxuXG5mdW5jdGlvbiBpc0ludGVyYWN0aXZlKHRhZykge1xuICByZXR1cm4gdGFnID09PSAnYnV0dG9uJyB8fCB0YWcgPT09ICdpbnB1dCcgfHwgdGFnID09PSAnc2VsZWN0JyB8fCB0YWcgPT09ICd0ZXh0YXJlYSc7XG59XG5cbmZ1bmN0aW9uIHNob3VsZFByZXZlbnRNb3VzZUV2ZW50KG5hbWUsIHR5cGUsIHByb3BzKSB7XG4gIHN3aXRjaCAobmFtZSkge1xuICAgIGNhc2UgJ29uQ2xpY2snOlxuICAgIGNhc2UgJ29uQ2xpY2tDYXB0dXJlJzpcbiAgICBjYXNlICdvbkRvdWJsZUNsaWNrJzpcbiAgICBjYXNlICdvbkRvdWJsZUNsaWNrQ2FwdHVyZSc6XG4gICAgY2FzZSAnb25Nb3VzZURvd24nOlxuICAgIGNhc2UgJ29uTW91c2VEb3duQ2FwdHVyZSc6XG4gICAgY2FzZSAnb25Nb3VzZU1vdmUnOlxuICAgIGNhc2UgJ29uTW91c2VNb3ZlQ2FwdHVyZSc6XG4gICAgY2FzZSAnb25Nb3VzZVVwJzpcbiAgICBjYXNlICdvbk1vdXNlVXBDYXB0dXJlJzpcbiAgICAgIHJldHVybiAhIShwcm9wcy5kaXNhYmxlZCAmJiBpc0ludGVyYWN0aXZlKHR5cGUpKTtcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cbi8qKlxuICogVGhpcyBpcyBhIHVuaWZpZWQgaW50ZXJmYWNlIGZvciBldmVudCBwbHVnaW5zIHRvIGJlIGluc3RhbGxlZCBhbmQgY29uZmlndXJlZC5cbiAqXG4gKiBFdmVudCBwbHVnaW5zIGNhbiBpbXBsZW1lbnQgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICpcbiAqICAgYGV4dHJhY3RFdmVudHNgIHtmdW5jdGlvbihzdHJpbmcsIERPTUV2ZW50VGFyZ2V0LCBzdHJpbmcsIG9iamVjdCk6ICp9XG4gKiAgICAgUmVxdWlyZWQuIFdoZW4gYSB0b3AtbGV2ZWwgZXZlbnQgaXMgZmlyZWQsIHRoaXMgbWV0aG9kIGlzIGV4cGVjdGVkIHRvXG4gKiAgICAgZXh0cmFjdCBzeW50aGV0aWMgZXZlbnRzIHRoYXQgd2lsbCBpbiB0dXJuIGJlIHF1ZXVlZCBhbmQgZGlzcGF0Y2hlZC5cbiAqXG4gKiAgIGBldmVudFR5cGVzYCB7b2JqZWN0fVxuICogICAgIE9wdGlvbmFsLCBwbHVnaW5zIHRoYXQgZmlyZSBldmVudHMgbXVzdCBwdWJsaXNoIGEgbWFwcGluZyBvZiByZWdpc3RyYXRpb25cbiAqICAgICBuYW1lcyB0aGF0IGFyZSB1c2VkIHRvIHJlZ2lzdGVyIGxpc3RlbmVycy4gVmFsdWVzIG9mIHRoaXMgbWFwcGluZyBtdXN0XG4gKiAgICAgYmUgb2JqZWN0cyB0aGF0IGNvbnRhaW4gYHJlZ2lzdHJhdGlvbk5hbWVgIG9yIGBwaGFzZWRSZWdpc3RyYXRpb25OYW1lc2AuXG4gKlxuICogICBgZXhlY3V0ZURpc3BhdGNoYCB7ZnVuY3Rpb24ob2JqZWN0LCBmdW5jdGlvbiwgc3RyaW5nKX1cbiAqICAgICBPcHRpb25hbCwgYWxsb3dzIHBsdWdpbnMgdG8gb3ZlcnJpZGUgaG93IGFuIGV2ZW50IGdldHMgZGlzcGF0Y2hlZC4gQnlcbiAqICAgICBkZWZhdWx0LCB0aGUgbGlzdGVuZXIgaXMgc2ltcGx5IGludm9rZWQuXG4gKlxuICogRWFjaCBwbHVnaW4gdGhhdCBpcyBpbmplY3RlZCBpbnRvIGBFdmVudHNQbHVnaW5IdWJgIGlzIGltbWVkaWF0ZWx5IG9wZXJhYmxlLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuXG4vKipcbiAqIE1ldGhvZHMgZm9yIGluamVjdGluZyBkZXBlbmRlbmNpZXMuXG4gKi9cblxuXG52YXIgaW5qZWN0aW9uID0ge1xuICAvKipcbiAgICogQHBhcmFtIHthcnJheX0gSW5qZWN0ZWRFdmVudFBsdWdpbk9yZGVyXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIGluamVjdEV2ZW50UGx1Z2luT3JkZXI6IGluamVjdEV2ZW50UGx1Z2luT3JkZXIsXG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBpbmplY3RlZE5hbWVzVG9QbHVnaW5zIE1hcCBmcm9tIG5hbWVzIHRvIHBsdWdpbiBtb2R1bGVzLlxuICAgKi9cbiAgaW5qZWN0RXZlbnRQbHVnaW5zQnlOYW1lOiBpbmplY3RFdmVudFBsdWdpbnNCeU5hbWVcbn07XG4vKipcbiAqIEBwYXJhbSB7b2JqZWN0fSBpbnN0IFRoZSBpbnN0YW5jZSwgd2hpY2ggaXMgdGhlIHNvdXJjZSBvZiBldmVudHMuXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVnaXN0cmF0aW9uTmFtZSBOYW1lIG9mIGxpc3RlbmVyIChlLmcuIGBvbkNsaWNrYCkuXG4gKiBAcmV0dXJuIHs/ZnVuY3Rpb259IFRoZSBzdG9yZWQgY2FsbGJhY2suXG4gKi9cblxuZnVuY3Rpb24gZ2V0TGlzdGVuZXIoaW5zdCwgcmVnaXN0cmF0aW9uTmFtZSkge1xuICB2YXIgbGlzdGVuZXI7IC8vIFRPRE86IHNob3VsZFByZXZlbnRNb3VzZUV2ZW50IGlzIERPTS1zcGVjaWZpYyBhbmQgZGVmaW5pdGVseSBzaG91bGQgbm90XG4gIC8vIGxpdmUgaGVyZTsgbmVlZHMgdG8gYmUgbW92ZWQgdG8gYSBiZXR0ZXIgcGxhY2Ugc29vblxuXG4gIHZhciBzdGF0ZU5vZGUgPSBpbnN0LnN0YXRlTm9kZTtcblxuICBpZiAoIXN0YXRlTm9kZSkge1xuICAgIC8vIFdvcmsgaW4gcHJvZ3Jlc3MgKGV4OiBvbmxvYWQgZXZlbnRzIGluIGluY3JlbWVudGFsIG1vZGUpLlxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgdmFyIHByb3BzID0gZ2V0RmliZXJDdXJyZW50UHJvcHNGcm9tTm9kZShzdGF0ZU5vZGUpO1xuXG4gIGlmICghcHJvcHMpIHtcbiAgICAvLyBXb3JrIGluIHByb2dyZXNzLlxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgbGlzdGVuZXIgPSBwcm9wc1tyZWdpc3RyYXRpb25OYW1lXTtcblxuICBpZiAoc2hvdWxkUHJldmVudE1vdXNlRXZlbnQocmVnaXN0cmF0aW9uTmFtZSwgaW5zdC50eXBlLCBwcm9wcykpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGlmICghKCFsaXN0ZW5lciB8fCB0eXBlb2YgbGlzdGVuZXIgPT09ICdmdW5jdGlvbicpKSB7XG4gICAge1xuICAgICAgdGhyb3cgRXJyb3IoXCJFeHBlY3RlZCBgXCIgKyByZWdpc3RyYXRpb25OYW1lICsgXCJgIGxpc3RlbmVyIHRvIGJlIGEgZnVuY3Rpb24sIGluc3RlYWQgZ290IGEgdmFsdWUgb2YgYFwiICsgdHlwZW9mIGxpc3RlbmVyICsgXCJgIHR5cGUuXCIpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBsaXN0ZW5lcjtcbn1cbi8qKlxuICogQWxsb3dzIHJlZ2lzdGVyZWQgcGx1Z2lucyBhbiBvcHBvcnR1bml0eSB0byBleHRyYWN0IGV2ZW50cyBmcm9tIHRvcC1sZXZlbFxuICogbmF0aXZlIGJyb3dzZXIgZXZlbnRzLlxuICpcbiAqIEByZXR1cm4geyp9IEFuIGFjY3VtdWxhdGlvbiBvZiBzeW50aGV0aWMgZXZlbnRzLlxuICogQGludGVybmFsXG4gKi9cblxuZnVuY3Rpb24gZXh0cmFjdFBsdWdpbkV2ZW50cyh0b3BMZXZlbFR5cGUsIHRhcmdldEluc3QsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCwgZXZlbnRTeXN0ZW1GbGFncykge1xuICB2YXIgZXZlbnRzID0gbnVsbDtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHBsdWdpbnMubGVuZ3RoOyBpKyspIHtcbiAgICAvLyBOb3QgZXZlcnkgcGx1Z2luIGluIHRoZSBvcmRlcmluZyBtYXkgYmUgbG9hZGVkIGF0IHJ1bnRpbWUuXG4gICAgdmFyIHBvc3NpYmxlUGx1Z2luID0gcGx1Z2luc1tpXTtcblxuICAgIGlmIChwb3NzaWJsZVBsdWdpbikge1xuICAgICAgdmFyIGV4dHJhY3RlZEV2ZW50cyA9IHBvc3NpYmxlUGx1Z2luLmV4dHJhY3RFdmVudHModG9wTGV2ZWxUeXBlLCB0YXJnZXRJbnN0LCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQsIGV2ZW50U3lzdGVtRmxhZ3MpO1xuXG4gICAgICBpZiAoZXh0cmFjdGVkRXZlbnRzKSB7XG4gICAgICAgIGV2ZW50cyA9IGFjY3VtdWxhdGVJbnRvKGV2ZW50cywgZXh0cmFjdGVkRXZlbnRzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gZXZlbnRzO1xufVxuXG5mdW5jdGlvbiBydW5FeHRyYWN0ZWRQbHVnaW5FdmVudHNJbkJhdGNoKHRvcExldmVsVHlwZSwgdGFyZ2V0SW5zdCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0LCBldmVudFN5c3RlbUZsYWdzKSB7XG4gIHZhciBldmVudHMgPSBleHRyYWN0UGx1Z2luRXZlbnRzKHRvcExldmVsVHlwZSwgdGFyZ2V0SW5zdCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0LCBldmVudFN5c3RlbUZsYWdzKTtcbiAgcnVuRXZlbnRzSW5CYXRjaChldmVudHMpO1xufVxuXG52YXIgRnVuY3Rpb25Db21wb25lbnQgPSAwO1xudmFyIENsYXNzQ29tcG9uZW50ID0gMTtcbnZhciBJbmRldGVybWluYXRlQ29tcG9uZW50ID0gMjsgLy8gQmVmb3JlIHdlIGtub3cgd2hldGhlciBpdCBpcyBmdW5jdGlvbiBvciBjbGFzc1xuXG52YXIgSG9zdFJvb3QgPSAzOyAvLyBSb290IG9mIGEgaG9zdCB0cmVlLiBDb3VsZCBiZSBuZXN0ZWQgaW5zaWRlIGFub3RoZXIgbm9kZS5cblxudmFyIEhvc3RQb3J0YWwgPSA0OyAvLyBBIHN1YnRyZWUuIENvdWxkIGJlIGFuIGVudHJ5IHBvaW50IHRvIGEgZGlmZmVyZW50IHJlbmRlcmVyLlxuXG52YXIgSG9zdENvbXBvbmVudCA9IDU7XG52YXIgSG9zdFRleHQgPSA2O1xudmFyIEZyYWdtZW50ID0gNztcbnZhciBNb2RlID0gODtcbnZhciBDb250ZXh0Q29uc3VtZXIgPSA5O1xudmFyIENvbnRleHRQcm92aWRlciA9IDEwO1xudmFyIEZvcndhcmRSZWYgPSAxMTtcbnZhciBQcm9maWxlciA9IDEyO1xudmFyIFN1c3BlbnNlQ29tcG9uZW50ID0gMTM7XG52YXIgTWVtb0NvbXBvbmVudCA9IDE0O1xudmFyIFNpbXBsZU1lbW9Db21wb25lbnQgPSAxNTtcbnZhciBMYXp5Q29tcG9uZW50ID0gMTY7XG52YXIgSW5jb21wbGV0ZUNsYXNzQ29tcG9uZW50ID0gMTc7XG52YXIgRGVoeWRyYXRlZEZyYWdtZW50ID0gMTg7XG52YXIgU3VzcGVuc2VMaXN0Q29tcG9uZW50ID0gMTk7XG52YXIgRnVuZGFtZW50YWxDb21wb25lbnQgPSAyMDtcbnZhciBTY29wZUNvbXBvbmVudCA9IDIxO1xuXG52YXIgUmVhY3RTaGFyZWRJbnRlcm5hbHMgPSBSZWFjdC5fX1NFQ1JFVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRDsgLy8gUHJldmVudCBuZXdlciByZW5kZXJlcnMgZnJvbSBSVEUgd2hlbiB1c2VkIHdpdGggb2xkZXIgcmVhY3QgcGFja2FnZSB2ZXJzaW9ucy5cbi8vIEN1cnJlbnQgb3duZXIgYW5kIGRpc3BhdGNoZXIgdXNlZCB0byBzaGFyZSB0aGUgc2FtZSByZWYsXG4vLyBidXQgUFIgIzE0NTQ4IHNwbGl0IHRoZW0gb3V0IHRvIGJldHRlciBzdXBwb3J0IHRoZSByZWFjdC1kZWJ1Zy10b29scyBwYWNrYWdlLlxuXG5pZiAoIVJlYWN0U2hhcmVkSW50ZXJuYWxzLmhhc093blByb3BlcnR5KCdSZWFjdEN1cnJlbnREaXNwYXRjaGVyJykpIHtcbiAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuUmVhY3RDdXJyZW50RGlzcGF0Y2hlciA9IHtcbiAgICBjdXJyZW50OiBudWxsXG4gIH07XG59XG5cbmlmICghUmVhY3RTaGFyZWRJbnRlcm5hbHMuaGFzT3duUHJvcGVydHkoJ1JlYWN0Q3VycmVudEJhdGNoQ29uZmlnJykpIHtcbiAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuUmVhY3RDdXJyZW50QmF0Y2hDb25maWcgPSB7XG4gICAgc3VzcGVuc2U6IG51bGxcbiAgfTtcbn1cblxudmFyIEJFRk9SRV9TTEFTSF9SRSA9IC9eKC4qKVtcXFxcXFwvXS87XG52YXIgZGVzY3JpYmVDb21wb25lbnRGcmFtZSA9IGZ1bmN0aW9uIChuYW1lLCBzb3VyY2UsIG93bmVyTmFtZSkge1xuICB2YXIgc291cmNlSW5mbyA9ICcnO1xuXG4gIGlmIChzb3VyY2UpIHtcbiAgICB2YXIgcGF0aCA9IHNvdXJjZS5maWxlTmFtZTtcbiAgICB2YXIgZmlsZU5hbWUgPSBwYXRoLnJlcGxhY2UoQkVGT1JFX1NMQVNIX1JFLCAnJyk7XG5cbiAgICB7XG4gICAgICAvLyBJbiBERVYsIGluY2x1ZGUgY29kZSBmb3IgYSBjb21tb24gc3BlY2lhbCBjYXNlOlxuICAgICAgLy8gcHJlZmVyIFwiZm9sZGVyL2luZGV4LmpzXCIgaW5zdGVhZCBvZiBqdXN0IFwiaW5kZXguanNcIi5cbiAgICAgIGlmICgvXmluZGV4XFwuLy50ZXN0KGZpbGVOYW1lKSkge1xuICAgICAgICB2YXIgbWF0Y2ggPSBwYXRoLm1hdGNoKEJFRk9SRV9TTEFTSF9SRSk7XG5cbiAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgdmFyIHBhdGhCZWZvcmVTbGFzaCA9IG1hdGNoWzFdO1xuXG4gICAgICAgICAgaWYgKHBhdGhCZWZvcmVTbGFzaCkge1xuICAgICAgICAgICAgdmFyIGZvbGRlck5hbWUgPSBwYXRoQmVmb3JlU2xhc2gucmVwbGFjZShCRUZPUkVfU0xBU0hfUkUsICcnKTtcbiAgICAgICAgICAgIGZpbGVOYW1lID0gZm9sZGVyTmFtZSArICcvJyArIGZpbGVOYW1lO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHNvdXJjZUluZm8gPSAnIChhdCAnICsgZmlsZU5hbWUgKyAnOicgKyBzb3VyY2UubGluZU51bWJlciArICcpJztcbiAgfSBlbHNlIGlmIChvd25lck5hbWUpIHtcbiAgICBzb3VyY2VJbmZvID0gJyAoY3JlYXRlZCBieSAnICsgb3duZXJOYW1lICsgJyknO1xuICB9XG5cbiAgcmV0dXJuICdcXG4gICAgaW4gJyArIChuYW1lIHx8ICdVbmtub3duJykgKyBzb3VyY2VJbmZvO1xufTtcblxuLy8gVGhlIFN5bWJvbCB1c2VkIHRvIHRhZyB0aGUgUmVhY3RFbGVtZW50LWxpa2UgdHlwZXMuIElmIHRoZXJlIGlzIG5vIG5hdGl2ZSBTeW1ib2xcbi8vIG5vciBwb2x5ZmlsbCwgdGhlbiBhIHBsYWluIG51bWJlciBpcyB1c2VkIGZvciBwZXJmb3JtYW5jZS5cbnZhciBoYXNTeW1ib2wgPSB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIFN5bWJvbC5mb3I7XG52YXIgUkVBQ1RfRUxFTUVOVF9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QuZWxlbWVudCcpIDogMHhlYWM3O1xudmFyIFJFQUNUX1BPUlRBTF9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QucG9ydGFsJykgOiAweGVhY2E7XG52YXIgUkVBQ1RfRlJBR01FTlRfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LmZyYWdtZW50JykgOiAweGVhY2I7XG52YXIgUkVBQ1RfU1RSSUNUX01PREVfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LnN0cmljdF9tb2RlJykgOiAweGVhY2M7XG52YXIgUkVBQ1RfUFJPRklMRVJfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LnByb2ZpbGVyJykgOiAweGVhZDI7XG52YXIgUkVBQ1RfUFJPVklERVJfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LnByb3ZpZGVyJykgOiAweGVhY2Q7XG52YXIgUkVBQ1RfQ09OVEVYVF9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QuY29udGV4dCcpIDogMHhlYWNlOyAvLyBUT0RPOiBXZSBkb24ndCB1c2UgQXN5bmNNb2RlIG9yIENvbmN1cnJlbnRNb2RlIGFueW1vcmUuIFRoZXkgd2VyZSB0ZW1wb3Jhcnlcbi8vICh1bnN0YWJsZSkgQVBJcyB0aGF0IGhhdmUgYmVlbiByZW1vdmVkLiBDYW4gd2UgcmVtb3ZlIHRoZSBzeW1ib2xzP1xuXG5cbnZhciBSRUFDVF9DT05DVVJSRU5UX01PREVfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LmNvbmN1cnJlbnRfbW9kZScpIDogMHhlYWNmO1xudmFyIFJFQUNUX0ZPUldBUkRfUkVGX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5mb3J3YXJkX3JlZicpIDogMHhlYWQwO1xudmFyIFJFQUNUX1NVU1BFTlNFX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5zdXNwZW5zZScpIDogMHhlYWQxO1xudmFyIFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LnN1c3BlbnNlX2xpc3QnKSA6IDB4ZWFkODtcbnZhciBSRUFDVF9NRU1PX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5tZW1vJykgOiAweGVhZDM7XG52YXIgUkVBQ1RfTEFaWV9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QubGF6eScpIDogMHhlYWQ0O1xudmFyIFJFQUNUX0ZVTkRBTUVOVEFMX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5mdW5kYW1lbnRhbCcpIDogMHhlYWQ1O1xudmFyIFJFQUNUX1JFU1BPTkRFUl9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QucmVzcG9uZGVyJykgOiAweGVhZDY7XG52YXIgUkVBQ1RfU0NPUEVfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LnNjb3BlJykgOiAweGVhZDc7XG52YXIgTUFZQkVfSVRFUkFUT1JfU1lNQk9MID0gdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBTeW1ib2wuaXRlcmF0b3I7XG52YXIgRkFVWF9JVEVSQVRPUl9TWU1CT0wgPSAnQEBpdGVyYXRvcic7XG5mdW5jdGlvbiBnZXRJdGVyYXRvckZuKG1heWJlSXRlcmFibGUpIHtcbiAgaWYgKG1heWJlSXRlcmFibGUgPT09IG51bGwgfHwgdHlwZW9mIG1heWJlSXRlcmFibGUgIT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICB2YXIgbWF5YmVJdGVyYXRvciA9IE1BWUJFX0lURVJBVE9SX1NZTUJPTCAmJiBtYXliZUl0ZXJhYmxlW01BWUJFX0lURVJBVE9SX1NZTUJPTF0gfHwgbWF5YmVJdGVyYWJsZVtGQVVYX0lURVJBVE9SX1NZTUJPTF07XG5cbiAgaWYgKHR5cGVvZiBtYXliZUl0ZXJhdG9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIG1heWJlSXRlcmF0b3I7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxuLyoqXG4gKiBTaW1pbGFyIHRvIGludmFyaWFudCBidXQgb25seSBsb2dzIGEgd2FybmluZyBpZiB0aGUgY29uZGl0aW9uIGlzIG5vdCBtZXQuXG4gKiBUaGlzIGNhbiBiZSB1c2VkIHRvIGxvZyBpc3N1ZXMgaW4gZGV2ZWxvcG1lbnQgZW52aXJvbm1lbnRzIGluIGNyaXRpY2FsXG4gKiBwYXRocy4gUmVtb3ZpbmcgdGhlIGxvZ2dpbmcgY29kZSBmb3IgcHJvZHVjdGlvbiBlbnZpcm9ubWVudHMgd2lsbCBrZWVwIHRoZVxuICogc2FtZSBsb2dpYyBhbmQgZm9sbG93IHRoZSBzYW1lIGNvZGUgcGF0aHMuXG4gKi9cblxudmFyIHdhcm5pbmcgPSB3YXJuaW5nV2l0aG91dFN0YWNrJDE7XG5cbntcbiAgd2FybmluZyA9IGZ1bmN0aW9uIChjb25kaXRpb24sIGZvcm1hdCkge1xuICAgIGlmIChjb25kaXRpb24pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZSA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLlJlYWN0RGVidWdDdXJyZW50RnJhbWU7XG4gICAgdmFyIHN0YWNrID0gUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZS5nZXRTdGFja0FkZGVuZHVtKCk7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1pbnRlcm5hbC93YXJuaW5nLWFuZC1pbnZhcmlhbnQtYXJnc1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiA+IDIgPyBfbGVuIC0gMiA6IDApLCBfa2V5ID0gMjsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5IC0gMl0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgd2FybmluZ1dpdGhvdXRTdGFjayQxLmFwcGx5KHZvaWQgMCwgW2ZhbHNlLCBmb3JtYXQgKyAnJXMnXS5jb25jYXQoYXJncywgW3N0YWNrXSkpO1xuICB9O1xufVxuXG52YXIgd2FybmluZyQxID0gd2FybmluZztcblxudmFyIFVuaW5pdGlhbGl6ZWQgPSAtMTtcbnZhciBQZW5kaW5nID0gMDtcbnZhciBSZXNvbHZlZCA9IDE7XG52YXIgUmVqZWN0ZWQgPSAyO1xuZnVuY3Rpb24gcmVmaW5lUmVzb2x2ZWRMYXp5Q29tcG9uZW50KGxhenlDb21wb25lbnQpIHtcbiAgcmV0dXJuIGxhenlDb21wb25lbnQuX3N0YXR1cyA9PT0gUmVzb2x2ZWQgPyBsYXp5Q29tcG9uZW50Ll9yZXN1bHQgOiBudWxsO1xufVxuZnVuY3Rpb24gaW5pdGlhbGl6ZUxhenlDb21wb25lbnRUeXBlKGxhenlDb21wb25lbnQpIHtcbiAgaWYgKGxhenlDb21wb25lbnQuX3N0YXR1cyA9PT0gVW5pbml0aWFsaXplZCkge1xuICAgIGxhenlDb21wb25lbnQuX3N0YXR1cyA9IFBlbmRpbmc7XG4gICAgdmFyIGN0b3IgPSBsYXp5Q29tcG9uZW50Ll9jdG9yO1xuICAgIHZhciB0aGVuYWJsZSA9IGN0b3IoKTtcbiAgICBsYXp5Q29tcG9uZW50Ll9yZXN1bHQgPSB0aGVuYWJsZTtcbiAgICB0aGVuYWJsZS50aGVuKGZ1bmN0aW9uIChtb2R1bGVPYmplY3QpIHtcbiAgICAgIGlmIChsYXp5Q29tcG9uZW50Ll9zdGF0dXMgPT09IFBlbmRpbmcpIHtcbiAgICAgICAgdmFyIGRlZmF1bHRFeHBvcnQgPSBtb2R1bGVPYmplY3QuZGVmYXVsdDtcblxuICAgICAgICB7XG4gICAgICAgICAgaWYgKGRlZmF1bHRFeHBvcnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd2FybmluZyQxKGZhbHNlLCAnbGF6eTogRXhwZWN0ZWQgdGhlIHJlc3VsdCBvZiBhIGR5bmFtaWMgaW1wb3J0KCkgY2FsbC4gJyArICdJbnN0ZWFkIHJlY2VpdmVkOiAlc1xcblxcbllvdXIgY29kZSBzaG91bGQgbG9vayBsaWtlOiBcXG4gICcgKyBcImNvbnN0IE15Q29tcG9uZW50ID0gbGF6eSgoKSA9PiBpbXBvcnQoJy4vTXlDb21wb25lbnQnKSlcIiwgbW9kdWxlT2JqZWN0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsYXp5Q29tcG9uZW50Ll9zdGF0dXMgPSBSZXNvbHZlZDtcbiAgICAgICAgbGF6eUNvbXBvbmVudC5fcmVzdWx0ID0gZGVmYXVsdEV4cG9ydDtcbiAgICAgIH1cbiAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgIGlmIChsYXp5Q29tcG9uZW50Ll9zdGF0dXMgPT09IFBlbmRpbmcpIHtcbiAgICAgICAgbGF6eUNvbXBvbmVudC5fc3RhdHVzID0gUmVqZWN0ZWQ7XG4gICAgICAgIGxhenlDb21wb25lbnQuX3Jlc3VsdCA9IGVycm9yO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldFdyYXBwZWROYW1lKG91dGVyVHlwZSwgaW5uZXJUeXBlLCB3cmFwcGVyTmFtZSkge1xuICB2YXIgZnVuY3Rpb25OYW1lID0gaW5uZXJUeXBlLmRpc3BsYXlOYW1lIHx8IGlubmVyVHlwZS5uYW1lIHx8ICcnO1xuICByZXR1cm4gb3V0ZXJUeXBlLmRpc3BsYXlOYW1lIHx8IChmdW5jdGlvbk5hbWUgIT09ICcnID8gd3JhcHBlck5hbWUgKyBcIihcIiArIGZ1bmN0aW9uTmFtZSArIFwiKVwiIDogd3JhcHBlck5hbWUpO1xufVxuXG5mdW5jdGlvbiBnZXRDb21wb25lbnROYW1lKHR5cGUpIHtcbiAgaWYgKHR5cGUgPT0gbnVsbCkge1xuICAgIC8vIEhvc3Qgcm9vdCwgdGV4dCBub2RlIG9yIGp1c3QgaW52YWxpZCB0eXBlLlxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAge1xuICAgIGlmICh0eXBlb2YgdHlwZS50YWcgPT09ICdudW1iZXInKSB7XG4gICAgICB3YXJuaW5nV2l0aG91dFN0YWNrJDEoZmFsc2UsICdSZWNlaXZlZCBhbiB1bmV4cGVjdGVkIG9iamVjdCBpbiBnZXRDb21wb25lbnROYW1lKCkuICcgKyAnVGhpcyBpcyBsaWtlbHkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpO1xuICAgIH1cbiAgfVxuXG4gIGlmICh0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiB0eXBlLmRpc3BsYXlOYW1lIHx8IHR5cGUubmFtZSB8fCBudWxsO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiB0eXBlO1xuICB9XG5cbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSBSRUFDVF9GUkFHTUVOVF9UWVBFOlxuICAgICAgcmV0dXJuICdGcmFnbWVudCc7XG5cbiAgICBjYXNlIFJFQUNUX1BPUlRBTF9UWVBFOlxuICAgICAgcmV0dXJuICdQb3J0YWwnO1xuXG4gICAgY2FzZSBSRUFDVF9QUk9GSUxFUl9UWVBFOlxuICAgICAgcmV0dXJuIFwiUHJvZmlsZXJcIjtcblxuICAgIGNhc2UgUkVBQ1RfU1RSSUNUX01PREVfVFlQRTpcbiAgICAgIHJldHVybiAnU3RyaWN0TW9kZSc7XG5cbiAgICBjYXNlIFJFQUNUX1NVU1BFTlNFX1RZUEU6XG4gICAgICByZXR1cm4gJ1N1c3BlbnNlJztcblxuICAgIGNhc2UgUkVBQ1RfU1VTUEVOU0VfTElTVF9UWVBFOlxuICAgICAgcmV0dXJuICdTdXNwZW5zZUxpc3QnO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnb2JqZWN0Jykge1xuICAgIHN3aXRjaCAodHlwZS4kJHR5cGVvZikge1xuICAgICAgY2FzZSBSRUFDVF9DT05URVhUX1RZUEU6XG4gICAgICAgIHJldHVybiAnQ29udGV4dC5Db25zdW1lcic7XG5cbiAgICAgIGNhc2UgUkVBQ1RfUFJPVklERVJfVFlQRTpcbiAgICAgICAgcmV0dXJuICdDb250ZXh0LlByb3ZpZGVyJztcblxuICAgICAgY2FzZSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFOlxuICAgICAgICByZXR1cm4gZ2V0V3JhcHBlZE5hbWUodHlwZSwgdHlwZS5yZW5kZXIsICdGb3J3YXJkUmVmJyk7XG5cbiAgICAgIGNhc2UgUkVBQ1RfTUVNT19UWVBFOlxuICAgICAgICByZXR1cm4gZ2V0Q29tcG9uZW50TmFtZSh0eXBlLnR5cGUpO1xuXG4gICAgICBjYXNlIFJFQUNUX0xBWllfVFlQRTpcbiAgICAgICAge1xuICAgICAgICAgIHZhciB0aGVuYWJsZSA9IHR5cGU7XG4gICAgICAgICAgdmFyIHJlc29sdmVkVGhlbmFibGUgPSByZWZpbmVSZXNvbHZlZExhenlDb21wb25lbnQodGhlbmFibGUpO1xuXG4gICAgICAgICAgaWYgKHJlc29sdmVkVGhlbmFibGUpIHtcbiAgICAgICAgICAgIHJldHVybiBnZXRDb21wb25lbnROYW1lKHJlc29sdmVkVGhlbmFibGUpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbnZhciBSZWFjdERlYnVnQ3VycmVudEZyYW1lID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZTtcblxuZnVuY3Rpb24gZGVzY3JpYmVGaWJlcihmaWJlcikge1xuICBzd2l0Y2ggKGZpYmVyLnRhZykge1xuICAgIGNhc2UgSG9zdFJvb3Q6XG4gICAgY2FzZSBIb3N0UG9ydGFsOlxuICAgIGNhc2UgSG9zdFRleHQ6XG4gICAgY2FzZSBGcmFnbWVudDpcbiAgICBjYXNlIENvbnRleHRQcm92aWRlcjpcbiAgICBjYXNlIENvbnRleHRDb25zdW1lcjpcbiAgICAgIHJldHVybiAnJztcblxuICAgIGRlZmF1bHQ6XG4gICAgICB2YXIgb3duZXIgPSBmaWJlci5fZGVidWdPd25lcjtcbiAgICAgIHZhciBzb3VyY2UgPSBmaWJlci5fZGVidWdTb3VyY2U7XG4gICAgICB2YXIgbmFtZSA9IGdldENvbXBvbmVudE5hbWUoZmliZXIudHlwZSk7XG4gICAgICB2YXIgb3duZXJOYW1lID0gbnVsbDtcblxuICAgICAgaWYgKG93bmVyKSB7XG4gICAgICAgIG93bmVyTmFtZSA9IGdldENvbXBvbmVudE5hbWUob3duZXIudHlwZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkZXNjcmliZUNvbXBvbmVudEZyYW1lKG5hbWUsIHNvdXJjZSwgb3duZXJOYW1lKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRTdGFja0J5RmliZXJJbkRldkFuZFByb2Qod29ya0luUHJvZ3Jlc3MpIHtcbiAgdmFyIGluZm8gPSAnJztcbiAgdmFyIG5vZGUgPSB3b3JrSW5Qcm9ncmVzcztcblxuICBkbyB7XG4gICAgaW5mbyArPSBkZXNjcmliZUZpYmVyKG5vZGUpO1xuICAgIG5vZGUgPSBub2RlLnJldHVybjtcbiAgfSB3aGlsZSAobm9kZSk7XG5cbiAgcmV0dXJuIGluZm87XG59XG52YXIgY3VycmVudCA9IG51bGw7XG52YXIgcGhhc2UgPSBudWxsO1xuZnVuY3Rpb24gZ2V0Q3VycmVudEZpYmVyT3duZXJOYW1lSW5EZXZPck51bGwoKSB7XG4gIHtcbiAgICBpZiAoY3VycmVudCA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdmFyIG93bmVyID0gY3VycmVudC5fZGVidWdPd25lcjtcblxuICAgIGlmIChvd25lciAhPT0gbnVsbCAmJiB0eXBlb2Ygb3duZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm4gZ2V0Q29tcG9uZW50TmFtZShvd25lci50eXBlKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIGdldEN1cnJlbnRGaWJlclN0YWNrSW5EZXYoKSB7XG4gIHtcbiAgICBpZiAoY3VycmVudCA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH0gLy8gU2FmZSBiZWNhdXNlIGlmIGN1cnJlbnQgZmliZXIgZXhpc3RzLCB3ZSBhcmUgcmVjb25jaWxpbmcsXG4gICAgLy8gYW5kIGl0IGlzIGd1YXJhbnRlZWQgdG8gYmUgdGhlIHdvcmstaW4tcHJvZ3Jlc3MgdmVyc2lvbi5cblxuXG4gICAgcmV0dXJuIGdldFN0YWNrQnlGaWJlckluRGV2QW5kUHJvZChjdXJyZW50KTtcbiAgfVxuXG4gIHJldHVybiAnJztcbn1cbmZ1bmN0aW9uIHJlc2V0Q3VycmVudEZpYmVyKCkge1xuICB7XG4gICAgUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZS5nZXRDdXJyZW50U3RhY2sgPSBudWxsO1xuICAgIGN1cnJlbnQgPSBudWxsO1xuICAgIHBoYXNlID0gbnVsbDtcbiAgfVxufVxuZnVuY3Rpb24gc2V0Q3VycmVudEZpYmVyKGZpYmVyKSB7XG4gIHtcbiAgICBSZWFjdERlYnVnQ3VycmVudEZyYW1lLmdldEN1cnJlbnRTdGFjayA9IGdldEN1cnJlbnRGaWJlclN0YWNrSW5EZXY7XG4gICAgY3VycmVudCA9IGZpYmVyO1xuICAgIHBoYXNlID0gbnVsbDtcbiAgfVxufVxuZnVuY3Rpb24gc2V0Q3VycmVudFBoYXNlKGxpZmVDeWNsZVBoYXNlKSB7XG4gIHtcbiAgICBwaGFzZSA9IGxpZmVDeWNsZVBoYXNlO1xuICB9XG59XG5cbnZhciBjYW5Vc2VET00gPSAhISh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygd2luZG93LmRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgIT09ICd1bmRlZmluZWQnKTtcblxuZnVuY3Rpb24gZW5kc1dpdGgoc3ViamVjdCwgc2VhcmNoKSB7XG4gIHZhciBsZW5ndGggPSBzdWJqZWN0Lmxlbmd0aDtcbiAgcmV0dXJuIHN1YmplY3Quc3Vic3RyaW5nKGxlbmd0aCAtIHNlYXJjaC5sZW5ndGgsIGxlbmd0aCkgPT09IHNlYXJjaDtcbn1cblxudmFyIFBMVUdJTl9FVkVOVF9TWVNURU0gPSAxO1xudmFyIFJFU1BPTkRFUl9FVkVOVF9TWVNURU0gPSAxIDw8IDE7XG52YXIgSVNfUEFTU0lWRSA9IDEgPDwgMjtcbnZhciBJU19BQ1RJVkUgPSAxIDw8IDM7XG52YXIgUEFTU0lWRV9OT1RfU1VQUE9SVEVEID0gMSA8PCA0O1xudmFyIElTX1JFUExBWUVEID0gMSA8PCA1O1xuXG52YXIgcmVzdG9yZUltcGwgPSBudWxsO1xudmFyIHJlc3RvcmVUYXJnZXQgPSBudWxsO1xudmFyIHJlc3RvcmVRdWV1ZSA9IG51bGw7XG5cbmZ1bmN0aW9uIHJlc3RvcmVTdGF0ZU9mVGFyZ2V0KHRhcmdldCkge1xuICAvLyBXZSBwZXJmb3JtIHRoaXMgdHJhbnNsYXRpb24gYXQgdGhlIGVuZCBvZiB0aGUgZXZlbnQgbG9vcCBzbyB0aGF0IHdlXG4gIC8vIGFsd2F5cyByZWNlaXZlIHRoZSBjb3JyZWN0IGZpYmVyIGhlcmVcbiAgdmFyIGludGVybmFsSW5zdGFuY2UgPSBnZXRJbnN0YW5jZUZyb21Ob2RlKHRhcmdldCk7XG5cbiAgaWYgKCFpbnRlcm5hbEluc3RhbmNlKSB7XG4gICAgLy8gVW5tb3VudGVkXG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKCEodHlwZW9mIHJlc3RvcmVJbXBsID09PSAnZnVuY3Rpb24nKSkge1xuICAgIHtcbiAgICAgIHRocm93IEVycm9yKFwic2V0UmVzdG9yZUltcGxlbWVudGF0aW9uKCkgbmVlZHMgdG8gYmUgY2FsbGVkIHRvIGhhbmRsZSBhIHRhcmdldCBmb3IgY29udHJvbGxlZCBldmVudHMuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCIpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBwcm9wcyA9IGdldEZpYmVyQ3VycmVudFByb3BzRnJvbU5vZGUoaW50ZXJuYWxJbnN0YW5jZS5zdGF0ZU5vZGUpO1xuICByZXN0b3JlSW1wbChpbnRlcm5hbEluc3RhbmNlLnN0YXRlTm9kZSwgaW50ZXJuYWxJbnN0YW5jZS50eXBlLCBwcm9wcyk7XG59XG5cbmZ1bmN0aW9uIHNldFJlc3RvcmVJbXBsZW1lbnRhdGlvbihpbXBsKSB7XG4gIHJlc3RvcmVJbXBsID0gaW1wbDtcbn1cbmZ1bmN0aW9uIGVucXVldWVTdGF0ZVJlc3RvcmUodGFyZ2V0KSB7XG4gIGlmIChyZXN0b3JlVGFyZ2V0KSB7XG4gICAgaWYgKHJlc3RvcmVRdWV1ZSkge1xuICAgICAgcmVzdG9yZVF1ZXVlLnB1c2godGFyZ2V0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdG9yZVF1ZXVlID0gW3RhcmdldF07XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJlc3RvcmVUYXJnZXQgPSB0YXJnZXQ7XG4gIH1cbn1cbmZ1bmN0aW9uIG5lZWRzU3RhdGVSZXN0b3JlKCkge1xuICByZXR1cm4gcmVzdG9yZVRhcmdldCAhPT0gbnVsbCB8fCByZXN0b3JlUXVldWUgIT09IG51bGw7XG59XG5mdW5jdGlvbiByZXN0b3JlU3RhdGVJZk5lZWRlZCgpIHtcbiAgaWYgKCFyZXN0b3JlVGFyZ2V0KSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIHRhcmdldCA9IHJlc3RvcmVUYXJnZXQ7XG4gIHZhciBxdWV1ZWRUYXJnZXRzID0gcmVzdG9yZVF1ZXVlO1xuICByZXN0b3JlVGFyZ2V0ID0gbnVsbDtcbiAgcmVzdG9yZVF1ZXVlID0gbnVsbDtcbiAgcmVzdG9yZVN0YXRlT2ZUYXJnZXQodGFyZ2V0KTtcblxuICBpZiAocXVldWVkVGFyZ2V0cykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcXVldWVkVGFyZ2V0cy5sZW5ndGg7IGkrKykge1xuICAgICAgcmVzdG9yZVN0YXRlT2ZUYXJnZXQocXVldWVkVGFyZ2V0c1tpXSk7XG4gICAgfVxuICB9XG59XG5cbnZhciBlbmFibGVVc2VyVGltaW5nQVBJID0gdHJ1ZTsgLy8gSGVscHMgaWRlbnRpZnkgc2lkZSBlZmZlY3RzIGluIHJlbmRlci1waGFzZSBsaWZlY3ljbGUgaG9va3MgYW5kIHNldFN0YXRlXG4vLyByZWR1Y2VycyBieSBkb3VibGUgaW52b2tpbmcgdGhlbSBpbiBTdHJpY3QgTW9kZS5cblxudmFyIGRlYnVnUmVuZGVyUGhhc2VTaWRlRWZmZWN0c0ZvclN0cmljdE1vZGUgPSB0cnVlOyAvLyBUbyBwcmVzZXJ2ZSB0aGUgXCJQYXVzZSBvbiBjYXVnaHQgZXhjZXB0aW9uc1wiIGJlaGF2aW9yIG9mIHRoZSBkZWJ1Z2dlciwgd2Vcbi8vIHJlcGxheSB0aGUgYmVnaW4gcGhhc2Ugb2YgYSBmYWlsZWQgY29tcG9uZW50IGluc2lkZSBpbnZva2VHdWFyZGVkQ2FsbGJhY2suXG5cbnZhciByZXBsYXlGYWlsZWRVbml0T2ZXb3JrV2l0aEludm9rZUd1YXJkZWRDYWxsYmFjayA9IHRydWU7IC8vIFdhcm4gYWJvdXQgZGVwcmVjYXRlZCwgYXN5bmMtdW5zYWZlIGxpZmVjeWNsZXM7IHJlbGF0ZXMgdG8gUkZDICM2OlxuXG52YXIgd2FybkFib3V0RGVwcmVjYXRlZExpZmVjeWNsZXMgPSB0cnVlOyAvLyBHYXRoZXIgYWR2YW5jZWQgdGltaW5nIG1ldHJpY3MgZm9yIFByb2ZpbGVyIHN1YnRyZWVzLlxuXG52YXIgZW5hYmxlUHJvZmlsZXJUaW1lciA9IHRydWU7IC8vIFRyYWNlIHdoaWNoIGludGVyYWN0aW9ucyB0cmlnZ2VyIGVhY2ggY29tbWl0LlxuXG52YXIgZW5hYmxlU2NoZWR1bGVyVHJhY2luZyA9IHRydWU7IC8vIFNTUiBleHBlcmltZW50c1xuXG52YXIgZW5hYmxlU3VzcGVuc2VTZXJ2ZXJSZW5kZXJlciA9IGZhbHNlO1xudmFyIGVuYWJsZVNlbGVjdGl2ZUh5ZHJhdGlvbiA9IGZhbHNlOyAvLyBPbmx5IHVzZWQgaW4gd3d3IGJ1aWxkcy5cblxuIC8vIE9ubHkgdXNlZCBpbiB3d3cgYnVpbGRzLlxuXG4gLy8gRGlzYWJsZSBqYXZhc2NyaXB0OiBVUkwgc3RyaW5ncyBpbiBocmVmIGZvciBYU1MgcHJvdGVjdGlvbi5cblxudmFyIGRpc2FibGVKYXZhU2NyaXB0VVJMcyA9IGZhbHNlOyAvLyBSZWFjdCBGaXJlOiBwcmV2ZW50IHRoZSB2YWx1ZSBhbmQgY2hlY2tlZCBhdHRyaWJ1dGVzIGZyb20gc3luY2luZ1xuLy8gd2l0aCB0aGVpciByZWxhdGVkIERPTSBwcm9wZXJ0aWVzXG5cbnZhciBkaXNhYmxlSW5wdXRBdHRyaWJ1dGVTeW5jaW5nID0gZmFsc2U7IC8vIFRoZXNlIEFQSXMgd2lsbCBubyBsb25nZXIgYmUgXCJ1bnN0YWJsZVwiIGluIHRoZSB1cGNvbWluZyAxNi43IHJlbGVhc2UsXG4vLyBDb250cm9sIHRoaXMgYmVoYXZpb3Igd2l0aCBhIGZsYWcgdG8gc3VwcG9ydCAxNi42IG1pbm9yIHJlbGVhc2VzIGluIHRoZSBtZWFud2hpbGUuXG5cbnZhciBleHBvc2VDb25jdXJyZW50TW9kZUFQSXMgPSBmYWxzZTtcbnZhciB3YXJuQWJvdXRTaG9ydGhhbmRQcm9wZXJ0eUNvbGxpc2lvbiA9IGZhbHNlOyAvLyBFeHBlcmltZW50YWwgUmVhY3QgRmxhcmUgZXZlbnQgc3lzdGVtIGFuZCBldmVudCBjb21wb25lbnRzIHN1cHBvcnQuXG5cbnZhciBlbmFibGVGbGFyZUFQSSA9IGZhbHNlOyAvLyBFeHBlcmltZW50YWwgSG9zdCBDb21wb25lbnQgc3VwcG9ydC5cblxudmFyIGVuYWJsZUZ1bmRhbWVudGFsQVBJID0gZmFsc2U7IC8vIEV4cGVyaW1lbnRhbCBTY29wZSBzdXBwb3J0LlxuXG52YXIgZW5hYmxlU2NvcGVBUEkgPSBmYWxzZTsgLy8gTmV3IEFQSSBmb3IgSlNYIHRyYW5zZm9ybXMgdG8gdGFyZ2V0IC0gaHR0cHM6Ly9naXRodWIuY29tL3JlYWN0anMvcmZjcy9wdWxsLzEwN1xuXG4gLy8gV2Ugd2lsbCBlbmZvcmNlIG1vY2tpbmcgc2NoZWR1bGVyIHdpdGggc2NoZWR1bGVyL3Vuc3RhYmxlX21vY2sgYXQgc29tZSBwb2ludC4gKHYxNz8pXG4vLyBUaWxsIHRoZW4sIHdlIHdhcm4gYWJvdXQgdGhlIG1pc3NpbmcgbW9jaywgYnV0IHN0aWxsIGZhbGxiYWNrIHRvIGEgbGVnYWN5IG1vZGUgY29tcGF0aWJsZSB2ZXJzaW9uXG5cbnZhciB3YXJuQWJvdXRVbm1vY2tlZFNjaGVkdWxlciA9IGZhbHNlOyAvLyBGb3IgdGVzdHMsIHdlIGZsdXNoIHN1c3BlbnNlIGZhbGxiYWNrcyBpbiBhbiBhY3Qgc2NvcGU7XG4vLyAqZXhjZXB0KiBpbiBzb21lIG9mIG91ciBvd24gdGVzdHMsIHdoZXJlIHdlIHRlc3QgaW5jcmVtZW50YWwgbG9hZGluZyBzdGF0ZXMuXG5cbnZhciBmbHVzaFN1c3BlbnNlRmFsbGJhY2tzSW5UZXN0cyA9IHRydWU7IC8vIEFkZCBhIGNhbGxiYWNrIHByb3BlcnR5IHRvIHN1c3BlbnNlIHRvIG5vdGlmeSB3aGljaCBwcm9taXNlcyBhcmUgY3VycmVudGx5XG4vLyBpbiB0aGUgdXBkYXRlIHF1ZXVlLiBUaGlzIGFsbG93cyByZXBvcnRpbmcgYW5kIHRyYWNpbmcgb2Ygd2hhdCBpcyBjYXVzaW5nXG4vLyB0aGUgdXNlciB0byBzZWUgYSBsb2FkaW5nIHN0YXRlLlxuLy8gQWxzbyBhbGxvd3MgaHlkcmF0aW9uIGNhbGxiYWNrcyB0byBmaXJlIHdoZW4gYSBkZWh5ZHJhdGVkIGJvdW5kYXJ5IGdldHNcbi8vIGh5ZHJhdGVkIG9yIGRlbGV0ZWQuXG5cbnZhciBlbmFibGVTdXNwZW5zZUNhbGxiYWNrID0gZmFsc2U7IC8vIFBhcnQgb2YgdGhlIHNpbXBsaWZpY2F0aW9uIG9mIFJlYWN0LmNyZWF0ZUVsZW1lbnQgc28gd2UgY2FuIGV2ZW50dWFsbHkgbW92ZVxuLy8gZnJvbSBSZWFjdC5jcmVhdGVFbGVtZW50IHRvIFJlYWN0LmpzeFxuLy8gaHR0cHM6Ly9naXRodWIuY29tL3JlYWN0anMvcmZjcy9ibG9iL2NyZWF0ZWxlbWVudC1yZmMvdGV4dC8wMDAwLWNyZWF0ZS1lbGVtZW50LWNoYW5nZXMubWRcblxudmFyIHdhcm5BYm91dERlZmF1bHRQcm9wc09uRnVuY3Rpb25Db21wb25lbnRzID0gZmFsc2U7XG52YXIgd2FybkFib3V0U3RyaW5nUmVmcyA9IGZhbHNlO1xudmFyIGRpc2FibGVMZWdhY3lDb250ZXh0ID0gZmFsc2U7XG52YXIgZGlzYWJsZVNjaGVkdWxlclRpbWVvdXRCYXNlZE9uUmVhY3RFeHBpcmF0aW9uVGltZSA9IGZhbHNlO1xudmFyIGVuYWJsZVRydXN0ZWRUeXBlc0ludGVncmF0aW9uID0gZmFsc2U7IC8vIEZsYWcgdG8gdHVybiBldmVudC50YXJnZXQgYW5kIGV2ZW50LmN1cnJlbnRUYXJnZXQgaW4gUmVhY3ROYXRpdmUgZnJvbSBhIHJlYWN0VGFnIHRvIGEgY29tcG9uZW50IGluc3RhbmNlXG5cbi8vIHRoZSByZW5kZXJlci4gU3VjaCBhcyB3aGVuIHdlJ3JlIGRpc3BhdGNoaW5nIGV2ZW50cyBvciBpZiB0aGlyZCBwYXJ0eVxuLy8gbGlicmFyaWVzIG5lZWQgdG8gY2FsbCBiYXRjaGVkVXBkYXRlcy4gRXZlbnR1YWxseSwgdGhpcyBBUEkgd2lsbCBnbyBhd2F5IHdoZW5cbi8vIGV2ZXJ5dGhpbmcgaXMgYmF0Y2hlZCBieSBkZWZhdWx0LiBXZSdsbCB0aGVuIGhhdmUgYSBzaW1pbGFyIEFQSSB0byBvcHQtb3V0IG9mXG4vLyBzY2hlZHVsZWQgd29yayBhbmQgaW5zdGVhZCBkbyBzeW5jaHJvbm91cyB3b3JrLlxuLy8gRGVmYXVsdHNcblxudmFyIGJhdGNoZWRVcGRhdGVzSW1wbCA9IGZ1bmN0aW9uIChmbiwgYm9va2tlZXBpbmcpIHtcbiAgcmV0dXJuIGZuKGJvb2trZWVwaW5nKTtcbn07XG5cbnZhciBkaXNjcmV0ZVVwZGF0ZXNJbXBsID0gZnVuY3Rpb24gKGZuLCBhLCBiLCBjKSB7XG4gIHJldHVybiBmbihhLCBiLCBjKTtcbn07XG5cbnZhciBmbHVzaERpc2NyZXRlVXBkYXRlc0ltcGwgPSBmdW5jdGlvbiAoKSB7fTtcblxudmFyIGJhdGNoZWRFdmVudFVwZGF0ZXNJbXBsID0gYmF0Y2hlZFVwZGF0ZXNJbXBsO1xudmFyIGlzSW5zaWRlRXZlbnRIYW5kbGVyID0gZmFsc2U7XG52YXIgaXNCYXRjaGluZ0V2ZW50VXBkYXRlcyA9IGZhbHNlO1xuXG5mdW5jdGlvbiBmaW5pc2hFdmVudEhhbmRsZXIoKSB7XG4gIC8vIEhlcmUgd2Ugd2FpdCB1bnRpbCBhbGwgdXBkYXRlcyBoYXZlIHByb3BhZ2F0ZWQsIHdoaWNoIGlzIGltcG9ydGFudFxuICAvLyB3aGVuIHVzaW5nIGNvbnRyb2xsZWQgY29tcG9uZW50cyB3aXRoaW4gbGF5ZXJzOlxuICAvLyBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvaXNzdWVzLzE2OThcbiAgLy8gVGhlbiB3ZSByZXN0b3JlIHN0YXRlIG9mIGFueSBjb250cm9sbGVkIGNvbXBvbmVudC5cbiAgdmFyIGNvbnRyb2xsZWRDb21wb25lbnRzSGF2ZVBlbmRpbmdVcGRhdGVzID0gbmVlZHNTdGF0ZVJlc3RvcmUoKTtcblxuICBpZiAoY29udHJvbGxlZENvbXBvbmVudHNIYXZlUGVuZGluZ1VwZGF0ZXMpIHtcbiAgICAvLyBJZiBhIGNvbnRyb2xsZWQgZXZlbnQgd2FzIGZpcmVkLCB3ZSBtYXkgbmVlZCB0byByZXN0b3JlIHRoZSBzdGF0ZSBvZlxuICAgIC8vIHRoZSBET00gbm9kZSBiYWNrIHRvIHRoZSBjb250cm9sbGVkIHZhbHVlLiBUaGlzIGlzIG5lY2Vzc2FyeSB3aGVuIFJlYWN0XG4gICAgLy8gYmFpbHMgb3V0IG9mIHRoZSB1cGRhdGUgd2l0aG91dCB0b3VjaGluZyB0aGUgRE9NLlxuICAgIGZsdXNoRGlzY3JldGVVcGRhdGVzSW1wbCgpO1xuICAgIHJlc3RvcmVTdGF0ZUlmTmVlZGVkKCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gYmF0Y2hlZFVwZGF0ZXMoZm4sIGJvb2trZWVwaW5nKSB7XG4gIGlmIChpc0luc2lkZUV2ZW50SGFuZGxlcikge1xuICAgIC8vIElmIHdlIGFyZSBjdXJyZW50bHkgaW5zaWRlIGFub3RoZXIgYmF0Y2gsIHdlIG5lZWQgdG8gd2FpdCB1bnRpbCBpdFxuICAgIC8vIGZ1bGx5IGNvbXBsZXRlcyBiZWZvcmUgcmVzdG9yaW5nIHN0YXRlLlxuICAgIHJldHVybiBmbihib29ra2VlcGluZyk7XG4gIH1cblxuICBpc0luc2lkZUV2ZW50SGFuZGxlciA9IHRydWU7XG5cbiAgdHJ5IHtcbiAgICByZXR1cm4gYmF0Y2hlZFVwZGF0ZXNJbXBsKGZuLCBib29ra2VlcGluZyk7XG4gIH0gZmluYWxseSB7XG4gICAgaXNJbnNpZGVFdmVudEhhbmRsZXIgPSBmYWxzZTtcbiAgICBmaW5pc2hFdmVudEhhbmRsZXIoKTtcbiAgfVxufVxuZnVuY3Rpb24gYmF0Y2hlZEV2ZW50VXBkYXRlcyhmbiwgYSwgYikge1xuICBpZiAoaXNCYXRjaGluZ0V2ZW50VXBkYXRlcykge1xuICAgIC8vIElmIHdlIGFyZSBjdXJyZW50bHkgaW5zaWRlIGFub3RoZXIgYmF0Y2gsIHdlIG5lZWQgdG8gd2FpdCB1bnRpbCBpdFxuICAgIC8vIGZ1bGx5IGNvbXBsZXRlcyBiZWZvcmUgcmVzdG9yaW5nIHN0YXRlLlxuICAgIHJldHVybiBmbihhLCBiKTtcbiAgfVxuXG4gIGlzQmF0Y2hpbmdFdmVudFVwZGF0ZXMgPSB0cnVlO1xuXG4gIHRyeSB7XG4gICAgcmV0dXJuIGJhdGNoZWRFdmVudFVwZGF0ZXNJbXBsKGZuLCBhLCBiKTtcbiAgfSBmaW5hbGx5IHtcbiAgICBpc0JhdGNoaW5nRXZlbnRVcGRhdGVzID0gZmFsc2U7XG4gICAgZmluaXNoRXZlbnRIYW5kbGVyKCk7XG4gIH1cbn0gLy8gVGhpcyBpcyBmb3IgdGhlIFJlYWN0IEZsYXJlIGV2ZW50IHN5c3RlbVxuXG5mdW5jdGlvbiBleGVjdXRlVXNlckV2ZW50SGFuZGxlcihmbiwgdmFsdWUpIHtcbiAgdmFyIHByZXZpb3VzbHlJbkV2ZW50SGFuZGxlciA9IGlzSW5zaWRlRXZlbnRIYW5kbGVyO1xuXG4gIHRyeSB7XG4gICAgaXNJbnNpZGVFdmVudEhhbmRsZXIgPSB0cnVlO1xuICAgIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAhPT0gbnVsbCA/IHZhbHVlLnR5cGUgOiAnJztcbiAgICBpbnZva2VHdWFyZGVkQ2FsbGJhY2tBbmRDYXRjaEZpcnN0RXJyb3IodHlwZSwgZm4sIHVuZGVmaW5lZCwgdmFsdWUpO1xuICB9IGZpbmFsbHkge1xuICAgIGlzSW5zaWRlRXZlbnRIYW5kbGVyID0gcHJldmlvdXNseUluRXZlbnRIYW5kbGVyO1xuICB9XG59XG5mdW5jdGlvbiBkaXNjcmV0ZVVwZGF0ZXMoZm4sIGEsIGIsIGMpIHtcbiAgdmFyIHByZXZJc0luc2lkZUV2ZW50SGFuZGxlciA9IGlzSW5zaWRlRXZlbnRIYW5kbGVyO1xuICBpc0luc2lkZUV2ZW50SGFuZGxlciA9IHRydWU7XG5cbiAgdHJ5IHtcbiAgICByZXR1cm4gZGlzY3JldGVVcGRhdGVzSW1wbChmbiwgYSwgYiwgYyk7XG4gIH0gZmluYWxseSB7XG4gICAgaXNJbnNpZGVFdmVudEhhbmRsZXIgPSBwcmV2SXNJbnNpZGVFdmVudEhhbmRsZXI7XG5cbiAgICBpZiAoIWlzSW5zaWRlRXZlbnRIYW5kbGVyKSB7XG4gICAgICBmaW5pc2hFdmVudEhhbmRsZXIoKTtcbiAgICB9XG4gIH1cbn1cbnZhciBsYXN0Rmx1c2hlZEV2ZW50VGltZVN0YW1wID0gMDtcbmZ1bmN0aW9uIGZsdXNoRGlzY3JldGVVcGRhdGVzSWZOZWVkZWQodGltZVN0YW1wKSB7XG4gIC8vIGV2ZW50LnRpbWVTdGFtcCBpc24ndCBvdmVybHkgcmVsaWFibGUgZHVlIHRvIGluY29uc2lzdGVuY2llcyBpblxuICAvLyBob3cgZGlmZmVyZW50IGJyb3dzZXJzIGhhdmUgaGlzdG9yaWNhbGx5IHByb3ZpZGVkIHRoZSB0aW1lIHN0YW1wLlxuICAvLyBTb21lIGJyb3dzZXJzIHByb3ZpZGUgaGlnaC1yZXNvbHV0aW9uIHRpbWUgc3RhbXBzIGZvciBhbGwgZXZlbnRzLFxuICAvLyBzb21lIHByb3ZpZGUgbG93LXJlc29sdXRpb24gdGltZSBzdGFtcHMgZm9yIGFsbCBldmVudHMuIEZGIDwgNTJcbiAgLy8gZXZlbiBtaXhlcyBib3RoIHRpbWUgc3RhbXBzIHRvZ2V0aGVyLiBTb21lIGJyb3dzZXJzIGV2ZW4gcmVwb3J0XG4gIC8vIG5lZ2F0aXZlIHRpbWUgc3RhbXBzIG9yIHRpbWUgc3RhbXBzIHRoYXQgYXJlIDAgKGlPUzkpIGluIHNvbWUgY2FzZXMuXG4gIC8vIEdpdmVuIHdlIGFyZSBvbmx5IGNvbXBhcmluZyB0d28gdGltZSBzdGFtcHMgd2l0aCBlcXVhbGl0eSAoIT09KSxcbiAgLy8gd2UgYXJlIHNhZmUgZnJvbSB0aGUgcmVzb2x1dGlvbiBkaWZmZXJlbmNlcy4gSWYgdGhlIHRpbWUgc3RhbXAgaXMgMFxuICAvLyB3ZSBiYWlsLW91dCBvZiBwcmV2ZW50aW5nIHRoZSBmbHVzaCwgd2hpY2ggY2FuIGFmZmVjdCBzZW1hbnRpY3MsXG4gIC8vIHN1Y2ggYXMgaWYgYW4gZWFybGllciBmbHVzaCByZW1vdmVzIG9yIGFkZHMgZXZlbnQgbGlzdGVuZXJzIHRoYXRcbiAgLy8gYXJlIGZpcmVkIGluIHRoZSBzdWJzZXF1ZW50IGZsdXNoLiBIb3dldmVyLCB0aGlzIGlzIHRoZSBzYW1lXG4gIC8vIGJlaGF2aW91ciBhcyB3ZSBoYWQgYmVmb3JlIHRoaXMgY2hhbmdlLCBzbyB0aGUgcmlza3MgYXJlIGxvdy5cbiAgaWYgKCFpc0luc2lkZUV2ZW50SGFuZGxlciAmJiAoIWVuYWJsZUZsYXJlQVBJIHx8IHRpbWVTdGFtcCA9PT0gMCB8fCBsYXN0Rmx1c2hlZEV2ZW50VGltZVN0YW1wICE9PSB0aW1lU3RhbXApKSB7XG4gICAgbGFzdEZsdXNoZWRFdmVudFRpbWVTdGFtcCA9IHRpbWVTdGFtcDtcbiAgICBmbHVzaERpc2NyZXRlVXBkYXRlc0ltcGwoKTtcbiAgfVxufVxuZnVuY3Rpb24gc2V0QmF0Y2hpbmdJbXBsZW1lbnRhdGlvbihfYmF0Y2hlZFVwZGF0ZXNJbXBsLCBfZGlzY3JldGVVcGRhdGVzSW1wbCwgX2ZsdXNoRGlzY3JldGVVcGRhdGVzSW1wbCwgX2JhdGNoZWRFdmVudFVwZGF0ZXNJbXBsKSB7XG4gIGJhdGNoZWRVcGRhdGVzSW1wbCA9IF9iYXRjaGVkVXBkYXRlc0ltcGw7XG4gIGRpc2NyZXRlVXBkYXRlc0ltcGwgPSBfZGlzY3JldGVVcGRhdGVzSW1wbDtcbiAgZmx1c2hEaXNjcmV0ZVVwZGF0ZXNJbXBsID0gX2ZsdXNoRGlzY3JldGVVcGRhdGVzSW1wbDtcbiAgYmF0Y2hlZEV2ZW50VXBkYXRlc0ltcGwgPSBfYmF0Y2hlZEV2ZW50VXBkYXRlc0ltcGw7XG59XG5cbnZhciBEaXNjcmV0ZUV2ZW50ID0gMDtcbnZhciBVc2VyQmxvY2tpbmdFdmVudCA9IDE7XG52YXIgQ29udGludW91c0V2ZW50ID0gMjtcblxuLy8gQ29tbW9uSlMgaW50ZXJvcCBuYW1lZCBpbXBvcnRzLlxuXG52YXIgVXNlckJsb2NraW5nUHJpb3JpdHkgPSBTY2hlZHVsZXIudW5zdGFibGVfVXNlckJsb2NraW5nUHJpb3JpdHk7XG52YXIgcnVuV2l0aFByaW9yaXR5ID0gU2NoZWR1bGVyLnVuc3RhYmxlX3J1bldpdGhQcmlvcml0eTtcbnZhciBsaXN0ZW5Ub1Jlc3BvbmRlckV2ZW50VHlwZXNJbXBsO1xuZnVuY3Rpb24gc2V0TGlzdGVuVG9SZXNwb25kZXJFdmVudFR5cGVzKF9saXN0ZW5Ub1Jlc3BvbmRlckV2ZW50VHlwZXNJbXBsKSB7XG4gIGxpc3RlblRvUmVzcG9uZGVyRXZlbnRUeXBlc0ltcGwgPSBfbGlzdGVuVG9SZXNwb25kZXJFdmVudFR5cGVzSW1wbDtcbn1cbnZhciByb290RXZlbnRUeXBlc1RvRXZlbnRSZXNwb25kZXJJbnN0YW5jZXMgPSBuZXcgTWFwKCk7XG52YXIgRG9Ob3RQcm9wYWdhdGVUb05leHRSZXNwb25kZXIgPSAwO1xudmFyIFByb3BhZ2F0ZVRvTmV4dFJlc3BvbmRlciA9IDE7XG52YXIgY3VycmVudFRpbWVTdGFtcCA9IDA7XG52YXIgY3VycmVudEluc3RhbmNlID0gbnVsbDtcbnZhciBjdXJyZW50RG9jdW1lbnQgPSBudWxsO1xudmFyIGN1cnJlbnRQcm9wYWdhdGlvbkJlaGF2aW9yID0gRG9Ob3RQcm9wYWdhdGVUb05leHRSZXNwb25kZXI7XG52YXIgZXZlbnRSZXNwb25kZXJDb250ZXh0ID0ge1xuICBkaXNwYXRjaEV2ZW50OiBmdW5jdGlvbiAoZXZlbnRWYWx1ZSwgZXZlbnRMaXN0ZW5lciwgZXZlbnRQcmlvcml0eSkge1xuICAgIHZhbGlkYXRlUmVzcG9uZGVyQ29udGV4dCgpO1xuICAgIHZhbGlkYXRlRXZlbnRWYWx1ZShldmVudFZhbHVlKTtcblxuICAgIHN3aXRjaCAoZXZlbnRQcmlvcml0eSkge1xuICAgICAgY2FzZSBEaXNjcmV0ZUV2ZW50OlxuICAgICAgICB7XG4gICAgICAgICAgZmx1c2hEaXNjcmV0ZVVwZGF0ZXNJZk5lZWRlZChjdXJyZW50VGltZVN0YW1wKTtcbiAgICAgICAgICBkaXNjcmV0ZVVwZGF0ZXMoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGV4ZWN1dGVVc2VyRXZlbnRIYW5kbGVyKGV2ZW50TGlzdGVuZXIsIGV2ZW50VmFsdWUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgIGNhc2UgVXNlckJsb2NraW5nRXZlbnQ6XG4gICAgICAgIHtcbiAgICAgICAgICBydW5XaXRoUHJpb3JpdHkoVXNlckJsb2NraW5nUHJpb3JpdHksIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBleGVjdXRlVXNlckV2ZW50SGFuZGxlcihldmVudExpc3RlbmVyLCBldmVudFZhbHVlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICBjYXNlIENvbnRpbnVvdXNFdmVudDpcbiAgICAgICAge1xuICAgICAgICAgIGV4ZWN1dGVVc2VyRXZlbnRIYW5kbGVyKGV2ZW50TGlzdGVuZXIsIGV2ZW50VmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICB9LFxuICBpc1RhcmdldFdpdGhpblJlc3BvbmRlcjogZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIHZhbGlkYXRlUmVzcG9uZGVyQ29udGV4dCgpO1xuXG4gICAgaWYgKHRhcmdldCAhPSBudWxsKSB7XG4gICAgICB2YXIgZmliZXIgPSBnZXRDbG9zZXN0SW5zdGFuY2VGcm9tTm9kZSh0YXJnZXQpO1xuICAgICAgdmFyIHJlc3BvbmRlckZpYmVyID0gY3VycmVudEluc3RhbmNlLmZpYmVyO1xuXG4gICAgICB3aGlsZSAoZmliZXIgIT09IG51bGwpIHtcbiAgICAgICAgaWYgKGZpYmVyID09PSByZXNwb25kZXJGaWJlciB8fCBmaWJlci5hbHRlcm5hdGUgPT09IHJlc3BvbmRlckZpYmVyKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBmaWJlciA9IGZpYmVyLnJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIGlzVGFyZ2V0V2l0aGluUmVzcG9uZGVyU2NvcGU6IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICB2YWxpZGF0ZVJlc3BvbmRlckNvbnRleHQoKTtcbiAgICB2YXIgY29tcG9uZW50SW5zdGFuY2UgPSBjdXJyZW50SW5zdGFuY2U7XG4gICAgdmFyIHJlc3BvbmRlciA9IGNvbXBvbmVudEluc3RhbmNlLnJlc3BvbmRlcjtcblxuICAgIGlmICh0YXJnZXQgIT0gbnVsbCkge1xuICAgICAgdmFyIGZpYmVyID0gZ2V0Q2xvc2VzdEluc3RhbmNlRnJvbU5vZGUodGFyZ2V0KTtcbiAgICAgIHZhciByZXNwb25kZXJGaWJlciA9IGN1cnJlbnRJbnN0YW5jZS5maWJlcjtcblxuICAgICAgd2hpbGUgKGZpYmVyICE9PSBudWxsKSB7XG4gICAgICAgIGlmIChmaWJlciA9PT0gcmVzcG9uZGVyRmliZXIgfHwgZmliZXIuYWx0ZXJuYXRlID09PSByZXNwb25kZXJGaWJlcikge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRvZXNGaWJlckhhdmVSZXNwb25kZXIoZmliZXIsIHJlc3BvbmRlcikpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBmaWJlciA9IGZpYmVyLnJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIGlzVGFyZ2V0V2l0aGluTm9kZTogZnVuY3Rpb24gKGNoaWxkVGFyZ2V0LCBwYXJlbnRUYXJnZXQpIHtcbiAgICB2YWxpZGF0ZVJlc3BvbmRlckNvbnRleHQoKTtcbiAgICB2YXIgY2hpbGRGaWJlciA9IGdldENsb3Nlc3RJbnN0YW5jZUZyb21Ob2RlKGNoaWxkVGFyZ2V0KTtcbiAgICB2YXIgcGFyZW50RmliZXIgPSBnZXRDbG9zZXN0SW5zdGFuY2VGcm9tTm9kZShwYXJlbnRUYXJnZXQpO1xuXG4gICAgaWYgKGNoaWxkRmliZXIgIT0gbnVsbCAmJiBwYXJlbnRGaWJlciAhPSBudWxsKSB7XG4gICAgICB2YXIgcGFyZW50QWx0ZXJuYXRlRmliZXIgPSBwYXJlbnRGaWJlci5hbHRlcm5hdGU7XG4gICAgICB2YXIgbm9kZSA9IGNoaWxkRmliZXI7XG5cbiAgICAgIHdoaWxlIChub2RlICE9PSBudWxsKSB7XG4gICAgICAgIGlmIChub2RlID09PSBwYXJlbnRGaWJlciB8fCBub2RlID09PSBwYXJlbnRBbHRlcm5hdGVGaWJlcikge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgbm9kZSA9IG5vZGUucmV0dXJuO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSAvLyBGYWxsYmFjayB0byBET00gQVBJc1xuXG5cbiAgICByZXR1cm4gcGFyZW50VGFyZ2V0LmNvbnRhaW5zKGNoaWxkVGFyZ2V0KTtcbiAgfSxcbiAgYWRkUm9vdEV2ZW50VHlwZXM6IGZ1bmN0aW9uIChyb290RXZlbnRUeXBlcykge1xuICAgIHZhbGlkYXRlUmVzcG9uZGVyQ29udGV4dCgpO1xuICAgIGxpc3RlblRvUmVzcG9uZGVyRXZlbnRUeXBlc0ltcGwocm9vdEV2ZW50VHlwZXMsIGN1cnJlbnREb2N1bWVudCk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJvb3RFdmVudFR5cGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgcm9vdEV2ZW50VHlwZSA9IHJvb3RFdmVudFR5cGVzW2ldO1xuICAgICAgdmFyIGV2ZW50UmVzcG9uZGVySW5zdGFuY2UgPSBjdXJyZW50SW5zdGFuY2U7XG4gICAgICByZWdpc3RlclJvb3RFdmVudFR5cGUocm9vdEV2ZW50VHlwZSwgZXZlbnRSZXNwb25kZXJJbnN0YW5jZSk7XG4gICAgfVxuICB9LFxuICByZW1vdmVSb290RXZlbnRUeXBlczogZnVuY3Rpb24gKHJvb3RFdmVudFR5cGVzKSB7XG4gICAgdmFsaWRhdGVSZXNwb25kZXJDb250ZXh0KCk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJvb3RFdmVudFR5cGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgcm9vdEV2ZW50VHlwZSA9IHJvb3RFdmVudFR5cGVzW2ldO1xuICAgICAgdmFyIHJvb3RFdmVudFJlc3BvbmRlcnMgPSByb290RXZlbnRUeXBlc1RvRXZlbnRSZXNwb25kZXJJbnN0YW5jZXMuZ2V0KHJvb3RFdmVudFR5cGUpO1xuICAgICAgdmFyIHJvb3RFdmVudFR5cGVzU2V0ID0gY3VycmVudEluc3RhbmNlLnJvb3RFdmVudFR5cGVzO1xuXG4gICAgICBpZiAocm9vdEV2ZW50VHlwZXNTZXQgIT09IG51bGwpIHtcbiAgICAgICAgcm9vdEV2ZW50VHlwZXNTZXQuZGVsZXRlKHJvb3RFdmVudFR5cGUpO1xuICAgICAgfVxuXG4gICAgICBpZiAocm9vdEV2ZW50UmVzcG9uZGVycyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJvb3RFdmVudFJlc3BvbmRlcnMuZGVsZXRlKGN1cnJlbnRJbnN0YW5jZSk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBnZXRBY3RpdmVEb2N1bWVudDogZ2V0QWN0aXZlRG9jdW1lbnQsXG4gIG9iamVjdEFzc2lnbjogX2Fzc2lnbixcbiAgZ2V0VGltZVN0YW1wOiBmdW5jdGlvbiAoKSB7XG4gICAgdmFsaWRhdGVSZXNwb25kZXJDb250ZXh0KCk7XG4gICAgcmV0dXJuIGN1cnJlbnRUaW1lU3RhbXA7XG4gIH0sXG4gIGlzVGFyZ2V0V2l0aGluSG9zdENvbXBvbmVudDogZnVuY3Rpb24gKHRhcmdldCwgZWxlbWVudFR5cGUpIHtcbiAgICB2YWxpZGF0ZVJlc3BvbmRlckNvbnRleHQoKTtcbiAgICB2YXIgZmliZXIgPSBnZXRDbG9zZXN0SW5zdGFuY2VGcm9tTm9kZSh0YXJnZXQpO1xuXG4gICAgd2hpbGUgKGZpYmVyICE9PSBudWxsKSB7XG4gICAgICBpZiAoZmliZXIudGFnID09PSBIb3N0Q29tcG9uZW50ICYmIGZpYmVyLnR5cGUgPT09IGVsZW1lbnRUeXBlKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICBmaWJlciA9IGZpYmVyLnJldHVybjtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIGNvbnRpbnVlUHJvcGFnYXRpb246IGZ1bmN0aW9uICgpIHtcbiAgICBjdXJyZW50UHJvcGFnYXRpb25CZWhhdmlvciA9IFByb3BhZ2F0ZVRvTmV4dFJlc3BvbmRlcjtcbiAgfSxcbiAgZW5xdWV1ZVN0YXRlUmVzdG9yZTogZW5xdWV1ZVN0YXRlUmVzdG9yZSxcbiAgZ2V0UmVzcG9uZGVyTm9kZTogZnVuY3Rpb24gKCkge1xuICAgIHZhbGlkYXRlUmVzcG9uZGVyQ29udGV4dCgpO1xuICAgIHZhciByZXNwb25kZXJGaWJlciA9IGN1cnJlbnRJbnN0YW5jZS5maWJlcjtcblxuICAgIGlmIChyZXNwb25kZXJGaWJlci50YWcgPT09IFNjb3BlQ29tcG9uZW50KSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzcG9uZGVyRmliZXIuc3RhdGVOb2RlO1xuICB9XG59O1xuXG5mdW5jdGlvbiB2YWxpZGF0ZUV2ZW50VmFsdWUoZXZlbnRWYWx1ZSkge1xuICBpZiAodHlwZW9mIGV2ZW50VmFsdWUgPT09ICdvYmplY3QnICYmIGV2ZW50VmFsdWUgIT09IG51bGwpIHtcbiAgICB2YXIgdGFyZ2V0ID0gZXZlbnRWYWx1ZS50YXJnZXQsXG4gICAgICAgIHR5cGUgPSBldmVudFZhbHVlLnR5cGUsXG4gICAgICAgIHRpbWVTdGFtcCA9IGV2ZW50VmFsdWUudGltZVN0YW1wO1xuXG4gICAgaWYgKHRhcmdldCA9PSBudWxsIHx8IHR5cGUgPT0gbnVsbCB8fCB0aW1lU3RhbXAgPT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdjb250ZXh0LmRpc3BhdGNoRXZlbnQ6IFwidGFyZ2V0XCIsIFwidGltZVN0YW1wXCIsIGFuZCBcInR5cGVcIiBmaWVsZHMgb24gZXZlbnQgb2JqZWN0IGFyZSByZXF1aXJlZC4nKTtcbiAgICB9XG5cbiAgICB2YXIgc2hvd1dhcm5pbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgICAge1xuICAgICAgICB3YXJuaW5nJDEoZmFsc2UsICclcyBpcyBub3QgYXZhaWxhYmxlIG9uIGV2ZW50IG9iamVjdHMgY3JlYXRlZCBmcm9tIGV2ZW50IHJlc3BvbmRlciBtb2R1bGVzIChSZWFjdCBGbGFyZSkuICcgKyAnVHJ5IHdyYXBwaW5nIGluIGEgY29uZGl0aW9uYWwsIGkuZS4gYGlmIChldmVudC50eXBlICE9PSBcInByZXNzXCIpIHsgZXZlbnQuJXMgfWAnLCBuYW1lLCBuYW1lKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZXZlbnRWYWx1ZS5pc0RlZmF1bHRQcmV2ZW50ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB7XG4gICAgICAgIHNob3dXYXJuaW5nKCdpc0RlZmF1bHRQcmV2ZW50ZWQoKScpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBldmVudFZhbHVlLmlzUHJvcGFnYXRpb25TdG9wcGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAge1xuICAgICAgICBzaG93V2FybmluZygnaXNQcm9wYWdhdGlvblN0b3BwZWQoKScpO1xuICAgICAgfVxuICAgIH07IC8vICRGbG93Rml4TWU6IHdlIGRvbid0IG5lZWQgdmFsdWUsIEZsb3cgdGhpbmtzIHdlIGRvXG5cblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShldmVudFZhbHVlLCAnbmF0aXZlRXZlbnQnLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAge1xuICAgICAgICAgIHNob3dXYXJuaW5nKCduYXRpdmVFdmVudCcpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZG9lc0ZpYmVySGF2ZVJlc3BvbmRlcihmaWJlciwgcmVzcG9uZGVyKSB7XG4gIHZhciB0YWcgPSBmaWJlci50YWc7XG5cbiAgaWYgKHRhZyA9PT0gSG9zdENvbXBvbmVudCB8fCB0YWcgPT09IFNjb3BlQ29tcG9uZW50KSB7XG4gICAgdmFyIGRlcGVuZGVuY2llcyA9IGZpYmVyLmRlcGVuZGVuY2llcztcblxuICAgIGlmIChkZXBlbmRlbmNpZXMgIT09IG51bGwpIHtcbiAgICAgIHZhciByZXNwb25kZXJzTWFwID0gZGVwZW5kZW5jaWVzLnJlc3BvbmRlcnM7XG5cbiAgICAgIGlmIChyZXNwb25kZXJzTWFwICE9PSBudWxsICYmIHJlc3BvbmRlcnNNYXAuaGFzKHJlc3BvbmRlcikpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBnZXRBY3RpdmVEb2N1bWVudCgpIHtcbiAgcmV0dXJuIGN1cnJlbnREb2N1bWVudDtcbn1cblxuZnVuY3Rpb24gY3JlYXRlRE9NUmVzcG9uZGVyRXZlbnQodG9wTGV2ZWxUeXBlLCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQsIHBhc3NpdmUsIHBhc3NpdmVTdXBwb3J0ZWQpIHtcbiAgdmFyIF9yZWYgPSBuYXRpdmVFdmVudCxcbiAgICAgIGJ1dHRvbnMgPSBfcmVmLmJ1dHRvbnMsXG4gICAgICBwb2ludGVyVHlwZSA9IF9yZWYucG9pbnRlclR5cGU7XG4gIHZhciBldmVudFBvaW50ZXJUeXBlID0gJyc7XG5cbiAgaWYgKHBvaW50ZXJUeXBlICE9PSB1bmRlZmluZWQpIHtcbiAgICBldmVudFBvaW50ZXJUeXBlID0gcG9pbnRlclR5cGU7XG4gIH0gZWxzZSBpZiAobmF0aXZlRXZlbnQua2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICBldmVudFBvaW50ZXJUeXBlID0gJ2tleWJvYXJkJztcbiAgfSBlbHNlIGlmIChidXR0b25zICE9PSB1bmRlZmluZWQpIHtcbiAgICBldmVudFBvaW50ZXJUeXBlID0gJ21vdXNlJztcbiAgfSBlbHNlIGlmIChuYXRpdmVFdmVudC5jaGFuZ2VkVG91Y2hlcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgZXZlbnRQb2ludGVyVHlwZSA9ICd0b3VjaCc7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIG5hdGl2ZUV2ZW50OiBuYXRpdmVFdmVudCxcbiAgICBwYXNzaXZlOiBwYXNzaXZlLFxuICAgIHBhc3NpdmVTdXBwb3J0ZWQ6IHBhc3NpdmVTdXBwb3J0ZWQsXG4gICAgcG9pbnRlclR5cGU6IGV2ZW50UG9pbnRlclR5cGUsXG4gICAgdGFyZ2V0OiBuYXRpdmVFdmVudFRhcmdldCxcbiAgICB0eXBlOiB0b3BMZXZlbFR5cGVcbiAgfTtcbn1cblxuZnVuY3Rpb24gcmVzcG9uZGVyRXZlbnRUeXBlc0NvbnRhaW5UeXBlKGV2ZW50VHlwZXMsIHR5cGUpIHtcbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGV2ZW50VHlwZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICBpZiAoZXZlbnRUeXBlc1tpXSA9PT0gdHlwZSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZVJlc3BvbmRlclRhcmdldEV2ZW50VHlwZXMoZXZlbnRUeXBlLCByZXNwb25kZXIpIHtcbiAgdmFyIHRhcmdldEV2ZW50VHlwZXMgPSByZXNwb25kZXIudGFyZ2V0RXZlbnRUeXBlczsgLy8gVmFsaWRhdGUgdGhlIHRhcmdldCBldmVudCB0eXBlIGV4aXN0cyBvbiB0aGUgcmVzcG9uZGVyXG5cbiAgaWYgKHRhcmdldEV2ZW50VHlwZXMgIT09IG51bGwpIHtcbiAgICByZXR1cm4gcmVzcG9uZGVyRXZlbnRUeXBlc0NvbnRhaW5UeXBlKHRhcmdldEV2ZW50VHlwZXMsIGV2ZW50VHlwZSk7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIHRyYXZlcnNlQW5kSGFuZGxlRXZlbnRSZXNwb25kZXJJbnN0YW5jZXModG9wTGV2ZWxUeXBlLCB0YXJnZXRGaWJlciwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0LCBldmVudFN5c3RlbUZsYWdzKSB7XG4gIHZhciBpc1Bhc3NpdmVFdmVudCA9IChldmVudFN5c3RlbUZsYWdzICYgSVNfUEFTU0lWRSkgIT09IDA7XG4gIHZhciBpc1Bhc3NpdmVTdXBwb3J0ZWQgPSAoZXZlbnRTeXN0ZW1GbGFncyAmIFBBU1NJVkVfTk9UX1NVUFBPUlRFRCkgPT09IDA7XG4gIHZhciBpc1Bhc3NpdmUgPSBpc1Bhc3NpdmVFdmVudCB8fCAhaXNQYXNzaXZlU3VwcG9ydGVkO1xuICB2YXIgZXZlbnRUeXBlID0gaXNQYXNzaXZlID8gdG9wTGV2ZWxUeXBlIDogdG9wTGV2ZWxUeXBlICsgJ19hY3RpdmUnOyAvLyBUcmlnZ2VyIGV2ZW50IHJlc3BvbmRlcnMgaW4gdGhpcyBvcmRlcjpcbiAgLy8gLSBCdWJibGUgdGFyZ2V0IHJlc3BvbmRlciBwaGFzZVxuICAvLyAtIFJvb3QgcmVzcG9uZGVyIHBoYXNlXG5cbiAgdmFyIHZpc2l0ZWRSZXNwb25kZXJzID0gbmV3IFNldCgpO1xuICB2YXIgcmVzcG9uZGVyRXZlbnQgPSBjcmVhdGVET01SZXNwb25kZXJFdmVudCh0b3BMZXZlbFR5cGUsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCwgaXNQYXNzaXZlRXZlbnQsIGlzUGFzc2l2ZVN1cHBvcnRlZCk7XG4gIHZhciBub2RlID0gdGFyZ2V0RmliZXI7XG4gIHZhciBpbnNpZGVQb3J0YWwgPSBmYWxzZTtcblxuICB3aGlsZSAobm9kZSAhPT0gbnVsbCkge1xuICAgIHZhciBfbm9kZSA9IG5vZGUsXG4gICAgICAgIGRlcGVuZGVuY2llcyA9IF9ub2RlLmRlcGVuZGVuY2llcyxcbiAgICAgICAgdGFnID0gX25vZGUudGFnO1xuXG4gICAgaWYgKHRhZyA9PT0gSG9zdFBvcnRhbCkge1xuICAgICAgaW5zaWRlUG9ydGFsID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKCh0YWcgPT09IEhvc3RDb21wb25lbnQgfHwgdGFnID09PSBTY29wZUNvbXBvbmVudCkgJiYgZGVwZW5kZW5jaWVzICE9PSBudWxsKSB7XG4gICAgICB2YXIgcmVzcG9uZGVyc01hcCA9IGRlcGVuZGVuY2llcy5yZXNwb25kZXJzO1xuXG4gICAgICBpZiAocmVzcG9uZGVyc01hcCAhPT0gbnVsbCkge1xuICAgICAgICB2YXIgcmVzcG9uZGVySW5zdGFuY2VzID0gQXJyYXkuZnJvbShyZXNwb25kZXJzTWFwLnZhbHVlcygpKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gcmVzcG9uZGVySW5zdGFuY2VzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIHJlc3BvbmRlckluc3RhbmNlID0gcmVzcG9uZGVySW5zdGFuY2VzW2ldO1xuICAgICAgICAgIHZhciBwcm9wcyA9IHJlc3BvbmRlckluc3RhbmNlLnByb3BzLFxuICAgICAgICAgICAgICByZXNwb25kZXIgPSByZXNwb25kZXJJbnN0YW5jZS5yZXNwb25kZXIsXG4gICAgICAgICAgICAgIHN0YXRlID0gcmVzcG9uZGVySW5zdGFuY2Uuc3RhdGU7XG5cbiAgICAgICAgICBpZiAoIXZpc2l0ZWRSZXNwb25kZXJzLmhhcyhyZXNwb25kZXIpICYmIHZhbGlkYXRlUmVzcG9uZGVyVGFyZ2V0RXZlbnRUeXBlcyhldmVudFR5cGUsIHJlc3BvbmRlcikgJiYgKCFpbnNpZGVQb3J0YWwgfHwgcmVzcG9uZGVyLnRhcmdldFBvcnRhbFByb3BhZ2F0aW9uKSkge1xuICAgICAgICAgICAgdmlzaXRlZFJlc3BvbmRlcnMuYWRkKHJlc3BvbmRlcik7XG4gICAgICAgICAgICB2YXIgb25FdmVudCA9IHJlc3BvbmRlci5vbkV2ZW50O1xuXG4gICAgICAgICAgICBpZiAob25FdmVudCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICBjdXJyZW50SW5zdGFuY2UgPSByZXNwb25kZXJJbnN0YW5jZTtcbiAgICAgICAgICAgICAgb25FdmVudChyZXNwb25kZXJFdmVudCwgZXZlbnRSZXNwb25kZXJDb250ZXh0LCBwcm9wcywgc3RhdGUpO1xuXG4gICAgICAgICAgICAgIGlmIChjdXJyZW50UHJvcGFnYXRpb25CZWhhdmlvciA9PT0gUHJvcGFnYXRlVG9OZXh0UmVzcG9uZGVyKSB7XG4gICAgICAgICAgICAgICAgdmlzaXRlZFJlc3BvbmRlcnMuZGVsZXRlKHJlc3BvbmRlcik7XG4gICAgICAgICAgICAgICAgY3VycmVudFByb3BhZ2F0aW9uQmVoYXZpb3IgPSBEb05vdFByb3BhZ2F0ZVRvTmV4dFJlc3BvbmRlcjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIG5vZGUgPSBub2RlLnJldHVybjtcbiAgfSAvLyBSb290IHBoYXNlXG5cblxuICB2YXIgcm9vdEV2ZW50UmVzcG9uZGVySW5zdGFuY2VzID0gcm9vdEV2ZW50VHlwZXNUb0V2ZW50UmVzcG9uZGVySW5zdGFuY2VzLmdldChldmVudFR5cGUpO1xuXG4gIGlmIChyb290RXZlbnRSZXNwb25kZXJJbnN0YW5jZXMgIT09IHVuZGVmaW5lZCkge1xuICAgIHZhciBfcmVzcG9uZGVySW5zdGFuY2VzID0gQXJyYXkuZnJvbShyb290RXZlbnRSZXNwb25kZXJJbnN0YW5jZXMpO1xuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IF9yZXNwb25kZXJJbnN0YW5jZXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgX3Jlc3BvbmRlckluc3RhbmNlID0gX3Jlc3BvbmRlckluc3RhbmNlc1tfaV07XG4gICAgICB2YXIgcHJvcHMgPSBfcmVzcG9uZGVySW5zdGFuY2UucHJvcHMsXG4gICAgICAgICAgcmVzcG9uZGVyID0gX3Jlc3BvbmRlckluc3RhbmNlLnJlc3BvbmRlcixcbiAgICAgICAgICBzdGF0ZSA9IF9yZXNwb25kZXJJbnN0YW5jZS5zdGF0ZTtcbiAgICAgIHZhciBvblJvb3RFdmVudCA9IHJlc3BvbmRlci5vblJvb3RFdmVudDtcblxuICAgICAgaWYgKG9uUm9vdEV2ZW50ICE9PSBudWxsKSB7XG4gICAgICAgIGN1cnJlbnRJbnN0YW5jZSA9IF9yZXNwb25kZXJJbnN0YW5jZTtcbiAgICAgICAgb25Sb290RXZlbnQocmVzcG9uZGVyRXZlbnQsIGV2ZW50UmVzcG9uZGVyQ29udGV4dCwgcHJvcHMsIHN0YXRlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gbW91bnRFdmVudFJlc3BvbmRlcihyZXNwb25kZXIsIHJlc3BvbmRlckluc3RhbmNlLCBwcm9wcywgc3RhdGUpIHtcbiAgdmFyIG9uTW91bnQgPSByZXNwb25kZXIub25Nb3VudDtcblxuICBpZiAob25Nb3VudCAhPT0gbnVsbCkge1xuICAgIHZhciBwcmV2aW91c0luc3RhbmNlID0gY3VycmVudEluc3RhbmNlO1xuICAgIGN1cnJlbnRJbnN0YW5jZSA9IHJlc3BvbmRlckluc3RhbmNlO1xuXG4gICAgdHJ5IHtcbiAgICAgIGJhdGNoZWRFdmVudFVwZGF0ZXMoZnVuY3Rpb24gKCkge1xuICAgICAgICBvbk1vdW50KGV2ZW50UmVzcG9uZGVyQ29udGV4dCwgcHJvcHMsIHN0YXRlKTtcbiAgICAgIH0pO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBjdXJyZW50SW5zdGFuY2UgPSBwcmV2aW91c0luc3RhbmNlO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gdW5tb3VudEV2ZW50UmVzcG9uZGVyKHJlc3BvbmRlckluc3RhbmNlKSB7XG4gIHZhciByZXNwb25kZXIgPSByZXNwb25kZXJJbnN0YW5jZS5yZXNwb25kZXI7XG4gIHZhciBvblVubW91bnQgPSByZXNwb25kZXIub25Vbm1vdW50O1xuXG4gIGlmIChvblVubW91bnQgIT09IG51bGwpIHtcbiAgICB2YXIgcHJvcHMgPSByZXNwb25kZXJJbnN0YW5jZS5wcm9wcyxcbiAgICAgICAgc3RhdGUgPSByZXNwb25kZXJJbnN0YW5jZS5zdGF0ZTtcbiAgICB2YXIgcHJldmlvdXNJbnN0YW5jZSA9IGN1cnJlbnRJbnN0YW5jZTtcbiAgICBjdXJyZW50SW5zdGFuY2UgPSByZXNwb25kZXJJbnN0YW5jZTtcblxuICAgIHRyeSB7XG4gICAgICBiYXRjaGVkRXZlbnRVcGRhdGVzKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgb25Vbm1vdW50KGV2ZW50UmVzcG9uZGVyQ29udGV4dCwgcHJvcHMsIHN0YXRlKTtcbiAgICAgIH0pO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBjdXJyZW50SW5zdGFuY2UgPSBwcmV2aW91c0luc3RhbmNlO1xuICAgIH1cbiAgfVxuXG4gIHZhciByb290RXZlbnRUeXBlc1NldCA9IHJlc3BvbmRlckluc3RhbmNlLnJvb3RFdmVudFR5cGVzO1xuXG4gIGlmIChyb290RXZlbnRUeXBlc1NldCAhPT0gbnVsbCkge1xuICAgIHZhciByb290RXZlbnRUeXBlcyA9IEFycmF5LmZyb20ocm9vdEV2ZW50VHlwZXNTZXQpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCByb290RXZlbnRUeXBlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHRvcExldmVsRXZlbnRUeXBlID0gcm9vdEV2ZW50VHlwZXNbaV07XG4gICAgICB2YXIgcm9vdEV2ZW50UmVzcG9uZGVySW5zdGFuY2VzID0gcm9vdEV2ZW50VHlwZXNUb0V2ZW50UmVzcG9uZGVySW5zdGFuY2VzLmdldCh0b3BMZXZlbEV2ZW50VHlwZSk7XG5cbiAgICAgIGlmIChyb290RXZlbnRSZXNwb25kZXJJbnN0YW5jZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByb290RXZlbnRSZXNwb25kZXJJbnN0YW5jZXMuZGVsZXRlKHJlc3BvbmRlckluc3RhbmNlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVSZXNwb25kZXJDb250ZXh0KCkge1xuICBpZiAoIShjdXJyZW50SW5zdGFuY2UgIT09IG51bGwpKSB7XG4gICAge1xuICAgICAgdGhyb3cgRXJyb3IoXCJBbiBldmVudCByZXNwb25kZXIgY29udGV4dCB3YXMgdXNlZCBvdXRzaWRlIG9mIGFuIGV2ZW50IGN5Y2xlLlwiKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZGlzcGF0Y2hFdmVudEZvclJlc3BvbmRlckV2ZW50U3lzdGVtKHRvcExldmVsVHlwZSwgdGFyZ2V0RmliZXIsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCwgZXZlbnRTeXN0ZW1GbGFncykge1xuICBpZiAoZW5hYmxlRmxhcmVBUEkpIHtcbiAgICB2YXIgcHJldmlvdXNJbnN0YW5jZSA9IGN1cnJlbnRJbnN0YW5jZTtcbiAgICB2YXIgcHJldmlvdXNUaW1lU3RhbXAgPSBjdXJyZW50VGltZVN0YW1wO1xuICAgIHZhciBwcmV2aW91c0RvY3VtZW50ID0gY3VycmVudERvY3VtZW50O1xuICAgIHZhciBwcmV2aW91c1Byb3BhZ2F0aW9uQmVoYXZpb3IgPSBjdXJyZW50UHJvcGFnYXRpb25CZWhhdmlvcjtcbiAgICBjdXJyZW50UHJvcGFnYXRpb25CZWhhdmlvciA9IERvTm90UHJvcGFnYXRlVG9OZXh0UmVzcG9uZGVyOyAvLyBub2RlVHlwZSA5IGlzIERPQ1VNRU5UX05PREVcblxuICAgIGN1cnJlbnREb2N1bWVudCA9IG5hdGl2ZUV2ZW50VGFyZ2V0Lm5vZGVUeXBlID09PSA5ID8gbmF0aXZlRXZlbnRUYXJnZXQgOiBuYXRpdmVFdmVudFRhcmdldC5vd25lckRvY3VtZW50OyAvLyBXZSBtaWdodCB3YW50IHRvIGNvbnRyb2wgdGltZVN0YW1wIGFub3RoZXIgd2F5IGhlcmVcblxuICAgIGN1cnJlbnRUaW1lU3RhbXAgPSBuYXRpdmVFdmVudC50aW1lU3RhbXA7XG5cbiAgICB0cnkge1xuICAgICAgYmF0Y2hlZEV2ZW50VXBkYXRlcyhmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRyYXZlcnNlQW5kSGFuZGxlRXZlbnRSZXNwb25kZXJJbnN0YW5jZXModG9wTGV2ZWxUeXBlLCB0YXJnZXRGaWJlciwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0LCBldmVudFN5c3RlbUZsYWdzKTtcbiAgICAgIH0pO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBjdXJyZW50SW5zdGFuY2UgPSBwcmV2aW91c0luc3RhbmNlO1xuICAgICAgY3VycmVudFRpbWVTdGFtcCA9IHByZXZpb3VzVGltZVN0YW1wO1xuICAgICAgY3VycmVudERvY3VtZW50ID0gcHJldmlvdXNEb2N1bWVudDtcbiAgICAgIGN1cnJlbnRQcm9wYWdhdGlvbkJlaGF2aW9yID0gcHJldmlvdXNQcm9wYWdhdGlvbkJlaGF2aW9yO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gYWRkUm9vdEV2ZW50VHlwZXNGb3JSZXNwb25kZXJJbnN0YW5jZShyZXNwb25kZXJJbnN0YW5jZSwgcm9vdEV2ZW50VHlwZXMpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCByb290RXZlbnRUeXBlcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciByb290RXZlbnRUeXBlID0gcm9vdEV2ZW50VHlwZXNbaV07XG4gICAgcmVnaXN0ZXJSb290RXZlbnRUeXBlKHJvb3RFdmVudFR5cGUsIHJlc3BvbmRlckluc3RhbmNlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZWdpc3RlclJvb3RFdmVudFR5cGUocm9vdEV2ZW50VHlwZSwgZXZlbnRSZXNwb25kZXJJbnN0YW5jZSkge1xuICB2YXIgcm9vdEV2ZW50UmVzcG9uZGVySW5zdGFuY2VzID0gcm9vdEV2ZW50VHlwZXNUb0V2ZW50UmVzcG9uZGVySW5zdGFuY2VzLmdldChyb290RXZlbnRUeXBlKTtcblxuICBpZiAocm9vdEV2ZW50UmVzcG9uZGVySW5zdGFuY2VzID09PSB1bmRlZmluZWQpIHtcbiAgICByb290RXZlbnRSZXNwb25kZXJJbnN0YW5jZXMgPSBuZXcgU2V0KCk7XG4gICAgcm9vdEV2ZW50VHlwZXNUb0V2ZW50UmVzcG9uZGVySW5zdGFuY2VzLnNldChyb290RXZlbnRUeXBlLCByb290RXZlbnRSZXNwb25kZXJJbnN0YW5jZXMpO1xuICB9XG5cbiAgdmFyIHJvb3RFdmVudFR5cGVzU2V0ID0gZXZlbnRSZXNwb25kZXJJbnN0YW5jZS5yb290RXZlbnRUeXBlcztcblxuICBpZiAocm9vdEV2ZW50VHlwZXNTZXQgPT09IG51bGwpIHtcbiAgICByb290RXZlbnRUeXBlc1NldCA9IGV2ZW50UmVzcG9uZGVySW5zdGFuY2Uucm9vdEV2ZW50VHlwZXMgPSBuZXcgU2V0KCk7XG4gIH1cblxuICBpZiAoISFyb290RXZlbnRUeXBlc1NldC5oYXMocm9vdEV2ZW50VHlwZSkpIHtcbiAgICB7XG4gICAgICB0aHJvdyBFcnJvcihcImFkZFJvb3RFdmVudFR5cGVzKCkgZm91bmQgYSBkdXBsaWNhdGUgcm9vdCBldmVudCB0eXBlIG9mIFxcXCJcIiArIHJvb3RFdmVudFR5cGUgKyBcIlxcXCIuIFRoaXMgbWlnaHQgYmUgYmVjYXVzZSB0aGUgZXZlbnQgdHlwZSBleGlzdHMgaW4gdGhlIGV2ZW50IHJlc3BvbmRlciBcXFwicm9vdEV2ZW50VHlwZXNcXFwiIGFycmF5IG9yIGJlY2F1c2Ugb2YgYSBwcmV2aW91cyBhZGRSb290RXZlbnRUeXBlcygpIHVzaW5nIHRoaXMgcm9vdCBldmVudCB0eXBlLlwiKTtcbiAgICB9XG4gIH1cblxuICByb290RXZlbnRUeXBlc1NldC5hZGQocm9vdEV2ZW50VHlwZSk7XG4gIHJvb3RFdmVudFJlc3BvbmRlckluc3RhbmNlcy5hZGQoZXZlbnRSZXNwb25kZXJJbnN0YW5jZSk7XG59XG5cbi8vIEEgcmVzZXJ2ZWQgYXR0cmlidXRlLlxuLy8gSXQgaXMgaGFuZGxlZCBieSBSZWFjdCBzZXBhcmF0ZWx5IGFuZCBzaG91bGRuJ3QgYmUgd3JpdHRlbiB0byB0aGUgRE9NLlxudmFyIFJFU0VSVkVEID0gMDsgLy8gQSBzaW1wbGUgc3RyaW5nIGF0dHJpYnV0ZS5cbi8vIEF0dHJpYnV0ZXMgdGhhdCBhcmVuJ3QgaW4gdGhlIHdoaXRlbGlzdCBhcmUgcHJlc3VtZWQgdG8gaGF2ZSB0aGlzIHR5cGUuXG5cbnZhciBTVFJJTkcgPSAxOyAvLyBBIHN0cmluZyBhdHRyaWJ1dGUgdGhhdCBhY2NlcHRzIGJvb2xlYW5zIGluIFJlYWN0LiBJbiBIVE1MLCB0aGVzZSBhcmUgY2FsbGVkXG4vLyBcImVudW1lcmF0ZWRcIiBhdHRyaWJ1dGVzIHdpdGggXCJ0cnVlXCIgYW5kIFwiZmFsc2VcIiBhcyBwb3NzaWJsZSB2YWx1ZXMuXG4vLyBXaGVuIHRydWUsIGl0IHNob3VsZCBiZSBzZXQgdG8gYSBcInRydWVcIiBzdHJpbmcuXG4vLyBXaGVuIGZhbHNlLCBpdCBzaG91bGQgYmUgc2V0IHRvIGEgXCJmYWxzZVwiIHN0cmluZy5cblxudmFyIEJPT0xFQU5JU0hfU1RSSU5HID0gMjsgLy8gQSByZWFsIGJvb2xlYW4gYXR0cmlidXRlLlxuLy8gV2hlbiB0cnVlLCBpdCBzaG91bGQgYmUgcHJlc2VudCAoc2V0IGVpdGhlciB0byBhbiBlbXB0eSBzdHJpbmcgb3IgaXRzIG5hbWUpLlxuLy8gV2hlbiBmYWxzZSwgaXQgc2hvdWxkIGJlIG9taXR0ZWQuXG5cbnZhciBCT09MRUFOID0gMzsgLy8gQW4gYXR0cmlidXRlIHRoYXQgY2FuIGJlIHVzZWQgYXMgYSBmbGFnIGFzIHdlbGwgYXMgd2l0aCBhIHZhbHVlLlxuLy8gV2hlbiB0cnVlLCBpdCBzaG91bGQgYmUgcHJlc2VudCAoc2V0IGVpdGhlciB0byBhbiBlbXB0eSBzdHJpbmcgb3IgaXRzIG5hbWUpLlxuLy8gV2hlbiBmYWxzZSwgaXQgc2hvdWxkIGJlIG9taXR0ZWQuXG4vLyBGb3IgYW55IG90aGVyIHZhbHVlLCBzaG91bGQgYmUgcHJlc2VudCB3aXRoIHRoYXQgdmFsdWUuXG5cbnZhciBPVkVSTE9BREVEX0JPT0xFQU4gPSA0OyAvLyBBbiBhdHRyaWJ1dGUgdGhhdCBtdXN0IGJlIG51bWVyaWMgb3IgcGFyc2UgYXMgYSBudW1lcmljLlxuLy8gV2hlbiBmYWxzeSwgaXQgc2hvdWxkIGJlIHJlbW92ZWQuXG5cbnZhciBOVU1FUklDID0gNTsgLy8gQW4gYXR0cmlidXRlIHRoYXQgbXVzdCBiZSBwb3NpdGl2ZSBudW1lcmljIG9yIHBhcnNlIGFzIGEgcG9zaXRpdmUgbnVtZXJpYy5cbi8vIFdoZW4gZmFsc3ksIGl0IHNob3VsZCBiZSByZW1vdmVkLlxuXG52YXIgUE9TSVRJVkVfTlVNRVJJQyA9IDY7XG5cbi8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbnZhciBBVFRSSUJVVEVfTkFNRV9TVEFSVF9DSEFSID0gXCI6QS1aX2EtelxcXFx1MDBDMC1cXFxcdTAwRDZcXFxcdTAwRDgtXFxcXHUwMEY2XFxcXHUwMEY4LVxcXFx1MDJGRlxcXFx1MDM3MC1cXFxcdTAzN0RcXFxcdTAzN0YtXFxcXHUxRkZGXFxcXHUyMDBDLVxcXFx1MjAwRFxcXFx1MjA3MC1cXFxcdTIxOEZcXFxcdTJDMDAtXFxcXHUyRkVGXFxcXHUzMDAxLVxcXFx1RDdGRlxcXFx1RjkwMC1cXFxcdUZEQ0ZcXFxcdUZERjAtXFxcXHVGRkZEXCI7XG4vKiBlc2xpbnQtZW5hYmxlIG1heC1sZW4gKi9cblxudmFyIEFUVFJJQlVURV9OQU1FX0NIQVIgPSBBVFRSSUJVVEVfTkFNRV9TVEFSVF9DSEFSICsgXCJcXFxcLS4wLTlcXFxcdTAwQjdcXFxcdTAzMDAtXFxcXHUwMzZGXFxcXHUyMDNGLVxcXFx1MjA0MFwiO1xuXG52YXIgUk9PVF9BVFRSSUJVVEVfTkFNRSA9ICdkYXRhLXJlYWN0cm9vdCc7XG52YXIgVkFMSURfQVRUUklCVVRFX05BTUVfUkVHRVggPSBuZXcgUmVnRXhwKCdeWycgKyBBVFRSSUJVVEVfTkFNRV9TVEFSVF9DSEFSICsgJ11bJyArIEFUVFJJQlVURV9OQU1FX0NIQVIgKyAnXSokJyk7XG52YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIGlsbGVnYWxBdHRyaWJ1dGVOYW1lQ2FjaGUgPSB7fTtcbnZhciB2YWxpZGF0ZWRBdHRyaWJ1dGVOYW1lQ2FjaGUgPSB7fTtcbmZ1bmN0aW9uIGlzQXR0cmlidXRlTmFtZVNhZmUoYXR0cmlidXRlTmFtZSkge1xuICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbCh2YWxpZGF0ZWRBdHRyaWJ1dGVOYW1lQ2FjaGUsIGF0dHJpYnV0ZU5hbWUpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChpbGxlZ2FsQXR0cmlidXRlTmFtZUNhY2hlLCBhdHRyaWJ1dGVOYW1lKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmIChWQUxJRF9BVFRSSUJVVEVfTkFNRV9SRUdFWC50ZXN0KGF0dHJpYnV0ZU5hbWUpKSB7XG4gICAgdmFsaWRhdGVkQXR0cmlidXRlTmFtZUNhY2hlW2F0dHJpYnV0ZU5hbWVdID0gdHJ1ZTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGlsbGVnYWxBdHRyaWJ1dGVOYW1lQ2FjaGVbYXR0cmlidXRlTmFtZV0gPSB0cnVlO1xuXG4gIHtcbiAgICB3YXJuaW5nJDEoZmFsc2UsICdJbnZhbGlkIGF0dHJpYnV0ZSBuYW1lOiBgJXNgJywgYXR0cmlidXRlTmFtZSk7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBzaG91bGRJZ25vcmVBdHRyaWJ1dGUobmFtZSwgcHJvcGVydHlJbmZvLCBpc0N1c3RvbUNvbXBvbmVudFRhZykge1xuICBpZiAocHJvcGVydHlJbmZvICE9PSBudWxsKSB7XG4gICAgcmV0dXJuIHByb3BlcnR5SW5mby50eXBlID09PSBSRVNFUlZFRDtcbiAgfVxuXG4gIGlmIChpc0N1c3RvbUNvbXBvbmVudFRhZykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmIChuYW1lLmxlbmd0aCA+IDIgJiYgKG5hbWVbMF0gPT09ICdvJyB8fCBuYW1lWzBdID09PSAnTycpICYmIChuYW1lWzFdID09PSAnbicgfHwgbmFtZVsxXSA9PT0gJ04nKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gc2hvdWxkUmVtb3ZlQXR0cmlidXRlV2l0aFdhcm5pbmcobmFtZSwgdmFsdWUsIHByb3BlcnR5SW5mbywgaXNDdXN0b21Db21wb25lbnRUYWcpIHtcbiAgaWYgKHByb3BlcnR5SW5mbyAhPT0gbnVsbCAmJiBwcm9wZXJ0eUluZm8udHlwZSA9PT0gUkVTRVJWRUQpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBzd2l0Y2ggKHR5cGVvZiB2YWx1ZSkge1xuICAgIGNhc2UgJ2Z1bmN0aW9uJzogLy8gJEZsb3dJc3N1ZSBzeW1ib2wgaXMgcGVyZmVjdGx5IHZhbGlkIGhlcmVcblxuICAgIGNhc2UgJ3N5bWJvbCc6XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICByZXR1cm4gdHJ1ZTtcblxuICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAge1xuICAgICAgICBpZiAoaXNDdXN0b21Db21wb25lbnRUYWcpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocHJvcGVydHlJbmZvICE9PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuICFwcm9wZXJ0eUluZm8uYWNjZXB0c0Jvb2xlYW5zO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBwcmVmaXggPSBuYW1lLnRvTG93ZXJDYXNlKCkuc2xpY2UoMCwgNSk7XG4gICAgICAgICAgcmV0dXJuIHByZWZpeCAhPT0gJ2RhdGEtJyAmJiBwcmVmaXggIT09ICdhcmlhLSc7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cbmZ1bmN0aW9uIHNob3VsZFJlbW92ZUF0dHJpYnV0ZShuYW1lLCB2YWx1ZSwgcHJvcGVydHlJbmZvLCBpc0N1c3RvbUNvbXBvbmVudFRhZykge1xuICBpZiAodmFsdWUgPT09IG51bGwgfHwgdHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaWYgKHNob3VsZFJlbW92ZUF0dHJpYnV0ZVdpdGhXYXJuaW5nKG5hbWUsIHZhbHVlLCBwcm9wZXJ0eUluZm8sIGlzQ3VzdG9tQ29tcG9uZW50VGFnKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaWYgKGlzQ3VzdG9tQ29tcG9uZW50VGFnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKHByb3BlcnR5SW5mbyAhPT0gbnVsbCkge1xuICAgIHN3aXRjaCAocHJvcGVydHlJbmZvLnR5cGUpIHtcbiAgICAgIGNhc2UgQk9PTEVBTjpcbiAgICAgICAgcmV0dXJuICF2YWx1ZTtcblxuICAgICAgY2FzZSBPVkVSTE9BREVEX0JPT0xFQU46XG4gICAgICAgIHJldHVybiB2YWx1ZSA9PT0gZmFsc2U7XG5cbiAgICAgIGNhc2UgTlVNRVJJQzpcbiAgICAgICAgcmV0dXJuIGlzTmFOKHZhbHVlKTtcblxuICAgICAgY2FzZSBQT1NJVElWRV9OVU1FUklDOlxuICAgICAgICByZXR1cm4gaXNOYU4odmFsdWUpIHx8IHZhbHVlIDwgMTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBnZXRQcm9wZXJ0eUluZm8obmFtZSkge1xuICByZXR1cm4gcHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSA/IHByb3BlcnRpZXNbbmFtZV0gOiBudWxsO1xufVxuXG5mdW5jdGlvbiBQcm9wZXJ0eUluZm9SZWNvcmQobmFtZSwgdHlwZSwgbXVzdFVzZVByb3BlcnR5LCBhdHRyaWJ1dGVOYW1lLCBhdHRyaWJ1dGVOYW1lc3BhY2UsIHNhbml0aXplVVJMKSB7XG4gIHRoaXMuYWNjZXB0c0Jvb2xlYW5zID0gdHlwZSA9PT0gQk9PTEVBTklTSF9TVFJJTkcgfHwgdHlwZSA9PT0gQk9PTEVBTiB8fCB0eXBlID09PSBPVkVSTE9BREVEX0JPT0xFQU47XG4gIHRoaXMuYXR0cmlidXRlTmFtZSA9IGF0dHJpYnV0ZU5hbWU7XG4gIHRoaXMuYXR0cmlidXRlTmFtZXNwYWNlID0gYXR0cmlidXRlTmFtZXNwYWNlO1xuICB0aGlzLm11c3RVc2VQcm9wZXJ0eSA9IG11c3RVc2VQcm9wZXJ0eTtcbiAgdGhpcy5wcm9wZXJ0eU5hbWUgPSBuYW1lO1xuICB0aGlzLnR5cGUgPSB0eXBlO1xuICB0aGlzLnNhbml0aXplVVJMID0gc2FuaXRpemVVUkw7XG59IC8vIFdoZW4gYWRkaW5nIGF0dHJpYnV0ZXMgdG8gdGhpcyBsaXN0LCBiZSBzdXJlIHRvIGFsc28gYWRkIHRoZW0gdG9cbi8vIHRoZSBgcG9zc2libGVTdGFuZGFyZE5hbWVzYCBtb2R1bGUgdG8gZW5zdXJlIGNhc2luZyBhbmQgaW5jb3JyZWN0XG4vLyBuYW1lIHdhcm5pbmdzLlxuXG5cbnZhciBwcm9wZXJ0aWVzID0ge307IC8vIFRoZXNlIHByb3BzIGFyZSByZXNlcnZlZCBieSBSZWFjdC4gVGhleSBzaG91bGRuJ3QgYmUgd3JpdHRlbiB0byB0aGUgRE9NLlxuXG5bJ2NoaWxkcmVuJywgJ2Rhbmdlcm91c2x5U2V0SW5uZXJIVE1MJywgLy8gVE9ETzogVGhpcyBwcmV2ZW50cyB0aGUgYXNzaWdubWVudCBvZiBkZWZhdWx0VmFsdWUgdG8gcmVndWxhclxuLy8gZWxlbWVudHMgKG5vdCBqdXN0IGlucHV0cykuIE5vdyB0aGF0IFJlYWN0RE9NSW5wdXQgYXNzaWducyB0byB0aGVcbi8vIGRlZmF1bHRWYWx1ZSBwcm9wZXJ0eSAtLSBkbyB3ZSBuZWVkIHRoaXM/XG4nZGVmYXVsdFZhbHVlJywgJ2RlZmF1bHRDaGVja2VkJywgJ2lubmVySFRNTCcsICdzdXBwcmVzc0NvbnRlbnRFZGl0YWJsZVdhcm5pbmcnLCAnc3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nJywgJ3N0eWxlJ10uZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICBwcm9wZXJ0aWVzW25hbWVdID0gbmV3IFByb3BlcnR5SW5mb1JlY29yZChuYW1lLCBSRVNFUlZFRCwgZmFsc2UsIC8vIG11c3RVc2VQcm9wZXJ0eVxuICBuYW1lLCAvLyBhdHRyaWJ1dGVOYW1lXG4gIG51bGwsIC8vIGF0dHJpYnV0ZU5hbWVzcGFjZVxuICBmYWxzZSk7XG59KTsgLy8gQSBmZXcgUmVhY3Qgc3RyaW5nIGF0dHJpYnV0ZXMgaGF2ZSBhIGRpZmZlcmVudCBuYW1lLlxuLy8gVGhpcyBpcyBhIG1hcHBpbmcgZnJvbSBSZWFjdCBwcm9wIG5hbWVzIHRvIHRoZSBhdHRyaWJ1dGUgbmFtZXMuXG5cbltbJ2FjY2VwdENoYXJzZXQnLCAnYWNjZXB0LWNoYXJzZXQnXSwgWydjbGFzc05hbWUnLCAnY2xhc3MnXSwgWydodG1sRm9yJywgJ2ZvciddLCBbJ2h0dHBFcXVpdicsICdodHRwLWVxdWl2J11dLmZvckVhY2goZnVuY3Rpb24gKF9yZWYpIHtcbiAgdmFyIG5hbWUgPSBfcmVmWzBdLFxuICAgICAgYXR0cmlidXRlTmFtZSA9IF9yZWZbMV07XG4gIHByb3BlcnRpZXNbbmFtZV0gPSBuZXcgUHJvcGVydHlJbmZvUmVjb3JkKG5hbWUsIFNUUklORywgZmFsc2UsIC8vIG11c3RVc2VQcm9wZXJ0eVxuICBhdHRyaWJ1dGVOYW1lLCAvLyBhdHRyaWJ1dGVOYW1lXG4gIG51bGwsIC8vIGF0dHJpYnV0ZU5hbWVzcGFjZVxuICBmYWxzZSk7XG59KTsgLy8gVGhlc2UgYXJlIFwiZW51bWVyYXRlZFwiIEhUTUwgYXR0cmlidXRlcyB0aGF0IGFjY2VwdCBcInRydWVcIiBhbmQgXCJmYWxzZVwiLlxuLy8gSW4gUmVhY3QsIHdlIGxldCB1c2VycyBwYXNzIGB0cnVlYCBhbmQgYGZhbHNlYCBldmVuIHRob3VnaCB0ZWNobmljYWxseVxuLy8gdGhlc2UgYXJlbid0IGJvb2xlYW4gYXR0cmlidXRlcyAodGhleSBhcmUgY29lcmNlZCB0byBzdHJpbmdzKS5cblxuWydjb250ZW50RWRpdGFibGUnLCAnZHJhZ2dhYmxlJywgJ3NwZWxsQ2hlY2snLCAndmFsdWUnXS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gIHByb3BlcnRpZXNbbmFtZV0gPSBuZXcgUHJvcGVydHlJbmZvUmVjb3JkKG5hbWUsIEJPT0xFQU5JU0hfU1RSSU5HLCBmYWxzZSwgLy8gbXVzdFVzZVByb3BlcnR5XG4gIG5hbWUudG9Mb3dlckNhc2UoKSwgLy8gYXR0cmlidXRlTmFtZVxuICBudWxsLCAvLyBhdHRyaWJ1dGVOYW1lc3BhY2VcbiAgZmFsc2UpO1xufSk7IC8vIFRoZXNlIGFyZSBcImVudW1lcmF0ZWRcIiBTVkcgYXR0cmlidXRlcyB0aGF0IGFjY2VwdCBcInRydWVcIiBhbmQgXCJmYWxzZVwiLlxuLy8gSW4gUmVhY3QsIHdlIGxldCB1c2VycyBwYXNzIGB0cnVlYCBhbmQgYGZhbHNlYCBldmVuIHRob3VnaCB0ZWNobmljYWxseVxuLy8gdGhlc2UgYXJlbid0IGJvb2xlYW4gYXR0cmlidXRlcyAodGhleSBhcmUgY29lcmNlZCB0byBzdHJpbmdzKS5cbi8vIFNpbmNlIHRoZXNlIGFyZSBTVkcgYXR0cmlidXRlcywgdGhlaXIgYXR0cmlidXRlIG5hbWVzIGFyZSBjYXNlLXNlbnNpdGl2ZS5cblxuWydhdXRvUmV2ZXJzZScsICdleHRlcm5hbFJlc291cmNlc1JlcXVpcmVkJywgJ2ZvY3VzYWJsZScsICdwcmVzZXJ2ZUFscGhhJ10uZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICBwcm9wZXJ0aWVzW25hbWVdID0gbmV3IFByb3BlcnR5SW5mb1JlY29yZChuYW1lLCBCT09MRUFOSVNIX1NUUklORywgZmFsc2UsIC8vIG11c3RVc2VQcm9wZXJ0eVxuICBuYW1lLCAvLyBhdHRyaWJ1dGVOYW1lXG4gIG51bGwsIC8vIGF0dHJpYnV0ZU5hbWVzcGFjZVxuICBmYWxzZSk7XG59KTsgLy8gVGhlc2UgYXJlIEhUTUwgYm9vbGVhbiBhdHRyaWJ1dGVzLlxuXG5bJ2FsbG93RnVsbFNjcmVlbicsICdhc3luYycsIC8vIE5vdGU6IHRoZXJlIGlzIGEgc3BlY2lhbCBjYXNlIHRoYXQgcHJldmVudHMgaXQgZnJvbSBiZWluZyB3cml0dGVuIHRvIHRoZSBET01cbi8vIG9uIHRoZSBjbGllbnQgc2lkZSBiZWNhdXNlIHRoZSBicm93c2VycyBhcmUgaW5jb25zaXN0ZW50LiBJbnN0ZWFkIHdlIGNhbGwgZm9jdXMoKS5cbidhdXRvRm9jdXMnLCAnYXV0b1BsYXknLCAnY29udHJvbHMnLCAnZGVmYXVsdCcsICdkZWZlcicsICdkaXNhYmxlZCcsICdkaXNhYmxlUGljdHVyZUluUGljdHVyZScsICdmb3JtTm9WYWxpZGF0ZScsICdoaWRkZW4nLCAnbG9vcCcsICdub01vZHVsZScsICdub1ZhbGlkYXRlJywgJ29wZW4nLCAncGxheXNJbmxpbmUnLCAncmVhZE9ubHknLCAncmVxdWlyZWQnLCAncmV2ZXJzZWQnLCAnc2NvcGVkJywgJ3NlYW1sZXNzJywgLy8gTWljcm9kYXRhXG4naXRlbVNjb3BlJ10uZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICBwcm9wZXJ0aWVzW25hbWVdID0gbmV3IFByb3BlcnR5SW5mb1JlY29yZChuYW1lLCBCT09MRUFOLCBmYWxzZSwgLy8gbXVzdFVzZVByb3BlcnR5XG4gIG5hbWUudG9Mb3dlckNhc2UoKSwgLy8gYXR0cmlidXRlTmFtZVxuICBudWxsLCAvLyBhdHRyaWJ1dGVOYW1lc3BhY2VcbiAgZmFsc2UpO1xufSk7IC8vIFRoZXNlIGFyZSB0aGUgZmV3IFJlYWN0IHByb3BzIHRoYXQgd2Ugc2V0IGFzIERPTSBwcm9wZXJ0aWVzXG4vLyByYXRoZXIgdGhhbiBhdHRyaWJ1dGVzLiBUaGVzZSBhcmUgYWxsIGJvb2xlYW5zLlxuXG5bJ2NoZWNrZWQnLCAvLyBOb3RlOiBgb3B0aW9uLnNlbGVjdGVkYCBpcyBub3QgdXBkYXRlZCBpZiBgc2VsZWN0Lm11bHRpcGxlYCBpc1xuLy8gZGlzYWJsZWQgd2l0aCBgcmVtb3ZlQXR0cmlidXRlYC4gV2UgaGF2ZSBzcGVjaWFsIGxvZ2ljIGZvciBoYW5kbGluZyB0aGlzLlxuJ211bHRpcGxlJywgJ211dGVkJywgJ3NlbGVjdGVkJ10uZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICBwcm9wZXJ0aWVzW25hbWVdID0gbmV3IFByb3BlcnR5SW5mb1JlY29yZChuYW1lLCBCT09MRUFOLCB0cnVlLCAvLyBtdXN0VXNlUHJvcGVydHlcbiAgbmFtZSwgLy8gYXR0cmlidXRlTmFtZVxuICBudWxsLCAvLyBhdHRyaWJ1dGVOYW1lc3BhY2VcbiAgZmFsc2UpO1xufSk7IC8vIFRoZXNlIGFyZSBIVE1MIGF0dHJpYnV0ZXMgdGhhdCBhcmUgXCJvdmVybG9hZGVkIGJvb2xlYW5zXCI6IHRoZXkgYmVoYXZlIGxpa2Vcbi8vIGJvb2xlYW5zLCBidXQgY2FuIGFsc28gYWNjZXB0IGEgc3RyaW5nIHZhbHVlLlxuXG5bJ2NhcHR1cmUnLCAnZG93bmxvYWQnXS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gIHByb3BlcnRpZXNbbmFtZV0gPSBuZXcgUHJvcGVydHlJbmZvUmVjb3JkKG5hbWUsIE9WRVJMT0FERURfQk9PTEVBTiwgZmFsc2UsIC8vIG11c3RVc2VQcm9wZXJ0eVxuICBuYW1lLCAvLyBhdHRyaWJ1dGVOYW1lXG4gIG51bGwsIC8vIGF0dHJpYnV0ZU5hbWVzcGFjZVxuICBmYWxzZSk7XG59KTsgLy8gVGhlc2UgYXJlIEhUTUwgYXR0cmlidXRlcyB0aGF0IG11c3QgYmUgcG9zaXRpdmUgbnVtYmVycy5cblxuWydjb2xzJywgJ3Jvd3MnLCAnc2l6ZScsICdzcGFuJ10uZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICBwcm9wZXJ0aWVzW25hbWVdID0gbmV3IFByb3BlcnR5SW5mb1JlY29yZChuYW1lLCBQT1NJVElWRV9OVU1FUklDLCBmYWxzZSwgLy8gbXVzdFVzZVByb3BlcnR5XG4gIG5hbWUsIC8vIGF0dHJpYnV0ZU5hbWVcbiAgbnVsbCwgLy8gYXR0cmlidXRlTmFtZXNwYWNlXG4gIGZhbHNlKTtcbn0pOyAvLyBUaGVzZSBhcmUgSFRNTCBhdHRyaWJ1dGVzIHRoYXQgbXVzdCBiZSBudW1iZXJzLlxuXG5bJ3Jvd1NwYW4nLCAnc3RhcnQnXS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gIHByb3BlcnRpZXNbbmFtZV0gPSBuZXcgUHJvcGVydHlJbmZvUmVjb3JkKG5hbWUsIE5VTUVSSUMsIGZhbHNlLCAvLyBtdXN0VXNlUHJvcGVydHlcbiAgbmFtZS50b0xvd2VyQ2FzZSgpLCAvLyBhdHRyaWJ1dGVOYW1lXG4gIG51bGwsIC8vIGF0dHJpYnV0ZU5hbWVzcGFjZVxuICBmYWxzZSk7XG59KTtcbnZhciBDQU1FTElaRSA9IC9bXFwtXFw6XShbYS16XSkvZztcblxudmFyIGNhcGl0YWxpemUgPSBmdW5jdGlvbiAodG9rZW4pIHtcbiAgcmV0dXJuIHRva2VuWzFdLnRvVXBwZXJDYXNlKCk7XG59OyAvLyBUaGlzIGlzIGEgbGlzdCBvZiBhbGwgU1ZHIGF0dHJpYnV0ZXMgdGhhdCBuZWVkIHNwZWNpYWwgY2FzaW5nLCBuYW1lc3BhY2luZyxcbi8vIG9yIGJvb2xlYW4gdmFsdWUgYXNzaWdubWVudC4gUmVndWxhciBhdHRyaWJ1dGVzIHRoYXQganVzdCBhY2NlcHQgc3RyaW5nc1xuLy8gYW5kIGhhdmUgdGhlIHNhbWUgbmFtZXMgYXJlIG9taXR0ZWQsIGp1c3QgbGlrZSBpbiB0aGUgSFRNTCB3aGl0ZWxpc3QuXG4vLyBTb21lIG9mIHRoZXNlIGF0dHJpYnV0ZXMgY2FuIGJlIGhhcmQgdG8gZmluZC4gVGhpcyBsaXN0IHdhcyBjcmVhdGVkIGJ5XG4vLyBzY3JhcHBpbmcgdGhlIE1ETiBkb2N1bWVudGF0aW9uLlxuXG5cblsnYWNjZW50LWhlaWdodCcsICdhbGlnbm1lbnQtYmFzZWxpbmUnLCAnYXJhYmljLWZvcm0nLCAnYmFzZWxpbmUtc2hpZnQnLCAnY2FwLWhlaWdodCcsICdjbGlwLXBhdGgnLCAnY2xpcC1ydWxlJywgJ2NvbG9yLWludGVycG9sYXRpb24nLCAnY29sb3ItaW50ZXJwb2xhdGlvbi1maWx0ZXJzJywgJ2NvbG9yLXByb2ZpbGUnLCAnY29sb3ItcmVuZGVyaW5nJywgJ2RvbWluYW50LWJhc2VsaW5lJywgJ2VuYWJsZS1iYWNrZ3JvdW5kJywgJ2ZpbGwtb3BhY2l0eScsICdmaWxsLXJ1bGUnLCAnZmxvb2QtY29sb3InLCAnZmxvb2Qtb3BhY2l0eScsICdmb250LWZhbWlseScsICdmb250LXNpemUnLCAnZm9udC1zaXplLWFkanVzdCcsICdmb250LXN0cmV0Y2gnLCAnZm9udC1zdHlsZScsICdmb250LXZhcmlhbnQnLCAnZm9udC13ZWlnaHQnLCAnZ2x5cGgtbmFtZScsICdnbHlwaC1vcmllbnRhdGlvbi1ob3Jpem9udGFsJywgJ2dseXBoLW9yaWVudGF0aW9uLXZlcnRpY2FsJywgJ2hvcml6LWFkdi14JywgJ2hvcml6LW9yaWdpbi14JywgJ2ltYWdlLXJlbmRlcmluZycsICdsZXR0ZXItc3BhY2luZycsICdsaWdodGluZy1jb2xvcicsICdtYXJrZXItZW5kJywgJ21hcmtlci1taWQnLCAnbWFya2VyLXN0YXJ0JywgJ292ZXJsaW5lLXBvc2l0aW9uJywgJ292ZXJsaW5lLXRoaWNrbmVzcycsICdwYWludC1vcmRlcicsICdwYW5vc2UtMScsICdwb2ludGVyLWV2ZW50cycsICdyZW5kZXJpbmctaW50ZW50JywgJ3NoYXBlLXJlbmRlcmluZycsICdzdG9wLWNvbG9yJywgJ3N0b3Atb3BhY2l0eScsICdzdHJpa2V0aHJvdWdoLXBvc2l0aW9uJywgJ3N0cmlrZXRocm91Z2gtdGhpY2tuZXNzJywgJ3N0cm9rZS1kYXNoYXJyYXknLCAnc3Ryb2tlLWRhc2hvZmZzZXQnLCAnc3Ryb2tlLWxpbmVjYXAnLCAnc3Ryb2tlLWxpbmVqb2luJywgJ3N0cm9rZS1taXRlcmxpbWl0JywgJ3N0cm9rZS1vcGFjaXR5JywgJ3N0cm9rZS13aWR0aCcsICd0ZXh0LWFuY2hvcicsICd0ZXh0LWRlY29yYXRpb24nLCAndGV4dC1yZW5kZXJpbmcnLCAndW5kZXJsaW5lLXBvc2l0aW9uJywgJ3VuZGVybGluZS10aGlja25lc3MnLCAndW5pY29kZS1iaWRpJywgJ3VuaWNvZGUtcmFuZ2UnLCAndW5pdHMtcGVyLWVtJywgJ3YtYWxwaGFiZXRpYycsICd2LWhhbmdpbmcnLCAndi1pZGVvZ3JhcGhpYycsICd2LW1hdGhlbWF0aWNhbCcsICd2ZWN0b3ItZWZmZWN0JywgJ3ZlcnQtYWR2LXknLCAndmVydC1vcmlnaW4teCcsICd2ZXJ0LW9yaWdpbi15JywgJ3dvcmQtc3BhY2luZycsICd3cml0aW5nLW1vZGUnLCAneG1sbnM6eGxpbmsnLCAneC1oZWlnaHQnXS5mb3JFYWNoKGZ1bmN0aW9uIChhdHRyaWJ1dGVOYW1lKSB7XG4gIHZhciBuYW1lID0gYXR0cmlidXRlTmFtZS5yZXBsYWNlKENBTUVMSVpFLCBjYXBpdGFsaXplKTtcbiAgcHJvcGVydGllc1tuYW1lXSA9IG5ldyBQcm9wZXJ0eUluZm9SZWNvcmQobmFtZSwgU1RSSU5HLCBmYWxzZSwgLy8gbXVzdFVzZVByb3BlcnR5XG4gIGF0dHJpYnV0ZU5hbWUsIG51bGwsIC8vIGF0dHJpYnV0ZU5hbWVzcGFjZVxuICBmYWxzZSk7XG59KTsgLy8gU3RyaW5nIFNWRyBhdHRyaWJ1dGVzIHdpdGggdGhlIHhsaW5rIG5hbWVzcGFjZS5cblxuWyd4bGluazphY3R1YXRlJywgJ3hsaW5rOmFyY3JvbGUnLCAneGxpbms6cm9sZScsICd4bGluazpzaG93JywgJ3hsaW5rOnRpdGxlJywgJ3hsaW5rOnR5cGUnXS5mb3JFYWNoKGZ1bmN0aW9uIChhdHRyaWJ1dGVOYW1lKSB7XG4gIHZhciBuYW1lID0gYXR0cmlidXRlTmFtZS5yZXBsYWNlKENBTUVMSVpFLCBjYXBpdGFsaXplKTtcbiAgcHJvcGVydGllc1tuYW1lXSA9IG5ldyBQcm9wZXJ0eUluZm9SZWNvcmQobmFtZSwgU1RSSU5HLCBmYWxzZSwgLy8gbXVzdFVzZVByb3BlcnR5XG4gIGF0dHJpYnV0ZU5hbWUsICdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJywgZmFsc2UpO1xufSk7IC8vIFN0cmluZyBTVkcgYXR0cmlidXRlcyB3aXRoIHRoZSB4bWwgbmFtZXNwYWNlLlxuXG5bJ3htbDpiYXNlJywgJ3htbDpsYW5nJywgJ3htbDpzcGFjZSddLmZvckVhY2goZnVuY3Rpb24gKGF0dHJpYnV0ZU5hbWUpIHtcbiAgdmFyIG5hbWUgPSBhdHRyaWJ1dGVOYW1lLnJlcGxhY2UoQ0FNRUxJWkUsIGNhcGl0YWxpemUpO1xuICBwcm9wZXJ0aWVzW25hbWVdID0gbmV3IFByb3BlcnR5SW5mb1JlY29yZChuYW1lLCBTVFJJTkcsIGZhbHNlLCAvLyBtdXN0VXNlUHJvcGVydHlcbiAgYXR0cmlidXRlTmFtZSwgJ2h0dHA6Ly93d3cudzMub3JnL1hNTC8xOTk4L25hbWVzcGFjZScsIGZhbHNlKTtcbn0pOyAvLyBUaGVzZSBhdHRyaWJ1dGUgZXhpc3RzIGJvdGggaW4gSFRNTCBhbmQgU1ZHLlxuLy8gVGhlIGF0dHJpYnV0ZSBuYW1lIGlzIGNhc2Utc2Vuc2l0aXZlIGluIFNWRyBzbyB3ZSBjYW4ndCBqdXN0IHVzZVxuLy8gdGhlIFJlYWN0IG5hbWUgbGlrZSB3ZSBkbyBmb3IgYXR0cmlidXRlcyB0aGF0IGV4aXN0IG9ubHkgaW4gSFRNTC5cblxuWyd0YWJJbmRleCcsICdjcm9zc09yaWdpbiddLmZvckVhY2goZnVuY3Rpb24gKGF0dHJpYnV0ZU5hbWUpIHtcbiAgcHJvcGVydGllc1thdHRyaWJ1dGVOYW1lXSA9IG5ldyBQcm9wZXJ0eUluZm9SZWNvcmQoYXR0cmlidXRlTmFtZSwgU1RSSU5HLCBmYWxzZSwgLy8gbXVzdFVzZVByb3BlcnR5XG4gIGF0dHJpYnV0ZU5hbWUudG9Mb3dlckNhc2UoKSwgLy8gYXR0cmlidXRlTmFtZVxuICBudWxsLCAvLyBhdHRyaWJ1dGVOYW1lc3BhY2VcbiAgZmFsc2UpO1xufSk7IC8vIFRoZXNlIGF0dHJpYnV0ZXMgYWNjZXB0IFVSTHMuIFRoZXNlIG11c3Qgbm90IGFsbG93IGphdmFzY3JpcHQ6IFVSTFMuXG4vLyBUaGVzZSB3aWxsIGFsc28gbmVlZCB0byBhY2NlcHQgVHJ1c3RlZCBUeXBlcyBvYmplY3QgaW4gdGhlIGZ1dHVyZS5cblxudmFyIHhsaW5rSHJlZiA9ICd4bGlua0hyZWYnO1xucHJvcGVydGllc1t4bGlua0hyZWZdID0gbmV3IFByb3BlcnR5SW5mb1JlY29yZCgneGxpbmtIcmVmJywgU1RSSU5HLCBmYWxzZSwgLy8gbXVzdFVzZVByb3BlcnR5XG4neGxpbms6aHJlZicsICdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJywgdHJ1ZSk7XG5bJ3NyYycsICdocmVmJywgJ2FjdGlvbicsICdmb3JtQWN0aW9uJ10uZm9yRWFjaChmdW5jdGlvbiAoYXR0cmlidXRlTmFtZSkge1xuICBwcm9wZXJ0aWVzW2F0dHJpYnV0ZU5hbWVdID0gbmV3IFByb3BlcnR5SW5mb1JlY29yZChhdHRyaWJ1dGVOYW1lLCBTVFJJTkcsIGZhbHNlLCAvLyBtdXN0VXNlUHJvcGVydHlcbiAgYXR0cmlidXRlTmFtZS50b0xvd2VyQ2FzZSgpLCAvLyBhdHRyaWJ1dGVOYW1lXG4gIG51bGwsIC8vIGF0dHJpYnV0ZU5hbWVzcGFjZVxuICB0cnVlKTtcbn0pO1xuXG52YXIgUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZSQxID0gbnVsbDtcblxue1xuICBSZWFjdERlYnVnQ3VycmVudEZyYW1lJDEgPSBSZWFjdFNoYXJlZEludGVybmFscy5SZWFjdERlYnVnQ3VycmVudEZyYW1lO1xufSAvLyBBIGphdmFzY3JpcHQ6IFVSTCBjYW4gY29udGFpbiBsZWFkaW5nIEMwIGNvbnRyb2wgb3IgXFx1MDAyMCBTUEFDRSxcbi8vIGFuZCBhbnkgbmV3bGluZSBvciB0YWIgYXJlIGZpbHRlcmVkIG91dCBhcyBpZiB0aGV5J3JlIG5vdCBwYXJ0IG9mIHRoZSBVUkwuXG4vLyBodHRwczovL3VybC5zcGVjLndoYXR3Zy5vcmcvI3VybC1wYXJzaW5nXG4vLyBUYWIgb3IgbmV3bGluZSBhcmUgZGVmaW5lZCBhcyBcXHJcXG5cXHQ6XG4vLyBodHRwczovL2luZnJhLnNwZWMud2hhdHdnLm9yZy8jYXNjaWktdGFiLW9yLW5ld2xpbmVcbi8vIEEgQzAgY29udHJvbCBpcyBhIGNvZGUgcG9pbnQgaW4gdGhlIHJhbmdlIFxcdTAwMDAgTlVMTCB0byBcXHUwMDFGXG4vLyBJTkZPUk1BVElPTiBTRVBBUkFUT1IgT05FLCBpbmNsdXNpdmU6XG4vLyBodHRwczovL2luZnJhLnNwZWMud2hhdHdnLm9yZy8jYzAtY29udHJvbC1vci1zcGFjZVxuXG4vKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG5cblxudmFyIGlzSmF2YVNjcmlwdFByb3RvY29sID0gL15bXFx1MDAwMC1cXHUwMDFGIF0qaltcXHJcXG5cXHRdKmFbXFxyXFxuXFx0XSp2W1xcclxcblxcdF0qYVtcXHJcXG5cXHRdKnNbXFxyXFxuXFx0XSpjW1xcclxcblxcdF0qcltcXHJcXG5cXHRdKmlbXFxyXFxuXFx0XSpwW1xcclxcblxcdF0qdFtcXHJcXG5cXHRdKlxcOi9pO1xudmFyIGRpZFdhcm4gPSBmYWxzZTtcblxuZnVuY3Rpb24gc2FuaXRpemVVUkwodXJsKSB7XG4gIGlmIChkaXNhYmxlSmF2YVNjcmlwdFVSTHMpIHtcbiAgICBpZiAoISFpc0phdmFTY3JpcHRQcm90b2NvbC50ZXN0KHVybCkpIHtcbiAgICAgIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJSZWFjdCBoYXMgYmxvY2tlZCBhIGphdmFzY3JpcHQ6IFVSTCBhcyBhIHNlY3VyaXR5IHByZWNhdXRpb24uXCIgKyAoUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZSQxLmdldFN0YWNrQWRkZW5kdW0oKSkpO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmICh0cnVlICYmICFkaWRXYXJuICYmIGlzSmF2YVNjcmlwdFByb3RvY29sLnRlc3QodXJsKSkge1xuICAgIGRpZFdhcm4gPSB0cnVlO1xuICAgIHdhcm5pbmckMShmYWxzZSwgJ0EgZnV0dXJlIHZlcnNpb24gb2YgUmVhY3Qgd2lsbCBibG9jayBqYXZhc2NyaXB0OiBVUkxzIGFzIGEgc2VjdXJpdHkgcHJlY2F1dGlvbi4gJyArICdVc2UgZXZlbnQgaGFuZGxlcnMgaW5zdGVhZCBpZiB5b3UgY2FuLiBJZiB5b3UgbmVlZCB0byBnZW5lcmF0ZSB1bnNhZmUgSFRNTCB0cnkgJyArICd1c2luZyBkYW5nZXJvdXNseVNldElubmVySFRNTCBpbnN0ZWFkLiBSZWFjdCB3YXMgcGFzc2VkICVzLicsIEpTT04uc3RyaW5naWZ5KHVybCkpO1xuICB9XG59XG5cbi8vIEZsb3cgZG9lcyBub3QgYWxsb3cgc3RyaW5nIGNvbmNhdGVuYXRpb24gb2YgbW9zdCBub24tc3RyaW5nIHR5cGVzLiBUbyB3b3JrXG4vLyBhcm91bmQgdGhpcyBsaW1pdGF0aW9uLCB3ZSB1c2UgYW4gb3BhcXVlIHR5cGUgdGhhdCBjYW4gb25seSBiZSBvYnRhaW5lZCBieVxuLy8gcGFzc2luZyB0aGUgdmFsdWUgdGhyb3VnaCBnZXRUb1N0cmluZ1ZhbHVlIGZpcnN0LlxuZnVuY3Rpb24gdG9TdHJpbmcodmFsdWUpIHtcbiAgcmV0dXJuICcnICsgdmFsdWU7XG59XG5mdW5jdGlvbiBnZXRUb1N0cmluZ1ZhbHVlKHZhbHVlKSB7XG4gIHN3aXRjaCAodHlwZW9mIHZhbHVlKSB7XG4gICAgY2FzZSAnYm9vbGVhbic6XG4gICAgY2FzZSAnbnVtYmVyJzpcbiAgICBjYXNlICdvYmplY3QnOlxuICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgY2FzZSAndW5kZWZpbmVkJzpcbiAgICAgIHJldHVybiB2YWx1ZTtcblxuICAgIGRlZmF1bHQ6XG4gICAgICAvLyBmdW5jdGlvbiwgc3ltYm9sIGFyZSBhc3NpZ25lZCBhcyBlbXB0eSBzdHJpbmdzXG4gICAgICByZXR1cm4gJyc7XG4gIH1cbn1cbi8qKiBUcnVzdGVkIHZhbHVlIGlzIGEgd3JhcHBlciBmb3IgXCJzYWZlXCIgdmFsdWVzIHdoaWNoIGNhbiBiZSBhc3NpZ25lZCB0byBET00gZXhlY3V0aW9uIHNpbmtzLiAqL1xuXG4vKipcbiAqIFdlIGFsbG93IHBhc3Npbmcgb2JqZWN0cyB3aXRoIHRvU3RyaW5nIG1ldGhvZCBhcyBlbGVtZW50IGF0dHJpYnV0ZXMgb3IgaW4gZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxcbiAqIGFuZCB3ZSBkbyB2YWxpZGF0aW9ucyB0aGF0IHRoZSB2YWx1ZSBpcyBzYWZlLiBPbmNlIHdlIGRvIHZhbGlkYXRpb24gd2Ugd2FudCB0byB1c2UgdGhlIHZhbGlkYXRlZFxuICogdmFsdWUgaW5zdGVhZCBvZiB0aGUgb2JqZWN0IChiZWNhdXNlIG9iamVjdC50b1N0cmluZyBtYXkgcmV0dXJuIHNvbWV0aGluZyBlbHNlIG9uIG5leHQgY2FsbCkuXG4gKlxuICogSWYgYXBwbGljYXRpb24gdXNlcyBUcnVzdGVkIFR5cGVzIHdlIGRvbid0IHN0cmluZ2lmeSB0cnVzdGVkIHZhbHVlcywgYnV0IHByZXNlcnZlIHRoZW0gYXMgb2JqZWN0cy5cbiAqL1xudmFyIHRvU3RyaW5nT3JUcnVzdGVkVHlwZSA9IHRvU3RyaW5nO1xuXG5pZiAoZW5hYmxlVHJ1c3RlZFR5cGVzSW50ZWdyYXRpb24gJiYgdHlwZW9mIHRydXN0ZWRUeXBlcyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgdG9TdHJpbmdPclRydXN0ZWRUeXBlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgKHRydXN0ZWRUeXBlcy5pc0hUTUwodmFsdWUpIHx8IHRydXN0ZWRUeXBlcy5pc1NjcmlwdCh2YWx1ZSkgfHwgdHJ1c3RlZFR5cGVzLmlzU2NyaXB0VVJMKHZhbHVlKSB8fFxuICAgIC8qIFRydXN0ZWRVUkxzIGFyZSBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgc29vbjogaHR0cHM6Ly9naXRodWIuY29tL1dJQ0cvdHJ1c3RlZC10eXBlcy9wdWxsLzIwNCAqL1xuICAgIHRydXN0ZWRUeXBlcy5pc1VSTCAmJiB0cnVzdGVkVHlwZXMuaXNVUkwodmFsdWUpKSkge1xuICAgICAgLy8gUGFzcyBUcnVzdGVkIFR5cGVzIHRocm91Z2guXG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRvU3RyaW5nKHZhbHVlKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBTZXQgYXR0cmlidXRlIGZvciBhIG5vZGUuIFRoZSBhdHRyaWJ1dGUgdmFsdWUgY2FuIGJlIGVpdGhlciBzdHJpbmcgb3JcbiAqIFRydXN0ZWQgdmFsdWUgKGlmIGFwcGxpY2F0aW9uIHVzZXMgVHJ1c3RlZCBUeXBlcykuXG4gKi9cbmZ1bmN0aW9uIHNldEF0dHJpYnV0ZShub2RlLCBhdHRyaWJ1dGVOYW1lLCBhdHRyaWJ1dGVWYWx1ZSkge1xuICBub2RlLnNldEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lLCBhdHRyaWJ1dGVWYWx1ZSk7XG59XG4vKipcbiAqIFNldCBhdHRyaWJ1dGUgd2l0aCBuYW1lc3BhY2UgZm9yIGEgbm9kZS4gVGhlIGF0dHJpYnV0ZSB2YWx1ZSBjYW4gYmUgZWl0aGVyIHN0cmluZyBvclxuICogVHJ1c3RlZCB2YWx1ZSAoaWYgYXBwbGljYXRpb24gdXNlcyBUcnVzdGVkIFR5cGVzKS5cbiAqL1xuXG5mdW5jdGlvbiBzZXRBdHRyaWJ1dGVOUyhub2RlLCBhdHRyaWJ1dGVOYW1lc3BhY2UsIGF0dHJpYnV0ZU5hbWUsIGF0dHJpYnV0ZVZhbHVlKSB7XG4gIG5vZGUuc2V0QXR0cmlidXRlTlMoYXR0cmlidXRlTmFtZXNwYWNlLCBhdHRyaWJ1dGVOYW1lLCBhdHRyaWJ1dGVWYWx1ZSk7XG59XG5cbi8qKlxuICogR2V0IHRoZSB2YWx1ZSBmb3IgYSBwcm9wZXJ0eSBvbiBhIG5vZGUuIE9ubHkgdXNlZCBpbiBERVYgZm9yIFNTUiB2YWxpZGF0aW9uLlxuICogVGhlIFwiZXhwZWN0ZWRcIiBhcmd1bWVudCBpcyB1c2VkIGFzIGEgaGludCBvZiB3aGF0IHRoZSBleHBlY3RlZCB2YWx1ZSBpcy5cbiAqIFNvbWUgcHJvcGVydGllcyBoYXZlIG11bHRpcGxlIGVxdWl2YWxlbnQgdmFsdWVzLlxuICovXG5mdW5jdGlvbiBnZXRWYWx1ZUZvclByb3BlcnR5KG5vZGUsIG5hbWUsIGV4cGVjdGVkLCBwcm9wZXJ0eUluZm8pIHtcbiAge1xuICAgIGlmIChwcm9wZXJ0eUluZm8ubXVzdFVzZVByb3BlcnR5KSB7XG4gICAgICB2YXIgcHJvcGVydHlOYW1lID0gcHJvcGVydHlJbmZvLnByb3BlcnR5TmFtZTtcbiAgICAgIHJldHVybiBub2RlW3Byb3BlcnR5TmFtZV07XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghZGlzYWJsZUphdmFTY3JpcHRVUkxzICYmIHByb3BlcnR5SW5mby5zYW5pdGl6ZVVSTCkge1xuICAgICAgICAvLyBJZiB3ZSBoYXZlbid0IGZ1bGx5IGRpc2FibGVkIGphdmFzY3JpcHQ6IFVSTHMsIGFuZCBpZlxuICAgICAgICAvLyB0aGUgaHlkcmF0aW9uIGlzIHN1Y2Nlc3NmdWwgb2YgYSBqYXZhc2NyaXB0OiBVUkwsIHdlXG4gICAgICAgIC8vIHN0aWxsIHdhbnQgdG8gd2FybiBvbiB0aGUgY2xpZW50LlxuICAgICAgICBzYW5pdGl6ZVVSTCgnJyArIGV4cGVjdGVkKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGF0dHJpYnV0ZU5hbWUgPSBwcm9wZXJ0eUluZm8uYXR0cmlidXRlTmFtZTtcbiAgICAgIHZhciBzdHJpbmdWYWx1ZSA9IG51bGw7XG5cbiAgICAgIGlmIChwcm9wZXJ0eUluZm8udHlwZSA9PT0gT1ZFUkxPQURFRF9CT09MRUFOKSB7XG4gICAgICAgIGlmIChub2RlLmhhc0F0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lKSkge1xuICAgICAgICAgIHZhciB2YWx1ZSA9IG5vZGUuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUpO1xuXG4gICAgICAgICAgaWYgKHZhbHVlID09PSAnJykge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHNob3VsZFJlbW92ZUF0dHJpYnV0ZShuYW1lLCBleHBlY3RlZCwgcHJvcGVydHlJbmZvLCBmYWxzZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodmFsdWUgPT09ICcnICsgZXhwZWN0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBleHBlY3RlZDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAobm9kZS5oYXNBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSkpIHtcbiAgICAgICAgaWYgKHNob3VsZFJlbW92ZUF0dHJpYnV0ZShuYW1lLCBleHBlY3RlZCwgcHJvcGVydHlJbmZvLCBmYWxzZSkpIHtcbiAgICAgICAgICAvLyBXZSBoYWQgYW4gYXR0cmlidXRlIGJ1dCBzaG91bGRuJ3QgaGF2ZSBoYWQgb25lLCBzbyByZWFkIGl0XG4gICAgICAgICAgLy8gZm9yIHRoZSBlcnJvciBtZXNzYWdlLlxuICAgICAgICAgIHJldHVybiBub2RlLmdldEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwcm9wZXJ0eUluZm8udHlwZSA9PT0gQk9PTEVBTikge1xuICAgICAgICAgIC8vIElmIHRoaXMgd2FzIGEgYm9vbGVhbiwgaXQgZG9lc24ndCBtYXR0ZXIgd2hhdCB0aGUgdmFsdWUgaXNcbiAgICAgICAgICAvLyB0aGUgZmFjdCB0aGF0IHdlIGhhdmUgaXQgaXMgdGhlIHNhbWUgYXMgdGhlIGV4cGVjdGVkLlxuICAgICAgICAgIHJldHVybiBleHBlY3RlZDtcbiAgICAgICAgfSAvLyBFdmVuIGlmIHRoaXMgcHJvcGVydHkgdXNlcyBhIG5hbWVzcGFjZSB3ZSB1c2UgZ2V0QXR0cmlidXRlXG4gICAgICAgIC8vIGJlY2F1c2Ugd2UgYXNzdW1lIGl0cyBuYW1lc3BhY2VkIG5hbWUgaXMgdGhlIHNhbWUgYXMgb3VyIGNvbmZpZy5cbiAgICAgICAgLy8gVG8gdXNlIGdldEF0dHJpYnV0ZU5TIHdlIG5lZWQgdGhlIGxvY2FsIG5hbWUgd2hpY2ggd2UgZG9uJ3QgaGF2ZVxuICAgICAgICAvLyBpbiBvdXIgY29uZmlnIGF0bS5cblxuXG4gICAgICAgIHN0cmluZ1ZhbHVlID0gbm9kZS5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChzaG91bGRSZW1vdmVBdHRyaWJ1dGUobmFtZSwgZXhwZWN0ZWQsIHByb3BlcnR5SW5mbywgZmFsc2UpKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmdWYWx1ZSA9PT0gbnVsbCA/IGV4cGVjdGVkIDogc3RyaW5nVmFsdWU7XG4gICAgICB9IGVsc2UgaWYgKHN0cmluZ1ZhbHVlID09PSAnJyArIGV4cGVjdGVkKSB7XG4gICAgICAgIHJldHVybiBleHBlY3RlZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBzdHJpbmdWYWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbi8qKlxuICogR2V0IHRoZSB2YWx1ZSBmb3IgYSBhdHRyaWJ1dGUgb24gYSBub2RlLiBPbmx5IHVzZWQgaW4gREVWIGZvciBTU1IgdmFsaWRhdGlvbi5cbiAqIFRoZSB0aGlyZCBhcmd1bWVudCBpcyB1c2VkIGFzIGEgaGludCBvZiB3aGF0IHRoZSBleHBlY3RlZCB2YWx1ZSBpcy4gU29tZVxuICogYXR0cmlidXRlcyBoYXZlIG11bHRpcGxlIGVxdWl2YWxlbnQgdmFsdWVzLlxuICovXG5cbmZ1bmN0aW9uIGdldFZhbHVlRm9yQXR0cmlidXRlKG5vZGUsIG5hbWUsIGV4cGVjdGVkKSB7XG4gIHtcbiAgICBpZiAoIWlzQXR0cmlidXRlTmFtZVNhZmUobmFtZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIW5vZGUuaGFzQXR0cmlidXRlKG5hbWUpKSB7XG4gICAgICByZXR1cm4gZXhwZWN0ZWQgPT09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZCA6IG51bGw7XG4gICAgfVxuXG4gICAgdmFyIHZhbHVlID0gbm9kZS5nZXRBdHRyaWJ1dGUobmFtZSk7XG5cbiAgICBpZiAodmFsdWUgPT09ICcnICsgZXhwZWN0ZWQpIHtcbiAgICAgIHJldHVybiBleHBlY3RlZDtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbn1cbi8qKlxuICogU2V0cyB0aGUgdmFsdWUgZm9yIGEgcHJvcGVydHkgb24gYSBub2RlLlxuICpcbiAqIEBwYXJhbSB7RE9NRWxlbWVudH0gbm9kZVxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAqL1xuXG5mdW5jdGlvbiBzZXRWYWx1ZUZvclByb3BlcnR5KG5vZGUsIG5hbWUsIHZhbHVlLCBpc0N1c3RvbUNvbXBvbmVudFRhZykge1xuICB2YXIgcHJvcGVydHlJbmZvID0gZ2V0UHJvcGVydHlJbmZvKG5hbWUpO1xuXG4gIGlmIChzaG91bGRJZ25vcmVBdHRyaWJ1dGUobmFtZSwgcHJvcGVydHlJbmZvLCBpc0N1c3RvbUNvbXBvbmVudFRhZykpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoc2hvdWxkUmVtb3ZlQXR0cmlidXRlKG5hbWUsIHZhbHVlLCBwcm9wZXJ0eUluZm8sIGlzQ3VzdG9tQ29tcG9uZW50VGFnKSkge1xuICAgIHZhbHVlID0gbnVsbDtcbiAgfSAvLyBJZiB0aGUgcHJvcCBpc24ndCBpbiB0aGUgc3BlY2lhbCBsaXN0LCB0cmVhdCBpdCBhcyBhIHNpbXBsZSBhdHRyaWJ1dGUuXG5cblxuICBpZiAoaXNDdXN0b21Db21wb25lbnRUYWcgfHwgcHJvcGVydHlJbmZvID09PSBudWxsKSB7XG4gICAgaWYgKGlzQXR0cmlidXRlTmFtZVNhZmUobmFtZSkpIHtcbiAgICAgIHZhciBfYXR0cmlidXRlTmFtZSA9IG5hbWU7XG5cbiAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICBub2RlLnJlbW92ZUF0dHJpYnV0ZShfYXR0cmlidXRlTmFtZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXRBdHRyaWJ1dGUobm9kZSwgX2F0dHJpYnV0ZU5hbWUsIHRvU3RyaW5nT3JUcnVzdGVkVHlwZSh2YWx1ZSkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBtdXN0VXNlUHJvcGVydHkgPSBwcm9wZXJ0eUluZm8ubXVzdFVzZVByb3BlcnR5O1xuXG4gIGlmIChtdXN0VXNlUHJvcGVydHkpIHtcbiAgICB2YXIgcHJvcGVydHlOYW1lID0gcHJvcGVydHlJbmZvLnByb3BlcnR5TmFtZTtcblxuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgdmFyIHR5cGUgPSBwcm9wZXJ0eUluZm8udHlwZTtcbiAgICAgIG5vZGVbcHJvcGVydHlOYW1lXSA9IHR5cGUgPT09IEJPT0xFQU4gPyBmYWxzZSA6ICcnO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBDb250cmFyeSB0byBgc2V0QXR0cmlidXRlYCwgb2JqZWN0IHByb3BlcnRpZXMgYXJlIHByb3Blcmx5XG4gICAgICAvLyBgdG9TdHJpbmdgZWQgYnkgSUU4LzkuXG4gICAgICBub2RlW3Byb3BlcnR5TmFtZV0gPSB2YWx1ZTtcbiAgICB9XG5cbiAgICByZXR1cm47XG4gIH0gLy8gVGhlIHJlc3QgYXJlIHRyZWF0ZWQgYXMgYXR0cmlidXRlcyB3aXRoIHNwZWNpYWwgY2FzZXMuXG5cblxuICB2YXIgYXR0cmlidXRlTmFtZSA9IHByb3BlcnR5SW5mby5hdHRyaWJ1dGVOYW1lLFxuICAgICAgYXR0cmlidXRlTmFtZXNwYWNlID0gcHJvcGVydHlJbmZvLmF0dHJpYnV0ZU5hbWVzcGFjZTtcblxuICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICBub2RlLnJlbW92ZUF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgX3R5cGUgPSBwcm9wZXJ0eUluZm8udHlwZTtcbiAgICB2YXIgYXR0cmlidXRlVmFsdWU7XG5cbiAgICBpZiAoX3R5cGUgPT09IEJPT0xFQU4gfHwgX3R5cGUgPT09IE9WRVJMT0FERURfQk9PTEVBTiAmJiB2YWx1ZSA9PT0gdHJ1ZSkge1xuICAgICAgLy8gSWYgYXR0cmlidXRlIHR5cGUgaXMgYm9vbGVhbiwgd2Uga25vdyBmb3Igc3VyZSBpdCB3b24ndCBiZSBhbiBleGVjdXRpb24gc2lua1xuICAgICAgLy8gYW5kIHdlIHdvbid0IHJlcXVpcmUgVHJ1c3RlZCBUeXBlIGhlcmUuXG4gICAgICBhdHRyaWJ1dGVWYWx1ZSA9ICcnO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBgc2V0QXR0cmlidXRlYCB3aXRoIG9iamVjdHMgYmVjb21lcyBvbmx5IGBbb2JqZWN0XWAgaW4gSUU4LzksXG4gICAgICAvLyAoJycgKyB2YWx1ZSkgbWFrZXMgaXQgb3V0cHV0IHRoZSBjb3JyZWN0IHRvU3RyaW5nKCktdmFsdWUuXG4gICAgICBhdHRyaWJ1dGVWYWx1ZSA9IHRvU3RyaW5nT3JUcnVzdGVkVHlwZSh2YWx1ZSk7XG5cbiAgICAgIGlmIChwcm9wZXJ0eUluZm8uc2FuaXRpemVVUkwpIHtcbiAgICAgICAgc2FuaXRpemVVUkwoYXR0cmlidXRlVmFsdWUudG9TdHJpbmcoKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGF0dHJpYnV0ZU5hbWVzcGFjZSkge1xuICAgICAgc2V0QXR0cmlidXRlTlMobm9kZSwgYXR0cmlidXRlTmFtZXNwYWNlLCBhdHRyaWJ1dGVOYW1lLCBhdHRyaWJ1dGVWYWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldEF0dHJpYnV0ZShub2RlLCBhdHRyaWJ1dGVOYW1lLCBhdHRyaWJ1dGVWYWx1ZSk7XG4gICAgfVxuICB9XG59XG5cbnZhciBSZWFjdERlYnVnQ3VycmVudEZyYW1lJDIgPSBudWxsO1xudmFyIFJlYWN0Q29udHJvbGxlZFZhbHVlUHJvcFR5cGVzID0ge1xuICBjaGVja1Byb3BUeXBlczogbnVsbFxufTtcblxue1xuICBSZWFjdERlYnVnQ3VycmVudEZyYW1lJDIgPSBSZWFjdFNoYXJlZEludGVybmFscy5SZWFjdERlYnVnQ3VycmVudEZyYW1lO1xuICB2YXIgaGFzUmVhZE9ubHlWYWx1ZSA9IHtcbiAgICBidXR0b246IHRydWUsXG4gICAgY2hlY2tib3g6IHRydWUsXG4gICAgaW1hZ2U6IHRydWUsXG4gICAgaGlkZGVuOiB0cnVlLFxuICAgIHJhZGlvOiB0cnVlLFxuICAgIHJlc2V0OiB0cnVlLFxuICAgIHN1Ym1pdDogdHJ1ZVxuICB9O1xuICB2YXIgcHJvcFR5cGVzID0ge1xuICAgIHZhbHVlOiBmdW5jdGlvbiAocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lKSB7XG4gICAgICBpZiAoaGFzUmVhZE9ubHlWYWx1ZVtwcm9wcy50eXBlXSB8fCBwcm9wcy5vbkNoYW5nZSB8fCBwcm9wcy5yZWFkT25seSB8fCBwcm9wcy5kaXNhYmxlZCB8fCBwcm9wc1twcm9wTmFtZV0gPT0gbnVsbCB8fCBlbmFibGVGbGFyZUFQSSAmJiBwcm9wcy5saXN0ZW5lcnMpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgRXJyb3IoJ1lvdSBwcm92aWRlZCBhIGB2YWx1ZWAgcHJvcCB0byBhIGZvcm0gZmllbGQgd2l0aG91dCBhbiAnICsgJ2BvbkNoYW5nZWAgaGFuZGxlci4gVGhpcyB3aWxsIHJlbmRlciBhIHJlYWQtb25seSBmaWVsZC4gSWYgJyArICd0aGUgZmllbGQgc2hvdWxkIGJlIG11dGFibGUgdXNlIGBkZWZhdWx0VmFsdWVgLiBPdGhlcndpc2UsICcgKyAnc2V0IGVpdGhlciBgb25DaGFuZ2VgIG9yIGByZWFkT25seWAuJyk7XG4gICAgfSxcbiAgICBjaGVja2VkOiBmdW5jdGlvbiAocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lKSB7XG4gICAgICBpZiAocHJvcHMub25DaGFuZ2UgfHwgcHJvcHMucmVhZE9ubHkgfHwgcHJvcHMuZGlzYWJsZWQgfHwgcHJvcHNbcHJvcE5hbWVdID09IG51bGwgfHwgZW5hYmxlRmxhcmVBUEkgJiYgcHJvcHMubGlzdGVuZXJzKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3IEVycm9yKCdZb3UgcHJvdmlkZWQgYSBgY2hlY2tlZGAgcHJvcCB0byBhIGZvcm0gZmllbGQgd2l0aG91dCBhbiAnICsgJ2BvbkNoYW5nZWAgaGFuZGxlci4gVGhpcyB3aWxsIHJlbmRlciBhIHJlYWQtb25seSBmaWVsZC4gSWYgJyArICd0aGUgZmllbGQgc2hvdWxkIGJlIG11dGFibGUgdXNlIGBkZWZhdWx0Q2hlY2tlZGAuIE90aGVyd2lzZSwgJyArICdzZXQgZWl0aGVyIGBvbkNoYW5nZWAgb3IgYHJlYWRPbmx5YC4nKTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBQcm92aWRlIGEgbGlua2VkIGB2YWx1ZWAgYXR0cmlidXRlIGZvciBjb250cm9sbGVkIGZvcm1zLiBZb3Ugc2hvdWxkIG5vdCB1c2VcbiAgICogdGhpcyBvdXRzaWRlIG9mIHRoZSBSZWFjdERPTSBjb250cm9sbGVkIGZvcm0gY29tcG9uZW50cy5cbiAgICovXG5cbiAgUmVhY3RDb250cm9sbGVkVmFsdWVQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMgPSBmdW5jdGlvbiAodGFnTmFtZSwgcHJvcHMpIHtcbiAgICBjaGVja1Byb3BUeXBlcyhwcm9wVHlwZXMsIHByb3BzLCAncHJvcCcsIHRhZ05hbWUsIFJlYWN0RGVidWdDdXJyZW50RnJhbWUkMi5nZXRTdGFja0FkZGVuZHVtKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gaXNDaGVja2FibGUoZWxlbSkge1xuICB2YXIgdHlwZSA9IGVsZW0udHlwZTtcbiAgdmFyIG5vZGVOYW1lID0gZWxlbS5ub2RlTmFtZTtcbiAgcmV0dXJuIG5vZGVOYW1lICYmIG5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdpbnB1dCcgJiYgKHR5cGUgPT09ICdjaGVja2JveCcgfHwgdHlwZSA9PT0gJ3JhZGlvJyk7XG59XG5cbmZ1bmN0aW9uIGdldFRyYWNrZXIobm9kZSkge1xuICByZXR1cm4gbm9kZS5fdmFsdWVUcmFja2VyO1xufVxuXG5mdW5jdGlvbiBkZXRhY2hUcmFja2VyKG5vZGUpIHtcbiAgbm9kZS5fdmFsdWVUcmFja2VyID0gbnVsbDtcbn1cblxuZnVuY3Rpb24gZ2V0VmFsdWVGcm9tTm9kZShub2RlKSB7XG4gIHZhciB2YWx1ZSA9ICcnO1xuXG4gIGlmICghbm9kZSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIGlmIChpc0NoZWNrYWJsZShub2RlKSkge1xuICAgIHZhbHVlID0gbm9kZS5jaGVja2VkID8gJ3RydWUnIDogJ2ZhbHNlJztcbiAgfSBlbHNlIHtcbiAgICB2YWx1ZSA9IG5vZGUudmFsdWU7XG4gIH1cblxuICByZXR1cm4gdmFsdWU7XG59XG5cbmZ1bmN0aW9uIHRyYWNrVmFsdWVPbk5vZGUobm9kZSkge1xuICB2YXIgdmFsdWVGaWVsZCA9IGlzQ2hlY2thYmxlKG5vZGUpID8gJ2NoZWNrZWQnIDogJ3ZhbHVlJztcbiAgdmFyIGRlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG5vZGUuY29uc3RydWN0b3IucHJvdG90eXBlLCB2YWx1ZUZpZWxkKTtcbiAgdmFyIGN1cnJlbnRWYWx1ZSA9ICcnICsgbm9kZVt2YWx1ZUZpZWxkXTsgLy8gaWYgc29tZW9uZSBoYXMgYWxyZWFkeSBkZWZpbmVkIGEgdmFsdWUgb3IgU2FmYXJpLCB0aGVuIGJhaWxcbiAgLy8gYW5kIGRvbid0IHRyYWNrIHZhbHVlIHdpbGwgY2F1c2Ugb3ZlciByZXBvcnRpbmcgb2YgY2hhbmdlcyxcbiAgLy8gYnV0IGl0J3MgYmV0dGVyIHRoZW4gYSBoYXJkIGZhaWx1cmVcbiAgLy8gKG5lZWRlZCBmb3IgY2VydGFpbiB0ZXN0cyB0aGF0IHNweU9uIGlucHV0IHZhbHVlcyBhbmQgU2FmYXJpKVxuXG4gIGlmIChub2RlLmhhc093blByb3BlcnR5KHZhbHVlRmllbGQpIHx8IHR5cGVvZiBkZXNjcmlwdG9yID09PSAndW5kZWZpbmVkJyB8fCB0eXBlb2YgZGVzY3JpcHRvci5nZXQgIT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIGRlc2NyaXB0b3Iuc2V0ICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGdldCA9IGRlc2NyaXB0b3IuZ2V0LFxuICAgICAgc2V0ID0gZGVzY3JpcHRvci5zZXQ7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShub2RlLCB2YWx1ZUZpZWxkLCB7XG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGdldC5jYWxsKHRoaXMpO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIGN1cnJlbnRWYWx1ZSA9ICcnICsgdmFsdWU7XG4gICAgICBzZXQuY2FsbCh0aGlzLCB2YWx1ZSk7XG4gICAgfVxuICB9KTsgLy8gV2UgY291bGQndmUgcGFzc2VkIHRoaXMgdGhlIGZpcnN0IHRpbWVcbiAgLy8gYnV0IGl0IHRyaWdnZXJzIGEgYnVnIGluIElFMTEgYW5kIEVkZ2UgMTQvMTUuXG4gIC8vIENhbGxpbmcgZGVmaW5lUHJvcGVydHkoKSBhZ2FpbiBzaG91bGQgYmUgZXF1aXZhbGVudC5cbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2lzc3Vlcy8xMTc2OFxuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShub2RlLCB2YWx1ZUZpZWxkLCB7XG4gICAgZW51bWVyYWJsZTogZGVzY3JpcHRvci5lbnVtZXJhYmxlXG4gIH0pO1xuICB2YXIgdHJhY2tlciA9IHtcbiAgICBnZXRWYWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGN1cnJlbnRWYWx1ZTtcbiAgICB9LFxuICAgIHNldFZhbHVlOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIGN1cnJlbnRWYWx1ZSA9ICcnICsgdmFsdWU7XG4gICAgfSxcbiAgICBzdG9wVHJhY2tpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGRldGFjaFRyYWNrZXIobm9kZSk7XG4gICAgICBkZWxldGUgbm9kZVt2YWx1ZUZpZWxkXTtcbiAgICB9XG4gIH07XG4gIHJldHVybiB0cmFja2VyO1xufVxuXG5mdW5jdGlvbiB0cmFjayhub2RlKSB7XG4gIGlmIChnZXRUcmFja2VyKG5vZGUpKSB7XG4gICAgcmV0dXJuO1xuICB9IC8vIFRPRE86IE9uY2UgaXQncyBqdXN0IEZpYmVyIHdlIGNhbiBtb3ZlIHRoaXMgdG8gbm9kZS5fd3JhcHBlclN0YXRlXG5cblxuICBub2RlLl92YWx1ZVRyYWNrZXIgPSB0cmFja1ZhbHVlT25Ob2RlKG5vZGUpO1xufVxuZnVuY3Rpb24gdXBkYXRlVmFsdWVJZkNoYW5nZWQobm9kZSkge1xuICBpZiAoIW5vZGUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB2YXIgdHJhY2tlciA9IGdldFRyYWNrZXIobm9kZSk7IC8vIGlmIHRoZXJlIGlzIG5vIHRyYWNrZXIgYXQgdGhpcyBwb2ludCBpdCdzIHVubGlrZWx5XG4gIC8vIHRoYXQgdHJ5aW5nIGFnYWluIHdpbGwgc3VjY2VlZFxuXG4gIGlmICghdHJhY2tlcikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgdmFyIGxhc3RWYWx1ZSA9IHRyYWNrZXIuZ2V0VmFsdWUoKTtcbiAgdmFyIG5leHRWYWx1ZSA9IGdldFZhbHVlRnJvbU5vZGUobm9kZSk7XG5cbiAgaWYgKG5leHRWYWx1ZSAhPT0gbGFzdFZhbHVlKSB7XG4gICAgdHJhY2tlci5zZXRWYWx1ZShuZXh0VmFsdWUpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vLyBUT0RPOiBkaXJlY3QgaW1wb3J0cyBsaWtlIHNvbWUtcGFja2FnZS9zcmMvKiBhcmUgYmFkLiBGaXggbWUuXG52YXIgZGlkV2FyblZhbHVlRGVmYXVsdFZhbHVlID0gZmFsc2U7XG52YXIgZGlkV2FybkNoZWNrZWREZWZhdWx0Q2hlY2tlZCA9IGZhbHNlO1xudmFyIGRpZFdhcm5Db250cm9sbGVkVG9VbmNvbnRyb2xsZWQgPSBmYWxzZTtcbnZhciBkaWRXYXJuVW5jb250cm9sbGVkVG9Db250cm9sbGVkID0gZmFsc2U7XG5cbmZ1bmN0aW9uIGlzQ29udHJvbGxlZChwcm9wcykge1xuICB2YXIgdXNlc0NoZWNrZWQgPSBwcm9wcy50eXBlID09PSAnY2hlY2tib3gnIHx8IHByb3BzLnR5cGUgPT09ICdyYWRpbyc7XG4gIHJldHVybiB1c2VzQ2hlY2tlZCA/IHByb3BzLmNoZWNrZWQgIT0gbnVsbCA6IHByb3BzLnZhbHVlICE9IG51bGw7XG59XG4vKipcbiAqIEltcGxlbWVudHMgYW4gPGlucHV0PiBob3N0IGNvbXBvbmVudCB0aGF0IGFsbG93cyBzZXR0aW5nIHRoZXNlIG9wdGlvbmFsXG4gKiBwcm9wczogYGNoZWNrZWRgLCBgdmFsdWVgLCBgZGVmYXVsdENoZWNrZWRgLCBhbmQgYGRlZmF1bHRWYWx1ZWAuXG4gKlxuICogSWYgYGNoZWNrZWRgIG9yIGB2YWx1ZWAgYXJlIG5vdCBzdXBwbGllZCAob3IgbnVsbC91bmRlZmluZWQpLCB1c2VyIGFjdGlvbnNcbiAqIHRoYXQgYWZmZWN0IHRoZSBjaGVja2VkIHN0YXRlIG9yIHZhbHVlIHdpbGwgdHJpZ2dlciB1cGRhdGVzIHRvIHRoZSBlbGVtZW50LlxuICpcbiAqIElmIHRoZXkgYXJlIHN1cHBsaWVkIChhbmQgbm90IG51bGwvdW5kZWZpbmVkKSwgdGhlIHJlbmRlcmVkIGVsZW1lbnQgd2lsbCBub3RcbiAqIHRyaWdnZXIgdXBkYXRlcyB0byB0aGUgZWxlbWVudC4gSW5zdGVhZCwgdGhlIHByb3BzIG11c3QgY2hhbmdlIGluIG9yZGVyIGZvclxuICogdGhlIHJlbmRlcmVkIGVsZW1lbnQgdG8gYmUgdXBkYXRlZC5cbiAqXG4gKiBUaGUgcmVuZGVyZWQgZWxlbWVudCB3aWxsIGJlIGluaXRpYWxpemVkIGFzIHVuY2hlY2tlZCAob3IgYGRlZmF1bHRDaGVja2VkYClcbiAqIHdpdGggYW4gZW1wdHkgdmFsdWUgKG9yIGBkZWZhdWx0VmFsdWVgKS5cbiAqXG4gKiBTZWUgaHR0cDovL3d3dy53My5vcmcvVFIvMjAxMi9XRC1odG1sNS0yMDEyMTAyNS90aGUtaW5wdXQtZWxlbWVudC5odG1sXG4gKi9cblxuXG5mdW5jdGlvbiBnZXRIb3N0UHJvcHMoZWxlbWVudCwgcHJvcHMpIHtcbiAgdmFyIG5vZGUgPSBlbGVtZW50O1xuICB2YXIgY2hlY2tlZCA9IHByb3BzLmNoZWNrZWQ7XG5cbiAgdmFyIGhvc3RQcm9wcyA9IF9hc3NpZ24oe30sIHByb3BzLCB7XG4gICAgZGVmYXVsdENoZWNrZWQ6IHVuZGVmaW5lZCxcbiAgICBkZWZhdWx0VmFsdWU6IHVuZGVmaW5lZCxcbiAgICB2YWx1ZTogdW5kZWZpbmVkLFxuICAgIGNoZWNrZWQ6IGNoZWNrZWQgIT0gbnVsbCA/IGNoZWNrZWQgOiBub2RlLl93cmFwcGVyU3RhdGUuaW5pdGlhbENoZWNrZWRcbiAgfSk7XG5cbiAgcmV0dXJuIGhvc3RQcm9wcztcbn1cbmZ1bmN0aW9uIGluaXRXcmFwcGVyU3RhdGUoZWxlbWVudCwgcHJvcHMpIHtcbiAge1xuICAgIFJlYWN0Q29udHJvbGxlZFZhbHVlUHJvcFR5cGVzLmNoZWNrUHJvcFR5cGVzKCdpbnB1dCcsIHByb3BzKTtcblxuICAgIGlmIChwcm9wcy5jaGVja2VkICE9PSB1bmRlZmluZWQgJiYgcHJvcHMuZGVmYXVsdENoZWNrZWQgIT09IHVuZGVmaW5lZCAmJiAhZGlkV2FybkNoZWNrZWREZWZhdWx0Q2hlY2tlZCkge1xuICAgICAgd2FybmluZyQxKGZhbHNlLCAnJXMgY29udGFpbnMgYW4gaW5wdXQgb2YgdHlwZSAlcyB3aXRoIGJvdGggY2hlY2tlZCBhbmQgZGVmYXVsdENoZWNrZWQgcHJvcHMuICcgKyAnSW5wdXQgZWxlbWVudHMgbXVzdCBiZSBlaXRoZXIgY29udHJvbGxlZCBvciB1bmNvbnRyb2xsZWQgJyArICcoc3BlY2lmeSBlaXRoZXIgdGhlIGNoZWNrZWQgcHJvcCwgb3IgdGhlIGRlZmF1bHRDaGVja2VkIHByb3AsIGJ1dCBub3QgJyArICdib3RoKS4gRGVjaWRlIGJldHdlZW4gdXNpbmcgYSBjb250cm9sbGVkIG9yIHVuY29udHJvbGxlZCBpbnB1dCAnICsgJ2VsZW1lbnQgYW5kIHJlbW92ZSBvbmUgb2YgdGhlc2UgcHJvcHMuIE1vcmUgaW5mbzogJyArICdodHRwczovL2ZiLm1lL3JlYWN0LWNvbnRyb2xsZWQtY29tcG9uZW50cycsIGdldEN1cnJlbnRGaWJlck93bmVyTmFtZUluRGV2T3JOdWxsKCkgfHwgJ0EgY29tcG9uZW50JywgcHJvcHMudHlwZSk7XG4gICAgICBkaWRXYXJuQ2hlY2tlZERlZmF1bHRDaGVja2VkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAocHJvcHMudmFsdWUgIT09IHVuZGVmaW5lZCAmJiBwcm9wcy5kZWZhdWx0VmFsdWUgIT09IHVuZGVmaW5lZCAmJiAhZGlkV2FyblZhbHVlRGVmYXVsdFZhbHVlKSB7XG4gICAgICB3YXJuaW5nJDEoZmFsc2UsICclcyBjb250YWlucyBhbiBpbnB1dCBvZiB0eXBlICVzIHdpdGggYm90aCB2YWx1ZSBhbmQgZGVmYXVsdFZhbHVlIHByb3BzLiAnICsgJ0lucHV0IGVsZW1lbnRzIG11c3QgYmUgZWl0aGVyIGNvbnRyb2xsZWQgb3IgdW5jb250cm9sbGVkICcgKyAnKHNwZWNpZnkgZWl0aGVyIHRoZSB2YWx1ZSBwcm9wLCBvciB0aGUgZGVmYXVsdFZhbHVlIHByb3AsIGJ1dCBub3QgJyArICdib3RoKS4gRGVjaWRlIGJldHdlZW4gdXNpbmcgYSBjb250cm9sbGVkIG9yIHVuY29udHJvbGxlZCBpbnB1dCAnICsgJ2VsZW1lbnQgYW5kIHJlbW92ZSBvbmUgb2YgdGhlc2UgcHJvcHMuIE1vcmUgaW5mbzogJyArICdodHRwczovL2ZiLm1lL3JlYWN0LWNvbnRyb2xsZWQtY29tcG9uZW50cycsIGdldEN1cnJlbnRGaWJlck93bmVyTmFtZUluRGV2T3JOdWxsKCkgfHwgJ0EgY29tcG9uZW50JywgcHJvcHMudHlwZSk7XG4gICAgICBkaWRXYXJuVmFsdWVEZWZhdWx0VmFsdWUgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHZhciBub2RlID0gZWxlbWVudDtcbiAgdmFyIGRlZmF1bHRWYWx1ZSA9IHByb3BzLmRlZmF1bHRWYWx1ZSA9PSBudWxsID8gJycgOiBwcm9wcy5kZWZhdWx0VmFsdWU7XG4gIG5vZGUuX3dyYXBwZXJTdGF0ZSA9IHtcbiAgICBpbml0aWFsQ2hlY2tlZDogcHJvcHMuY2hlY2tlZCAhPSBudWxsID8gcHJvcHMuY2hlY2tlZCA6IHByb3BzLmRlZmF1bHRDaGVja2VkLFxuICAgIGluaXRpYWxWYWx1ZTogZ2V0VG9TdHJpbmdWYWx1ZShwcm9wcy52YWx1ZSAhPSBudWxsID8gcHJvcHMudmFsdWUgOiBkZWZhdWx0VmFsdWUpLFxuICAgIGNvbnRyb2xsZWQ6IGlzQ29udHJvbGxlZChwcm9wcylcbiAgfTtcbn1cbmZ1bmN0aW9uIHVwZGF0ZUNoZWNrZWQoZWxlbWVudCwgcHJvcHMpIHtcbiAgdmFyIG5vZGUgPSBlbGVtZW50O1xuICB2YXIgY2hlY2tlZCA9IHByb3BzLmNoZWNrZWQ7XG5cbiAgaWYgKGNoZWNrZWQgIT0gbnVsbCkge1xuICAgIHNldFZhbHVlRm9yUHJvcGVydHkobm9kZSwgJ2NoZWNrZWQnLCBjaGVja2VkLCBmYWxzZSk7XG4gIH1cbn1cbmZ1bmN0aW9uIHVwZGF0ZVdyYXBwZXIoZWxlbWVudCwgcHJvcHMpIHtcbiAgdmFyIG5vZGUgPSBlbGVtZW50O1xuXG4gIHtcbiAgICB2YXIgY29udHJvbGxlZCA9IGlzQ29udHJvbGxlZChwcm9wcyk7XG5cbiAgICBpZiAoIW5vZGUuX3dyYXBwZXJTdGF0ZS5jb250cm9sbGVkICYmIGNvbnRyb2xsZWQgJiYgIWRpZFdhcm5VbmNvbnRyb2xsZWRUb0NvbnRyb2xsZWQpIHtcbiAgICAgIHdhcm5pbmckMShmYWxzZSwgJ0EgY29tcG9uZW50IGlzIGNoYW5naW5nIGFuIHVuY29udHJvbGxlZCBpbnB1dCBvZiB0eXBlICVzIHRvIGJlIGNvbnRyb2xsZWQuICcgKyAnSW5wdXQgZWxlbWVudHMgc2hvdWxkIG5vdCBzd2l0Y2ggZnJvbSB1bmNvbnRyb2xsZWQgdG8gY29udHJvbGxlZCAob3IgdmljZSB2ZXJzYSkuICcgKyAnRGVjaWRlIGJldHdlZW4gdXNpbmcgYSBjb250cm9sbGVkIG9yIHVuY29udHJvbGxlZCBpbnB1dCAnICsgJ2VsZW1lbnQgZm9yIHRoZSBsaWZldGltZSBvZiB0aGUgY29tcG9uZW50LiBNb3JlIGluZm86IGh0dHBzOi8vZmIubWUvcmVhY3QtY29udHJvbGxlZC1jb21wb25lbnRzJywgcHJvcHMudHlwZSk7XG4gICAgICBkaWRXYXJuVW5jb250cm9sbGVkVG9Db250cm9sbGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAobm9kZS5fd3JhcHBlclN0YXRlLmNvbnRyb2xsZWQgJiYgIWNvbnRyb2xsZWQgJiYgIWRpZFdhcm5Db250cm9sbGVkVG9VbmNvbnRyb2xsZWQpIHtcbiAgICAgIHdhcm5pbmckMShmYWxzZSwgJ0EgY29tcG9uZW50IGlzIGNoYW5naW5nIGEgY29udHJvbGxlZCBpbnB1dCBvZiB0eXBlICVzIHRvIGJlIHVuY29udHJvbGxlZC4gJyArICdJbnB1dCBlbGVtZW50cyBzaG91bGQgbm90IHN3aXRjaCBmcm9tIGNvbnRyb2xsZWQgdG8gdW5jb250cm9sbGVkIChvciB2aWNlIHZlcnNhKS4gJyArICdEZWNpZGUgYmV0d2VlbiB1c2luZyBhIGNvbnRyb2xsZWQgb3IgdW5jb250cm9sbGVkIGlucHV0ICcgKyAnZWxlbWVudCBmb3IgdGhlIGxpZmV0aW1lIG9mIHRoZSBjb21wb25lbnQuIE1vcmUgaW5mbzogaHR0cHM6Ly9mYi5tZS9yZWFjdC1jb250cm9sbGVkLWNvbXBvbmVudHMnLCBwcm9wcy50eXBlKTtcbiAgICAgIGRpZFdhcm5Db250cm9sbGVkVG9VbmNvbnRyb2xsZWQgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHVwZGF0ZUNoZWNrZWQoZWxlbWVudCwgcHJvcHMpO1xuICB2YXIgdmFsdWUgPSBnZXRUb1N0cmluZ1ZhbHVlKHByb3BzLnZhbHVlKTtcbiAgdmFyIHR5cGUgPSBwcm9wcy50eXBlO1xuXG4gIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgaWYgKHR5cGUgPT09ICdudW1iZXInKSB7XG4gICAgICBpZiAodmFsdWUgPT09IDAgJiYgbm9kZS52YWx1ZSA9PT0gJycgfHwgLy8gV2UgZXhwbGljaXRseSB3YW50IHRvIGNvZXJjZSB0byBudW1iZXIgaGVyZSBpZiBwb3NzaWJsZS5cbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgbm9kZS52YWx1ZSAhPSB2YWx1ZSkge1xuICAgICAgICBub2RlLnZhbHVlID0gdG9TdHJpbmcodmFsdWUpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAobm9kZS52YWx1ZSAhPT0gdG9TdHJpbmcodmFsdWUpKSB7XG4gICAgICBub2RlLnZhbHVlID0gdG9TdHJpbmcodmFsdWUpO1xuICAgIH1cbiAgfSBlbHNlIGlmICh0eXBlID09PSAnc3VibWl0JyB8fCB0eXBlID09PSAncmVzZXQnKSB7XG4gICAgLy8gU3VibWl0L3Jlc2V0IGlucHV0cyBuZWVkIHRoZSBhdHRyaWJ1dGUgcmVtb3ZlZCBjb21wbGV0ZWx5IHRvIGF2b2lkXG4gICAgLy8gYmxhbmstdGV4dCBidXR0b25zLlxuICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKCd2YWx1ZScpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChkaXNhYmxlSW5wdXRBdHRyaWJ1dGVTeW5jaW5nKSB7XG4gICAgLy8gV2hlbiBub3Qgc3luY2luZyB0aGUgdmFsdWUgYXR0cmlidXRlLCBSZWFjdCBvbmx5IGFzc2lnbnMgYSBuZXcgdmFsdWVcbiAgICAvLyB3aGVuZXZlciB0aGUgZGVmYXVsdFZhbHVlIFJlYWN0IHByb3AgaGFzIGNoYW5nZWQuIFdoZW4gbm90IHByZXNlbnQsXG4gICAgLy8gUmVhY3QgZG9lcyBub3RoaW5nXG4gICAgaWYgKHByb3BzLmhhc093blByb3BlcnR5KCdkZWZhdWx0VmFsdWUnKSkge1xuICAgICAgc2V0RGVmYXVsdFZhbHVlKG5vZGUsIHByb3BzLnR5cGUsIGdldFRvU3RyaW5nVmFsdWUocHJvcHMuZGVmYXVsdFZhbHVlKSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIFdoZW4gc3luY2luZyB0aGUgdmFsdWUgYXR0cmlidXRlLCB0aGUgdmFsdWUgY29tZXMgZnJvbSBhIGNhc2NhZGUgb2ZcbiAgICAvLyBwcm9wZXJ0aWVzOlxuICAgIC8vICAxLiBUaGUgdmFsdWUgUmVhY3QgcHJvcGVydHlcbiAgICAvLyAgMi4gVGhlIGRlZmF1bHRWYWx1ZSBSZWFjdCBwcm9wZXJ0eVxuICAgIC8vICAzLiBPdGhlcndpc2UgdGhlcmUgc2hvdWxkIGJlIG5vIGNoYW5nZVxuICAgIGlmIChwcm9wcy5oYXNPd25Qcm9wZXJ0eSgndmFsdWUnKSkge1xuICAgICAgc2V0RGVmYXVsdFZhbHVlKG5vZGUsIHByb3BzLnR5cGUsIHZhbHVlKTtcbiAgICB9IGVsc2UgaWYgKHByb3BzLmhhc093blByb3BlcnR5KCdkZWZhdWx0VmFsdWUnKSkge1xuICAgICAgc2V0RGVmYXVsdFZhbHVlKG5vZGUsIHByb3BzLnR5cGUsIGdldFRvU3RyaW5nVmFsdWUocHJvcHMuZGVmYXVsdFZhbHVlKSk7XG4gICAgfVxuICB9XG5cbiAgaWYgKGRpc2FibGVJbnB1dEF0dHJpYnV0ZVN5bmNpbmcpIHtcbiAgICAvLyBXaGVuIG5vdCBzeW5jaW5nIHRoZSBjaGVja2VkIGF0dHJpYnV0ZSwgdGhlIGF0dHJpYnV0ZSBpcyBkaXJlY3RseVxuICAgIC8vIGNvbnRyb2xsYWJsZSBmcm9tIHRoZSBkZWZhdWx0VmFsdWUgUmVhY3QgcHJvcGVydHkuIEl0IG5lZWRzIHRvIGJlXG4gICAgLy8gdXBkYXRlZCBhcyBuZXcgcHJvcHMgY29tZSBpbi5cbiAgICBpZiAocHJvcHMuZGVmYXVsdENoZWNrZWQgPT0gbnVsbCkge1xuICAgICAgbm9kZS5yZW1vdmVBdHRyaWJ1dGUoJ2NoZWNrZWQnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbm9kZS5kZWZhdWx0Q2hlY2tlZCA9ICEhcHJvcHMuZGVmYXVsdENoZWNrZWQ7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIFdoZW4gc3luY2luZyB0aGUgY2hlY2tlZCBhdHRyaWJ1dGUsIGl0IG9ubHkgY2hhbmdlcyB3aGVuIGl0IG5lZWRzXG4gICAgLy8gdG8gYmUgcmVtb3ZlZCwgc3VjaCBhcyB0cmFuc2l0aW9uaW5nIGZyb20gYSBjaGVja2JveCBpbnRvIGEgdGV4dCBpbnB1dFxuICAgIGlmIChwcm9wcy5jaGVja2VkID09IG51bGwgJiYgcHJvcHMuZGVmYXVsdENoZWNrZWQgIT0gbnVsbCkge1xuICAgICAgbm9kZS5kZWZhdWx0Q2hlY2tlZCA9ICEhcHJvcHMuZGVmYXVsdENoZWNrZWQ7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBwb3N0TW91bnRXcmFwcGVyKGVsZW1lbnQsIHByb3BzLCBpc0h5ZHJhdGluZykge1xuICB2YXIgbm9kZSA9IGVsZW1lbnQ7IC8vIERvIG5vdCBhc3NpZ24gdmFsdWUgaWYgaXQgaXMgYWxyZWFkeSBzZXQuIFRoaXMgcHJldmVudHMgdXNlciB0ZXh0IGlucHV0XG4gIC8vIGZyb20gYmVpbmcgbG9zdCBkdXJpbmcgU1NSIGh5ZHJhdGlvbi5cblxuICBpZiAocHJvcHMuaGFzT3duUHJvcGVydHkoJ3ZhbHVlJykgfHwgcHJvcHMuaGFzT3duUHJvcGVydHkoJ2RlZmF1bHRWYWx1ZScpKSB7XG4gICAgdmFyIHR5cGUgPSBwcm9wcy50eXBlO1xuICAgIHZhciBpc0J1dHRvbiA9IHR5cGUgPT09ICdzdWJtaXQnIHx8IHR5cGUgPT09ICdyZXNldCc7IC8vIEF2b2lkIHNldHRpbmcgdmFsdWUgYXR0cmlidXRlIG9uIHN1Ym1pdC9yZXNldCBpbnB1dHMgYXMgaXQgb3ZlcnJpZGVzIHRoZVxuICAgIC8vIGRlZmF1bHQgdmFsdWUgcHJvdmlkZWQgYnkgdGhlIGJyb3dzZXIuIFNlZTogIzEyODcyXG5cbiAgICBpZiAoaXNCdXR0b24gJiYgKHByb3BzLnZhbHVlID09PSB1bmRlZmluZWQgfHwgcHJvcHMudmFsdWUgPT09IG51bGwpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGluaXRpYWxWYWx1ZSA9IHRvU3RyaW5nKG5vZGUuX3dyYXBwZXJTdGF0ZS5pbml0aWFsVmFsdWUpOyAvLyBEbyBub3QgYXNzaWduIHZhbHVlIGlmIGl0IGlzIGFscmVhZHkgc2V0LiBUaGlzIHByZXZlbnRzIHVzZXIgdGV4dCBpbnB1dFxuICAgIC8vIGZyb20gYmVpbmcgbG9zdCBkdXJpbmcgU1NSIGh5ZHJhdGlvbi5cblxuICAgIGlmICghaXNIeWRyYXRpbmcpIHtcbiAgICAgIGlmIChkaXNhYmxlSW5wdXRBdHRyaWJ1dGVTeW5jaW5nKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGdldFRvU3RyaW5nVmFsdWUocHJvcHMudmFsdWUpOyAvLyBXaGVuIG5vdCBzeW5jaW5nIHRoZSB2YWx1ZSBhdHRyaWJ1dGUsIHRoZSB2YWx1ZSBwcm9wZXJ0eSBwb2ludHNcbiAgICAgICAgLy8gZGlyZWN0bHkgdG8gdGhlIFJlYWN0IHByb3AuIE9ubHkgYXNzaWduIGl0IGlmIGl0IGV4aXN0cy5cblxuICAgICAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgIC8vIEFsd2F5cyBhc3NpZ24gb24gYnV0dG9ucyBzbyB0aGF0IGl0IGlzIHBvc3NpYmxlIHRvIGFzc2lnbiBhblxuICAgICAgICAgIC8vIGVtcHR5IHN0cmluZyB0byBjbGVhciBidXR0b24gdGV4dC5cbiAgICAgICAgICAvL1xuICAgICAgICAgIC8vIE90aGVyd2lzZSwgZG8gbm90IHJlLWFzc2lnbiB0aGUgdmFsdWUgcHJvcGVydHkgaWYgaXMgZW1wdHkuIFRoaXNcbiAgICAgICAgICAvLyBwb3RlbnRpYWxseSBhdm9pZHMgYSBET00gd3JpdGUgYW5kIHByZXZlbnRzIEZpcmVmb3ggKH42MC4wLjEpIGZyb21cbiAgICAgICAgICAvLyBwcmVtYXR1cmVseSBtYXJraW5nIHJlcXVpcmVkIGlucHV0cyBhcyBpbnZhbGlkLiBFcXVhbGl0eSBpcyBjb21wYXJlZFxuICAgICAgICAgIC8vIHRvIHRoZSBjdXJyZW50IHZhbHVlIGluIGNhc2UgdGhlIGJyb3dzZXIgcHJvdmlkZWQgdmFsdWUgaXMgbm90IGFuXG4gICAgICAgICAgLy8gZW1wdHkgc3RyaW5nLlxuICAgICAgICAgIGlmIChpc0J1dHRvbiB8fCB2YWx1ZSAhPT0gbm9kZS52YWx1ZSkge1xuICAgICAgICAgICAgbm9kZS52YWx1ZSA9IHRvU3RyaW5nKHZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFdoZW4gc3luY2luZyB0aGUgdmFsdWUgYXR0cmlidXRlLCB0aGUgdmFsdWUgcHJvcGVydHkgc2hvdWxkIHVzZVxuICAgICAgICAvLyB0aGUgd3JhcHBlclN0YXRlLl9pbml0aWFsVmFsdWUgcHJvcGVydHkuIFRoaXMgdXNlczpcbiAgICAgICAgLy9cbiAgICAgICAgLy8gICAxLiBUaGUgdmFsdWUgUmVhY3QgcHJvcGVydHkgd2hlbiBwcmVzZW50XG4gICAgICAgIC8vICAgMi4gVGhlIGRlZmF1bHRWYWx1ZSBSZWFjdCBwcm9wZXJ0eSB3aGVuIHByZXNlbnRcbiAgICAgICAgLy8gICAzLiBBbiBlbXB0eSBzdHJpbmdcbiAgICAgICAgaWYgKGluaXRpYWxWYWx1ZSAhPT0gbm9kZS52YWx1ZSkge1xuICAgICAgICAgIG5vZGUudmFsdWUgPSBpbml0aWFsVmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZGlzYWJsZUlucHV0QXR0cmlidXRlU3luY2luZykge1xuICAgICAgLy8gV2hlbiBub3Qgc3luY2luZyB0aGUgdmFsdWUgYXR0cmlidXRlLCBhc3NpZ24gdGhlIHZhbHVlIGF0dHJpYnV0ZVxuICAgICAgLy8gZGlyZWN0bHkgZnJvbSB0aGUgZGVmYXVsdFZhbHVlIFJlYWN0IHByb3BlcnR5ICh3aGVuIHByZXNlbnQpXG4gICAgICB2YXIgZGVmYXVsdFZhbHVlID0gZ2V0VG9TdHJpbmdWYWx1ZShwcm9wcy5kZWZhdWx0VmFsdWUpO1xuXG4gICAgICBpZiAoZGVmYXVsdFZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgbm9kZS5kZWZhdWx0VmFsdWUgPSB0b1N0cmluZyhkZWZhdWx0VmFsdWUpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBPdGhlcndpc2UsIHRoZSB2YWx1ZSBhdHRyaWJ1dGUgaXMgc3luY2hyb25pemVkIHRvIHRoZSBwcm9wZXJ0eSxcbiAgICAgIC8vIHNvIHdlIGFzc2lnbiBkZWZhdWx0VmFsdWUgdG8gdGhlIHNhbWUgdGhpbmcgYXMgdGhlIHZhbHVlIHByb3BlcnR5XG4gICAgICAvLyBhc3NpZ25tZW50IHN0ZXAgYWJvdmUuXG4gICAgICBub2RlLmRlZmF1bHRWYWx1ZSA9IGluaXRpYWxWYWx1ZTtcbiAgICB9XG4gIH0gLy8gTm9ybWFsbHksIHdlJ2QganVzdCBkbyBgbm9kZS5jaGVja2VkID0gbm9kZS5jaGVja2VkYCB1cG9uIGluaXRpYWwgbW91bnQsIGxlc3MgdGhpcyBidWdcbiAgLy8gdGhpcyBpcyBuZWVkZWQgdG8gd29yayBhcm91bmQgYSBjaHJvbWUgYnVnIHdoZXJlIHNldHRpbmcgZGVmYXVsdENoZWNrZWRcbiAgLy8gd2lsbCBzb21ldGltZXMgaW5mbHVlbmNlIHRoZSB2YWx1ZSBvZiBjaGVja2VkIChldmVuIGFmdGVyIGRldGFjaG1lbnQpLlxuICAvLyBSZWZlcmVuY2U6IGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTYwODQxNlxuICAvLyBXZSBuZWVkIHRvIHRlbXBvcmFyaWx5IHVuc2V0IG5hbWUgdG8gYXZvaWQgZGlzcnVwdGluZyByYWRpbyBidXR0b24gZ3JvdXBzLlxuXG5cbiAgdmFyIG5hbWUgPSBub2RlLm5hbWU7XG5cbiAgaWYgKG5hbWUgIT09ICcnKSB7XG4gICAgbm9kZS5uYW1lID0gJyc7XG4gIH1cblxuICBpZiAoZGlzYWJsZUlucHV0QXR0cmlidXRlU3luY2luZykge1xuICAgIC8vIFdoZW4gbm90IHN5bmNpbmcgdGhlIGNoZWNrZWQgYXR0cmlidXRlLCB0aGUgY2hlY2tlZCBwcm9wZXJ0eVxuICAgIC8vIG5ldmVyIGdldHMgYXNzaWduZWQuIEl0IG11c3QgYmUgbWFudWFsbHkgc2V0LiBXZSBkb24ndCB3YW50XG4gICAgLy8gdG8gZG8gdGhpcyB3aGVuIGh5ZHJhdGluZyBzbyB0aGF0IGV4aXN0aW5nIHVzZXIgaW5wdXQgaXNuJ3RcbiAgICAvLyBtb2RpZmllZFxuICAgIGlmICghaXNIeWRyYXRpbmcpIHtcbiAgICAgIHVwZGF0ZUNoZWNrZWQoZWxlbWVudCwgcHJvcHMpO1xuICAgIH0gLy8gT25seSBhc3NpZ24gdGhlIGNoZWNrZWQgYXR0cmlidXRlIGlmIGl0IGlzIGRlZmluZWQuIFRoaXMgc2F2ZXNcbiAgICAvLyBhIERPTSB3cml0ZSB3aGVuIGNvbnRyb2xsaW5nIHRoZSBjaGVja2VkIGF0dHJpYnV0ZSBpc24ndCBuZWVkZWRcbiAgICAvLyAodGV4dCBpbnB1dHMsIHN1Ym1pdC9yZXNldClcblxuXG4gICAgaWYgKHByb3BzLmhhc093blByb3BlcnR5KCdkZWZhdWx0Q2hlY2tlZCcpKSB7XG4gICAgICBub2RlLmRlZmF1bHRDaGVja2VkID0gIW5vZGUuZGVmYXVsdENoZWNrZWQ7XG4gICAgICBub2RlLmRlZmF1bHRDaGVja2VkID0gISFwcm9wcy5kZWZhdWx0Q2hlY2tlZDtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gV2hlbiBzeW5jaW5nIHRoZSBjaGVja2VkIGF0dHJpYnV0ZSwgYm90aCB0aGUgY2hlY2tlZCBwcm9wZXJ0eSBhbmRcbiAgICAvLyBhdHRyaWJ1dGUgYXJlIGFzc2lnbmVkIGF0IHRoZSBzYW1lIHRpbWUgdXNpbmcgZGVmYXVsdENoZWNrZWQuIFRoaXMgdXNlczpcbiAgICAvL1xuICAgIC8vICAgMS4gVGhlIGNoZWNrZWQgUmVhY3QgcHJvcGVydHkgd2hlbiBwcmVzZW50XG4gICAgLy8gICAyLiBUaGUgZGVmYXVsdENoZWNrZWQgUmVhY3QgcHJvcGVydHkgd2hlbiBwcmVzZW50XG4gICAgLy8gICAzLiBPdGhlcndpc2UsIGZhbHNlXG4gICAgbm9kZS5kZWZhdWx0Q2hlY2tlZCA9ICFub2RlLmRlZmF1bHRDaGVja2VkO1xuICAgIG5vZGUuZGVmYXVsdENoZWNrZWQgPSAhIW5vZGUuX3dyYXBwZXJTdGF0ZS5pbml0aWFsQ2hlY2tlZDtcbiAgfVxuXG4gIGlmIChuYW1lICE9PSAnJykge1xuICAgIG5vZGUubmFtZSA9IG5hbWU7XG4gIH1cbn1cbmZ1bmN0aW9uIHJlc3RvcmVDb250cm9sbGVkU3RhdGUkMShlbGVtZW50LCBwcm9wcykge1xuICB2YXIgbm9kZSA9IGVsZW1lbnQ7XG4gIHVwZGF0ZVdyYXBwZXIobm9kZSwgcHJvcHMpO1xuICB1cGRhdGVOYW1lZENvdXNpbnMobm9kZSwgcHJvcHMpO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVOYW1lZENvdXNpbnMocm9vdE5vZGUsIHByb3BzKSB7XG4gIHZhciBuYW1lID0gcHJvcHMubmFtZTtcblxuICBpZiAocHJvcHMudHlwZSA9PT0gJ3JhZGlvJyAmJiBuYW1lICE9IG51bGwpIHtcbiAgICB2YXIgcXVlcnlSb290ID0gcm9vdE5vZGU7XG5cbiAgICB3aGlsZSAocXVlcnlSb290LnBhcmVudE5vZGUpIHtcbiAgICAgIHF1ZXJ5Um9vdCA9IHF1ZXJ5Um9vdC5wYXJlbnROb2RlO1xuICAgIH0gLy8gSWYgYHJvb3ROb2RlLmZvcm1gIHdhcyBub24tbnVsbCwgdGhlbiB3ZSBjb3VsZCB0cnkgYGZvcm0uZWxlbWVudHNgLFxuICAgIC8vIGJ1dCB0aGF0IHNvbWV0aW1lcyBiZWhhdmVzIHN0cmFuZ2VseSBpbiBJRTguIFdlIGNvdWxkIGFsc28gdHJ5IHVzaW5nXG4gICAgLy8gYGZvcm0uZ2V0RWxlbWVudHNCeU5hbWVgLCBidXQgdGhhdCB3aWxsIG9ubHkgcmV0dXJuIGRpcmVjdCBjaGlsZHJlblxuICAgIC8vIGFuZCB3b24ndCBpbmNsdWRlIGlucHV0cyB0aGF0IHVzZSB0aGUgSFRNTDUgYGZvcm09YCBhdHRyaWJ1dGUuIFNpbmNlXG4gICAgLy8gdGhlIGlucHV0IG1pZ2h0IG5vdCBldmVuIGJlIGluIGEgZm9ybS4gSXQgbWlnaHQgbm90IGV2ZW4gYmUgaW4gdGhlXG4gICAgLy8gZG9jdW1lbnQuIExldCdzIGp1c3QgdXNlIHRoZSBsb2NhbCBgcXVlcnlTZWxlY3RvckFsbGAgdG8gZW5zdXJlIHdlIGRvbid0XG4gICAgLy8gbWlzcyBhbnl0aGluZy5cblxuXG4gICAgdmFyIGdyb3VwID0gcXVlcnlSb290LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W25hbWU9JyArIEpTT04uc3RyaW5naWZ5KCcnICsgbmFtZSkgKyAnXVt0eXBlPVwicmFkaW9cIl0nKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ3JvdXAubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBvdGhlck5vZGUgPSBncm91cFtpXTtcblxuICAgICAgaWYgKG90aGVyTm9kZSA9PT0gcm9vdE5vZGUgfHwgb3RoZXJOb2RlLmZvcm0gIT09IHJvb3ROb2RlLmZvcm0pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9IC8vIFRoaXMgd2lsbCB0aHJvdyBpZiByYWRpbyBidXR0b25zIHJlbmRlcmVkIGJ5IGRpZmZlcmVudCBjb3BpZXMgb2YgUmVhY3RcbiAgICAgIC8vIGFuZCB0aGUgc2FtZSBuYW1lIGFyZSByZW5kZXJlZCBpbnRvIHRoZSBzYW1lIGZvcm0gKHNhbWUgYXMgIzE5MzkpLlxuICAgICAgLy8gVGhhdCdzIHByb2JhYmx5IG9rYXk7IHdlIGRvbid0IHN1cHBvcnQgaXQganVzdCBhcyB3ZSBkb24ndCBzdXBwb3J0XG4gICAgICAvLyBtaXhpbmcgUmVhY3QgcmFkaW8gYnV0dG9ucyB3aXRoIG5vbi1SZWFjdCBvbmVzLlxuXG5cbiAgICAgIHZhciBvdGhlclByb3BzID0gZ2V0RmliZXJDdXJyZW50UHJvcHNGcm9tTm9kZSQxKG90aGVyTm9kZSk7XG5cbiAgICAgIGlmICghb3RoZXJQcm9wcykge1xuICAgICAgICB7XG4gICAgICAgICAgdGhyb3cgRXJyb3IoXCJSZWFjdERPTUlucHV0OiBNaXhpbmcgUmVhY3QgYW5kIG5vbi1SZWFjdCByYWRpbyBpbnB1dHMgd2l0aCB0aGUgc2FtZSBgbmFtZWAgaXMgbm90IHN1cHBvcnRlZC5cIik7XG4gICAgICAgIH1cbiAgICAgIH0gLy8gV2UgbmVlZCB1cGRhdGUgdGhlIHRyYWNrZWQgdmFsdWUgb24gdGhlIG5hbWVkIGNvdXNpbiBzaW5jZSB0aGUgdmFsdWVcbiAgICAgIC8vIHdhcyBjaGFuZ2VkIGJ1dCB0aGUgaW5wdXQgc2F3IG5vIGV2ZW50IG9yIHZhbHVlIHNldFxuXG5cbiAgICAgIHVwZGF0ZVZhbHVlSWZDaGFuZ2VkKG90aGVyTm9kZSk7IC8vIElmIHRoaXMgaXMgYSBjb250cm9sbGVkIHJhZGlvIGJ1dHRvbiBncm91cCwgZm9yY2luZyB0aGUgaW5wdXQgdGhhdFxuICAgICAgLy8gd2FzIHByZXZpb3VzbHkgY2hlY2tlZCB0byB1cGRhdGUgd2lsbCBjYXVzZSBpdCB0byBiZSBjb21lIHJlLWNoZWNrZWRcbiAgICAgIC8vIGFzIGFwcHJvcHJpYXRlLlxuXG4gICAgICB1cGRhdGVXcmFwcGVyKG90aGVyTm9kZSwgb3RoZXJQcm9wcyk7XG4gICAgfVxuICB9XG59IC8vIEluIENocm9tZSwgYXNzaWduaW5nIGRlZmF1bHRWYWx1ZSB0byBjZXJ0YWluIGlucHV0IHR5cGVzIHRyaWdnZXJzIGlucHV0IHZhbGlkYXRpb24uXG4vLyBGb3IgbnVtYmVyIGlucHV0cywgdGhlIGRpc3BsYXkgdmFsdWUgbG9zZXMgdHJhaWxpbmcgZGVjaW1hbCBwb2ludHMuIEZvciBlbWFpbCBpbnB1dHMsXG4vLyBDaHJvbWUgcmFpc2VzIFwiVGhlIHNwZWNpZmllZCB2YWx1ZSA8eD4gaXMgbm90IGEgdmFsaWQgZW1haWwgYWRkcmVzc1wiLlxuLy9cbi8vIEhlcmUgd2UgY2hlY2sgdG8gc2VlIGlmIHRoZSBkZWZhdWx0VmFsdWUgaGFzIGFjdHVhbGx5IGNoYW5nZWQsIGF2b2lkaW5nIHRoZXNlIHByb2JsZW1zXG4vLyB3aGVuIHRoZSB1c2VyIGlzIGlucHV0dGluZyB0ZXh0XG4vL1xuLy8gaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2lzc3Vlcy83MjUzXG5cblxuZnVuY3Rpb24gc2V0RGVmYXVsdFZhbHVlKG5vZGUsIHR5cGUsIHZhbHVlKSB7XG4gIGlmICggLy8gRm9jdXNlZCBudW1iZXIgaW5wdXRzIHN5bmNocm9uaXplIG9uIGJsdXIuIFNlZSBDaGFuZ2VFdmVudFBsdWdpbi5qc1xuICB0eXBlICE9PSAnbnVtYmVyJyB8fCBub2RlLm93bmVyRG9jdW1lbnQuYWN0aXZlRWxlbWVudCAhPT0gbm9kZSkge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICBub2RlLmRlZmF1bHRWYWx1ZSA9IHRvU3RyaW5nKG5vZGUuX3dyYXBwZXJTdGF0ZS5pbml0aWFsVmFsdWUpO1xuICAgIH0gZWxzZSBpZiAobm9kZS5kZWZhdWx0VmFsdWUgIT09IHRvU3RyaW5nKHZhbHVlKSkge1xuICAgICAgbm9kZS5kZWZhdWx0VmFsdWUgPSB0b1N0cmluZyh2YWx1ZSk7XG4gICAgfVxuICB9XG59XG5cbnZhciBkaWRXYXJuU2VsZWN0ZWRTZXRPbk9wdGlvbiA9IGZhbHNlO1xudmFyIGRpZFdhcm5JbnZhbGlkQ2hpbGQgPSBmYWxzZTtcblxuZnVuY3Rpb24gZmxhdHRlbkNoaWxkcmVuKGNoaWxkcmVuKSB7XG4gIHZhciBjb250ZW50ID0gJyc7IC8vIEZsYXR0ZW4gY2hpbGRyZW4uIFdlJ2xsIHdhcm4gaWYgdGhleSBhcmUgaW52YWxpZFxuICAvLyBkdXJpbmcgdmFsaWRhdGVQcm9wcygpIHdoaWNoIHJ1bnMgZm9yIGh5ZHJhdGlvbiB0b28uXG4gIC8vIE5vdGUgdGhhdCB0aGlzIHdvdWxkIHRocm93IG9uIG5vbi1lbGVtZW50IG9iamVjdHMuXG4gIC8vIEVsZW1lbnRzIGFyZSBzdHJpbmdpZmllZCAod2hpY2ggaXMgbm9ybWFsbHkgaXJyZWxldmFudFxuICAvLyBidXQgbWF0dGVycyBmb3IgPGZidD4pLlxuXG4gIFJlYWN0LkNoaWxkcmVuLmZvckVhY2goY2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCkge1xuICAgIGlmIChjaGlsZCA9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29udGVudCArPSBjaGlsZDsgLy8gTm90ZTogd2UgZG9uJ3Qgd2FybiBhYm91dCBpbnZhbGlkIGNoaWxkcmVuIGhlcmUuXG4gICAgLy8gSW5zdGVhZCwgdGhpcyBpcyBkb25lIHNlcGFyYXRlbHkgYmVsb3cgc28gdGhhdFxuICAgIC8vIGl0IGhhcHBlbnMgZHVyaW5nIHRoZSBoeWRyYXRpb24gY29kZXBhdGggdG9vLlxuICB9KTtcbiAgcmV0dXJuIGNvbnRlbnQ7XG59XG4vKipcbiAqIEltcGxlbWVudHMgYW4gPG9wdGlvbj4gaG9zdCBjb21wb25lbnQgdGhhdCB3YXJucyB3aGVuIGBzZWxlY3RlZGAgaXMgc2V0LlxuICovXG5cblxuZnVuY3Rpb24gdmFsaWRhdGVQcm9wcyhlbGVtZW50LCBwcm9wcykge1xuICB7XG4gICAgLy8gVGhpcyBtaXJyb3JzIHRoZSBjb2RlcGF0aCBhYm92ZSwgYnV0IHJ1bnMgZm9yIGh5ZHJhdGlvbiB0b28uXG4gICAgLy8gV2FybiBhYm91dCBpbnZhbGlkIGNoaWxkcmVuIGhlcmUgc28gdGhhdCBjbGllbnQgYW5kIGh5ZHJhdGlvbiBhcmUgY29uc2lzdGVudC5cbiAgICAvLyBUT0RPOiB0aGlzIHNlZW1zIGxpa2UgaXQgY291bGQgY2F1c2UgYSBERVYtb25seSB0aHJvdyBmb3IgaHlkcmF0aW9uXG4gICAgLy8gaWYgY2hpbGRyZW4gY29udGFpbnMgYSBub24tZWxlbWVudCBvYmplY3QuIFdlIHNob3VsZCB0cnkgdG8gYXZvaWQgdGhhdC5cbiAgICBpZiAodHlwZW9mIHByb3BzLmNoaWxkcmVuID09PSAnb2JqZWN0JyAmJiBwcm9wcy5jaGlsZHJlbiAhPT0gbnVsbCkge1xuICAgICAgUmVhY3QuQ2hpbGRyZW4uZm9yRWFjaChwcm9wcy5jaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgIGlmIChjaGlsZCA9PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiBjaGlsZCA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIGNoaWxkID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgY2hpbGQudHlwZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWRpZFdhcm5JbnZhbGlkQ2hpbGQpIHtcbiAgICAgICAgICBkaWRXYXJuSW52YWxpZENoaWxkID0gdHJ1ZTtcbiAgICAgICAgICB3YXJuaW5nJDEoZmFsc2UsICdPbmx5IHN0cmluZ3MgYW5kIG51bWJlcnMgYXJlIHN1cHBvcnRlZCBhcyA8b3B0aW9uPiBjaGlsZHJlbi4nKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSAvLyBUT0RPOiBSZW1vdmUgc3VwcG9ydCBmb3IgYHNlbGVjdGVkYCBpbiA8b3B0aW9uPi5cblxuXG4gICAgaWYgKHByb3BzLnNlbGVjdGVkICE9IG51bGwgJiYgIWRpZFdhcm5TZWxlY3RlZFNldE9uT3B0aW9uKSB7XG4gICAgICB3YXJuaW5nJDEoZmFsc2UsICdVc2UgdGhlIGBkZWZhdWx0VmFsdWVgIG9yIGB2YWx1ZWAgcHJvcHMgb24gPHNlbGVjdD4gaW5zdGVhZCBvZiAnICsgJ3NldHRpbmcgYHNlbGVjdGVkYCBvbiA8b3B0aW9uPi4nKTtcbiAgICAgIGRpZFdhcm5TZWxlY3RlZFNldE9uT3B0aW9uID0gdHJ1ZTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIHBvc3RNb3VudFdyYXBwZXIkMShlbGVtZW50LCBwcm9wcykge1xuICAvLyB2YWx1ZT1cIlwiIHNob3VsZCBtYWtlIGEgdmFsdWUgYXR0cmlidXRlICgjNjIxOSlcbiAgaWYgKHByb3BzLnZhbHVlICE9IG51bGwpIHtcbiAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgndmFsdWUnLCB0b1N0cmluZyhnZXRUb1N0cmluZ1ZhbHVlKHByb3BzLnZhbHVlKSkpO1xuICB9XG59XG5mdW5jdGlvbiBnZXRIb3N0UHJvcHMkMShlbGVtZW50LCBwcm9wcykge1xuICB2YXIgaG9zdFByb3BzID0gX2Fzc2lnbih7XG4gICAgY2hpbGRyZW46IHVuZGVmaW5lZFxuICB9LCBwcm9wcyk7XG5cbiAgdmFyIGNvbnRlbnQgPSBmbGF0dGVuQ2hpbGRyZW4ocHJvcHMuY2hpbGRyZW4pO1xuXG4gIGlmIChjb250ZW50KSB7XG4gICAgaG9zdFByb3BzLmNoaWxkcmVuID0gY29udGVudDtcbiAgfVxuXG4gIHJldHVybiBob3N0UHJvcHM7XG59XG5cbi8vIFRPRE86IGRpcmVjdCBpbXBvcnRzIGxpa2Ugc29tZS1wYWNrYWdlL3NyYy8qIGFyZSBiYWQuIEZpeCBtZS5cbnZhciBkaWRXYXJuVmFsdWVEZWZhdWx0VmFsdWUkMTtcblxue1xuICBkaWRXYXJuVmFsdWVEZWZhdWx0VmFsdWUkMSA9IGZhbHNlO1xufVxuXG5mdW5jdGlvbiBnZXREZWNsYXJhdGlvbkVycm9yQWRkZW5kdW0oKSB7XG4gIHZhciBvd25lck5hbWUgPSBnZXRDdXJyZW50RmliZXJPd25lck5hbWVJbkRldk9yTnVsbCgpO1xuXG4gIGlmIChvd25lck5hbWUpIHtcbiAgICByZXR1cm4gJ1xcblxcbkNoZWNrIHRoZSByZW5kZXIgbWV0aG9kIG9mIGAnICsgb3duZXJOYW1lICsgJ2AuJztcbiAgfVxuXG4gIHJldHVybiAnJztcbn1cblxudmFyIHZhbHVlUHJvcE5hbWVzID0gWyd2YWx1ZScsICdkZWZhdWx0VmFsdWUnXTtcbi8qKlxuICogVmFsaWRhdGlvbiBmdW5jdGlvbiBmb3IgYHZhbHVlYCBhbmQgYGRlZmF1bHRWYWx1ZWAuXG4gKi9cblxuZnVuY3Rpb24gY2hlY2tTZWxlY3RQcm9wVHlwZXMocHJvcHMpIHtcbiAgUmVhY3RDb250cm9sbGVkVmFsdWVQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMoJ3NlbGVjdCcsIHByb3BzKTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlUHJvcE5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHByb3BOYW1lID0gdmFsdWVQcm9wTmFtZXNbaV07XG5cbiAgICBpZiAocHJvcHNbcHJvcE5hbWVdID09IG51bGwpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIHZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheShwcm9wc1twcm9wTmFtZV0pO1xuXG4gICAgaWYgKHByb3BzLm11bHRpcGxlICYmICFpc0FycmF5KSB7XG4gICAgICB3YXJuaW5nJDEoZmFsc2UsICdUaGUgYCVzYCBwcm9wIHN1cHBsaWVkIHRvIDxzZWxlY3Q+IG11c3QgYmUgYW4gYXJyYXkgaWYgJyArICdgbXVsdGlwbGVgIGlzIHRydWUuJXMnLCBwcm9wTmFtZSwgZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtKCkpO1xuICAgIH0gZWxzZSBpZiAoIXByb3BzLm11bHRpcGxlICYmIGlzQXJyYXkpIHtcbiAgICAgIHdhcm5pbmckMShmYWxzZSwgJ1RoZSBgJXNgIHByb3Agc3VwcGxpZWQgdG8gPHNlbGVjdD4gbXVzdCBiZSBhIHNjYWxhciAnICsgJ3ZhbHVlIGlmIGBtdWx0aXBsZWAgaXMgZmFsc2UuJXMnLCBwcm9wTmFtZSwgZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtKCkpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiB1cGRhdGVPcHRpb25zKG5vZGUsIG11bHRpcGxlLCBwcm9wVmFsdWUsIHNldERlZmF1bHRTZWxlY3RlZCkge1xuICB2YXIgb3B0aW9ucyA9IG5vZGUub3B0aW9ucztcblxuICBpZiAobXVsdGlwbGUpIHtcbiAgICB2YXIgc2VsZWN0ZWRWYWx1ZXMgPSBwcm9wVmFsdWU7XG4gICAgdmFyIHNlbGVjdGVkVmFsdWUgPSB7fTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2VsZWN0ZWRWYWx1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIC8vIFByZWZpeCB0byBhdm9pZCBjaGFvcyB3aXRoIHNwZWNpYWwga2V5cy5cbiAgICAgIHNlbGVjdGVkVmFsdWVbJyQnICsgc2VsZWN0ZWRWYWx1ZXNbaV1dID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgb3B0aW9ucy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBzZWxlY3RlZCA9IHNlbGVjdGVkVmFsdWUuaGFzT3duUHJvcGVydHkoJyQnICsgb3B0aW9uc1tfaV0udmFsdWUpO1xuXG4gICAgICBpZiAob3B0aW9uc1tfaV0uc2VsZWN0ZWQgIT09IHNlbGVjdGVkKSB7XG4gICAgICAgIG9wdGlvbnNbX2ldLnNlbGVjdGVkID0gc2VsZWN0ZWQ7XG4gICAgICB9XG5cbiAgICAgIGlmIChzZWxlY3RlZCAmJiBzZXREZWZhdWx0U2VsZWN0ZWQpIHtcbiAgICAgICAgb3B0aW9uc1tfaV0uZGVmYXVsdFNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gRG8gbm90IHNldCBgc2VsZWN0LnZhbHVlYCBhcyBleGFjdCBiZWhhdmlvciBpc24ndCBjb25zaXN0ZW50IGFjcm9zcyBhbGxcbiAgICAvLyBicm93c2VycyBmb3IgYWxsIGNhc2VzLlxuICAgIHZhciBfc2VsZWN0ZWRWYWx1ZSA9IHRvU3RyaW5nKGdldFRvU3RyaW5nVmFsdWUocHJvcFZhbHVlKSk7XG5cbiAgICB2YXIgZGVmYXVsdFNlbGVjdGVkID0gbnVsbDtcblxuICAgIGZvciAodmFyIF9pMiA9IDA7IF9pMiA8IG9wdGlvbnMubGVuZ3RoOyBfaTIrKykge1xuICAgICAgaWYgKG9wdGlvbnNbX2kyXS52YWx1ZSA9PT0gX3NlbGVjdGVkVmFsdWUpIHtcbiAgICAgICAgb3B0aW9uc1tfaTJdLnNlbGVjdGVkID0gdHJ1ZTtcblxuICAgICAgICBpZiAoc2V0RGVmYXVsdFNlbGVjdGVkKSB7XG4gICAgICAgICAgb3B0aW9uc1tfaTJdLmRlZmF1bHRTZWxlY3RlZCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChkZWZhdWx0U2VsZWN0ZWQgPT09IG51bGwgJiYgIW9wdGlvbnNbX2kyXS5kaXNhYmxlZCkge1xuICAgICAgICBkZWZhdWx0U2VsZWN0ZWQgPSBvcHRpb25zW19pMl07XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGRlZmF1bHRTZWxlY3RlZCAhPT0gbnVsbCkge1xuICAgICAgZGVmYXVsdFNlbGVjdGVkLnNlbGVjdGVkID0gdHJ1ZTtcbiAgICB9XG4gIH1cbn1cbi8qKlxuICogSW1wbGVtZW50cyBhIDxzZWxlY3Q+IGhvc3QgY29tcG9uZW50IHRoYXQgYWxsb3dzIG9wdGlvbmFsbHkgc2V0dGluZyB0aGVcbiAqIHByb3BzIGB2YWx1ZWAgYW5kIGBkZWZhdWx0VmFsdWVgLiBJZiBgbXVsdGlwbGVgIGlzIGZhbHNlLCB0aGUgcHJvcCBtdXN0IGJlIGFcbiAqIHN0cmluZ2FibGUuIElmIGBtdWx0aXBsZWAgaXMgdHJ1ZSwgdGhlIHByb3AgbXVzdCBiZSBhbiBhcnJheSBvZiBzdHJpbmdhYmxlcy5cbiAqXG4gKiBJZiBgdmFsdWVgIGlzIG5vdCBzdXBwbGllZCAob3IgbnVsbC91bmRlZmluZWQpLCB1c2VyIGFjdGlvbnMgdGhhdCBjaGFuZ2UgdGhlXG4gKiBzZWxlY3RlZCBvcHRpb24gd2lsbCB0cmlnZ2VyIHVwZGF0ZXMgdG8gdGhlIHJlbmRlcmVkIG9wdGlvbnMuXG4gKlxuICogSWYgaXQgaXMgc3VwcGxpZWQgKGFuZCBub3QgbnVsbC91bmRlZmluZWQpLCB0aGUgcmVuZGVyZWQgb3B0aW9ucyB3aWxsIG5vdFxuICogdXBkYXRlIGluIHJlc3BvbnNlIHRvIHVzZXIgYWN0aW9ucy4gSW5zdGVhZCwgdGhlIGB2YWx1ZWAgcHJvcCBtdXN0IGNoYW5nZSBpblxuICogb3JkZXIgZm9yIHRoZSByZW5kZXJlZCBvcHRpb25zIHRvIHVwZGF0ZS5cbiAqXG4gKiBJZiBgZGVmYXVsdFZhbHVlYCBpcyBwcm92aWRlZCwgYW55IG9wdGlvbnMgd2l0aCB0aGUgc3VwcGxpZWQgdmFsdWVzIHdpbGwgYmVcbiAqIHNlbGVjdGVkLlxuICovXG5cblxuZnVuY3Rpb24gZ2V0SG9zdFByb3BzJDIoZWxlbWVudCwgcHJvcHMpIHtcbiAgcmV0dXJuIF9hc3NpZ24oe30sIHByb3BzLCB7XG4gICAgdmFsdWU6IHVuZGVmaW5lZFxuICB9KTtcbn1cbmZ1bmN0aW9uIGluaXRXcmFwcGVyU3RhdGUkMShlbGVtZW50LCBwcm9wcykge1xuICB2YXIgbm9kZSA9IGVsZW1lbnQ7XG5cbiAge1xuICAgIGNoZWNrU2VsZWN0UHJvcFR5cGVzKHByb3BzKTtcbiAgfVxuXG4gIG5vZGUuX3dyYXBwZXJTdGF0ZSA9IHtcbiAgICB3YXNNdWx0aXBsZTogISFwcm9wcy5tdWx0aXBsZVxuICB9O1xuXG4gIHtcbiAgICBpZiAocHJvcHMudmFsdWUgIT09IHVuZGVmaW5lZCAmJiBwcm9wcy5kZWZhdWx0VmFsdWUgIT09IHVuZGVmaW5lZCAmJiAhZGlkV2FyblZhbHVlRGVmYXVsdFZhbHVlJDEpIHtcbiAgICAgIHdhcm5pbmckMShmYWxzZSwgJ1NlbGVjdCBlbGVtZW50cyBtdXN0IGJlIGVpdGhlciBjb250cm9sbGVkIG9yIHVuY29udHJvbGxlZCAnICsgJyhzcGVjaWZ5IGVpdGhlciB0aGUgdmFsdWUgcHJvcCwgb3IgdGhlIGRlZmF1bHRWYWx1ZSBwcm9wLCBidXQgbm90ICcgKyAnYm90aCkuIERlY2lkZSBiZXR3ZWVuIHVzaW5nIGEgY29udHJvbGxlZCBvciB1bmNvbnRyb2xsZWQgc2VsZWN0ICcgKyAnZWxlbWVudCBhbmQgcmVtb3ZlIG9uZSBvZiB0aGVzZSBwcm9wcy4gTW9yZSBpbmZvOiAnICsgJ2h0dHBzOi8vZmIubWUvcmVhY3QtY29udHJvbGxlZC1jb21wb25lbnRzJyk7XG4gICAgICBkaWRXYXJuVmFsdWVEZWZhdWx0VmFsdWUkMSA9IHRydWU7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBwb3N0TW91bnRXcmFwcGVyJDIoZWxlbWVudCwgcHJvcHMpIHtcbiAgdmFyIG5vZGUgPSBlbGVtZW50O1xuICBub2RlLm11bHRpcGxlID0gISFwcm9wcy5tdWx0aXBsZTtcbiAgdmFyIHZhbHVlID0gcHJvcHMudmFsdWU7XG5cbiAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICB1cGRhdGVPcHRpb25zKG5vZGUsICEhcHJvcHMubXVsdGlwbGUsIHZhbHVlLCBmYWxzZSk7XG4gIH0gZWxzZSBpZiAocHJvcHMuZGVmYXVsdFZhbHVlICE9IG51bGwpIHtcbiAgICB1cGRhdGVPcHRpb25zKG5vZGUsICEhcHJvcHMubXVsdGlwbGUsIHByb3BzLmRlZmF1bHRWYWx1ZSwgdHJ1ZSk7XG4gIH1cbn1cbmZ1bmN0aW9uIHBvc3RVcGRhdGVXcmFwcGVyKGVsZW1lbnQsIHByb3BzKSB7XG4gIHZhciBub2RlID0gZWxlbWVudDtcbiAgdmFyIHdhc011bHRpcGxlID0gbm9kZS5fd3JhcHBlclN0YXRlLndhc011bHRpcGxlO1xuICBub2RlLl93cmFwcGVyU3RhdGUud2FzTXVsdGlwbGUgPSAhIXByb3BzLm11bHRpcGxlO1xuICB2YXIgdmFsdWUgPSBwcm9wcy52YWx1ZTtcblxuICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgIHVwZGF0ZU9wdGlvbnMobm9kZSwgISFwcm9wcy5tdWx0aXBsZSwgdmFsdWUsIGZhbHNlKTtcbiAgfSBlbHNlIGlmICh3YXNNdWx0aXBsZSAhPT0gISFwcm9wcy5tdWx0aXBsZSkge1xuICAgIC8vIEZvciBzaW1wbGljaXR5LCByZWFwcGx5IGBkZWZhdWx0VmFsdWVgIGlmIGBtdWx0aXBsZWAgaXMgdG9nZ2xlZC5cbiAgICBpZiAocHJvcHMuZGVmYXVsdFZhbHVlICE9IG51bGwpIHtcbiAgICAgIHVwZGF0ZU9wdGlvbnMobm9kZSwgISFwcm9wcy5tdWx0aXBsZSwgcHJvcHMuZGVmYXVsdFZhbHVlLCB0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gUmV2ZXJ0IHRoZSBzZWxlY3QgYmFjayB0byBpdHMgZGVmYXVsdCB1bnNlbGVjdGVkIHN0YXRlLlxuICAgICAgdXBkYXRlT3B0aW9ucyhub2RlLCAhIXByb3BzLm11bHRpcGxlLCBwcm9wcy5tdWx0aXBsZSA/IFtdIDogJycsIGZhbHNlKTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIHJlc3RvcmVDb250cm9sbGVkU3RhdGUkMihlbGVtZW50LCBwcm9wcykge1xuICB2YXIgbm9kZSA9IGVsZW1lbnQ7XG4gIHZhciB2YWx1ZSA9IHByb3BzLnZhbHVlO1xuXG4gIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgdXBkYXRlT3B0aW9ucyhub2RlLCAhIXByb3BzLm11bHRpcGxlLCB2YWx1ZSwgZmFsc2UpO1xuICB9XG59XG5cbnZhciBkaWRXYXJuVmFsRGVmYXVsdFZhbCA9IGZhbHNlO1xuXG4vKipcbiAqIEltcGxlbWVudHMgYSA8dGV4dGFyZWE+IGhvc3QgY29tcG9uZW50IHRoYXQgYWxsb3dzIHNldHRpbmcgYHZhbHVlYCwgYW5kXG4gKiBgZGVmYXVsdFZhbHVlYC4gVGhpcyBkaWZmZXJzIGZyb20gdGhlIHRyYWRpdGlvbmFsIERPTSBBUEkgYmVjYXVzZSB2YWx1ZSBpc1xuICogdXN1YWxseSBzZXQgYXMgUENEQVRBIGNoaWxkcmVuLlxuICpcbiAqIElmIGB2YWx1ZWAgaXMgbm90IHN1cHBsaWVkIChvciBudWxsL3VuZGVmaW5lZCksIHVzZXIgYWN0aW9ucyB0aGF0IGFmZmVjdCB0aGVcbiAqIHZhbHVlIHdpbGwgdHJpZ2dlciB1cGRhdGVzIHRvIHRoZSBlbGVtZW50LlxuICpcbiAqIElmIGB2YWx1ZWAgaXMgc3VwcGxpZWQgKGFuZCBub3QgbnVsbC91bmRlZmluZWQpLCB0aGUgcmVuZGVyZWQgZWxlbWVudCB3aWxsXG4gKiBub3QgdHJpZ2dlciB1cGRhdGVzIHRvIHRoZSBlbGVtZW50LiBJbnN0ZWFkLCB0aGUgYHZhbHVlYCBwcm9wIG11c3QgY2hhbmdlIGluXG4gKiBvcmRlciBmb3IgdGhlIHJlbmRlcmVkIGVsZW1lbnQgdG8gYmUgdXBkYXRlZC5cbiAqXG4gKiBUaGUgcmVuZGVyZWQgZWxlbWVudCB3aWxsIGJlIGluaXRpYWxpemVkIHdpdGggYW4gZW1wdHkgdmFsdWUsIHRoZSBwcm9wXG4gKiBgZGVmYXVsdFZhbHVlYCBpZiBzcGVjaWZpZWQsIG9yIHRoZSBjaGlsZHJlbiBjb250ZW50IChkZXByZWNhdGVkKS5cbiAqL1xuZnVuY3Rpb24gZ2V0SG9zdFByb3BzJDMoZWxlbWVudCwgcHJvcHMpIHtcbiAgdmFyIG5vZGUgPSBlbGVtZW50O1xuXG4gIGlmICghKHByb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MID09IG51bGwpKSB7XG4gICAge1xuICAgICAgdGhyb3cgRXJyb3IoXCJgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxgIGRvZXMgbm90IG1ha2Ugc2Vuc2Ugb24gPHRleHRhcmVhPi5cIik7XG4gICAgfVxuICB9IC8vIEFsd2F5cyBzZXQgY2hpbGRyZW4gdG8gdGhlIHNhbWUgdGhpbmcuIEluIElFOSwgdGhlIHNlbGVjdGlvbiByYW5nZSB3aWxsXG4gIC8vIGdldCByZXNldCBpZiBgdGV4dENvbnRlbnRgIGlzIG11dGF0ZWQuICBXZSBjb3VsZCBhZGQgYSBjaGVjayBpbiBzZXRUZXh0Q29udGVudFxuICAvLyB0byBvbmx5IHNldCB0aGUgdmFsdWUgaWYvd2hlbiB0aGUgdmFsdWUgZGlmZmVycyBmcm9tIHRoZSBub2RlIHZhbHVlICh3aGljaCB3b3VsZFxuICAvLyBjb21wbGV0ZWx5IHNvbHZlIHRoaXMgSUU5IGJ1ZyksIGJ1dCBTZWJhc3RpYW4rU29waGllIHNlZW1lZCB0byBsaWtlIHRoaXNcbiAgLy8gc29sdXRpb24uIFRoZSB2YWx1ZSBjYW4gYmUgYSBib29sZWFuIG9yIG9iamVjdCBzbyB0aGF0J3Mgd2h5IGl0J3MgZm9yY2VkXG4gIC8vIHRvIGJlIGEgc3RyaW5nLlxuXG5cbiAgdmFyIGhvc3RQcm9wcyA9IF9hc3NpZ24oe30sIHByb3BzLCB7XG4gICAgdmFsdWU6IHVuZGVmaW5lZCxcbiAgICBkZWZhdWx0VmFsdWU6IHVuZGVmaW5lZCxcbiAgICBjaGlsZHJlbjogdG9TdHJpbmcobm9kZS5fd3JhcHBlclN0YXRlLmluaXRpYWxWYWx1ZSlcbiAgfSk7XG5cbiAgcmV0dXJuIGhvc3RQcm9wcztcbn1cbmZ1bmN0aW9uIGluaXRXcmFwcGVyU3RhdGUkMihlbGVtZW50LCBwcm9wcykge1xuICB2YXIgbm9kZSA9IGVsZW1lbnQ7XG5cbiAge1xuICAgIFJlYWN0Q29udHJvbGxlZFZhbHVlUHJvcFR5cGVzLmNoZWNrUHJvcFR5cGVzKCd0ZXh0YXJlYScsIHByb3BzKTtcblxuICAgIGlmIChwcm9wcy52YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHByb3BzLmRlZmF1bHRWYWx1ZSAhPT0gdW5kZWZpbmVkICYmICFkaWRXYXJuVmFsRGVmYXVsdFZhbCkge1xuICAgICAgd2FybmluZyQxKGZhbHNlLCAnJXMgY29udGFpbnMgYSB0ZXh0YXJlYSB3aXRoIGJvdGggdmFsdWUgYW5kIGRlZmF1bHRWYWx1ZSBwcm9wcy4gJyArICdUZXh0YXJlYSBlbGVtZW50cyBtdXN0IGJlIGVpdGhlciBjb250cm9sbGVkIG9yIHVuY29udHJvbGxlZCAnICsgJyhzcGVjaWZ5IGVpdGhlciB0aGUgdmFsdWUgcHJvcCwgb3IgdGhlIGRlZmF1bHRWYWx1ZSBwcm9wLCBidXQgbm90ICcgKyAnYm90aCkuIERlY2lkZSBiZXR3ZWVuIHVzaW5nIGEgY29udHJvbGxlZCBvciB1bmNvbnRyb2xsZWQgdGV4dGFyZWEgJyArICdhbmQgcmVtb3ZlIG9uZSBvZiB0aGVzZSBwcm9wcy4gTW9yZSBpbmZvOiAnICsgJ2h0dHBzOi8vZmIubWUvcmVhY3QtY29udHJvbGxlZC1jb21wb25lbnRzJywgZ2V0Q3VycmVudEZpYmVyT3duZXJOYW1lSW5EZXZPck51bGwoKSB8fCAnQSBjb21wb25lbnQnKTtcbiAgICAgIGRpZFdhcm5WYWxEZWZhdWx0VmFsID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICB2YXIgaW5pdGlhbFZhbHVlID0gcHJvcHMudmFsdWU7IC8vIE9ubHkgYm90aGVyIGZldGNoaW5nIGRlZmF1bHQgdmFsdWUgaWYgd2UncmUgZ29pbmcgdG8gdXNlIGl0XG5cbiAgaWYgKGluaXRpYWxWYWx1ZSA9PSBudWxsKSB7XG4gICAgdmFyIGRlZmF1bHRWYWx1ZSA9IHByb3BzLmRlZmF1bHRWYWx1ZTsgLy8gVE9ETyAoeXVuZ3N0ZXJzKTogUmVtb3ZlIHN1cHBvcnQgZm9yIGNoaWxkcmVuIGNvbnRlbnQgaW4gPHRleHRhcmVhPi5cblxuICAgIHZhciBjaGlsZHJlbiA9IHByb3BzLmNoaWxkcmVuO1xuXG4gICAgaWYgKGNoaWxkcmVuICE9IG51bGwpIHtcbiAgICAgIHtcbiAgICAgICAgd2FybmluZyQxKGZhbHNlLCAnVXNlIHRoZSBgZGVmYXVsdFZhbHVlYCBvciBgdmFsdWVgIHByb3BzIGluc3RlYWQgb2Ygc2V0dGluZyAnICsgJ2NoaWxkcmVuIG9uIDx0ZXh0YXJlYT4uJyk7XG4gICAgICB9XG5cbiAgICAgIGlmICghKGRlZmF1bHRWYWx1ZSA9PSBudWxsKSkge1xuICAgICAgICB7XG4gICAgICAgICAgdGhyb3cgRXJyb3IoXCJJZiB5b3Ugc3VwcGx5IGBkZWZhdWx0VmFsdWVgIG9uIGEgPHRleHRhcmVhPiwgZG8gbm90IHBhc3MgY2hpbGRyZW4uXCIpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGNoaWxkcmVuKSkge1xuICAgICAgICBpZiAoIShjaGlsZHJlbi5sZW5ndGggPD0gMSkpIHtcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcIjx0ZXh0YXJlYT4gY2FuIG9ubHkgaGF2ZSBhdCBtb3N0IG9uZSBjaGlsZC5cIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY2hpbGRyZW4gPSBjaGlsZHJlblswXTtcbiAgICAgIH1cblxuICAgICAgZGVmYXVsdFZhbHVlID0gY2hpbGRyZW47XG4gICAgfVxuXG4gICAgaWYgKGRlZmF1bHRWYWx1ZSA9PSBudWxsKSB7XG4gICAgICBkZWZhdWx0VmFsdWUgPSAnJztcbiAgICB9XG5cbiAgICBpbml0aWFsVmFsdWUgPSBkZWZhdWx0VmFsdWU7XG4gIH1cblxuICBub2RlLl93cmFwcGVyU3RhdGUgPSB7XG4gICAgaW5pdGlhbFZhbHVlOiBnZXRUb1N0cmluZ1ZhbHVlKGluaXRpYWxWYWx1ZSlcbiAgfTtcbn1cbmZ1bmN0aW9uIHVwZGF0ZVdyYXBwZXIkMShlbGVtZW50LCBwcm9wcykge1xuICB2YXIgbm9kZSA9IGVsZW1lbnQ7XG4gIHZhciB2YWx1ZSA9IGdldFRvU3RyaW5nVmFsdWUocHJvcHMudmFsdWUpO1xuICB2YXIgZGVmYXVsdFZhbHVlID0gZ2V0VG9TdHJpbmdWYWx1ZShwcm9wcy5kZWZhdWx0VmFsdWUpO1xuXG4gIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgLy8gQ2FzdCBgdmFsdWVgIHRvIGEgc3RyaW5nIHRvIGVuc3VyZSB0aGUgdmFsdWUgaXMgc2V0IGNvcnJlY3RseS4gV2hpbGVcbiAgICAvLyBicm93c2VycyB0eXBpY2FsbHkgZG8gdGhpcyBhcyBuZWNlc3NhcnksIGpzZG9tIGRvZXNuJ3QuXG4gICAgdmFyIG5ld1ZhbHVlID0gdG9TdHJpbmcodmFsdWUpOyAvLyBUbyBhdm9pZCBzaWRlIGVmZmVjdHMgKHN1Y2ggYXMgbG9zaW5nIHRleHQgc2VsZWN0aW9uKSwgb25seSBzZXQgdmFsdWUgaWYgY2hhbmdlZFxuXG4gICAgaWYgKG5ld1ZhbHVlICE9PSBub2RlLnZhbHVlKSB7XG4gICAgICBub2RlLnZhbHVlID0gbmV3VmFsdWU7XG4gICAgfVxuXG4gICAgaWYgKHByb3BzLmRlZmF1bHRWYWx1ZSA9PSBudWxsICYmIG5vZGUuZGVmYXVsdFZhbHVlICE9PSBuZXdWYWx1ZSkge1xuICAgICAgbm9kZS5kZWZhdWx0VmFsdWUgPSBuZXdWYWx1ZTtcbiAgICB9XG4gIH1cblxuICBpZiAoZGVmYXVsdFZhbHVlICE9IG51bGwpIHtcbiAgICBub2RlLmRlZmF1bHRWYWx1ZSA9IHRvU3RyaW5nKGRlZmF1bHRWYWx1ZSk7XG4gIH1cbn1cbmZ1bmN0aW9uIHBvc3RNb3VudFdyYXBwZXIkMyhlbGVtZW50LCBwcm9wcykge1xuICB2YXIgbm9kZSA9IGVsZW1lbnQ7IC8vIFRoaXMgaXMgaW4gcG9zdE1vdW50IGJlY2F1c2Ugd2UgbmVlZCBhY2Nlc3MgdG8gdGhlIERPTSBub2RlLCB3aGljaCBpcyBub3RcbiAgLy8gYXZhaWxhYmxlIHVudGlsIGFmdGVyIHRoZSBjb21wb25lbnQgaGFzIG1vdW50ZWQuXG5cbiAgdmFyIHRleHRDb250ZW50ID0gbm9kZS50ZXh0Q29udGVudDsgLy8gT25seSBzZXQgbm9kZS52YWx1ZSBpZiB0ZXh0Q29udGVudCBpcyBlcXVhbCB0byB0aGUgZXhwZWN0ZWRcbiAgLy8gaW5pdGlhbCB2YWx1ZS4gSW4gSUUxMC9JRTExIHRoZXJlIGlzIGEgYnVnIHdoZXJlIHRoZSBwbGFjZWhvbGRlciBhdHRyaWJ1dGVcbiAgLy8gd2lsbCBwb3B1bGF0ZSB0ZXh0Q29udGVudCBhcyB3ZWxsLlxuICAvLyBodHRwczovL2RldmVsb3Blci5taWNyb3NvZnQuY29tL21pY3Jvc29mdC1lZGdlL3BsYXRmb3JtL2lzc3Vlcy8xMDE1MjUvXG5cbiAgaWYgKHRleHRDb250ZW50ID09PSBub2RlLl93cmFwcGVyU3RhdGUuaW5pdGlhbFZhbHVlKSB7XG4gICAgaWYgKHRleHRDb250ZW50ICE9PSAnJyAmJiB0ZXh0Q29udGVudCAhPT0gbnVsbCkge1xuICAgICAgbm9kZS52YWx1ZSA9IHRleHRDb250ZW50O1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gcmVzdG9yZUNvbnRyb2xsZWRTdGF0ZSQzKGVsZW1lbnQsIHByb3BzKSB7XG4gIC8vIERPTSBjb21wb25lbnQgaXMgc3RpbGwgbW91bnRlZDsgdXBkYXRlXG4gIHVwZGF0ZVdyYXBwZXIkMShlbGVtZW50LCBwcm9wcyk7XG59XG5cbnZhciBIVE1MX05BTUVTUEFDRSQxID0gJ2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwnO1xudmFyIE1BVEhfTkFNRVNQQUNFID0gJ2h0dHA6Ly93d3cudzMub3JnLzE5OTgvTWF0aC9NYXRoTUwnO1xudmFyIFNWR19OQU1FU1BBQ0UgPSAnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnO1xudmFyIE5hbWVzcGFjZXMgPSB7XG4gIGh0bWw6IEhUTUxfTkFNRVNQQUNFJDEsXG4gIG1hdGhtbDogTUFUSF9OQU1FU1BBQ0UsXG4gIHN2ZzogU1ZHX05BTUVTUEFDRVxufTsgLy8gQXNzdW1lcyB0aGVyZSBpcyBubyBwYXJlbnQgbmFtZXNwYWNlLlxuXG5mdW5jdGlvbiBnZXRJbnRyaW5zaWNOYW1lc3BhY2UodHlwZSkge1xuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlICdzdmcnOlxuICAgICAgcmV0dXJuIFNWR19OQU1FU1BBQ0U7XG5cbiAgICBjYXNlICdtYXRoJzpcbiAgICAgIHJldHVybiBNQVRIX05BTUVTUEFDRTtcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gSFRNTF9OQU1FU1BBQ0UkMTtcbiAgfVxufVxuZnVuY3Rpb24gZ2V0Q2hpbGROYW1lc3BhY2UocGFyZW50TmFtZXNwYWNlLCB0eXBlKSB7XG4gIGlmIChwYXJlbnROYW1lc3BhY2UgPT0gbnVsbCB8fCBwYXJlbnROYW1lc3BhY2UgPT09IEhUTUxfTkFNRVNQQUNFJDEpIHtcbiAgICAvLyBObyAob3IgZGVmYXVsdCkgcGFyZW50IG5hbWVzcGFjZTogcG90ZW50aWFsIGVudHJ5IHBvaW50LlxuICAgIHJldHVybiBnZXRJbnRyaW5zaWNOYW1lc3BhY2UodHlwZSk7XG4gIH1cblxuICBpZiAocGFyZW50TmFtZXNwYWNlID09PSBTVkdfTkFNRVNQQUNFICYmIHR5cGUgPT09ICdmb3JlaWduT2JqZWN0Jykge1xuICAgIC8vIFdlJ3JlIGxlYXZpbmcgU1ZHLlxuICAgIHJldHVybiBIVE1MX05BTUVTUEFDRSQxO1xuICB9IC8vIEJ5IGRlZmF1bHQsIHBhc3MgbmFtZXNwYWNlIGJlbG93LlxuXG5cbiAgcmV0dXJuIHBhcmVudE5hbWVzcGFjZTtcbn1cblxuLyogZ2xvYmFscyBNU0FwcCAqL1xuXG4vKipcbiAqIENyZWF0ZSBhIGZ1bmN0aW9uIHdoaWNoIGhhcyAndW5zYWZlJyBwcml2aWxlZ2VzIChyZXF1aXJlZCBieSB3aW5kb3dzOCBhcHBzKVxuICovXG52YXIgY3JlYXRlTWljcm9zb2Z0VW5zYWZlTG9jYWxGdW5jdGlvbiA9IGZ1bmN0aW9uIChmdW5jKSB7XG4gIGlmICh0eXBlb2YgTVNBcHAgIT09ICd1bmRlZmluZWQnICYmIE1TQXBwLmV4ZWNVbnNhZmVMb2NhbEZ1bmN0aW9uKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChhcmcwLCBhcmcxLCBhcmcyLCBhcmczKSB7XG4gICAgICBNU0FwcC5leGVjVW5zYWZlTG9jYWxGdW5jdGlvbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBmdW5jKGFyZzAsIGFyZzEsIGFyZzIsIGFyZzMpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZnVuYztcbiAgfVxufTtcblxudmFyIHJldXNhYmxlU1ZHQ29udGFpbmVyO1xuLyoqXG4gKiBTZXQgdGhlIGlubmVySFRNTCBwcm9wZXJ0eSBvZiBhIG5vZGVcbiAqXG4gKiBAcGFyYW0ge0RPTUVsZW1lbnR9IG5vZGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBodG1sXG4gKiBAaW50ZXJuYWxcbiAqL1xuXG52YXIgc2V0SW5uZXJIVE1MID0gY3JlYXRlTWljcm9zb2Z0VW5zYWZlTG9jYWxGdW5jdGlvbihmdW5jdGlvbiAobm9kZSwgaHRtbCkge1xuICBpZiAobm9kZS5uYW1lc3BhY2VVUkkgPT09IE5hbWVzcGFjZXMuc3ZnKSB7XG4gICAge1xuICAgICAgaWYgKGVuYWJsZVRydXN0ZWRUeXBlc0ludGVncmF0aW9uKSB7XG4gICAgICAgIC8vIFRPRE86IHJlY29uc2lkZXIgdGhlIHRleHQgb2YgdGhpcyB3YXJuaW5nIGFuZCB3aGVuIGl0IHNob3VsZCBzaG93XG4gICAgICAgIC8vIGJlZm9yZSBlbmFibGluZyB0aGUgZmVhdHVyZSBmbGFnLlxuICAgICAgICAhKHR5cGVvZiB0cnVzdGVkVHlwZXMgPT09ICd1bmRlZmluZWQnKSA/IHdhcm5pbmckMShmYWxzZSwgXCJVc2luZyAnZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwnIGluIGFuIHN2ZyBlbGVtZW50IHdpdGggXCIgKyAnVHJ1c3RlZCBUeXBlcyBlbmFibGVkIGluIGFuIEludGVybmV0IEV4cGxvcmVyIHdpbGwgY2F1c2UgJyArICd0aGUgdHJ1c3RlZCB2YWx1ZSB0byBiZSBjb252ZXJ0ZWQgdG8gc3RyaW5nLiBBc3NpZ25pbmcgc3RyaW5nICcgKyBcInRvICdpbm5lckhUTUwnIHdpbGwgdGhyb3cgYW4gZXJyb3IgaWYgVHJ1c3RlZCBUeXBlcyBhcmUgZW5mb3JjZWQuIFwiICsgXCJZb3UgY2FuIHRyeSB0byB3cmFwIHlvdXIgc3ZnIGVsZW1lbnQgaW5zaWRlIGEgZGl2IGFuZCB1c2UgJ2Rhbmdlcm91c2x5U2V0SW5uZXJIVE1MJyBcIiArICdvbiB0aGUgZW5jbG9zaW5nIGRpdiBpbnN0ZWFkLicpIDogdm9pZCAwO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghKCdpbm5lckhUTUwnIGluIG5vZGUpKSB7XG4gICAgICAvLyBJRSBkb2VzIG5vdCBoYXZlIGlubmVySFRNTCBmb3IgU1ZHIG5vZGVzLCBzbyBpbnN0ZWFkIHdlIGluamVjdCB0aGVcbiAgICAgIC8vIG5ldyBtYXJrdXAgaW4gYSB0ZW1wIG5vZGUgYW5kIHRoZW4gbW92ZSB0aGUgY2hpbGQgbm9kZXMgYWNyb3NzIGludG9cbiAgICAgIC8vIHRoZSB0YXJnZXQgbm9kZVxuICAgICAgcmV1c2FibGVTVkdDb250YWluZXIgPSByZXVzYWJsZVNWR0NvbnRhaW5lciB8fCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHJldXNhYmxlU1ZHQ29udGFpbmVyLmlubmVySFRNTCA9ICc8c3ZnPicgKyBodG1sLnZhbHVlT2YoKS50b1N0cmluZygpICsgJzwvc3ZnPic7XG4gICAgICB2YXIgc3ZnTm9kZSA9IHJldXNhYmxlU1ZHQ29udGFpbmVyLmZpcnN0Q2hpbGQ7XG5cbiAgICAgIHdoaWxlIChub2RlLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgbm9kZS5yZW1vdmVDaGlsZChub2RlLmZpcnN0Q2hpbGQpO1xuICAgICAgfVxuXG4gICAgICB3aGlsZSAoc3ZnTm9kZS5maXJzdENoaWxkKSB7XG4gICAgICAgIG5vZGUuYXBwZW5kQ2hpbGQoc3ZnTm9kZS5maXJzdENoaWxkKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuXG4gIG5vZGUuaW5uZXJIVE1MID0gaHRtbDtcbn0pO1xuXG4vKipcbiAqIEhUTUwgbm9kZVR5cGUgdmFsdWVzIHRoYXQgcmVwcmVzZW50IHRoZSB0eXBlIG9mIHRoZSBub2RlXG4gKi9cbnZhciBFTEVNRU5UX05PREUgPSAxO1xudmFyIFRFWFRfTk9ERSA9IDM7XG52YXIgQ09NTUVOVF9OT0RFID0gODtcbnZhciBET0NVTUVOVF9OT0RFID0gOTtcbnZhciBET0NVTUVOVF9GUkFHTUVOVF9OT0RFID0gMTE7XG5cbi8qKlxuICogU2V0IHRoZSB0ZXh0Q29udGVudCBwcm9wZXJ0eSBvZiBhIG5vZGUuIEZvciB0ZXh0IHVwZGF0ZXMsIGl0J3MgZmFzdGVyXG4gKiB0byBzZXQgdGhlIGBub2RlVmFsdWVgIG9mIHRoZSBUZXh0IG5vZGUgZGlyZWN0bHkgaW5zdGVhZCBvZiB1c2luZ1xuICogYC50ZXh0Q29udGVudGAgd2hpY2ggd2lsbCByZW1vdmUgdGhlIGV4aXN0aW5nIG5vZGUgYW5kIGNyZWF0ZSBhIG5ldyBvbmUuXG4gKlxuICogQHBhcmFtIHtET01FbGVtZW50fSBub2RlXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dFxuICogQGludGVybmFsXG4gKi9cblxudmFyIHNldFRleHRDb250ZW50ID0gZnVuY3Rpb24gKG5vZGUsIHRleHQpIHtcbiAgaWYgKHRleHQpIHtcbiAgICB2YXIgZmlyc3RDaGlsZCA9IG5vZGUuZmlyc3RDaGlsZDtcblxuICAgIGlmIChmaXJzdENoaWxkICYmIGZpcnN0Q2hpbGQgPT09IG5vZGUubGFzdENoaWxkICYmIGZpcnN0Q2hpbGQubm9kZVR5cGUgPT09IFRFWFRfTk9ERSkge1xuICAgICAgZmlyc3RDaGlsZC5ub2RlVmFsdWUgPSB0ZXh0O1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuXG4gIG5vZGUudGV4dENvbnRlbnQgPSB0ZXh0O1xufTtcblxuLy8gRG8gbm90IHVzZSB0aGUgYmVsb3cgdHdvIG1ldGhvZHMgZGlyZWN0bHkhXG4vLyBJbnN0ZWFkIHVzZSBjb25zdGFudHMgZXhwb3J0ZWQgZnJvbSBET01Ub3BMZXZlbEV2ZW50VHlwZXMgaW4gUmVhY3RET00uXG4vLyAoSXQgaXMgdGhlIG9ubHkgbW9kdWxlIHRoYXQgaXMgYWxsb3dlZCB0byBhY2Nlc3MgdGhlc2UgbWV0aG9kcy4pXG5mdW5jdGlvbiB1bnNhZmVDYXN0U3RyaW5nVG9ET01Ub3BMZXZlbFR5cGUodG9wTGV2ZWxUeXBlKSB7XG4gIHJldHVybiB0b3BMZXZlbFR5cGU7XG59XG5mdW5jdGlvbiB1bnNhZmVDYXN0RE9NVG9wTGV2ZWxUeXBlVG9TdHJpbmcodG9wTGV2ZWxUeXBlKSB7XG4gIHJldHVybiB0b3BMZXZlbFR5cGU7XG59XG5cbi8qKlxuICogR2VuZXJhdGUgYSBtYXBwaW5nIG9mIHN0YW5kYXJkIHZlbmRvciBwcmVmaXhlcyB1c2luZyB0aGUgZGVmaW5lZCBzdHlsZSBwcm9wZXJ0eSBhbmQgZXZlbnQgbmFtZS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gc3R5bGVQcm9wXG4gKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lXG4gKiBAcmV0dXJucyB7b2JqZWN0fVxuICovXG5cbmZ1bmN0aW9uIG1ha2VQcmVmaXhNYXAoc3R5bGVQcm9wLCBldmVudE5hbWUpIHtcbiAgdmFyIHByZWZpeGVzID0ge307XG4gIHByZWZpeGVzW3N0eWxlUHJvcC50b0xvd2VyQ2FzZSgpXSA9IGV2ZW50TmFtZS50b0xvd2VyQ2FzZSgpO1xuICBwcmVmaXhlc1snV2Via2l0JyArIHN0eWxlUHJvcF0gPSAnd2Via2l0JyArIGV2ZW50TmFtZTtcbiAgcHJlZml4ZXNbJ01veicgKyBzdHlsZVByb3BdID0gJ21veicgKyBldmVudE5hbWU7XG4gIHJldHVybiBwcmVmaXhlcztcbn1cbi8qKlxuICogQSBsaXN0IG9mIGV2ZW50IG5hbWVzIHRvIGEgY29uZmlndXJhYmxlIGxpc3Qgb2YgdmVuZG9yIHByZWZpeGVzLlxuICovXG5cblxudmFyIHZlbmRvclByZWZpeGVzID0ge1xuICBhbmltYXRpb25lbmQ6IG1ha2VQcmVmaXhNYXAoJ0FuaW1hdGlvbicsICdBbmltYXRpb25FbmQnKSxcbiAgYW5pbWF0aW9uaXRlcmF0aW9uOiBtYWtlUHJlZml4TWFwKCdBbmltYXRpb24nLCAnQW5pbWF0aW9uSXRlcmF0aW9uJyksXG4gIGFuaW1hdGlvbnN0YXJ0OiBtYWtlUHJlZml4TWFwKCdBbmltYXRpb24nLCAnQW5pbWF0aW9uU3RhcnQnKSxcbiAgdHJhbnNpdGlvbmVuZDogbWFrZVByZWZpeE1hcCgnVHJhbnNpdGlvbicsICdUcmFuc2l0aW9uRW5kJylcbn07XG4vKipcbiAqIEV2ZW50IG5hbWVzIHRoYXQgaGF2ZSBhbHJlYWR5IGJlZW4gZGV0ZWN0ZWQgYW5kIHByZWZpeGVkIChpZiBhcHBsaWNhYmxlKS5cbiAqL1xuXG52YXIgcHJlZml4ZWRFdmVudE5hbWVzID0ge307XG4vKipcbiAqIEVsZW1lbnQgdG8gY2hlY2sgZm9yIHByZWZpeGVzIG9uLlxuICovXG5cbnZhciBzdHlsZSA9IHt9O1xuLyoqXG4gKiBCb290c3RyYXAgaWYgYSBET00gZXhpc3RzLlxuICovXG5cbmlmIChjYW5Vc2VET00pIHtcbiAgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKS5zdHlsZTsgLy8gT24gc29tZSBwbGF0Zm9ybXMsIGluIHBhcnRpY3VsYXIgc29tZSByZWxlYXNlcyBvZiBBbmRyb2lkIDQueCxcbiAgLy8gdGhlIHVuLXByZWZpeGVkIFwiYW5pbWF0aW9uXCIgYW5kIFwidHJhbnNpdGlvblwiIHByb3BlcnRpZXMgYXJlIGRlZmluZWQgb24gdGhlXG4gIC8vIHN0eWxlIG9iamVjdCBidXQgdGhlIGV2ZW50cyB0aGF0IGZpcmUgd2lsbCBzdGlsbCBiZSBwcmVmaXhlZCwgc28gd2UgbmVlZFxuICAvLyB0byBjaGVjayBpZiB0aGUgdW4tcHJlZml4ZWQgZXZlbnRzIGFyZSB1c2FibGUsIGFuZCBpZiBub3QgcmVtb3ZlIHRoZW0gZnJvbSB0aGUgbWFwLlxuXG4gIGlmICghKCdBbmltYXRpb25FdmVudCcgaW4gd2luZG93KSkge1xuICAgIGRlbGV0ZSB2ZW5kb3JQcmVmaXhlcy5hbmltYXRpb25lbmQuYW5pbWF0aW9uO1xuICAgIGRlbGV0ZSB2ZW5kb3JQcmVmaXhlcy5hbmltYXRpb25pdGVyYXRpb24uYW5pbWF0aW9uO1xuICAgIGRlbGV0ZSB2ZW5kb3JQcmVmaXhlcy5hbmltYXRpb25zdGFydC5hbmltYXRpb247XG4gIH0gLy8gU2FtZSBhcyBhYm92ZVxuXG5cbiAgaWYgKCEoJ1RyYW5zaXRpb25FdmVudCcgaW4gd2luZG93KSkge1xuICAgIGRlbGV0ZSB2ZW5kb3JQcmVmaXhlcy50cmFuc2l0aW9uZW5kLnRyYW5zaXRpb247XG4gIH1cbn1cbi8qKlxuICogQXR0ZW1wdHMgdG8gZGV0ZXJtaW5lIHRoZSBjb3JyZWN0IHZlbmRvciBwcmVmaXhlZCBldmVudCBuYW1lLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWVcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cblxuXG5mdW5jdGlvbiBnZXRWZW5kb3JQcmVmaXhlZEV2ZW50TmFtZShldmVudE5hbWUpIHtcbiAgaWYgKHByZWZpeGVkRXZlbnROYW1lc1tldmVudE5hbWVdKSB7XG4gICAgcmV0dXJuIHByZWZpeGVkRXZlbnROYW1lc1tldmVudE5hbWVdO1xuICB9IGVsc2UgaWYgKCF2ZW5kb3JQcmVmaXhlc1tldmVudE5hbWVdKSB7XG4gICAgcmV0dXJuIGV2ZW50TmFtZTtcbiAgfVxuXG4gIHZhciBwcmVmaXhNYXAgPSB2ZW5kb3JQcmVmaXhlc1tldmVudE5hbWVdO1xuXG4gIGZvciAodmFyIHN0eWxlUHJvcCBpbiBwcmVmaXhNYXApIHtcbiAgICBpZiAocHJlZml4TWFwLmhhc093blByb3BlcnR5KHN0eWxlUHJvcCkgJiYgc3R5bGVQcm9wIGluIHN0eWxlKSB7XG4gICAgICByZXR1cm4gcHJlZml4ZWRFdmVudE5hbWVzW2V2ZW50TmFtZV0gPSBwcmVmaXhNYXBbc3R5bGVQcm9wXTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZXZlbnROYW1lO1xufVxuXG4vKipcbiAqIFRvIGlkZW50aWZ5IHRvcCBsZXZlbCBldmVudHMgaW4gUmVhY3RET00sIHdlIHVzZSBjb25zdGFudHMgZGVmaW5lZCBieSB0aGlzXG4gKiBtb2R1bGUuIFRoaXMgaXMgdGhlIG9ubHkgbW9kdWxlIHRoYXQgdXNlcyB0aGUgdW5zYWZlKiBtZXRob2RzIHRvIGV4cHJlc3NcbiAqIHRoYXQgdGhlIGNvbnN0YW50cyBhY3R1YWxseSBjb3JyZXNwb25kIHRvIHRoZSBicm93c2VyIGV2ZW50IG5hbWVzLiBUaGlzIGxldHNcbiAqIHVzIHNhdmUgc29tZSBidW5kbGUgc2l6ZSBieSBhdm9pZGluZyBhIHRvcCBsZXZlbCB0eXBlIC0+IGV2ZW50IG5hbWUgbWFwLlxuICogVGhlIHJlc3Qgb2YgUmVhY3RET00gY29kZSBzaG91bGQgaW1wb3J0IHRvcCBsZXZlbCB0eXBlcyBmcm9tIHRoaXMgZmlsZS5cbiAqL1xuXG52YXIgVE9QX0FCT1JUID0gdW5zYWZlQ2FzdFN0cmluZ1RvRE9NVG9wTGV2ZWxUeXBlKCdhYm9ydCcpO1xudmFyIFRPUF9BTklNQVRJT05fRU5EID0gdW5zYWZlQ2FzdFN0cmluZ1RvRE9NVG9wTGV2ZWxUeXBlKGdldFZlbmRvclByZWZpeGVkRXZlbnROYW1lKCdhbmltYXRpb25lbmQnKSk7XG52YXIgVE9QX0FOSU1BVElPTl9JVEVSQVRJT04gPSB1bnNhZmVDYXN0U3RyaW5nVG9ET01Ub3BMZXZlbFR5cGUoZ2V0VmVuZG9yUHJlZml4ZWRFdmVudE5hbWUoJ2FuaW1hdGlvbml0ZXJhdGlvbicpKTtcbnZhciBUT1BfQU5JTUFUSU9OX1NUQVJUID0gdW5zYWZlQ2FzdFN0cmluZ1RvRE9NVG9wTGV2ZWxUeXBlKGdldFZlbmRvclByZWZpeGVkRXZlbnROYW1lKCdhbmltYXRpb25zdGFydCcpKTtcbnZhciBUT1BfQkxVUiA9IHVuc2FmZUNhc3RTdHJpbmdUb0RPTVRvcExldmVsVHlwZSgnYmx1cicpO1xudmFyIFRPUF9DQU5fUExBWSA9IHVuc2FmZUNhc3RTdHJpbmdUb0RPTVRvcExldmVsVHlwZSgnY2FucGxheScpO1xudmFyIFRPUF9DQU5fUExBWV9USFJPVUdIID0gdW5zYWZlQ2FzdFN0cmluZ1RvRE9NVG9wTGV2ZWxUeXBlKCdjYW5wbGF5dGhyb3VnaCcpO1xudmFyIFRPUF9DQU5DRUwgPSB1bnNhZmVDYXN0U3RyaW5nVG9ET01Ub3BMZXZlbFR5cGUoJ2NhbmNlbCcpO1xudmFyIFRPUF9DSEFOR0UgPSB1bnNhZmVDYXN0U3RyaW5nVG9ET01Ub3BMZXZlbFR5cGUoJ2NoYW5nZScpO1xudmFyIFRPUF9DTElDSyA9IHVuc2FmZUNhc3RTdHJpbmdUb0RPTVRvcExldmVsVHlwZSgnY2xpY2snKTtcbnZhciBUT1BfQ0xPU0UgPSB1bnNhZmVDYXN0U3RyaW5nVG9ET01Ub3BMZXZlbFR5cGUoJ2Nsb3NlJyk7XG52YXIgVE9QX0NPTVBPU0lUSU9OX0VORCA9IHVuc2FmZUNhc3RTdHJpbmdUb0RPTVRvcExldmVsVHlwZSgnY29tcG9zaXRpb25lbmQnKTtcbnZhciBUT1BfQ09NUE9TSVRJT05fU1RBUlQgPSB1bnNhZmVDYXN0U3RyaW5nVG9ET01Ub3BMZXZlbFR5cGUoJ2NvbXBvc2l0aW9uc3RhcnQnKTtcbnZhciBUT1BfQ09NUE9TSVRJT05fVVBEQVRFID0gdW5zYWZlQ2FzdFN0cmluZ1RvRE9NVG9wTGV2ZWxUeXBlKCdjb21wb3NpdGlvbnVwZGF0ZScpO1xudmFyIFRPUF9DT05URVhUX01FTlUgPSB1bnNhZmVDYXN0U3RyaW5nVG9ET01Ub3BMZXZlbFR5cGUoJ2NvbnRleHRtZW51Jyk7XG52YXIgVE9QX0NPUFkgPSB1bnNhZmVDYXN0U3RyaW5nVG9ET01Ub3BMZXZlbFR5cGUoJ2NvcHknKTtcbnZhciBUT1BfQ1VUID0gdW5zYWZlQ2FzdFN0cmluZ1RvRE9NVG9wTGV2ZWxUeXBlKCdjdXQnKTtcbnZhciBUT1BfRE9VQkxFX0NMSUNLID0gdW5zYWZlQ2FzdFN0cmluZ1RvRE9NVG9wTGV2ZWxUeXBlKCdkYmxjbGljaycpO1xudmFyIFRPUF9BVVhfQ0xJQ0sgPSB1bnNhZmVDYXN0U3RyaW5nVG9ET01Ub3BMZXZlbFR5cGUoJ2F1eGNsaWNrJyk7XG52YXIgVE9QX0RSQUcgPSB1bnNhZmVDYXN0U3RyaW5nVG9ET01Ub3BMZXZlbFR5cGUoJ2RyYWcnKTtcbnZhciBUT1BfRFJBR19FTkQgPSB1bnNhZmVDYXN0U3RyaW5nVG9ET01Ub3BMZXZlbFR5cGUoJ2RyYWdlbmQnKTtcbnZhciBUT1BfRFJBR19FTlRFUiA9IHVuc2FmZUNhc3RTdHJpbmdUb0RPTVRvcExldmVsVHlwZSgnZHJhZ2VudGVyJyk7XG52YXIgVE9QX0RSQUdfRVhJVCA9IHVuc2FmZUNhc3RTdHJpbmdUb0RPTVRvcExldmVsVHlwZSgnZHJhZ2V4aXQnKTtcbnZhciBUT1BfRFJBR19MRUFWRSA9IHVuc2FmZUNhc3RTdHJpbmdUb0RPTVRvcExldmVsVHlwZSgnZHJhZ2xlYXZlJyk7XG52YXIgVE9QX0RSQUdfT1ZFUiA9IHVuc2FmZUNhc3RTdHJpbmdUb0RPTVRvcExldmVsVHlwZSgnZHJhZ292ZXInKTtcbnZhciBUT1BfRFJBR19TVEFSVCA9IHVuc2FmZUNhc3RTdHJpbmdUb0RPTVRvcExldmVsVHlwZSgnZHJhZ3N0YXJ0Jyk7XG52YXIgVE9QX0RST1AgPSB1bnNhZmVDYXN0U3RyaW5nVG9ET01Ub3BMZXZlbFR5cGUoJ2Ryb3AnKTtcbnZhciBUT1BfRFVSQVRJT05fQ0hBTkdFID0gdW5zYWZlQ2FzdFN0cmluZ1RvRE9NVG9wTGV2ZWxUeXBlKCdkdXJhdGlvbmNoYW5nZScpO1xudmFyIFRPUF9FTVBUSUVEID0gdW5zYWZlQ2FzdFN0cmluZ1RvRE9NVG9wTGV2ZWxUeXBlKCdlbXB0aWVkJyk7XG52YXIgVE9QX0VOQ1JZUFRFRCA9IHVuc2FmZUNhc3RTdHJpbmdUb0RPTVRvcExldmVsVHlwZSgnZW5jcnlwdGVkJyk7XG52YXIgVE9QX0VOREVEID0gdW5zYWZlQ2FzdFN0cmluZ1RvRE9NVG9wTGV2ZWxUeXBlKCdlbmRlZCcpO1xudmFyIFRPUF9FUlJPUiA9IHVuc2FmZUNhc3RTdHJpbmdUb0RPTVRvcExldmVsVHlwZSgnZXJyb3InKTtcbnZhciBUT1BfRk9DVVMgPSB1bnNhZmVDYXN0U3RyaW5nVG9ET01Ub3BMZXZlbFR5cGUoJ2ZvY3VzJyk7XG52YXIgVE9QX0dPVF9QT0lOVEVSX0NBUFRVUkUgPSB1bnNhZmVDYXN0U3RyaW5nVG9ET01Ub3BMZXZlbFR5cGUoJ2dvdHBvaW50ZXJjYXB0dXJlJyk7XG52YXIgVE9QX0lOUFVUID0gdW5zYWZlQ2FzdFN0cmluZ1RvRE9NVG9wTGV2ZWxUeXBlKCdpbnB1dCcpO1xudmFyIFRPUF9JTlZBTElEID0gdW5zYWZlQ2FzdFN0cmluZ1RvRE9NVG9wTGV2ZWxUeXBlKCdpbnZhbGlkJyk7XG52YXIgVE9QX0tFWV9ET1dOID0gdW5zYWZlQ2FzdFN0cmluZ1RvRE9NVG9wTGV2ZWxUeXBlKCdrZXlkb3duJyk7XG52YXIgVE9QX0tFWV9QUkVTUyA9IHVuc2FmZUNhc3RTdHJpbmdUb0RPTVRvcExldmVsVHlwZSgna2V5cHJlc3MnKTtcbnZhciBUT1BfS0VZX1VQID0gdW5zYWZlQ2FzdFN0cmluZ1RvRE9NVG9wTGV2ZWxUeXBlKCdrZXl1cCcpO1xudmFyIFRPUF9MT0FEID0gdW5zYWZlQ2FzdFN0cmluZ1RvRE9NVG9wTGV2ZWxUeXBlKCdsb2FkJyk7XG52YXIgVE9QX0xPQURfU1RBUlQgPSB1bnNhZmVDYXN0U3RyaW5nVG9ET01Ub3BMZXZlbFR5cGUoJ2xvYWRzdGFydCcpO1xudmFyIFRPUF9MT0FERURfREFUQSA9IHVuc2FmZUNhc3RTdHJpbmdUb0RPTVRvcExldmVsVHlwZSgnbG9hZGVkZGF0YScpO1xudmFyIFRPUF9MT0FERURfTUVUQURBVEEgPSB1bnNhZmVDYXN0U3RyaW5nVG9ET01Ub3BMZXZlbFR5cGUoJ2xvYWRlZG1ldGFkYXRhJyk7XG52YXIgVE9QX0xPU1RfUE9JTlRFUl9DQVBUVVJFID0gdW5zYWZlQ2FzdFN0cmluZ1RvRE9NVG9wTGV2ZWxUeXBlKCdsb3N0cG9pbnRlcmNhcHR1cmUnKTtcbnZhciBUT1BfTU9VU0VfRE9XTiA9IHVuc2FmZUNhc3RTdHJpbmdUb0RPTVRvcExldmVsVHlwZSgnbW91c2Vkb3duJyk7XG52YXIgVE9QX01PVVNFX01PVkUgPSB1bnNhZmVDYXN0U3RyaW5nVG9ET01Ub3BMZXZlbFR5cGUoJ21vdXNlbW92ZScpO1xudmFyIFRPUF9NT1VTRV9PVVQgPSB1bnNhZmVDYXN0U3RyaW5nVG9ET01Ub3BMZXZlbFR5cGUoJ21vdXNlb3V0Jyk7XG52YXIgVE9QX01PVVNFX09WRVIgPSB1bnNhZmVDYXN0U3RyaW5nVG9ET01Ub3BMZXZlbFR5cGUoJ21vdXNlb3ZlcicpO1xudmFyIFRPUF9NT1VTRV9VUCA9IHVuc2FmZUNhc3RTdHJpbmdUb0RPTVRvcExldmVsVHlwZSgnbW91c2V1cCcpO1xudmFyIFRPUF9QQVNURSA9IHVuc2FmZUNhc3RTdHJpbmdUb0RPTVRvcExldmVsVHlwZSgncGFzdGUnKTtcbnZhciBUT1BfUEFVU0UgPSB1bnNhZmVDYXN0U3RyaW5nVG9ET01Ub3BMZXZlbFR5cGUoJ3BhdXNlJyk7XG52YXIgVE9QX1BMQVkgPSB1bnNhZmVDYXN0U3RyaW5nVG9ET01Ub3BMZXZlbFR5cGUoJ3BsYXknKTtcbnZhciBUT1BfUExBWUlORyA9IHVuc2FmZUNhc3RTdHJpbmdUb0RPTVRvcExldmVsVHlwZSgncGxheWluZycpO1xudmFyIFRPUF9QT0lOVEVSX0NBTkNFTCA9IHVuc2FmZUNhc3RTdHJpbmdUb0RPTVRvcExldmVsVHlwZSgncG9pbnRlcmNhbmNlbCcpO1xudmFyIFRPUF9QT0lOVEVSX0RPV04gPSB1bnNhZmVDYXN0U3RyaW5nVG9ET01Ub3BMZXZlbFR5cGUoJ3BvaW50ZXJkb3duJyk7XG5cblxudmFyIFRPUF9QT0lOVEVSX01PVkUgPSB1bnNhZmVDYXN0U3RyaW5nVG9ET01Ub3BMZXZlbFR5cGUoJ3BvaW50ZXJtb3ZlJyk7XG52YXIgVE9QX1BPSU5URVJfT1VUID0gdW5zYWZlQ2FzdFN0cmluZ1RvRE9NVG9wTGV2ZWxUeXBlKCdwb2ludGVyb3V0Jyk7XG52YXIgVE9QX1BPSU5URVJfT1ZFUiA9IHVuc2FmZUNhc3RTdHJpbmdUb0RPTVRvcExldmVsVHlwZSgncG9pbnRlcm92ZXInKTtcbnZhciBUT1BfUE9JTlRFUl9VUCA9IHVuc2FmZUNhc3RTdHJpbmdUb0RPTVRvcExldmVsVHlwZSgncG9pbnRlcnVwJyk7XG52YXIgVE9QX1BST0dSRVNTID0gdW5zYWZlQ2FzdFN0cmluZ1RvRE9NVG9wTGV2ZWxUeXBlKCdwcm9ncmVzcycpO1xudmFyIFRPUF9SQVRFX0NIQU5HRSA9IHVuc2FmZUNhc3RTdHJpbmdUb0RPTVRvcExldmVsVHlwZSgncmF0ZWNoYW5nZScpO1xudmFyIFRPUF9SRVNFVCA9IHVuc2FmZUNhc3RTdHJpbmdUb0RPTVRvcExldmVsVHlwZSgncmVzZXQnKTtcbnZhciBUT1BfU0NST0xMID0gdW5zYWZlQ2FzdFN0cmluZ1RvRE9NVG9wTGV2ZWxUeXBlKCdzY3JvbGwnKTtcbnZhciBUT1BfU0VFS0VEID0gdW5zYWZlQ2FzdFN0cmluZ1RvRE9NVG9wTGV2ZWxUeXBlKCdzZWVrZWQnKTtcbnZhciBUT1BfU0VFS0lORyA9IHVuc2FmZUNhc3RTdHJpbmdUb0RPTVRvcExldmVsVHlwZSgnc2Vla2luZycpO1xudmFyIFRPUF9TRUxFQ1RJT05fQ0hBTkdFID0gdW5zYWZlQ2FzdFN0cmluZ1RvRE9NVG9wTGV2ZWxUeXBlKCdzZWxlY3Rpb25jaGFuZ2UnKTtcbnZhciBUT1BfU1RBTExFRCA9IHVuc2FmZUNhc3RTdHJpbmdUb0RPTVRvcExldmVsVHlwZSgnc3RhbGxlZCcpO1xudmFyIFRPUF9TVUJNSVQgPSB1bnNhZmVDYXN0U3RyaW5nVG9ET01Ub3BMZXZlbFR5cGUoJ3N1Ym1pdCcpO1xudmFyIFRPUF9TVVNQRU5EID0gdW5zYWZlQ2FzdFN0cmluZ1RvRE9NVG9wTGV2ZWxUeXBlKCdzdXNwZW5kJyk7XG52YXIgVE9QX1RFWFRfSU5QVVQgPSB1bnNhZmVDYXN0U3RyaW5nVG9ET01Ub3BMZXZlbFR5cGUoJ3RleHRJbnB1dCcpO1xudmFyIFRPUF9USU1FX1VQREFURSA9IHVuc2FmZUNhc3RTdHJpbmdUb0RPTVRvcExldmVsVHlwZSgndGltZXVwZGF0ZScpO1xudmFyIFRPUF9UT0dHTEUgPSB1bnNhZmVDYXN0U3RyaW5nVG9ET01Ub3BMZXZlbFR5cGUoJ3RvZ2dsZScpO1xudmFyIFRPUF9UT1VDSF9DQU5DRUwgPSB1bnNhZmVDYXN0U3RyaW5nVG9ET01Ub3BMZXZlbFR5cGUoJ3RvdWNoY2FuY2VsJyk7XG52YXIgVE9QX1RPVUNIX0VORCA9IHVuc2FmZUNhc3RTdHJpbmdUb0RPTVRvcExldmVsVHlwZSgndG91Y2hlbmQnKTtcbnZhciBUT1BfVE9VQ0hfTU9WRSA9IHVuc2FmZUNhc3RTdHJpbmdUb0RPTVRvcExldmVsVHlwZSgndG91Y2htb3ZlJyk7XG52YXIgVE9QX1RPVUNIX1NUQVJUID0gdW5zYWZlQ2FzdFN0cmluZ1RvRE9NVG9wTGV2ZWxUeXBlKCd0b3VjaHN0YXJ0Jyk7XG52YXIgVE9QX1RSQU5TSVRJT05fRU5EID0gdW5zYWZlQ2FzdFN0cmluZ1RvRE9NVG9wTGV2ZWxUeXBlKGdldFZlbmRvclByZWZpeGVkRXZlbnROYW1lKCd0cmFuc2l0aW9uZW5kJykpO1xudmFyIFRPUF9WT0xVTUVfQ0hBTkdFID0gdW5zYWZlQ2FzdFN0cmluZ1RvRE9NVG9wTGV2ZWxUeXBlKCd2b2x1bWVjaGFuZ2UnKTtcbnZhciBUT1BfV0FJVElORyA9IHVuc2FmZUNhc3RTdHJpbmdUb0RPTVRvcExldmVsVHlwZSgnd2FpdGluZycpO1xudmFyIFRPUF9XSEVFTCA9IHVuc2FmZUNhc3RTdHJpbmdUb0RPTVRvcExldmVsVHlwZSgnd2hlZWwnKTsgLy8gTGlzdCBvZiBldmVudHMgdGhhdCBuZWVkIHRvIGJlIGluZGl2aWR1YWxseSBhdHRhY2hlZCB0byBtZWRpYSBlbGVtZW50cy5cbi8vIE5vdGUgdGhhdCBldmVudHMgaW4gdGhpcyBsaXN0IHdpbGwgKm5vdCogYmUgbGlzdGVuZWQgdG8gYXQgdGhlIHRvcCBsZXZlbFxuLy8gdW5sZXNzIHRoZXkncmUgZXhwbGljaXRseSB3aGl0ZWxpc3RlZCBpbiBgUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLmxpc3RlblRvYC5cblxudmFyIG1lZGlhRXZlbnRUeXBlcyA9IFtUT1BfQUJPUlQsIFRPUF9DQU5fUExBWSwgVE9QX0NBTl9QTEFZX1RIUk9VR0gsIFRPUF9EVVJBVElPTl9DSEFOR0UsIFRPUF9FTVBUSUVELCBUT1BfRU5DUllQVEVELCBUT1BfRU5ERUQsIFRPUF9FUlJPUiwgVE9QX0xPQURFRF9EQVRBLCBUT1BfTE9BREVEX01FVEFEQVRBLCBUT1BfTE9BRF9TVEFSVCwgVE9QX1BBVVNFLCBUT1BfUExBWSwgVE9QX1BMQVlJTkcsIFRPUF9QUk9HUkVTUywgVE9QX1JBVEVfQ0hBTkdFLCBUT1BfU0VFS0VELCBUT1BfU0VFS0lORywgVE9QX1NUQUxMRUQsIFRPUF9TVVNQRU5ELCBUT1BfVElNRV9VUERBVEUsIFRPUF9WT0xVTUVfQ0hBTkdFLCBUT1BfV0FJVElOR107XG5mdW5jdGlvbiBnZXRSYXdFdmVudE5hbWUodG9wTGV2ZWxUeXBlKSB7XG4gIHJldHVybiB1bnNhZmVDYXN0RE9NVG9wTGV2ZWxUeXBlVG9TdHJpbmcodG9wTGV2ZWxUeXBlKTtcbn1cblxuLyoqXG4gKiBgUmVhY3RJbnN0YW5jZU1hcGAgbWFpbnRhaW5zIGEgbWFwcGluZyBmcm9tIGEgcHVibGljIGZhY2luZyBzdGF0ZWZ1bFxuICogaW5zdGFuY2UgKGtleSkgYW5kIHRoZSBpbnRlcm5hbCByZXByZXNlbnRhdGlvbiAodmFsdWUpLiBUaGlzIGFsbG93cyBwdWJsaWNcbiAqIG1ldGhvZHMgdG8gYWNjZXB0IHRoZSB1c2VyIGZhY2luZyBpbnN0YW5jZSBhcyBhbiBhcmd1bWVudCBhbmQgbWFwIHRoZW0gYmFja1xuICogdG8gaW50ZXJuYWwgbWV0aG9kcy5cbiAqXG4gKiBOb3RlIHRoYXQgdGhpcyBtb2R1bGUgaXMgY3VycmVudGx5IHNoYXJlZCBhbmQgYXNzdW1lZCB0byBiZSBzdGF0ZWxlc3MuXG4gKiBJZiB0aGlzIGJlY29tZXMgYW4gYWN0dWFsIE1hcCwgdGhhdCB3aWxsIGJyZWFrLlxuICovXG5cbi8qKlxuICogVGhpcyBBUEkgc2hvdWxkIGJlIGNhbGxlZCBgZGVsZXRlYCBidXQgd2UnZCBoYXZlIHRvIG1ha2Ugc3VyZSB0byBhbHdheXNcbiAqIHRyYW5zZm9ybSB0aGVzZSB0byBzdHJpbmdzIGZvciBJRSBzdXBwb3J0LiBXaGVuIHRoaXMgdHJhbnNmb3JtIGlzIGZ1bGx5XG4gKiBzdXBwb3J0ZWQgd2UgY2FuIHJlbmFtZSBpdC5cbiAqL1xuXG5mdW5jdGlvbiBnZXQoa2V5KSB7XG4gIHJldHVybiBrZXkuX3JlYWN0SW50ZXJuYWxGaWJlcjtcbn1cbmZ1bmN0aW9uIGhhcyhrZXkpIHtcbiAgcmV0dXJuIGtleS5fcmVhY3RJbnRlcm5hbEZpYmVyICE9PSB1bmRlZmluZWQ7XG59XG5mdW5jdGlvbiBzZXQoa2V5LCB2YWx1ZSkge1xuICBrZXkuX3JlYWN0SW50ZXJuYWxGaWJlciA9IHZhbHVlO1xufVxuXG4vLyBEb24ndCBjaGFuZ2UgdGhlc2UgdHdvIHZhbHVlcy4gVGhleSdyZSB1c2VkIGJ5IFJlYWN0IERldiBUb29scy5cbnZhciBOb0VmZmVjdCA9XG4vKiAgICAgICAgICAgICAgKi9cbjA7XG52YXIgUGVyZm9ybWVkV29yayA9XG4vKiAgICAgICAgICovXG4xOyAvLyBZb3UgY2FuIGNoYW5nZSB0aGUgcmVzdCAoYW5kIGFkZCBtb3JlKS5cblxudmFyIFBsYWNlbWVudCA9XG4vKiAgICAgICAgICAgICAqL1xuMjtcbnZhciBVcGRhdGUgPVxuLyogICAgICAgICAgICAgICAgKi9cbjQ7XG52YXIgUGxhY2VtZW50QW5kVXBkYXRlID1cbi8qICAgICovXG42O1xudmFyIERlbGV0aW9uID1cbi8qICAgICAgICAgICAgICAqL1xuODtcbnZhciBDb250ZW50UmVzZXQgPVxuLyogICAgICAgICAgKi9cbjE2O1xudmFyIENhbGxiYWNrID1cbi8qICAgICAgICAgICAgICAqL1xuMzI7XG52YXIgRGlkQ2FwdHVyZSA9XG4vKiAgICAgICAgICAgICovXG42NDtcbnZhciBSZWYgPVxuLyogICAgICAgICAgICAgICAgICAgKi9cbjEyODtcbnZhciBTbmFwc2hvdCA9XG4vKiAgICAgICAgICAgICAgKi9cbjI1NjtcbnZhciBQYXNzaXZlID1cbi8qICAgICAgICAgICAgICAgKi9cbjUxMjtcbnZhciBIeWRyYXRpbmcgPVxuLyogICAgICAgICAgICAgKi9cbjEwMjQ7XG52YXIgSHlkcmF0aW5nQW5kVXBkYXRlID1cbi8qICAgICovXG4xMDI4OyAvLyBQYXNzaXZlICYgVXBkYXRlICYgQ2FsbGJhY2sgJiBSZWYgJiBTbmFwc2hvdFxuXG52YXIgTGlmZWN5Y2xlRWZmZWN0TWFzayA9XG4vKiAgICovXG45MzI7IC8vIFVuaW9uIG9mIGFsbCBob3N0IGVmZmVjdHNcblxudmFyIEhvc3RFZmZlY3RNYXNrID1cbi8qICAgICAgICAqL1xuMjA0NztcbnZhciBJbmNvbXBsZXRlID1cbi8qICAgICAgICAgICAgKi9cbjIwNDg7XG52YXIgU2hvdWxkQ2FwdHVyZSA9XG4vKiAgICAgICAgICovXG40MDk2O1xuXG52YXIgUmVhY3RDdXJyZW50T3duZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5SZWFjdEN1cnJlbnRPd25lcjtcbmZ1bmN0aW9uIGdldE5lYXJlc3RNb3VudGVkRmliZXIoZmliZXIpIHtcbiAgdmFyIG5vZGUgPSBmaWJlcjtcbiAgdmFyIG5lYXJlc3RNb3VudGVkID0gZmliZXI7XG5cbiAgaWYgKCFmaWJlci5hbHRlcm5hdGUpIHtcbiAgICAvLyBJZiB0aGVyZSBpcyBubyBhbHRlcm5hdGUsIHRoaXMgbWlnaHQgYmUgYSBuZXcgdHJlZSB0aGF0IGlzbid0IGluc2VydGVkXG4gICAgLy8geWV0LiBJZiBpdCBpcywgdGhlbiBpdCB3aWxsIGhhdmUgYSBwZW5kaW5nIGluc2VydGlvbiBlZmZlY3Qgb24gaXQuXG4gICAgdmFyIG5leHROb2RlID0gbm9kZTtcblxuICAgIGRvIHtcbiAgICAgIG5vZGUgPSBuZXh0Tm9kZTtcblxuICAgICAgaWYgKChub2RlLmVmZmVjdFRhZyAmIChQbGFjZW1lbnQgfCBIeWRyYXRpbmcpKSAhPT0gTm9FZmZlY3QpIHtcbiAgICAgICAgLy8gVGhpcyBpcyBhbiBpbnNlcnRpb24gb3IgaW4tcHJvZ3Jlc3MgaHlkcmF0aW9uLiBUaGUgbmVhcmVzdCBwb3NzaWJsZVxuICAgICAgICAvLyBtb3VudGVkIGZpYmVyIGlzIHRoZSBwYXJlbnQgYnV0IHdlIG5lZWQgdG8gY29udGludWUgdG8gZmlndXJlIG91dFxuICAgICAgICAvLyBpZiB0aGF0IG9uZSBpcyBzdGlsbCBtb3VudGVkLlxuICAgICAgICBuZWFyZXN0TW91bnRlZCA9IG5vZGUucmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBuZXh0Tm9kZSA9IG5vZGUucmV0dXJuO1xuICAgIH0gd2hpbGUgKG5leHROb2RlKTtcbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAobm9kZS5yZXR1cm4pIHtcbiAgICAgIG5vZGUgPSBub2RlLnJldHVybjtcbiAgICB9XG4gIH1cblxuICBpZiAobm9kZS50YWcgPT09IEhvc3RSb290KSB7XG4gICAgLy8gVE9ETzogQ2hlY2sgaWYgdGhpcyB3YXMgYSBuZXN0ZWQgSG9zdFJvb3Qgd2hlbiB1c2VkIHdpdGhcbiAgICAvLyByZW5kZXJDb250YWluZXJJbnRvU3VidHJlZS5cbiAgICByZXR1cm4gbmVhcmVzdE1vdW50ZWQ7XG4gIH0gLy8gSWYgd2UgZGlkbid0IGhpdCB0aGUgcm9vdCwgdGhhdCBtZWFucyB0aGF0IHdlJ3JlIGluIGFuIGRpc2Nvbm5lY3RlZCB0cmVlXG4gIC8vIHRoYXQgaGFzIGJlZW4gdW5tb3VudGVkLlxuXG5cbiAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBnZXRTdXNwZW5zZUluc3RhbmNlRnJvbUZpYmVyKGZpYmVyKSB7XG4gIGlmIChmaWJlci50YWcgPT09IFN1c3BlbnNlQ29tcG9uZW50KSB7XG4gICAgdmFyIHN1c3BlbnNlU3RhdGUgPSBmaWJlci5tZW1vaXplZFN0YXRlO1xuXG4gICAgaWYgKHN1c3BlbnNlU3RhdGUgPT09IG51bGwpIHtcbiAgICAgIHZhciBjdXJyZW50ID0gZmliZXIuYWx0ZXJuYXRlO1xuXG4gICAgICBpZiAoY3VycmVudCAhPT0gbnVsbCkge1xuICAgICAgICBzdXNwZW5zZVN0YXRlID0gY3VycmVudC5tZW1vaXplZFN0YXRlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzdXNwZW5zZVN0YXRlICE9PSBudWxsKSB7XG4gICAgICByZXR1cm4gc3VzcGVuc2VTdGF0ZS5kZWh5ZHJhdGVkO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gZ2V0Q29udGFpbmVyRnJvbUZpYmVyKGZpYmVyKSB7XG4gIHJldHVybiBmaWJlci50YWcgPT09IEhvc3RSb290ID8gZmliZXIuc3RhdGVOb2RlLmNvbnRhaW5lckluZm8gOiBudWxsO1xufVxuZnVuY3Rpb24gaXNGaWJlck1vdW50ZWQoZmliZXIpIHtcbiAgcmV0dXJuIGdldE5lYXJlc3RNb3VudGVkRmliZXIoZmliZXIpID09PSBmaWJlcjtcbn1cbmZ1bmN0aW9uIGlzTW91bnRlZChjb21wb25lbnQpIHtcbiAge1xuICAgIHZhciBvd25lciA9IFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQ7XG5cbiAgICBpZiAob3duZXIgIT09IG51bGwgJiYgb3duZXIudGFnID09PSBDbGFzc0NvbXBvbmVudCkge1xuICAgICAgdmFyIG93bmVyRmliZXIgPSBvd25lcjtcbiAgICAgIHZhciBpbnN0YW5jZSA9IG93bmVyRmliZXIuc3RhdGVOb2RlO1xuICAgICAgIWluc3RhbmNlLl93YXJuZWRBYm91dFJlZnNJblJlbmRlciA/IHdhcm5pbmdXaXRob3V0U3RhY2skMShmYWxzZSwgJyVzIGlzIGFjY2Vzc2luZyBpc01vdW50ZWQgaW5zaWRlIGl0cyByZW5kZXIoKSBmdW5jdGlvbi4gJyArICdyZW5kZXIoKSBzaG91bGQgYmUgYSBwdXJlIGZ1bmN0aW9uIG9mIHByb3BzIGFuZCBzdGF0ZS4gSXQgc2hvdWxkICcgKyAnbmV2ZXIgYWNjZXNzIHNvbWV0aGluZyB0aGF0IHJlcXVpcmVzIHN0YWxlIGRhdGEgZnJvbSB0aGUgcHJldmlvdXMgJyArICdyZW5kZXIsIHN1Y2ggYXMgcmVmcy4gTW92ZSB0aGlzIGxvZ2ljIHRvIGNvbXBvbmVudERpZE1vdW50IGFuZCAnICsgJ2NvbXBvbmVudERpZFVwZGF0ZSBpbnN0ZWFkLicsIGdldENvbXBvbmVudE5hbWUob3duZXJGaWJlci50eXBlKSB8fCAnQSBjb21wb25lbnQnKSA6IHZvaWQgMDtcbiAgICAgIGluc3RhbmNlLl93YXJuZWRBYm91dFJlZnNJblJlbmRlciA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgdmFyIGZpYmVyID0gZ2V0KGNvbXBvbmVudCk7XG5cbiAgaWYgKCFmaWJlcikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiBnZXROZWFyZXN0TW91bnRlZEZpYmVyKGZpYmVyKSA9PT0gZmliZXI7XG59XG5cbmZ1bmN0aW9uIGFzc2VydElzTW91bnRlZChmaWJlcikge1xuICBpZiAoIShnZXROZWFyZXN0TW91bnRlZEZpYmVyKGZpYmVyKSA9PT0gZmliZXIpKSB7XG4gICAge1xuICAgICAgdGhyb3cgRXJyb3IoXCJVbmFibGUgdG8gZmluZCBub2RlIG9uIGFuIHVubW91bnRlZCBjb21wb25lbnQuXCIpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBmaW5kQ3VycmVudEZpYmVyVXNpbmdTbG93UGF0aChmaWJlcikge1xuICB2YXIgYWx0ZXJuYXRlID0gZmliZXIuYWx0ZXJuYXRlO1xuXG4gIGlmICghYWx0ZXJuYXRlKSB7XG4gICAgLy8gSWYgdGhlcmUgaXMgbm8gYWx0ZXJuYXRlLCB0aGVuIHdlIG9ubHkgbmVlZCB0byBjaGVjayBpZiBpdCBpcyBtb3VudGVkLlxuICAgIHZhciBuZWFyZXN0TW91bnRlZCA9IGdldE5lYXJlc3RNb3VudGVkRmliZXIoZmliZXIpO1xuXG4gICAgaWYgKCEobmVhcmVzdE1vdW50ZWQgIT09IG51bGwpKSB7XG4gICAgICB7XG4gICAgICAgIHRocm93IEVycm9yKFwiVW5hYmxlIHRvIGZpbmQgbm9kZSBvbiBhbiB1bm1vdW50ZWQgY29tcG9uZW50LlwiKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobmVhcmVzdE1vdW50ZWQgIT09IGZpYmVyKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gZmliZXI7XG4gIH0gLy8gSWYgd2UgaGF2ZSB0d28gcG9zc2libGUgYnJhbmNoZXMsIHdlJ2xsIHdhbGsgYmFja3dhcmRzIHVwIHRvIHRoZSByb290XG4gIC8vIHRvIHNlZSB3aGF0IHBhdGggdGhlIHJvb3QgcG9pbnRzIHRvLiBPbiB0aGUgd2F5IHdlIG1heSBoaXQgb25lIG9mIHRoZVxuICAvLyBzcGVjaWFsIGNhc2VzIGFuZCB3ZSdsbCBkZWFsIHdpdGggdGhlbS5cblxuXG4gIHZhciBhID0gZmliZXI7XG4gIHZhciBiID0gYWx0ZXJuYXRlO1xuXG4gIHdoaWxlICh0cnVlKSB7XG4gICAgdmFyIHBhcmVudEEgPSBhLnJldHVybjtcblxuICAgIGlmIChwYXJlbnRBID09PSBudWxsKSB7XG4gICAgICAvLyBXZSdyZSBhdCB0aGUgcm9vdC5cbiAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIHZhciBwYXJlbnRCID0gcGFyZW50QS5hbHRlcm5hdGU7XG5cbiAgICBpZiAocGFyZW50QiA9PT0gbnVsbCkge1xuICAgICAgLy8gVGhlcmUgaXMgbm8gYWx0ZXJuYXRlLiBUaGlzIGlzIGFuIHVudXN1YWwgY2FzZS4gQ3VycmVudGx5LCBpdCBvbmx5XG4gICAgICAvLyBoYXBwZW5zIHdoZW4gYSBTdXNwZW5zZSBjb21wb25lbnQgaXMgaGlkZGVuLiBBbiBleHRyYSBmcmFnbWVudCBmaWJlclxuICAgICAgLy8gaXMgaW5zZXJ0ZWQgaW4gYmV0d2VlbiB0aGUgU3VzcGVuc2UgZmliZXIgYW5kIGl0cyBjaGlsZHJlbi4gU2tpcFxuICAgICAgLy8gb3ZlciB0aGlzIGV4dHJhIGZyYWdtZW50IGZpYmVyIGFuZCBwcm9jZWVkIHRvIHRoZSBuZXh0IHBhcmVudC5cbiAgICAgIHZhciBuZXh0UGFyZW50ID0gcGFyZW50QS5yZXR1cm47XG5cbiAgICAgIGlmIChuZXh0UGFyZW50ICE9PSBudWxsKSB7XG4gICAgICAgIGEgPSBiID0gbmV4dFBhcmVudDtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9IC8vIElmIHRoZXJlJ3Mgbm8gcGFyZW50LCB3ZSdyZSBhdCB0aGUgcm9vdC5cblxuXG4gICAgICBicmVhaztcbiAgICB9IC8vIElmIGJvdGggY29waWVzIG9mIHRoZSBwYXJlbnQgZmliZXIgcG9pbnQgdG8gdGhlIHNhbWUgY2hpbGQsIHdlIGNhblxuICAgIC8vIGFzc3VtZSB0aGF0IHRoZSBjaGlsZCBpcyBjdXJyZW50LiBUaGlzIGhhcHBlbnMgd2hlbiB3ZSBiYWlsb3V0IG9uIGxvd1xuICAgIC8vIHByaW9yaXR5OiB0aGUgYmFpbGVkIG91dCBmaWJlcidzIGNoaWxkIHJldXNlcyB0aGUgY3VycmVudCBjaGlsZC5cblxuXG4gICAgaWYgKHBhcmVudEEuY2hpbGQgPT09IHBhcmVudEIuY2hpbGQpIHtcbiAgICAgIHZhciBjaGlsZCA9IHBhcmVudEEuY2hpbGQ7XG5cbiAgICAgIHdoaWxlIChjaGlsZCkge1xuICAgICAgICBpZiAoY2hpbGQgPT09IGEpIHtcbiAgICAgICAgICAvLyBXZSd2ZSBkZXRlcm1pbmVkIHRoYXQgQSBpcyB0aGUgY3VycmVudCBicmFuY2guXG4gICAgICAgICAgYXNzZXJ0SXNNb3VudGVkKHBhcmVudEEpO1xuICAgICAgICAgIHJldHVybiBmaWJlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjaGlsZCA9PT0gYikge1xuICAgICAgICAgIC8vIFdlJ3ZlIGRldGVybWluZWQgdGhhdCBCIGlzIHRoZSBjdXJyZW50IGJyYW5jaC5cbiAgICAgICAgICBhc3NlcnRJc01vdW50ZWQocGFyZW50QSk7XG4gICAgICAgICAgcmV0dXJuIGFsdGVybmF0ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNoaWxkID0gY2hpbGQuc2libGluZztcbiAgICAgIH0gLy8gV2Ugc2hvdWxkIG5ldmVyIGhhdmUgYW4gYWx0ZXJuYXRlIGZvciBhbnkgbW91bnRpbmcgbm9kZS4gU28gdGhlIG9ubHlcbiAgICAgIC8vIHdheSB0aGlzIGNvdWxkIHBvc3NpYmx5IGhhcHBlbiBpcyBpZiB0aGlzIHdhcyB1bm1vdW50ZWQsIGlmIGF0IGFsbC5cblxuXG4gICAgICB7XG4gICAgICAgIHtcbiAgICAgICAgICB0aHJvdyBFcnJvcihcIlVuYWJsZSB0byBmaW5kIG5vZGUgb24gYW4gdW5tb3VudGVkIGNvbXBvbmVudC5cIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoYS5yZXR1cm4gIT09IGIucmV0dXJuKSB7XG4gICAgICAvLyBUaGUgcmV0dXJuIHBvaW50ZXIgb2YgQSBhbmQgdGhlIHJldHVybiBwb2ludGVyIG9mIEIgcG9pbnQgdG8gZGlmZmVyZW50XG4gICAgICAvLyBmaWJlcnMuIFdlIGFzc3VtZSB0aGF0IHJldHVybiBwb2ludGVycyBuZXZlciBjcmlzcy1jcm9zcywgc28gQSBtdXN0XG4gICAgICAvLyBiZWxvbmcgdG8gdGhlIGNoaWxkIHNldCBvZiBBLnJldHVybiwgYW5kIEIgbXVzdCBiZWxvbmcgdG8gdGhlIGNoaWxkXG4gICAgICAvLyBzZXQgb2YgQi5yZXR1cm4uXG4gICAgICBhID0gcGFyZW50QTtcbiAgICAgIGIgPSBwYXJlbnRCO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBUaGUgcmV0dXJuIHBvaW50ZXJzIHBvaW50IHRvIHRoZSBzYW1lIGZpYmVyLiBXZSdsbCBoYXZlIHRvIHVzZSB0aGVcbiAgICAgIC8vIGRlZmF1bHQsIHNsb3cgcGF0aDogc2NhbiB0aGUgY2hpbGQgc2V0cyBvZiBlYWNoIHBhcmVudCBhbHRlcm5hdGUgdG8gc2VlXG4gICAgICAvLyB3aGljaCBjaGlsZCBiZWxvbmdzIHRvIHdoaWNoIHNldC5cbiAgICAgIC8vXG4gICAgICAvLyBTZWFyY2ggcGFyZW50IEEncyBjaGlsZCBzZXRcbiAgICAgIHZhciBkaWRGaW5kQ2hpbGQgPSBmYWxzZTtcbiAgICAgIHZhciBfY2hpbGQgPSBwYXJlbnRBLmNoaWxkO1xuXG4gICAgICB3aGlsZSAoX2NoaWxkKSB7XG4gICAgICAgIGlmIChfY2hpbGQgPT09IGEpIHtcbiAgICAgICAgICBkaWRGaW5kQ2hpbGQgPSB0cnVlO1xuICAgICAgICAgIGEgPSBwYXJlbnRBO1xuICAgICAgICAgIGIgPSBwYXJlbnRCO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKF9jaGlsZCA9PT0gYikge1xuICAgICAgICAgIGRpZEZpbmRDaGlsZCA9IHRydWU7XG4gICAgICAgICAgYiA9IHBhcmVudEE7XG4gICAgICAgICAgYSA9IHBhcmVudEI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBfY2hpbGQgPSBfY2hpbGQuc2libGluZztcbiAgICAgIH1cblxuICAgICAgaWYgKCFkaWRGaW5kQ2hpbGQpIHtcbiAgICAgICAgLy8gU2VhcmNoIHBhcmVudCBCJ3MgY2hpbGQgc2V0XG4gICAgICAgIF9jaGlsZCA9IHBhcmVudEIuY2hpbGQ7XG5cbiAgICAgICAgd2hpbGUgKF9jaGlsZCkge1xuICAgICAgICAgIGlmIChfY2hpbGQgPT09IGEpIHtcbiAgICAgICAgICAgIGRpZEZpbmRDaGlsZCA9IHRydWU7XG4gICAgICAgICAgICBhID0gcGFyZW50QjtcbiAgICAgICAgICAgIGIgPSBwYXJlbnRBO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKF9jaGlsZCA9PT0gYikge1xuICAgICAgICAgICAgZGlkRmluZENoaWxkID0gdHJ1ZTtcbiAgICAgICAgICAgIGIgPSBwYXJlbnRCO1xuICAgICAgICAgICAgYSA9IHBhcmVudEE7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBfY2hpbGQgPSBfY2hpbGQuc2libGluZztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZGlkRmluZENoaWxkKSB7XG4gICAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJDaGlsZCB3YXMgbm90IGZvdW5kIGluIGVpdGhlciBwYXJlbnQgc2V0LiBUaGlzIGluZGljYXRlcyBhIGJ1ZyBpbiBSZWFjdCByZWxhdGVkIHRvIHRoZSByZXR1cm4gcG9pbnRlci4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghKGEuYWx0ZXJuYXRlID09PSBiKSkge1xuICAgICAge1xuICAgICAgICB0aHJvdyBFcnJvcihcIlJldHVybiBmaWJlcnMgc2hvdWxkIGFsd2F5cyBiZSBlYWNoIG90aGVycycgYWx0ZXJuYXRlcy4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIik7XG4gICAgICB9XG4gICAgfVxuICB9IC8vIElmIHRoZSByb290IGlzIG5vdCBhIGhvc3QgY29udGFpbmVyLCB3ZSdyZSBpbiBhIGRpc2Nvbm5lY3RlZCB0cmVlLiBJLmUuXG4gIC8vIHVubW91bnRlZC5cblxuXG4gIGlmICghKGEudGFnID09PSBIb3N0Um9vdCkpIHtcbiAgICB7XG4gICAgICB0aHJvdyBFcnJvcihcIlVuYWJsZSB0byBmaW5kIG5vZGUgb24gYW4gdW5tb3VudGVkIGNvbXBvbmVudC5cIik7XG4gICAgfVxuICB9XG5cbiAgaWYgKGEuc3RhdGVOb2RlLmN1cnJlbnQgPT09IGEpIHtcbiAgICAvLyBXZSd2ZSBkZXRlcm1pbmVkIHRoYXQgQSBpcyB0aGUgY3VycmVudCBicmFuY2guXG4gICAgcmV0dXJuIGZpYmVyO1xuICB9IC8vIE90aGVyd2lzZSBCIGhhcyB0byBiZSBjdXJyZW50IGJyYW5jaC5cblxuXG4gIHJldHVybiBhbHRlcm5hdGU7XG59XG5mdW5jdGlvbiBmaW5kQ3VycmVudEhvc3RGaWJlcihwYXJlbnQpIHtcbiAgdmFyIGN1cnJlbnRQYXJlbnQgPSBmaW5kQ3VycmVudEZpYmVyVXNpbmdTbG93UGF0aChwYXJlbnQpO1xuXG4gIGlmICghY3VycmVudFBhcmVudCkge1xuICAgIHJldHVybiBudWxsO1xuICB9IC8vIE5leHQgd2UnbGwgZHJpbGwgZG93biB0aGlzIGNvbXBvbmVudCB0byBmaW5kIHRoZSBmaXJzdCBIb3N0Q29tcG9uZW50L1RleHQuXG5cblxuICB2YXIgbm9kZSA9IGN1cnJlbnRQYXJlbnQ7XG5cbiAgd2hpbGUgKHRydWUpIHtcbiAgICBpZiAobm9kZS50YWcgPT09IEhvc3RDb21wb25lbnQgfHwgbm9kZS50YWcgPT09IEhvc3RUZXh0KSB7XG4gICAgICByZXR1cm4gbm9kZTtcbiAgICB9IGVsc2UgaWYgKG5vZGUuY2hpbGQpIHtcbiAgICAgIG5vZGUuY2hpbGQucmV0dXJuID0gbm9kZTtcbiAgICAgIG5vZGUgPSBub2RlLmNoaWxkO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKG5vZGUgPT09IGN1cnJlbnRQYXJlbnQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHdoaWxlICghbm9kZS5zaWJsaW5nKSB7XG4gICAgICBpZiAoIW5vZGUucmV0dXJuIHx8IG5vZGUucmV0dXJuID09PSBjdXJyZW50UGFyZW50KSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICBub2RlID0gbm9kZS5yZXR1cm47XG4gICAgfVxuXG4gICAgbm9kZS5zaWJsaW5nLnJldHVybiA9IG5vZGUucmV0dXJuO1xuICAgIG5vZGUgPSBub2RlLnNpYmxpbmc7XG4gIH0gLy8gRmxvdyBuZWVkcyB0aGUgcmV0dXJuIG51bGwgaGVyZSwgYnV0IEVTTGludCBjb21wbGFpbnMgYWJvdXQgaXQuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnJlYWNoYWJsZVxuXG5cbiAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBmaW5kQ3VycmVudEhvc3RGaWJlcldpdGhOb1BvcnRhbHMocGFyZW50KSB7XG4gIHZhciBjdXJyZW50UGFyZW50ID0gZmluZEN1cnJlbnRGaWJlclVzaW5nU2xvd1BhdGgocGFyZW50KTtcblxuICBpZiAoIWN1cnJlbnRQYXJlbnQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfSAvLyBOZXh0IHdlJ2xsIGRyaWxsIGRvd24gdGhpcyBjb21wb25lbnQgdG8gZmluZCB0aGUgZmlyc3QgSG9zdENvbXBvbmVudC9UZXh0LlxuXG5cbiAgdmFyIG5vZGUgPSBjdXJyZW50UGFyZW50O1xuXG4gIHdoaWxlICh0cnVlKSB7XG4gICAgaWYgKG5vZGUudGFnID09PSBIb3N0Q29tcG9uZW50IHx8IG5vZGUudGFnID09PSBIb3N0VGV4dCB8fCBlbmFibGVGdW5kYW1lbnRhbEFQSSAmJiBub2RlLnRhZyA9PT0gRnVuZGFtZW50YWxDb21wb25lbnQpIHtcbiAgICAgIHJldHVybiBub2RlO1xuICAgIH0gZWxzZSBpZiAobm9kZS5jaGlsZCAmJiBub2RlLnRhZyAhPT0gSG9zdFBvcnRhbCkge1xuICAgICAgbm9kZS5jaGlsZC5yZXR1cm4gPSBub2RlO1xuICAgICAgbm9kZSA9IG5vZGUuY2hpbGQ7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBpZiAobm9kZSA9PT0gY3VycmVudFBhcmVudCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgd2hpbGUgKCFub2RlLnNpYmxpbmcpIHtcbiAgICAgIGlmICghbm9kZS5yZXR1cm4gfHwgbm9kZS5yZXR1cm4gPT09IGN1cnJlbnRQYXJlbnQpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIG5vZGUgPSBub2RlLnJldHVybjtcbiAgICB9XG5cbiAgICBub2RlLnNpYmxpbmcucmV0dXJuID0gbm9kZS5yZXR1cm47XG4gICAgbm9kZSA9IG5vZGUuc2libGluZztcbiAgfSAvLyBGbG93IG5lZWRzIHRoZSByZXR1cm4gbnVsbCBoZXJlLCBidXQgRVNMaW50IGNvbXBsYWlucyBhYm91dCBpdC5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVucmVhY2hhYmxlXG5cblxuICByZXR1cm4gbnVsbDtcbn1cblxudmFyIGF0dGVtcHRTeW5jaHJvbm91c0h5ZHJhdGlvbjtcbmZ1bmN0aW9uIHNldEF0dGVtcHRTeW5jaHJvbm91c0h5ZHJhdGlvbihmbikge1xuICBhdHRlbXB0U3luY2hyb25vdXNIeWRyYXRpb24gPSBmbjtcbn1cbnZhciBhdHRlbXB0VXNlckJsb2NraW5nSHlkcmF0aW9uO1xuZnVuY3Rpb24gc2V0QXR0ZW1wdFVzZXJCbG9ja2luZ0h5ZHJhdGlvbihmbikge1xuICBhdHRlbXB0VXNlckJsb2NraW5nSHlkcmF0aW9uID0gZm47XG59XG52YXIgYXR0ZW1wdENvbnRpbnVvdXNIeWRyYXRpb247XG5mdW5jdGlvbiBzZXRBdHRlbXB0Q29udGludW91c0h5ZHJhdGlvbihmbikge1xuICBhdHRlbXB0Q29udGludW91c0h5ZHJhdGlvbiA9IGZuO1xufVxudmFyIGF0dGVtcHRIeWRyYXRpb25BdEN1cnJlbnRQcmlvcml0eTtcbmZ1bmN0aW9uIHNldEF0dGVtcHRIeWRyYXRpb25BdEN1cnJlbnRQcmlvcml0eShmbikge1xuICBhdHRlbXB0SHlkcmF0aW9uQXRDdXJyZW50UHJpb3JpdHkgPSBmbjtcbn0gLy8gVE9ETzogVXBncmFkZSB0aGlzIGRlZmluaXRpb24gb25jZSB3ZSdyZSBvbiBhIG5ld2VyIHZlcnNpb24gb2YgRmxvdyB0aGF0XG4vLyBoYXMgdGhpcyBkZWZpbml0aW9uIGJ1aWx0LWluLlxuXG52YXIgaGFzU2NoZWR1bGVkUmVwbGF5QXR0ZW1wdCA9IGZhbHNlOyAvLyBUaGUgcXVldWUgb2YgZGlzY3JldGUgZXZlbnRzIHRvIGJlIHJlcGxheWVkLlxuXG52YXIgcXVldWVkRGlzY3JldGVFdmVudHMgPSBbXTsgLy8gSW5kaWNhdGVzIGlmIGFueSBjb250aW51b3VzIGV2ZW50IHRhcmdldHMgYXJlIG5vbi1udWxsIGZvciBlYXJseSBiYWlsb3V0LlxuXG4vLyBpZiB0aGUgbGFzdCB0YXJnZXQgd2FzIGRlaHlkcmF0ZWQuXG5cbnZhciBxdWV1ZWRGb2N1cyA9IG51bGw7XG52YXIgcXVldWVkRHJhZyA9IG51bGw7XG52YXIgcXVldWVkTW91c2UgPSBudWxsOyAvLyBGb3IgcG9pbnRlciBldmVudHMgdGhlcmUgY2FuIGJlIG9uZSBsYXRlc3QgZXZlbnQgcGVyIHBvaW50ZXJJZC5cblxudmFyIHF1ZXVlZFBvaW50ZXJzID0gbmV3IE1hcCgpO1xudmFyIHF1ZXVlZFBvaW50ZXJDYXB0dXJlcyA9IG5ldyBNYXAoKTsgLy8gV2UgY291bGQgY29uc2lkZXIgcmVwbGF5aW5nIHNlbGVjdGlvbmNoYW5nZSBhbmQgdG91Y2htb3ZlcyB0b28uXG5cbnZhciBxdWV1ZWRFeHBsaWNpdEh5ZHJhdGlvblRhcmdldHMgPSBbXTtcbmZ1bmN0aW9uIGhhc1F1ZXVlZERpc2NyZXRlRXZlbnRzKCkge1xuICByZXR1cm4gcXVldWVkRGlzY3JldGVFdmVudHMubGVuZ3RoID4gMDtcbn1cblxudmFyIGRpc2NyZXRlUmVwbGF5YWJsZUV2ZW50cyA9IFtUT1BfTU9VU0VfRE9XTiwgVE9QX01PVVNFX1VQLCBUT1BfVE9VQ0hfQ0FOQ0VMLCBUT1BfVE9VQ0hfRU5ELCBUT1BfVE9VQ0hfU1RBUlQsIFRPUF9BVVhfQ0xJQ0ssIFRPUF9ET1VCTEVfQ0xJQ0ssIFRPUF9QT0lOVEVSX0NBTkNFTCwgVE9QX1BPSU5URVJfRE9XTiwgVE9QX1BPSU5URVJfVVAsIFRPUF9EUkFHX0VORCwgVE9QX0RSQUdfU1RBUlQsIFRPUF9EUk9QLCBUT1BfQ09NUE9TSVRJT05fRU5ELCBUT1BfQ09NUE9TSVRJT05fU1RBUlQsIFRPUF9LRVlfRE9XTiwgVE9QX0tFWV9QUkVTUywgVE9QX0tFWV9VUCwgVE9QX0lOUFVULCBUT1BfVEVYVF9JTlBVVCwgVE9QX0NMT1NFLCBUT1BfQ0FOQ0VMLCBUT1BfQ09QWSwgVE9QX0NVVCwgVE9QX1BBU1RFLCBUT1BfQ0xJQ0ssIFRPUF9DSEFOR0UsIFRPUF9DT05URVhUX01FTlUsIFRPUF9SRVNFVCwgVE9QX1NVQk1JVF07XG52YXIgY29udGludW91c1JlcGxheWFibGVFdmVudHMgPSBbVE9QX0ZPQ1VTLCBUT1BfQkxVUiwgVE9QX0RSQUdfRU5URVIsIFRPUF9EUkFHX0xFQVZFLCBUT1BfTU9VU0VfT1ZFUiwgVE9QX01PVVNFX09VVCwgVE9QX1BPSU5URVJfT1ZFUiwgVE9QX1BPSU5URVJfT1VULCBUT1BfR09UX1BPSU5URVJfQ0FQVFVSRSwgVE9QX0xPU1RfUE9JTlRFUl9DQVBUVVJFXTtcbmZ1bmN0aW9uIGlzUmVwbGF5YWJsZURpc2NyZXRlRXZlbnQoZXZlbnRUeXBlKSB7XG4gIHJldHVybiBkaXNjcmV0ZVJlcGxheWFibGVFdmVudHMuaW5kZXhPZihldmVudFR5cGUpID4gLTE7XG59XG5cbmZ1bmN0aW9uIHRyYXBSZXBsYXlhYmxlRXZlbnQodG9wTGV2ZWxUeXBlLCBkb2N1bWVudCwgbGlzdGVuaW5nU2V0KSB7XG4gIGxpc3RlblRvVG9wTGV2ZWwodG9wTGV2ZWxUeXBlLCBkb2N1bWVudCwgbGlzdGVuaW5nU2V0KTtcblxuICBpZiAoZW5hYmxlRmxhcmVBUEkpIHtcbiAgICAvLyBUcmFwIGV2ZW50cyBmb3IgdGhlIHJlc3BvbmRlciBzeXN0ZW0uXG4gICAgdmFyIHBhc3NpdmVFdmVudEtleSA9IHVuc2FmZUNhc3RET01Ub3BMZXZlbFR5cGVUb1N0cmluZyh0b3BMZXZlbFR5cGUpICsgJ19wYXNzaXZlJztcblxuICAgIGlmICghbGlzdGVuaW5nU2V0LmhhcyhwYXNzaXZlRXZlbnRLZXkpKSB7XG4gICAgICB0cmFwRXZlbnRGb3JSZXNwb25kZXJFdmVudFN5c3RlbShkb2N1bWVudCwgdG9wTGV2ZWxUeXBlLCB0cnVlKTtcbiAgICAgIGxpc3RlbmluZ1NldC5hZGQocGFzc2l2ZUV2ZW50S2V5KTtcbiAgICB9IC8vIFRPRE86IFRoaXMgbGlzdGVucyB0byBhbGwgZXZlbnRzIGFzIGFjdGl2ZSB3aGljaCBtaWdodCBoYXZlXG4gICAgLy8gdW5kZXNpcmFibGUgZWZmZWN0cy4gSXQncyBhbHNvIHVubmVjZXNzYXJ5IHRvIGhhdmUgYm90aFxuICAgIC8vIHBhc3NpdmUgYW5kIGFjdGl2ZSBsaXN0ZW5lcnMuIEluc3RlYWQsIHdlIGNvdWxkIHN0YXJ0IHdpdGhcbiAgICAvLyBhIHBhc3NpdmUgYW5kIHVwZ3JhZGUgaXQgdG8gYW4gYWN0aXZlIG9uZSBpZiBuZWVkZWQuXG4gICAgLy8gRm9yIHJlcGxheWluZyBwdXJwb3NlcyB0aGUgYWN0aXZlIGlzIG5ldmVyIG5lZWRlZCBzaW5jZSB3ZVxuICAgIC8vIGN1cnJlbnRseSBkb24ndCBwcmV2ZW50RGVmYXVsdC5cblxuXG4gICAgdmFyIGFjdGl2ZUV2ZW50S2V5ID0gdW5zYWZlQ2FzdERPTVRvcExldmVsVHlwZVRvU3RyaW5nKHRvcExldmVsVHlwZSkgKyAnX2FjdGl2ZSc7XG5cbiAgICBpZiAoIWxpc3RlbmluZ1NldC5oYXMoYWN0aXZlRXZlbnRLZXkpKSB7XG4gICAgICB0cmFwRXZlbnRGb3JSZXNwb25kZXJFdmVudFN5c3RlbShkb2N1bWVudCwgdG9wTGV2ZWxUeXBlLCBmYWxzZSk7XG4gICAgICBsaXN0ZW5pbmdTZXQuYWRkKGFjdGl2ZUV2ZW50S2V5KTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZWFnZXJseVRyYXBSZXBsYXlhYmxlRXZlbnRzKGRvY3VtZW50KSB7XG4gIHZhciBsaXN0ZW5pbmdTZXQgPSBnZXRMaXN0ZW5pbmdTZXRGb3JFbGVtZW50KGRvY3VtZW50KTsgLy8gRGlzY3JldGVcblxuICBkaXNjcmV0ZVJlcGxheWFibGVFdmVudHMuZm9yRWFjaChmdW5jdGlvbiAodG9wTGV2ZWxUeXBlKSB7XG4gICAgdHJhcFJlcGxheWFibGVFdmVudCh0b3BMZXZlbFR5cGUsIGRvY3VtZW50LCBsaXN0ZW5pbmdTZXQpO1xuICB9KTsgLy8gQ29udGludW91c1xuXG4gIGNvbnRpbnVvdXNSZXBsYXlhYmxlRXZlbnRzLmZvckVhY2goZnVuY3Rpb24gKHRvcExldmVsVHlwZSkge1xuICAgIHRyYXBSZXBsYXlhYmxlRXZlbnQodG9wTGV2ZWxUeXBlLCBkb2N1bWVudCwgbGlzdGVuaW5nU2V0KTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVF1ZXVlZFJlcGxheWFibGVFdmVudChibG9ja2VkT24sIHRvcExldmVsVHlwZSwgZXZlbnRTeXN0ZW1GbGFncywgbmF0aXZlRXZlbnQpIHtcbiAgcmV0dXJuIHtcbiAgICBibG9ja2VkT246IGJsb2NrZWRPbixcbiAgICB0b3BMZXZlbFR5cGU6IHRvcExldmVsVHlwZSxcbiAgICBldmVudFN5c3RlbUZsYWdzOiBldmVudFN5c3RlbUZsYWdzIHwgSVNfUkVQTEFZRUQsXG4gICAgbmF0aXZlRXZlbnQ6IG5hdGl2ZUV2ZW50XG4gIH07XG59XG5cbmZ1bmN0aW9uIHF1ZXVlRGlzY3JldGVFdmVudChibG9ja2VkT24sIHRvcExldmVsVHlwZSwgZXZlbnRTeXN0ZW1GbGFncywgbmF0aXZlRXZlbnQpIHtcbiAgdmFyIHF1ZXVlZEV2ZW50ID0gY3JlYXRlUXVldWVkUmVwbGF5YWJsZUV2ZW50KGJsb2NrZWRPbiwgdG9wTGV2ZWxUeXBlLCBldmVudFN5c3RlbUZsYWdzLCBuYXRpdmVFdmVudCk7XG4gIHF1ZXVlZERpc2NyZXRlRXZlbnRzLnB1c2gocXVldWVkRXZlbnQpO1xuXG4gIGlmIChlbmFibGVTZWxlY3RpdmVIeWRyYXRpb24pIHtcbiAgICBpZiAocXVldWVkRGlzY3JldGVFdmVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAvLyBJZiB0aGlzIHdhcyB0aGUgZmlyc3QgZGlzY3JldGUgZXZlbnQsIHdlIG1pZ2h0IGJlIGFibGUgdG9cbiAgICAgIC8vIHN5bmNocm9ub3VzbHkgdW5ibG9jayBpdCBzbyB0aGF0IHByZXZlbnREZWZhdWx0IHN0aWxsIHdvcmtzLlxuICAgICAgd2hpbGUgKHF1ZXVlZEV2ZW50LmJsb2NrZWRPbiAhPT0gbnVsbCkge1xuICAgICAgICB2YXIgX2ZpYmVyID0gZ2V0SW5zdGFuY2VGcm9tTm9kZSQxKHF1ZXVlZEV2ZW50LmJsb2NrZWRPbik7XG5cbiAgICAgICAgaWYgKF9maWJlciA9PT0gbnVsbCkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgYXR0ZW1wdFN5bmNocm9ub3VzSHlkcmF0aW9uKF9maWJlcik7XG5cbiAgICAgICAgaWYgKHF1ZXVlZEV2ZW50LmJsb2NrZWRPbiA9PT0gbnVsbCkge1xuICAgICAgICAgIC8vIFdlIGdvdCB1bmJsb2NrZWQgYnkgaHlkcmF0aW9uLiBMZXQncyB0cnkgYWdhaW4uXG4gICAgICAgICAgcmVwbGF5VW5ibG9ja2VkRXZlbnRzKCk7IC8vIElmIHdlJ3JlIHJlYmxvY2tlZCwgb24gYW4gaW5uZXIgYm91bmRhcnksIHdlIG1pZ2h0IG5lZWRcbiAgICAgICAgICAvLyB0byBhdHRlbXB0IGh5ZHJhdGluZyB0aGF0IG9uZS5cblxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIFdlJ3JlIHN0aWxsIGJsb2NrZWQgZnJvbSBoeWRhdGlvbiwgd2UgaGF2ZSB0byBnaXZlIHVwXG4gICAgICAgICAgLy8gYW5kIHJlcGxheSBsYXRlci5cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufSAvLyBSZXNldHMgdGhlIHJlcGxheWluZyBmb3IgdGhpcyB0eXBlIG9mIGNvbnRpbnVvdXMgZXZlbnQgdG8gbm8gZXZlbnQuXG5cbmZ1bmN0aW9uIGNsZWFySWZDb250aW51b3VzRXZlbnQodG9wTGV2ZWxUeXBlLCBuYXRpdmVFdmVudCkge1xuICBzd2l0Y2ggKHRvcExldmVsVHlwZSkge1xuICAgIGNhc2UgVE9QX0ZPQ1VTOlxuICAgIGNhc2UgVE9QX0JMVVI6XG4gICAgICBxdWV1ZWRGb2N1cyA9IG51bGw7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgVE9QX0RSQUdfRU5URVI6XG4gICAgY2FzZSBUT1BfRFJBR19MRUFWRTpcbiAgICAgIHF1ZXVlZERyYWcgPSBudWxsO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIFRPUF9NT1VTRV9PVkVSOlxuICAgIGNhc2UgVE9QX01PVVNFX09VVDpcbiAgICAgIHF1ZXVlZE1vdXNlID0gbnVsbDtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBUT1BfUE9JTlRFUl9PVkVSOlxuICAgIGNhc2UgVE9QX1BPSU5URVJfT1VUOlxuICAgICAge1xuICAgICAgICB2YXIgcG9pbnRlcklkID0gbmF0aXZlRXZlbnQucG9pbnRlcklkO1xuICAgICAgICBxdWV1ZWRQb2ludGVycy5kZWxldGUocG9pbnRlcklkKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICBjYXNlIFRPUF9HT1RfUE9JTlRFUl9DQVBUVVJFOlxuICAgIGNhc2UgVE9QX0xPU1RfUE9JTlRFUl9DQVBUVVJFOlxuICAgICAge1xuICAgICAgICB2YXIgX3BvaW50ZXJJZCA9IG5hdGl2ZUV2ZW50LnBvaW50ZXJJZDtcbiAgICAgICAgcXVldWVkUG9pbnRlckNhcHR1cmVzLmRlbGV0ZShfcG9pbnRlcklkKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gYWNjdW11bGF0ZU9yQ3JlYXRlQ29udGludW91c1F1ZXVlZFJlcGxheWFibGVFdmVudChleGlzdGluZ1F1ZXVlZEV2ZW50LCBibG9ja2VkT24sIHRvcExldmVsVHlwZSwgZXZlbnRTeXN0ZW1GbGFncywgbmF0aXZlRXZlbnQpIHtcbiAgaWYgKGV4aXN0aW5nUXVldWVkRXZlbnQgPT09IG51bGwgfHwgZXhpc3RpbmdRdWV1ZWRFdmVudC5uYXRpdmVFdmVudCAhPT0gbmF0aXZlRXZlbnQpIHtcbiAgICB2YXIgcXVldWVkRXZlbnQgPSBjcmVhdGVRdWV1ZWRSZXBsYXlhYmxlRXZlbnQoYmxvY2tlZE9uLCB0b3BMZXZlbFR5cGUsIGV2ZW50U3lzdGVtRmxhZ3MsIG5hdGl2ZUV2ZW50KTtcblxuICAgIGlmIChibG9ja2VkT24gIT09IG51bGwpIHtcbiAgICAgIHZhciBfZmliZXIyID0gZ2V0SW5zdGFuY2VGcm9tTm9kZSQxKGJsb2NrZWRPbik7XG5cbiAgICAgIGlmIChfZmliZXIyICE9PSBudWxsKSB7XG4gICAgICAgIC8vIEF0dGVtcHQgdG8gaW5jcmVhc2UgdGhlIHByaW9yaXR5IG9mIHRoaXMgdGFyZ2V0LlxuICAgICAgICBhdHRlbXB0Q29udGludW91c0h5ZHJhdGlvbihfZmliZXIyKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcXVldWVkRXZlbnQ7XG4gIH0gLy8gSWYgd2UgaGF2ZSBhbHJlYWR5IHF1ZXVlZCB0aGlzIGV4YWN0IGV2ZW50LCB0aGVuIGl0J3MgYmVjYXVzZVxuICAvLyB0aGUgZGlmZmVyZW50IGV2ZW50IHN5c3RlbXMgaGF2ZSBkaWZmZXJlbnQgRE9NIGV2ZW50IGxpc3RlbmVycy5cbiAgLy8gV2UgY2FuIGFjY3VtdWxhdGUgdGhlIGZsYWdzIGFuZCBzdG9yZSBhIHNpbmdsZSBldmVudCB0byBiZVxuICAvLyByZXBsYXllZC5cblxuXG4gIGV4aXN0aW5nUXVldWVkRXZlbnQuZXZlbnRTeXN0ZW1GbGFncyB8PSBldmVudFN5c3RlbUZsYWdzO1xuICByZXR1cm4gZXhpc3RpbmdRdWV1ZWRFdmVudDtcbn1cblxuZnVuY3Rpb24gcXVldWVJZkNvbnRpbnVvdXNFdmVudChibG9ja2VkT24sIHRvcExldmVsVHlwZSwgZXZlbnRTeXN0ZW1GbGFncywgbmF0aXZlRXZlbnQpIHtcbiAgLy8gVGhlc2Ugc2V0IHJlbGF0ZWRUYXJnZXQgdG8gbnVsbCBiZWNhdXNlIHRoZSByZXBsYXllZCBldmVudCB3aWxsIGJlIHRyZWF0ZWQgYXMgaWYgd2VcbiAgLy8gbW92ZWQgZnJvbSBvdXRzaWRlIHRoZSB3aW5kb3cgKG5vIHRhcmdldCkgb250byB0aGUgdGFyZ2V0IG9uY2UgaXQgaHlkcmF0ZXMuXG4gIC8vIEluc3RlYWQgb2YgbXV0YXRpbmcgd2UgY291bGQgY2xvbmUgdGhlIGV2ZW50LlxuICBzd2l0Y2ggKHRvcExldmVsVHlwZSkge1xuICAgIGNhc2UgVE9QX0ZPQ1VTOlxuICAgICAge1xuICAgICAgICB2YXIgZm9jdXNFdmVudCA9IG5hdGl2ZUV2ZW50O1xuICAgICAgICBxdWV1ZWRGb2N1cyA9IGFjY3VtdWxhdGVPckNyZWF0ZUNvbnRpbnVvdXNRdWV1ZWRSZXBsYXlhYmxlRXZlbnQocXVldWVkRm9jdXMsIGJsb2NrZWRPbiwgdG9wTGV2ZWxUeXBlLCBldmVudFN5c3RlbUZsYWdzLCBmb2N1c0V2ZW50KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICBjYXNlIFRPUF9EUkFHX0VOVEVSOlxuICAgICAge1xuICAgICAgICB2YXIgZHJhZ0V2ZW50ID0gbmF0aXZlRXZlbnQ7XG4gICAgICAgIHF1ZXVlZERyYWcgPSBhY2N1bXVsYXRlT3JDcmVhdGVDb250aW51b3VzUXVldWVkUmVwbGF5YWJsZUV2ZW50KHF1ZXVlZERyYWcsIGJsb2NrZWRPbiwgdG9wTGV2ZWxUeXBlLCBldmVudFN5c3RlbUZsYWdzLCBkcmFnRXZlbnQpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgIGNhc2UgVE9QX01PVVNFX09WRVI6XG4gICAgICB7XG4gICAgICAgIHZhciBtb3VzZUV2ZW50ID0gbmF0aXZlRXZlbnQ7XG4gICAgICAgIHF1ZXVlZE1vdXNlID0gYWNjdW11bGF0ZU9yQ3JlYXRlQ29udGludW91c1F1ZXVlZFJlcGxheWFibGVFdmVudChxdWV1ZWRNb3VzZSwgYmxvY2tlZE9uLCB0b3BMZXZlbFR5cGUsIGV2ZW50U3lzdGVtRmxhZ3MsIG1vdXNlRXZlbnQpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgIGNhc2UgVE9QX1BPSU5URVJfT1ZFUjpcbiAgICAgIHtcbiAgICAgICAgdmFyIHBvaW50ZXJFdmVudCA9IG5hdGl2ZUV2ZW50O1xuICAgICAgICB2YXIgcG9pbnRlcklkID0gcG9pbnRlckV2ZW50LnBvaW50ZXJJZDtcbiAgICAgICAgcXVldWVkUG9pbnRlcnMuc2V0KHBvaW50ZXJJZCwgYWNjdW11bGF0ZU9yQ3JlYXRlQ29udGludW91c1F1ZXVlZFJlcGxheWFibGVFdmVudChxdWV1ZWRQb2ludGVycy5nZXQocG9pbnRlcklkKSB8fCBudWxsLCBibG9ja2VkT24sIHRvcExldmVsVHlwZSwgZXZlbnRTeXN0ZW1GbGFncywgcG9pbnRlckV2ZW50KSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgY2FzZSBUT1BfR09UX1BPSU5URVJfQ0FQVFVSRTpcbiAgICAgIHtcbiAgICAgICAgdmFyIF9wb2ludGVyRXZlbnQgPSBuYXRpdmVFdmVudDtcbiAgICAgICAgdmFyIF9wb2ludGVySWQyID0gX3BvaW50ZXJFdmVudC5wb2ludGVySWQ7XG4gICAgICAgIHF1ZXVlZFBvaW50ZXJDYXB0dXJlcy5zZXQoX3BvaW50ZXJJZDIsIGFjY3VtdWxhdGVPckNyZWF0ZUNvbnRpbnVvdXNRdWV1ZWRSZXBsYXlhYmxlRXZlbnQocXVldWVkUG9pbnRlckNhcHR1cmVzLmdldChfcG9pbnRlcklkMikgfHwgbnVsbCwgYmxvY2tlZE9uLCB0b3BMZXZlbFR5cGUsIGV2ZW50U3lzdGVtRmxhZ3MsIF9wb2ludGVyRXZlbnQpKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59IC8vIENoZWNrIGlmIHRoaXMgdGFyZ2V0IGlzIHVuYmxvY2tlZC4gUmV0dXJucyB0cnVlIGlmIGl0J3MgdW5ibG9ja2VkLlxuXG5mdW5jdGlvbiBhdHRlbXB0RXhwbGljaXRIeWRyYXRpb25UYXJnZXQocXVldWVkVGFyZ2V0KSB7XG4gIC8vIFRPRE86IFRoaXMgZnVuY3Rpb24gc2hhcmVzIGEgbG90IG9mIGxvZ2ljIHdpdGggYXR0ZW1wdFRvRGlzcGF0Y2hFdmVudC5cbiAgLy8gVHJ5IHRvIHVuaWZ5IHRoZW0uIEl0J3MgYSBiaXQgdHJpY2t5IHNpbmNlIGl0IHdvdWxkIHJlcXVpcmUgdHdvIHJldHVyblxuICAvLyB2YWx1ZXMuXG4gIHZhciB0YXJnZXRJbnN0ID0gZ2V0Q2xvc2VzdEluc3RhbmNlRnJvbU5vZGUocXVldWVkVGFyZ2V0LnRhcmdldCk7XG5cbiAgaWYgKHRhcmdldEluc3QgIT09IG51bGwpIHtcbiAgICB2YXIgbmVhcmVzdE1vdW50ZWQgPSBnZXROZWFyZXN0TW91bnRlZEZpYmVyKHRhcmdldEluc3QpO1xuXG4gICAgaWYgKG5lYXJlc3RNb3VudGVkICE9PSBudWxsKSB7XG4gICAgICB2YXIgdGFnID0gbmVhcmVzdE1vdW50ZWQudGFnO1xuXG4gICAgICBpZiAodGFnID09PSBTdXNwZW5zZUNvbXBvbmVudCkge1xuICAgICAgICB2YXIgaW5zdGFuY2UgPSBnZXRTdXNwZW5zZUluc3RhbmNlRnJvbUZpYmVyKG5lYXJlc3RNb3VudGVkKTtcblxuICAgICAgICBpZiAoaW5zdGFuY2UgIT09IG51bGwpIHtcbiAgICAgICAgICAvLyBXZSdyZSBibG9ja2VkIG9uIGh5ZHJhdGluZyB0aGlzIGJvdW5kYXJ5LlxuICAgICAgICAgIC8vIEluY3JlYXNlIGl0cyBwcmlvcml0eS5cbiAgICAgICAgICBxdWV1ZWRUYXJnZXQuYmxvY2tlZE9uID0gaW5zdGFuY2U7XG4gICAgICAgICAgU2NoZWR1bGVyLnVuc3RhYmxlX3J1bldpdGhQcmlvcml0eShxdWV1ZWRUYXJnZXQucHJpb3JpdHksIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGF0dGVtcHRIeWRyYXRpb25BdEN1cnJlbnRQcmlvcml0eShuZWFyZXN0TW91bnRlZCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHRhZyA9PT0gSG9zdFJvb3QpIHtcbiAgICAgICAgdmFyIHJvb3QgPSBuZWFyZXN0TW91bnRlZC5zdGF0ZU5vZGU7XG5cbiAgICAgICAgaWYgKHJvb3QuaHlkcmF0ZSkge1xuICAgICAgICAgIHF1ZXVlZFRhcmdldC5ibG9ja2VkT24gPSBnZXRDb250YWluZXJGcm9tRmliZXIobmVhcmVzdE1vdW50ZWQpOyAvLyBXZSBkb24ndCBjdXJyZW50bHkgaGF2ZSBhIHdheSB0byBpbmNyZWFzZSB0aGUgcHJpb3JpdHkgb2ZcbiAgICAgICAgICAvLyBhIHJvb3Qgb3RoZXIgdGhhbiBzeW5jLlxuXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcXVldWVkVGFyZ2V0LmJsb2NrZWRPbiA9IG51bGw7XG59XG5cbmZ1bmN0aW9uIHF1ZXVlRXhwbGljaXRIeWRyYXRpb25UYXJnZXQodGFyZ2V0KSB7XG4gIGlmIChlbmFibGVTZWxlY3RpdmVIeWRyYXRpb24pIHtcbiAgICB2YXIgcHJpb3JpdHkgPSBTY2hlZHVsZXIudW5zdGFibGVfZ2V0Q3VycmVudFByaW9yaXR5TGV2ZWwoKTtcbiAgICB2YXIgcXVldWVkVGFyZ2V0ID0ge1xuICAgICAgYmxvY2tlZE9uOiBudWxsLFxuICAgICAgdGFyZ2V0OiB0YXJnZXQsXG4gICAgICBwcmlvcml0eTogcHJpb3JpdHlcbiAgICB9O1xuICAgIHZhciBpID0gMDtcblxuICAgIGZvciAoOyBpIDwgcXVldWVkRXhwbGljaXRIeWRyYXRpb25UYXJnZXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAocHJpb3JpdHkgPD0gcXVldWVkRXhwbGljaXRIeWRyYXRpb25UYXJnZXRzW2ldLnByaW9yaXR5KSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIHF1ZXVlZEV4cGxpY2l0SHlkcmF0aW9uVGFyZ2V0cy5zcGxpY2UoaSwgMCwgcXVldWVkVGFyZ2V0KTtcblxuICAgIGlmIChpID09PSAwKSB7XG4gICAgICBhdHRlbXB0RXhwbGljaXRIeWRyYXRpb25UYXJnZXQocXVldWVkVGFyZ2V0KTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gYXR0ZW1wdFJlcGxheUNvbnRpbnVvdXNRdWV1ZWRFdmVudChxdWV1ZWRFdmVudCkge1xuICBpZiAocXVldWVkRXZlbnQuYmxvY2tlZE9uICE9PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIG5leHRCbG9ja2VkT24gPSBhdHRlbXB0VG9EaXNwYXRjaEV2ZW50KHF1ZXVlZEV2ZW50LnRvcExldmVsVHlwZSwgcXVldWVkRXZlbnQuZXZlbnRTeXN0ZW1GbGFncywgcXVldWVkRXZlbnQubmF0aXZlRXZlbnQpO1xuXG4gIGlmIChuZXh0QmxvY2tlZE9uICE9PSBudWxsKSB7XG4gICAgLy8gV2UncmUgc3RpbGwgYmxvY2tlZC4gVHJ5IGFnYWluIGxhdGVyLlxuICAgIHZhciBfZmliZXIzID0gZ2V0SW5zdGFuY2VGcm9tTm9kZSQxKG5leHRCbG9ja2VkT24pO1xuXG4gICAgaWYgKF9maWJlcjMgIT09IG51bGwpIHtcbiAgICAgIGF0dGVtcHRDb250aW51b3VzSHlkcmF0aW9uKF9maWJlcjMpO1xuICAgIH1cblxuICAgIHF1ZXVlZEV2ZW50LmJsb2NrZWRPbiA9IG5leHRCbG9ja2VkT247XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGF0dGVtcHRSZXBsYXlDb250aW51b3VzUXVldWVkRXZlbnRJbk1hcChxdWV1ZWRFdmVudCwga2V5LCBtYXApIHtcbiAgaWYgKGF0dGVtcHRSZXBsYXlDb250aW51b3VzUXVldWVkRXZlbnQocXVldWVkRXZlbnQpKSB7XG4gICAgbWFwLmRlbGV0ZShrZXkpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlcGxheVVuYmxvY2tlZEV2ZW50cygpIHtcbiAgaGFzU2NoZWR1bGVkUmVwbGF5QXR0ZW1wdCA9IGZhbHNlOyAvLyBGaXJzdCByZXBsYXkgZGlzY3JldGUgZXZlbnRzLlxuXG4gIHdoaWxlIChxdWV1ZWREaXNjcmV0ZUV2ZW50cy5sZW5ndGggPiAwKSB7XG4gICAgdmFyIG5leHREaXNjcmV0ZUV2ZW50ID0gcXVldWVkRGlzY3JldGVFdmVudHNbMF07XG5cbiAgICBpZiAobmV4dERpc2NyZXRlRXZlbnQuYmxvY2tlZE9uICE9PSBudWxsKSB7XG4gICAgICAvLyBXZSdyZSBzdGlsbCBibG9ja2VkLlxuICAgICAgLy8gSW5jcmVhc2UgdGhlIHByaW9yaXR5IG9mIHRoaXMgYm91bmRhcnkgdG8gdW5ibG9ja1xuICAgICAgLy8gdGhlIG5leHQgZGlzY3JldGUgZXZlbnQuXG4gICAgICB2YXIgX2ZpYmVyNCA9IGdldEluc3RhbmNlRnJvbU5vZGUkMShuZXh0RGlzY3JldGVFdmVudC5ibG9ja2VkT24pO1xuXG4gICAgICBpZiAoX2ZpYmVyNCAhPT0gbnVsbCkge1xuICAgICAgICBhdHRlbXB0VXNlckJsb2NraW5nSHlkcmF0aW9uKF9maWJlcjQpO1xuICAgICAgfVxuXG4gICAgICBicmVhaztcbiAgICB9XG5cbiAgICB2YXIgbmV4dEJsb2NrZWRPbiA9IGF0dGVtcHRUb0Rpc3BhdGNoRXZlbnQobmV4dERpc2NyZXRlRXZlbnQudG9wTGV2ZWxUeXBlLCBuZXh0RGlzY3JldGVFdmVudC5ldmVudFN5c3RlbUZsYWdzLCBuZXh0RGlzY3JldGVFdmVudC5uYXRpdmVFdmVudCk7XG5cbiAgICBpZiAobmV4dEJsb2NrZWRPbiAhPT0gbnVsbCkge1xuICAgICAgLy8gV2UncmUgc3RpbGwgYmxvY2tlZC4gVHJ5IGFnYWluIGxhdGVyLlxuICAgICAgbmV4dERpc2NyZXRlRXZlbnQuYmxvY2tlZE9uID0gbmV4dEJsb2NrZWRPbjtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gV2UndmUgc3VjY2Vzc2Z1bGx5IHJlcGxheWVkIHRoZSBmaXJzdCBldmVudC4gTGV0J3MgdHJ5IHRoZSBuZXh0IG9uZS5cbiAgICAgIHF1ZXVlZERpc2NyZXRlRXZlbnRzLnNoaWZ0KCk7XG4gICAgfVxuICB9IC8vIE5leHQgcmVwbGF5IGFueSBjb250aW51b3VzIGV2ZW50cy5cblxuXG4gIGlmIChxdWV1ZWRGb2N1cyAhPT0gbnVsbCAmJiBhdHRlbXB0UmVwbGF5Q29udGludW91c1F1ZXVlZEV2ZW50KHF1ZXVlZEZvY3VzKSkge1xuICAgIHF1ZXVlZEZvY3VzID0gbnVsbDtcbiAgfVxuXG4gIGlmIChxdWV1ZWREcmFnICE9PSBudWxsICYmIGF0dGVtcHRSZXBsYXlDb250aW51b3VzUXVldWVkRXZlbnQocXVldWVkRHJhZykpIHtcbiAgICBxdWV1ZWREcmFnID0gbnVsbDtcbiAgfVxuXG4gIGlmIChxdWV1ZWRNb3VzZSAhPT0gbnVsbCAmJiBhdHRlbXB0UmVwbGF5Q29udGludW91c1F1ZXVlZEV2ZW50KHF1ZXVlZE1vdXNlKSkge1xuICAgIHF1ZXVlZE1vdXNlID0gbnVsbDtcbiAgfVxuXG4gIHF1ZXVlZFBvaW50ZXJzLmZvckVhY2goYXR0ZW1wdFJlcGxheUNvbnRpbnVvdXNRdWV1ZWRFdmVudEluTWFwKTtcbiAgcXVldWVkUG9pbnRlckNhcHR1cmVzLmZvckVhY2goYXR0ZW1wdFJlcGxheUNvbnRpbnVvdXNRdWV1ZWRFdmVudEluTWFwKTtcbn1cblxuZnVuY3Rpb24gc2NoZWR1bGVDYWxsYmFja0lmVW5ibG9ja2VkKHF1ZXVlZEV2ZW50LCB1bmJsb2NrZWQpIHtcbiAgaWYgKHF1ZXVlZEV2ZW50LmJsb2NrZWRPbiA9PT0gdW5ibG9ja2VkKSB7XG4gICAgcXVldWVkRXZlbnQuYmxvY2tlZE9uID0gbnVsbDtcblxuICAgIGlmICghaGFzU2NoZWR1bGVkUmVwbGF5QXR0ZW1wdCkge1xuICAgICAgaGFzU2NoZWR1bGVkUmVwbGF5QXR0ZW1wdCA9IHRydWU7IC8vIFNjaGVkdWxlIGEgY2FsbGJhY2sgdG8gYXR0ZW1wdCByZXBsYXlpbmcgYXMgbWFueSBldmVudHMgYXMgYXJlXG4gICAgICAvLyBub3cgdW5ibG9ja2VkLiBUaGlzIGZpcnN0IG1pZ2h0IG5vdCBhY3R1YWxseSBiZSB1bmJsb2NrZWQgeWV0LlxuICAgICAgLy8gV2UgY291bGQgY2hlY2sgaXQgZWFybHkgdG8gYXZvaWQgc2NoZWR1bGluZyBhbiB1bm5lY2Vzc2FyeSBjYWxsYmFjay5cblxuICAgICAgU2NoZWR1bGVyLnVuc3RhYmxlX3NjaGVkdWxlQ2FsbGJhY2soU2NoZWR1bGVyLnVuc3RhYmxlX05vcm1hbFByaW9yaXR5LCByZXBsYXlVbmJsb2NrZWRFdmVudHMpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiByZXRyeUlmQmxvY2tlZE9uKHVuYmxvY2tlZCkge1xuICAvLyBNYXJrIGFueXRoaW5nIHRoYXQgd2FzIGJsb2NrZWQgb24gdGhpcyBhcyBubyBsb25nZXIgYmxvY2tlZFxuICAvLyBhbmQgZWxpZ2libGUgZm9yIGEgcmVwbGF5LlxuICBpZiAocXVldWVkRGlzY3JldGVFdmVudHMubGVuZ3RoID4gMCkge1xuICAgIHNjaGVkdWxlQ2FsbGJhY2tJZlVuYmxvY2tlZChxdWV1ZWREaXNjcmV0ZUV2ZW50c1swXSwgdW5ibG9ja2VkKTsgLy8gVGhpcyBpcyBhIGV4cG9uZW50aWFsIHNlYXJjaCBmb3IgZWFjaCBib3VuZGFyeSB0aGF0IGNvbW1pdHMuIEkgdGhpbmsgaXQnc1xuICAgIC8vIHdvcnRoIGl0IGJlY2F1c2Ugd2UgZXhwZWN0IHZlcnkgZmV3IGRpc2NyZXRlIGV2ZW50cyB0byBxdWV1ZSB1cCBhbmQgb25jZVxuICAgIC8vIHdlIGFyZSBhY3R1YWxseSBmdWxseSB1bmJsb2NrZWQgaXQgd2lsbCBiZSBmYXN0IHRvIHJlcGxheSB0aGVtLlxuXG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBxdWV1ZWREaXNjcmV0ZUV2ZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHF1ZXVlZEV2ZW50ID0gcXVldWVkRGlzY3JldGVFdmVudHNbaV07XG5cbiAgICAgIGlmIChxdWV1ZWRFdmVudC5ibG9ja2VkT24gPT09IHVuYmxvY2tlZCkge1xuICAgICAgICBxdWV1ZWRFdmVudC5ibG9ja2VkT24gPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlmIChxdWV1ZWRGb2N1cyAhPT0gbnVsbCkge1xuICAgIHNjaGVkdWxlQ2FsbGJhY2tJZlVuYmxvY2tlZChxdWV1ZWRGb2N1cywgdW5ibG9ja2VkKTtcbiAgfVxuXG4gIGlmIChxdWV1ZWREcmFnICE9PSBudWxsKSB7XG4gICAgc2NoZWR1bGVDYWxsYmFja0lmVW5ibG9ja2VkKHF1ZXVlZERyYWcsIHVuYmxvY2tlZCk7XG4gIH1cblxuICBpZiAocXVldWVkTW91c2UgIT09IG51bGwpIHtcbiAgICBzY2hlZHVsZUNhbGxiYWNrSWZVbmJsb2NrZWQocXVldWVkTW91c2UsIHVuYmxvY2tlZCk7XG4gIH1cblxuICB2YXIgdW5ibG9jayA9IGZ1bmN0aW9uIChxdWV1ZWRFdmVudCkge1xuICAgIHJldHVybiBzY2hlZHVsZUNhbGxiYWNrSWZVbmJsb2NrZWQocXVldWVkRXZlbnQsIHVuYmxvY2tlZCk7XG4gIH07XG5cbiAgcXVldWVkUG9pbnRlcnMuZm9yRWFjaCh1bmJsb2NrKTtcbiAgcXVldWVkUG9pbnRlckNhcHR1cmVzLmZvckVhY2godW5ibG9jayk7XG5cbiAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IHF1ZXVlZEV4cGxpY2l0SHlkcmF0aW9uVGFyZ2V0cy5sZW5ndGg7IF9pKyspIHtcbiAgICB2YXIgcXVldWVkVGFyZ2V0ID0gcXVldWVkRXhwbGljaXRIeWRyYXRpb25UYXJnZXRzW19pXTtcblxuICAgIGlmIChxdWV1ZWRUYXJnZXQuYmxvY2tlZE9uID09PSB1bmJsb2NrZWQpIHtcbiAgICAgIHF1ZXVlZFRhcmdldC5ibG9ja2VkT24gPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHdoaWxlIChxdWV1ZWRFeHBsaWNpdEh5ZHJhdGlvblRhcmdldHMubGVuZ3RoID4gMCkge1xuICAgIHZhciBuZXh0RXhwbGljaXRUYXJnZXQgPSBxdWV1ZWRFeHBsaWNpdEh5ZHJhdGlvblRhcmdldHNbMF07XG5cbiAgICBpZiAobmV4dEV4cGxpY2l0VGFyZ2V0LmJsb2NrZWRPbiAhPT0gbnVsbCkge1xuICAgICAgLy8gV2UncmUgc3RpbGwgYmxvY2tlZC5cbiAgICAgIGJyZWFrO1xuICAgIH0gZWxzZSB7XG4gICAgICBhdHRlbXB0RXhwbGljaXRIeWRyYXRpb25UYXJnZXQobmV4dEV4cGxpY2l0VGFyZ2V0KTtcblxuICAgICAgaWYgKG5leHRFeHBsaWNpdFRhcmdldC5ibG9ja2VkT24gPT09IG51bGwpIHtcbiAgICAgICAgLy8gV2UncmUgdW5ibG9ja2VkLlxuICAgICAgICBxdWV1ZWRFeHBsaWNpdEh5ZHJhdGlvblRhcmdldHMuc2hpZnQoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gYWRkRXZlbnRCdWJibGVMaXN0ZW5lcihlbGVtZW50LCBldmVudFR5cGUsIGxpc3RlbmVyKSB7XG4gIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudFR5cGUsIGxpc3RlbmVyLCBmYWxzZSk7XG59XG5mdW5jdGlvbiBhZGRFdmVudENhcHR1cmVMaXN0ZW5lcihlbGVtZW50LCBldmVudFR5cGUsIGxpc3RlbmVyKSB7XG4gIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudFR5cGUsIGxpc3RlbmVyLCB0cnVlKTtcbn1cbmZ1bmN0aW9uIGFkZEV2ZW50Q2FwdHVyZUxpc3RlbmVyV2l0aFBhc3NpdmVGbGFnKGVsZW1lbnQsIGV2ZW50VHlwZSwgbGlzdGVuZXIsIHBhc3NpdmUpIHtcbiAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50VHlwZSwgbGlzdGVuZXIsIHtcbiAgICBjYXB0dXJlOiB0cnVlLFxuICAgIHBhc3NpdmU6IHBhc3NpdmVcbiAgfSk7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgdGFyZ2V0IG5vZGUgZnJvbSBhIG5hdGl2ZSBicm93c2VyIGV2ZW50IGJ5IGFjY291bnRpbmcgZm9yXG4gKiBpbmNvbnNpc3RlbmNpZXMgaW4gYnJvd3NlciBET00gQVBJcy5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gbmF0aXZlRXZlbnQgTmF0aXZlIGJyb3dzZXIgZXZlbnQuXG4gKiBAcmV0dXJuIHtET01FdmVudFRhcmdldH0gVGFyZ2V0IG5vZGUuXG4gKi9cblxuZnVuY3Rpb24gZ2V0RXZlbnRUYXJnZXQobmF0aXZlRXZlbnQpIHtcbiAgLy8gRmFsbGJhY2sgdG8gbmF0aXZlRXZlbnQuc3JjRWxlbWVudCBmb3IgSUU5XG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvMTI1MDZcbiAgdmFyIHRhcmdldCA9IG5hdGl2ZUV2ZW50LnRhcmdldCB8fCBuYXRpdmVFdmVudC5zcmNFbGVtZW50IHx8IHdpbmRvdzsgLy8gTm9ybWFsaXplIFNWRyA8dXNlPiBlbGVtZW50IGV2ZW50cyAjNDk2M1xuXG4gIGlmICh0YXJnZXQuY29ycmVzcG9uZGluZ1VzZUVsZW1lbnQpIHtcbiAgICB0YXJnZXQgPSB0YXJnZXQuY29ycmVzcG9uZGluZ1VzZUVsZW1lbnQ7XG4gIH0gLy8gU2FmYXJpIG1heSBmaXJlIGV2ZW50cyBvbiB0ZXh0IG5vZGVzIChOb2RlLlRFWFRfTk9ERSBpcyAzKS5cbiAgLy8gQHNlZSBodHRwOi8vd3d3LnF1aXJrc21vZGUub3JnL2pzL2V2ZW50c19wcm9wZXJ0aWVzLmh0bWxcblxuXG4gIHJldHVybiB0YXJnZXQubm9kZVR5cGUgPT09IFRFWFRfTk9ERSA/IHRhcmdldC5wYXJlbnROb2RlIDogdGFyZ2V0O1xufVxuXG5mdW5jdGlvbiBnZXRQYXJlbnQoaW5zdCkge1xuICBkbyB7XG4gICAgaW5zdCA9IGluc3QucmV0dXJuOyAvLyBUT0RPOiBJZiB0aGlzIGlzIGEgSG9zdFJvb3Qgd2UgbWlnaHQgd2FudCB0byBiYWlsIG91dC5cbiAgICAvLyBUaGF0IGlzIGRlcGVuZGluZyBvbiBpZiB3ZSB3YW50IG5lc3RlZCBzdWJ0cmVlcyAobGF5ZXJzKSB0byBidWJibGVcbiAgICAvLyBldmVudHMgdG8gdGhlaXIgcGFyZW50LiBXZSBjb3VsZCBhbHNvIGdvIHRocm91Z2ggcGFyZW50Tm9kZSBvbiB0aGVcbiAgICAvLyBob3N0IG5vZGUgYnV0IHRoYXQgd291bGRuJ3Qgd29yayBmb3IgUmVhY3QgTmF0aXZlIGFuZCBkb2Vzbid0IGxldCB1c1xuICAgIC8vIGRvIHRoZSBwb3J0YWwgZmVhdHVyZS5cbiAgfSB3aGlsZSAoaW5zdCAmJiBpbnN0LnRhZyAhPT0gSG9zdENvbXBvbmVudCk7XG5cbiAgaWYgKGluc3QpIHtcbiAgICByZXR1cm4gaW5zdDtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuLyoqXG4gKiBSZXR1cm4gdGhlIGxvd2VzdCBjb21tb24gYW5jZXN0b3Igb2YgQSBhbmQgQiwgb3IgbnVsbCBpZiB0aGV5IGFyZSBpblxuICogZGlmZmVyZW50IHRyZWVzLlxuICovXG5cblxuZnVuY3Rpb24gZ2V0TG93ZXN0Q29tbW9uQW5jZXN0b3IoaW5zdEEsIGluc3RCKSB7XG4gIHZhciBkZXB0aEEgPSAwO1xuXG4gIGZvciAodmFyIHRlbXBBID0gaW5zdEE7IHRlbXBBOyB0ZW1wQSA9IGdldFBhcmVudCh0ZW1wQSkpIHtcbiAgICBkZXB0aEErKztcbiAgfVxuXG4gIHZhciBkZXB0aEIgPSAwO1xuXG4gIGZvciAodmFyIHRlbXBCID0gaW5zdEI7IHRlbXBCOyB0ZW1wQiA9IGdldFBhcmVudCh0ZW1wQikpIHtcbiAgICBkZXB0aEIrKztcbiAgfSAvLyBJZiBBIGlzIGRlZXBlciwgY3Jhd2wgdXAuXG5cblxuICB3aGlsZSAoZGVwdGhBIC0gZGVwdGhCID4gMCkge1xuICAgIGluc3RBID0gZ2V0UGFyZW50KGluc3RBKTtcbiAgICBkZXB0aEEtLTtcbiAgfSAvLyBJZiBCIGlzIGRlZXBlciwgY3Jhd2wgdXAuXG5cblxuICB3aGlsZSAoZGVwdGhCIC0gZGVwdGhBID4gMCkge1xuICAgIGluc3RCID0gZ2V0UGFyZW50KGluc3RCKTtcbiAgICBkZXB0aEItLTtcbiAgfSAvLyBXYWxrIGluIGxvY2tzdGVwIHVudGlsIHdlIGZpbmQgYSBtYXRjaC5cblxuXG4gIHZhciBkZXB0aCA9IGRlcHRoQTtcblxuICB3aGlsZSAoZGVwdGgtLSkge1xuICAgIGlmIChpbnN0QSA9PT0gaW5zdEIgfHwgaW5zdEEgPT09IGluc3RCLmFsdGVybmF0ZSkge1xuICAgICAgcmV0dXJuIGluc3RBO1xuICAgIH1cblxuICAgIGluc3RBID0gZ2V0UGFyZW50KGluc3RBKTtcbiAgICBpbnN0QiA9IGdldFBhcmVudChpbnN0Qik7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cbi8qKlxuICogUmV0dXJuIGlmIEEgaXMgYW4gYW5jZXN0b3Igb2YgQi5cbiAqL1xuXG5cbi8qKlxuICogUmV0dXJuIHRoZSBwYXJlbnQgaW5zdGFuY2Ugb2YgdGhlIHBhc3NlZC1pbiBpbnN0YW5jZS5cbiAqL1xuXG5cbi8qKlxuICogU2ltdWxhdGVzIHRoZSB0cmF2ZXJzYWwgb2YgYSB0d28tcGhhc2UsIGNhcHR1cmUvYnViYmxlIGV2ZW50IGRpc3BhdGNoLlxuICovXG5cbmZ1bmN0aW9uIHRyYXZlcnNlVHdvUGhhc2UoaW5zdCwgZm4sIGFyZykge1xuICB2YXIgcGF0aCA9IFtdO1xuXG4gIHdoaWxlIChpbnN0KSB7XG4gICAgcGF0aC5wdXNoKGluc3QpO1xuICAgIGluc3QgPSBnZXRQYXJlbnQoaW5zdCk7XG4gIH1cblxuICB2YXIgaTtcblxuICBmb3IgKGkgPSBwYXRoLmxlbmd0aDsgaS0tID4gMDspIHtcbiAgICBmbihwYXRoW2ldLCAnY2FwdHVyZWQnLCBhcmcpO1xuICB9XG5cbiAgZm9yIChpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcbiAgICBmbihwYXRoW2ldLCAnYnViYmxlZCcsIGFyZyk7XG4gIH1cbn1cbi8qKlxuICogVHJhdmVyc2VzIHRoZSBJRCBoaWVyYXJjaHkgYW5kIGludm9rZXMgdGhlIHN1cHBsaWVkIGBjYmAgb24gYW55IElEcyB0aGF0XG4gKiBzaG91bGQgd291bGQgcmVjZWl2ZSBhIGBtb3VzZUVudGVyYCBvciBgbW91c2VMZWF2ZWAgZXZlbnQuXG4gKlxuICogRG9lcyBub3QgaW52b2tlIHRoZSBjYWxsYmFjayBvbiB0aGUgbmVhcmVzdCBjb21tb24gYW5jZXN0b3IgYmVjYXVzZSBub3RoaW5nXG4gKiBcImVudGVyZWRcIiBvciBcImxlZnRcIiB0aGF0IGVsZW1lbnQuXG4gKi9cblxuZnVuY3Rpb24gdHJhdmVyc2VFbnRlckxlYXZlKGZyb20sIHRvLCBmbiwgYXJnRnJvbSwgYXJnVG8pIHtcbiAgdmFyIGNvbW1vbiA9IGZyb20gJiYgdG8gPyBnZXRMb3dlc3RDb21tb25BbmNlc3Rvcihmcm9tLCB0bykgOiBudWxsO1xuICB2YXIgcGF0aEZyb20gPSBbXTtcblxuICB3aGlsZSAodHJ1ZSkge1xuICAgIGlmICghZnJvbSkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgaWYgKGZyb20gPT09IGNvbW1vbikge1xuICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgdmFyIGFsdGVybmF0ZSA9IGZyb20uYWx0ZXJuYXRlO1xuXG4gICAgaWYgKGFsdGVybmF0ZSAhPT0gbnVsbCAmJiBhbHRlcm5hdGUgPT09IGNvbW1vbikge1xuICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgcGF0aEZyb20ucHVzaChmcm9tKTtcbiAgICBmcm9tID0gZ2V0UGFyZW50KGZyb20pO1xuICB9XG5cbiAgdmFyIHBhdGhUbyA9IFtdO1xuXG4gIHdoaWxlICh0cnVlKSB7XG4gICAgaWYgKCF0bykge1xuICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgaWYgKHRvID09PSBjb21tb24pIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIHZhciBfYWx0ZXJuYXRlID0gdG8uYWx0ZXJuYXRlO1xuXG4gICAgaWYgKF9hbHRlcm5hdGUgIT09IG51bGwgJiYgX2FsdGVybmF0ZSA9PT0gY29tbW9uKSB7XG4gICAgICBicmVhaztcbiAgICB9XG5cbiAgICBwYXRoVG8ucHVzaCh0byk7XG4gICAgdG8gPSBnZXRQYXJlbnQodG8pO1xuICB9XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoRnJvbS5sZW5ndGg7IGkrKykge1xuICAgIGZuKHBhdGhGcm9tW2ldLCAnYnViYmxlZCcsIGFyZ0Zyb20pO1xuICB9XG5cbiAgZm9yICh2YXIgX2kgPSBwYXRoVG8ubGVuZ3RoOyBfaS0tID4gMDspIHtcbiAgICBmbihwYXRoVG9bX2ldLCAnY2FwdHVyZWQnLCBhcmdUbyk7XG4gIH1cbn1cblxuLyoqXG4gKiBTb21lIGV2ZW50IHR5cGVzIGhhdmUgYSBub3Rpb24gb2YgZGlmZmVyZW50IHJlZ2lzdHJhdGlvbiBuYW1lcyBmb3IgZGlmZmVyZW50XG4gKiBcInBoYXNlc1wiIG9mIHByb3BhZ2F0aW9uLiBUaGlzIGZpbmRzIGxpc3RlbmVycyBieSBhIGdpdmVuIHBoYXNlLlxuICovXG5mdW5jdGlvbiBsaXN0ZW5lckF0UGhhc2UoaW5zdCwgZXZlbnQsIHByb3BhZ2F0aW9uUGhhc2UpIHtcbiAgdmFyIHJlZ2lzdHJhdGlvbk5hbWUgPSBldmVudC5kaXNwYXRjaENvbmZpZy5waGFzZWRSZWdpc3RyYXRpb25OYW1lc1twcm9wYWdhdGlvblBoYXNlXTtcbiAgcmV0dXJuIGdldExpc3RlbmVyKGluc3QsIHJlZ2lzdHJhdGlvbk5hbWUpO1xufVxuLyoqXG4gKiBBIHNtYWxsIHNldCBvZiBwcm9wYWdhdGlvbiBwYXR0ZXJucywgZWFjaCBvZiB3aGljaCB3aWxsIGFjY2VwdCBhIHNtYWxsIGFtb3VudFxuICogb2YgaW5mb3JtYXRpb24sIGFuZCBnZW5lcmF0ZSBhIHNldCBvZiBcImRpc3BhdGNoIHJlYWR5IGV2ZW50IG9iamVjdHNcIiAtIHdoaWNoXG4gKiBhcmUgc2V0cyBvZiBldmVudHMgdGhhdCBoYXZlIGFscmVhZHkgYmVlbiBhbm5vdGF0ZWQgd2l0aCBhIHNldCBvZiBkaXNwYXRjaGVkXG4gKiBsaXN0ZW5lciBmdW5jdGlvbnMvaWRzLiBUaGUgQVBJIGlzIGRlc2lnbmVkIHRoaXMgd2F5IHRvIGRpc2NvdXJhZ2UgdGhlc2VcbiAqIHByb3BhZ2F0aW9uIHN0cmF0ZWdpZXMgZnJvbSBhY3R1YWxseSBleGVjdXRpbmcgdGhlIGRpc3BhdGNoZXMsIHNpbmNlIHdlXG4gKiBhbHdheXMgd2FudCB0byBjb2xsZWN0IHRoZSBlbnRpcmUgc2V0IG9mIGRpc3BhdGNoZXMgYmVmb3JlIGV4ZWN1dGluZyBldmVuIGFcbiAqIHNpbmdsZSBvbmUuXG4gKi9cblxuLyoqXG4gKiBUYWdzIGEgYFN5bnRoZXRpY0V2ZW50YCB3aXRoIGRpc3BhdGNoZWQgbGlzdGVuZXJzLiBDcmVhdGluZyB0aGlzIGZ1bmN0aW9uXG4gKiBoZXJlLCBhbGxvd3MgdXMgdG8gbm90IGhhdmUgdG8gYmluZCBvciBjcmVhdGUgZnVuY3Rpb25zIGZvciBlYWNoIGV2ZW50LlxuICogTXV0YXRpbmcgdGhlIGV2ZW50J3MgbWVtYmVycyBhbGxvd3MgdXMgdG8gbm90IGhhdmUgdG8gY3JlYXRlIGEgd3JhcHBpbmdcbiAqIFwiZGlzcGF0Y2hcIiBvYmplY3QgdGhhdCBwYWlycyB0aGUgZXZlbnQgd2l0aCB0aGUgbGlzdGVuZXIuXG4gKi9cblxuXG5mdW5jdGlvbiBhY2N1bXVsYXRlRGlyZWN0aW9uYWxEaXNwYXRjaGVzKGluc3QsIHBoYXNlLCBldmVudCkge1xuICB7XG4gICAgIWluc3QgPyB3YXJuaW5nV2l0aG91dFN0YWNrJDEoZmFsc2UsICdEaXNwYXRjaGluZyBpbnN0IG11c3Qgbm90IGJlIG51bGwnKSA6IHZvaWQgMDtcbiAgfVxuXG4gIHZhciBsaXN0ZW5lciA9IGxpc3RlbmVyQXRQaGFzZShpbnN0LCBldmVudCwgcGhhc2UpO1xuXG4gIGlmIChsaXN0ZW5lcikge1xuICAgIGV2ZW50Ll9kaXNwYXRjaExpc3RlbmVycyA9IGFjY3VtdWxhdGVJbnRvKGV2ZW50Ll9kaXNwYXRjaExpc3RlbmVycywgbGlzdGVuZXIpO1xuICAgIGV2ZW50Ll9kaXNwYXRjaEluc3RhbmNlcyA9IGFjY3VtdWxhdGVJbnRvKGV2ZW50Ll9kaXNwYXRjaEluc3RhbmNlcywgaW5zdCk7XG4gIH1cbn1cbi8qKlxuICogQ29sbGVjdCBkaXNwYXRjaGVzIChtdXN0IGJlIGVudGlyZWx5IGNvbGxlY3RlZCBiZWZvcmUgZGlzcGF0Y2hpbmcgLSBzZWUgdW5pdFxuICogdGVzdHMpLiBMYXppbHkgYWxsb2NhdGUgdGhlIGFycmF5IHRvIGNvbnNlcnZlIG1lbW9yeS4gIFdlIG11c3QgbG9vcCB0aHJvdWdoXG4gKiBlYWNoIGV2ZW50IGFuZCBwZXJmb3JtIHRoZSB0cmF2ZXJzYWwgZm9yIGVhY2ggb25lLiBXZSBjYW5ub3QgcGVyZm9ybSBhXG4gKiBzaW5nbGUgdHJhdmVyc2FsIGZvciB0aGUgZW50aXJlIGNvbGxlY3Rpb24gb2YgZXZlbnRzIGJlY2F1c2UgZWFjaCBldmVudCBtYXlcbiAqIGhhdmUgYSBkaWZmZXJlbnQgdGFyZ2V0LlxuICovXG5cblxuZnVuY3Rpb24gYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlc1NpbmdsZShldmVudCkge1xuICBpZiAoZXZlbnQgJiYgZXZlbnQuZGlzcGF0Y2hDb25maWcucGhhc2VkUmVnaXN0cmF0aW9uTmFtZXMpIHtcbiAgICB0cmF2ZXJzZVR3b1BoYXNlKGV2ZW50Ll90YXJnZXRJbnN0LCBhY2N1bXVsYXRlRGlyZWN0aW9uYWxEaXNwYXRjaGVzLCBldmVudCk7XG4gIH1cbn1cbi8qKlxuICogQWNjdW11bGF0ZXMgd2l0aG91dCByZWdhcmQgdG8gZGlyZWN0aW9uLCBkb2VzIG5vdCBsb29rIGZvciBwaGFzZWRcbiAqIHJlZ2lzdHJhdGlvbiBuYW1lcy4gU2FtZSBhcyBgYWNjdW11bGF0ZURpcmVjdERpc3BhdGNoZXNTaW5nbGVgIGJ1dCB3aXRob3V0XG4gKiByZXF1aXJpbmcgdGhhdCB0aGUgYGRpc3BhdGNoTWFya2VyYCBiZSB0aGUgc2FtZSBhcyB0aGUgZGlzcGF0Y2hlZCBJRC5cbiAqL1xuXG5cbmZ1bmN0aW9uIGFjY3VtdWxhdGVEaXNwYXRjaGVzKGluc3QsIGlnbm9yZWREaXJlY3Rpb24sIGV2ZW50KSB7XG4gIGlmIChpbnN0ICYmIGV2ZW50ICYmIGV2ZW50LmRpc3BhdGNoQ29uZmlnLnJlZ2lzdHJhdGlvbk5hbWUpIHtcbiAgICB2YXIgcmVnaXN0cmF0aW9uTmFtZSA9IGV2ZW50LmRpc3BhdGNoQ29uZmlnLnJlZ2lzdHJhdGlvbk5hbWU7XG4gICAgdmFyIGxpc3RlbmVyID0gZ2V0TGlzdGVuZXIoaW5zdCwgcmVnaXN0cmF0aW9uTmFtZSk7XG5cbiAgICBpZiAobGlzdGVuZXIpIHtcbiAgICAgIGV2ZW50Ll9kaXNwYXRjaExpc3RlbmVycyA9IGFjY3VtdWxhdGVJbnRvKGV2ZW50Ll9kaXNwYXRjaExpc3RlbmVycywgbGlzdGVuZXIpO1xuICAgICAgZXZlbnQuX2Rpc3BhdGNoSW5zdGFuY2VzID0gYWNjdW11bGF0ZUludG8oZXZlbnQuX2Rpc3BhdGNoSW5zdGFuY2VzLCBpbnN0KTtcbiAgICB9XG4gIH1cbn1cbi8qKlxuICogQWNjdW11bGF0ZXMgZGlzcGF0Y2hlcyBvbiBhbiBgU3ludGhldGljRXZlbnRgLCBidXQgb25seSBmb3IgdGhlXG4gKiBgZGlzcGF0Y2hNYXJrZXJgLlxuICogQHBhcmFtIHtTeW50aGV0aWNFdmVudH0gZXZlbnRcbiAqL1xuXG5cbmZ1bmN0aW9uIGFjY3VtdWxhdGVEaXJlY3REaXNwYXRjaGVzU2luZ2xlKGV2ZW50KSB7XG4gIGlmIChldmVudCAmJiBldmVudC5kaXNwYXRjaENvbmZpZy5yZWdpc3RyYXRpb25OYW1lKSB7XG4gICAgYWNjdW11bGF0ZURpc3BhdGNoZXMoZXZlbnQuX3RhcmdldEluc3QsIG51bGwsIGV2ZW50KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzKGV2ZW50cykge1xuICBmb3JFYWNoQWNjdW11bGF0ZWQoZXZlbnRzLCBhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzU2luZ2xlKTtcbn1cblxuZnVuY3Rpb24gYWNjdW11bGF0ZUVudGVyTGVhdmVEaXNwYXRjaGVzKGxlYXZlLCBlbnRlciwgZnJvbSwgdG8pIHtcbiAgdHJhdmVyc2VFbnRlckxlYXZlKGZyb20sIHRvLCBhY2N1bXVsYXRlRGlzcGF0Y2hlcywgbGVhdmUsIGVudGVyKTtcbn1cbmZ1bmN0aW9uIGFjY3VtdWxhdGVEaXJlY3REaXNwYXRjaGVzKGV2ZW50cykge1xuICBmb3JFYWNoQWNjdW11bGF0ZWQoZXZlbnRzLCBhY2N1bXVsYXRlRGlyZWN0RGlzcGF0Y2hlc1NpbmdsZSk7XG59XG5cbi8qIGVzbGludCB2YWxpZC10eXBlb2Y6IDAgKi9cbnZhciBFVkVOVF9QT09MX1NJWkUgPSAxMDtcbi8qKlxuICogQGludGVyZmFjZSBFdmVudFxuICogQHNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi9ET00tTGV2ZWwtMy1FdmVudHMvXG4gKi9cblxudmFyIEV2ZW50SW50ZXJmYWNlID0ge1xuICB0eXBlOiBudWxsLFxuICB0YXJnZXQ6IG51bGwsXG4gIC8vIGN1cnJlbnRUYXJnZXQgaXMgc2V0IHdoZW4gZGlzcGF0Y2hpbmc7IG5vIHVzZSBpbiBjb3B5aW5nIGl0IGhlcmVcbiAgY3VycmVudFRhcmdldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBudWxsO1xuICB9LFxuICBldmVudFBoYXNlOiBudWxsLFxuICBidWJibGVzOiBudWxsLFxuICBjYW5jZWxhYmxlOiBudWxsLFxuICB0aW1lU3RhbXA6IGZ1bmN0aW9uIChldmVudCkge1xuICAgIHJldHVybiBldmVudC50aW1lU3RhbXAgfHwgRGF0ZS5ub3coKTtcbiAgfSxcbiAgZGVmYXVsdFByZXZlbnRlZDogbnVsbCxcbiAgaXNUcnVzdGVkOiBudWxsXG59O1xuXG5mdW5jdGlvbiBmdW5jdGlvblRoYXRSZXR1cm5zVHJ1ZSgpIHtcbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGZ1bmN0aW9uVGhhdFJldHVybnNGYWxzZSgpIHtcbiAgcmV0dXJuIGZhbHNlO1xufVxuLyoqXG4gKiBTeW50aGV0aWMgZXZlbnRzIGFyZSBkaXNwYXRjaGVkIGJ5IGV2ZW50IHBsdWdpbnMsIHR5cGljYWxseSBpbiByZXNwb25zZSB0byBhXG4gKiB0b3AtbGV2ZWwgZXZlbnQgZGVsZWdhdGlvbiBoYW5kbGVyLlxuICpcbiAqIFRoZXNlIHN5c3RlbXMgc2hvdWxkIGdlbmVyYWxseSB1c2UgcG9vbGluZyB0byByZWR1Y2UgdGhlIGZyZXF1ZW5jeSBvZiBnYXJiYWdlXG4gKiBjb2xsZWN0aW9uLiBUaGUgc3lzdGVtIHNob3VsZCBjaGVjayBgaXNQZXJzaXN0ZW50YCB0byBkZXRlcm1pbmUgd2hldGhlciB0aGVcbiAqIGV2ZW50IHNob3VsZCBiZSByZWxlYXNlZCBpbnRvIHRoZSBwb29sIGFmdGVyIGJlaW5nIGRpc3BhdGNoZWQuIFVzZXJzIHRoYXRcbiAqIG5lZWQgYSBwZXJzaXN0ZWQgZXZlbnQgc2hvdWxkIGludm9rZSBgcGVyc2lzdGAuXG4gKlxuICogU3ludGhldGljIGV2ZW50cyAoYW5kIHN1YmNsYXNzZXMpIGltcGxlbWVudCB0aGUgRE9NIExldmVsIDMgRXZlbnRzIEFQSSBieVxuICogbm9ybWFsaXppbmcgYnJvd3NlciBxdWlya3MuIFN1YmNsYXNzZXMgZG8gbm90IG5lY2Vzc2FyaWx5IGhhdmUgdG8gaW1wbGVtZW50IGFcbiAqIERPTSBpbnRlcmZhY2U7IGN1c3RvbSBhcHBsaWNhdGlvbi1zcGVjaWZpYyBldmVudHMgY2FuIGFsc28gc3ViY2xhc3MgdGhpcy5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gZGlzcGF0Y2hDb25maWcgQ29uZmlndXJhdGlvbiB1c2VkIHRvIGRpc3BhdGNoIHRoaXMgZXZlbnQuXG4gKiBAcGFyYW0geyp9IHRhcmdldEluc3QgTWFya2VyIGlkZW50aWZ5aW5nIHRoZSBldmVudCB0YXJnZXQuXG4gKiBAcGFyYW0ge29iamVjdH0gbmF0aXZlRXZlbnQgTmF0aXZlIGJyb3dzZXIgZXZlbnQuXG4gKiBAcGFyYW0ge0RPTUV2ZW50VGFyZ2V0fSBuYXRpdmVFdmVudFRhcmdldCBUYXJnZXQgbm9kZS5cbiAqL1xuXG5cbmZ1bmN0aW9uIFN5bnRoZXRpY0V2ZW50KGRpc3BhdGNoQ29uZmlnLCB0YXJnZXRJbnN0LCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpIHtcbiAge1xuICAgIC8vIHRoZXNlIGhhdmUgYSBnZXR0ZXIvc2V0dGVyIGZvciB3YXJuaW5nc1xuICAgIGRlbGV0ZSB0aGlzLm5hdGl2ZUV2ZW50O1xuICAgIGRlbGV0ZSB0aGlzLnByZXZlbnREZWZhdWx0O1xuICAgIGRlbGV0ZSB0aGlzLnN0b3BQcm9wYWdhdGlvbjtcbiAgICBkZWxldGUgdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ7XG4gICAgZGVsZXRlIHRoaXMuaXNQcm9wYWdhdGlvblN0b3BwZWQ7XG4gIH1cblxuICB0aGlzLmRpc3BhdGNoQ29uZmlnID0gZGlzcGF0Y2hDb25maWc7XG4gIHRoaXMuX3RhcmdldEluc3QgPSB0YXJnZXRJbnN0O1xuICB0aGlzLm5hdGl2ZUV2ZW50ID0gbmF0aXZlRXZlbnQ7XG4gIHZhciBJbnRlcmZhY2UgPSB0aGlzLmNvbnN0cnVjdG9yLkludGVyZmFjZTtcblxuICBmb3IgKHZhciBwcm9wTmFtZSBpbiBJbnRlcmZhY2UpIHtcbiAgICBpZiAoIUludGVyZmFjZS5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIHtcbiAgICAgIGRlbGV0ZSB0aGlzW3Byb3BOYW1lXTsgLy8gdGhpcyBoYXMgYSBnZXR0ZXIvc2V0dGVyIGZvciB3YXJuaW5nc1xuICAgIH1cblxuICAgIHZhciBub3JtYWxpemUgPSBJbnRlcmZhY2VbcHJvcE5hbWVdO1xuXG4gICAgaWYgKG5vcm1hbGl6ZSkge1xuICAgICAgdGhpc1twcm9wTmFtZV0gPSBub3JtYWxpemUobmF0aXZlRXZlbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAocHJvcE5hbWUgPT09ICd0YXJnZXQnKSB7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gbmF0aXZlRXZlbnRUYXJnZXQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzW3Byb3BOYW1lXSA9IG5hdGl2ZUV2ZW50W3Byb3BOYW1lXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB2YXIgZGVmYXVsdFByZXZlbnRlZCA9IG5hdGl2ZUV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQgIT0gbnVsbCA/IG5hdGl2ZUV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQgOiBuYXRpdmVFdmVudC5yZXR1cm5WYWx1ZSA9PT0gZmFsc2U7XG5cbiAgaWYgKGRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICB0aGlzLmlzRGVmYXVsdFByZXZlbnRlZCA9IGZ1bmN0aW9uVGhhdFJldHVybnNUcnVlO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuaXNEZWZhdWx0UHJldmVudGVkID0gZnVuY3Rpb25UaGF0UmV0dXJuc0ZhbHNlO1xuICB9XG5cbiAgdGhpcy5pc1Byb3BhZ2F0aW9uU3RvcHBlZCA9IGZ1bmN0aW9uVGhhdFJldHVybnNGYWxzZTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbl9hc3NpZ24oU3ludGhldGljRXZlbnQucHJvdG90eXBlLCB7XG4gIHByZXZlbnREZWZhdWx0OiBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5kZWZhdWx0UHJldmVudGVkID0gdHJ1ZTtcbiAgICB2YXIgZXZlbnQgPSB0aGlzLm5hdGl2ZUV2ZW50O1xuXG4gICAgaWYgKCFldmVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChldmVudC5wcmV2ZW50RGVmYXVsdCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBldmVudC5yZXR1cm5WYWx1ZSAhPT0gJ3Vua25vd24nKSB7XG4gICAgICBldmVudC5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIHRoaXMuaXNEZWZhdWx0UHJldmVudGVkID0gZnVuY3Rpb25UaGF0UmV0dXJuc1RydWU7XG4gIH0sXG4gIHN0b3BQcm9wYWdhdGlvbjogZnVuY3Rpb24gKCkge1xuICAgIHZhciBldmVudCA9IHRoaXMubmF0aXZlRXZlbnQ7XG5cbiAgICBpZiAoIWV2ZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGV2ZW50LnN0b3BQcm9wYWdhdGlvbikge1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZXZlbnQuY2FuY2VsQnViYmxlICE9PSAndW5rbm93bicpIHtcbiAgICAgIC8vIFRoZSBDaGFuZ2VFdmVudFBsdWdpbiByZWdpc3RlcnMgYSBcInByb3BlcnR5Y2hhbmdlXCIgZXZlbnQgZm9yXG4gICAgICAvLyBJRS4gVGhpcyBldmVudCBkb2VzIG5vdCBzdXBwb3J0IGJ1YmJsaW5nIG9yIGNhbmNlbGxpbmcsIGFuZFxuICAgICAgLy8gYW55IHJlZmVyZW5jZXMgdG8gY2FuY2VsQnViYmxlIHRocm93IFwiTWVtYmVyIG5vdCBmb3VuZFwiLiAgQVxuICAgICAgLy8gdHlwZW9mIGNoZWNrIG9mIFwidW5rbm93blwiIGNpcmN1bXZlbnRzIHRoaXMgaXNzdWUgKGFuZCBpcyBhbHNvXG4gICAgICAvLyBJRSBzcGVjaWZpYykuXG4gICAgICBldmVudC5jYW5jZWxCdWJibGUgPSB0cnVlO1xuICAgIH1cblxuICAgIHRoaXMuaXNQcm9wYWdhdGlvblN0b3BwZWQgPSBmdW5jdGlvblRoYXRSZXR1cm5zVHJ1ZTtcbiAgfSxcblxuICAvKipcbiAgICogV2UgcmVsZWFzZSBhbGwgZGlzcGF0Y2hlZCBgU3ludGhldGljRXZlbnRgcyBhZnRlciBlYWNoIGV2ZW50IGxvb3AsIGFkZGluZ1xuICAgKiB0aGVtIGJhY2sgaW50byB0aGUgcG9vbC4gVGhpcyBhbGxvd3MgYSB3YXkgdG8gaG9sZCBvbnRvIGEgcmVmZXJlbmNlIHRoYXRcbiAgICogd29uJ3QgYmUgYWRkZWQgYmFjayBpbnRvIHRoZSBwb29sLlxuICAgKi9cbiAgcGVyc2lzdDogZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuaXNQZXJzaXN0ZW50ID0gZnVuY3Rpb25UaGF0UmV0dXJuc1RydWU7XG4gIH0sXG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiB0aGlzIGV2ZW50IHNob3VsZCBiZSByZWxlYXNlZCBiYWNrIGludG8gdGhlIHBvb2wuXG4gICAqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhpcyBzaG91bGQgbm90IGJlIHJlbGVhc2VkLCBmYWxzZSBvdGhlcndpc2UuXG4gICAqL1xuICBpc1BlcnNpc3RlbnQ6IGZ1bmN0aW9uVGhhdFJldHVybnNGYWxzZSxcblxuICAvKipcbiAgICogYFBvb2xlZENsYXNzYCBsb29rcyBmb3IgYGRlc3RydWN0b3JgIG9uIGVhY2ggaW5zdGFuY2UgaXQgcmVsZWFzZXMuXG4gICAqL1xuICBkZXN0cnVjdG9yOiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIEludGVyZmFjZSA9IHRoaXMuY29uc3RydWN0b3IuSW50ZXJmYWNlO1xuXG4gICAgZm9yICh2YXIgcHJvcE5hbWUgaW4gSW50ZXJmYWNlKSB7XG4gICAgICB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBwcm9wTmFtZSwgZ2V0UG9vbGVkV2FybmluZ1Byb3BlcnR5RGVmaW5pdGlvbihwcm9wTmFtZSwgSW50ZXJmYWNlW3Byb3BOYW1lXSkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuZGlzcGF0Y2hDb25maWcgPSBudWxsO1xuICAgIHRoaXMuX3RhcmdldEluc3QgPSBudWxsO1xuICAgIHRoaXMubmF0aXZlRXZlbnQgPSBudWxsO1xuICAgIHRoaXMuaXNEZWZhdWx0UHJldmVudGVkID0gZnVuY3Rpb25UaGF0UmV0dXJuc0ZhbHNlO1xuICAgIHRoaXMuaXNQcm9wYWdhdGlvblN0b3BwZWQgPSBmdW5jdGlvblRoYXRSZXR1cm5zRmFsc2U7XG4gICAgdGhpcy5fZGlzcGF0Y2hMaXN0ZW5lcnMgPSBudWxsO1xuICAgIHRoaXMuX2Rpc3BhdGNoSW5zdGFuY2VzID0gbnVsbDtcblxuICAgIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnbmF0aXZlRXZlbnQnLCBnZXRQb29sZWRXYXJuaW5nUHJvcGVydHlEZWZpbml0aW9uKCduYXRpdmVFdmVudCcsIG51bGwpKTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnaXNEZWZhdWx0UHJldmVudGVkJywgZ2V0UG9vbGVkV2FybmluZ1Byb3BlcnR5RGVmaW5pdGlvbignaXNEZWZhdWx0UHJldmVudGVkJywgZnVuY3Rpb25UaGF0UmV0dXJuc0ZhbHNlKSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ2lzUHJvcGFnYXRpb25TdG9wcGVkJywgZ2V0UG9vbGVkV2FybmluZ1Byb3BlcnR5RGVmaW5pdGlvbignaXNQcm9wYWdhdGlvblN0b3BwZWQnLCBmdW5jdGlvblRoYXRSZXR1cm5zRmFsc2UpKTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAncHJldmVudERlZmF1bHQnLCBnZXRQb29sZWRXYXJuaW5nUHJvcGVydHlEZWZpbml0aW9uKCdwcmV2ZW50RGVmYXVsdCcsIGZ1bmN0aW9uICgpIHt9KSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3N0b3BQcm9wYWdhdGlvbicsIGdldFBvb2xlZFdhcm5pbmdQcm9wZXJ0eURlZmluaXRpb24oJ3N0b3BQcm9wYWdhdGlvbicsIGZ1bmN0aW9uICgpIHt9KSk7XG4gICAgfVxuICB9XG59KTtcblxuU3ludGhldGljRXZlbnQuSW50ZXJmYWNlID0gRXZlbnRJbnRlcmZhY2U7XG4vKipcbiAqIEhlbHBlciB0byByZWR1Y2UgYm9pbGVycGxhdGUgd2hlbiBjcmVhdGluZyBzdWJjbGFzc2VzLlxuICovXG5cblN5bnRoZXRpY0V2ZW50LmV4dGVuZCA9IGZ1bmN0aW9uIChJbnRlcmZhY2UpIHtcbiAgdmFyIFN1cGVyID0gdGhpcztcblxuICB2YXIgRSA9IGZ1bmN0aW9uICgpIHt9O1xuXG4gIEUucHJvdG90eXBlID0gU3VwZXIucHJvdG90eXBlO1xuICB2YXIgcHJvdG90eXBlID0gbmV3IEUoKTtcblxuICBmdW5jdGlvbiBDbGFzcygpIHtcbiAgICByZXR1cm4gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIF9hc3NpZ24ocHJvdG90eXBlLCBDbGFzcy5wcm90b3R5cGUpO1xuXG4gIENsYXNzLnByb3RvdHlwZSA9IHByb3RvdHlwZTtcbiAgQ2xhc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ2xhc3M7XG4gIENsYXNzLkludGVyZmFjZSA9IF9hc3NpZ24oe30sIFN1cGVyLkludGVyZmFjZSwgSW50ZXJmYWNlKTtcbiAgQ2xhc3MuZXh0ZW5kID0gU3VwZXIuZXh0ZW5kO1xuICBhZGRFdmVudFBvb2xpbmdUbyhDbGFzcyk7XG4gIHJldHVybiBDbGFzcztcbn07XG5cbmFkZEV2ZW50UG9vbGluZ1RvKFN5bnRoZXRpY0V2ZW50KTtcbi8qKlxuICogSGVscGVyIHRvIG51bGxpZnkgc3ludGhldGljRXZlbnQgaW5zdGFuY2UgcHJvcGVydGllcyB3aGVuIGRlc3RydWN0aW5nXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHByb3BOYW1lXG4gKiBAcGFyYW0gez9vYmplY3R9IGdldFZhbFxuICogQHJldHVybiB7b2JqZWN0fSBkZWZpbmVQcm9wZXJ0eSBvYmplY3RcbiAqL1xuXG5mdW5jdGlvbiBnZXRQb29sZWRXYXJuaW5nUHJvcGVydHlEZWZpbml0aW9uKHByb3BOYW1lLCBnZXRWYWwpIHtcbiAgdmFyIGlzRnVuY3Rpb24gPSB0eXBlb2YgZ2V0VmFsID09PSAnZnVuY3Rpb24nO1xuICByZXR1cm4ge1xuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBzZXQ6IHNldCxcbiAgICBnZXQ6IGdldFxuICB9O1xuXG4gIGZ1bmN0aW9uIHNldCh2YWwpIHtcbiAgICB2YXIgYWN0aW9uID0gaXNGdW5jdGlvbiA/ICdzZXR0aW5nIHRoZSBtZXRob2QnIDogJ3NldHRpbmcgdGhlIHByb3BlcnR5JztcbiAgICB3YXJuKGFjdGlvbiwgJ1RoaXMgaXMgZWZmZWN0aXZlbHkgYSBuby1vcCcpO1xuICAgIHJldHVybiB2YWw7XG4gIH1cblxuICBmdW5jdGlvbiBnZXQoKSB7XG4gICAgdmFyIGFjdGlvbiA9IGlzRnVuY3Rpb24gPyAnYWNjZXNzaW5nIHRoZSBtZXRob2QnIDogJ2FjY2Vzc2luZyB0aGUgcHJvcGVydHknO1xuICAgIHZhciByZXN1bHQgPSBpc0Z1bmN0aW9uID8gJ1RoaXMgaXMgYSBuby1vcCBmdW5jdGlvbicgOiAnVGhpcyBpcyBzZXQgdG8gbnVsbCc7XG4gICAgd2FybihhY3Rpb24sIHJlc3VsdCk7XG4gICAgcmV0dXJuIGdldFZhbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHdhcm4oYWN0aW9uLCByZXN1bHQpIHtcbiAgICB2YXIgd2FybmluZ0NvbmRpdGlvbiA9IGZhbHNlO1xuICAgICF3YXJuaW5nQ29uZGl0aW9uID8gd2FybmluZ1dpdGhvdXRTdGFjayQxKGZhbHNlLCBcIlRoaXMgc3ludGhldGljIGV2ZW50IGlzIHJldXNlZCBmb3IgcGVyZm9ybWFuY2UgcmVhc29ucy4gSWYgeW91J3JlIHNlZWluZyB0aGlzLCBcIiArIFwieW91J3JlICVzIGAlc2Agb24gYSByZWxlYXNlZC9udWxsaWZpZWQgc3ludGhldGljIGV2ZW50LiAlcy4gXCIgKyAnSWYgeW91IG11c3Qga2VlcCB0aGUgb3JpZ2luYWwgc3ludGhldGljIGV2ZW50IGFyb3VuZCwgdXNlIGV2ZW50LnBlcnNpc3QoKS4gJyArICdTZWUgaHR0cHM6Ly9mYi5tZS9yZWFjdC1ldmVudC1wb29saW5nIGZvciBtb3JlIGluZm9ybWF0aW9uLicsIGFjdGlvbiwgcHJvcE5hbWUsIHJlc3VsdCkgOiB2b2lkIDA7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0UG9vbGVkRXZlbnQoZGlzcGF0Y2hDb25maWcsIHRhcmdldEluc3QsIG5hdGl2ZUV2ZW50LCBuYXRpdmVJbnN0KSB7XG4gIHZhciBFdmVudENvbnN0cnVjdG9yID0gdGhpcztcblxuICBpZiAoRXZlbnRDb25zdHJ1Y3Rvci5ldmVudFBvb2wubGVuZ3RoKSB7XG4gICAgdmFyIGluc3RhbmNlID0gRXZlbnRDb25zdHJ1Y3Rvci5ldmVudFBvb2wucG9wKCk7XG4gICAgRXZlbnRDb25zdHJ1Y3Rvci5jYWxsKGluc3RhbmNlLCBkaXNwYXRjaENvbmZpZywgdGFyZ2V0SW5zdCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUluc3QpO1xuICAgIHJldHVybiBpbnN0YW5jZTtcbiAgfVxuXG4gIHJldHVybiBuZXcgRXZlbnRDb25zdHJ1Y3RvcihkaXNwYXRjaENvbmZpZywgdGFyZ2V0SW5zdCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUluc3QpO1xufVxuXG5mdW5jdGlvbiByZWxlYXNlUG9vbGVkRXZlbnQoZXZlbnQpIHtcbiAgdmFyIEV2ZW50Q29uc3RydWN0b3IgPSB0aGlzO1xuXG4gIGlmICghKGV2ZW50IGluc3RhbmNlb2YgRXZlbnRDb25zdHJ1Y3RvcikpIHtcbiAgICB7XG4gICAgICB0aHJvdyBFcnJvcihcIlRyeWluZyB0byByZWxlYXNlIGFuIGV2ZW50IGluc3RhbmNlIGludG8gYSBwb29sIG9mIGEgZGlmZmVyZW50IHR5cGUuXCIpO1xuICAgIH1cbiAgfVxuXG4gIGV2ZW50LmRlc3RydWN0b3IoKTtcblxuICBpZiAoRXZlbnRDb25zdHJ1Y3Rvci5ldmVudFBvb2wubGVuZ3RoIDwgRVZFTlRfUE9PTF9TSVpFKSB7XG4gICAgRXZlbnRDb25zdHJ1Y3Rvci5ldmVudFBvb2wucHVzaChldmVudCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gYWRkRXZlbnRQb29saW5nVG8oRXZlbnRDb25zdHJ1Y3Rvcikge1xuICBFdmVudENvbnN0cnVjdG9yLmV2ZW50UG9vbCA9IFtdO1xuICBFdmVudENvbnN0cnVjdG9yLmdldFBvb2xlZCA9IGdldFBvb2xlZEV2ZW50O1xuICBFdmVudENvbnN0cnVjdG9yLnJlbGVhc2UgPSByZWxlYXNlUG9vbGVkRXZlbnQ7XG59XG5cbi8qKlxuICogQGludGVyZmFjZSBFdmVudFxuICogQHNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi9jc3MzLWFuaW1hdGlvbnMvI0FuaW1hdGlvbkV2ZW50LWludGVyZmFjZVxuICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQW5pbWF0aW9uRXZlbnRcbiAqL1xuXG52YXIgU3ludGhldGljQW5pbWF0aW9uRXZlbnQgPSBTeW50aGV0aWNFdmVudC5leHRlbmQoe1xuICBhbmltYXRpb25OYW1lOiBudWxsLFxuICBlbGFwc2VkVGltZTogbnVsbCxcbiAgcHNldWRvRWxlbWVudDogbnVsbFxufSk7XG5cbi8qKlxuICogQGludGVyZmFjZSBFdmVudFxuICogQHNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi9jbGlwYm9hcmQtYXBpcy9cbiAqL1xuXG52YXIgU3ludGhldGljQ2xpcGJvYXJkRXZlbnQgPSBTeW50aGV0aWNFdmVudC5leHRlbmQoe1xuICBjbGlwYm9hcmREYXRhOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICByZXR1cm4gJ2NsaXBib2FyZERhdGEnIGluIGV2ZW50ID8gZXZlbnQuY2xpcGJvYXJkRGF0YSA6IHdpbmRvdy5jbGlwYm9hcmREYXRhO1xuICB9XG59KTtcblxudmFyIFN5bnRoZXRpY1VJRXZlbnQgPSBTeW50aGV0aWNFdmVudC5leHRlbmQoe1xuICB2aWV3OiBudWxsLFxuICBkZXRhaWw6IG51bGxcbn0pO1xuXG4vKipcbiAqIEBpbnRlcmZhY2UgRm9jdXNFdmVudFxuICogQHNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi9ET00tTGV2ZWwtMy1FdmVudHMvXG4gKi9cblxudmFyIFN5bnRoZXRpY0ZvY3VzRXZlbnQgPSBTeW50aGV0aWNVSUV2ZW50LmV4dGVuZCh7XG4gIHJlbGF0ZWRUYXJnZXQ6IG51bGxcbn0pO1xuXG4vKipcbiAqIGBjaGFyQ29kZWAgcmVwcmVzZW50cyB0aGUgYWN0dWFsIFwiY2hhcmFjdGVyIGNvZGVcIiBhbmQgaXMgc2FmZSB0byB1c2Ugd2l0aFxuICogYFN0cmluZy5mcm9tQ2hhckNvZGVgLiBBcyBzdWNoLCBvbmx5IGtleXMgdGhhdCBjb3JyZXNwb25kIHRvIHByaW50YWJsZVxuICogY2hhcmFjdGVycyBwcm9kdWNlIGEgdmFsaWQgYGNoYXJDb2RlYCwgdGhlIG9ubHkgZXhjZXB0aW9uIHRvIHRoaXMgaXMgRW50ZXIuXG4gKiBUaGUgVGFiLWtleSBpcyBjb25zaWRlcmVkIG5vbi1wcmludGFibGUgYW5kIGRvZXMgbm90IGhhdmUgYSBgY2hhckNvZGVgLFxuICogcHJlc3VtYWJseSBiZWNhdXNlIGl0IGRvZXMgbm90IHByb2R1Y2UgYSB0YWItY2hhcmFjdGVyIGluIGJyb3dzZXJzLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBuYXRpdmVFdmVudCBOYXRpdmUgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge251bWJlcn0gTm9ybWFsaXplZCBgY2hhckNvZGVgIHByb3BlcnR5LlxuICovXG5mdW5jdGlvbiBnZXRFdmVudENoYXJDb2RlKG5hdGl2ZUV2ZW50KSB7XG4gIHZhciBjaGFyQ29kZTtcbiAgdmFyIGtleUNvZGUgPSBuYXRpdmVFdmVudC5rZXlDb2RlO1xuXG4gIGlmICgnY2hhckNvZGUnIGluIG5hdGl2ZUV2ZW50KSB7XG4gICAgY2hhckNvZGUgPSBuYXRpdmVFdmVudC5jaGFyQ29kZTsgLy8gRkYgZG9lcyBub3Qgc2V0IGBjaGFyQ29kZWAgZm9yIHRoZSBFbnRlci1rZXksIGNoZWNrIGFnYWluc3QgYGtleUNvZGVgLlxuXG4gICAgaWYgKGNoYXJDb2RlID09PSAwICYmIGtleUNvZGUgPT09IDEzKSB7XG4gICAgICBjaGFyQ29kZSA9IDEzO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBJRTggZG9lcyBub3QgaW1wbGVtZW50IGBjaGFyQ29kZWAsIGJ1dCBga2V5Q29kZWAgaGFzIHRoZSBjb3JyZWN0IHZhbHVlLlxuICAgIGNoYXJDb2RlID0ga2V5Q29kZTtcbiAgfSAvLyBJRSBhbmQgRWRnZSAob24gV2luZG93cykgYW5kIENocm9tZSAvIFNhZmFyaSAob24gV2luZG93cyBhbmQgTGludXgpXG4gIC8vIHJlcG9ydCBFbnRlciBhcyBjaGFyQ29kZSAxMCB3aGVuIGN0cmwgaXMgcHJlc3NlZC5cblxuXG4gIGlmIChjaGFyQ29kZSA9PT0gMTApIHtcbiAgICBjaGFyQ29kZSA9IDEzO1xuICB9IC8vIFNvbWUgbm9uLXByaW50YWJsZSBrZXlzIGFyZSByZXBvcnRlZCBpbiBgY2hhckNvZGVgL2BrZXlDb2RlYCwgZGlzY2FyZCB0aGVtLlxuICAvLyBNdXN0IG5vdCBkaXNjYXJkIHRoZSAobm9uLSlwcmludGFibGUgRW50ZXIta2V5LlxuXG5cbiAgaWYgKGNoYXJDb2RlID49IDMyIHx8IGNoYXJDb2RlID09PSAxMykge1xuICAgIHJldHVybiBjaGFyQ29kZTtcbiAgfVxuXG4gIHJldHVybiAwO1xufVxuXG4vKipcbiAqIE5vcm1hbGl6YXRpb24gb2YgZGVwcmVjYXRlZCBIVE1MNSBga2V5YCB2YWx1ZXNcbiAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0tleWJvYXJkRXZlbnQjS2V5X25hbWVzXG4gKi9cblxudmFyIG5vcm1hbGl6ZUtleSA9IHtcbiAgRXNjOiAnRXNjYXBlJyxcbiAgU3BhY2ViYXI6ICcgJyxcbiAgTGVmdDogJ0Fycm93TGVmdCcsXG4gIFVwOiAnQXJyb3dVcCcsXG4gIFJpZ2h0OiAnQXJyb3dSaWdodCcsXG4gIERvd246ICdBcnJvd0Rvd24nLFxuICBEZWw6ICdEZWxldGUnLFxuICBXaW46ICdPUycsXG4gIE1lbnU6ICdDb250ZXh0TWVudScsXG4gIEFwcHM6ICdDb250ZXh0TWVudScsXG4gIFNjcm9sbDogJ1Njcm9sbExvY2snLFxuICBNb3pQcmludGFibGVLZXk6ICdVbmlkZW50aWZpZWQnXG59O1xuLyoqXG4gKiBUcmFuc2xhdGlvbiBmcm9tIGxlZ2FjeSBga2V5Q29kZWAgdG8gSFRNTDUgYGtleWBcbiAqIE9ubHkgc3BlY2lhbCBrZXlzIHN1cHBvcnRlZCwgYWxsIG90aGVycyBkZXBlbmQgb24ga2V5Ym9hcmQgbGF5b3V0IG9yIGJyb3dzZXJcbiAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0tleWJvYXJkRXZlbnQjS2V5X25hbWVzXG4gKi9cblxudmFyIHRyYW5zbGF0ZVRvS2V5ID0ge1xuICAnOCc6ICdCYWNrc3BhY2UnLFxuICAnOSc6ICdUYWInLFxuICAnMTInOiAnQ2xlYXInLFxuICAnMTMnOiAnRW50ZXInLFxuICAnMTYnOiAnU2hpZnQnLFxuICAnMTcnOiAnQ29udHJvbCcsXG4gICcxOCc6ICdBbHQnLFxuICAnMTknOiAnUGF1c2UnLFxuICAnMjAnOiAnQ2Fwc0xvY2snLFxuICAnMjcnOiAnRXNjYXBlJyxcbiAgJzMyJzogJyAnLFxuICAnMzMnOiAnUGFnZVVwJyxcbiAgJzM0JzogJ1BhZ2VEb3duJyxcbiAgJzM1JzogJ0VuZCcsXG4gICczNic6ICdIb21lJyxcbiAgJzM3JzogJ0Fycm93TGVmdCcsXG4gICczOCc6ICdBcnJvd1VwJyxcbiAgJzM5JzogJ0Fycm93UmlnaHQnLFxuICAnNDAnOiAnQXJyb3dEb3duJyxcbiAgJzQ1JzogJ0luc2VydCcsXG4gICc0Nic6ICdEZWxldGUnLFxuICAnMTEyJzogJ0YxJyxcbiAgJzExMyc6ICdGMicsXG4gICcxMTQnOiAnRjMnLFxuICAnMTE1JzogJ0Y0JyxcbiAgJzExNic6ICdGNScsXG4gICcxMTcnOiAnRjYnLFxuICAnMTE4JzogJ0Y3JyxcbiAgJzExOSc6ICdGOCcsXG4gICcxMjAnOiAnRjknLFxuICAnMTIxJzogJ0YxMCcsXG4gICcxMjInOiAnRjExJyxcbiAgJzEyMyc6ICdGMTInLFxuICAnMTQ0JzogJ051bUxvY2snLFxuICAnMTQ1JzogJ1Njcm9sbExvY2snLFxuICAnMjI0JzogJ01ldGEnXG59O1xuLyoqXG4gKiBAcGFyYW0ge29iamVjdH0gbmF0aXZlRXZlbnQgTmF0aXZlIGJyb3dzZXIgZXZlbnQuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IE5vcm1hbGl6ZWQgYGtleWAgcHJvcGVydHkuXG4gKi9cblxuZnVuY3Rpb24gZ2V0RXZlbnRLZXkobmF0aXZlRXZlbnQpIHtcbiAgaWYgKG5hdGl2ZUV2ZW50LmtleSkge1xuICAgIC8vIE5vcm1hbGl6ZSBpbmNvbnNpc3RlbnQgdmFsdWVzIHJlcG9ydGVkIGJ5IGJyb3dzZXJzIGR1ZSB0b1xuICAgIC8vIGltcGxlbWVudGF0aW9ucyBvZiBhIHdvcmtpbmcgZHJhZnQgc3BlY2lmaWNhdGlvbi5cbiAgICAvLyBGaXJlRm94IGltcGxlbWVudHMgYGtleWAgYnV0IHJldHVybnMgYE1velByaW50YWJsZUtleWAgZm9yIGFsbFxuICAgIC8vIHByaW50YWJsZSBjaGFyYWN0ZXJzIChub3JtYWxpemVkIHRvIGBVbmlkZW50aWZpZWRgKSwgaWdub3JlIGl0LlxuICAgIHZhciBrZXkgPSBub3JtYWxpemVLZXlbbmF0aXZlRXZlbnQua2V5XSB8fCBuYXRpdmVFdmVudC5rZXk7XG5cbiAgICBpZiAoa2V5ICE9PSAnVW5pZGVudGlmaWVkJykge1xuICAgICAgcmV0dXJuIGtleTtcbiAgICB9XG4gIH0gLy8gQnJvd3NlciBkb2VzIG5vdCBpbXBsZW1lbnQgYGtleWAsIHBvbHlmaWxsIGFzIG11Y2ggb2YgaXQgYXMgd2UgY2FuLlxuXG5cbiAgaWYgKG5hdGl2ZUV2ZW50LnR5cGUgPT09ICdrZXlwcmVzcycpIHtcbiAgICB2YXIgY2hhckNvZGUgPSBnZXRFdmVudENoYXJDb2RlKG5hdGl2ZUV2ZW50KTsgLy8gVGhlIGVudGVyLWtleSBpcyB0ZWNobmljYWxseSBib3RoIHByaW50YWJsZSBhbmQgbm9uLXByaW50YWJsZSBhbmQgY2FuXG4gICAgLy8gdGh1cyBiZSBjYXB0dXJlZCBieSBga2V5cHJlc3NgLCBubyBvdGhlciBub24tcHJpbnRhYmxlIGtleSBzaG91bGQuXG5cbiAgICByZXR1cm4gY2hhckNvZGUgPT09IDEzID8gJ0VudGVyJyA6IFN0cmluZy5mcm9tQ2hhckNvZGUoY2hhckNvZGUpO1xuICB9XG5cbiAgaWYgKG5hdGl2ZUV2ZW50LnR5cGUgPT09ICdrZXlkb3duJyB8fCBuYXRpdmVFdmVudC50eXBlID09PSAna2V5dXAnKSB7XG4gICAgLy8gV2hpbGUgdXNlciBrZXlib2FyZCBsYXlvdXQgZGV0ZXJtaW5lcyB0aGUgYWN0dWFsIG1lYW5pbmcgb2YgZWFjaFxuICAgIC8vIGBrZXlDb2RlYCB2YWx1ZSwgYWxtb3N0IGFsbCBmdW5jdGlvbiBrZXlzIGhhdmUgYSB1bml2ZXJzYWwgdmFsdWUuXG4gICAgcmV0dXJuIHRyYW5zbGF0ZVRvS2V5W25hdGl2ZUV2ZW50LmtleUNvZGVdIHx8ICdVbmlkZW50aWZpZWQnO1xuICB9XG5cbiAgcmV0dXJuICcnO1xufVxuXG4vKipcbiAqIFRyYW5zbGF0aW9uIGZyb20gbW9kaWZpZXIga2V5IHRvIHRoZSBhc3NvY2lhdGVkIHByb3BlcnR5IGluIHRoZSBldmVudC5cbiAqIEBzZWUgaHR0cDovL3d3dy53My5vcmcvVFIvRE9NLUxldmVsLTMtRXZlbnRzLyNrZXlzLU1vZGlmaWVyc1xuICovXG52YXIgbW9kaWZpZXJLZXlUb1Byb3AgPSB7XG4gIEFsdDogJ2FsdEtleScsXG4gIENvbnRyb2w6ICdjdHJsS2V5JyxcbiAgTWV0YTogJ21ldGFLZXknLFxuICBTaGlmdDogJ3NoaWZ0S2V5J1xufTsgLy8gT2xkZXIgYnJvd3NlcnMgKFNhZmFyaSA8PSAxMCwgaU9TIFNhZmFyaSA8PSAxMC4yKSBkbyBub3Qgc3VwcG9ydFxuLy8gZ2V0TW9kaWZpZXJTdGF0ZS4gSWYgZ2V0TW9kaWZpZXJTdGF0ZSBpcyBub3Qgc3VwcG9ydGVkLCB3ZSBtYXAgaXQgdG8gYSBzZXQgb2Zcbi8vIG1vZGlmaWVyIGtleXMgZXhwb3NlZCBieSB0aGUgZXZlbnQuIEluIHRoaXMgY2FzZSwgTG9jay1rZXlzIGFyZSBub3Qgc3VwcG9ydGVkLlxuXG5mdW5jdGlvbiBtb2RpZmllclN0YXRlR2V0dGVyKGtleUFyZykge1xuICB2YXIgc3ludGhldGljRXZlbnQgPSB0aGlzO1xuICB2YXIgbmF0aXZlRXZlbnQgPSBzeW50aGV0aWNFdmVudC5uYXRpdmVFdmVudDtcblxuICBpZiAobmF0aXZlRXZlbnQuZ2V0TW9kaWZpZXJTdGF0ZSkge1xuICAgIHJldHVybiBuYXRpdmVFdmVudC5nZXRNb2RpZmllclN0YXRlKGtleUFyZyk7XG4gIH1cblxuICB2YXIga2V5UHJvcCA9IG1vZGlmaWVyS2V5VG9Qcm9wW2tleUFyZ107XG4gIHJldHVybiBrZXlQcm9wID8gISFuYXRpdmVFdmVudFtrZXlQcm9wXSA6IGZhbHNlO1xufVxuXG5mdW5jdGlvbiBnZXRFdmVudE1vZGlmaWVyU3RhdGUobmF0aXZlRXZlbnQpIHtcbiAgcmV0dXJuIG1vZGlmaWVyU3RhdGVHZXR0ZXI7XG59XG5cbi8qKlxuICogQGludGVyZmFjZSBLZXlib2FyZEV2ZW50XG4gKiBAc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSL0RPTS1MZXZlbC0zLUV2ZW50cy9cbiAqL1xuXG52YXIgU3ludGhldGljS2V5Ym9hcmRFdmVudCA9IFN5bnRoZXRpY1VJRXZlbnQuZXh0ZW5kKHtcbiAga2V5OiBnZXRFdmVudEtleSxcbiAgbG9jYXRpb246IG51bGwsXG4gIGN0cmxLZXk6IG51bGwsXG4gIHNoaWZ0S2V5OiBudWxsLFxuICBhbHRLZXk6IG51bGwsXG4gIG1ldGFLZXk6IG51bGwsXG4gIHJlcGVhdDogbnVsbCxcbiAgbG9jYWxlOiBudWxsLFxuICBnZXRNb2RpZmllclN0YXRlOiBnZXRFdmVudE1vZGlmaWVyU3RhdGUsXG4gIC8vIExlZ2FjeSBJbnRlcmZhY2VcbiAgY2hhckNvZGU6IGZ1bmN0aW9uIChldmVudCkge1xuICAgIC8vIGBjaGFyQ29kZWAgaXMgdGhlIHJlc3VsdCBvZiBhIEtleVByZXNzIGV2ZW50IGFuZCByZXByZXNlbnRzIHRoZSB2YWx1ZSBvZlxuICAgIC8vIHRoZSBhY3R1YWwgcHJpbnRhYmxlIGNoYXJhY3Rlci5cbiAgICAvLyBLZXlQcmVzcyBpcyBkZXByZWNhdGVkLCBidXQgaXRzIHJlcGxhY2VtZW50IGlzIG5vdCB5ZXQgZmluYWwgYW5kIG5vdFxuICAgIC8vIGltcGxlbWVudGVkIGluIGFueSBtYWpvciBicm93c2VyLiBPbmx5IEtleVByZXNzIGhhcyBjaGFyQ29kZS5cbiAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ2tleXByZXNzJykge1xuICAgICAgcmV0dXJuIGdldEV2ZW50Q2hhckNvZGUoZXZlbnQpO1xuICAgIH1cblxuICAgIHJldHVybiAwO1xuICB9LFxuICBrZXlDb2RlOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAvLyBga2V5Q29kZWAgaXMgdGhlIHJlc3VsdCBvZiBhIEtleURvd24vVXAgZXZlbnQgYW5kIHJlcHJlc2VudHMgdGhlIHZhbHVlIG9mXG4gICAgLy8gcGh5c2ljYWwga2V5Ym9hcmQga2V5LlxuICAgIC8vIFRoZSBhY3R1YWwgbWVhbmluZyBvZiB0aGUgdmFsdWUgZGVwZW5kcyBvbiB0aGUgdXNlcnMnIGtleWJvYXJkIGxheW91dFxuICAgIC8vIHdoaWNoIGNhbm5vdCBiZSBkZXRlY3RlZC4gQXNzdW1pbmcgdGhhdCBpdCBpcyBhIFVTIGtleWJvYXJkIGxheW91dFxuICAgIC8vIHByb3ZpZGVzIGEgc3VycHJpc2luZ2x5IGFjY3VyYXRlIG1hcHBpbmcgZm9yIFVTIGFuZCBFdXJvcGVhbiB1c2Vycy5cbiAgICAvLyBEdWUgdG8gdGhpcywgaXQgaXMgbGVmdCB0byB0aGUgdXNlciB0byBpbXBsZW1lbnQgYXQgdGhpcyB0aW1lLlxuICAgIGlmIChldmVudC50eXBlID09PSAna2V5ZG93bicgfHwgZXZlbnQudHlwZSA9PT0gJ2tleXVwJykge1xuICAgICAgcmV0dXJuIGV2ZW50LmtleUNvZGU7XG4gICAgfVxuXG4gICAgcmV0dXJuIDA7XG4gIH0sXG4gIHdoaWNoOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAvLyBgd2hpY2hgIGlzIGFuIGFsaWFzIGZvciBlaXRoZXIgYGtleUNvZGVgIG9yIGBjaGFyQ29kZWAgZGVwZW5kaW5nIG9uIHRoZVxuICAgIC8vIHR5cGUgb2YgdGhlIGV2ZW50LlxuICAgIGlmIChldmVudC50eXBlID09PSAna2V5cHJlc3MnKSB7XG4gICAgICByZXR1cm4gZ2V0RXZlbnRDaGFyQ29kZShldmVudCk7XG4gICAgfVxuXG4gICAgaWYgKGV2ZW50LnR5cGUgPT09ICdrZXlkb3duJyB8fCBldmVudC50eXBlID09PSAna2V5dXAnKSB7XG4gICAgICByZXR1cm4gZXZlbnQua2V5Q29kZTtcbiAgICB9XG5cbiAgICByZXR1cm4gMDtcbiAgfVxufSk7XG5cbnZhciBwcmV2aW91c1NjcmVlblggPSAwO1xudmFyIHByZXZpb3VzU2NyZWVuWSA9IDA7IC8vIFVzZSBmbGFncyB0byBzaWduYWwgbW92ZW1lbnRYL1kgaGFzIGFscmVhZHkgYmVlbiBzZXRcblxudmFyIGlzTW92ZW1lbnRYU2V0ID0gZmFsc2U7XG52YXIgaXNNb3ZlbWVudFlTZXQgPSBmYWxzZTtcbi8qKlxuICogQGludGVyZmFjZSBNb3VzZUV2ZW50XG4gKiBAc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSL0RPTS1MZXZlbC0zLUV2ZW50cy9cbiAqL1xuXG52YXIgU3ludGhldGljTW91c2VFdmVudCA9IFN5bnRoZXRpY1VJRXZlbnQuZXh0ZW5kKHtcbiAgc2NyZWVuWDogbnVsbCxcbiAgc2NyZWVuWTogbnVsbCxcbiAgY2xpZW50WDogbnVsbCxcbiAgY2xpZW50WTogbnVsbCxcbiAgcGFnZVg6IG51bGwsXG4gIHBhZ2VZOiBudWxsLFxuICBjdHJsS2V5OiBudWxsLFxuICBzaGlmdEtleTogbnVsbCxcbiAgYWx0S2V5OiBudWxsLFxuICBtZXRhS2V5OiBudWxsLFxuICBnZXRNb2RpZmllclN0YXRlOiBnZXRFdmVudE1vZGlmaWVyU3RhdGUsXG4gIGJ1dHRvbjogbnVsbCxcbiAgYnV0dG9uczogbnVsbCxcbiAgcmVsYXRlZFRhcmdldDogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgcmV0dXJuIGV2ZW50LnJlbGF0ZWRUYXJnZXQgfHwgKGV2ZW50LmZyb21FbGVtZW50ID09PSBldmVudC5zcmNFbGVtZW50ID8gZXZlbnQudG9FbGVtZW50IDogZXZlbnQuZnJvbUVsZW1lbnQpO1xuICB9LFxuICBtb3ZlbWVudFg6IGZ1bmN0aW9uIChldmVudCkge1xuICAgIGlmICgnbW92ZW1lbnRYJyBpbiBldmVudCkge1xuICAgICAgcmV0dXJuIGV2ZW50Lm1vdmVtZW50WDtcbiAgICB9XG5cbiAgICB2YXIgc2NyZWVuWCA9IHByZXZpb3VzU2NyZWVuWDtcbiAgICBwcmV2aW91c1NjcmVlblggPSBldmVudC5zY3JlZW5YO1xuXG4gICAgaWYgKCFpc01vdmVtZW50WFNldCkge1xuICAgICAgaXNNb3ZlbWVudFhTZXQgPSB0cnVlO1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgcmV0dXJuIGV2ZW50LnR5cGUgPT09ICdtb3VzZW1vdmUnID8gZXZlbnQuc2NyZWVuWCAtIHNjcmVlblggOiAwO1xuICB9LFxuICBtb3ZlbWVudFk6IGZ1bmN0aW9uIChldmVudCkge1xuICAgIGlmICgnbW92ZW1lbnRZJyBpbiBldmVudCkge1xuICAgICAgcmV0dXJuIGV2ZW50Lm1vdmVtZW50WTtcbiAgICB9XG5cbiAgICB2YXIgc2NyZWVuWSA9IHByZXZpb3VzU2NyZWVuWTtcbiAgICBwcmV2aW91c1NjcmVlblkgPSBldmVudC5zY3JlZW5ZO1xuXG4gICAgaWYgKCFpc01vdmVtZW50WVNldCkge1xuICAgICAgaXNNb3ZlbWVudFlTZXQgPSB0cnVlO1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgcmV0dXJuIGV2ZW50LnR5cGUgPT09ICdtb3VzZW1vdmUnID8gZXZlbnQuc2NyZWVuWSAtIHNjcmVlblkgOiAwO1xuICB9XG59KTtcblxuLyoqXG4gKiBAaW50ZXJmYWNlIFBvaW50ZXJFdmVudFxuICogQHNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi9wb2ludGVyZXZlbnRzL1xuICovXG5cbnZhciBTeW50aGV0aWNQb2ludGVyRXZlbnQgPSBTeW50aGV0aWNNb3VzZUV2ZW50LmV4dGVuZCh7XG4gIHBvaW50ZXJJZDogbnVsbCxcbiAgd2lkdGg6IG51bGwsXG4gIGhlaWdodDogbnVsbCxcbiAgcHJlc3N1cmU6IG51bGwsXG4gIHRhbmdlbnRpYWxQcmVzc3VyZTogbnVsbCxcbiAgdGlsdFg6IG51bGwsXG4gIHRpbHRZOiBudWxsLFxuICB0d2lzdDogbnVsbCxcbiAgcG9pbnRlclR5cGU6IG51bGwsXG4gIGlzUHJpbWFyeTogbnVsbFxufSk7XG5cbi8qKlxuICogQGludGVyZmFjZSBEcmFnRXZlbnRcbiAqIEBzZWUgaHR0cDovL3d3dy53My5vcmcvVFIvRE9NLUxldmVsLTMtRXZlbnRzL1xuICovXG5cbnZhciBTeW50aGV0aWNEcmFnRXZlbnQgPSBTeW50aGV0aWNNb3VzZUV2ZW50LmV4dGVuZCh7XG4gIGRhdGFUcmFuc2ZlcjogbnVsbFxufSk7XG5cbi8qKlxuICogQGludGVyZmFjZSBUb3VjaEV2ZW50XG4gKiBAc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSL3RvdWNoLWV2ZW50cy9cbiAqL1xuXG52YXIgU3ludGhldGljVG91Y2hFdmVudCA9IFN5bnRoZXRpY1VJRXZlbnQuZXh0ZW5kKHtcbiAgdG91Y2hlczogbnVsbCxcbiAgdGFyZ2V0VG91Y2hlczogbnVsbCxcbiAgY2hhbmdlZFRvdWNoZXM6IG51bGwsXG4gIGFsdEtleTogbnVsbCxcbiAgbWV0YUtleTogbnVsbCxcbiAgY3RybEtleTogbnVsbCxcbiAgc2hpZnRLZXk6IG51bGwsXG4gIGdldE1vZGlmaWVyU3RhdGU6IGdldEV2ZW50TW9kaWZpZXJTdGF0ZVxufSk7XG5cbi8qKlxuICogQGludGVyZmFjZSBFdmVudFxuICogQHNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi8yMDA5L1dELWNzczMtdHJhbnNpdGlvbnMtMjAwOTAzMjAvI3RyYW5zaXRpb24tZXZlbnRzLVxuICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvVHJhbnNpdGlvbkV2ZW50XG4gKi9cblxudmFyIFN5bnRoZXRpY1RyYW5zaXRpb25FdmVudCA9IFN5bnRoZXRpY0V2ZW50LmV4dGVuZCh7XG4gIHByb3BlcnR5TmFtZTogbnVsbCxcbiAgZWxhcHNlZFRpbWU6IG51bGwsXG4gIHBzZXVkb0VsZW1lbnQ6IG51bGxcbn0pO1xuXG4vKipcbiAqIEBpbnRlcmZhY2UgV2hlZWxFdmVudFxuICogQHNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi9ET00tTGV2ZWwtMy1FdmVudHMvXG4gKi9cblxudmFyIFN5bnRoZXRpY1doZWVsRXZlbnQgPSBTeW50aGV0aWNNb3VzZUV2ZW50LmV4dGVuZCh7XG4gIGRlbHRhWDogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgcmV0dXJuICdkZWx0YVgnIGluIGV2ZW50ID8gZXZlbnQuZGVsdGFYIDogLy8gRmFsbGJhY2sgdG8gYHdoZWVsRGVsdGFYYCBmb3IgV2Via2l0IGFuZCBub3JtYWxpemUgKHJpZ2h0IGlzIHBvc2l0aXZlKS5cbiAgICAnd2hlZWxEZWx0YVgnIGluIGV2ZW50ID8gLWV2ZW50LndoZWVsRGVsdGFYIDogMDtcbiAgfSxcbiAgZGVsdGFZOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICByZXR1cm4gJ2RlbHRhWScgaW4gZXZlbnQgPyBldmVudC5kZWx0YVkgOiAvLyBGYWxsYmFjayB0byBgd2hlZWxEZWx0YVlgIGZvciBXZWJraXQgYW5kIG5vcm1hbGl6ZSAoZG93biBpcyBwb3NpdGl2ZSkuXG4gICAgJ3doZWVsRGVsdGFZJyBpbiBldmVudCA/IC1ldmVudC53aGVlbERlbHRhWSA6IC8vIEZhbGxiYWNrIHRvIGB3aGVlbERlbHRhYCBmb3IgSUU8OSBhbmQgbm9ybWFsaXplIChkb3duIGlzIHBvc2l0aXZlKS5cbiAgICAnd2hlZWxEZWx0YScgaW4gZXZlbnQgPyAtZXZlbnQud2hlZWxEZWx0YSA6IDA7XG4gIH0sXG4gIGRlbHRhWjogbnVsbCxcbiAgLy8gQnJvd3NlcnMgd2l0aG91dCBcImRlbHRhTW9kZVwiIGlzIHJlcG9ydGluZyBpbiByYXcgd2hlZWwgZGVsdGEgd2hlcmUgb25lXG4gIC8vIG5vdGNoIG9uIHRoZSBzY3JvbGwgaXMgYWx3YXlzICsvLSAxMjAsIHJvdWdobHkgZXF1aXZhbGVudCB0byBwaXhlbHMuXG4gIC8vIEEgZ29vZCBhcHByb3hpbWF0aW9uIG9mIERPTV9ERUxUQV9MSU5FICgxKSBpcyA1JSBvZiB2aWV3cG9ydCBzaXplIG9yXG4gIC8vIH40MCBwaXhlbHMsIGZvciBET01fREVMVEFfU0NSRUVOICgyKSBpdCBpcyA4Ny41JSBvZiB2aWV3cG9ydCBzaXplLlxuICBkZWx0YU1vZGU6IG51bGxcbn0pO1xuXG4vKipcbiAqIFR1cm5zXG4gKiBbJ2Fib3J0JywgLi4uXVxuICogaW50b1xuICogZXZlbnRUeXBlcyA9IHtcbiAqICAgJ2Fib3J0Jzoge1xuICogICAgIHBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gKiAgICAgICBidWJibGVkOiAnb25BYm9ydCcsXG4gKiAgICAgICBjYXB0dXJlZDogJ29uQWJvcnRDYXB0dXJlJyxcbiAqICAgICB9LFxuICogICAgIGRlcGVuZGVuY2llczogW1RPUF9BQk9SVF0sXG4gKiAgIH0sXG4gKiAgIC4uLlxuICogfTtcbiAqIHRvcExldmVsRXZlbnRzVG9EaXNwYXRjaENvbmZpZyA9IG5ldyBNYXAoW1xuICogICBbVE9QX0FCT1JULCB7IHNhbWVDb25maWcgfV0sXG4gKiBdKTtcbiAqL1xuXG52YXIgZXZlbnRUdXBsZXMgPSBbLy8gRGlzY3JldGUgZXZlbnRzXG5bVE9QX0JMVVIsICdibHVyJywgRGlzY3JldGVFdmVudF0sIFtUT1BfQ0FOQ0VMLCAnY2FuY2VsJywgRGlzY3JldGVFdmVudF0sIFtUT1BfQ0xJQ0ssICdjbGljaycsIERpc2NyZXRlRXZlbnRdLCBbVE9QX0NMT1NFLCAnY2xvc2UnLCBEaXNjcmV0ZUV2ZW50XSwgW1RPUF9DT05URVhUX01FTlUsICdjb250ZXh0TWVudScsIERpc2NyZXRlRXZlbnRdLCBbVE9QX0NPUFksICdjb3B5JywgRGlzY3JldGVFdmVudF0sIFtUT1BfQ1VULCAnY3V0JywgRGlzY3JldGVFdmVudF0sIFtUT1BfQVVYX0NMSUNLLCAnYXV4Q2xpY2snLCBEaXNjcmV0ZUV2ZW50XSwgW1RPUF9ET1VCTEVfQ0xJQ0ssICdkb3VibGVDbGljaycsIERpc2NyZXRlRXZlbnRdLCBbVE9QX0RSQUdfRU5ELCAnZHJhZ0VuZCcsIERpc2NyZXRlRXZlbnRdLCBbVE9QX0RSQUdfU1RBUlQsICdkcmFnU3RhcnQnLCBEaXNjcmV0ZUV2ZW50XSwgW1RPUF9EUk9QLCAnZHJvcCcsIERpc2NyZXRlRXZlbnRdLCBbVE9QX0ZPQ1VTLCAnZm9jdXMnLCBEaXNjcmV0ZUV2ZW50XSwgW1RPUF9JTlBVVCwgJ2lucHV0JywgRGlzY3JldGVFdmVudF0sIFtUT1BfSU5WQUxJRCwgJ2ludmFsaWQnLCBEaXNjcmV0ZUV2ZW50XSwgW1RPUF9LRVlfRE9XTiwgJ2tleURvd24nLCBEaXNjcmV0ZUV2ZW50XSwgW1RPUF9LRVlfUFJFU1MsICdrZXlQcmVzcycsIERpc2NyZXRlRXZlbnRdLCBbVE9QX0tFWV9VUCwgJ2tleVVwJywgRGlzY3JldGVFdmVudF0sIFtUT1BfTU9VU0VfRE9XTiwgJ21vdXNlRG93bicsIERpc2NyZXRlRXZlbnRdLCBbVE9QX01PVVNFX1VQLCAnbW91c2VVcCcsIERpc2NyZXRlRXZlbnRdLCBbVE9QX1BBU1RFLCAncGFzdGUnLCBEaXNjcmV0ZUV2ZW50XSwgW1RPUF9QQVVTRSwgJ3BhdXNlJywgRGlzY3JldGVFdmVudF0sIFtUT1BfUExBWSwgJ3BsYXknLCBEaXNjcmV0ZUV2ZW50XSwgW1RPUF9QT0lOVEVSX0NBTkNFTCwgJ3BvaW50ZXJDYW5jZWwnLCBEaXNjcmV0ZUV2ZW50XSwgW1RPUF9QT0lOVEVSX0RPV04sICdwb2ludGVyRG93bicsIERpc2NyZXRlRXZlbnRdLCBbVE9QX1BPSU5URVJfVVAsICdwb2ludGVyVXAnLCBEaXNjcmV0ZUV2ZW50XSwgW1RPUF9SQVRFX0NIQU5HRSwgJ3JhdGVDaGFuZ2UnLCBEaXNjcmV0ZUV2ZW50XSwgW1RPUF9SRVNFVCwgJ3Jlc2V0JywgRGlzY3JldGVFdmVudF0sIFtUT1BfU0VFS0VELCAnc2Vla2VkJywgRGlzY3JldGVFdmVudF0sIFtUT1BfU1VCTUlULCAnc3VibWl0JywgRGlzY3JldGVFdmVudF0sIFtUT1BfVE9VQ0hfQ0FOQ0VMLCAndG91Y2hDYW5jZWwnLCBEaXNjcmV0ZUV2ZW50XSwgW1RPUF9UT1VDSF9FTkQsICd0b3VjaEVuZCcsIERpc2NyZXRlRXZlbnRdLCBbVE9QX1RPVUNIX1NUQVJULCAndG91Y2hTdGFydCcsIERpc2NyZXRlRXZlbnRdLCBbVE9QX1ZPTFVNRV9DSEFOR0UsICd2b2x1bWVDaGFuZ2UnLCBEaXNjcmV0ZUV2ZW50XSwgLy8gVXNlci1ibG9ja2luZyBldmVudHNcbltUT1BfRFJBRywgJ2RyYWcnLCBVc2VyQmxvY2tpbmdFdmVudF0sIFtUT1BfRFJBR19FTlRFUiwgJ2RyYWdFbnRlcicsIFVzZXJCbG9ja2luZ0V2ZW50XSwgW1RPUF9EUkFHX0VYSVQsICdkcmFnRXhpdCcsIFVzZXJCbG9ja2luZ0V2ZW50XSwgW1RPUF9EUkFHX0xFQVZFLCAnZHJhZ0xlYXZlJywgVXNlckJsb2NraW5nRXZlbnRdLCBbVE9QX0RSQUdfT1ZFUiwgJ2RyYWdPdmVyJywgVXNlckJsb2NraW5nRXZlbnRdLCBbVE9QX01PVVNFX01PVkUsICdtb3VzZU1vdmUnLCBVc2VyQmxvY2tpbmdFdmVudF0sIFtUT1BfTU9VU0VfT1VULCAnbW91c2VPdXQnLCBVc2VyQmxvY2tpbmdFdmVudF0sIFtUT1BfTU9VU0VfT1ZFUiwgJ21vdXNlT3ZlcicsIFVzZXJCbG9ja2luZ0V2ZW50XSwgW1RPUF9QT0lOVEVSX01PVkUsICdwb2ludGVyTW92ZScsIFVzZXJCbG9ja2luZ0V2ZW50XSwgW1RPUF9QT0lOVEVSX09VVCwgJ3BvaW50ZXJPdXQnLCBVc2VyQmxvY2tpbmdFdmVudF0sIFtUT1BfUE9JTlRFUl9PVkVSLCAncG9pbnRlck92ZXInLCBVc2VyQmxvY2tpbmdFdmVudF0sIFtUT1BfU0NST0xMLCAnc2Nyb2xsJywgVXNlckJsb2NraW5nRXZlbnRdLCBbVE9QX1RPR0dMRSwgJ3RvZ2dsZScsIFVzZXJCbG9ja2luZ0V2ZW50XSwgW1RPUF9UT1VDSF9NT1ZFLCAndG91Y2hNb3ZlJywgVXNlckJsb2NraW5nRXZlbnRdLCBbVE9QX1dIRUVMLCAnd2hlZWwnLCBVc2VyQmxvY2tpbmdFdmVudF0sIC8vIENvbnRpbnVvdXMgZXZlbnRzXG5bVE9QX0FCT1JULCAnYWJvcnQnLCBDb250aW51b3VzRXZlbnRdLCBbVE9QX0FOSU1BVElPTl9FTkQsICdhbmltYXRpb25FbmQnLCBDb250aW51b3VzRXZlbnRdLCBbVE9QX0FOSU1BVElPTl9JVEVSQVRJT04sICdhbmltYXRpb25JdGVyYXRpb24nLCBDb250aW51b3VzRXZlbnRdLCBbVE9QX0FOSU1BVElPTl9TVEFSVCwgJ2FuaW1hdGlvblN0YXJ0JywgQ29udGludW91c0V2ZW50XSwgW1RPUF9DQU5fUExBWSwgJ2NhblBsYXknLCBDb250aW51b3VzRXZlbnRdLCBbVE9QX0NBTl9QTEFZX1RIUk9VR0gsICdjYW5QbGF5VGhyb3VnaCcsIENvbnRpbnVvdXNFdmVudF0sIFtUT1BfRFVSQVRJT05fQ0hBTkdFLCAnZHVyYXRpb25DaGFuZ2UnLCBDb250aW51b3VzRXZlbnRdLCBbVE9QX0VNUFRJRUQsICdlbXB0aWVkJywgQ29udGludW91c0V2ZW50XSwgW1RPUF9FTkNSWVBURUQsICdlbmNyeXB0ZWQnLCBDb250aW51b3VzRXZlbnRdLCBbVE9QX0VOREVELCAnZW5kZWQnLCBDb250aW51b3VzRXZlbnRdLCBbVE9QX0VSUk9SLCAnZXJyb3InLCBDb250aW51b3VzRXZlbnRdLCBbVE9QX0dPVF9QT0lOVEVSX0NBUFRVUkUsICdnb3RQb2ludGVyQ2FwdHVyZScsIENvbnRpbnVvdXNFdmVudF0sIFtUT1BfTE9BRCwgJ2xvYWQnLCBDb250aW51b3VzRXZlbnRdLCBbVE9QX0xPQURFRF9EQVRBLCAnbG9hZGVkRGF0YScsIENvbnRpbnVvdXNFdmVudF0sIFtUT1BfTE9BREVEX01FVEFEQVRBLCAnbG9hZGVkTWV0YWRhdGEnLCBDb250aW51b3VzRXZlbnRdLCBbVE9QX0xPQURfU1RBUlQsICdsb2FkU3RhcnQnLCBDb250aW51b3VzRXZlbnRdLCBbVE9QX0xPU1RfUE9JTlRFUl9DQVBUVVJFLCAnbG9zdFBvaW50ZXJDYXB0dXJlJywgQ29udGludW91c0V2ZW50XSwgW1RPUF9QTEFZSU5HLCAncGxheWluZycsIENvbnRpbnVvdXNFdmVudF0sIFtUT1BfUFJPR1JFU1MsICdwcm9ncmVzcycsIENvbnRpbnVvdXNFdmVudF0sIFtUT1BfU0VFS0lORywgJ3NlZWtpbmcnLCBDb250aW51b3VzRXZlbnRdLCBbVE9QX1NUQUxMRUQsICdzdGFsbGVkJywgQ29udGludW91c0V2ZW50XSwgW1RPUF9TVVNQRU5ELCAnc3VzcGVuZCcsIENvbnRpbnVvdXNFdmVudF0sIFtUT1BfVElNRV9VUERBVEUsICd0aW1lVXBkYXRlJywgQ29udGludW91c0V2ZW50XSwgW1RPUF9UUkFOU0lUSU9OX0VORCwgJ3RyYW5zaXRpb25FbmQnLCBDb250aW51b3VzRXZlbnRdLCBbVE9QX1dBSVRJTkcsICd3YWl0aW5nJywgQ29udGludW91c0V2ZW50XV07XG52YXIgZXZlbnRUeXBlcyA9IHt9O1xudmFyIHRvcExldmVsRXZlbnRzVG9EaXNwYXRjaENvbmZpZyA9IHt9O1xuXG5mb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50VHVwbGVzLmxlbmd0aDsgaSsrKSB7XG4gIHZhciBldmVudFR1cGxlID0gZXZlbnRUdXBsZXNbaV07XG4gIHZhciB0b3BFdmVudCA9IGV2ZW50VHVwbGVbMF07XG4gIHZhciBldmVudCA9IGV2ZW50VHVwbGVbMV07XG4gIHZhciBldmVudFByaW9yaXR5ID0gZXZlbnRUdXBsZVsyXTtcbiAgdmFyIGNhcGl0YWxpemVkRXZlbnQgPSBldmVudFswXS50b1VwcGVyQ2FzZSgpICsgZXZlbnQuc2xpY2UoMSk7XG4gIHZhciBvbkV2ZW50ID0gJ29uJyArIGNhcGl0YWxpemVkRXZlbnQ7XG4gIHZhciBjb25maWcgPSB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6IG9uRXZlbnQsXG4gICAgICBjYXB0dXJlZDogb25FdmVudCArICdDYXB0dXJlJ1xuICAgIH0sXG4gICAgZGVwZW5kZW5jaWVzOiBbdG9wRXZlbnRdLFxuICAgIGV2ZW50UHJpb3JpdHk6IGV2ZW50UHJpb3JpdHlcbiAgfTtcbiAgZXZlbnRUeXBlc1tldmVudF0gPSBjb25maWc7XG4gIHRvcExldmVsRXZlbnRzVG9EaXNwYXRjaENvbmZpZ1t0b3BFdmVudF0gPSBjb25maWc7XG59IC8vIE9ubHkgdXNlZCBpbiBERVYgZm9yIGV4aGF1c3RpdmVuZXNzIHZhbGlkYXRpb24uXG5cblxudmFyIGtub3duSFRNTFRvcExldmVsVHlwZXMgPSBbVE9QX0FCT1JULCBUT1BfQ0FOQ0VMLCBUT1BfQ0FOX1BMQVksIFRPUF9DQU5fUExBWV9USFJPVUdILCBUT1BfQ0xPU0UsIFRPUF9EVVJBVElPTl9DSEFOR0UsIFRPUF9FTVBUSUVELCBUT1BfRU5DUllQVEVELCBUT1BfRU5ERUQsIFRPUF9FUlJPUiwgVE9QX0lOUFVULCBUT1BfSU5WQUxJRCwgVE9QX0xPQUQsIFRPUF9MT0FERURfREFUQSwgVE9QX0xPQURFRF9NRVRBREFUQSwgVE9QX0xPQURfU1RBUlQsIFRPUF9QQVVTRSwgVE9QX1BMQVksIFRPUF9QTEFZSU5HLCBUT1BfUFJPR1JFU1MsIFRPUF9SQVRFX0NIQU5HRSwgVE9QX1JFU0VULCBUT1BfU0VFS0VELCBUT1BfU0VFS0lORywgVE9QX1NUQUxMRUQsIFRPUF9TVUJNSVQsIFRPUF9TVVNQRU5ELCBUT1BfVElNRV9VUERBVEUsIFRPUF9UT0dHTEUsIFRPUF9WT0xVTUVfQ0hBTkdFLCBUT1BfV0FJVElOR107XG52YXIgU2ltcGxlRXZlbnRQbHVnaW4gPSB7XG4gIGV2ZW50VHlwZXM6IGV2ZW50VHlwZXMsXG4gIGdldEV2ZW50UHJpb3JpdHk6IGZ1bmN0aW9uICh0b3BMZXZlbFR5cGUpIHtcbiAgICB2YXIgY29uZmlnID0gdG9wTGV2ZWxFdmVudHNUb0Rpc3BhdGNoQ29uZmlnW3RvcExldmVsVHlwZV07XG4gICAgcmV0dXJuIGNvbmZpZyAhPT0gdW5kZWZpbmVkID8gY29uZmlnLmV2ZW50UHJpb3JpdHkgOiBDb250aW51b3VzRXZlbnQ7XG4gIH0sXG4gIGV4dHJhY3RFdmVudHM6IGZ1bmN0aW9uICh0b3BMZXZlbFR5cGUsIHRhcmdldEluc3QsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCwgZXZlbnRTeXN0ZW1GbGFncykge1xuICAgIHZhciBkaXNwYXRjaENvbmZpZyA9IHRvcExldmVsRXZlbnRzVG9EaXNwYXRjaENvbmZpZ1t0b3BMZXZlbFR5cGVdO1xuXG4gICAgaWYgKCFkaXNwYXRjaENvbmZpZykge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdmFyIEV2ZW50Q29uc3RydWN0b3I7XG5cbiAgICBzd2l0Y2ggKHRvcExldmVsVHlwZSkge1xuICAgICAgY2FzZSBUT1BfS0VZX1BSRVNTOlxuICAgICAgICAvLyBGaXJlZm94IGNyZWF0ZXMgYSBrZXlwcmVzcyBldmVudCBmb3IgZnVuY3Rpb24ga2V5cyB0b28uIFRoaXMgcmVtb3Zlc1xuICAgICAgICAvLyB0aGUgdW53YW50ZWQga2V5cHJlc3MgZXZlbnRzLiBFbnRlciBpcyBob3dldmVyIGJvdGggcHJpbnRhYmxlIGFuZFxuICAgICAgICAvLyBub24tcHJpbnRhYmxlLiBPbmUgd291bGQgZXhwZWN0IFRhYiB0byBiZSBhcyB3ZWxsIChidXQgaXQgaXNuJ3QpLlxuICAgICAgICBpZiAoZ2V0RXZlbnRDaGFyQ29kZShuYXRpdmVFdmVudCkgPT09IDApIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAvKiBmYWxscyB0aHJvdWdoICovXG5cbiAgICAgIGNhc2UgVE9QX0tFWV9ET1dOOlxuICAgICAgY2FzZSBUT1BfS0VZX1VQOlxuICAgICAgICBFdmVudENvbnN0cnVjdG9yID0gU3ludGhldGljS2V5Ym9hcmRFdmVudDtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgVE9QX0JMVVI6XG4gICAgICBjYXNlIFRPUF9GT0NVUzpcbiAgICAgICAgRXZlbnRDb25zdHJ1Y3RvciA9IFN5bnRoZXRpY0ZvY3VzRXZlbnQ7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIFRPUF9DTElDSzpcbiAgICAgICAgLy8gRmlyZWZveCBjcmVhdGVzIGEgY2xpY2sgZXZlbnQgb24gcmlnaHQgbW91c2UgY2xpY2tzLiBUaGlzIHJlbW92ZXMgdGhlXG4gICAgICAgIC8vIHVud2FudGVkIGNsaWNrIGV2ZW50cy5cbiAgICAgICAgaWYgKG5hdGl2ZUV2ZW50LmJ1dHRvbiA9PT0gMikge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cblxuICAgICAgY2FzZSBUT1BfQVVYX0NMSUNLOlxuICAgICAgY2FzZSBUT1BfRE9VQkxFX0NMSUNLOlxuICAgICAgY2FzZSBUT1BfTU9VU0VfRE9XTjpcbiAgICAgIGNhc2UgVE9QX01PVVNFX01PVkU6XG4gICAgICBjYXNlIFRPUF9NT1VTRV9VUDogLy8gVE9ETzogRGlzYWJsZWQgZWxlbWVudHMgc2hvdWxkIG5vdCByZXNwb25kIHRvIG1vdXNlIGV2ZW50c1xuXG4gICAgICAvKiBmYWxscyB0aHJvdWdoICovXG5cbiAgICAgIGNhc2UgVE9QX01PVVNFX09VVDpcbiAgICAgIGNhc2UgVE9QX01PVVNFX09WRVI6XG4gICAgICBjYXNlIFRPUF9DT05URVhUX01FTlU6XG4gICAgICAgIEV2ZW50Q29uc3RydWN0b3IgPSBTeW50aGV0aWNNb3VzZUV2ZW50O1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBUT1BfRFJBRzpcbiAgICAgIGNhc2UgVE9QX0RSQUdfRU5EOlxuICAgICAgY2FzZSBUT1BfRFJBR19FTlRFUjpcbiAgICAgIGNhc2UgVE9QX0RSQUdfRVhJVDpcbiAgICAgIGNhc2UgVE9QX0RSQUdfTEVBVkU6XG4gICAgICBjYXNlIFRPUF9EUkFHX09WRVI6XG4gICAgICBjYXNlIFRPUF9EUkFHX1NUQVJUOlxuICAgICAgY2FzZSBUT1BfRFJPUDpcbiAgICAgICAgRXZlbnRDb25zdHJ1Y3RvciA9IFN5bnRoZXRpY0RyYWdFdmVudDtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgVE9QX1RPVUNIX0NBTkNFTDpcbiAgICAgIGNhc2UgVE9QX1RPVUNIX0VORDpcbiAgICAgIGNhc2UgVE9QX1RPVUNIX01PVkU6XG4gICAgICBjYXNlIFRPUF9UT1VDSF9TVEFSVDpcbiAgICAgICAgRXZlbnRDb25zdHJ1Y3RvciA9IFN5bnRoZXRpY1RvdWNoRXZlbnQ7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIFRPUF9BTklNQVRJT05fRU5EOlxuICAgICAgY2FzZSBUT1BfQU5JTUFUSU9OX0lURVJBVElPTjpcbiAgICAgIGNhc2UgVE9QX0FOSU1BVElPTl9TVEFSVDpcbiAgICAgICAgRXZlbnRDb25zdHJ1Y3RvciA9IFN5bnRoZXRpY0FuaW1hdGlvbkV2ZW50O1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBUT1BfVFJBTlNJVElPTl9FTkQ6XG4gICAgICAgIEV2ZW50Q29uc3RydWN0b3IgPSBTeW50aGV0aWNUcmFuc2l0aW9uRXZlbnQ7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIFRPUF9TQ1JPTEw6XG4gICAgICAgIEV2ZW50Q29uc3RydWN0b3IgPSBTeW50aGV0aWNVSUV2ZW50O1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBUT1BfV0hFRUw6XG4gICAgICAgIEV2ZW50Q29uc3RydWN0b3IgPSBTeW50aGV0aWNXaGVlbEV2ZW50O1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBUT1BfQ09QWTpcbiAgICAgIGNhc2UgVE9QX0NVVDpcbiAgICAgIGNhc2UgVE9QX1BBU1RFOlxuICAgICAgICBFdmVudENvbnN0cnVjdG9yID0gU3ludGhldGljQ2xpcGJvYXJkRXZlbnQ7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIFRPUF9HT1RfUE9JTlRFUl9DQVBUVVJFOlxuICAgICAgY2FzZSBUT1BfTE9TVF9QT0lOVEVSX0NBUFRVUkU6XG4gICAgICBjYXNlIFRPUF9QT0lOVEVSX0NBTkNFTDpcbiAgICAgIGNhc2UgVE9QX1BPSU5URVJfRE9XTjpcbiAgICAgIGNhc2UgVE9QX1BPSU5URVJfTU9WRTpcbiAgICAgIGNhc2UgVE9QX1BPSU5URVJfT1VUOlxuICAgICAgY2FzZSBUT1BfUE9JTlRFUl9PVkVSOlxuICAgICAgY2FzZSBUT1BfUE9JTlRFUl9VUDpcbiAgICAgICAgRXZlbnRDb25zdHJ1Y3RvciA9IFN5bnRoZXRpY1BvaW50ZXJFdmVudDtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHtcbiAgICAgICAgICBpZiAoa25vd25IVE1MVG9wTGV2ZWxUeXBlcy5pbmRleE9mKHRvcExldmVsVHlwZSkgPT09IC0xKSB7XG4gICAgICAgICAgICB3YXJuaW5nV2l0aG91dFN0YWNrJDEoZmFsc2UsICdTaW1wbGVFdmVudFBsdWdpbjogVW5oYW5kbGVkIGV2ZW50IHR5cGUsIGAlc2AuIFRoaXMgd2FybmluZyAnICsgJ2lzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicsIHRvcExldmVsVHlwZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IC8vIEhUTUwgRXZlbnRzXG4gICAgICAgIC8vIEBzZWUgaHR0cDovL3d3dy53My5vcmcvVFIvaHRtbDUvaW5kZXguaHRtbCNldmVudHMtMFxuXG5cbiAgICAgICAgRXZlbnRDb25zdHJ1Y3RvciA9IFN5bnRoZXRpY0V2ZW50O1xuICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICB2YXIgZXZlbnQgPSBFdmVudENvbnN0cnVjdG9yLmdldFBvb2xlZChkaXNwYXRjaENvbmZpZywgdGFyZ2V0SW5zdCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KTtcbiAgICBhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzKGV2ZW50KTtcbiAgICByZXR1cm4gZXZlbnQ7XG4gIH1cbn07XG5cbnZhciBwYXNzaXZlQnJvd3NlckV2ZW50c1N1cHBvcnRlZCA9IGZhbHNlOyAvLyBDaGVjayBpZiBicm93c2VyIHN1cHBvcnQgZXZlbnRzIHdpdGggcGFzc2l2ZSBsaXN0ZW5lcnNcbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9FdmVudFRhcmdldC9hZGRFdmVudExpc3RlbmVyI1NhZmVseV9kZXRlY3Rpbmdfb3B0aW9uX3N1cHBvcnRcblxuaWYgKGVuYWJsZUZsYXJlQVBJICYmIGNhblVzZURPTSkge1xuICB0cnkge1xuICAgIHZhciBvcHRpb25zID0ge307IC8vICRGbG93Rml4TWU6IElnbm9yZSBGbG93IGNvbXBsYWluaW5nIGFib3V0IG5lZWRpbmcgYSB2YWx1ZVxuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9wdGlvbnMsICdwYXNzaXZlJywge1xuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHBhc3NpdmVCcm93c2VyRXZlbnRzU3VwcG9ydGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndGVzdCcsIG9wdGlvbnMsIG9wdGlvbnMpO1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCd0ZXN0Jywgb3B0aW9ucywgb3B0aW9ucyk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBwYXNzaXZlQnJvd3NlckV2ZW50c1N1cHBvcnRlZCA9IGZhbHNlO1xuICB9XG59XG5cbi8vIEludGVudGlvbmFsbHkgbm90IG5hbWVkIGltcG9ydHMgYmVjYXVzZSBSb2xsdXAgd291bGQgdXNlIGR5bmFtaWMgZGlzcGF0Y2ggZm9yXG4vLyBDb21tb25KUyBpbnRlcm9wIG5hbWVkIGltcG9ydHMuXG52YXIgVXNlckJsb2NraW5nUHJpb3JpdHkkMSA9IFNjaGVkdWxlci51bnN0YWJsZV9Vc2VyQmxvY2tpbmdQcmlvcml0eTtcbnZhciBydW5XaXRoUHJpb3JpdHkkMSA9IFNjaGVkdWxlci51bnN0YWJsZV9ydW5XaXRoUHJpb3JpdHk7XG52YXIgZ2V0RXZlbnRQcmlvcml0eSA9IFNpbXBsZUV2ZW50UGx1Z2luLmdldEV2ZW50UHJpb3JpdHk7XG52YXIgQ0FMTEJBQ0tfQk9PS0tFRVBJTkdfUE9PTF9TSVpFID0gMTA7XG52YXIgY2FsbGJhY2tCb29ra2VlcGluZ1Bvb2wgPSBbXTtcblxuLyoqXG4gKiBGaW5kIHRoZSBkZWVwZXN0IFJlYWN0IGNvbXBvbmVudCBjb21wbGV0ZWx5IGNvbnRhaW5pbmcgdGhlIHJvb3Qgb2YgdGhlXG4gKiBwYXNzZWQtaW4gaW5zdGFuY2UgKGZvciB1c2Ugd2hlbiBlbnRpcmUgUmVhY3QgdHJlZXMgYXJlIG5lc3RlZCB3aXRoaW4gZWFjaFxuICogb3RoZXIpLiBJZiBSZWFjdCB0cmVlcyBhcmUgbm90IG5lc3RlZCwgcmV0dXJucyBudWxsLlxuICovXG5mdW5jdGlvbiBmaW5kUm9vdENvbnRhaW5lck5vZGUoaW5zdCkge1xuICBpZiAoaW5zdC50YWcgPT09IEhvc3RSb290KSB7XG4gICAgcmV0dXJuIGluc3Quc3RhdGVOb2RlLmNvbnRhaW5lckluZm87XG4gIH0gLy8gVE9ETzogSXQgbWF5IGJlIGEgZ29vZCBpZGVhIHRvIGNhY2hlIHRoaXMgdG8gcHJldmVudCB1bm5lY2Vzc2FyeSBET01cbiAgLy8gdHJhdmVyc2FsLCBidXQgY2FjaGluZyBpcyBkaWZmaWN1bHQgdG8gZG8gY29ycmVjdGx5IHdpdGhvdXQgdXNpbmcgYVxuICAvLyBtdXRhdGlvbiBvYnNlcnZlciB0byBsaXN0ZW4gZm9yIGFsbCBET00gY2hhbmdlcy5cblxuXG4gIHdoaWxlIChpbnN0LnJldHVybikge1xuICAgIGluc3QgPSBpbnN0LnJldHVybjtcbiAgfVxuXG4gIGlmIChpbnN0LnRhZyAhPT0gSG9zdFJvb3QpIHtcbiAgICAvLyBUaGlzIGNhbiBoYXBwZW4gaWYgd2UncmUgaW4gYSBkZXRhY2hlZCB0cmVlLlxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIGluc3Quc3RhdGVOb2RlLmNvbnRhaW5lckluZm87XG59IC8vIFVzZWQgdG8gc3RvcmUgYW5jZXN0b3IgaGllcmFyY2h5IGluIHRvcCBsZXZlbCBjYWxsYmFja1xuXG5cbmZ1bmN0aW9uIGdldFRvcExldmVsQ2FsbGJhY2tCb29rS2VlcGluZyh0b3BMZXZlbFR5cGUsIG5hdGl2ZUV2ZW50LCB0YXJnZXRJbnN0LCBldmVudFN5c3RlbUZsYWdzKSB7XG4gIGlmIChjYWxsYmFja0Jvb2trZWVwaW5nUG9vbC5sZW5ndGgpIHtcbiAgICB2YXIgaW5zdGFuY2UgPSBjYWxsYmFja0Jvb2trZWVwaW5nUG9vbC5wb3AoKTtcbiAgICBpbnN0YW5jZS50b3BMZXZlbFR5cGUgPSB0b3BMZXZlbFR5cGU7XG4gICAgaW5zdGFuY2UuZXZlbnRTeXN0ZW1GbGFncyA9IGV2ZW50U3lzdGVtRmxhZ3M7XG4gICAgaW5zdGFuY2UubmF0aXZlRXZlbnQgPSBuYXRpdmVFdmVudDtcbiAgICBpbnN0YW5jZS50YXJnZXRJbnN0ID0gdGFyZ2V0SW5zdDtcbiAgICByZXR1cm4gaW5zdGFuY2U7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHRvcExldmVsVHlwZTogdG9wTGV2ZWxUeXBlLFxuICAgIGV2ZW50U3lzdGVtRmxhZ3M6IGV2ZW50U3lzdGVtRmxhZ3MsXG4gICAgbmF0aXZlRXZlbnQ6IG5hdGl2ZUV2ZW50LFxuICAgIHRhcmdldEluc3Q6IHRhcmdldEluc3QsXG4gICAgYW5jZXN0b3JzOiBbXVxuICB9O1xufVxuXG5mdW5jdGlvbiByZWxlYXNlVG9wTGV2ZWxDYWxsYmFja0Jvb2tLZWVwaW5nKGluc3RhbmNlKSB7XG4gIGluc3RhbmNlLnRvcExldmVsVHlwZSA9IG51bGw7XG4gIGluc3RhbmNlLm5hdGl2ZUV2ZW50ID0gbnVsbDtcbiAgaW5zdGFuY2UudGFyZ2V0SW5zdCA9IG51bGw7XG4gIGluc3RhbmNlLmFuY2VzdG9ycy5sZW5ndGggPSAwO1xuXG4gIGlmIChjYWxsYmFja0Jvb2trZWVwaW5nUG9vbC5sZW5ndGggPCBDQUxMQkFDS19CT09LS0VFUElOR19QT09MX1NJWkUpIHtcbiAgICBjYWxsYmFja0Jvb2trZWVwaW5nUG9vbC5wdXNoKGluc3RhbmNlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBoYW5kbGVUb3BMZXZlbChib29rS2VlcGluZykge1xuICB2YXIgdGFyZ2V0SW5zdCA9IGJvb2tLZWVwaW5nLnRhcmdldEluc3Q7IC8vIExvb3AgdGhyb3VnaCB0aGUgaGllcmFyY2h5LCBpbiBjYXNlIHRoZXJlJ3MgYW55IG5lc3RlZCBjb21wb25lbnRzLlxuICAvLyBJdCdzIGltcG9ydGFudCB0aGF0IHdlIGJ1aWxkIHRoZSBhcnJheSBvZiBhbmNlc3RvcnMgYmVmb3JlIGNhbGxpbmcgYW55XG4gIC8vIGV2ZW50IGhhbmRsZXJzLCBiZWNhdXNlIGV2ZW50IGhhbmRsZXJzIGNhbiBtb2RpZnkgdGhlIERPTSwgbGVhZGluZyB0b1xuICAvLyBpbmNvbnNpc3RlbmNpZXMgd2l0aCBSZWFjdE1vdW50J3Mgbm9kZSBjYWNoZS4gU2VlICMxMTA1LlxuXG4gIHZhciBhbmNlc3RvciA9IHRhcmdldEluc3Q7XG5cbiAgZG8ge1xuICAgIGlmICghYW5jZXN0b3IpIHtcbiAgICAgIHZhciBhbmNlc3RvcnMgPSBib29rS2VlcGluZy5hbmNlc3RvcnM7XG4gICAgICBhbmNlc3RvcnMucHVzaChhbmNlc3Rvcik7XG4gICAgICBicmVhaztcbiAgICB9XG5cbiAgICB2YXIgcm9vdCA9IGZpbmRSb290Q29udGFpbmVyTm9kZShhbmNlc3Rvcik7XG5cbiAgICBpZiAoIXJvb3QpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIHZhciB0YWcgPSBhbmNlc3Rvci50YWc7XG5cbiAgICBpZiAodGFnID09PSBIb3N0Q29tcG9uZW50IHx8IHRhZyA9PT0gSG9zdFRleHQpIHtcbiAgICAgIGJvb2tLZWVwaW5nLmFuY2VzdG9ycy5wdXNoKGFuY2VzdG9yKTtcbiAgICB9XG5cbiAgICBhbmNlc3RvciA9IGdldENsb3Nlc3RJbnN0YW5jZUZyb21Ob2RlKHJvb3QpO1xuICB9IHdoaWxlIChhbmNlc3Rvcik7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBib29rS2VlcGluZy5hbmNlc3RvcnMubGVuZ3RoOyBpKyspIHtcbiAgICB0YXJnZXRJbnN0ID0gYm9va0tlZXBpbmcuYW5jZXN0b3JzW2ldO1xuICAgIHZhciBldmVudFRhcmdldCA9IGdldEV2ZW50VGFyZ2V0KGJvb2tLZWVwaW5nLm5hdGl2ZUV2ZW50KTtcbiAgICB2YXIgdG9wTGV2ZWxUeXBlID0gYm9va0tlZXBpbmcudG9wTGV2ZWxUeXBlO1xuICAgIHZhciBuYXRpdmVFdmVudCA9IGJvb2tLZWVwaW5nLm5hdGl2ZUV2ZW50O1xuICAgIHJ1bkV4dHJhY3RlZFBsdWdpbkV2ZW50c0luQmF0Y2godG9wTGV2ZWxUeXBlLCB0YXJnZXRJbnN0LCBuYXRpdmVFdmVudCwgZXZlbnRUYXJnZXQsIGJvb2tLZWVwaW5nLmV2ZW50U3lzdGVtRmxhZ3MpO1xuICB9XG59IC8vIFRPRE86IGNhbiB3ZSBzdG9wIGV4cG9ydGluZyB0aGVzZT9cblxuXG52YXIgX2VuYWJsZWQgPSB0cnVlO1xuZnVuY3Rpb24gc2V0RW5hYmxlZChlbmFibGVkKSB7XG4gIF9lbmFibGVkID0gISFlbmFibGVkO1xufVxuZnVuY3Rpb24gaXNFbmFibGVkKCkge1xuICByZXR1cm4gX2VuYWJsZWQ7XG59XG5mdW5jdGlvbiB0cmFwQnViYmxlZEV2ZW50KHRvcExldmVsVHlwZSwgZWxlbWVudCkge1xuICB0cmFwRXZlbnRGb3JQbHVnaW5FdmVudFN5c3RlbShlbGVtZW50LCB0b3BMZXZlbFR5cGUsIGZhbHNlKTtcbn1cbmZ1bmN0aW9uIHRyYXBDYXB0dXJlZEV2ZW50KHRvcExldmVsVHlwZSwgZWxlbWVudCkge1xuICB0cmFwRXZlbnRGb3JQbHVnaW5FdmVudFN5c3RlbShlbGVtZW50LCB0b3BMZXZlbFR5cGUsIHRydWUpO1xufVxuZnVuY3Rpb24gdHJhcEV2ZW50Rm9yUmVzcG9uZGVyRXZlbnRTeXN0ZW0oZWxlbWVudCwgdG9wTGV2ZWxUeXBlLCBwYXNzaXZlKSB7XG4gIGlmIChlbmFibGVGbGFyZUFQSSkge1xuICAgIHZhciByYXdFdmVudE5hbWUgPSBnZXRSYXdFdmVudE5hbWUodG9wTGV2ZWxUeXBlKTtcbiAgICB2YXIgZXZlbnRGbGFncyA9IFJFU1BPTkRFUl9FVkVOVF9TWVNURU07IC8vIElmIHBhc3NpdmUgb3B0aW9uIGlzIG5vdCBzdXBwb3J0ZWQsIHRoZW4gdGhlIGV2ZW50IHdpbGwgYmVcbiAgICAvLyBhY3RpdmUgYW5kIG5vdCBwYXNzaXZlLCBidXQgd2UgZmxhZyBpdCBhcyB1c2luZyBub3QgYmVpbmdcbiAgICAvLyBzdXBwb3J0ZWQgdG9vLiBUaGlzIHdheSB0aGUgcmVzcG9uZGVyIGV2ZW50IHBsdWdpbnMga25vdyxcbiAgICAvLyBhbmQgY2FuIHByb3ZpZGUgcG9seWZpbGxzIGlmIG5lZWRlZC5cblxuICAgIGlmIChwYXNzaXZlKSB7XG4gICAgICBpZiAocGFzc2l2ZUJyb3dzZXJFdmVudHNTdXBwb3J0ZWQpIHtcbiAgICAgICAgZXZlbnRGbGFncyB8PSBJU19QQVNTSVZFO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZXZlbnRGbGFncyB8PSBJU19BQ1RJVkU7XG4gICAgICAgIGV2ZW50RmxhZ3MgfD0gUEFTU0lWRV9OT1RfU1VQUE9SVEVEO1xuICAgICAgICBwYXNzaXZlID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGV2ZW50RmxhZ3MgfD0gSVNfQUNUSVZFO1xuICAgIH0gLy8gQ2hlY2sgaWYgaW50ZXJhY3RpdmUgYW5kIHdyYXAgaW4gZGlzY3JldGVVcGRhdGVzXG5cblxuICAgIHZhciBsaXN0ZW5lciA9IGRpc3BhdGNoRXZlbnQuYmluZChudWxsLCB0b3BMZXZlbFR5cGUsIGV2ZW50RmxhZ3MpO1xuXG4gICAgaWYgKHBhc3NpdmVCcm93c2VyRXZlbnRzU3VwcG9ydGVkKSB7XG4gICAgICBhZGRFdmVudENhcHR1cmVMaXN0ZW5lcldpdGhQYXNzaXZlRmxhZyhlbGVtZW50LCByYXdFdmVudE5hbWUsIGxpc3RlbmVyLCBwYXNzaXZlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYWRkRXZlbnRDYXB0dXJlTGlzdGVuZXIoZWxlbWVudCwgcmF3RXZlbnROYW1lLCBsaXN0ZW5lcik7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHRyYXBFdmVudEZvclBsdWdpbkV2ZW50U3lzdGVtKGVsZW1lbnQsIHRvcExldmVsVHlwZSwgY2FwdHVyZSkge1xuICB2YXIgbGlzdGVuZXI7XG5cbiAgc3dpdGNoIChnZXRFdmVudFByaW9yaXR5KHRvcExldmVsVHlwZSkpIHtcbiAgICBjYXNlIERpc2NyZXRlRXZlbnQ6XG4gICAgICBsaXN0ZW5lciA9IGRpc3BhdGNoRGlzY3JldGVFdmVudC5iaW5kKG51bGwsIHRvcExldmVsVHlwZSwgUExVR0lOX0VWRU5UX1NZU1RFTSk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgVXNlckJsb2NraW5nRXZlbnQ6XG4gICAgICBsaXN0ZW5lciA9IGRpc3BhdGNoVXNlckJsb2NraW5nVXBkYXRlLmJpbmQobnVsbCwgdG9wTGV2ZWxUeXBlLCBQTFVHSU5fRVZFTlRfU1lTVEVNKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBDb250aW51b3VzRXZlbnQ6XG4gICAgZGVmYXVsdDpcbiAgICAgIGxpc3RlbmVyID0gZGlzcGF0Y2hFdmVudC5iaW5kKG51bGwsIHRvcExldmVsVHlwZSwgUExVR0lOX0VWRU5UX1NZU1RFTSk7XG4gICAgICBicmVhaztcbiAgfVxuXG4gIHZhciByYXdFdmVudE5hbWUgPSBnZXRSYXdFdmVudE5hbWUodG9wTGV2ZWxUeXBlKTtcblxuICBpZiAoY2FwdHVyZSkge1xuICAgIGFkZEV2ZW50Q2FwdHVyZUxpc3RlbmVyKGVsZW1lbnQsIHJhd0V2ZW50TmFtZSwgbGlzdGVuZXIpO1xuICB9IGVsc2Uge1xuICAgIGFkZEV2ZW50QnViYmxlTGlzdGVuZXIoZWxlbWVudCwgcmF3RXZlbnROYW1lLCBsaXN0ZW5lcik7XG4gIH1cbn1cblxuZnVuY3Rpb24gZGlzcGF0Y2hEaXNjcmV0ZUV2ZW50KHRvcExldmVsVHlwZSwgZXZlbnRTeXN0ZW1GbGFncywgbmF0aXZlRXZlbnQpIHtcbiAgZmx1c2hEaXNjcmV0ZVVwZGF0ZXNJZk5lZWRlZChuYXRpdmVFdmVudC50aW1lU3RhbXApO1xuICBkaXNjcmV0ZVVwZGF0ZXMoZGlzcGF0Y2hFdmVudCwgdG9wTGV2ZWxUeXBlLCBldmVudFN5c3RlbUZsYWdzLCBuYXRpdmVFdmVudCk7XG59XG5cbmZ1bmN0aW9uIGRpc3BhdGNoVXNlckJsb2NraW5nVXBkYXRlKHRvcExldmVsVHlwZSwgZXZlbnRTeXN0ZW1GbGFncywgbmF0aXZlRXZlbnQpIHtcbiAgcnVuV2l0aFByaW9yaXR5JDEoVXNlckJsb2NraW5nUHJpb3JpdHkkMSwgZGlzcGF0Y2hFdmVudC5iaW5kKG51bGwsIHRvcExldmVsVHlwZSwgZXZlbnRTeXN0ZW1GbGFncywgbmF0aXZlRXZlbnQpKTtcbn1cblxuZnVuY3Rpb24gZGlzcGF0Y2hFdmVudEZvclBsdWdpbkV2ZW50U3lzdGVtKHRvcExldmVsVHlwZSwgZXZlbnRTeXN0ZW1GbGFncywgbmF0aXZlRXZlbnQsIHRhcmdldEluc3QpIHtcbiAgdmFyIGJvb2tLZWVwaW5nID0gZ2V0VG9wTGV2ZWxDYWxsYmFja0Jvb2tLZWVwaW5nKHRvcExldmVsVHlwZSwgbmF0aXZlRXZlbnQsIHRhcmdldEluc3QsIGV2ZW50U3lzdGVtRmxhZ3MpO1xuXG4gIHRyeSB7XG4gICAgLy8gRXZlbnQgcXVldWUgYmVpbmcgcHJvY2Vzc2VkIGluIHRoZSBzYW1lIGN5Y2xlIGFsbG93c1xuICAgIC8vIGBwcmV2ZW50RGVmYXVsdGAuXG4gICAgYmF0Y2hlZEV2ZW50VXBkYXRlcyhoYW5kbGVUb3BMZXZlbCwgYm9va0tlZXBpbmcpO1xuICB9IGZpbmFsbHkge1xuICAgIHJlbGVhc2VUb3BMZXZlbENhbGxiYWNrQm9va0tlZXBpbmcoYm9va0tlZXBpbmcpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGRpc3BhdGNoRXZlbnQodG9wTGV2ZWxUeXBlLCBldmVudFN5c3RlbUZsYWdzLCBuYXRpdmVFdmVudCkge1xuICBpZiAoIV9lbmFibGVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKGhhc1F1ZXVlZERpc2NyZXRlRXZlbnRzKCkgJiYgaXNSZXBsYXlhYmxlRGlzY3JldGVFdmVudCh0b3BMZXZlbFR5cGUpKSB7XG4gICAgLy8gSWYgd2UgYWxyZWFkeSBoYXZlIGEgcXVldWUgb2YgZGlzY3JldGUgZXZlbnRzLCBhbmQgdGhpcyBpcyBhbm90aGVyIGRpc2NyZXRlXG4gICAgLy8gZXZlbnQsIHRoZW4gd2UgY2FuJ3QgZGlzcGF0Y2ggaXQgcmVnYXJkbGVzcyBvZiBpdHMgdGFyZ2V0LCBzaW5jZSB0aGV5XG4gICAgLy8gbmVlZCB0byBkaXNwYXRjaCBpbiBvcmRlci5cbiAgICBxdWV1ZURpc2NyZXRlRXZlbnQobnVsbCwgLy8gRmxhZ3MgdGhhdCB3ZSdyZSBub3QgYWN0dWFsbHkgYmxvY2tlZCBvbiBhbnl0aGluZyBhcyBmYXIgYXMgd2Uga25vdy5cbiAgICB0b3BMZXZlbFR5cGUsIGV2ZW50U3lzdGVtRmxhZ3MsIG5hdGl2ZUV2ZW50KTtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgYmxvY2tlZE9uID0gYXR0ZW1wdFRvRGlzcGF0Y2hFdmVudCh0b3BMZXZlbFR5cGUsIGV2ZW50U3lzdGVtRmxhZ3MsIG5hdGl2ZUV2ZW50KTtcblxuICBpZiAoYmxvY2tlZE9uID09PSBudWxsKSB7XG4gICAgLy8gV2Ugc3VjY2Vzc2Z1bGx5IGRpc3BhdGNoZWQgdGhpcyBldmVudC5cbiAgICBjbGVhcklmQ29udGludW91c0V2ZW50KHRvcExldmVsVHlwZSwgbmF0aXZlRXZlbnQpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChpc1JlcGxheWFibGVEaXNjcmV0ZUV2ZW50KHRvcExldmVsVHlwZSkpIHtcbiAgICAvLyBUaGlzIHRoaXMgdG8gYmUgcmVwbGF5ZWQgbGF0ZXIgb25jZSB0aGUgdGFyZ2V0IGlzIGF2YWlsYWJsZS5cbiAgICBxdWV1ZURpc2NyZXRlRXZlbnQoYmxvY2tlZE9uLCB0b3BMZXZlbFR5cGUsIGV2ZW50U3lzdGVtRmxhZ3MsIG5hdGl2ZUV2ZW50KTtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAocXVldWVJZkNvbnRpbnVvdXNFdmVudChibG9ja2VkT24sIHRvcExldmVsVHlwZSwgZXZlbnRTeXN0ZW1GbGFncywgbmF0aXZlRXZlbnQpKSB7XG4gICAgcmV0dXJuO1xuICB9IC8vIFdlIG5lZWQgdG8gY2xlYXIgb25seSBpZiB3ZSBkaWRuJ3QgcXVldWUgYmVjYXVzZVxuICAvLyBxdWV1ZWluZyBpcyBhY2N1bW11bGF0aXZlLlxuXG5cbiAgY2xlYXJJZkNvbnRpbnVvdXNFdmVudCh0b3BMZXZlbFR5cGUsIG5hdGl2ZUV2ZW50KTsgLy8gVGhpcyBpcyBub3QgcmVwbGF5YWJsZSBzbyB3ZSdsbCBpbnZva2UgaXQgYnV0IHdpdGhvdXQgYSB0YXJnZXQsXG4gIC8vIGluIGNhc2UgdGhlIGV2ZW50IHN5c3RlbSBuZWVkcyB0byB0cmFjZSBpdC5cblxuICBpZiAoZW5hYmxlRmxhcmVBUEkpIHtcbiAgICBpZiAoZXZlbnRTeXN0ZW1GbGFncyAmIFBMVUdJTl9FVkVOVF9TWVNURU0pIHtcbiAgICAgIGRpc3BhdGNoRXZlbnRGb3JQbHVnaW5FdmVudFN5c3RlbSh0b3BMZXZlbFR5cGUsIGV2ZW50U3lzdGVtRmxhZ3MsIG5hdGl2ZUV2ZW50LCBudWxsKTtcbiAgICB9XG5cbiAgICBpZiAoZXZlbnRTeXN0ZW1GbGFncyAmIFJFU1BPTkRFUl9FVkVOVF9TWVNURU0pIHtcbiAgICAgIC8vIFJlYWN0IEZsYXJlIGV2ZW50IHN5c3RlbVxuICAgICAgZGlzcGF0Y2hFdmVudEZvclJlc3BvbmRlckV2ZW50U3lzdGVtKHRvcExldmVsVHlwZSwgbnVsbCwgbmF0aXZlRXZlbnQsIGdldEV2ZW50VGFyZ2V0KG5hdGl2ZUV2ZW50KSwgZXZlbnRTeXN0ZW1GbGFncyk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGRpc3BhdGNoRXZlbnRGb3JQbHVnaW5FdmVudFN5c3RlbSh0b3BMZXZlbFR5cGUsIGV2ZW50U3lzdGVtRmxhZ3MsIG5hdGl2ZUV2ZW50LCBudWxsKTtcbiAgfVxufSAvLyBBdHRlbXB0IGRpc3BhdGNoaW5nIGFuIGV2ZW50LiBSZXR1cm5zIGEgU3VzcGVuc2VJbnN0YW5jZSBvciBDb250YWluZXIgaWYgaXQncyBibG9ja2VkLlxuXG5mdW5jdGlvbiBhdHRlbXB0VG9EaXNwYXRjaEV2ZW50KHRvcExldmVsVHlwZSwgZXZlbnRTeXN0ZW1GbGFncywgbmF0aXZlRXZlbnQpIHtcbiAgLy8gVE9ETzogV2FybiBpZiBfZW5hYmxlZCBpcyBmYWxzZS5cbiAgdmFyIG5hdGl2ZUV2ZW50VGFyZ2V0ID0gZ2V0RXZlbnRUYXJnZXQobmF0aXZlRXZlbnQpO1xuICB2YXIgdGFyZ2V0SW5zdCA9IGdldENsb3Nlc3RJbnN0YW5jZUZyb21Ob2RlKG5hdGl2ZUV2ZW50VGFyZ2V0KTtcblxuICBpZiAodGFyZ2V0SW5zdCAhPT0gbnVsbCkge1xuICAgIHZhciBuZWFyZXN0TW91bnRlZCA9IGdldE5lYXJlc3RNb3VudGVkRmliZXIodGFyZ2V0SW5zdCk7XG5cbiAgICBpZiAobmVhcmVzdE1vdW50ZWQgPT09IG51bGwpIHtcbiAgICAgIC8vIFRoaXMgdHJlZSBoYXMgYmVlbiB1bm1vdW50ZWQgYWxyZWFkeS4gRGlzcGF0Y2ggd2l0aG91dCBhIHRhcmdldC5cbiAgICAgIHRhcmdldEluc3QgPSBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgdGFnID0gbmVhcmVzdE1vdW50ZWQudGFnO1xuXG4gICAgICBpZiAodGFnID09PSBTdXNwZW5zZUNvbXBvbmVudCkge1xuICAgICAgICB2YXIgaW5zdGFuY2UgPSBnZXRTdXNwZW5zZUluc3RhbmNlRnJvbUZpYmVyKG5lYXJlc3RNb3VudGVkKTtcblxuICAgICAgICBpZiAoaW5zdGFuY2UgIT09IG51bGwpIHtcbiAgICAgICAgICAvLyBRdWV1ZSB0aGUgZXZlbnQgdG8gYmUgcmVwbGF5ZWQgbGF0ZXIuIEFib3J0IGRpc3BhdGNoaW5nIHNpbmNlIHdlXG4gICAgICAgICAgLy8gZG9uJ3Qgd2FudCB0aGlzIGV2ZW50IGRpc3BhdGNoZWQgdHdpY2UgdGhyb3VnaCB0aGUgZXZlbnQgc3lzdGVtLlxuICAgICAgICAgIC8vIFRPRE86IElmIHRoaXMgaXMgdGhlIGZpcnN0IGRpc2NyZXRlIGV2ZW50IGluIHRoZSBxdWV1ZS4gU2NoZWR1bGUgYW4gaW5jcmVhc2VkXG4gICAgICAgICAgLy8gcHJpb3JpdHkgZm9yIHRoaXMgYm91bmRhcnkuXG4gICAgICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgICAgICB9IC8vIFRoaXMgc2hvdWxkbid0IGhhcHBlbiwgc29tZXRoaW5nIHdlbnQgd3JvbmcgYnV0IHRvIGF2b2lkIGJsb2NraW5nXG4gICAgICAgIC8vIHRoZSB3aG9sZSBzeXN0ZW0sIGRpc3BhdGNoIHRoZSBldmVudCB3aXRob3V0IGEgdGFyZ2V0LlxuICAgICAgICAvLyBUT0RPOiBXYXJuLlxuXG5cbiAgICAgICAgdGFyZ2V0SW5zdCA9IG51bGw7XG4gICAgICB9IGVsc2UgaWYgKHRhZyA9PT0gSG9zdFJvb3QpIHtcbiAgICAgICAgdmFyIHJvb3QgPSBuZWFyZXN0TW91bnRlZC5zdGF0ZU5vZGU7XG5cbiAgICAgICAgaWYgKHJvb3QuaHlkcmF0ZSkge1xuICAgICAgICAgIC8vIElmIHRoaXMgaGFwcGVucyBkdXJpbmcgYSByZXBsYXkgc29tZXRoaW5nIHdlbnQgd3JvbmcgYW5kIGl0IG1pZ2h0IGJsb2NrXG4gICAgICAgICAgLy8gdGhlIHdob2xlIHN5c3RlbS5cbiAgICAgICAgICByZXR1cm4gZ2V0Q29udGFpbmVyRnJvbUZpYmVyKG5lYXJlc3RNb3VudGVkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRhcmdldEluc3QgPSBudWxsO1xuICAgICAgfSBlbHNlIGlmIChuZWFyZXN0TW91bnRlZCAhPT0gdGFyZ2V0SW5zdCkge1xuICAgICAgICAvLyBJZiB3ZSBnZXQgYW4gZXZlbnQgKGV4OiBpbWcgb25sb2FkKSBiZWZvcmUgY29tbWl0dGluZyB0aGF0XG4gICAgICAgIC8vIGNvbXBvbmVudCdzIG1vdW50LCBpZ25vcmUgaXQgZm9yIG5vdyAodGhhdCBpcywgdHJlYXQgaXQgYXMgaWYgaXQgd2FzIGFuXG4gICAgICAgIC8vIGV2ZW50IG9uIGEgbm9uLVJlYWN0IHRyZWUpLiBXZSBtaWdodCBhbHNvIGNvbnNpZGVyIHF1ZXVlaW5nIGV2ZW50cyBhbmRcbiAgICAgICAgLy8gZGlzcGF0Y2hpbmcgdGhlbSBhZnRlciB0aGUgbW91bnQuXG4gICAgICAgIHRhcmdldEluc3QgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlmIChlbmFibGVGbGFyZUFQSSkge1xuICAgIGlmIChldmVudFN5c3RlbUZsYWdzICYgUExVR0lOX0VWRU5UX1NZU1RFTSkge1xuICAgICAgZGlzcGF0Y2hFdmVudEZvclBsdWdpbkV2ZW50U3lzdGVtKHRvcExldmVsVHlwZSwgZXZlbnRTeXN0ZW1GbGFncywgbmF0aXZlRXZlbnQsIHRhcmdldEluc3QpO1xuICAgIH1cblxuICAgIGlmIChldmVudFN5c3RlbUZsYWdzICYgUkVTUE9OREVSX0VWRU5UX1NZU1RFTSkge1xuICAgICAgLy8gUmVhY3QgRmxhcmUgZXZlbnQgc3lzdGVtXG4gICAgICBkaXNwYXRjaEV2ZW50Rm9yUmVzcG9uZGVyRXZlbnRTeXN0ZW0odG9wTGV2ZWxUeXBlLCB0YXJnZXRJbnN0LCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQsIGV2ZW50U3lzdGVtRmxhZ3MpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBkaXNwYXRjaEV2ZW50Rm9yUGx1Z2luRXZlbnRTeXN0ZW0odG9wTGV2ZWxUeXBlLCBldmVudFN5c3RlbUZsYWdzLCBuYXRpdmVFdmVudCwgdGFyZ2V0SW5zdCk7XG4gIH0gLy8gV2UncmUgbm90IGJsb2NrZWQgb24gYW55dGhpbmcuXG5cblxuICByZXR1cm4gbnVsbDtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYW4gZXZlbnQgaXMgc3VwcG9ydGVkIGluIHRoZSBjdXJyZW50IGV4ZWN1dGlvbiBlbnZpcm9ubWVudC5cbiAqXG4gKiBOT1RFOiBUaGlzIHdpbGwgbm90IHdvcmsgY29ycmVjdGx5IGZvciBub24tZ2VuZXJpYyBldmVudHMgc3VjaCBhcyBgY2hhbmdlYCxcbiAqIGByZXNldGAsIGBsb2FkYCwgYGVycm9yYCwgYW5kIGBzZWxlY3RgLlxuICpcbiAqIEJvcnJvd3MgZnJvbSBNb2Rlcm5penIuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50TmFtZVN1ZmZpeCBFdmVudCBuYW1lLCBlLmcuIFwiY2xpY2tcIi5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIGV2ZW50IGlzIHN1cHBvcnRlZC5cbiAqIEBpbnRlcm5hbFxuICogQGxpY2Vuc2UgTW9kZXJuaXpyIDMuMC4wcHJlIChDdXN0b20gQnVpbGQpIHwgTUlUXG4gKi9cblxuZnVuY3Rpb24gaXNFdmVudFN1cHBvcnRlZChldmVudE5hbWVTdWZmaXgpIHtcbiAgaWYgKCFjYW5Vc2VET00pIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB2YXIgZXZlbnROYW1lID0gJ29uJyArIGV2ZW50TmFtZVN1ZmZpeDtcbiAgdmFyIGlzU3VwcG9ydGVkID0gZXZlbnROYW1lIGluIGRvY3VtZW50O1xuXG4gIGlmICghaXNTdXBwb3J0ZWQpIHtcbiAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKGV2ZW50TmFtZSwgJ3JldHVybjsnKTtcbiAgICBpc1N1cHBvcnRlZCA9IHR5cGVvZiBlbGVtZW50W2V2ZW50TmFtZV0gPT09ICdmdW5jdGlvbic7XG4gIH1cblxuICByZXR1cm4gaXNTdXBwb3J0ZWQ7XG59XG5cbi8qKlxuICogU3VtbWFyeSBvZiBgUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyYCBldmVudCBoYW5kbGluZzpcbiAqXG4gKiAgLSBUb3AtbGV2ZWwgZGVsZWdhdGlvbiBpcyB1c2VkIHRvIHRyYXAgbW9zdCBuYXRpdmUgYnJvd3NlciBldmVudHMuIFRoaXNcbiAqICAgIG1heSBvbmx5IG9jY3VyIGluIHRoZSBtYWluIHRocmVhZCBhbmQgaXMgdGhlIHJlc3BvbnNpYmlsaXR5IG9mXG4gKiAgICBSZWFjdERPTUV2ZW50TGlzdGVuZXIsIHdoaWNoIGlzIGluamVjdGVkIGFuZCBjYW4gdGhlcmVmb3JlIHN1cHBvcnRcbiAqICAgIHBsdWdnYWJsZSBldmVudCBzb3VyY2VzLiBUaGlzIGlzIHRoZSBvbmx5IHdvcmsgdGhhdCBvY2N1cnMgaW4gdGhlIG1haW5cbiAqICAgIHRocmVhZC5cbiAqXG4gKiAgLSBXZSBub3JtYWxpemUgYW5kIGRlLWR1cGxpY2F0ZSBldmVudHMgdG8gYWNjb3VudCBmb3IgYnJvd3NlciBxdWlya3MuIFRoaXNcbiAqICAgIG1heSBiZSBkb25lIGluIHRoZSB3b3JrZXIgdGhyZWFkLlxuICpcbiAqICAtIEZvcndhcmQgdGhlc2UgbmF0aXZlIGV2ZW50cyAod2l0aCB0aGUgYXNzb2NpYXRlZCB0b3AtbGV2ZWwgdHlwZSB1c2VkIHRvXG4gKiAgICB0cmFwIGl0KSB0byBgRXZlbnRQbHVnaW5IdWJgLCB3aGljaCBpbiB0dXJuIHdpbGwgYXNrIHBsdWdpbnMgaWYgdGhleSB3YW50XG4gKiAgICB0byBleHRyYWN0IGFueSBzeW50aGV0aWMgZXZlbnRzLlxuICpcbiAqICAtIFRoZSBgRXZlbnRQbHVnaW5IdWJgIHdpbGwgdGhlbiBwcm9jZXNzIGVhY2ggZXZlbnQgYnkgYW5ub3RhdGluZyB0aGVtIHdpdGhcbiAqICAgIFwiZGlzcGF0Y2hlc1wiLCBhIHNlcXVlbmNlIG9mIGxpc3RlbmVycyBhbmQgSURzIHRoYXQgY2FyZSBhYm91dCB0aGF0IGV2ZW50LlxuICpcbiAqICAtIFRoZSBgRXZlbnRQbHVnaW5IdWJgIHRoZW4gZGlzcGF0Y2hlcyB0aGUgZXZlbnRzLlxuICpcbiAqIE92ZXJ2aWV3IG9mIFJlYWN0IGFuZCB0aGUgZXZlbnQgc3lzdGVtOlxuICpcbiAqICstLS0tLS0tLS0tLS0rICAgIC5cbiAqIHwgICAgRE9NICAgICB8ICAgIC5cbiAqICstLS0tLS0tLS0tLS0rICAgIC5cbiAqICAgICAgIHwgICAgICAgICAgIC5cbiAqICAgICAgIHYgICAgICAgICAgIC5cbiAqICstLS0tLS0tLS0tLS0rICAgIC5cbiAqIHwgUmVhY3RFdmVudCB8ICAgIC5cbiAqIHwgIExpc3RlbmVyICB8ICAgIC5cbiAqICstLS0tLS0tLS0tLS0rICAgIC4gICAgICAgICAgICAgICAgICAgICAgICAgKy0tLS0tLS0tLS0tK1xuICogICAgICAgfCAgICAgICAgICAgLiAgICAgICAgICAgICAgICstLS0tLS0tLSt8U2ltcGxlRXZlbnR8XG4gKiAgICAgICB8ICAgICAgICAgICAuICAgICAgICAgICAgICAgfCAgICAgICAgIHxQbHVnaW4gICAgIHxcbiAqICstLS0tLXwtLS0tLS0rICAgIC4gICAgICAgICAgICAgICB2ICAgICAgICAgKy0tLS0tLS0tLS0tK1xuICogfCAgICAgfCAgICAgIHwgICAgLiAgICArLS0tLS0tLS0tLS0tLS0rICAgICAgICAgICAgICAgICAgICArLS0tLS0tLS0tLS0tK1xuICogfCAgICAgKy0tLS0tLS0tLS0tLi0tLT58RXZlbnRQbHVnaW5IdWJ8ICAgICAgICAgICAgICAgICAgICB8ICAgIEV2ZW50ICAgfFxuICogfCAgICAgICAgICAgIHwgICAgLiAgICB8ICAgICAgICAgICAgICB8ICAgICArLS0tLS0tLS0tLS0rICB8IFByb3BhZ2F0b3JzfFxuICogfCBSZWFjdEV2ZW50IHwgICAgLiAgICB8ICAgICAgICAgICAgICB8ICAgICB8VGFwRXZlbnQgICB8ICB8LS0tLS0tLS0tLS0tfFxuICogfCAgRW1pdHRlciAgIHwgICAgLiAgICB8ICAgICAgICAgICAgICB8PC0tLSt8UGx1Z2luICAgICB8ICB8b3RoZXIgcGx1Z2lufFxuICogfCAgICAgICAgICAgIHwgICAgLiAgICB8ICAgICAgICAgICAgICB8ICAgICArLS0tLS0tLS0tLS0rICB8ICB1dGlsaXRpZXMgfFxuICogfCAgICAgKy0tLS0tLS0tLS0tLi0tLT58ICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICArLS0tLS0tLS0tLS0tK1xuICogfCAgICAgfCAgICAgIHwgICAgLiAgICArLS0tLS0tLS0tLS0tLS0rXG4gKiArLS0tLS18LS0tLS0tKyAgICAuICAgICAgICAgICAgICAgIF4gICAgICAgICstLS0tLS0tLS0tLStcbiAqICAgICAgIHwgICAgICAgICAgIC4gICAgICAgICAgICAgICAgfCAgICAgICAgfEVudGVyL0xlYXZlfFxuICogICAgICAgKyAgICAgICAgICAgLiAgICAgICAgICAgICAgICArLS0tLS0tLSt8UGx1Z2luICAgICB8XG4gKiArLS0tLS0tLS0tLS0tLSsgICAuICAgICAgICAgICAgICAgICAgICAgICAgICstLS0tLS0tLS0tLStcbiAqIHwgYXBwbGljYXRpb24gfCAgIC5cbiAqIHwtLS0tLS0tLS0tLS0tfCAgIC5cbiAqIHwgICAgICAgICAgICAgfCAgIC5cbiAqIHwgICAgICAgICAgICAgfCAgIC5cbiAqICstLS0tLS0tLS0tLS0tKyAgIC5cbiAqICAgICAgICAgICAgICAgICAgIC5cbiAqICAgIFJlYWN0IENvcmUgICAgIC4gIEdlbmVyYWwgUHVycG9zZSBFdmVudCBQbHVnaW4gU3lzdGVtXG4gKi9cblxudmFyIFBvc3NpYmx5V2Vha01hcCA9IHR5cGVvZiBXZWFrTWFwID09PSAnZnVuY3Rpb24nID8gV2Vha01hcCA6IE1hcDtcbnZhciBlbGVtZW50TGlzdGVuaW5nU2V0cyA9IG5ldyBQb3NzaWJseVdlYWtNYXAoKTtcbmZ1bmN0aW9uIGdldExpc3RlbmluZ1NldEZvckVsZW1lbnQoZWxlbWVudCkge1xuICB2YXIgbGlzdGVuaW5nU2V0ID0gZWxlbWVudExpc3RlbmluZ1NldHMuZ2V0KGVsZW1lbnQpO1xuXG4gIGlmIChsaXN0ZW5pbmdTZXQgPT09IHVuZGVmaW5lZCkge1xuICAgIGxpc3RlbmluZ1NldCA9IG5ldyBTZXQoKTtcbiAgICBlbGVtZW50TGlzdGVuaW5nU2V0cy5zZXQoZWxlbWVudCwgbGlzdGVuaW5nU2V0KTtcbiAgfVxuXG4gIHJldHVybiBsaXN0ZW5pbmdTZXQ7XG59XG4vKipcbiAqIFdlIGxpc3RlbiBmb3IgYnViYmxlZCB0b3VjaCBldmVudHMgb24gdGhlIGRvY3VtZW50IG9iamVjdC5cbiAqXG4gKiBGaXJlZm94IHY4LjAxIChhbmQgcG9zc2libHkgb3RoZXJzKSBleGhpYml0ZWQgc3RyYW5nZSBiZWhhdmlvciB3aGVuXG4gKiBtb3VudGluZyBgb25tb3VzZW1vdmVgIGV2ZW50cyBhdCBzb21lIG5vZGUgdGhhdCB3YXMgbm90IHRoZSBkb2N1bWVudFxuICogZWxlbWVudC4gVGhlIHN5bXB0b21zIHdlcmUgdGhhdCBpZiB5b3VyIG1vdXNlIGlzIG5vdCBtb3Zpbmcgb3ZlciBzb21ldGhpbmdcbiAqIGNvbnRhaW5lZCB3aXRoaW4gdGhhdCBtb3VudCBwb2ludCAoZm9yIGV4YW1wbGUgb24gdGhlIGJhY2tncm91bmQpIHRoZVxuICogdG9wLWxldmVsIGxpc3RlbmVycyBmb3IgYG9ubW91c2Vtb3ZlYCB3b24ndCBiZSBjYWxsZWQuIEhvd2V2ZXIsIGlmIHlvdVxuICogcmVnaXN0ZXIgdGhlIGBtb3VzZW1vdmVgIG9uIHRoZSBkb2N1bWVudCBvYmplY3QsIHRoZW4gaXQgd2lsbCBvZiBjb3Vyc2VcbiAqIGNhdGNoIGFsbCBgbW91c2Vtb3ZlYHMuIFRoaXMgYWxvbmcgd2l0aCBpT1MgcXVpcmtzLCBqdXN0aWZpZXMgcmVzdHJpY3RpbmdcbiAqIHRvcC1sZXZlbCBsaXN0ZW5lcnMgdG8gdGhlIGRvY3VtZW50IG9iamVjdCBvbmx5LCBhdCBsZWFzdCBmb3IgdGhlc2VcbiAqIG1vdmVtZW50IHR5cGVzIG9mIGV2ZW50cyBhbmQgcG9zc2libHkgYWxsIGV2ZW50cy5cbiAqXG4gKiBAc2VlIGh0dHA6Ly93d3cucXVpcmtzbW9kZS5vcmcvYmxvZy9hcmNoaXZlcy8yMDEwLzA5L2NsaWNrX2V2ZW50X2RlbC5odG1sXG4gKlxuICogQWxzbywgYGtleXVwYC9ga2V5cHJlc3NgL2BrZXlkb3duYCBkbyBub3QgYnViYmxlIHRvIHRoZSB3aW5kb3cgb24gSUUsIGJ1dFxuICogdGhleSBidWJibGUgdG8gZG9jdW1lbnQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHJlZ2lzdHJhdGlvbk5hbWUgTmFtZSBvZiBsaXN0ZW5lciAoZS5nLiBgb25DbGlja2ApLlxuICogQHBhcmFtIHtvYmplY3R9IG1vdW50QXQgQ29udGFpbmVyIHdoZXJlIHRvIG1vdW50IHRoZSBsaXN0ZW5lclxuICovXG5cbmZ1bmN0aW9uIGxpc3RlblRvKHJlZ2lzdHJhdGlvbk5hbWUsIG1vdW50QXQpIHtcbiAgdmFyIGxpc3RlbmluZ1NldCA9IGdldExpc3RlbmluZ1NldEZvckVsZW1lbnQobW91bnRBdCk7XG4gIHZhciBkZXBlbmRlbmNpZXMgPSByZWdpc3RyYXRpb25OYW1lRGVwZW5kZW5jaWVzW3JlZ2lzdHJhdGlvbk5hbWVdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgZGVwZW5kZW5jaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGRlcGVuZGVuY3kgPSBkZXBlbmRlbmNpZXNbaV07XG4gICAgbGlzdGVuVG9Ub3BMZXZlbChkZXBlbmRlbmN5LCBtb3VudEF0LCBsaXN0ZW5pbmdTZXQpO1xuICB9XG59XG5mdW5jdGlvbiBsaXN0ZW5Ub1RvcExldmVsKHRvcExldmVsVHlwZSwgbW91bnRBdCwgbGlzdGVuaW5nU2V0KSB7XG4gIGlmICghbGlzdGVuaW5nU2V0Lmhhcyh0b3BMZXZlbFR5cGUpKSB7XG4gICAgc3dpdGNoICh0b3BMZXZlbFR5cGUpIHtcbiAgICAgIGNhc2UgVE9QX1NDUk9MTDpcbiAgICAgICAgdHJhcENhcHR1cmVkRXZlbnQoVE9QX1NDUk9MTCwgbW91bnRBdCk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIFRPUF9GT0NVUzpcbiAgICAgIGNhc2UgVE9QX0JMVVI6XG4gICAgICAgIHRyYXBDYXB0dXJlZEV2ZW50KFRPUF9GT0NVUywgbW91bnRBdCk7XG4gICAgICAgIHRyYXBDYXB0dXJlZEV2ZW50KFRPUF9CTFVSLCBtb3VudEF0KTsgLy8gV2Ugc2V0IHRoZSBmbGFnIGZvciBhIHNpbmdsZSBkZXBlbmRlbmN5IGxhdGVyIGluIHRoaXMgZnVuY3Rpb24sXG4gICAgICAgIC8vIGJ1dCB0aGlzIGVuc3VyZXMgd2UgbWFyayBib3RoIGFzIGF0dGFjaGVkIHJhdGhlciB0aGFuIGp1c3Qgb25lLlxuXG4gICAgICAgIGxpc3RlbmluZ1NldC5hZGQoVE9QX0JMVVIpO1xuICAgICAgICBsaXN0ZW5pbmdTZXQuYWRkKFRPUF9GT0NVUyk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIFRPUF9DQU5DRUw6XG4gICAgICBjYXNlIFRPUF9DTE9TRTpcbiAgICAgICAgaWYgKGlzRXZlbnRTdXBwb3J0ZWQoZ2V0UmF3RXZlbnROYW1lKHRvcExldmVsVHlwZSkpKSB7XG4gICAgICAgICAgdHJhcENhcHR1cmVkRXZlbnQodG9wTGV2ZWxUeXBlLCBtb3VudEF0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIFRPUF9JTlZBTElEOlxuICAgICAgY2FzZSBUT1BfU1VCTUlUOlxuICAgICAgY2FzZSBUT1BfUkVTRVQ6XG4gICAgICAgIC8vIFdlIGxpc3RlbiB0byB0aGVtIG9uIHRoZSB0YXJnZXQgRE9NIGVsZW1lbnRzLlxuICAgICAgICAvLyBTb21lIG9mIHRoZW0gYnViYmxlIHNvIHdlIGRvbid0IHdhbnQgdGhlbSB0byBmaXJlIHR3aWNlLlxuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgLy8gQnkgZGVmYXVsdCwgbGlzdGVuIG9uIHRoZSB0b3AgbGV2ZWwgdG8gYWxsIG5vbi1tZWRpYSBldmVudHMuXG4gICAgICAgIC8vIE1lZGlhIGV2ZW50cyBkb24ndCBidWJibGUgc28gYWRkaW5nIHRoZSBsaXN0ZW5lciB3b3VsZG4ndCBkbyBhbnl0aGluZy5cbiAgICAgICAgdmFyIGlzTWVkaWFFdmVudCA9IG1lZGlhRXZlbnRUeXBlcy5pbmRleE9mKHRvcExldmVsVHlwZSkgIT09IC0xO1xuXG4gICAgICAgIGlmICghaXNNZWRpYUV2ZW50KSB7XG4gICAgICAgICAgdHJhcEJ1YmJsZWRFdmVudCh0b3BMZXZlbFR5cGUsIG1vdW50QXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgbGlzdGVuaW5nU2V0LmFkZCh0b3BMZXZlbFR5cGUpO1xuICB9XG59XG5mdW5jdGlvbiBpc0xpc3RlbmluZ1RvQWxsRGVwZW5kZW5jaWVzKHJlZ2lzdHJhdGlvbk5hbWUsIG1vdW50QXQpIHtcbiAgdmFyIGxpc3RlbmluZ1NldCA9IGdldExpc3RlbmluZ1NldEZvckVsZW1lbnQobW91bnRBdCk7XG4gIHZhciBkZXBlbmRlbmNpZXMgPSByZWdpc3RyYXRpb25OYW1lRGVwZW5kZW5jaWVzW3JlZ2lzdHJhdGlvbk5hbWVdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgZGVwZW5kZW5jaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGRlcGVuZGVuY3kgPSBkZXBlbmRlbmNpZXNbaV07XG5cbiAgICBpZiAoIWxpc3RlbmluZ1NldC5oYXMoZGVwZW5kZW5jeSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLy8gTGlzdCBkZXJpdmVkIGZyb20gR2Vja28gc291cmNlIGNvZGU6XG4vLyBodHRwczovL2dpdGh1Yi5jb20vbW96aWxsYS9nZWNrby1kZXYvYmxvYi80ZTYzOGVmYzcxL2xheW91dC9zdHlsZS90ZXN0L3Byb3BlcnR5X2RhdGFiYXNlLmpzXG52YXIgc2hvcnRoYW5kVG9Mb25naGFuZCA9IHtcbiAgYW5pbWF0aW9uOiBbJ2FuaW1hdGlvbkRlbGF5JywgJ2FuaW1hdGlvbkRpcmVjdGlvbicsICdhbmltYXRpb25EdXJhdGlvbicsICdhbmltYXRpb25GaWxsTW9kZScsICdhbmltYXRpb25JdGVyYXRpb25Db3VudCcsICdhbmltYXRpb25OYW1lJywgJ2FuaW1hdGlvblBsYXlTdGF0ZScsICdhbmltYXRpb25UaW1pbmdGdW5jdGlvbiddLFxuICBiYWNrZ3JvdW5kOiBbJ2JhY2tncm91bmRBdHRhY2htZW50JywgJ2JhY2tncm91bmRDbGlwJywgJ2JhY2tncm91bmRDb2xvcicsICdiYWNrZ3JvdW5kSW1hZ2UnLCAnYmFja2dyb3VuZE9yaWdpbicsICdiYWNrZ3JvdW5kUG9zaXRpb25YJywgJ2JhY2tncm91bmRQb3NpdGlvblknLCAnYmFja2dyb3VuZFJlcGVhdCcsICdiYWNrZ3JvdW5kU2l6ZSddLFxuICBiYWNrZ3JvdW5kUG9zaXRpb246IFsnYmFja2dyb3VuZFBvc2l0aW9uWCcsICdiYWNrZ3JvdW5kUG9zaXRpb25ZJ10sXG4gIGJvcmRlcjogWydib3JkZXJCb3R0b21Db2xvcicsICdib3JkZXJCb3R0b21TdHlsZScsICdib3JkZXJCb3R0b21XaWR0aCcsICdib3JkZXJJbWFnZU91dHNldCcsICdib3JkZXJJbWFnZVJlcGVhdCcsICdib3JkZXJJbWFnZVNsaWNlJywgJ2JvcmRlckltYWdlU291cmNlJywgJ2JvcmRlckltYWdlV2lkdGgnLCAnYm9yZGVyTGVmdENvbG9yJywgJ2JvcmRlckxlZnRTdHlsZScsICdib3JkZXJMZWZ0V2lkdGgnLCAnYm9yZGVyUmlnaHRDb2xvcicsICdib3JkZXJSaWdodFN0eWxlJywgJ2JvcmRlclJpZ2h0V2lkdGgnLCAnYm9yZGVyVG9wQ29sb3InLCAnYm9yZGVyVG9wU3R5bGUnLCAnYm9yZGVyVG9wV2lkdGgnXSxcbiAgYm9yZGVyQmxvY2tFbmQ6IFsnYm9yZGVyQmxvY2tFbmRDb2xvcicsICdib3JkZXJCbG9ja0VuZFN0eWxlJywgJ2JvcmRlckJsb2NrRW5kV2lkdGgnXSxcbiAgYm9yZGVyQmxvY2tTdGFydDogWydib3JkZXJCbG9ja1N0YXJ0Q29sb3InLCAnYm9yZGVyQmxvY2tTdGFydFN0eWxlJywgJ2JvcmRlckJsb2NrU3RhcnRXaWR0aCddLFxuICBib3JkZXJCb3R0b206IFsnYm9yZGVyQm90dG9tQ29sb3InLCAnYm9yZGVyQm90dG9tU3R5bGUnLCAnYm9yZGVyQm90dG9tV2lkdGgnXSxcbiAgYm9yZGVyQ29sb3I6IFsnYm9yZGVyQm90dG9tQ29sb3InLCAnYm9yZGVyTGVmdENvbG9yJywgJ2JvcmRlclJpZ2h0Q29sb3InLCAnYm9yZGVyVG9wQ29sb3InXSxcbiAgYm9yZGVySW1hZ2U6IFsnYm9yZGVySW1hZ2VPdXRzZXQnLCAnYm9yZGVySW1hZ2VSZXBlYXQnLCAnYm9yZGVySW1hZ2VTbGljZScsICdib3JkZXJJbWFnZVNvdXJjZScsICdib3JkZXJJbWFnZVdpZHRoJ10sXG4gIGJvcmRlcklubGluZUVuZDogWydib3JkZXJJbmxpbmVFbmRDb2xvcicsICdib3JkZXJJbmxpbmVFbmRTdHlsZScsICdib3JkZXJJbmxpbmVFbmRXaWR0aCddLFxuICBib3JkZXJJbmxpbmVTdGFydDogWydib3JkZXJJbmxpbmVTdGFydENvbG9yJywgJ2JvcmRlcklubGluZVN0YXJ0U3R5bGUnLCAnYm9yZGVySW5saW5lU3RhcnRXaWR0aCddLFxuICBib3JkZXJMZWZ0OiBbJ2JvcmRlckxlZnRDb2xvcicsICdib3JkZXJMZWZ0U3R5bGUnLCAnYm9yZGVyTGVmdFdpZHRoJ10sXG4gIGJvcmRlclJhZGl1czogWydib3JkZXJCb3R0b21MZWZ0UmFkaXVzJywgJ2JvcmRlckJvdHRvbVJpZ2h0UmFkaXVzJywgJ2JvcmRlclRvcExlZnRSYWRpdXMnLCAnYm9yZGVyVG9wUmlnaHRSYWRpdXMnXSxcbiAgYm9yZGVyUmlnaHQ6IFsnYm9yZGVyUmlnaHRDb2xvcicsICdib3JkZXJSaWdodFN0eWxlJywgJ2JvcmRlclJpZ2h0V2lkdGgnXSxcbiAgYm9yZGVyU3R5bGU6IFsnYm9yZGVyQm90dG9tU3R5bGUnLCAnYm9yZGVyTGVmdFN0eWxlJywgJ2JvcmRlclJpZ2h0U3R5bGUnLCAnYm9yZGVyVG9wU3R5bGUnXSxcbiAgYm9yZGVyVG9wOiBbJ2JvcmRlclRvcENvbG9yJywgJ2JvcmRlclRvcFN0eWxlJywgJ2JvcmRlclRvcFdpZHRoJ10sXG4gIGJvcmRlcldpZHRoOiBbJ2JvcmRlckJvdHRvbVdpZHRoJywgJ2JvcmRlckxlZnRXaWR0aCcsICdib3JkZXJSaWdodFdpZHRoJywgJ2JvcmRlclRvcFdpZHRoJ10sXG4gIGNvbHVtblJ1bGU6IFsnY29sdW1uUnVsZUNvbG9yJywgJ2NvbHVtblJ1bGVTdHlsZScsICdjb2x1bW5SdWxlV2lkdGgnXSxcbiAgY29sdW1uczogWydjb2x1bW5Db3VudCcsICdjb2x1bW5XaWR0aCddLFxuICBmbGV4OiBbJ2ZsZXhCYXNpcycsICdmbGV4R3JvdycsICdmbGV4U2hyaW5rJ10sXG4gIGZsZXhGbG93OiBbJ2ZsZXhEaXJlY3Rpb24nLCAnZmxleFdyYXAnXSxcbiAgZm9udDogWydmb250RmFtaWx5JywgJ2ZvbnRGZWF0dXJlU2V0dGluZ3MnLCAnZm9udEtlcm5pbmcnLCAnZm9udExhbmd1YWdlT3ZlcnJpZGUnLCAnZm9udFNpemUnLCAnZm9udFNpemVBZGp1c3QnLCAnZm9udFN0cmV0Y2gnLCAnZm9udFN0eWxlJywgJ2ZvbnRWYXJpYW50JywgJ2ZvbnRWYXJpYW50QWx0ZXJuYXRlcycsICdmb250VmFyaWFudENhcHMnLCAnZm9udFZhcmlhbnRFYXN0QXNpYW4nLCAnZm9udFZhcmlhbnRMaWdhdHVyZXMnLCAnZm9udFZhcmlhbnROdW1lcmljJywgJ2ZvbnRWYXJpYW50UG9zaXRpb24nLCAnZm9udFdlaWdodCcsICdsaW5lSGVpZ2h0J10sXG4gIGZvbnRWYXJpYW50OiBbJ2ZvbnRWYXJpYW50QWx0ZXJuYXRlcycsICdmb250VmFyaWFudENhcHMnLCAnZm9udFZhcmlhbnRFYXN0QXNpYW4nLCAnZm9udFZhcmlhbnRMaWdhdHVyZXMnLCAnZm9udFZhcmlhbnROdW1lcmljJywgJ2ZvbnRWYXJpYW50UG9zaXRpb24nXSxcbiAgZ2FwOiBbJ2NvbHVtbkdhcCcsICdyb3dHYXAnXSxcbiAgZ3JpZDogWydncmlkQXV0b0NvbHVtbnMnLCAnZ3JpZEF1dG9GbG93JywgJ2dyaWRBdXRvUm93cycsICdncmlkVGVtcGxhdGVBcmVhcycsICdncmlkVGVtcGxhdGVDb2x1bW5zJywgJ2dyaWRUZW1wbGF0ZVJvd3MnXSxcbiAgZ3JpZEFyZWE6IFsnZ3JpZENvbHVtbkVuZCcsICdncmlkQ29sdW1uU3RhcnQnLCAnZ3JpZFJvd0VuZCcsICdncmlkUm93U3RhcnQnXSxcbiAgZ3JpZENvbHVtbjogWydncmlkQ29sdW1uRW5kJywgJ2dyaWRDb2x1bW5TdGFydCddLFxuICBncmlkQ29sdW1uR2FwOiBbJ2NvbHVtbkdhcCddLFxuICBncmlkR2FwOiBbJ2NvbHVtbkdhcCcsICdyb3dHYXAnXSxcbiAgZ3JpZFJvdzogWydncmlkUm93RW5kJywgJ2dyaWRSb3dTdGFydCddLFxuICBncmlkUm93R2FwOiBbJ3Jvd0dhcCddLFxuICBncmlkVGVtcGxhdGU6IFsnZ3JpZFRlbXBsYXRlQXJlYXMnLCAnZ3JpZFRlbXBsYXRlQ29sdW1ucycsICdncmlkVGVtcGxhdGVSb3dzJ10sXG4gIGxpc3RTdHlsZTogWydsaXN0U3R5bGVJbWFnZScsICdsaXN0U3R5bGVQb3NpdGlvbicsICdsaXN0U3R5bGVUeXBlJ10sXG4gIG1hcmdpbjogWydtYXJnaW5Cb3R0b20nLCAnbWFyZ2luTGVmdCcsICdtYXJnaW5SaWdodCcsICdtYXJnaW5Ub3AnXSxcbiAgbWFya2VyOiBbJ21hcmtlckVuZCcsICdtYXJrZXJNaWQnLCAnbWFya2VyU3RhcnQnXSxcbiAgbWFzazogWydtYXNrQ2xpcCcsICdtYXNrQ29tcG9zaXRlJywgJ21hc2tJbWFnZScsICdtYXNrTW9kZScsICdtYXNrT3JpZ2luJywgJ21hc2tQb3NpdGlvblgnLCAnbWFza1Bvc2l0aW9uWScsICdtYXNrUmVwZWF0JywgJ21hc2tTaXplJ10sXG4gIG1hc2tQb3NpdGlvbjogWydtYXNrUG9zaXRpb25YJywgJ21hc2tQb3NpdGlvblknXSxcbiAgb3V0bGluZTogWydvdXRsaW5lQ29sb3InLCAnb3V0bGluZVN0eWxlJywgJ291dGxpbmVXaWR0aCddLFxuICBvdmVyZmxvdzogWydvdmVyZmxvd1gnLCAnb3ZlcmZsb3dZJ10sXG4gIHBhZGRpbmc6IFsncGFkZGluZ0JvdHRvbScsICdwYWRkaW5nTGVmdCcsICdwYWRkaW5nUmlnaHQnLCAncGFkZGluZ1RvcCddLFxuICBwbGFjZUNvbnRlbnQ6IFsnYWxpZ25Db250ZW50JywgJ2p1c3RpZnlDb250ZW50J10sXG4gIHBsYWNlSXRlbXM6IFsnYWxpZ25JdGVtcycsICdqdXN0aWZ5SXRlbXMnXSxcbiAgcGxhY2VTZWxmOiBbJ2FsaWduU2VsZicsICdqdXN0aWZ5U2VsZiddLFxuICB0ZXh0RGVjb3JhdGlvbjogWyd0ZXh0RGVjb3JhdGlvbkNvbG9yJywgJ3RleHREZWNvcmF0aW9uTGluZScsICd0ZXh0RGVjb3JhdGlvblN0eWxlJ10sXG4gIHRleHRFbXBoYXNpczogWyd0ZXh0RW1waGFzaXNDb2xvcicsICd0ZXh0RW1waGFzaXNTdHlsZSddLFxuICB0cmFuc2l0aW9uOiBbJ3RyYW5zaXRpb25EZWxheScsICd0cmFuc2l0aW9uRHVyYXRpb24nLCAndHJhbnNpdGlvblByb3BlcnR5JywgJ3RyYW5zaXRpb25UaW1pbmdGdW5jdGlvbiddLFxuICB3b3JkV3JhcDogWydvdmVyZmxvd1dyYXAnXVxufTtcblxuLyoqXG4gKiBDU1MgcHJvcGVydGllcyB3aGljaCBhY2NlcHQgbnVtYmVycyBidXQgYXJlIG5vdCBpbiB1bml0cyBvZiBcInB4XCIuXG4gKi9cbnZhciBpc1VuaXRsZXNzTnVtYmVyID0ge1xuICBhbmltYXRpb25JdGVyYXRpb25Db3VudDogdHJ1ZSxcbiAgYm9yZGVySW1hZ2VPdXRzZXQ6IHRydWUsXG4gIGJvcmRlckltYWdlU2xpY2U6IHRydWUsXG4gIGJvcmRlckltYWdlV2lkdGg6IHRydWUsXG4gIGJveEZsZXg6IHRydWUsXG4gIGJveEZsZXhHcm91cDogdHJ1ZSxcbiAgYm94T3JkaW5hbEdyb3VwOiB0cnVlLFxuICBjb2x1bW5Db3VudDogdHJ1ZSxcbiAgY29sdW1uczogdHJ1ZSxcbiAgZmxleDogdHJ1ZSxcbiAgZmxleEdyb3c6IHRydWUsXG4gIGZsZXhQb3NpdGl2ZTogdHJ1ZSxcbiAgZmxleFNocmluazogdHJ1ZSxcbiAgZmxleE5lZ2F0aXZlOiB0cnVlLFxuICBmbGV4T3JkZXI6IHRydWUsXG4gIGdyaWRBcmVhOiB0cnVlLFxuICBncmlkUm93OiB0cnVlLFxuICBncmlkUm93RW5kOiB0cnVlLFxuICBncmlkUm93U3BhbjogdHJ1ZSxcbiAgZ3JpZFJvd1N0YXJ0OiB0cnVlLFxuICBncmlkQ29sdW1uOiB0cnVlLFxuICBncmlkQ29sdW1uRW5kOiB0cnVlLFxuICBncmlkQ29sdW1uU3BhbjogdHJ1ZSxcbiAgZ3JpZENvbHVtblN0YXJ0OiB0cnVlLFxuICBmb250V2VpZ2h0OiB0cnVlLFxuICBsaW5lQ2xhbXA6IHRydWUsXG4gIGxpbmVIZWlnaHQ6IHRydWUsXG4gIG9wYWNpdHk6IHRydWUsXG4gIG9yZGVyOiB0cnVlLFxuICBvcnBoYW5zOiB0cnVlLFxuICB0YWJTaXplOiB0cnVlLFxuICB3aWRvd3M6IHRydWUsXG4gIHpJbmRleDogdHJ1ZSxcbiAgem9vbTogdHJ1ZSxcbiAgLy8gU1ZHLXJlbGF0ZWQgcHJvcGVydGllc1xuICBmaWxsT3BhY2l0eTogdHJ1ZSxcbiAgZmxvb2RPcGFjaXR5OiB0cnVlLFxuICBzdG9wT3BhY2l0eTogdHJ1ZSxcbiAgc3Ryb2tlRGFzaGFycmF5OiB0cnVlLFxuICBzdHJva2VEYXNob2Zmc2V0OiB0cnVlLFxuICBzdHJva2VNaXRlcmxpbWl0OiB0cnVlLFxuICBzdHJva2VPcGFjaXR5OiB0cnVlLFxuICBzdHJva2VXaWR0aDogdHJ1ZVxufTtcbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHByZWZpeCB2ZW5kb3Itc3BlY2lmaWMgcHJlZml4LCBlZzogV2Via2l0XG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IHN0eWxlIG5hbWUsIGVnOiB0cmFuc2l0aW9uRHVyYXRpb25cbiAqIEByZXR1cm4ge3N0cmluZ30gc3R5bGUgbmFtZSBwcmVmaXhlZCB3aXRoIGBwcmVmaXhgLCBwcm9wZXJseSBjYW1lbENhc2VkLCBlZzpcbiAqIFdlYmtpdFRyYW5zaXRpb25EdXJhdGlvblxuICovXG5cbmZ1bmN0aW9uIHByZWZpeEtleShwcmVmaXgsIGtleSkge1xuICByZXR1cm4gcHJlZml4ICsga2V5LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsga2V5LnN1YnN0cmluZygxKTtcbn1cbi8qKlxuICogU3VwcG9ydCBzdHlsZSBuYW1lcyB0aGF0IG1heSBjb21lIHBhc3NlZCBpbiBwcmVmaXhlZCBieSBhZGRpbmcgcGVybXV0YXRpb25zXG4gKiBvZiB2ZW5kb3IgcHJlZml4ZXMuXG4gKi9cblxuXG52YXIgcHJlZml4ZXMgPSBbJ1dlYmtpdCcsICdtcycsICdNb3onLCAnTyddOyAvLyBVc2luZyBPYmplY3Qua2V5cyBoZXJlLCBvciBlbHNlIHRoZSB2YW5pbGxhIGZvci1pbiBsb29wIG1ha2VzIElFOCBnbyBpbnRvIGFuXG4vLyBpbmZpbml0ZSBsb29wLCBiZWNhdXNlIGl0IGl0ZXJhdGVzIG92ZXIgdGhlIG5ld2x5IGFkZGVkIHByb3BzIHRvby5cblxuT2JqZWN0LmtleXMoaXNVbml0bGVzc051bWJlcikuZm9yRWFjaChmdW5jdGlvbiAocHJvcCkge1xuICBwcmVmaXhlcy5mb3JFYWNoKGZ1bmN0aW9uIChwcmVmaXgpIHtcbiAgICBpc1VuaXRsZXNzTnVtYmVyW3ByZWZpeEtleShwcmVmaXgsIHByb3ApXSA9IGlzVW5pdGxlc3NOdW1iZXJbcHJvcF07XG4gIH0pO1xufSk7XG5cbi8qKlxuICogQ29udmVydCBhIHZhbHVlIGludG8gdGhlIHByb3BlciBjc3Mgd3JpdGFibGUgdmFsdWUuIFRoZSBzdHlsZSBuYW1lIGBuYW1lYFxuICogc2hvdWxkIGJlIGxvZ2ljYWwgKG5vIGh5cGhlbnMpLCBhcyBzcGVjaWZpZWRcbiAqIGluIGBDU1NQcm9wZXJ0eS5pc1VuaXRsZXNzTnVtYmVyYC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBDU1MgcHJvcGVydHkgbmFtZSBzdWNoIGFzIGB0b3BNYXJnaW5gLlxuICogQHBhcmFtIHsqfSB2YWx1ZSBDU1MgcHJvcGVydHkgdmFsdWUgc3VjaCBhcyBgMTBweGAuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IE5vcm1hbGl6ZWQgc3R5bGUgdmFsdWUgd2l0aCBkaW1lbnNpb25zIGFwcGxpZWQuXG4gKi9cblxuZnVuY3Rpb24gZGFuZ2Vyb3VzU3R5bGVWYWx1ZShuYW1lLCB2YWx1ZSwgaXNDdXN0b21Qcm9wZXJ0eSkge1xuICAvLyBOb3RlIHRoYXQgd2UndmUgcmVtb3ZlZCBlc2NhcGVUZXh0Rm9yQnJvd3NlcigpIGNhbGxzIGhlcmUgc2luY2UgdGhlXG4gIC8vIHdob2xlIHN0cmluZyB3aWxsIGJlIGVzY2FwZWQgd2hlbiB0aGUgYXR0cmlidXRlIGlzIGluamVjdGVkIGludG9cbiAgLy8gdGhlIG1hcmt1cC4gSWYgeW91IHByb3ZpZGUgdW5zYWZlIHVzZXIgZGF0YSBoZXJlIHRoZXkgY2FuIGluamVjdFxuICAvLyBhcmJpdHJhcnkgQ1NTIHdoaWNoIG1heSBiZSBwcm9ibGVtYXRpYyAoSSBjb3VsZG4ndCByZXBybyB0aGlzKTpcbiAgLy8gaHR0cHM6Ly93d3cub3dhc3Aub3JnL2luZGV4LnBocC9YU1NfRmlsdGVyX0V2YXNpb25fQ2hlYXRfU2hlZXRcbiAgLy8gaHR0cDovL3d3dy50aGVzcGFubmVyLmNvLnVrLzIwMDcvMTEvMjYvdWx0aW1hdGUteHNzLWNzcy1pbmplY3Rpb24vXG4gIC8vIFRoaXMgaXMgbm90IGFuIFhTUyBob2xlIGJ1dCBpbnN0ZWFkIGEgcG90ZW50aWFsIENTUyBpbmplY3Rpb24gaXNzdWVcbiAgLy8gd2hpY2ggaGFzIGxlYWQgdG8gYSBncmVhdGVyIGRpc2N1c3Npb24gYWJvdXQgaG93IHdlJ3JlIGdvaW5nIHRvXG4gIC8vIHRydXN0IFVSTHMgbW92aW5nIGZvcndhcmQuIFNlZSAjMjExNTkwMVxuICB2YXIgaXNFbXB0eSA9IHZhbHVlID09IG51bGwgfHwgdHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbicgfHwgdmFsdWUgPT09ICcnO1xuXG4gIGlmIChpc0VtcHR5KSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG5cbiAgaWYgKCFpc0N1c3RvbVByb3BlcnR5ICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgJiYgdmFsdWUgIT09IDAgJiYgIShpc1VuaXRsZXNzTnVtYmVyLmhhc093blByb3BlcnR5KG5hbWUpICYmIGlzVW5pdGxlc3NOdW1iZXJbbmFtZV0pKSB7XG4gICAgcmV0dXJuIHZhbHVlICsgJ3B4JzsgLy8gUHJlc3VtZXMgaW1wbGljaXQgJ3B4JyBzdWZmaXggZm9yIHVuaXRsZXNzIG51bWJlcnNcbiAgfVxuXG4gIHJldHVybiAoJycgKyB2YWx1ZSkudHJpbSgpO1xufVxuXG52YXIgdXBwZXJjYXNlUGF0dGVybiA9IC8oW0EtWl0pL2c7XG52YXIgbXNQYXR0ZXJuID0gL15tcy0vO1xuLyoqXG4gKiBIeXBoZW5hdGVzIGEgY2FtZWxjYXNlZCBDU1MgcHJvcGVydHkgbmFtZSwgZm9yIGV4YW1wbGU6XG4gKlxuICogICA+IGh5cGhlbmF0ZVN0eWxlTmFtZSgnYmFja2dyb3VuZENvbG9yJylcbiAqICAgPCBcImJhY2tncm91bmQtY29sb3JcIlxuICogICA+IGh5cGhlbmF0ZVN0eWxlTmFtZSgnTW96VHJhbnNpdGlvbicpXG4gKiAgIDwgXCItbW96LXRyYW5zaXRpb25cIlxuICogICA+IGh5cGhlbmF0ZVN0eWxlTmFtZSgnbXNUcmFuc2l0aW9uJylcbiAqICAgPCBcIi1tcy10cmFuc2l0aW9uXCJcbiAqXG4gKiBBcyBNb2Rlcm5penIgc3VnZ2VzdHMgKGh0dHA6Ly9tb2Rlcm5penIuY29tL2RvY3MvI3ByZWZpeGVkKSwgYW4gYG1zYCBwcmVmaXhcbiAqIGlzIGNvbnZlcnRlZCB0byBgLW1zLWAuXG4gKi9cblxuZnVuY3Rpb24gaHlwaGVuYXRlU3R5bGVOYW1lKG5hbWUpIHtcbiAgcmV0dXJuIG5hbWUucmVwbGFjZSh1cHBlcmNhc2VQYXR0ZXJuLCAnLSQxJykudG9Mb3dlckNhc2UoKS5yZXBsYWNlKG1zUGF0dGVybiwgJy1tcy0nKTtcbn1cblxudmFyIHdhcm5WYWxpZFN0eWxlID0gZnVuY3Rpb24gKCkge307XG5cbntcbiAgLy8gJ21zVHJhbnNmb3JtJyBpcyBjb3JyZWN0LCBidXQgdGhlIG90aGVyIHByZWZpeGVzIHNob3VsZCBiZSBjYXBpdGFsaXplZFxuICB2YXIgYmFkVmVuZG9yZWRTdHlsZU5hbWVQYXR0ZXJuID0gL14oPzp3ZWJraXR8bW96fG8pW0EtWl0vO1xuICB2YXIgbXNQYXR0ZXJuJDEgPSAvXi1tcy0vO1xuICB2YXIgaHlwaGVuUGF0dGVybiA9IC8tKC4pL2c7IC8vIHN0eWxlIHZhbHVlcyBzaG91bGRuJ3QgY29udGFpbiBhIHNlbWljb2xvblxuXG4gIHZhciBiYWRTdHlsZVZhbHVlV2l0aFNlbWljb2xvblBhdHRlcm4gPSAvO1xccyokLztcbiAgdmFyIHdhcm5lZFN0eWxlTmFtZXMgPSB7fTtcbiAgdmFyIHdhcm5lZFN0eWxlVmFsdWVzID0ge307XG4gIHZhciB3YXJuZWRGb3JOYU5WYWx1ZSA9IGZhbHNlO1xuICB2YXIgd2FybmVkRm9ySW5maW5pdHlWYWx1ZSA9IGZhbHNlO1xuXG4gIHZhciBjYW1lbGl6ZSA9IGZ1bmN0aW9uIChzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UoaHlwaGVuUGF0dGVybiwgZnVuY3Rpb24gKF8sIGNoYXJhY3Rlcikge1xuICAgICAgcmV0dXJuIGNoYXJhY3Rlci50b1VwcGVyQ2FzZSgpO1xuICAgIH0pO1xuICB9O1xuXG4gIHZhciB3YXJuSHlwaGVuYXRlZFN0eWxlTmFtZSA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgaWYgKHdhcm5lZFN0eWxlTmFtZXMuaGFzT3duUHJvcGVydHkobmFtZSkgJiYgd2FybmVkU3R5bGVOYW1lc1tuYW1lXSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHdhcm5lZFN0eWxlTmFtZXNbbmFtZV0gPSB0cnVlO1xuICAgIHdhcm5pbmckMShmYWxzZSwgJ1Vuc3VwcG9ydGVkIHN0eWxlIHByb3BlcnR5ICVzLiBEaWQgeW91IG1lYW4gJXM/JywgbmFtZSwgLy8gQXMgQW5kaSBTbWl0aCBzdWdnZXN0c1xuICAgIC8vIChodHRwOi8vd3d3LmFuZGlzbWl0aC5jb20vYmxvZy8yMDEyLzAyL21vZGVybml6ci1wcmVmaXhlZC8pLCBhbiBgLW1zYCBwcmVmaXhcbiAgICAvLyBpcyBjb252ZXJ0ZWQgdG8gbG93ZXJjYXNlIGBtc2AuXG4gICAgY2FtZWxpemUobmFtZS5yZXBsYWNlKG1zUGF0dGVybiQxLCAnbXMtJykpKTtcbiAgfTtcblxuICB2YXIgd2FybkJhZFZlbmRvcmVkU3R5bGVOYW1lID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICBpZiAod2FybmVkU3R5bGVOYW1lcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSAmJiB3YXJuZWRTdHlsZU5hbWVzW25hbWVdKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgd2FybmVkU3R5bGVOYW1lc1tuYW1lXSA9IHRydWU7XG4gICAgd2FybmluZyQxKGZhbHNlLCAnVW5zdXBwb3J0ZWQgdmVuZG9yLXByZWZpeGVkIHN0eWxlIHByb3BlcnR5ICVzLiBEaWQgeW91IG1lYW4gJXM/JywgbmFtZSwgbmFtZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIG5hbWUuc2xpY2UoMSkpO1xuICB9O1xuXG4gIHZhciB3YXJuU3R5bGVWYWx1ZVdpdGhTZW1pY29sb24gPSBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcbiAgICBpZiAod2FybmVkU3R5bGVWYWx1ZXMuaGFzT3duUHJvcGVydHkodmFsdWUpICYmIHdhcm5lZFN0eWxlVmFsdWVzW3ZhbHVlXSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHdhcm5lZFN0eWxlVmFsdWVzW3ZhbHVlXSA9IHRydWU7XG4gICAgd2FybmluZyQxKGZhbHNlLCBcIlN0eWxlIHByb3BlcnR5IHZhbHVlcyBzaG91bGRuJ3QgY29udGFpbiBhIHNlbWljb2xvbi4gXCIgKyAnVHJ5IFwiJXM6ICVzXCIgaW5zdGVhZC4nLCBuYW1lLCB2YWx1ZS5yZXBsYWNlKGJhZFN0eWxlVmFsdWVXaXRoU2VtaWNvbG9uUGF0dGVybiwgJycpKTtcbiAgfTtcblxuICB2YXIgd2FyblN0eWxlVmFsdWVJc05hTiA9IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xuICAgIGlmICh3YXJuZWRGb3JOYU5WYWx1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHdhcm5lZEZvck5hTlZhbHVlID0gdHJ1ZTtcbiAgICB3YXJuaW5nJDEoZmFsc2UsICdgTmFOYCBpcyBhbiBpbnZhbGlkIHZhbHVlIGZvciB0aGUgYCVzYCBjc3Mgc3R5bGUgcHJvcGVydHkuJywgbmFtZSk7XG4gIH07XG5cbiAgdmFyIHdhcm5TdHlsZVZhbHVlSXNJbmZpbml0eSA9IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xuICAgIGlmICh3YXJuZWRGb3JJbmZpbml0eVZhbHVlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgd2FybmVkRm9ySW5maW5pdHlWYWx1ZSA9IHRydWU7XG4gICAgd2FybmluZyQxKGZhbHNlLCAnYEluZmluaXR5YCBpcyBhbiBpbnZhbGlkIHZhbHVlIGZvciB0aGUgYCVzYCBjc3Mgc3R5bGUgcHJvcGVydHkuJywgbmFtZSk7XG4gIH07XG5cbiAgd2FyblZhbGlkU3R5bGUgPSBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcbiAgICBpZiAobmFtZS5pbmRleE9mKCctJykgPiAtMSkge1xuICAgICAgd2Fybkh5cGhlbmF0ZWRTdHlsZU5hbWUobmFtZSk7XG4gICAgfSBlbHNlIGlmIChiYWRWZW5kb3JlZFN0eWxlTmFtZVBhdHRlcm4udGVzdChuYW1lKSkge1xuICAgICAgd2FybkJhZFZlbmRvcmVkU3R5bGVOYW1lKG5hbWUpO1xuICAgIH0gZWxzZSBpZiAoYmFkU3R5bGVWYWx1ZVdpdGhTZW1pY29sb25QYXR0ZXJuLnRlc3QodmFsdWUpKSB7XG4gICAgICB3YXJuU3R5bGVWYWx1ZVdpdGhTZW1pY29sb24obmFtZSwgdmFsdWUpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgICBpZiAoaXNOYU4odmFsdWUpKSB7XG4gICAgICAgIHdhcm5TdHlsZVZhbHVlSXNOYU4obmFtZSwgdmFsdWUpO1xuICAgICAgfSBlbHNlIGlmICghaXNGaW5pdGUodmFsdWUpKSB7XG4gICAgICAgIHdhcm5TdHlsZVZhbHVlSXNJbmZpbml0eShuYW1lLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xufVxuXG52YXIgd2FyblZhbGlkU3R5bGUkMSA9IHdhcm5WYWxpZFN0eWxlO1xuXG4vKipcbiAqIE9wZXJhdGlvbnMgZm9yIGRlYWxpbmcgd2l0aCBDU1MgcHJvcGVydGllcy5cbiAqL1xuXG4vKipcbiAqIFRoaXMgY3JlYXRlcyBhIHN0cmluZyB0aGF0IGlzIGV4cGVjdGVkIHRvIGJlIGVxdWl2YWxlbnQgdG8gdGhlIHN0eWxlXG4gKiBhdHRyaWJ1dGUgZ2VuZXJhdGVkIGJ5IHNlcnZlci1zaWRlIHJlbmRlcmluZy4gSXQgYnktcGFzc2VzIHdhcm5pbmdzIGFuZFxuICogc2VjdXJpdHkgY2hlY2tzIHNvIGl0J3Mgbm90IHNhZmUgdG8gdXNlIHRoaXMgdmFsdWUgZm9yIGFueXRoaW5nIG90aGVyIHRoYW5cbiAqIGNvbXBhcmlzb24uIEl0IGlzIG9ubHkgdXNlZCBpbiBERVYgZm9yIFNTUiB2YWxpZGF0aW9uLlxuICovXG5cbmZ1bmN0aW9uIGNyZWF0ZURhbmdlcm91c1N0cmluZ0ZvclN0eWxlcyhzdHlsZXMpIHtcbiAge1xuICAgIHZhciBzZXJpYWxpemVkID0gJyc7XG4gICAgdmFyIGRlbGltaXRlciA9ICcnO1xuXG4gICAgZm9yICh2YXIgc3R5bGVOYW1lIGluIHN0eWxlcykge1xuICAgICAgaWYgKCFzdHlsZXMuaGFzT3duUHJvcGVydHkoc3R5bGVOYW1lKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgdmFyIHN0eWxlVmFsdWUgPSBzdHlsZXNbc3R5bGVOYW1lXTtcblxuICAgICAgaWYgKHN0eWxlVmFsdWUgIT0gbnVsbCkge1xuICAgICAgICB2YXIgaXNDdXN0b21Qcm9wZXJ0eSA9IHN0eWxlTmFtZS5pbmRleE9mKCctLScpID09PSAwO1xuICAgICAgICBzZXJpYWxpemVkICs9IGRlbGltaXRlciArIChpc0N1c3RvbVByb3BlcnR5ID8gc3R5bGVOYW1lIDogaHlwaGVuYXRlU3R5bGVOYW1lKHN0eWxlTmFtZSkpICsgJzonO1xuICAgICAgICBzZXJpYWxpemVkICs9IGRhbmdlcm91c1N0eWxlVmFsdWUoc3R5bGVOYW1lLCBzdHlsZVZhbHVlLCBpc0N1c3RvbVByb3BlcnR5KTtcbiAgICAgICAgZGVsaW1pdGVyID0gJzsnO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzZXJpYWxpemVkIHx8IG51bGw7XG4gIH1cbn1cbi8qKlxuICogU2V0cyB0aGUgdmFsdWUgZm9yIG11bHRpcGxlIHN0eWxlcyBvbiBhIG5vZGUuICBJZiBhIHZhbHVlIGlzIHNwZWNpZmllZCBhc1xuICogJycgKGVtcHR5IHN0cmluZyksIHRoZSBjb3JyZXNwb25kaW5nIHN0eWxlIHByb3BlcnR5IHdpbGwgYmUgdW5zZXQuXG4gKlxuICogQHBhcmFtIHtET01FbGVtZW50fSBub2RlXG4gKiBAcGFyYW0ge29iamVjdH0gc3R5bGVzXG4gKi9cblxuZnVuY3Rpb24gc2V0VmFsdWVGb3JTdHlsZXMobm9kZSwgc3R5bGVzKSB7XG4gIHZhciBzdHlsZSA9IG5vZGUuc3R5bGU7XG5cbiAgZm9yICh2YXIgc3R5bGVOYW1lIGluIHN0eWxlcykge1xuICAgIGlmICghc3R5bGVzLmhhc093blByb3BlcnR5KHN0eWxlTmFtZSkpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIHZhciBpc0N1c3RvbVByb3BlcnR5ID0gc3R5bGVOYW1lLmluZGV4T2YoJy0tJykgPT09IDA7XG5cbiAgICB7XG4gICAgICBpZiAoIWlzQ3VzdG9tUHJvcGVydHkpIHtcbiAgICAgICAgd2FyblZhbGlkU3R5bGUkMShzdHlsZU5hbWUsIHN0eWxlc1tzdHlsZU5hbWVdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgc3R5bGVWYWx1ZSA9IGRhbmdlcm91c1N0eWxlVmFsdWUoc3R5bGVOYW1lLCBzdHlsZXNbc3R5bGVOYW1lXSwgaXNDdXN0b21Qcm9wZXJ0eSk7XG5cbiAgICBpZiAoc3R5bGVOYW1lID09PSAnZmxvYXQnKSB7XG4gICAgICBzdHlsZU5hbWUgPSAnY3NzRmxvYXQnO1xuICAgIH1cblxuICAgIGlmIChpc0N1c3RvbVByb3BlcnR5KSB7XG4gICAgICBzdHlsZS5zZXRQcm9wZXJ0eShzdHlsZU5hbWUsIHN0eWxlVmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZVtzdHlsZU5hbWVdID0gc3R5bGVWYWx1ZTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gaXNWYWx1ZUVtcHR5KHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSA9PSBudWxsIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nIHx8IHZhbHVlID09PSAnJztcbn1cbi8qKlxuICogR2l2ZW4ge2NvbG9yOiAncmVkJywgb3ZlcmZsb3c6ICdoaWRkZW4nfSByZXR1cm5zIHtcbiAqICAgY29sb3I6ICdjb2xvcicsXG4gKiAgIG92ZXJmbG93WDogJ292ZXJmbG93JyxcbiAqICAgb3ZlcmZsb3dZOiAnb3ZlcmZsb3cnLFxuICogfS4gVGhpcyBjYW4gYmUgcmVhZCBhcyBcInRoZSBvdmVyZmxvd1kgcHJvcGVydHkgd2FzIHNldCBieSB0aGUgb3ZlcmZsb3dcbiAqIHNob3J0aGFuZFwiLiBUaGF0IGlzLCB0aGUgdmFsdWVzIGFyZSB0aGUgcHJvcGVydHkgdGhhdCBlYWNoIHdhcyBkZXJpdmVkIGZyb20uXG4gKi9cblxuXG5mdW5jdGlvbiBleHBhbmRTaG9ydGhhbmRNYXAoc3R5bGVzKSB7XG4gIHZhciBleHBhbmRlZCA9IHt9O1xuXG4gIGZvciAodmFyIGtleSBpbiBzdHlsZXMpIHtcbiAgICB2YXIgbG9uZ2hhbmRzID0gc2hvcnRoYW5kVG9Mb25naGFuZFtrZXldIHx8IFtrZXldO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsb25naGFuZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGV4cGFuZGVkW2xvbmdoYW5kc1tpXV0gPSBrZXk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGV4cGFuZGVkO1xufVxuLyoqXG4gKiBXaGVuIG1peGluZyBzaG9ydGhhbmQgYW5kIGxvbmdoYW5kIHByb3BlcnR5IG5hbWVzLCB3ZSB3YXJuIGR1cmluZyB1cGRhdGVzIGlmXG4gKiB3ZSBleHBlY3QgYW4gaW5jb3JyZWN0IHJlc3VsdCB0byBvY2N1ci4gSW4gcGFydGljdWxhciwgd2Ugd2FybiBmb3I6XG4gKlxuICogVXBkYXRpbmcgYSBzaG9ydGhhbmQgcHJvcGVydHkgKGxvbmdoYW5kIGdldHMgb3ZlcndyaXR0ZW4pOlxuICogICB7Zm9udDogJ2ZvbycsIGZvbnRWYXJpYW50OiAnYmFyJ30gLT4ge2ZvbnQ6ICdiYXonLCBmb250VmFyaWFudDogJ2Jhcid9XG4gKiAgIGJlY29tZXMgLnN0eWxlLmZvbnQgPSAnYmF6J1xuICogUmVtb3ZpbmcgYSBzaG9ydGhhbmQgcHJvcGVydHkgKGxvbmdoYW5kIGdldHMgbG9zdCB0b28pOlxuICogICB7Zm9udDogJ2ZvbycsIGZvbnRWYXJpYW50OiAnYmFyJ30gLT4ge2ZvbnRWYXJpYW50OiAnYmFyJ31cbiAqICAgYmVjb21lcyAuc3R5bGUuZm9udCA9ICcnXG4gKiBSZW1vdmluZyBhIGxvbmdoYW5kIHByb3BlcnR5IChzaG91bGQgcmV2ZXJ0IHRvIHNob3J0aGFuZDsgZG9lc24ndCk6XG4gKiAgIHtmb250OiAnZm9vJywgZm9udFZhcmlhbnQ6ICdiYXInfSAtPiB7Zm9udDogJ2Zvbyd9XG4gKiAgIGJlY29tZXMgLnN0eWxlLmZvbnRWYXJpYW50ID0gJydcbiAqL1xuXG5cbmZ1bmN0aW9uIHZhbGlkYXRlU2hvcnRoYW5kUHJvcGVydHlDb2xsaXNpb25JbkRldihzdHlsZVVwZGF0ZXMsIG5leHRTdHlsZXMpIHtcbiAgaWYgKCF3YXJuQWJvdXRTaG9ydGhhbmRQcm9wZXJ0eUNvbGxpc2lvbikge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmICghbmV4dFN0eWxlcykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBleHBhbmRlZFVwZGF0ZXMgPSBleHBhbmRTaG9ydGhhbmRNYXAoc3R5bGVVcGRhdGVzKTtcbiAgdmFyIGV4cGFuZGVkU3R5bGVzID0gZXhwYW5kU2hvcnRoYW5kTWFwKG5leHRTdHlsZXMpO1xuICB2YXIgd2FybmVkQWJvdXQgPSB7fTtcblxuICBmb3IgKHZhciBrZXkgaW4gZXhwYW5kZWRVcGRhdGVzKSB7XG4gICAgdmFyIG9yaWdpbmFsS2V5ID0gZXhwYW5kZWRVcGRhdGVzW2tleV07XG4gICAgdmFyIGNvcnJlY3RPcmlnaW5hbEtleSA9IGV4cGFuZGVkU3R5bGVzW2tleV07XG5cbiAgICBpZiAoY29ycmVjdE9yaWdpbmFsS2V5ICYmIG9yaWdpbmFsS2V5ICE9PSBjb3JyZWN0T3JpZ2luYWxLZXkpIHtcbiAgICAgIHZhciB3YXJuaW5nS2V5ID0gb3JpZ2luYWxLZXkgKyAnLCcgKyBjb3JyZWN0T3JpZ2luYWxLZXk7XG5cbiAgICAgIGlmICh3YXJuZWRBYm91dFt3YXJuaW5nS2V5XSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgd2FybmVkQWJvdXRbd2FybmluZ0tleV0gPSB0cnVlO1xuICAgICAgd2FybmluZyQxKGZhbHNlLCAnJXMgYSBzdHlsZSBwcm9wZXJ0eSBkdXJpbmcgcmVyZW5kZXIgKCVzKSB3aGVuIGEgJyArICdjb25mbGljdGluZyBwcm9wZXJ0eSBpcyBzZXQgKCVzKSBjYW4gbGVhZCB0byBzdHlsaW5nIGJ1Z3MuIFRvICcgKyBcImF2b2lkIHRoaXMsIGRvbid0IG1peCBzaG9ydGhhbmQgYW5kIG5vbi1zaG9ydGhhbmQgcHJvcGVydGllcyBcIiArICdmb3IgdGhlIHNhbWUgdmFsdWU7IGluc3RlYWQsIHJlcGxhY2UgdGhlIHNob3J0aGFuZCB3aXRoICcgKyAnc2VwYXJhdGUgdmFsdWVzLicsIGlzVmFsdWVFbXB0eShzdHlsZVVwZGF0ZXNbb3JpZ2luYWxLZXldKSA/ICdSZW1vdmluZycgOiAnVXBkYXRpbmcnLCBvcmlnaW5hbEtleSwgY29ycmVjdE9yaWdpbmFsS2V5KTtcbiAgICB9XG4gIH1cbn1cblxuLy8gRm9yIEhUTUwsIGNlcnRhaW4gdGFncyBzaG91bGQgb21pdCB0aGVpciBjbG9zZSB0YWcuIFdlIGtlZXAgYSB3aGl0ZWxpc3QgZm9yXG4vLyB0aG9zZSBzcGVjaWFsLWNhc2UgdGFncy5cbnZhciBvbWl0dGVkQ2xvc2VUYWdzID0ge1xuICBhcmVhOiB0cnVlLFxuICBiYXNlOiB0cnVlLFxuICBicjogdHJ1ZSxcbiAgY29sOiB0cnVlLFxuICBlbWJlZDogdHJ1ZSxcbiAgaHI6IHRydWUsXG4gIGltZzogdHJ1ZSxcbiAgaW5wdXQ6IHRydWUsXG4gIGtleWdlbjogdHJ1ZSxcbiAgbGluazogdHJ1ZSxcbiAgbWV0YTogdHJ1ZSxcbiAgcGFyYW06IHRydWUsXG4gIHNvdXJjZTogdHJ1ZSxcbiAgdHJhY2s6IHRydWUsXG4gIHdicjogdHJ1ZSAvLyBOT1RFOiBtZW51aXRlbSdzIGNsb3NlIHRhZyBzaG91bGQgYmUgb21pdHRlZCwgYnV0IHRoYXQgY2F1c2VzIHByb2JsZW1zLlxuXG59O1xuXG4vLyBgb21pdHRlZENsb3NlVGFnc2AgZXhjZXB0IHRoYXQgYG1lbnVpdGVtYCBzaG91bGQgc3RpbGwgaGF2ZSBpdHMgY2xvc2luZyB0YWcuXG5cbnZhciB2b2lkRWxlbWVudFRhZ3MgPSBfYXNzaWduKHtcbiAgbWVudWl0ZW06IHRydWVcbn0sIG9taXR0ZWRDbG9zZVRhZ3MpO1xuXG4vLyBvciBhZGQgc3RhY2sgYnkgZGVmYXVsdCB0byBpbnZhcmlhbnRzIHdoZXJlIHBvc3NpYmxlLlxuXG52YXIgSFRNTCQxID0gJ19faHRtbCc7XG52YXIgUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZSQzID0gbnVsbDtcblxue1xuICBSZWFjdERlYnVnQ3VycmVudEZyYW1lJDMgPSBSZWFjdFNoYXJlZEludGVybmFscy5SZWFjdERlYnVnQ3VycmVudEZyYW1lO1xufVxuXG5mdW5jdGlvbiBhc3NlcnRWYWxpZFByb3BzKHRhZywgcHJvcHMpIHtcbiAgaWYgKCFwcm9wcykge1xuICAgIHJldHVybjtcbiAgfSAvLyBOb3RlIHRoZSB1c2Ugb2YgYD09YCB3aGljaCBjaGVja3MgZm9yIG51bGwgb3IgdW5kZWZpbmVkLlxuXG5cbiAgaWYgKHZvaWRFbGVtZW50VGFnc1t0YWddKSB7XG4gICAgaWYgKCEocHJvcHMuY2hpbGRyZW4gPT0gbnVsbCAmJiBwcm9wcy5kYW5nZXJvdXNseVNldElubmVySFRNTCA9PSBudWxsKSkge1xuICAgICAge1xuICAgICAgICB0aHJvdyBFcnJvcih0YWcgKyBcIiBpcyBhIHZvaWQgZWxlbWVudCB0YWcgYW5kIG11c3QgbmVpdGhlciBoYXZlIGBjaGlsZHJlbmAgbm9yIHVzZSBgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxgLlwiICsgKFJlYWN0RGVidWdDdXJyZW50RnJhbWUkMy5nZXRTdGFja0FkZGVuZHVtKCkpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAocHJvcHMuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwgIT0gbnVsbCkge1xuICAgIGlmICghKHByb3BzLmNoaWxkcmVuID09IG51bGwpKSB7XG4gICAgICB7XG4gICAgICAgIHRocm93IEVycm9yKFwiQ2FuIG9ubHkgc2V0IG9uZSBvZiBgY2hpbGRyZW5gIG9yIGBwcm9wcy5kYW5nZXJvdXNseVNldElubmVySFRNTGAuXCIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghKHR5cGVvZiBwcm9wcy5kYW5nZXJvdXNseVNldElubmVySFRNTCA9PT0gJ29iamVjdCcgJiYgSFRNTCQxIGluIHByb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MKSkge1xuICAgICAge1xuICAgICAgICB0aHJvdyBFcnJvcihcImBwcm9wcy5kYW5nZXJvdXNseVNldElubmVySFRNTGAgbXVzdCBiZSBpbiB0aGUgZm9ybSBge19faHRtbDogLi4ufWAuIFBsZWFzZSB2aXNpdCBodHRwczovL2ZiLm1lL3JlYWN0LWludmFyaWFudC1kYW5nZXJvdXNseS1zZXQtaW5uZXItaHRtbCBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cIik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAge1xuICAgICEocHJvcHMuc3VwcHJlc3NDb250ZW50RWRpdGFibGVXYXJuaW5nIHx8ICFwcm9wcy5jb250ZW50RWRpdGFibGUgfHwgcHJvcHMuY2hpbGRyZW4gPT0gbnVsbCkgPyB3YXJuaW5nJDEoZmFsc2UsICdBIGNvbXBvbmVudCBpcyBgY29udGVudEVkaXRhYmxlYCBhbmQgY29udGFpbnMgYGNoaWxkcmVuYCBtYW5hZ2VkIGJ5ICcgKyAnUmVhY3QuIEl0IGlzIG5vdyB5b3VyIHJlc3BvbnNpYmlsaXR5IHRvIGd1YXJhbnRlZSB0aGF0IG5vbmUgb2YgJyArICd0aG9zZSBub2RlcyBhcmUgdW5leHBlY3RlZGx5IG1vZGlmaWVkIG9yIGR1cGxpY2F0ZWQuIFRoaXMgaXMgJyArICdwcm9iYWJseSBub3QgaW50ZW50aW9uYWwuJykgOiB2b2lkIDA7XG4gIH1cblxuICBpZiAoIShwcm9wcy5zdHlsZSA9PSBudWxsIHx8IHR5cGVvZiBwcm9wcy5zdHlsZSA9PT0gJ29iamVjdCcpKSB7XG4gICAge1xuICAgICAgdGhyb3cgRXJyb3IoXCJUaGUgYHN0eWxlYCBwcm9wIGV4cGVjdHMgYSBtYXBwaW5nIGZyb20gc3R5bGUgcHJvcGVydGllcyB0byB2YWx1ZXMsIG5vdCBhIHN0cmluZy4gRm9yIGV4YW1wbGUsIHN0eWxlPXt7bWFyZ2luUmlnaHQ6IHNwYWNpbmcgKyAnZW0nfX0gd2hlbiB1c2luZyBKU1guXCIgKyAoUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZSQzLmdldFN0YWNrQWRkZW5kdW0oKSkpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBpc0N1c3RvbUNvbXBvbmVudCh0YWdOYW1lLCBwcm9wcykge1xuICBpZiAodGFnTmFtZS5pbmRleE9mKCctJykgPT09IC0xKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBwcm9wcy5pcyA9PT0gJ3N0cmluZyc7XG4gIH1cblxuICBzd2l0Y2ggKHRhZ05hbWUpIHtcbiAgICAvLyBUaGVzZSBhcmUgcmVzZXJ2ZWQgU1ZHIGFuZCBNYXRoTUwgZWxlbWVudHMuXG4gICAgLy8gV2UgZG9uJ3QgbWluZCB0aGlzIHdoaXRlbGlzdCB0b28gbXVjaCBiZWNhdXNlIHdlIGV4cGVjdCBpdCB0byBuZXZlciBncm93LlxuICAgIC8vIFRoZSBhbHRlcm5hdGl2ZSBpcyB0byB0cmFjayB0aGUgbmFtZXNwYWNlIGluIGEgZmV3IHBsYWNlcyB3aGljaCBpcyBjb252b2x1dGVkLlxuICAgIC8vIGh0dHBzOi8vdzNjLmdpdGh1Yi5pby93ZWJjb21wb25lbnRzL3NwZWMvY3VzdG9tLyNjdXN0b20tZWxlbWVudHMtY29yZS1jb25jZXB0c1xuICAgIGNhc2UgJ2Fubm90YXRpb24teG1sJzpcbiAgICBjYXNlICdjb2xvci1wcm9maWxlJzpcbiAgICBjYXNlICdmb250LWZhY2UnOlxuICAgIGNhc2UgJ2ZvbnQtZmFjZS1zcmMnOlxuICAgIGNhc2UgJ2ZvbnQtZmFjZS11cmknOlxuICAgIGNhc2UgJ2ZvbnQtZmFjZS1mb3JtYXQnOlxuICAgIGNhc2UgJ2ZvbnQtZmFjZS1uYW1lJzpcbiAgICBjYXNlICdtaXNzaW5nLWdseXBoJzpcbiAgICAgIHJldHVybiBmYWxzZTtcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufVxuXG4vLyBXaGVuIGFkZGluZyBhdHRyaWJ1dGVzIHRvIHRoZSBIVE1MIG9yIFNWRyB3aGl0ZWxpc3QsIGJlIHN1cmUgdG9cbi8vIGFsc28gYWRkIHRoZW0gdG8gdGhpcyBtb2R1bGUgdG8gZW5zdXJlIGNhc2luZyBhbmQgaW5jb3JyZWN0IG5hbWVcbi8vIHdhcm5pbmdzLlxudmFyIHBvc3NpYmxlU3RhbmRhcmROYW1lcyA9IHtcbiAgLy8gSFRNTFxuICBhY2NlcHQ6ICdhY2NlcHQnLFxuICBhY2NlcHRjaGFyc2V0OiAnYWNjZXB0Q2hhcnNldCcsXG4gICdhY2NlcHQtY2hhcnNldCc6ICdhY2NlcHRDaGFyc2V0JyxcbiAgYWNjZXNza2V5OiAnYWNjZXNzS2V5JyxcbiAgYWN0aW9uOiAnYWN0aW9uJyxcbiAgYWxsb3dmdWxsc2NyZWVuOiAnYWxsb3dGdWxsU2NyZWVuJyxcbiAgYWx0OiAnYWx0JyxcbiAgYXM6ICdhcycsXG4gIGFzeW5jOiAnYXN5bmMnLFxuICBhdXRvY2FwaXRhbGl6ZTogJ2F1dG9DYXBpdGFsaXplJyxcbiAgYXV0b2NvbXBsZXRlOiAnYXV0b0NvbXBsZXRlJyxcbiAgYXV0b2NvcnJlY3Q6ICdhdXRvQ29ycmVjdCcsXG4gIGF1dG9mb2N1czogJ2F1dG9Gb2N1cycsXG4gIGF1dG9wbGF5OiAnYXV0b1BsYXknLFxuICBhdXRvc2F2ZTogJ2F1dG9TYXZlJyxcbiAgY2FwdHVyZTogJ2NhcHR1cmUnLFxuICBjZWxscGFkZGluZzogJ2NlbGxQYWRkaW5nJyxcbiAgY2VsbHNwYWNpbmc6ICdjZWxsU3BhY2luZycsXG4gIGNoYWxsZW5nZTogJ2NoYWxsZW5nZScsXG4gIGNoYXJzZXQ6ICdjaGFyU2V0JyxcbiAgY2hlY2tlZDogJ2NoZWNrZWQnLFxuICBjaGlsZHJlbjogJ2NoaWxkcmVuJyxcbiAgY2l0ZTogJ2NpdGUnLFxuICBjbGFzczogJ2NsYXNzTmFtZScsXG4gIGNsYXNzaWQ6ICdjbGFzc0lEJyxcbiAgY2xhc3NuYW1lOiAnY2xhc3NOYW1lJyxcbiAgY29sczogJ2NvbHMnLFxuICBjb2xzcGFuOiAnY29sU3BhbicsXG4gIGNvbnRlbnQ6ICdjb250ZW50JyxcbiAgY29udGVudGVkaXRhYmxlOiAnY29udGVudEVkaXRhYmxlJyxcbiAgY29udGV4dG1lbnU6ICdjb250ZXh0TWVudScsXG4gIGNvbnRyb2xzOiAnY29udHJvbHMnLFxuICBjb250cm9sc2xpc3Q6ICdjb250cm9sc0xpc3QnLFxuICBjb29yZHM6ICdjb29yZHMnLFxuICBjcm9zc29yaWdpbjogJ2Nyb3NzT3JpZ2luJyxcbiAgZGFuZ2Vyb3VzbHlzZXRpbm5lcmh0bWw6ICdkYW5nZXJvdXNseVNldElubmVySFRNTCcsXG4gIGRhdGE6ICdkYXRhJyxcbiAgZGF0ZXRpbWU6ICdkYXRlVGltZScsXG4gIGRlZmF1bHQ6ICdkZWZhdWx0JyxcbiAgZGVmYXVsdGNoZWNrZWQ6ICdkZWZhdWx0Q2hlY2tlZCcsXG4gIGRlZmF1bHR2YWx1ZTogJ2RlZmF1bHRWYWx1ZScsXG4gIGRlZmVyOiAnZGVmZXInLFxuICBkaXI6ICdkaXInLFxuICBkaXNhYmxlZDogJ2Rpc2FibGVkJyxcbiAgZGlzYWJsZXBpY3R1cmVpbnBpY3R1cmU6ICdkaXNhYmxlUGljdHVyZUluUGljdHVyZScsXG4gIGRvd25sb2FkOiAnZG93bmxvYWQnLFxuICBkcmFnZ2FibGU6ICdkcmFnZ2FibGUnLFxuICBlbmN0eXBlOiAnZW5jVHlwZScsXG4gIGZvcjogJ2h0bWxGb3InLFxuICBmb3JtOiAnZm9ybScsXG4gIGZvcm1tZXRob2Q6ICdmb3JtTWV0aG9kJyxcbiAgZm9ybWFjdGlvbjogJ2Zvcm1BY3Rpb24nLFxuICBmb3JtZW5jdHlwZTogJ2Zvcm1FbmNUeXBlJyxcbiAgZm9ybW5vdmFsaWRhdGU6ICdmb3JtTm9WYWxpZGF0ZScsXG4gIGZvcm10YXJnZXQ6ICdmb3JtVGFyZ2V0JyxcbiAgZnJhbWVib3JkZXI6ICdmcmFtZUJvcmRlcicsXG4gIGhlYWRlcnM6ICdoZWFkZXJzJyxcbiAgaGVpZ2h0OiAnaGVpZ2h0JyxcbiAgaGlkZGVuOiAnaGlkZGVuJyxcbiAgaGlnaDogJ2hpZ2gnLFxuICBocmVmOiAnaHJlZicsXG4gIGhyZWZsYW5nOiAnaHJlZkxhbmcnLFxuICBodG1sZm9yOiAnaHRtbEZvcicsXG4gIGh0dHBlcXVpdjogJ2h0dHBFcXVpdicsXG4gICdodHRwLWVxdWl2JzogJ2h0dHBFcXVpdicsXG4gIGljb246ICdpY29uJyxcbiAgaWQ6ICdpZCcsXG4gIGlubmVyaHRtbDogJ2lubmVySFRNTCcsXG4gIGlucHV0bW9kZTogJ2lucHV0TW9kZScsXG4gIGludGVncml0eTogJ2ludGVncml0eScsXG4gIGlzOiAnaXMnLFxuICBpdGVtaWQ6ICdpdGVtSUQnLFxuICBpdGVtcHJvcDogJ2l0ZW1Qcm9wJyxcbiAgaXRlbXJlZjogJ2l0ZW1SZWYnLFxuICBpdGVtc2NvcGU6ICdpdGVtU2NvcGUnLFxuICBpdGVtdHlwZTogJ2l0ZW1UeXBlJyxcbiAga2V5cGFyYW1zOiAna2V5UGFyYW1zJyxcbiAga2V5dHlwZTogJ2tleVR5cGUnLFxuICBraW5kOiAna2luZCcsXG4gIGxhYmVsOiAnbGFiZWwnLFxuICBsYW5nOiAnbGFuZycsXG4gIGxpc3Q6ICdsaXN0JyxcbiAgbG9vcDogJ2xvb3AnLFxuICBsb3c6ICdsb3cnLFxuICBtYW5pZmVzdDogJ21hbmlmZXN0JyxcbiAgbWFyZ2lud2lkdGg6ICdtYXJnaW5XaWR0aCcsXG4gIG1hcmdpbmhlaWdodDogJ21hcmdpbkhlaWdodCcsXG4gIG1heDogJ21heCcsXG4gIG1heGxlbmd0aDogJ21heExlbmd0aCcsXG4gIG1lZGlhOiAnbWVkaWEnLFxuICBtZWRpYWdyb3VwOiAnbWVkaWFHcm91cCcsXG4gIG1ldGhvZDogJ21ldGhvZCcsXG4gIG1pbjogJ21pbicsXG4gIG1pbmxlbmd0aDogJ21pbkxlbmd0aCcsXG4gIG11bHRpcGxlOiAnbXVsdGlwbGUnLFxuICBtdXRlZDogJ211dGVkJyxcbiAgbmFtZTogJ25hbWUnLFxuICBub21vZHVsZTogJ25vTW9kdWxlJyxcbiAgbm9uY2U6ICdub25jZScsXG4gIG5vdmFsaWRhdGU6ICdub1ZhbGlkYXRlJyxcbiAgb3BlbjogJ29wZW4nLFxuICBvcHRpbXVtOiAnb3B0aW11bScsXG4gIHBhdHRlcm46ICdwYXR0ZXJuJyxcbiAgcGxhY2Vob2xkZXI6ICdwbGFjZWhvbGRlcicsXG4gIHBsYXlzaW5saW5lOiAncGxheXNJbmxpbmUnLFxuICBwb3N0ZXI6ICdwb3N0ZXInLFxuICBwcmVsb2FkOiAncHJlbG9hZCcsXG4gIHByb2ZpbGU6ICdwcm9maWxlJyxcbiAgcmFkaW9ncm91cDogJ3JhZGlvR3JvdXAnLFxuICByZWFkb25seTogJ3JlYWRPbmx5JyxcbiAgcmVmZXJyZXJwb2xpY3k6ICdyZWZlcnJlclBvbGljeScsXG4gIHJlbDogJ3JlbCcsXG4gIHJlcXVpcmVkOiAncmVxdWlyZWQnLFxuICByZXZlcnNlZDogJ3JldmVyc2VkJyxcbiAgcm9sZTogJ3JvbGUnLFxuICByb3dzOiAncm93cycsXG4gIHJvd3NwYW46ICdyb3dTcGFuJyxcbiAgc2FuZGJveDogJ3NhbmRib3gnLFxuICBzY29wZTogJ3Njb3BlJyxcbiAgc2NvcGVkOiAnc2NvcGVkJyxcbiAgc2Nyb2xsaW5nOiAnc2Nyb2xsaW5nJyxcbiAgc2VhbWxlc3M6ICdzZWFtbGVzcycsXG4gIHNlbGVjdGVkOiAnc2VsZWN0ZWQnLFxuICBzaGFwZTogJ3NoYXBlJyxcbiAgc2l6ZTogJ3NpemUnLFxuICBzaXplczogJ3NpemVzJyxcbiAgc3BhbjogJ3NwYW4nLFxuICBzcGVsbGNoZWNrOiAnc3BlbGxDaGVjaycsXG4gIHNyYzogJ3NyYycsXG4gIHNyY2RvYzogJ3NyY0RvYycsXG4gIHNyY2xhbmc6ICdzcmNMYW5nJyxcbiAgc3Jjc2V0OiAnc3JjU2V0JyxcbiAgc3RhcnQ6ICdzdGFydCcsXG4gIHN0ZXA6ICdzdGVwJyxcbiAgc3R5bGU6ICdzdHlsZScsXG4gIHN1bW1hcnk6ICdzdW1tYXJ5JyxcbiAgdGFiaW5kZXg6ICd0YWJJbmRleCcsXG4gIHRhcmdldDogJ3RhcmdldCcsXG4gIHRpdGxlOiAndGl0bGUnLFxuICB0eXBlOiAndHlwZScsXG4gIHVzZW1hcDogJ3VzZU1hcCcsXG4gIHZhbHVlOiAndmFsdWUnLFxuICB3aWR0aDogJ3dpZHRoJyxcbiAgd21vZGU6ICd3bW9kZScsXG4gIHdyYXA6ICd3cmFwJyxcbiAgLy8gU1ZHXG4gIGFib3V0OiAnYWJvdXQnLFxuICBhY2NlbnRoZWlnaHQ6ICdhY2NlbnRIZWlnaHQnLFxuICAnYWNjZW50LWhlaWdodCc6ICdhY2NlbnRIZWlnaHQnLFxuICBhY2N1bXVsYXRlOiAnYWNjdW11bGF0ZScsXG4gIGFkZGl0aXZlOiAnYWRkaXRpdmUnLFxuICBhbGlnbm1lbnRiYXNlbGluZTogJ2FsaWdubWVudEJhc2VsaW5lJyxcbiAgJ2FsaWdubWVudC1iYXNlbGluZSc6ICdhbGlnbm1lbnRCYXNlbGluZScsXG4gIGFsbG93cmVvcmRlcjogJ2FsbG93UmVvcmRlcicsXG4gIGFscGhhYmV0aWM6ICdhbHBoYWJldGljJyxcbiAgYW1wbGl0dWRlOiAnYW1wbGl0dWRlJyxcbiAgYXJhYmljZm9ybTogJ2FyYWJpY0Zvcm0nLFxuICAnYXJhYmljLWZvcm0nOiAnYXJhYmljRm9ybScsXG4gIGFzY2VudDogJ2FzY2VudCcsXG4gIGF0dHJpYnV0ZW5hbWU6ICdhdHRyaWJ1dGVOYW1lJyxcbiAgYXR0cmlidXRldHlwZTogJ2F0dHJpYnV0ZVR5cGUnLFxuICBhdXRvcmV2ZXJzZTogJ2F1dG9SZXZlcnNlJyxcbiAgYXppbXV0aDogJ2F6aW11dGgnLFxuICBiYXNlZnJlcXVlbmN5OiAnYmFzZUZyZXF1ZW5jeScsXG4gIGJhc2VsaW5lc2hpZnQ6ICdiYXNlbGluZVNoaWZ0JyxcbiAgJ2Jhc2VsaW5lLXNoaWZ0JzogJ2Jhc2VsaW5lU2hpZnQnLFxuICBiYXNlcHJvZmlsZTogJ2Jhc2VQcm9maWxlJyxcbiAgYmJveDogJ2Jib3gnLFxuICBiZWdpbjogJ2JlZ2luJyxcbiAgYmlhczogJ2JpYXMnLFxuICBieTogJ2J5JyxcbiAgY2FsY21vZGU6ICdjYWxjTW9kZScsXG4gIGNhcGhlaWdodDogJ2NhcEhlaWdodCcsXG4gICdjYXAtaGVpZ2h0JzogJ2NhcEhlaWdodCcsXG4gIGNsaXA6ICdjbGlwJyxcbiAgY2xpcHBhdGg6ICdjbGlwUGF0aCcsXG4gICdjbGlwLXBhdGgnOiAnY2xpcFBhdGgnLFxuICBjbGlwcGF0aHVuaXRzOiAnY2xpcFBhdGhVbml0cycsXG4gIGNsaXBydWxlOiAnY2xpcFJ1bGUnLFxuICAnY2xpcC1ydWxlJzogJ2NsaXBSdWxlJyxcbiAgY29sb3I6ICdjb2xvcicsXG4gIGNvbG9yaW50ZXJwb2xhdGlvbjogJ2NvbG9ySW50ZXJwb2xhdGlvbicsXG4gICdjb2xvci1pbnRlcnBvbGF0aW9uJzogJ2NvbG9ySW50ZXJwb2xhdGlvbicsXG4gIGNvbG9yaW50ZXJwb2xhdGlvbmZpbHRlcnM6ICdjb2xvckludGVycG9sYXRpb25GaWx0ZXJzJyxcbiAgJ2NvbG9yLWludGVycG9sYXRpb24tZmlsdGVycyc6ICdjb2xvckludGVycG9sYXRpb25GaWx0ZXJzJyxcbiAgY29sb3Jwcm9maWxlOiAnY29sb3JQcm9maWxlJyxcbiAgJ2NvbG9yLXByb2ZpbGUnOiAnY29sb3JQcm9maWxlJyxcbiAgY29sb3JyZW5kZXJpbmc6ICdjb2xvclJlbmRlcmluZycsXG4gICdjb2xvci1yZW5kZXJpbmcnOiAnY29sb3JSZW5kZXJpbmcnLFxuICBjb250ZW50c2NyaXB0dHlwZTogJ2NvbnRlbnRTY3JpcHRUeXBlJyxcbiAgY29udGVudHN0eWxldHlwZTogJ2NvbnRlbnRTdHlsZVR5cGUnLFxuICBjdXJzb3I6ICdjdXJzb3InLFxuICBjeDogJ2N4JyxcbiAgY3k6ICdjeScsXG4gIGQ6ICdkJyxcbiAgZGF0YXR5cGU6ICdkYXRhdHlwZScsXG4gIGRlY2VsZXJhdGU6ICdkZWNlbGVyYXRlJyxcbiAgZGVzY2VudDogJ2Rlc2NlbnQnLFxuICBkaWZmdXNlY29uc3RhbnQ6ICdkaWZmdXNlQ29uc3RhbnQnLFxuICBkaXJlY3Rpb246ICdkaXJlY3Rpb24nLFxuICBkaXNwbGF5OiAnZGlzcGxheScsXG4gIGRpdmlzb3I6ICdkaXZpc29yJyxcbiAgZG9taW5hbnRiYXNlbGluZTogJ2RvbWluYW50QmFzZWxpbmUnLFxuICAnZG9taW5hbnQtYmFzZWxpbmUnOiAnZG9taW5hbnRCYXNlbGluZScsXG4gIGR1cjogJ2R1cicsXG4gIGR4OiAnZHgnLFxuICBkeTogJ2R5JyxcbiAgZWRnZW1vZGU6ICdlZGdlTW9kZScsXG4gIGVsZXZhdGlvbjogJ2VsZXZhdGlvbicsXG4gIGVuYWJsZWJhY2tncm91bmQ6ICdlbmFibGVCYWNrZ3JvdW5kJyxcbiAgJ2VuYWJsZS1iYWNrZ3JvdW5kJzogJ2VuYWJsZUJhY2tncm91bmQnLFxuICBlbmQ6ICdlbmQnLFxuICBleHBvbmVudDogJ2V4cG9uZW50JyxcbiAgZXh0ZXJuYWxyZXNvdXJjZXNyZXF1aXJlZDogJ2V4dGVybmFsUmVzb3VyY2VzUmVxdWlyZWQnLFxuICBmaWxsOiAnZmlsbCcsXG4gIGZpbGxvcGFjaXR5OiAnZmlsbE9wYWNpdHknLFxuICAnZmlsbC1vcGFjaXR5JzogJ2ZpbGxPcGFjaXR5JyxcbiAgZmlsbHJ1bGU6ICdmaWxsUnVsZScsXG4gICdmaWxsLXJ1bGUnOiAnZmlsbFJ1bGUnLFxuICBmaWx0ZXI6ICdmaWx0ZXInLFxuICBmaWx0ZXJyZXM6ICdmaWx0ZXJSZXMnLFxuICBmaWx0ZXJ1bml0czogJ2ZpbHRlclVuaXRzJyxcbiAgZmxvb2RvcGFjaXR5OiAnZmxvb2RPcGFjaXR5JyxcbiAgJ2Zsb29kLW9wYWNpdHknOiAnZmxvb2RPcGFjaXR5JyxcbiAgZmxvb2Rjb2xvcjogJ2Zsb29kQ29sb3InLFxuICAnZmxvb2QtY29sb3InOiAnZmxvb2RDb2xvcicsXG4gIGZvY3VzYWJsZTogJ2ZvY3VzYWJsZScsXG4gIGZvbnRmYW1pbHk6ICdmb250RmFtaWx5JyxcbiAgJ2ZvbnQtZmFtaWx5JzogJ2ZvbnRGYW1pbHknLFxuICBmb250c2l6ZTogJ2ZvbnRTaXplJyxcbiAgJ2ZvbnQtc2l6ZSc6ICdmb250U2l6ZScsXG4gIGZvbnRzaXplYWRqdXN0OiAnZm9udFNpemVBZGp1c3QnLFxuICAnZm9udC1zaXplLWFkanVzdCc6ICdmb250U2l6ZUFkanVzdCcsXG4gIGZvbnRzdHJldGNoOiAnZm9udFN0cmV0Y2gnLFxuICAnZm9udC1zdHJldGNoJzogJ2ZvbnRTdHJldGNoJyxcbiAgZm9udHN0eWxlOiAnZm9udFN0eWxlJyxcbiAgJ2ZvbnQtc3R5bGUnOiAnZm9udFN0eWxlJyxcbiAgZm9udHZhcmlhbnQ6ICdmb250VmFyaWFudCcsXG4gICdmb250LXZhcmlhbnQnOiAnZm9udFZhcmlhbnQnLFxuICBmb250d2VpZ2h0OiAnZm9udFdlaWdodCcsXG4gICdmb250LXdlaWdodCc6ICdmb250V2VpZ2h0JyxcbiAgZm9ybWF0OiAnZm9ybWF0JyxcbiAgZnJvbTogJ2Zyb20nLFxuICBmeDogJ2Z4JyxcbiAgZnk6ICdmeScsXG4gIGcxOiAnZzEnLFxuICBnMjogJ2cyJyxcbiAgZ2x5cGhuYW1lOiAnZ2x5cGhOYW1lJyxcbiAgJ2dseXBoLW5hbWUnOiAnZ2x5cGhOYW1lJyxcbiAgZ2x5cGhvcmllbnRhdGlvbmhvcml6b250YWw6ICdnbHlwaE9yaWVudGF0aW9uSG9yaXpvbnRhbCcsXG4gICdnbHlwaC1vcmllbnRhdGlvbi1ob3Jpem9udGFsJzogJ2dseXBoT3JpZW50YXRpb25Ib3Jpem9udGFsJyxcbiAgZ2x5cGhvcmllbnRhdGlvbnZlcnRpY2FsOiAnZ2x5cGhPcmllbnRhdGlvblZlcnRpY2FsJyxcbiAgJ2dseXBoLW9yaWVudGF0aW9uLXZlcnRpY2FsJzogJ2dseXBoT3JpZW50YXRpb25WZXJ0aWNhbCcsXG4gIGdseXBocmVmOiAnZ2x5cGhSZWYnLFxuICBncmFkaWVudHRyYW5zZm9ybTogJ2dyYWRpZW50VHJhbnNmb3JtJyxcbiAgZ3JhZGllbnR1bml0czogJ2dyYWRpZW50VW5pdHMnLFxuICBoYW5naW5nOiAnaGFuZ2luZycsXG4gIGhvcml6YWR2eDogJ2hvcml6QWR2WCcsXG4gICdob3Jpei1hZHYteCc6ICdob3JpekFkdlgnLFxuICBob3Jpem9yaWdpbng6ICdob3Jpek9yaWdpblgnLFxuICAnaG9yaXotb3JpZ2luLXgnOiAnaG9yaXpPcmlnaW5YJyxcbiAgaWRlb2dyYXBoaWM6ICdpZGVvZ3JhcGhpYycsXG4gIGltYWdlcmVuZGVyaW5nOiAnaW1hZ2VSZW5kZXJpbmcnLFxuICAnaW1hZ2UtcmVuZGVyaW5nJzogJ2ltYWdlUmVuZGVyaW5nJyxcbiAgaW4yOiAnaW4yJyxcbiAgaW46ICdpbicsXG4gIGlubGlzdDogJ2lubGlzdCcsXG4gIGludGVyY2VwdDogJ2ludGVyY2VwdCcsXG4gIGsxOiAnazEnLFxuICBrMjogJ2syJyxcbiAgazM6ICdrMycsXG4gIGs0OiAnazQnLFxuICBrOiAnaycsXG4gIGtlcm5lbG1hdHJpeDogJ2tlcm5lbE1hdHJpeCcsXG4gIGtlcm5lbHVuaXRsZW5ndGg6ICdrZXJuZWxVbml0TGVuZ3RoJyxcbiAga2VybmluZzogJ2tlcm5pbmcnLFxuICBrZXlwb2ludHM6ICdrZXlQb2ludHMnLFxuICBrZXlzcGxpbmVzOiAna2V5U3BsaW5lcycsXG4gIGtleXRpbWVzOiAna2V5VGltZXMnLFxuICBsZW5ndGhhZGp1c3Q6ICdsZW5ndGhBZGp1c3QnLFxuICBsZXR0ZXJzcGFjaW5nOiAnbGV0dGVyU3BhY2luZycsXG4gICdsZXR0ZXItc3BhY2luZyc6ICdsZXR0ZXJTcGFjaW5nJyxcbiAgbGlnaHRpbmdjb2xvcjogJ2xpZ2h0aW5nQ29sb3InLFxuICAnbGlnaHRpbmctY29sb3InOiAnbGlnaHRpbmdDb2xvcicsXG4gIGxpbWl0aW5nY29uZWFuZ2xlOiAnbGltaXRpbmdDb25lQW5nbGUnLFxuICBsb2NhbDogJ2xvY2FsJyxcbiAgbWFya2VyZW5kOiAnbWFya2VyRW5kJyxcbiAgJ21hcmtlci1lbmQnOiAnbWFya2VyRW5kJyxcbiAgbWFya2VyaGVpZ2h0OiAnbWFya2VySGVpZ2h0JyxcbiAgbWFya2VybWlkOiAnbWFya2VyTWlkJyxcbiAgJ21hcmtlci1taWQnOiAnbWFya2VyTWlkJyxcbiAgbWFya2Vyc3RhcnQ6ICdtYXJrZXJTdGFydCcsXG4gICdtYXJrZXItc3RhcnQnOiAnbWFya2VyU3RhcnQnLFxuICBtYXJrZXJ1bml0czogJ21hcmtlclVuaXRzJyxcbiAgbWFya2Vyd2lkdGg6ICdtYXJrZXJXaWR0aCcsXG4gIG1hc2s6ICdtYXNrJyxcbiAgbWFza2NvbnRlbnR1bml0czogJ21hc2tDb250ZW50VW5pdHMnLFxuICBtYXNrdW5pdHM6ICdtYXNrVW5pdHMnLFxuICBtYXRoZW1hdGljYWw6ICdtYXRoZW1hdGljYWwnLFxuICBtb2RlOiAnbW9kZScsXG4gIG51bW9jdGF2ZXM6ICdudW1PY3RhdmVzJyxcbiAgb2Zmc2V0OiAnb2Zmc2V0JyxcbiAgb3BhY2l0eTogJ29wYWNpdHknLFxuICBvcGVyYXRvcjogJ29wZXJhdG9yJyxcbiAgb3JkZXI6ICdvcmRlcicsXG4gIG9yaWVudDogJ29yaWVudCcsXG4gIG9yaWVudGF0aW9uOiAnb3JpZW50YXRpb24nLFxuICBvcmlnaW46ICdvcmlnaW4nLFxuICBvdmVyZmxvdzogJ292ZXJmbG93JyxcbiAgb3ZlcmxpbmVwb3NpdGlvbjogJ292ZXJsaW5lUG9zaXRpb24nLFxuICAnb3ZlcmxpbmUtcG9zaXRpb24nOiAnb3ZlcmxpbmVQb3NpdGlvbicsXG4gIG92ZXJsaW5ldGhpY2tuZXNzOiAnb3ZlcmxpbmVUaGlja25lc3MnLFxuICAnb3ZlcmxpbmUtdGhpY2tuZXNzJzogJ292ZXJsaW5lVGhpY2tuZXNzJyxcbiAgcGFpbnRvcmRlcjogJ3BhaW50T3JkZXInLFxuICAncGFpbnQtb3JkZXInOiAncGFpbnRPcmRlcicsXG4gIHBhbm9zZTE6ICdwYW5vc2UxJyxcbiAgJ3Bhbm9zZS0xJzogJ3Bhbm9zZTEnLFxuICBwYXRobGVuZ3RoOiAncGF0aExlbmd0aCcsXG4gIHBhdHRlcm5jb250ZW50dW5pdHM6ICdwYXR0ZXJuQ29udGVudFVuaXRzJyxcbiAgcGF0dGVybnRyYW5zZm9ybTogJ3BhdHRlcm5UcmFuc2Zvcm0nLFxuICBwYXR0ZXJudW5pdHM6ICdwYXR0ZXJuVW5pdHMnLFxuICBwb2ludGVyZXZlbnRzOiAncG9pbnRlckV2ZW50cycsXG4gICdwb2ludGVyLWV2ZW50cyc6ICdwb2ludGVyRXZlbnRzJyxcbiAgcG9pbnRzOiAncG9pbnRzJyxcbiAgcG9pbnRzYXR4OiAncG9pbnRzQXRYJyxcbiAgcG9pbnRzYXR5OiAncG9pbnRzQXRZJyxcbiAgcG9pbnRzYXR6OiAncG9pbnRzQXRaJyxcbiAgcHJlZml4OiAncHJlZml4JyxcbiAgcHJlc2VydmVhbHBoYTogJ3ByZXNlcnZlQWxwaGEnLFxuICBwcmVzZXJ2ZWFzcGVjdHJhdGlvOiAncHJlc2VydmVBc3BlY3RSYXRpbycsXG4gIHByaW1pdGl2ZXVuaXRzOiAncHJpbWl0aXZlVW5pdHMnLFxuICBwcm9wZXJ0eTogJ3Byb3BlcnR5JyxcbiAgcjogJ3InLFxuICByYWRpdXM6ICdyYWRpdXMnLFxuICByZWZ4OiAncmVmWCcsXG4gIHJlZnk6ICdyZWZZJyxcbiAgcmVuZGVyaW5naW50ZW50OiAncmVuZGVyaW5nSW50ZW50JyxcbiAgJ3JlbmRlcmluZy1pbnRlbnQnOiAncmVuZGVyaW5nSW50ZW50JyxcbiAgcmVwZWF0Y291bnQ6ICdyZXBlYXRDb3VudCcsXG4gIHJlcGVhdGR1cjogJ3JlcGVhdER1cicsXG4gIHJlcXVpcmVkZXh0ZW5zaW9uczogJ3JlcXVpcmVkRXh0ZW5zaW9ucycsXG4gIHJlcXVpcmVkZmVhdHVyZXM6ICdyZXF1aXJlZEZlYXR1cmVzJyxcbiAgcmVzb3VyY2U6ICdyZXNvdXJjZScsXG4gIHJlc3RhcnQ6ICdyZXN0YXJ0JyxcbiAgcmVzdWx0OiAncmVzdWx0JyxcbiAgcmVzdWx0czogJ3Jlc3VsdHMnLFxuICByb3RhdGU6ICdyb3RhdGUnLFxuICByeDogJ3J4JyxcbiAgcnk6ICdyeScsXG4gIHNjYWxlOiAnc2NhbGUnLFxuICBzZWN1cml0eTogJ3NlY3VyaXR5JyxcbiAgc2VlZDogJ3NlZWQnLFxuICBzaGFwZXJlbmRlcmluZzogJ3NoYXBlUmVuZGVyaW5nJyxcbiAgJ3NoYXBlLXJlbmRlcmluZyc6ICdzaGFwZVJlbmRlcmluZycsXG4gIHNsb3BlOiAnc2xvcGUnLFxuICBzcGFjaW5nOiAnc3BhY2luZycsXG4gIHNwZWN1bGFyY29uc3RhbnQ6ICdzcGVjdWxhckNvbnN0YW50JyxcbiAgc3BlY3VsYXJleHBvbmVudDogJ3NwZWN1bGFyRXhwb25lbnQnLFxuICBzcGVlZDogJ3NwZWVkJyxcbiAgc3ByZWFkbWV0aG9kOiAnc3ByZWFkTWV0aG9kJyxcbiAgc3RhcnRvZmZzZXQ6ICdzdGFydE9mZnNldCcsXG4gIHN0ZGRldmlhdGlvbjogJ3N0ZERldmlhdGlvbicsXG4gIHN0ZW1oOiAnc3RlbWgnLFxuICBzdGVtdjogJ3N0ZW12JyxcbiAgc3RpdGNodGlsZXM6ICdzdGl0Y2hUaWxlcycsXG4gIHN0b3Bjb2xvcjogJ3N0b3BDb2xvcicsXG4gICdzdG9wLWNvbG9yJzogJ3N0b3BDb2xvcicsXG4gIHN0b3BvcGFjaXR5OiAnc3RvcE9wYWNpdHknLFxuICAnc3RvcC1vcGFjaXR5JzogJ3N0b3BPcGFjaXR5JyxcbiAgc3RyaWtldGhyb3VnaHBvc2l0aW9uOiAnc3RyaWtldGhyb3VnaFBvc2l0aW9uJyxcbiAgJ3N0cmlrZXRocm91Z2gtcG9zaXRpb24nOiAnc3RyaWtldGhyb3VnaFBvc2l0aW9uJyxcbiAgc3RyaWtldGhyb3VnaHRoaWNrbmVzczogJ3N0cmlrZXRocm91Z2hUaGlja25lc3MnLFxuICAnc3RyaWtldGhyb3VnaC10aGlja25lc3MnOiAnc3RyaWtldGhyb3VnaFRoaWNrbmVzcycsXG4gIHN0cmluZzogJ3N0cmluZycsXG4gIHN0cm9rZTogJ3N0cm9rZScsXG4gIHN0cm9rZWRhc2hhcnJheTogJ3N0cm9rZURhc2hhcnJheScsXG4gICdzdHJva2UtZGFzaGFycmF5JzogJ3N0cm9rZURhc2hhcnJheScsXG4gIHN0cm9rZWRhc2hvZmZzZXQ6ICdzdHJva2VEYXNob2Zmc2V0JyxcbiAgJ3N0cm9rZS1kYXNob2Zmc2V0JzogJ3N0cm9rZURhc2hvZmZzZXQnLFxuICBzdHJva2VsaW5lY2FwOiAnc3Ryb2tlTGluZWNhcCcsXG4gICdzdHJva2UtbGluZWNhcCc6ICdzdHJva2VMaW5lY2FwJyxcbiAgc3Ryb2tlbGluZWpvaW46ICdzdHJva2VMaW5lam9pbicsXG4gICdzdHJva2UtbGluZWpvaW4nOiAnc3Ryb2tlTGluZWpvaW4nLFxuICBzdHJva2VtaXRlcmxpbWl0OiAnc3Ryb2tlTWl0ZXJsaW1pdCcsXG4gICdzdHJva2UtbWl0ZXJsaW1pdCc6ICdzdHJva2VNaXRlcmxpbWl0JyxcbiAgc3Ryb2tld2lkdGg6ICdzdHJva2VXaWR0aCcsXG4gICdzdHJva2Utd2lkdGgnOiAnc3Ryb2tlV2lkdGgnLFxuICBzdHJva2VvcGFjaXR5OiAnc3Ryb2tlT3BhY2l0eScsXG4gICdzdHJva2Utb3BhY2l0eSc6ICdzdHJva2VPcGFjaXR5JyxcbiAgc3VwcHJlc3Njb250ZW50ZWRpdGFibGV3YXJuaW5nOiAnc3VwcHJlc3NDb250ZW50RWRpdGFibGVXYXJuaW5nJyxcbiAgc3VwcHJlc3NoeWRyYXRpb253YXJuaW5nOiAnc3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nJyxcbiAgc3VyZmFjZXNjYWxlOiAnc3VyZmFjZVNjYWxlJyxcbiAgc3lzdGVtbGFuZ3VhZ2U6ICdzeXN0ZW1MYW5ndWFnZScsXG4gIHRhYmxldmFsdWVzOiAndGFibGVWYWx1ZXMnLFxuICB0YXJnZXR4OiAndGFyZ2V0WCcsXG4gIHRhcmdldHk6ICd0YXJnZXRZJyxcbiAgdGV4dGFuY2hvcjogJ3RleHRBbmNob3InLFxuICAndGV4dC1hbmNob3InOiAndGV4dEFuY2hvcicsXG4gIHRleHRkZWNvcmF0aW9uOiAndGV4dERlY29yYXRpb24nLFxuICAndGV4dC1kZWNvcmF0aW9uJzogJ3RleHREZWNvcmF0aW9uJyxcbiAgdGV4dGxlbmd0aDogJ3RleHRMZW5ndGgnLFxuICB0ZXh0cmVuZGVyaW5nOiAndGV4dFJlbmRlcmluZycsXG4gICd0ZXh0LXJlbmRlcmluZyc6ICd0ZXh0UmVuZGVyaW5nJyxcbiAgdG86ICd0bycsXG4gIHRyYW5zZm9ybTogJ3RyYW5zZm9ybScsXG4gIHR5cGVvZjogJ3R5cGVvZicsXG4gIHUxOiAndTEnLFxuICB1MjogJ3UyJyxcbiAgdW5kZXJsaW5lcG9zaXRpb246ICd1bmRlcmxpbmVQb3NpdGlvbicsXG4gICd1bmRlcmxpbmUtcG9zaXRpb24nOiAndW5kZXJsaW5lUG9zaXRpb24nLFxuICB1bmRlcmxpbmV0aGlja25lc3M6ICd1bmRlcmxpbmVUaGlja25lc3MnLFxuICAndW5kZXJsaW5lLXRoaWNrbmVzcyc6ICd1bmRlcmxpbmVUaGlja25lc3MnLFxuICB1bmljb2RlOiAndW5pY29kZScsXG4gIHVuaWNvZGViaWRpOiAndW5pY29kZUJpZGknLFxuICAndW5pY29kZS1iaWRpJzogJ3VuaWNvZGVCaWRpJyxcbiAgdW5pY29kZXJhbmdlOiAndW5pY29kZVJhbmdlJyxcbiAgJ3VuaWNvZGUtcmFuZ2UnOiAndW5pY29kZVJhbmdlJyxcbiAgdW5pdHNwZXJlbTogJ3VuaXRzUGVyRW0nLFxuICAndW5pdHMtcGVyLWVtJzogJ3VuaXRzUGVyRW0nLFxuICB1bnNlbGVjdGFibGU6ICd1bnNlbGVjdGFibGUnLFxuICB2YWxwaGFiZXRpYzogJ3ZBbHBoYWJldGljJyxcbiAgJ3YtYWxwaGFiZXRpYyc6ICd2QWxwaGFiZXRpYycsXG4gIHZhbHVlczogJ3ZhbHVlcycsXG4gIHZlY3RvcmVmZmVjdDogJ3ZlY3RvckVmZmVjdCcsXG4gICd2ZWN0b3ItZWZmZWN0JzogJ3ZlY3RvckVmZmVjdCcsXG4gIHZlcnNpb246ICd2ZXJzaW9uJyxcbiAgdmVydGFkdnk6ICd2ZXJ0QWR2WScsXG4gICd2ZXJ0LWFkdi15JzogJ3ZlcnRBZHZZJyxcbiAgdmVydG9yaWdpbng6ICd2ZXJ0T3JpZ2luWCcsXG4gICd2ZXJ0LW9yaWdpbi14JzogJ3ZlcnRPcmlnaW5YJyxcbiAgdmVydG9yaWdpbnk6ICd2ZXJ0T3JpZ2luWScsXG4gICd2ZXJ0LW9yaWdpbi15JzogJ3ZlcnRPcmlnaW5ZJyxcbiAgdmhhbmdpbmc6ICd2SGFuZ2luZycsXG4gICd2LWhhbmdpbmcnOiAndkhhbmdpbmcnLFxuICB2aWRlb2dyYXBoaWM6ICd2SWRlb2dyYXBoaWMnLFxuICAndi1pZGVvZ3JhcGhpYyc6ICd2SWRlb2dyYXBoaWMnLFxuICB2aWV3Ym94OiAndmlld0JveCcsXG4gIHZpZXd0YXJnZXQ6ICd2aWV3VGFyZ2V0JyxcbiAgdmlzaWJpbGl0eTogJ3Zpc2liaWxpdHknLFxuICB2bWF0aGVtYXRpY2FsOiAndk1hdGhlbWF0aWNhbCcsXG4gICd2LW1hdGhlbWF0aWNhbCc6ICd2TWF0aGVtYXRpY2FsJyxcbiAgdm9jYWI6ICd2b2NhYicsXG4gIHdpZHRoczogJ3dpZHRocycsXG4gIHdvcmRzcGFjaW5nOiAnd29yZFNwYWNpbmcnLFxuICAnd29yZC1zcGFjaW5nJzogJ3dvcmRTcGFjaW5nJyxcbiAgd3JpdGluZ21vZGU6ICd3cml0aW5nTW9kZScsXG4gICd3cml0aW5nLW1vZGUnOiAnd3JpdGluZ01vZGUnLFxuICB4MTogJ3gxJyxcbiAgeDI6ICd4MicsXG4gIHg6ICd4JyxcbiAgeGNoYW5uZWxzZWxlY3RvcjogJ3hDaGFubmVsU2VsZWN0b3InLFxuICB4aGVpZ2h0OiAneEhlaWdodCcsXG4gICd4LWhlaWdodCc6ICd4SGVpZ2h0JyxcbiAgeGxpbmthY3R1YXRlOiAneGxpbmtBY3R1YXRlJyxcbiAgJ3hsaW5rOmFjdHVhdGUnOiAneGxpbmtBY3R1YXRlJyxcbiAgeGxpbmthcmNyb2xlOiAneGxpbmtBcmNyb2xlJyxcbiAgJ3hsaW5rOmFyY3JvbGUnOiAneGxpbmtBcmNyb2xlJyxcbiAgeGxpbmtocmVmOiAneGxpbmtIcmVmJyxcbiAgJ3hsaW5rOmhyZWYnOiAneGxpbmtIcmVmJyxcbiAgeGxpbmtyb2xlOiAneGxpbmtSb2xlJyxcbiAgJ3hsaW5rOnJvbGUnOiAneGxpbmtSb2xlJyxcbiAgeGxpbmtzaG93OiAneGxpbmtTaG93JyxcbiAgJ3hsaW5rOnNob3cnOiAneGxpbmtTaG93JyxcbiAgeGxpbmt0aXRsZTogJ3hsaW5rVGl0bGUnLFxuICAneGxpbms6dGl0bGUnOiAneGxpbmtUaXRsZScsXG4gIHhsaW5rdHlwZTogJ3hsaW5rVHlwZScsXG4gICd4bGluazp0eXBlJzogJ3hsaW5rVHlwZScsXG4gIHhtbGJhc2U6ICd4bWxCYXNlJyxcbiAgJ3htbDpiYXNlJzogJ3htbEJhc2UnLFxuICB4bWxsYW5nOiAneG1sTGFuZycsXG4gICd4bWw6bGFuZyc6ICd4bWxMYW5nJyxcbiAgeG1sbnM6ICd4bWxucycsXG4gICd4bWw6c3BhY2UnOiAneG1sU3BhY2UnLFxuICB4bWxuc3hsaW5rOiAneG1sbnNYbGluaycsXG4gICd4bWxuczp4bGluayc6ICd4bWxuc1hsaW5rJyxcbiAgeG1sc3BhY2U6ICd4bWxTcGFjZScsXG4gIHkxOiAneTEnLFxuICB5MjogJ3kyJyxcbiAgeTogJ3knLFxuICB5Y2hhbm5lbHNlbGVjdG9yOiAneUNoYW5uZWxTZWxlY3RvcicsXG4gIHo6ICd6JyxcbiAgem9vbWFuZHBhbjogJ3pvb21BbmRQYW4nXG59O1xuXG52YXIgYXJpYVByb3BlcnRpZXMgPSB7XG4gICdhcmlhLWN1cnJlbnQnOiAwLFxuICAvLyBzdGF0ZVxuICAnYXJpYS1kZXRhaWxzJzogMCxcbiAgJ2FyaWEtZGlzYWJsZWQnOiAwLFxuICAvLyBzdGF0ZVxuICAnYXJpYS1oaWRkZW4nOiAwLFxuICAvLyBzdGF0ZVxuICAnYXJpYS1pbnZhbGlkJzogMCxcbiAgLy8gc3RhdGVcbiAgJ2FyaWEta2V5c2hvcnRjdXRzJzogMCxcbiAgJ2FyaWEtbGFiZWwnOiAwLFxuICAnYXJpYS1yb2xlZGVzY3JpcHRpb24nOiAwLFxuICAvLyBXaWRnZXQgQXR0cmlidXRlc1xuICAnYXJpYS1hdXRvY29tcGxldGUnOiAwLFxuICAnYXJpYS1jaGVja2VkJzogMCxcbiAgJ2FyaWEtZXhwYW5kZWQnOiAwLFxuICAnYXJpYS1oYXNwb3B1cCc6IDAsXG4gICdhcmlhLWxldmVsJzogMCxcbiAgJ2FyaWEtbW9kYWwnOiAwLFxuICAnYXJpYS1tdWx0aWxpbmUnOiAwLFxuICAnYXJpYS1tdWx0aXNlbGVjdGFibGUnOiAwLFxuICAnYXJpYS1vcmllbnRhdGlvbic6IDAsXG4gICdhcmlhLXBsYWNlaG9sZGVyJzogMCxcbiAgJ2FyaWEtcHJlc3NlZCc6IDAsXG4gICdhcmlhLXJlYWRvbmx5JzogMCxcbiAgJ2FyaWEtcmVxdWlyZWQnOiAwLFxuICAnYXJpYS1zZWxlY3RlZCc6IDAsXG4gICdhcmlhLXNvcnQnOiAwLFxuICAnYXJpYS12YWx1ZW1heCc6IDAsXG4gICdhcmlhLXZhbHVlbWluJzogMCxcbiAgJ2FyaWEtdmFsdWVub3cnOiAwLFxuICAnYXJpYS12YWx1ZXRleHQnOiAwLFxuICAvLyBMaXZlIFJlZ2lvbiBBdHRyaWJ1dGVzXG4gICdhcmlhLWF0b21pYyc6IDAsXG4gICdhcmlhLWJ1c3knOiAwLFxuICAnYXJpYS1saXZlJzogMCxcbiAgJ2FyaWEtcmVsZXZhbnQnOiAwLFxuICAvLyBEcmFnLWFuZC1Ecm9wIEF0dHJpYnV0ZXNcbiAgJ2FyaWEtZHJvcGVmZmVjdCc6IDAsXG4gICdhcmlhLWdyYWJiZWQnOiAwLFxuICAvLyBSZWxhdGlvbnNoaXAgQXR0cmlidXRlc1xuICAnYXJpYS1hY3RpdmVkZXNjZW5kYW50JzogMCxcbiAgJ2FyaWEtY29sY291bnQnOiAwLFxuICAnYXJpYS1jb2xpbmRleCc6IDAsXG4gICdhcmlhLWNvbHNwYW4nOiAwLFxuICAnYXJpYS1jb250cm9scyc6IDAsXG4gICdhcmlhLWRlc2NyaWJlZGJ5JzogMCxcbiAgJ2FyaWEtZXJyb3JtZXNzYWdlJzogMCxcbiAgJ2FyaWEtZmxvd3RvJzogMCxcbiAgJ2FyaWEtbGFiZWxsZWRieSc6IDAsXG4gICdhcmlhLW93bnMnOiAwLFxuICAnYXJpYS1wb3NpbnNldCc6IDAsXG4gICdhcmlhLXJvd2NvdW50JzogMCxcbiAgJ2FyaWEtcm93aW5kZXgnOiAwLFxuICAnYXJpYS1yb3dzcGFuJzogMCxcbiAgJ2FyaWEtc2V0c2l6ZSc6IDBcbn07XG5cbnZhciB3YXJuZWRQcm9wZXJ0aWVzID0ge307XG52YXIgckFSSUEgPSBuZXcgUmVnRXhwKCdeKGFyaWEpLVsnICsgQVRUUklCVVRFX05BTUVfQ0hBUiArICddKiQnKTtcbnZhciByQVJJQUNhbWVsID0gbmV3IFJlZ0V4cCgnXihhcmlhKVtBLVpdWycgKyBBVFRSSUJVVEVfTkFNRV9DSEFSICsgJ10qJCcpO1xudmFyIGhhc093blByb3BlcnR5JDEgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXG5mdW5jdGlvbiB2YWxpZGF0ZVByb3BlcnR5KHRhZ05hbWUsIG5hbWUpIHtcbiAgaWYgKGhhc093blByb3BlcnR5JDEuY2FsbCh3YXJuZWRQcm9wZXJ0aWVzLCBuYW1lKSAmJiB3YXJuZWRQcm9wZXJ0aWVzW25hbWVdKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBpZiAockFSSUFDYW1lbC50ZXN0KG5hbWUpKSB7XG4gICAgdmFyIGFyaWFOYW1lID0gJ2FyaWEtJyArIG5hbWUuc2xpY2UoNCkudG9Mb3dlckNhc2UoKTtcbiAgICB2YXIgY29ycmVjdE5hbWUgPSBhcmlhUHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShhcmlhTmFtZSkgPyBhcmlhTmFtZSA6IG51bGw7IC8vIElmIHRoaXMgaXMgYW4gYXJpYS0qIGF0dHJpYnV0ZSwgYnV0IGlzIG5vdCBsaXN0ZWQgaW4gdGhlIGtub3duIERPTVxuICAgIC8vIERPTSBwcm9wZXJ0aWVzLCB0aGVuIGl0IGlzIGFuIGludmFsaWQgYXJpYS0qIGF0dHJpYnV0ZS5cblxuICAgIGlmIChjb3JyZWN0TmFtZSA9PSBudWxsKSB7XG4gICAgICB3YXJuaW5nJDEoZmFsc2UsICdJbnZhbGlkIEFSSUEgYXR0cmlidXRlIGAlc2AuIEFSSUEgYXR0cmlidXRlcyBmb2xsb3cgdGhlIHBhdHRlcm4gYXJpYS0qIGFuZCBtdXN0IGJlIGxvd2VyY2FzZS4nLCBuYW1lKTtcbiAgICAgIHdhcm5lZFByb3BlcnRpZXNbbmFtZV0gPSB0cnVlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSAvLyBhcmlhLSogYXR0cmlidXRlcyBzaG91bGQgYmUgbG93ZXJjYXNlOyBzdWdnZXN0IHRoZSBsb3dlcmNhc2UgdmVyc2lvbi5cblxuXG4gICAgaWYgKG5hbWUgIT09IGNvcnJlY3ROYW1lKSB7XG4gICAgICB3YXJuaW5nJDEoZmFsc2UsICdJbnZhbGlkIEFSSUEgYXR0cmlidXRlIGAlc2AuIERpZCB5b3UgbWVhbiBgJXNgPycsIG5hbWUsIGNvcnJlY3ROYW1lKTtcbiAgICAgIHdhcm5lZFByb3BlcnRpZXNbbmFtZV0gPSB0cnVlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgaWYgKHJBUklBLnRlc3QobmFtZSkpIHtcbiAgICB2YXIgbG93ZXJDYXNlZE5hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgdmFyIHN0YW5kYXJkTmFtZSA9IGFyaWFQcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KGxvd2VyQ2FzZWROYW1lKSA/IGxvd2VyQ2FzZWROYW1lIDogbnVsbDsgLy8gSWYgdGhpcyBpcyBhbiBhcmlhLSogYXR0cmlidXRlLCBidXQgaXMgbm90IGxpc3RlZCBpbiB0aGUga25vd24gRE9NXG4gICAgLy8gRE9NIHByb3BlcnRpZXMsIHRoZW4gaXQgaXMgYW4gaW52YWxpZCBhcmlhLSogYXR0cmlidXRlLlxuXG4gICAgaWYgKHN0YW5kYXJkTmFtZSA9PSBudWxsKSB7XG4gICAgICB3YXJuZWRQcm9wZXJ0aWVzW25hbWVdID0gdHJ1ZTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IC8vIGFyaWEtKiBhdHRyaWJ1dGVzIHNob3VsZCBiZSBsb3dlcmNhc2U7IHN1Z2dlc3QgdGhlIGxvd2VyY2FzZSB2ZXJzaW9uLlxuXG5cbiAgICBpZiAobmFtZSAhPT0gc3RhbmRhcmROYW1lKSB7XG4gICAgICB3YXJuaW5nJDEoZmFsc2UsICdVbmtub3duIEFSSUEgYXR0cmlidXRlIGAlc2AuIERpZCB5b3UgbWVhbiBgJXNgPycsIG5hbWUsIHN0YW5kYXJkTmFtZSk7XG4gICAgICB3YXJuZWRQcm9wZXJ0aWVzW25hbWVdID0gdHJ1ZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiB3YXJuSW52YWxpZEFSSUFQcm9wcyh0eXBlLCBwcm9wcykge1xuICB2YXIgaW52YWxpZFByb3BzID0gW107XG5cbiAgZm9yICh2YXIga2V5IGluIHByb3BzKSB7XG4gICAgdmFyIGlzVmFsaWQgPSB2YWxpZGF0ZVByb3BlcnR5KHR5cGUsIGtleSk7XG5cbiAgICBpZiAoIWlzVmFsaWQpIHtcbiAgICAgIGludmFsaWRQcm9wcy5wdXNoKGtleSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIHVua25vd25Qcm9wU3RyaW5nID0gaW52YWxpZFByb3BzLm1hcChmdW5jdGlvbiAocHJvcCkge1xuICAgIHJldHVybiAnYCcgKyBwcm9wICsgJ2AnO1xuICB9KS5qb2luKCcsICcpO1xuXG4gIGlmIChpbnZhbGlkUHJvcHMubGVuZ3RoID09PSAxKSB7XG4gICAgd2FybmluZyQxKGZhbHNlLCAnSW52YWxpZCBhcmlhIHByb3AgJXMgb24gPCVzPiB0YWcuICcgKyAnRm9yIGRldGFpbHMsIHNlZSBodHRwczovL2ZiLm1lL2ludmFsaWQtYXJpYS1wcm9wJywgdW5rbm93blByb3BTdHJpbmcsIHR5cGUpO1xuICB9IGVsc2UgaWYgKGludmFsaWRQcm9wcy5sZW5ndGggPiAxKSB7XG4gICAgd2FybmluZyQxKGZhbHNlLCAnSW52YWxpZCBhcmlhIHByb3BzICVzIG9uIDwlcz4gdGFnLiAnICsgJ0ZvciBkZXRhaWxzLCBzZWUgaHR0cHM6Ly9mYi5tZS9pbnZhbGlkLWFyaWEtcHJvcCcsIHVua25vd25Qcm9wU3RyaW5nLCB0eXBlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZVByb3BlcnRpZXModHlwZSwgcHJvcHMpIHtcbiAgaWYgKGlzQ3VzdG9tQ29tcG9uZW50KHR5cGUsIHByb3BzKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHdhcm5JbnZhbGlkQVJJQVByb3BzKHR5cGUsIHByb3BzKTtcbn1cblxudmFyIGRpZFdhcm5WYWx1ZU51bGwgPSBmYWxzZTtcbmZ1bmN0aW9uIHZhbGlkYXRlUHJvcGVydGllcyQxKHR5cGUsIHByb3BzKSB7XG4gIGlmICh0eXBlICE9PSAnaW5wdXQnICYmIHR5cGUgIT09ICd0ZXh0YXJlYScgJiYgdHlwZSAhPT0gJ3NlbGVjdCcpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAocHJvcHMgIT0gbnVsbCAmJiBwcm9wcy52YWx1ZSA9PT0gbnVsbCAmJiAhZGlkV2FyblZhbHVlTnVsbCkge1xuICAgIGRpZFdhcm5WYWx1ZU51bGwgPSB0cnVlO1xuXG4gICAgaWYgKHR5cGUgPT09ICdzZWxlY3QnICYmIHByb3BzLm11bHRpcGxlKSB7XG4gICAgICB3YXJuaW5nJDEoZmFsc2UsICdgdmFsdWVgIHByb3Agb24gYCVzYCBzaG91bGQgbm90IGJlIG51bGwuICcgKyAnQ29uc2lkZXIgdXNpbmcgYW4gZW1wdHkgYXJyYXkgd2hlbiBgbXVsdGlwbGVgIGlzIHNldCB0byBgdHJ1ZWAgJyArICd0byBjbGVhciB0aGUgY29tcG9uZW50IG9yIGB1bmRlZmluZWRgIGZvciB1bmNvbnRyb2xsZWQgY29tcG9uZW50cy4nLCB0eXBlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgd2FybmluZyQxKGZhbHNlLCAnYHZhbHVlYCBwcm9wIG9uIGAlc2Agc2hvdWxkIG5vdCBiZSBudWxsLiAnICsgJ0NvbnNpZGVyIHVzaW5nIGFuIGVtcHR5IHN0cmluZyB0byBjbGVhciB0aGUgY29tcG9uZW50IG9yIGB1bmRlZmluZWRgICcgKyAnZm9yIHVuY29udHJvbGxlZCBjb21wb25lbnRzLicsIHR5cGUpO1xuICAgIH1cbiAgfVxufVxuXG52YXIgdmFsaWRhdGVQcm9wZXJ0eSQxID0gZnVuY3Rpb24gKCkge307XG5cbntcbiAgdmFyIHdhcm5lZFByb3BlcnRpZXMkMSA9IHt9O1xuICB2YXIgX2hhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbiAgdmFyIEVWRU5UX05BTUVfUkVHRVggPSAvXm9uLi87XG4gIHZhciBJTlZBTElEX0VWRU5UX05BTUVfUkVHRVggPSAvXm9uW15BLVpdLztcbiAgdmFyIHJBUklBJDEgPSBuZXcgUmVnRXhwKCdeKGFyaWEpLVsnICsgQVRUUklCVVRFX05BTUVfQ0hBUiArICddKiQnKTtcbiAgdmFyIHJBUklBQ2FtZWwkMSA9IG5ldyBSZWdFeHAoJ14oYXJpYSlbQS1aXVsnICsgQVRUUklCVVRFX05BTUVfQ0hBUiArICddKiQnKTtcblxuICB2YWxpZGF0ZVByb3BlcnR5JDEgPSBmdW5jdGlvbiAodGFnTmFtZSwgbmFtZSwgdmFsdWUsIGNhblVzZUV2ZW50U3lzdGVtKSB7XG4gICAgaWYgKF9oYXNPd25Qcm9wZXJ0eS5jYWxsKHdhcm5lZFByb3BlcnRpZXMkMSwgbmFtZSkgJiYgd2FybmVkUHJvcGVydGllcyQxW25hbWVdKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICB2YXIgbG93ZXJDYXNlZE5hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCk7XG5cbiAgICBpZiAobG93ZXJDYXNlZE5hbWUgPT09ICdvbmZvY3VzaW4nIHx8IGxvd2VyQ2FzZWROYW1lID09PSAnb25mb2N1c291dCcpIHtcbiAgICAgIHdhcm5pbmckMShmYWxzZSwgJ1JlYWN0IHVzZXMgb25Gb2N1cyBhbmQgb25CbHVyIGluc3RlYWQgb2Ygb25Gb2N1c0luIGFuZCBvbkZvY3VzT3V0LiAnICsgJ0FsbCBSZWFjdCBldmVudHMgYXJlIG5vcm1hbGl6ZWQgdG8gYnViYmxlLCBzbyBvbkZvY3VzSW4gYW5kIG9uRm9jdXNPdXQgJyArICdhcmUgbm90IG5lZWRlZC9zdXBwb3J0ZWQgYnkgUmVhY3QuJyk7XG4gICAgICB3YXJuZWRQcm9wZXJ0aWVzJDFbbmFtZV0gPSB0cnVlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSAvLyBXZSBjYW4ndCByZWx5IG9uIHRoZSBldmVudCBzeXN0ZW0gYmVpbmcgaW5qZWN0ZWQgb24gdGhlIHNlcnZlci5cblxuXG4gICAgaWYgKGNhblVzZUV2ZW50U3lzdGVtKSB7XG4gICAgICBpZiAocmVnaXN0cmF0aW9uTmFtZU1vZHVsZXMuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIHZhciByZWdpc3RyYXRpb25OYW1lID0gcG9zc2libGVSZWdpc3RyYXRpb25OYW1lcy5oYXNPd25Qcm9wZXJ0eShsb3dlckNhc2VkTmFtZSkgPyBwb3NzaWJsZVJlZ2lzdHJhdGlvbk5hbWVzW2xvd2VyQ2FzZWROYW1lXSA6IG51bGw7XG5cbiAgICAgIGlmIChyZWdpc3RyYXRpb25OYW1lICE9IG51bGwpIHtcbiAgICAgICAgd2FybmluZyQxKGZhbHNlLCAnSW52YWxpZCBldmVudCBoYW5kbGVyIHByb3BlcnR5IGAlc2AuIERpZCB5b3UgbWVhbiBgJXNgPycsIG5hbWUsIHJlZ2lzdHJhdGlvbk5hbWUpO1xuICAgICAgICB3YXJuZWRQcm9wZXJ0aWVzJDFbbmFtZV0gPSB0cnVlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKEVWRU5UX05BTUVfUkVHRVgudGVzdChuYW1lKSkge1xuICAgICAgICB3YXJuaW5nJDEoZmFsc2UsICdVbmtub3duIGV2ZW50IGhhbmRsZXIgcHJvcGVydHkgYCVzYC4gSXQgd2lsbCBiZSBpZ25vcmVkLicsIG5hbWUpO1xuICAgICAgICB3YXJuZWRQcm9wZXJ0aWVzJDFbbmFtZV0gPSB0cnVlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKEVWRU5UX05BTUVfUkVHRVgudGVzdChuYW1lKSkge1xuICAgICAgLy8gSWYgbm8gZXZlbnQgcGx1Z2lucyBoYXZlIGJlZW4gaW5qZWN0ZWQsIHdlIGFyZSBpbiBhIHNlcnZlciBlbnZpcm9ubWVudC5cbiAgICAgIC8vIFNvIHdlIGNhbid0IHRlbGwgaWYgdGhlIGV2ZW50IG5hbWUgaXMgY29ycmVjdCBmb3Igc3VyZSwgYnV0IHdlIGNhbiBmaWx0ZXJcbiAgICAgIC8vIG91dCBrbm93biBiYWQgb25lcyBsaWtlIGBvbmNsaWNrYC4gV2UgY2FuJ3Qgc3VnZ2VzdCBhIHNwZWNpZmljIHJlcGxhY2VtZW50IHRob3VnaC5cbiAgICAgIGlmIChJTlZBTElEX0VWRU5UX05BTUVfUkVHRVgudGVzdChuYW1lKSkge1xuICAgICAgICB3YXJuaW5nJDEoZmFsc2UsICdJbnZhbGlkIGV2ZW50IGhhbmRsZXIgcHJvcGVydHkgYCVzYC4gJyArICdSZWFjdCBldmVudHMgdXNlIHRoZSBjYW1lbENhc2UgbmFtaW5nIGNvbnZlbnRpb24sIGZvciBleGFtcGxlIGBvbkNsaWNrYC4nLCBuYW1lKTtcbiAgICAgIH1cblxuICAgICAgd2FybmVkUHJvcGVydGllcyQxW25hbWVdID0gdHJ1ZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gLy8gTGV0IHRoZSBBUklBIGF0dHJpYnV0ZSBob29rIHZhbGlkYXRlIEFSSUEgYXR0cmlidXRlc1xuXG5cbiAgICBpZiAockFSSUEkMS50ZXN0KG5hbWUpIHx8IHJBUklBQ2FtZWwkMS50ZXN0KG5hbWUpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAobG93ZXJDYXNlZE5hbWUgPT09ICdpbm5lcmh0bWwnKSB7XG4gICAgICB3YXJuaW5nJDEoZmFsc2UsICdEaXJlY3RseSBzZXR0aW5nIHByb3BlcnR5IGBpbm5lckhUTUxgIGlzIG5vdCBwZXJtaXR0ZWQuICcgKyAnRm9yIG1vcmUgaW5mb3JtYXRpb24sIGxvb2t1cCBkb2N1bWVudGF0aW9uIG9uIGBkYW5nZXJvdXNseVNldElubmVySFRNTGAuJyk7XG4gICAgICB3YXJuZWRQcm9wZXJ0aWVzJDFbbmFtZV0gPSB0cnVlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgaWYgKGxvd2VyQ2FzZWROYW1lID09PSAnYXJpYScpIHtcbiAgICAgIHdhcm5pbmckMShmYWxzZSwgJ1RoZSBgYXJpYWAgYXR0cmlidXRlIGlzIHJlc2VydmVkIGZvciBmdXR1cmUgdXNlIGluIFJlYWN0LiAnICsgJ1Bhc3MgaW5kaXZpZHVhbCBgYXJpYS1gIGF0dHJpYnV0ZXMgaW5zdGVhZC4nKTtcbiAgICAgIHdhcm5lZFByb3BlcnRpZXMkMVtuYW1lXSA9IHRydWU7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAobG93ZXJDYXNlZE5hbWUgPT09ICdpcycgJiYgdmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICB3YXJuaW5nJDEoZmFsc2UsICdSZWNlaXZlZCBhIGAlc2AgZm9yIGEgc3RyaW5nIGF0dHJpYnV0ZSBgaXNgLiBJZiB0aGlzIGlzIGV4cGVjdGVkLCBjYXN0ICcgKyAndGhlIHZhbHVlIHRvIGEgc3RyaW5nLicsIHR5cGVvZiB2YWx1ZSk7XG4gICAgICB3YXJuZWRQcm9wZXJ0aWVzJDFbbmFtZV0gPSB0cnVlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgJiYgaXNOYU4odmFsdWUpKSB7XG4gICAgICB3YXJuaW5nJDEoZmFsc2UsICdSZWNlaXZlZCBOYU4gZm9yIHRoZSBgJXNgIGF0dHJpYnV0ZS4gSWYgdGhpcyBpcyBleHBlY3RlZCwgY2FzdCAnICsgJ3RoZSB2YWx1ZSB0byBhIHN0cmluZy4nLCBuYW1lKTtcbiAgICAgIHdhcm5lZFByb3BlcnRpZXMkMVtuYW1lXSA9IHRydWU7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICB2YXIgcHJvcGVydHlJbmZvID0gZ2V0UHJvcGVydHlJbmZvKG5hbWUpO1xuICAgIHZhciBpc1Jlc2VydmVkID0gcHJvcGVydHlJbmZvICE9PSBudWxsICYmIHByb3BlcnR5SW5mby50eXBlID09PSBSRVNFUlZFRDsgLy8gS25vd24gYXR0cmlidXRlcyBzaG91bGQgbWF0Y2ggdGhlIGNhc2luZyBzcGVjaWZpZWQgaW4gdGhlIHByb3BlcnR5IGNvbmZpZy5cblxuICAgIGlmIChwb3NzaWJsZVN0YW5kYXJkTmFtZXMuaGFzT3duUHJvcGVydHkobG93ZXJDYXNlZE5hbWUpKSB7XG4gICAgICB2YXIgc3RhbmRhcmROYW1lID0gcG9zc2libGVTdGFuZGFyZE5hbWVzW2xvd2VyQ2FzZWROYW1lXTtcblxuICAgICAgaWYgKHN0YW5kYXJkTmFtZSAhPT0gbmFtZSkge1xuICAgICAgICB3YXJuaW5nJDEoZmFsc2UsICdJbnZhbGlkIERPTSBwcm9wZXJ0eSBgJXNgLiBEaWQgeW91IG1lYW4gYCVzYD8nLCBuYW1lLCBzdGFuZGFyZE5hbWUpO1xuICAgICAgICB3YXJuZWRQcm9wZXJ0aWVzJDFbbmFtZV0gPSB0cnVlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCFpc1Jlc2VydmVkICYmIG5hbWUgIT09IGxvd2VyQ2FzZWROYW1lKSB7XG4gICAgICAvLyBVbmtub3duIGF0dHJpYnV0ZXMgc2hvdWxkIGhhdmUgbG93ZXJjYXNlIGNhc2luZyBzaW5jZSB0aGF0J3MgaG93IHRoZXlcbiAgICAgIC8vIHdpbGwgYmUgY2FzZWQgYW55d2F5IHdpdGggc2VydmVyIHJlbmRlcmluZy5cbiAgICAgIHdhcm5pbmckMShmYWxzZSwgJ1JlYWN0IGRvZXMgbm90IHJlY29nbml6ZSB0aGUgYCVzYCBwcm9wIG9uIGEgRE9NIGVsZW1lbnQuIElmIHlvdSAnICsgJ2ludGVudGlvbmFsbHkgd2FudCBpdCB0byBhcHBlYXIgaW4gdGhlIERPTSBhcyBhIGN1c3RvbSAnICsgJ2F0dHJpYnV0ZSwgc3BlbGwgaXQgYXMgbG93ZXJjYXNlIGAlc2AgaW5zdGVhZC4gJyArICdJZiB5b3UgYWNjaWRlbnRhbGx5IHBhc3NlZCBpdCBmcm9tIGEgcGFyZW50IGNvbXBvbmVudCwgcmVtb3ZlICcgKyAnaXQgZnJvbSB0aGUgRE9NIGVsZW1lbnQuJywgbmFtZSwgbG93ZXJDYXNlZE5hbWUpO1xuICAgICAgd2FybmVkUHJvcGVydGllcyQxW25hbWVdID0gdHJ1ZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJyAmJiBzaG91bGRSZW1vdmVBdHRyaWJ1dGVXaXRoV2FybmluZyhuYW1lLCB2YWx1ZSwgcHJvcGVydHlJbmZvLCBmYWxzZSkpIHtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICB3YXJuaW5nJDEoZmFsc2UsICdSZWNlaXZlZCBgJXNgIGZvciBhIG5vbi1ib29sZWFuIGF0dHJpYnV0ZSBgJXNgLlxcblxcbicgKyAnSWYgeW91IHdhbnQgdG8gd3JpdGUgaXQgdG8gdGhlIERPTSwgcGFzcyBhIHN0cmluZyBpbnN0ZWFkOiAnICsgJyVzPVwiJXNcIiBvciAlcz17dmFsdWUudG9TdHJpbmcoKX0uJywgdmFsdWUsIG5hbWUsIG5hbWUsIHZhbHVlLCBuYW1lKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdhcm5pbmckMShmYWxzZSwgJ1JlY2VpdmVkIGAlc2AgZm9yIGEgbm9uLWJvb2xlYW4gYXR0cmlidXRlIGAlc2AuXFxuXFxuJyArICdJZiB5b3Ugd2FudCB0byB3cml0ZSBpdCB0byB0aGUgRE9NLCBwYXNzIGEgc3RyaW5nIGluc3RlYWQ6ICcgKyAnJXM9XCIlc1wiIG9yICVzPXt2YWx1ZS50b1N0cmluZygpfS5cXG5cXG4nICsgJ0lmIHlvdSB1c2VkIHRvIGNvbmRpdGlvbmFsbHkgb21pdCBpdCB3aXRoICVzPXtjb25kaXRpb24gJiYgdmFsdWV9LCAnICsgJ3Bhc3MgJXM9e2NvbmRpdGlvbiA/IHZhbHVlIDogdW5kZWZpbmVkfSBpbnN0ZWFkLicsIHZhbHVlLCBuYW1lLCBuYW1lLCB2YWx1ZSwgbmFtZSwgbmFtZSwgbmFtZSk7XG4gICAgICB9XG5cbiAgICAgIHdhcm5lZFByb3BlcnRpZXMkMVtuYW1lXSA9IHRydWU7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IC8vIE5vdyB0aGF0IHdlJ3ZlIHZhbGlkYXRlZCBjYXNpbmcsIGRvIG5vdCB2YWxpZGF0ZVxuICAgIC8vIGRhdGEgdHlwZXMgZm9yIHJlc2VydmVkIHByb3BzXG5cblxuICAgIGlmIChpc1Jlc2VydmVkKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IC8vIFdhcm4gd2hlbiBhIGtub3duIGF0dHJpYnV0ZSBpcyBhIGJhZCB0eXBlXG5cblxuICAgIGlmIChzaG91bGRSZW1vdmVBdHRyaWJ1dGVXaXRoV2FybmluZyhuYW1lLCB2YWx1ZSwgcHJvcGVydHlJbmZvLCBmYWxzZSkpIHtcbiAgICAgIHdhcm5lZFByb3BlcnRpZXMkMVtuYW1lXSA9IHRydWU7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSAvLyBXYXJuIHdoZW4gcGFzc2luZyB0aGUgc3RyaW5ncyAnZmFsc2UnIG9yICd0cnVlJyBpbnRvIGEgYm9vbGVhbiBwcm9wXG5cblxuICAgIGlmICgodmFsdWUgPT09ICdmYWxzZScgfHwgdmFsdWUgPT09ICd0cnVlJykgJiYgcHJvcGVydHlJbmZvICE9PSBudWxsICYmIHByb3BlcnR5SW5mby50eXBlID09PSBCT09MRUFOKSB7XG4gICAgICB3YXJuaW5nJDEoZmFsc2UsICdSZWNlaXZlZCB0aGUgc3RyaW5nIGAlc2AgZm9yIHRoZSBib29sZWFuIGF0dHJpYnV0ZSBgJXNgLiAnICsgJyVzICcgKyAnRGlkIHlvdSBtZWFuICVzPXslc30/JywgdmFsdWUsIG5hbWUsIHZhbHVlID09PSAnZmFsc2UnID8gJ1RoZSBicm93c2VyIHdpbGwgaW50ZXJwcmV0IGl0IGFzIGEgdHJ1dGh5IHZhbHVlLicgOiAnQWx0aG91Z2ggdGhpcyB3b3JrcywgaXQgd2lsbCBub3Qgd29yayBhcyBleHBlY3RlZCBpZiB5b3UgcGFzcyB0aGUgc3RyaW5nIFwiZmFsc2VcIi4nLCBuYW1lLCB2YWx1ZSk7XG4gICAgICB3YXJuZWRQcm9wZXJ0aWVzJDFbbmFtZV0gPSB0cnVlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG59XG5cbnZhciB3YXJuVW5rbm93blByb3BlcnRpZXMgPSBmdW5jdGlvbiAodHlwZSwgcHJvcHMsIGNhblVzZUV2ZW50U3lzdGVtKSB7XG4gIHZhciB1bmtub3duUHJvcHMgPSBbXTtcblxuICBmb3IgKHZhciBrZXkgaW4gcHJvcHMpIHtcbiAgICB2YXIgaXNWYWxpZCA9IHZhbGlkYXRlUHJvcGVydHkkMSh0eXBlLCBrZXksIHByb3BzW2tleV0sIGNhblVzZUV2ZW50U3lzdGVtKTtcblxuICAgIGlmICghaXNWYWxpZCkge1xuICAgICAgdW5rbm93blByb3BzLnB1c2goa2V5KTtcbiAgICB9XG4gIH1cblxuICB2YXIgdW5rbm93blByb3BTdHJpbmcgPSB1bmtub3duUHJvcHMubWFwKGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgcmV0dXJuICdgJyArIHByb3AgKyAnYCc7XG4gIH0pLmpvaW4oJywgJyk7XG5cbiAgaWYgKHVua25vd25Qcm9wcy5sZW5ndGggPT09IDEpIHtcbiAgICB3YXJuaW5nJDEoZmFsc2UsICdJbnZhbGlkIHZhbHVlIGZvciBwcm9wICVzIG9uIDwlcz4gdGFnLiBFaXRoZXIgcmVtb3ZlIGl0IGZyb20gdGhlIGVsZW1lbnQsICcgKyAnb3IgcGFzcyBhIHN0cmluZyBvciBudW1iZXIgdmFsdWUgdG8ga2VlcCBpdCBpbiB0aGUgRE9NLiAnICsgJ0ZvciBkZXRhaWxzLCBzZWUgaHR0cHM6Ly9mYi5tZS9yZWFjdC1hdHRyaWJ1dGUtYmVoYXZpb3InLCB1bmtub3duUHJvcFN0cmluZywgdHlwZSk7XG4gIH0gZWxzZSBpZiAodW5rbm93blByb3BzLmxlbmd0aCA+IDEpIHtcbiAgICB3YXJuaW5nJDEoZmFsc2UsICdJbnZhbGlkIHZhbHVlcyBmb3IgcHJvcHMgJXMgb24gPCVzPiB0YWcuIEVpdGhlciByZW1vdmUgdGhlbSBmcm9tIHRoZSBlbGVtZW50LCAnICsgJ29yIHBhc3MgYSBzdHJpbmcgb3IgbnVtYmVyIHZhbHVlIHRvIGtlZXAgdGhlbSBpbiB0aGUgRE9NLiAnICsgJ0ZvciBkZXRhaWxzLCBzZWUgaHR0cHM6Ly9mYi5tZS9yZWFjdC1hdHRyaWJ1dGUtYmVoYXZpb3InLCB1bmtub3duUHJvcFN0cmluZywgdHlwZSk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIHZhbGlkYXRlUHJvcGVydGllcyQyKHR5cGUsIHByb3BzLCBjYW5Vc2VFdmVudFN5c3RlbSkge1xuICBpZiAoaXNDdXN0b21Db21wb25lbnQodHlwZSwgcHJvcHMpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgd2FyblVua25vd25Qcm9wZXJ0aWVzKHR5cGUsIHByb3BzLCBjYW5Vc2VFdmVudFN5c3RlbSk7XG59XG5cbi8vIFRPRE86IGRpcmVjdCBpbXBvcnRzIGxpa2Ugc29tZS1wYWNrYWdlL3NyYy8qIGFyZSBiYWQuIEZpeCBtZS5cbnZhciBkaWRXYXJuSW52YWxpZEh5ZHJhdGlvbiA9IGZhbHNlO1xudmFyIGRpZFdhcm5TaGFkeURPTSA9IGZhbHNlO1xudmFyIGRpZFdhcm5TY3JpcHRUYWdzID0gZmFsc2U7XG52YXIgREFOR0VST1VTTFlfU0VUX0lOTkVSX0hUTUwgPSAnZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwnO1xudmFyIFNVUFBSRVNTX0NPTlRFTlRfRURJVEFCTEVfV0FSTklORyA9ICdzdXBwcmVzc0NvbnRlbnRFZGl0YWJsZVdhcm5pbmcnO1xudmFyIFNVUFBSRVNTX0hZRFJBVElPTl9XQVJOSU5HJDEgPSAnc3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nJztcbnZhciBBVVRPRk9DVVMgPSAnYXV0b0ZvY3VzJztcbnZhciBDSElMRFJFTiA9ICdjaGlsZHJlbic7XG52YXIgU1RZTEUkMSA9ICdzdHlsZSc7XG52YXIgSFRNTCA9ICdfX2h0bWwnO1xudmFyIExJU1RFTkVSUyA9ICdsaXN0ZW5lcnMnO1xudmFyIEhUTUxfTkFNRVNQQUNFID0gTmFtZXNwYWNlcy5odG1sO1xudmFyIHdhcm5lZFVua25vd25UYWdzO1xudmFyIHN1cHByZXNzSHlkcmF0aW9uV2FybmluZztcbnZhciB2YWxpZGF0ZVByb3BlcnRpZXNJbkRldmVsb3BtZW50O1xudmFyIHdhcm5Gb3JUZXh0RGlmZmVyZW5jZTtcbnZhciB3YXJuRm9yUHJvcERpZmZlcmVuY2U7XG52YXIgd2FybkZvckV4dHJhQXR0cmlidXRlcztcbnZhciB3YXJuRm9ySW52YWxpZEV2ZW50TGlzdGVuZXI7XG52YXIgY2FuRGlmZlN0eWxlRm9ySHlkcmF0aW9uV2FybmluZztcbnZhciBub3JtYWxpemVNYXJrdXBGb3JUZXh0T3JBdHRyaWJ1dGU7XG52YXIgbm9ybWFsaXplSFRNTDtcblxue1xuICB3YXJuZWRVbmtub3duVGFncyA9IHtcbiAgICAvLyBDaHJvbWUgaXMgdGhlIG9ubHkgbWFqb3IgYnJvd3NlciBub3Qgc2hpcHBpbmcgPHRpbWU+LiBCdXQgYXMgb2YgSnVseVxuICAgIC8vIDIwMTcgaXQgaW50ZW5kcyB0byBzaGlwIGl0IGR1ZSB0byB3aWRlc3ByZWFkIHVzYWdlLiBXZSBpbnRlbnRpb25hbGx5XG4gICAgLy8gKmRvbid0KiB3YXJuIGZvciA8dGltZT4gZXZlbiBpZiBpdCdzIHVucmVjb2duaXplZCBieSBDaHJvbWUgYmVjYXVzZVxuICAgIC8vIGl0IHNvb24gd2lsbCBiZSwgYW5kIG1hbnkgYXBwcyBoYXZlIGJlZW4gdXNpbmcgaXQgYW55d2F5LlxuICAgIHRpbWU6IHRydWUsXG4gICAgLy8gVGhlcmUgYXJlIHdvcmtpbmcgcG9seWZpbGxzIGZvciA8ZGlhbG9nPi4gTGV0IHBlb3BsZSB1c2UgaXQuXG4gICAgZGlhbG9nOiB0cnVlLFxuICAgIC8vIEVsZWN0cm9uIHNoaXBzIGEgY3VzdG9tIDx3ZWJ2aWV3PiB0YWcgdG8gZGlzcGxheSBleHRlcm5hbCB3ZWIgY29udGVudCBpblxuICAgIC8vIGFuIGlzb2xhdGVkIGZyYW1lIGFuZCBwcm9jZXNzLlxuICAgIC8vIFRoaXMgdGFnIGlzIG5vdCBwcmVzZW50IGluIG5vbiBFbGVjdHJvbiBlbnZpcm9ubWVudHMgc3VjaCBhcyBKU0RvbSB3aGljaFxuICAgIC8vIGlzIG9mdGVuIHVzZWQgZm9yIHRlc3RpbmcgcHVycG9zZXMuXG4gICAgLy8gQHNlZSBodHRwczovL2VsZWN0cm9uanMub3JnL2RvY3MvYXBpL3dlYnZpZXctdGFnXG4gICAgd2VidmlldzogdHJ1ZVxuICB9O1xuXG4gIHZhbGlkYXRlUHJvcGVydGllc0luRGV2ZWxvcG1lbnQgPSBmdW5jdGlvbiAodHlwZSwgcHJvcHMpIHtcbiAgICB2YWxpZGF0ZVByb3BlcnRpZXModHlwZSwgcHJvcHMpO1xuICAgIHZhbGlkYXRlUHJvcGVydGllcyQxKHR5cGUsIHByb3BzKTtcbiAgICB2YWxpZGF0ZVByb3BlcnRpZXMkMih0eXBlLCBwcm9wcyxcbiAgICAvKiBjYW5Vc2VFdmVudFN5c3RlbSAqL1xuICAgIHRydWUpO1xuICB9OyAvLyBJRSAxMSBwYXJzZXMgJiBub3JtYWxpemVzIHRoZSBzdHlsZSBhdHRyaWJ1dGUgYXMgb3Bwb3NlZCB0byBvdGhlclxuICAvLyBicm93c2Vycy4gSXQgYWRkcyBzcGFjZXMgYW5kIHNvcnRzIHRoZSBwcm9wZXJ0aWVzIGluIHNvbWVcbiAgLy8gbm9uLWFscGhhYmV0aWNhbCBvcmRlci4gSGFuZGxpbmcgdGhhdCB3b3VsZCByZXF1aXJlIHNvcnRpbmcgQ1NTXG4gIC8vIHByb3BlcnRpZXMgaW4gdGhlIGNsaWVudCAmIHNlcnZlciB2ZXJzaW9ucyBvciBhcHBseWluZ1xuICAvLyBgZXhwZWN0ZWRTdHlsZWAgdG8gYSB0ZW1wb3JhcnkgRE9NIG5vZGUgdG8gcmVhZCBpdHMgYHN0eWxlYCBhdHRyaWJ1dGVcbiAgLy8gbm9ybWFsaXplZC4gU2luY2UgaXQgb25seSBhZmZlY3RzIElFLCB3ZSdyZSBza2lwcGluZyBzdHlsZSB3YXJuaW5nc1xuICAvLyBpbiB0aGF0IGJyb3dzZXIgY29tcGxldGVseSBpbiBmYXZvciBvZiBkb2luZyBhbGwgdGhhdCB3b3JrLlxuICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2lzc3Vlcy8xMTgwN1xuXG5cbiAgY2FuRGlmZlN0eWxlRm9ySHlkcmF0aW9uV2FybmluZyA9IGNhblVzZURPTSAmJiAhZG9jdW1lbnQuZG9jdW1lbnRNb2RlOyAvLyBIVE1MIHBhcnNpbmcgbm9ybWFsaXplcyBDUiBhbmQgQ1JMRiB0byBMRi5cbiAgLy8gSXQgYWxzbyBjYW4gdHVybiBcXHUwMDAwIGludG8gXFx1RkZGRCBpbnNpZGUgYXR0cmlidXRlcy5cbiAgLy8gaHR0cHM6Ly93d3cudzMub3JnL1RSL2h0bWw1L3NpbmdsZS1wYWdlLmh0bWwjcHJlcHJvY2Vzc2luZy10aGUtaW5wdXQtc3RyZWFtXG4gIC8vIElmIHdlIGhhdmUgYSBtaXNtYXRjaCwgaXQgbWlnaHQgYmUgY2F1c2VkIGJ5IHRoYXQuXG4gIC8vIFdlIHdpbGwgc3RpbGwgcGF0Y2ggdXAgaW4gdGhpcyBjYXNlIGJ1dCBub3QgZmlyZSB0aGUgd2FybmluZy5cblxuICB2YXIgTk9STUFMSVpFX05FV0xJTkVTX1JFR0VYID0gL1xcclxcbj8vZztcbiAgdmFyIE5PUk1BTElaRV9OVUxMX0FORF9SRVBMQUNFTUVOVF9SRUdFWCA9IC9cXHUwMDAwfFxcdUZGRkQvZztcblxuICBub3JtYWxpemVNYXJrdXBGb3JUZXh0T3JBdHRyaWJ1dGUgPSBmdW5jdGlvbiAobWFya3VwKSB7XG4gICAgdmFyIG1hcmt1cFN0cmluZyA9IHR5cGVvZiBtYXJrdXAgPT09ICdzdHJpbmcnID8gbWFya3VwIDogJycgKyBtYXJrdXA7XG4gICAgcmV0dXJuIG1hcmt1cFN0cmluZy5yZXBsYWNlKE5PUk1BTElaRV9ORVdMSU5FU19SRUdFWCwgJ1xcbicpLnJlcGxhY2UoTk9STUFMSVpFX05VTExfQU5EX1JFUExBQ0VNRU5UX1JFR0VYLCAnJyk7XG4gIH07XG5cbiAgd2FybkZvclRleHREaWZmZXJlbmNlID0gZnVuY3Rpb24gKHNlcnZlclRleHQsIGNsaWVudFRleHQpIHtcbiAgICBpZiAoZGlkV2FybkludmFsaWRIeWRyYXRpb24pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgbm9ybWFsaXplZENsaWVudFRleHQgPSBub3JtYWxpemVNYXJrdXBGb3JUZXh0T3JBdHRyaWJ1dGUoY2xpZW50VGV4dCk7XG4gICAgdmFyIG5vcm1hbGl6ZWRTZXJ2ZXJUZXh0ID0gbm9ybWFsaXplTWFya3VwRm9yVGV4dE9yQXR0cmlidXRlKHNlcnZlclRleHQpO1xuXG4gICAgaWYgKG5vcm1hbGl6ZWRTZXJ2ZXJUZXh0ID09PSBub3JtYWxpemVkQ2xpZW50VGV4dCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGRpZFdhcm5JbnZhbGlkSHlkcmF0aW9uID0gdHJ1ZTtcbiAgICB3YXJuaW5nV2l0aG91dFN0YWNrJDEoZmFsc2UsICdUZXh0IGNvbnRlbnQgZGlkIG5vdCBtYXRjaC4gU2VydmVyOiBcIiVzXCIgQ2xpZW50OiBcIiVzXCInLCBub3JtYWxpemVkU2VydmVyVGV4dCwgbm9ybWFsaXplZENsaWVudFRleHQpO1xuICB9O1xuXG4gIHdhcm5Gb3JQcm9wRGlmZmVyZW5jZSA9IGZ1bmN0aW9uIChwcm9wTmFtZSwgc2VydmVyVmFsdWUsIGNsaWVudFZhbHVlKSB7XG4gICAgaWYgKGRpZFdhcm5JbnZhbGlkSHlkcmF0aW9uKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIG5vcm1hbGl6ZWRDbGllbnRWYWx1ZSA9IG5vcm1hbGl6ZU1hcmt1cEZvclRleHRPckF0dHJpYnV0ZShjbGllbnRWYWx1ZSk7XG4gICAgdmFyIG5vcm1hbGl6ZWRTZXJ2ZXJWYWx1ZSA9IG5vcm1hbGl6ZU1hcmt1cEZvclRleHRPckF0dHJpYnV0ZShzZXJ2ZXJWYWx1ZSk7XG5cbiAgICBpZiAobm9ybWFsaXplZFNlcnZlclZhbHVlID09PSBub3JtYWxpemVkQ2xpZW50VmFsdWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBkaWRXYXJuSW52YWxpZEh5ZHJhdGlvbiA9IHRydWU7XG4gICAgd2FybmluZ1dpdGhvdXRTdGFjayQxKGZhbHNlLCAnUHJvcCBgJXNgIGRpZCBub3QgbWF0Y2guIFNlcnZlcjogJXMgQ2xpZW50OiAlcycsIHByb3BOYW1lLCBKU09OLnN0cmluZ2lmeShub3JtYWxpemVkU2VydmVyVmFsdWUpLCBKU09OLnN0cmluZ2lmeShub3JtYWxpemVkQ2xpZW50VmFsdWUpKTtcbiAgfTtcblxuICB3YXJuRm9yRXh0cmFBdHRyaWJ1dGVzID0gZnVuY3Rpb24gKGF0dHJpYnV0ZU5hbWVzKSB7XG4gICAgaWYgKGRpZFdhcm5JbnZhbGlkSHlkcmF0aW9uKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZGlkV2FybkludmFsaWRIeWRyYXRpb24gPSB0cnVlO1xuICAgIHZhciBuYW1lcyA9IFtdO1xuICAgIGF0dHJpYnV0ZU5hbWVzLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgIG5hbWVzLnB1c2gobmFtZSk7XG4gICAgfSk7XG4gICAgd2FybmluZ1dpdGhvdXRTdGFjayQxKGZhbHNlLCAnRXh0cmEgYXR0cmlidXRlcyBmcm9tIHRoZSBzZXJ2ZXI6ICVzJywgbmFtZXMpO1xuICB9O1xuXG4gIHdhcm5Gb3JJbnZhbGlkRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uIChyZWdpc3RyYXRpb25OYW1lLCBsaXN0ZW5lcikge1xuICAgIGlmIChsaXN0ZW5lciA9PT0gZmFsc2UpIHtcbiAgICAgIHdhcm5pbmckMShmYWxzZSwgJ0V4cGVjdGVkIGAlc2AgbGlzdGVuZXIgdG8gYmUgYSBmdW5jdGlvbiwgaW5zdGVhZCBnb3QgYGZhbHNlYC5cXG5cXG4nICsgJ0lmIHlvdSB1c2VkIHRvIGNvbmRpdGlvbmFsbHkgb21pdCBpdCB3aXRoICVzPXtjb25kaXRpb24gJiYgdmFsdWV9LCAnICsgJ3Bhc3MgJXM9e2NvbmRpdGlvbiA/IHZhbHVlIDogdW5kZWZpbmVkfSBpbnN0ZWFkLicsIHJlZ2lzdHJhdGlvbk5hbWUsIHJlZ2lzdHJhdGlvbk5hbWUsIHJlZ2lzdHJhdGlvbk5hbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB3YXJuaW5nJDEoZmFsc2UsICdFeHBlY3RlZCBgJXNgIGxpc3RlbmVyIHRvIGJlIGEgZnVuY3Rpb24sIGluc3RlYWQgZ290IGEgdmFsdWUgb2YgYCVzYCB0eXBlLicsIHJlZ2lzdHJhdGlvbk5hbWUsIHR5cGVvZiBsaXN0ZW5lcik7XG4gICAgfVxuICB9OyAvLyBQYXJzZSB0aGUgSFRNTCBhbmQgcmVhZCBpdCBiYWNrIHRvIG5vcm1hbGl6ZSB0aGUgSFRNTCBzdHJpbmcgc28gdGhhdCBpdFxuICAvLyBjYW4gYmUgdXNlZCBmb3IgY29tcGFyaXNvbi5cblxuXG4gIG5vcm1hbGl6ZUhUTUwgPSBmdW5jdGlvbiAocGFyZW50LCBodG1sKSB7XG4gICAgLy8gV2UgY291bGQgaGF2ZSBjcmVhdGVkIGEgc2VwYXJhdGUgZG9jdW1lbnQgaGVyZSB0byBhdm9pZFxuICAgIC8vIHJlLWluaXRpYWxpemluZyBjdXN0b20gZWxlbWVudHMgaWYgdGhleSBleGlzdC4gQnV0IHRoaXMgYnJlYWtzXG4gICAgLy8gaG93IDxub3NjcmlwdD4gaXMgYmVpbmcgaGFuZGxlZC4gU28gd2UgdXNlIHRoZSBzYW1lIGRvY3VtZW50LlxuICAgIC8vIFNlZSB0aGUgZGlzY3Vzc2lvbiBpbiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvcHVsbC8xMTE1Ny5cbiAgICB2YXIgdGVzdEVsZW1lbnQgPSBwYXJlbnQubmFtZXNwYWNlVVJJID09PSBIVE1MX05BTUVTUEFDRSA/IHBhcmVudC5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQocGFyZW50LnRhZ05hbWUpIDogcGFyZW50Lm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHBhcmVudC5uYW1lc3BhY2VVUkksIHBhcmVudC50YWdOYW1lKTtcbiAgICB0ZXN0RWxlbWVudC5pbm5lckhUTUwgPSBodG1sO1xuICAgIHJldHVybiB0ZXN0RWxlbWVudC5pbm5lckhUTUw7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGVuc3VyZUxpc3RlbmluZ1RvKHJvb3RDb250YWluZXJFbGVtZW50LCByZWdpc3RyYXRpb25OYW1lKSB7XG4gIHZhciBpc0RvY3VtZW50T3JGcmFnbWVudCA9IHJvb3RDb250YWluZXJFbGVtZW50Lm5vZGVUeXBlID09PSBET0NVTUVOVF9OT0RFIHx8IHJvb3RDb250YWluZXJFbGVtZW50Lm5vZGVUeXBlID09PSBET0NVTUVOVF9GUkFHTUVOVF9OT0RFO1xuICB2YXIgZG9jID0gaXNEb2N1bWVudE9yRnJhZ21lbnQgPyByb290Q29udGFpbmVyRWxlbWVudCA6IHJvb3RDb250YWluZXJFbGVtZW50Lm93bmVyRG9jdW1lbnQ7XG4gIGxpc3RlblRvKHJlZ2lzdHJhdGlvbk5hbWUsIGRvYyk7XG59XG5cbmZ1bmN0aW9uIGdldE93bmVyRG9jdW1lbnRGcm9tUm9vdENvbnRhaW5lcihyb290Q29udGFpbmVyRWxlbWVudCkge1xuICByZXR1cm4gcm9vdENvbnRhaW5lckVsZW1lbnQubm9kZVR5cGUgPT09IERPQ1VNRU5UX05PREUgPyByb290Q29udGFpbmVyRWxlbWVudCA6IHJvb3RDb250YWluZXJFbGVtZW50Lm93bmVyRG9jdW1lbnQ7XG59XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5mdW5jdGlvbiB0cmFwQ2xpY2tPbk5vbkludGVyYWN0aXZlRWxlbWVudChub2RlKSB7XG4gIC8vIE1vYmlsZSBTYWZhcmkgZG9lcyBub3QgZmlyZSBwcm9wZXJseSBidWJibGUgY2xpY2sgZXZlbnRzIG9uXG4gIC8vIG5vbi1pbnRlcmFjdGl2ZSBlbGVtZW50cywgd2hpY2ggbWVhbnMgZGVsZWdhdGVkIGNsaWNrIGxpc3RlbmVycyBkbyBub3RcbiAgLy8gZmlyZS4gVGhlIHdvcmthcm91bmQgZm9yIHRoaXMgYnVnIGludm9sdmVzIGF0dGFjaGluZyBhbiBlbXB0eSBjbGlja1xuICAvLyBsaXN0ZW5lciBvbiB0aGUgdGFyZ2V0IG5vZGUuXG4gIC8vIGh0dHA6Ly93d3cucXVpcmtzbW9kZS5vcmcvYmxvZy9hcmNoaXZlcy8yMDEwLzA5L2NsaWNrX2V2ZW50X2RlbC5odG1sXG4gIC8vIEp1c3Qgc2V0IGl0IHVzaW5nIHRoZSBvbmNsaWNrIHByb3BlcnR5IHNvIHRoYXQgd2UgZG9uJ3QgaGF2ZSB0byBtYW5hZ2UgYW55XG4gIC8vIGJvb2trZWVwaW5nIGZvciBpdC4gTm90IHN1cmUgaWYgd2UgbmVlZCB0byBjbGVhciBpdCB3aGVuIHRoZSBsaXN0ZW5lciBpc1xuICAvLyByZW1vdmVkLlxuICAvLyBUT0RPOiBPbmx5IGRvIHRoaXMgZm9yIHRoZSByZWxldmFudCBTYWZhcmlzIG1heWJlP1xuICBub2RlLm9uY2xpY2sgPSBub29wO1xufVxuXG5mdW5jdGlvbiBzZXRJbml0aWFsRE9NUHJvcGVydGllcyh0YWcsIGRvbUVsZW1lbnQsIHJvb3RDb250YWluZXJFbGVtZW50LCBuZXh0UHJvcHMsIGlzQ3VzdG9tQ29tcG9uZW50VGFnKSB7XG4gIGZvciAodmFyIHByb3BLZXkgaW4gbmV4dFByb3BzKSB7XG4gICAgaWYgKCFuZXh0UHJvcHMuaGFzT3duUHJvcGVydHkocHJvcEtleSkpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIHZhciBuZXh0UHJvcCA9IG5leHRQcm9wc1twcm9wS2V5XTtcblxuICAgIGlmIChwcm9wS2V5ID09PSBTVFlMRSQxKSB7XG4gICAgICB7XG4gICAgICAgIGlmIChuZXh0UHJvcCkge1xuICAgICAgICAgIC8vIEZyZWV6ZSB0aGUgbmV4dCBzdHlsZSBvYmplY3Qgc28gdGhhdCB3ZSBjYW4gYXNzdW1lIGl0IHdvbid0IGJlXG4gICAgICAgICAgLy8gbXV0YXRlZC4gV2UgaGF2ZSBhbHJlYWR5IHdhcm5lZCBmb3IgdGhpcyBpbiB0aGUgcGFzdC5cbiAgICAgICAgICBPYmplY3QuZnJlZXplKG5leHRQcm9wKTtcbiAgICAgICAgfVxuICAgICAgfSAvLyBSZWxpZXMgb24gYHVwZGF0ZVN0eWxlc0J5SURgIG5vdCBtdXRhdGluZyBgc3R5bGVVcGRhdGVzYC5cblxuXG4gICAgICBzZXRWYWx1ZUZvclN0eWxlcyhkb21FbGVtZW50LCBuZXh0UHJvcCk7XG4gICAgfSBlbHNlIGlmIChwcm9wS2V5ID09PSBEQU5HRVJPVVNMWV9TRVRfSU5ORVJfSFRNTCkge1xuICAgICAgdmFyIG5leHRIdG1sID0gbmV4dFByb3AgPyBuZXh0UHJvcFtIVE1MXSA6IHVuZGVmaW5lZDtcblxuICAgICAgaWYgKG5leHRIdG1sICE9IG51bGwpIHtcbiAgICAgICAgc2V0SW5uZXJIVE1MKGRvbUVsZW1lbnQsIG5leHRIdG1sKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHByb3BLZXkgPT09IENISUxEUkVOKSB7XG4gICAgICBpZiAodHlwZW9mIG5leHRQcm9wID09PSAnc3RyaW5nJykge1xuICAgICAgICAvLyBBdm9pZCBzZXR0aW5nIGluaXRpYWwgdGV4dENvbnRlbnQgd2hlbiB0aGUgdGV4dCBpcyBlbXB0eS4gSW4gSUUxMSBzZXR0aW5nXG4gICAgICAgIC8vIHRleHRDb250ZW50IG9uIGEgPHRleHRhcmVhPiB3aWxsIGNhdXNlIHRoZSBwbGFjZWhvbGRlciB0byBub3RcbiAgICAgICAgLy8gc2hvdyB3aXRoaW4gdGhlIDx0ZXh0YXJlYT4gdW50aWwgaXQgaGFzIGJlZW4gZm9jdXNlZCBhbmQgYmx1cnJlZCBhZ2Fpbi5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2lzc3Vlcy82NzMxI2lzc3VlY29tbWVudC0yNTQ4NzQ1NTNcbiAgICAgICAgdmFyIGNhblNldFRleHRDb250ZW50ID0gdGFnICE9PSAndGV4dGFyZWEnIHx8IG5leHRQcm9wICE9PSAnJztcblxuICAgICAgICBpZiAoY2FuU2V0VGV4dENvbnRlbnQpIHtcbiAgICAgICAgICBzZXRUZXh0Q29udGVudChkb21FbGVtZW50LCBuZXh0UHJvcCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG5leHRQcm9wID09PSAnbnVtYmVyJykge1xuICAgICAgICBzZXRUZXh0Q29udGVudChkb21FbGVtZW50LCAnJyArIG5leHRQcm9wKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGVuYWJsZUZsYXJlQVBJICYmIHByb3BLZXkgPT09IExJU1RFTkVSUyB8fCBwcm9wS2V5ID09PSBTVVBQUkVTU19DT05URU5UX0VESVRBQkxFX1dBUk5JTkcgfHwgcHJvcEtleSA9PT0gU1VQUFJFU1NfSFlEUkFUSU9OX1dBUk5JTkckMSkgey8vIE5vb3BcbiAgICB9IGVsc2UgaWYgKHByb3BLZXkgPT09IEFVVE9GT0NVUykgey8vIFdlIHBvbHlmaWxsIGl0IHNlcGFyYXRlbHkgb24gdGhlIGNsaWVudCBkdXJpbmcgY29tbWl0LlxuICAgICAgLy8gV2UgY291bGQgaGF2ZSBleGNsdWRlZCBpdCBpbiB0aGUgcHJvcGVydHkgbGlzdCBpbnN0ZWFkIG9mXG4gICAgICAvLyBhZGRpbmcgYSBzcGVjaWFsIGNhc2UgaGVyZSwgYnV0IHRoZW4gaXQgd291bGRuJ3QgYmUgZW1pdHRlZFxuICAgICAgLy8gb24gc2VydmVyIHJlbmRlcmluZyAoYnV0IHdlICpkbyogd2FudCB0byBlbWl0IGl0IGluIFNTUikuXG4gICAgfSBlbHNlIGlmIChyZWdpc3RyYXRpb25OYW1lTW9kdWxlcy5oYXNPd25Qcm9wZXJ0eShwcm9wS2V5KSkge1xuICAgICAgaWYgKG5leHRQcm9wICE9IG51bGwpIHtcbiAgICAgICAgaWYgKHRydWUgJiYgdHlwZW9mIG5leHRQcm9wICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgd2FybkZvckludmFsaWRFdmVudExpc3RlbmVyKHByb3BLZXksIG5leHRQcm9wKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVuc3VyZUxpc3RlbmluZ1RvKHJvb3RDb250YWluZXJFbGVtZW50LCBwcm9wS2V5KTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG5leHRQcm9wICE9IG51bGwpIHtcbiAgICAgIHNldFZhbHVlRm9yUHJvcGVydHkoZG9tRWxlbWVudCwgcHJvcEtleSwgbmV4dFByb3AsIGlzQ3VzdG9tQ29tcG9uZW50VGFnKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlRE9NUHJvcGVydGllcyhkb21FbGVtZW50LCB1cGRhdGVQYXlsb2FkLCB3YXNDdXN0b21Db21wb25lbnRUYWcsIGlzQ3VzdG9tQ29tcG9uZW50VGFnKSB7XG4gIC8vIFRPRE86IEhhbmRsZSB3YXNDdXN0b21Db21wb25lbnRUYWdcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB1cGRhdGVQYXlsb2FkLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgdmFyIHByb3BLZXkgPSB1cGRhdGVQYXlsb2FkW2ldO1xuICAgIHZhciBwcm9wVmFsdWUgPSB1cGRhdGVQYXlsb2FkW2kgKyAxXTtcblxuICAgIGlmIChwcm9wS2V5ID09PSBTVFlMRSQxKSB7XG4gICAgICBzZXRWYWx1ZUZvclN0eWxlcyhkb21FbGVtZW50LCBwcm9wVmFsdWUpO1xuICAgIH0gZWxzZSBpZiAocHJvcEtleSA9PT0gREFOR0VST1VTTFlfU0VUX0lOTkVSX0hUTUwpIHtcbiAgICAgIHNldElubmVySFRNTChkb21FbGVtZW50LCBwcm9wVmFsdWUpO1xuICAgIH0gZWxzZSBpZiAocHJvcEtleSA9PT0gQ0hJTERSRU4pIHtcbiAgICAgIHNldFRleHRDb250ZW50KGRvbUVsZW1lbnQsIHByb3BWYWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldFZhbHVlRm9yUHJvcGVydHkoZG9tRWxlbWVudCwgcHJvcEtleSwgcHJvcFZhbHVlLCBpc0N1c3RvbUNvbXBvbmVudFRhZyk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnQodHlwZSwgcHJvcHMsIHJvb3RDb250YWluZXJFbGVtZW50LCBwYXJlbnROYW1lc3BhY2UpIHtcbiAgdmFyIGlzQ3VzdG9tQ29tcG9uZW50VGFnOyAvLyBXZSBjcmVhdGUgdGFncyBpbiB0aGUgbmFtZXNwYWNlIG9mIHRoZWlyIHBhcmVudCBjb250YWluZXIsIGV4Y2VwdCBIVE1MXG4gIC8vIHRhZ3MgZ2V0IG5vIG5hbWVzcGFjZS5cblxuICB2YXIgb3duZXJEb2N1bWVudCA9IGdldE93bmVyRG9jdW1lbnRGcm9tUm9vdENvbnRhaW5lcihyb290Q29udGFpbmVyRWxlbWVudCk7XG4gIHZhciBkb21FbGVtZW50O1xuICB2YXIgbmFtZXNwYWNlVVJJID0gcGFyZW50TmFtZXNwYWNlO1xuXG4gIGlmIChuYW1lc3BhY2VVUkkgPT09IEhUTUxfTkFNRVNQQUNFKSB7XG4gICAgbmFtZXNwYWNlVVJJID0gZ2V0SW50cmluc2ljTmFtZXNwYWNlKHR5cGUpO1xuICB9XG5cbiAgaWYgKG5hbWVzcGFjZVVSSSA9PT0gSFRNTF9OQU1FU1BBQ0UpIHtcbiAgICB7XG4gICAgICBpc0N1c3RvbUNvbXBvbmVudFRhZyA9IGlzQ3VzdG9tQ29tcG9uZW50KHR5cGUsIHByb3BzKTsgLy8gU2hvdWxkIHRoaXMgY2hlY2sgYmUgZ2F0ZWQgYnkgcGFyZW50IG5hbWVzcGFjZT8gTm90IHN1cmUgd2Ugd2FudCB0b1xuICAgICAgLy8gYWxsb3cgPFNWRz4gb3IgPG1BVEg+LlxuXG4gICAgICAhKGlzQ3VzdG9tQ29tcG9uZW50VGFnIHx8IHR5cGUgPT09IHR5cGUudG9Mb3dlckNhc2UoKSkgPyB3YXJuaW5nJDEoZmFsc2UsICc8JXMgLz4gaXMgdXNpbmcgaW5jb3JyZWN0IGNhc2luZy4gJyArICdVc2UgUGFzY2FsQ2FzZSBmb3IgUmVhY3QgY29tcG9uZW50cywgJyArICdvciBsb3dlcmNhc2UgZm9yIEhUTUwgZWxlbWVudHMuJywgdHlwZSkgOiB2b2lkIDA7XG4gICAgfVxuXG4gICAgaWYgKHR5cGUgPT09ICdzY3JpcHQnKSB7XG4gICAgICAvLyBDcmVhdGUgdGhlIHNjcmlwdCB2aWEgLmlubmVySFRNTCBzbyBpdHMgXCJwYXJzZXItaW5zZXJ0ZWRcIiBmbGFnIGlzXG4gICAgICAvLyBzZXQgdG8gdHJ1ZSBhbmQgaXQgZG9lcyBub3QgZXhlY3V0ZVxuICAgICAgdmFyIGRpdiA9IG93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICAgIHtcbiAgICAgICAgaWYgKGVuYWJsZVRydXN0ZWRUeXBlc0ludGVncmF0aW9uICYmICFkaWRXYXJuU2NyaXB0VGFncykge1xuICAgICAgICAgIHdhcm5pbmckMShmYWxzZSwgJ0VuY291bnRlcmVkIGEgc2NyaXB0IHRhZyB3aGlsZSByZW5kZXJpbmcgUmVhY3QgY29tcG9uZW50LiAnICsgJ1NjcmlwdHMgaW5zaWRlIFJlYWN0IGNvbXBvbmVudHMgYXJlIG5ldmVyIGV4ZWN1dGVkIHdoZW4gcmVuZGVyaW5nICcgKyAnb24gdGhlIGNsaWVudC4gQ29uc2lkZXIgdXNpbmcgdGVtcGxhdGUgdGFnIGluc3RlYWQgJyArICcoaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSFRNTC9FbGVtZW50L3RlbXBsYXRlKS4nKTtcbiAgICAgICAgICBkaWRXYXJuU2NyaXB0VGFncyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZGl2LmlubmVySFRNTCA9ICc8c2NyaXB0PjwnICsgJy9zY3JpcHQ+JzsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgICAgLy8gVGhpcyBpcyBndWFyYW50ZWVkIHRvIHlpZWxkIGEgc2NyaXB0IGVsZW1lbnQuXG5cbiAgICAgIHZhciBmaXJzdENoaWxkID0gZGl2LmZpcnN0Q2hpbGQ7XG4gICAgICBkb21FbGVtZW50ID0gZGl2LnJlbW92ZUNoaWxkKGZpcnN0Q2hpbGQpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHByb3BzLmlzID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gJEZsb3dJc3N1ZSBgY3JlYXRlRWxlbWVudGAgc2hvdWxkIGJlIHVwZGF0ZWQgZm9yIFdlYiBDb21wb25lbnRzXG4gICAgICBkb21FbGVtZW50ID0gb3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KHR5cGUsIHtcbiAgICAgICAgaXM6IHByb3BzLmlzXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gU2VwYXJhdGUgZWxzZSBicmFuY2ggaW5zdGVhZCBvZiB1c2luZyBgcHJvcHMuaXMgfHwgdW5kZWZpbmVkYCBhYm92ZSBiZWNhdXNlIG9mIGEgRmlyZWZveCBidWcuXG4gICAgICAvLyBTZWUgZGlzY3Vzc2lvbiBpbiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvcHVsbC82ODk2XG4gICAgICAvLyBhbmQgZGlzY3Vzc2lvbiBpbiBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD0xMjc2MjQwXG4gICAgICBkb21FbGVtZW50ID0gb3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KHR5cGUpOyAvLyBOb3JtYWxseSBhdHRyaWJ1dGVzIGFyZSBhc3NpZ25lZCBpbiBgc2V0SW5pdGlhbERPTVByb3BlcnRpZXNgLCBob3dldmVyIHRoZSBgbXVsdGlwbGVgIGFuZCBgc2l6ZWBcbiAgICAgIC8vIGF0dHJpYnV0ZXMgb24gYHNlbGVjdGBzIG5lZWRzIHRvIGJlIGFkZGVkIGJlZm9yZSBgb3B0aW9uYHMgYXJlIGluc2VydGVkLlxuICAgICAgLy8gVGhpcyBwcmV2ZW50czpcbiAgICAgIC8vIC0gYSBidWcgd2hlcmUgdGhlIGBzZWxlY3RgIGRvZXMgbm90IHNjcm9sbCB0byB0aGUgY29ycmVjdCBvcHRpb24gYmVjYXVzZSBzaW5ndWxhclxuICAgICAgLy8gIGBzZWxlY3RgIGVsZW1lbnRzIGF1dG9tYXRpY2FsbHkgcGljayB0aGUgZmlyc3QgaXRlbSAjMTMyMjJcbiAgICAgIC8vIC0gYSBidWcgd2hlcmUgdGhlIGBzZWxlY3RgIHNldCB0aGUgZmlyc3QgaXRlbSBhcyBzZWxlY3RlZCBkZXNwaXRlIHRoZSBgc2l6ZWAgYXR0cmlidXRlICMxNDIzOVxuICAgICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvMTMyMjJcbiAgICAgIC8vIGFuZCBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvaXNzdWVzLzE0MjM5XG5cbiAgICAgIGlmICh0eXBlID09PSAnc2VsZWN0Jykge1xuICAgICAgICB2YXIgbm9kZSA9IGRvbUVsZW1lbnQ7XG5cbiAgICAgICAgaWYgKHByb3BzLm11bHRpcGxlKSB7XG4gICAgICAgICAgbm9kZS5tdWx0aXBsZSA9IHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAocHJvcHMuc2l6ZSkge1xuICAgICAgICAgIC8vIFNldHRpbmcgYSBzaXplIGdyZWF0ZXIgdGhhbiAxIGNhdXNlcyBhIHNlbGVjdCB0byBiZWhhdmUgbGlrZSBgbXVsdGlwbGU9dHJ1ZWAsIHdoZXJlXG4gICAgICAgICAgLy8gaXQgaXMgcG9zc2libGUgdGhhdCBubyBvcHRpb24gaXMgc2VsZWN0ZWQuXG4gICAgICAgICAgLy9cbiAgICAgICAgICAvLyBUaGlzIGlzIG9ubHkgbmVjZXNzYXJ5IHdoZW4gYSBzZWxlY3QgaW4gXCJzaW5nbGUgc2VsZWN0aW9uIG1vZGVcIi5cbiAgICAgICAgICBub2RlLnNpemUgPSBwcm9wcy5zaXplO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGRvbUVsZW1lbnQgPSBvd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhuYW1lc3BhY2VVUkksIHR5cGUpO1xuICB9XG5cbiAge1xuICAgIGlmIChuYW1lc3BhY2VVUkkgPT09IEhUTUxfTkFNRVNQQUNFKSB7XG4gICAgICBpZiAoIWlzQ3VzdG9tQ29tcG9uZW50VGFnICYmIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChkb21FbGVtZW50KSA9PT0gJ1tvYmplY3QgSFRNTFVua25vd25FbGVtZW50XScgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh3YXJuZWRVbmtub3duVGFncywgdHlwZSkpIHtcbiAgICAgICAgd2FybmVkVW5rbm93blRhZ3NbdHlwZV0gPSB0cnVlO1xuICAgICAgICB3YXJuaW5nJDEoZmFsc2UsICdUaGUgdGFnIDwlcz4gaXMgdW5yZWNvZ25pemVkIGluIHRoaXMgYnJvd3Nlci4gJyArICdJZiB5b3UgbWVhbnQgdG8gcmVuZGVyIGEgUmVhY3QgY29tcG9uZW50LCBzdGFydCBpdHMgbmFtZSB3aXRoICcgKyAnYW4gdXBwZXJjYXNlIGxldHRlci4nLCB0eXBlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gZG9tRWxlbWVudDtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVRleHROb2RlKHRleHQsIHJvb3RDb250YWluZXJFbGVtZW50KSB7XG4gIHJldHVybiBnZXRPd25lckRvY3VtZW50RnJvbVJvb3RDb250YWluZXIocm9vdENvbnRhaW5lckVsZW1lbnQpLmNyZWF0ZVRleHROb2RlKHRleHQpO1xufVxuZnVuY3Rpb24gc2V0SW5pdGlhbFByb3BlcnRpZXMoZG9tRWxlbWVudCwgdGFnLCByYXdQcm9wcywgcm9vdENvbnRhaW5lckVsZW1lbnQpIHtcbiAgdmFyIGlzQ3VzdG9tQ29tcG9uZW50VGFnID0gaXNDdXN0b21Db21wb25lbnQodGFnLCByYXdQcm9wcyk7XG5cbiAge1xuICAgIHZhbGlkYXRlUHJvcGVydGllc0luRGV2ZWxvcG1lbnQodGFnLCByYXdQcm9wcyk7XG5cbiAgICBpZiAoaXNDdXN0b21Db21wb25lbnRUYWcgJiYgIWRpZFdhcm5TaGFkeURPTSAmJiBkb21FbGVtZW50LnNoYWR5Um9vdCkge1xuICAgICAgd2FybmluZyQxKGZhbHNlLCAnJXMgaXMgdXNpbmcgc2hhZHkgRE9NLiBVc2luZyBzaGFkeSBET00gd2l0aCBSZWFjdCBjYW4gJyArICdjYXVzZSB0aGluZ3MgdG8gYnJlYWsgc3VidGx5LicsIGdldEN1cnJlbnRGaWJlck93bmVyTmFtZUluRGV2T3JOdWxsKCkgfHwgJ0EgY29tcG9uZW50Jyk7XG4gICAgICBkaWRXYXJuU2hhZHlET00gPSB0cnVlO1xuICAgIH1cbiAgfSAvLyBUT0RPOiBNYWtlIHN1cmUgdGhhdCB3ZSBjaGVjayBpc01vdW50ZWQgYmVmb3JlIGZpcmluZyBhbnkgb2YgdGhlc2UgZXZlbnRzLlxuXG5cbiAgdmFyIHByb3BzO1xuXG4gIHN3aXRjaCAodGFnKSB7XG4gICAgY2FzZSAnaWZyYW1lJzpcbiAgICBjYXNlICdvYmplY3QnOlxuICAgIGNhc2UgJ2VtYmVkJzpcbiAgICAgIHRyYXBCdWJibGVkRXZlbnQoVE9QX0xPQUQsIGRvbUVsZW1lbnQpO1xuICAgICAgcHJvcHMgPSByYXdQcm9wcztcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAndmlkZW8nOlxuICAgIGNhc2UgJ2F1ZGlvJzpcbiAgICAgIC8vIENyZWF0ZSBsaXN0ZW5lciBmb3IgZWFjaCBtZWRpYSBldmVudFxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtZWRpYUV2ZW50VHlwZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdHJhcEJ1YmJsZWRFdmVudChtZWRpYUV2ZW50VHlwZXNbaV0sIGRvbUVsZW1lbnQpO1xuICAgICAgfVxuXG4gICAgICBwcm9wcyA9IHJhd1Byb3BzO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdzb3VyY2UnOlxuICAgICAgdHJhcEJ1YmJsZWRFdmVudChUT1BfRVJST1IsIGRvbUVsZW1lbnQpO1xuICAgICAgcHJvcHMgPSByYXdQcm9wcztcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnaW1nJzpcbiAgICBjYXNlICdpbWFnZSc6XG4gICAgY2FzZSAnbGluayc6XG4gICAgICB0cmFwQnViYmxlZEV2ZW50KFRPUF9FUlJPUiwgZG9tRWxlbWVudCk7XG4gICAgICB0cmFwQnViYmxlZEV2ZW50KFRPUF9MT0FELCBkb21FbGVtZW50KTtcbiAgICAgIHByb3BzID0gcmF3UHJvcHM7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ2Zvcm0nOlxuICAgICAgdHJhcEJ1YmJsZWRFdmVudChUT1BfUkVTRVQsIGRvbUVsZW1lbnQpO1xuICAgICAgdHJhcEJ1YmJsZWRFdmVudChUT1BfU1VCTUlULCBkb21FbGVtZW50KTtcbiAgICAgIHByb3BzID0gcmF3UHJvcHM7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ2RldGFpbHMnOlxuICAgICAgdHJhcEJ1YmJsZWRFdmVudChUT1BfVE9HR0xFLCBkb21FbGVtZW50KTtcbiAgICAgIHByb3BzID0gcmF3UHJvcHM7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ2lucHV0JzpcbiAgICAgIGluaXRXcmFwcGVyU3RhdGUoZG9tRWxlbWVudCwgcmF3UHJvcHMpO1xuICAgICAgcHJvcHMgPSBnZXRIb3N0UHJvcHMoZG9tRWxlbWVudCwgcmF3UHJvcHMpO1xuICAgICAgdHJhcEJ1YmJsZWRFdmVudChUT1BfSU5WQUxJRCwgZG9tRWxlbWVudCk7IC8vIEZvciBjb250cm9sbGVkIGNvbXBvbmVudHMgd2UgYWx3YXlzIG5lZWQgdG8gZW5zdXJlIHdlJ3JlIGxpc3RlbmluZ1xuICAgICAgLy8gdG8gb25DaGFuZ2UuIEV2ZW4gaWYgdGhlcmUgaXMgbm8gbGlzdGVuZXIuXG5cbiAgICAgIGVuc3VyZUxpc3RlbmluZ1RvKHJvb3RDb250YWluZXJFbGVtZW50LCAnb25DaGFuZ2UnKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnb3B0aW9uJzpcbiAgICAgIHZhbGlkYXRlUHJvcHMoZG9tRWxlbWVudCwgcmF3UHJvcHMpO1xuICAgICAgcHJvcHMgPSBnZXRIb3N0UHJvcHMkMShkb21FbGVtZW50LCByYXdQcm9wcyk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ3NlbGVjdCc6XG4gICAgICBpbml0V3JhcHBlclN0YXRlJDEoZG9tRWxlbWVudCwgcmF3UHJvcHMpO1xuICAgICAgcHJvcHMgPSBnZXRIb3N0UHJvcHMkMihkb21FbGVtZW50LCByYXdQcm9wcyk7XG4gICAgICB0cmFwQnViYmxlZEV2ZW50KFRPUF9JTlZBTElELCBkb21FbGVtZW50KTsgLy8gRm9yIGNvbnRyb2xsZWQgY29tcG9uZW50cyB3ZSBhbHdheXMgbmVlZCB0byBlbnN1cmUgd2UncmUgbGlzdGVuaW5nXG4gICAgICAvLyB0byBvbkNoYW5nZS4gRXZlbiBpZiB0aGVyZSBpcyBubyBsaXN0ZW5lci5cblxuICAgICAgZW5zdXJlTGlzdGVuaW5nVG8ocm9vdENvbnRhaW5lckVsZW1lbnQsICdvbkNoYW5nZScpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICd0ZXh0YXJlYSc6XG4gICAgICBpbml0V3JhcHBlclN0YXRlJDIoZG9tRWxlbWVudCwgcmF3UHJvcHMpO1xuICAgICAgcHJvcHMgPSBnZXRIb3N0UHJvcHMkMyhkb21FbGVtZW50LCByYXdQcm9wcyk7XG4gICAgICB0cmFwQnViYmxlZEV2ZW50KFRPUF9JTlZBTElELCBkb21FbGVtZW50KTsgLy8gRm9yIGNvbnRyb2xsZWQgY29tcG9uZW50cyB3ZSBhbHdheXMgbmVlZCB0byBlbnN1cmUgd2UncmUgbGlzdGVuaW5nXG4gICAgICAvLyB0byBvbkNoYW5nZS4gRXZlbiBpZiB0aGVyZSBpcyBubyBsaXN0ZW5lci5cblxuICAgICAgZW5zdXJlTGlzdGVuaW5nVG8ocm9vdENvbnRhaW5lckVsZW1lbnQsICdvbkNoYW5nZScpO1xuICAgICAgYnJlYWs7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcHJvcHMgPSByYXdQcm9wcztcbiAgfVxuXG4gIGFzc2VydFZhbGlkUHJvcHModGFnLCBwcm9wcyk7XG4gIHNldEluaXRpYWxET01Qcm9wZXJ0aWVzKHRhZywgZG9tRWxlbWVudCwgcm9vdENvbnRhaW5lckVsZW1lbnQsIHByb3BzLCBpc0N1c3RvbUNvbXBvbmVudFRhZyk7XG5cbiAgc3dpdGNoICh0YWcpIHtcbiAgICBjYXNlICdpbnB1dCc6XG4gICAgICAvLyBUT0RPOiBNYWtlIHN1cmUgd2UgY2hlY2sgaWYgdGhpcyBpcyBzdGlsbCB1bm1vdW50ZWQgb3IgZG8gYW55IGNsZWFuXG4gICAgICAvLyB1cCBuZWNlc3Nhcnkgc2luY2Ugd2UgbmV2ZXIgc3RvcCB0cmFja2luZyBhbnltb3JlLlxuICAgICAgdHJhY2soZG9tRWxlbWVudCk7XG4gICAgICBwb3N0TW91bnRXcmFwcGVyKGRvbUVsZW1lbnQsIHJhd1Byb3BzLCBmYWxzZSk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ3RleHRhcmVhJzpcbiAgICAgIC8vIFRPRE86IE1ha2Ugc3VyZSB3ZSBjaGVjayBpZiB0aGlzIGlzIHN0aWxsIHVubW91bnRlZCBvciBkbyBhbnkgY2xlYW5cbiAgICAgIC8vIHVwIG5lY2Vzc2FyeSBzaW5jZSB3ZSBuZXZlciBzdG9wIHRyYWNraW5nIGFueW1vcmUuXG4gICAgICB0cmFjayhkb21FbGVtZW50KTtcbiAgICAgIHBvc3RNb3VudFdyYXBwZXIkMyhkb21FbGVtZW50LCByYXdQcm9wcyk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ29wdGlvbic6XG4gICAgICBwb3N0TW91bnRXcmFwcGVyJDEoZG9tRWxlbWVudCwgcmF3UHJvcHMpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdzZWxlY3QnOlxuICAgICAgcG9zdE1vdW50V3JhcHBlciQyKGRvbUVsZW1lbnQsIHJhd1Byb3BzKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIGlmICh0eXBlb2YgcHJvcHMub25DbGljayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBUT0RPOiBUaGlzIGNhc3QgbWF5IG5vdCBiZSBzb3VuZCBmb3IgU1ZHLCBNYXRoTUwgb3IgY3VzdG9tIGVsZW1lbnRzLlxuICAgICAgICB0cmFwQ2xpY2tPbk5vbkludGVyYWN0aXZlRWxlbWVudChkb21FbGVtZW50KTtcbiAgICAgIH1cblxuICAgICAgYnJlYWs7XG4gIH1cbn0gLy8gQ2FsY3VsYXRlIHRoZSBkaWZmIGJldHdlZW4gdGhlIHR3byBvYmplY3RzLlxuXG5mdW5jdGlvbiBkaWZmUHJvcGVydGllcyhkb21FbGVtZW50LCB0YWcsIGxhc3RSYXdQcm9wcywgbmV4dFJhd1Byb3BzLCByb290Q29udGFpbmVyRWxlbWVudCkge1xuICB7XG4gICAgdmFsaWRhdGVQcm9wZXJ0aWVzSW5EZXZlbG9wbWVudCh0YWcsIG5leHRSYXdQcm9wcyk7XG4gIH1cblxuICB2YXIgdXBkYXRlUGF5bG9hZCA9IG51bGw7XG4gIHZhciBsYXN0UHJvcHM7XG4gIHZhciBuZXh0UHJvcHM7XG5cbiAgc3dpdGNoICh0YWcpIHtcbiAgICBjYXNlICdpbnB1dCc6XG4gICAgICBsYXN0UHJvcHMgPSBnZXRIb3N0UHJvcHMoZG9tRWxlbWVudCwgbGFzdFJhd1Byb3BzKTtcbiAgICAgIG5leHRQcm9wcyA9IGdldEhvc3RQcm9wcyhkb21FbGVtZW50LCBuZXh0UmF3UHJvcHMpO1xuICAgICAgdXBkYXRlUGF5bG9hZCA9IFtdO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdvcHRpb24nOlxuICAgICAgbGFzdFByb3BzID0gZ2V0SG9zdFByb3BzJDEoZG9tRWxlbWVudCwgbGFzdFJhd1Byb3BzKTtcbiAgICAgIG5leHRQcm9wcyA9IGdldEhvc3RQcm9wcyQxKGRvbUVsZW1lbnQsIG5leHRSYXdQcm9wcyk7XG4gICAgICB1cGRhdGVQYXlsb2FkID0gW107XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ3NlbGVjdCc6XG4gICAgICBsYXN0UHJvcHMgPSBnZXRIb3N0UHJvcHMkMihkb21FbGVtZW50LCBsYXN0UmF3UHJvcHMpO1xuICAgICAgbmV4dFByb3BzID0gZ2V0SG9zdFByb3BzJDIoZG9tRWxlbWVudCwgbmV4dFJhd1Byb3BzKTtcbiAgICAgIHVwZGF0ZVBheWxvYWQgPSBbXTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAndGV4dGFyZWEnOlxuICAgICAgbGFzdFByb3BzID0gZ2V0SG9zdFByb3BzJDMoZG9tRWxlbWVudCwgbGFzdFJhd1Byb3BzKTtcbiAgICAgIG5leHRQcm9wcyA9IGdldEhvc3RQcm9wcyQzKGRvbUVsZW1lbnQsIG5leHRSYXdQcm9wcyk7XG4gICAgICB1cGRhdGVQYXlsb2FkID0gW107XG4gICAgICBicmVhaztcblxuICAgIGRlZmF1bHQ6XG4gICAgICBsYXN0UHJvcHMgPSBsYXN0UmF3UHJvcHM7XG4gICAgICBuZXh0UHJvcHMgPSBuZXh0UmF3UHJvcHM7XG5cbiAgICAgIGlmICh0eXBlb2YgbGFzdFByb3BzLm9uQ2xpY2sgIT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIG5leHRQcm9wcy5vbkNsaWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIC8vIFRPRE86IFRoaXMgY2FzdCBtYXkgbm90IGJlIHNvdW5kIGZvciBTVkcsIE1hdGhNTCBvciBjdXN0b20gZWxlbWVudHMuXG4gICAgICAgIHRyYXBDbGlja09uTm9uSW50ZXJhY3RpdmVFbGVtZW50KGRvbUVsZW1lbnQpO1xuICAgICAgfVxuXG4gICAgICBicmVhaztcbiAgfVxuXG4gIGFzc2VydFZhbGlkUHJvcHModGFnLCBuZXh0UHJvcHMpO1xuICB2YXIgcHJvcEtleTtcbiAgdmFyIHN0eWxlTmFtZTtcbiAgdmFyIHN0eWxlVXBkYXRlcyA9IG51bGw7XG5cbiAgZm9yIChwcm9wS2V5IGluIGxhc3RQcm9wcykge1xuICAgIGlmIChuZXh0UHJvcHMuaGFzT3duUHJvcGVydHkocHJvcEtleSkgfHwgIWxhc3RQcm9wcy5oYXNPd25Qcm9wZXJ0eShwcm9wS2V5KSB8fCBsYXN0UHJvcHNbcHJvcEtleV0gPT0gbnVsbCkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKHByb3BLZXkgPT09IFNUWUxFJDEpIHtcbiAgICAgIHZhciBsYXN0U3R5bGUgPSBsYXN0UHJvcHNbcHJvcEtleV07XG5cbiAgICAgIGZvciAoc3R5bGVOYW1lIGluIGxhc3RTdHlsZSkge1xuICAgICAgICBpZiAobGFzdFN0eWxlLmhhc093blByb3BlcnR5KHN0eWxlTmFtZSkpIHtcbiAgICAgICAgICBpZiAoIXN0eWxlVXBkYXRlcykge1xuICAgICAgICAgICAgc3R5bGVVcGRhdGVzID0ge307XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc3R5bGVVcGRhdGVzW3N0eWxlTmFtZV0gPSAnJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAocHJvcEtleSA9PT0gREFOR0VST1VTTFlfU0VUX0lOTkVSX0hUTUwgfHwgcHJvcEtleSA9PT0gQ0hJTERSRU4pIHsvLyBOb29wLiBUaGlzIGlzIGhhbmRsZWQgYnkgdGhlIGNsZWFyIHRleHQgbWVjaGFuaXNtLlxuICAgIH0gZWxzZSBpZiAoZW5hYmxlRmxhcmVBUEkgJiYgcHJvcEtleSA9PT0gTElTVEVORVJTIHx8IHByb3BLZXkgPT09IFNVUFBSRVNTX0NPTlRFTlRfRURJVEFCTEVfV0FSTklORyB8fCBwcm9wS2V5ID09PSBTVVBQUkVTU19IWURSQVRJT05fV0FSTklORyQxKSB7Ly8gTm9vcFxuICAgIH0gZWxzZSBpZiAocHJvcEtleSA9PT0gQVVUT0ZPQ1VTKSB7Ly8gTm9vcC4gSXQgZG9lc24ndCB3b3JrIG9uIHVwZGF0ZXMgYW55d2F5LlxuICAgIH0gZWxzZSBpZiAocmVnaXN0cmF0aW9uTmFtZU1vZHVsZXMuaGFzT3duUHJvcGVydHkocHJvcEtleSkpIHtcbiAgICAgIC8vIFRoaXMgaXMgYSBzcGVjaWFsIGNhc2UuIElmIGFueSBsaXN0ZW5lciB1cGRhdGVzIHdlIG5lZWQgdG8gZW5zdXJlXG4gICAgICAvLyB0aGF0IHRoZSBcImN1cnJlbnRcIiBmaWJlciBwb2ludGVyIGdldHMgdXBkYXRlZCBzbyB3ZSBuZWVkIGEgY29tbWl0XG4gICAgICAvLyB0byB1cGRhdGUgdGhpcyBlbGVtZW50LlxuICAgICAgaWYgKCF1cGRhdGVQYXlsb2FkKSB7XG4gICAgICAgIHVwZGF0ZVBheWxvYWQgPSBbXTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRm9yIGFsbCBvdGhlciBkZWxldGVkIHByb3BlcnRpZXMgd2UgYWRkIGl0IHRvIHRoZSBxdWV1ZS4gV2UgdXNlXG4gICAgICAvLyB0aGUgd2hpdGVsaXN0IGluIHRoZSBjb21taXQgcGhhc2UgaW5zdGVhZC5cbiAgICAgICh1cGRhdGVQYXlsb2FkID0gdXBkYXRlUGF5bG9hZCB8fCBbXSkucHVzaChwcm9wS2V5LCBudWxsKTtcbiAgICB9XG4gIH1cblxuICBmb3IgKHByb3BLZXkgaW4gbmV4dFByb3BzKSB7XG4gICAgdmFyIG5leHRQcm9wID0gbmV4dFByb3BzW3Byb3BLZXldO1xuICAgIHZhciBsYXN0UHJvcCA9IGxhc3RQcm9wcyAhPSBudWxsID8gbGFzdFByb3BzW3Byb3BLZXldIDogdW5kZWZpbmVkO1xuXG4gICAgaWYgKCFuZXh0UHJvcHMuaGFzT3duUHJvcGVydHkocHJvcEtleSkgfHwgbmV4dFByb3AgPT09IGxhc3RQcm9wIHx8IG5leHRQcm9wID09IG51bGwgJiYgbGFzdFByb3AgPT0gbnVsbCkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKHByb3BLZXkgPT09IFNUWUxFJDEpIHtcbiAgICAgIHtcbiAgICAgICAgaWYgKG5leHRQcm9wKSB7XG4gICAgICAgICAgLy8gRnJlZXplIHRoZSBuZXh0IHN0eWxlIG9iamVjdCBzbyB0aGF0IHdlIGNhbiBhc3N1bWUgaXQgd29uJ3QgYmVcbiAgICAgICAgICAvLyBtdXRhdGVkLiBXZSBoYXZlIGFscmVhZHkgd2FybmVkIGZvciB0aGlzIGluIHRoZSBwYXN0LlxuICAgICAgICAgIE9iamVjdC5mcmVlemUobmV4dFByb3ApO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChsYXN0UHJvcCkge1xuICAgICAgICAvLyBVbnNldCBzdHlsZXMgb24gYGxhc3RQcm9wYCBidXQgbm90IG9uIGBuZXh0UHJvcGAuXG4gICAgICAgIGZvciAoc3R5bGVOYW1lIGluIGxhc3RQcm9wKSB7XG4gICAgICAgICAgaWYgKGxhc3RQcm9wLmhhc093blByb3BlcnR5KHN0eWxlTmFtZSkgJiYgKCFuZXh0UHJvcCB8fCAhbmV4dFByb3AuaGFzT3duUHJvcGVydHkoc3R5bGVOYW1lKSkpIHtcbiAgICAgICAgICAgIGlmICghc3R5bGVVcGRhdGVzKSB7XG4gICAgICAgICAgICAgIHN0eWxlVXBkYXRlcyA9IHt9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzdHlsZVVwZGF0ZXNbc3R5bGVOYW1lXSA9ICcnO1xuICAgICAgICAgIH1cbiAgICAgICAgfSAvLyBVcGRhdGUgc3R5bGVzIHRoYXQgY2hhbmdlZCBzaW5jZSBgbGFzdFByb3BgLlxuXG5cbiAgICAgICAgZm9yIChzdHlsZU5hbWUgaW4gbmV4dFByb3ApIHtcbiAgICAgICAgICBpZiAobmV4dFByb3AuaGFzT3duUHJvcGVydHkoc3R5bGVOYW1lKSAmJiBsYXN0UHJvcFtzdHlsZU5hbWVdICE9PSBuZXh0UHJvcFtzdHlsZU5hbWVdKSB7XG4gICAgICAgICAgICBpZiAoIXN0eWxlVXBkYXRlcykge1xuICAgICAgICAgICAgICBzdHlsZVVwZGF0ZXMgPSB7fTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc3R5bGVVcGRhdGVzW3N0eWxlTmFtZV0gPSBuZXh0UHJvcFtzdHlsZU5hbWVdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gUmVsaWVzIG9uIGB1cGRhdGVTdHlsZXNCeUlEYCBub3QgbXV0YXRpbmcgYHN0eWxlVXBkYXRlc2AuXG4gICAgICAgIGlmICghc3R5bGVVcGRhdGVzKSB7XG4gICAgICAgICAgaWYgKCF1cGRhdGVQYXlsb2FkKSB7XG4gICAgICAgICAgICB1cGRhdGVQYXlsb2FkID0gW107XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdXBkYXRlUGF5bG9hZC5wdXNoKHByb3BLZXksIHN0eWxlVXBkYXRlcyk7XG4gICAgICAgIH1cblxuICAgICAgICBzdHlsZVVwZGF0ZXMgPSBuZXh0UHJvcDtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHByb3BLZXkgPT09IERBTkdFUk9VU0xZX1NFVF9JTk5FUl9IVE1MKSB7XG4gICAgICB2YXIgbmV4dEh0bWwgPSBuZXh0UHJvcCA/IG5leHRQcm9wW0hUTUxdIDogdW5kZWZpbmVkO1xuICAgICAgdmFyIGxhc3RIdG1sID0gbGFzdFByb3AgPyBsYXN0UHJvcFtIVE1MXSA6IHVuZGVmaW5lZDtcblxuICAgICAgaWYgKG5leHRIdG1sICE9IG51bGwpIHtcbiAgICAgICAgaWYgKGxhc3RIdG1sICE9PSBuZXh0SHRtbCkge1xuICAgICAgICAgICh1cGRhdGVQYXlsb2FkID0gdXBkYXRlUGF5bG9hZCB8fCBbXSkucHVzaChwcm9wS2V5LCB0b1N0cmluZ09yVHJ1c3RlZFR5cGUobmV4dEh0bWwpKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHsvLyBUT0RPOiBJdCBtaWdodCBiZSB0b28gbGF0ZSB0byBjbGVhciB0aGlzIGlmIHdlIGhhdmUgY2hpbGRyZW5cbiAgICAgICAgLy8gaW5zZXJ0ZWQgYWxyZWFkeS5cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHByb3BLZXkgPT09IENISUxEUkVOKSB7XG4gICAgICBpZiAobGFzdFByb3AgIT09IG5leHRQcm9wICYmICh0eXBlb2YgbmV4dFByb3AgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBuZXh0UHJvcCA9PT0gJ251bWJlcicpKSB7XG4gICAgICAgICh1cGRhdGVQYXlsb2FkID0gdXBkYXRlUGF5bG9hZCB8fCBbXSkucHVzaChwcm9wS2V5LCAnJyArIG5leHRQcm9wKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGVuYWJsZUZsYXJlQVBJICYmIHByb3BLZXkgPT09IExJU1RFTkVSUyB8fCBwcm9wS2V5ID09PSBTVVBQUkVTU19DT05URU5UX0VESVRBQkxFX1dBUk5JTkcgfHwgcHJvcEtleSA9PT0gU1VQUFJFU1NfSFlEUkFUSU9OX1dBUk5JTkckMSkgey8vIE5vb3BcbiAgICB9IGVsc2UgaWYgKHJlZ2lzdHJhdGlvbk5hbWVNb2R1bGVzLmhhc093blByb3BlcnR5KHByb3BLZXkpKSB7XG4gICAgICBpZiAobmV4dFByb3AgIT0gbnVsbCkge1xuICAgICAgICAvLyBXZSBlYWdlcmx5IGxpc3RlbiB0byB0aGlzIGV2ZW4gdGhvdWdoIHdlIGhhdmVuJ3QgY29tbWl0dGVkIHlldC5cbiAgICAgICAgaWYgKHRydWUgJiYgdHlwZW9mIG5leHRQcm9wICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgd2FybkZvckludmFsaWRFdmVudExpc3RlbmVyKHByb3BLZXksIG5leHRQcm9wKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVuc3VyZUxpc3RlbmluZ1RvKHJvb3RDb250YWluZXJFbGVtZW50LCBwcm9wS2V5KTtcbiAgICAgIH1cblxuICAgICAgaWYgKCF1cGRhdGVQYXlsb2FkICYmIGxhc3RQcm9wICE9PSBuZXh0UHJvcCkge1xuICAgICAgICAvLyBUaGlzIGlzIGEgc3BlY2lhbCBjYXNlLiBJZiBhbnkgbGlzdGVuZXIgdXBkYXRlcyB3ZSBuZWVkIHRvIGVuc3VyZVxuICAgICAgICAvLyB0aGF0IHRoZSBcImN1cnJlbnRcIiBwcm9wcyBwb2ludGVyIGdldHMgdXBkYXRlZCBzbyB3ZSBuZWVkIGEgY29tbWl0XG4gICAgICAgIC8vIHRvIHVwZGF0ZSB0aGlzIGVsZW1lbnQuXG4gICAgICAgIHVwZGF0ZVBheWxvYWQgPSBbXTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRm9yIGFueSBvdGhlciBwcm9wZXJ0eSB3ZSBhbHdheXMgYWRkIGl0IHRvIHRoZSBxdWV1ZSBhbmQgdGhlbiB3ZVxuICAgICAgLy8gZmlsdGVyIGl0IG91dCB1c2luZyB0aGUgd2hpdGVsaXN0IGR1cmluZyB0aGUgY29tbWl0LlxuICAgICAgKHVwZGF0ZVBheWxvYWQgPSB1cGRhdGVQYXlsb2FkIHx8IFtdKS5wdXNoKHByb3BLZXksIG5leHRQcm9wKTtcbiAgICB9XG4gIH1cblxuICBpZiAoc3R5bGVVcGRhdGVzKSB7XG4gICAge1xuICAgICAgdmFsaWRhdGVTaG9ydGhhbmRQcm9wZXJ0eUNvbGxpc2lvbkluRGV2KHN0eWxlVXBkYXRlcywgbmV4dFByb3BzW1NUWUxFJDFdKTtcbiAgICB9XG5cbiAgICAodXBkYXRlUGF5bG9hZCA9IHVwZGF0ZVBheWxvYWQgfHwgW10pLnB1c2goU1RZTEUkMSwgc3R5bGVVcGRhdGVzKTtcbiAgfVxuXG4gIHJldHVybiB1cGRhdGVQYXlsb2FkO1xufSAvLyBBcHBseSB0aGUgZGlmZi5cblxuZnVuY3Rpb24gdXBkYXRlUHJvcGVydGllcyhkb21FbGVtZW50LCB1cGRhdGVQYXlsb2FkLCB0YWcsIGxhc3RSYXdQcm9wcywgbmV4dFJhd1Byb3BzKSB7XG4gIC8vIFVwZGF0ZSBjaGVja2VkICpiZWZvcmUqIG5hbWUuXG4gIC8vIEluIHRoZSBtaWRkbGUgb2YgYW4gdXBkYXRlLCBpdCBpcyBwb3NzaWJsZSB0byBoYXZlIG11bHRpcGxlIGNoZWNrZWQuXG4gIC8vIFdoZW4gYSBjaGVja2VkIHJhZGlvIHRyaWVzIHRvIGNoYW5nZSBuYW1lLCBicm93c2VyIG1ha2VzIGFub3RoZXIgcmFkaW8ncyBjaGVja2VkIGZhbHNlLlxuICBpZiAodGFnID09PSAnaW5wdXQnICYmIG5leHRSYXdQcm9wcy50eXBlID09PSAncmFkaW8nICYmIG5leHRSYXdQcm9wcy5uYW1lICE9IG51bGwpIHtcbiAgICB1cGRhdGVDaGVja2VkKGRvbUVsZW1lbnQsIG5leHRSYXdQcm9wcyk7XG4gIH1cblxuICB2YXIgd2FzQ3VzdG9tQ29tcG9uZW50VGFnID0gaXNDdXN0b21Db21wb25lbnQodGFnLCBsYXN0UmF3UHJvcHMpO1xuICB2YXIgaXNDdXN0b21Db21wb25lbnRUYWcgPSBpc0N1c3RvbUNvbXBvbmVudCh0YWcsIG5leHRSYXdQcm9wcyk7IC8vIEFwcGx5IHRoZSBkaWZmLlxuXG4gIHVwZGF0ZURPTVByb3BlcnRpZXMoZG9tRWxlbWVudCwgdXBkYXRlUGF5bG9hZCwgd2FzQ3VzdG9tQ29tcG9uZW50VGFnLCBpc0N1c3RvbUNvbXBvbmVudFRhZyk7IC8vIFRPRE86IEVuc3VyZSB0aGF0IGFuIHVwZGF0ZSBnZXRzIHNjaGVkdWxlZCBpZiBhbnkgb2YgdGhlIHNwZWNpYWwgcHJvcHNcbiAgLy8gY2hhbmdlZC5cblxuICBzd2l0Y2ggKHRhZykge1xuICAgIGNhc2UgJ2lucHV0JzpcbiAgICAgIC8vIFVwZGF0ZSB0aGUgd3JhcHBlciBhcm91bmQgaW5wdXRzICphZnRlciogdXBkYXRpbmcgcHJvcHMuIFRoaXMgaGFzIHRvXG4gICAgICAvLyBoYXBwZW4gYWZ0ZXIgYHVwZGF0ZURPTVByb3BlcnRpZXNgLiBPdGhlcndpc2UgSFRNTDUgaW5wdXQgdmFsaWRhdGlvbnNcbiAgICAgIC8vIHJhaXNlIHdhcm5pbmdzIGFuZCBwcmV2ZW50IHRoZSBuZXcgdmFsdWUgZnJvbSBiZWluZyBhc3NpZ25lZC5cbiAgICAgIHVwZGF0ZVdyYXBwZXIoZG9tRWxlbWVudCwgbmV4dFJhd1Byb3BzKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAndGV4dGFyZWEnOlxuICAgICAgdXBkYXRlV3JhcHBlciQxKGRvbUVsZW1lbnQsIG5leHRSYXdQcm9wcyk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ3NlbGVjdCc6XG4gICAgICAvLyA8c2VsZWN0PiB2YWx1ZSB1cGRhdGUgbmVlZHMgdG8gb2NjdXIgYWZ0ZXIgPG9wdGlvbj4gY2hpbGRyZW5cbiAgICAgIC8vIHJlY29uY2lsaWF0aW9uXG4gICAgICBwb3N0VXBkYXRlV3JhcHBlcihkb21FbGVtZW50LCBuZXh0UmF3UHJvcHMpO1xuICAgICAgYnJlYWs7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0UG9zc2libGVTdGFuZGFyZE5hbWUocHJvcE5hbWUpIHtcbiAge1xuICAgIHZhciBsb3dlckNhc2VkTmFtZSA9IHByb3BOYW1lLnRvTG93ZXJDYXNlKCk7XG5cbiAgICBpZiAoIXBvc3NpYmxlU3RhbmRhcmROYW1lcy5oYXNPd25Qcm9wZXJ0eShsb3dlckNhc2VkTmFtZSkpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBwb3NzaWJsZVN0YW5kYXJkTmFtZXNbbG93ZXJDYXNlZE5hbWVdIHx8IG51bGw7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gZGlmZkh5ZHJhdGVkUHJvcGVydGllcyhkb21FbGVtZW50LCB0YWcsIHJhd1Byb3BzLCBwYXJlbnROYW1lc3BhY2UsIHJvb3RDb250YWluZXJFbGVtZW50KSB7XG4gIHZhciBpc0N1c3RvbUNvbXBvbmVudFRhZztcbiAgdmFyIGV4dHJhQXR0cmlidXRlTmFtZXM7XG5cbiAge1xuICAgIHN1cHByZXNzSHlkcmF0aW9uV2FybmluZyA9IHJhd1Byb3BzW1NVUFBSRVNTX0hZRFJBVElPTl9XQVJOSU5HJDFdID09PSB0cnVlO1xuICAgIGlzQ3VzdG9tQ29tcG9uZW50VGFnID0gaXNDdXN0b21Db21wb25lbnQodGFnLCByYXdQcm9wcyk7XG4gICAgdmFsaWRhdGVQcm9wZXJ0aWVzSW5EZXZlbG9wbWVudCh0YWcsIHJhd1Byb3BzKTtcblxuICAgIGlmIChpc0N1c3RvbUNvbXBvbmVudFRhZyAmJiAhZGlkV2FyblNoYWR5RE9NICYmIGRvbUVsZW1lbnQuc2hhZHlSb290KSB7XG4gICAgICB3YXJuaW5nJDEoZmFsc2UsICclcyBpcyB1c2luZyBzaGFkeSBET00uIFVzaW5nIHNoYWR5IERPTSB3aXRoIFJlYWN0IGNhbiAnICsgJ2NhdXNlIHRoaW5ncyB0byBicmVhayBzdWJ0bHkuJywgZ2V0Q3VycmVudEZpYmVyT3duZXJOYW1lSW5EZXZPck51bGwoKSB8fCAnQSBjb21wb25lbnQnKTtcbiAgICAgIGRpZFdhcm5TaGFkeURPTSA9IHRydWU7XG4gICAgfVxuICB9IC8vIFRPRE86IE1ha2Ugc3VyZSB0aGF0IHdlIGNoZWNrIGlzTW91bnRlZCBiZWZvcmUgZmlyaW5nIGFueSBvZiB0aGVzZSBldmVudHMuXG5cblxuICBzd2l0Y2ggKHRhZykge1xuICAgIGNhc2UgJ2lmcmFtZSc6XG4gICAgY2FzZSAnb2JqZWN0JzpcbiAgICBjYXNlICdlbWJlZCc6XG4gICAgICB0cmFwQnViYmxlZEV2ZW50KFRPUF9MT0FELCBkb21FbGVtZW50KTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAndmlkZW8nOlxuICAgIGNhc2UgJ2F1ZGlvJzpcbiAgICAgIC8vIENyZWF0ZSBsaXN0ZW5lciBmb3IgZWFjaCBtZWRpYSBldmVudFxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtZWRpYUV2ZW50VHlwZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdHJhcEJ1YmJsZWRFdmVudChtZWRpYUV2ZW50VHlwZXNbaV0sIGRvbUVsZW1lbnQpO1xuICAgICAgfVxuXG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ3NvdXJjZSc6XG4gICAgICB0cmFwQnViYmxlZEV2ZW50KFRPUF9FUlJPUiwgZG9tRWxlbWVudCk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ2ltZyc6XG4gICAgY2FzZSAnaW1hZ2UnOlxuICAgIGNhc2UgJ2xpbmsnOlxuICAgICAgdHJhcEJ1YmJsZWRFdmVudChUT1BfRVJST1IsIGRvbUVsZW1lbnQpO1xuICAgICAgdHJhcEJ1YmJsZWRFdmVudChUT1BfTE9BRCwgZG9tRWxlbWVudCk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ2Zvcm0nOlxuICAgICAgdHJhcEJ1YmJsZWRFdmVudChUT1BfUkVTRVQsIGRvbUVsZW1lbnQpO1xuICAgICAgdHJhcEJ1YmJsZWRFdmVudChUT1BfU1VCTUlULCBkb21FbGVtZW50KTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnZGV0YWlscyc6XG4gICAgICB0cmFwQnViYmxlZEV2ZW50KFRPUF9UT0dHTEUsIGRvbUVsZW1lbnQpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdpbnB1dCc6XG4gICAgICBpbml0V3JhcHBlclN0YXRlKGRvbUVsZW1lbnQsIHJhd1Byb3BzKTtcbiAgICAgIHRyYXBCdWJibGVkRXZlbnQoVE9QX0lOVkFMSUQsIGRvbUVsZW1lbnQpOyAvLyBGb3IgY29udHJvbGxlZCBjb21wb25lbnRzIHdlIGFsd2F5cyBuZWVkIHRvIGVuc3VyZSB3ZSdyZSBsaXN0ZW5pbmdcbiAgICAgIC8vIHRvIG9uQ2hhbmdlLiBFdmVuIGlmIHRoZXJlIGlzIG5vIGxpc3RlbmVyLlxuXG4gICAgICBlbnN1cmVMaXN0ZW5pbmdUbyhyb290Q29udGFpbmVyRWxlbWVudCwgJ29uQ2hhbmdlJyk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ29wdGlvbic6XG4gICAgICB2YWxpZGF0ZVByb3BzKGRvbUVsZW1lbnQsIHJhd1Byb3BzKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnc2VsZWN0JzpcbiAgICAgIGluaXRXcmFwcGVyU3RhdGUkMShkb21FbGVtZW50LCByYXdQcm9wcyk7XG4gICAgICB0cmFwQnViYmxlZEV2ZW50KFRPUF9JTlZBTElELCBkb21FbGVtZW50KTsgLy8gRm9yIGNvbnRyb2xsZWQgY29tcG9uZW50cyB3ZSBhbHdheXMgbmVlZCB0byBlbnN1cmUgd2UncmUgbGlzdGVuaW5nXG4gICAgICAvLyB0byBvbkNoYW5nZS4gRXZlbiBpZiB0aGVyZSBpcyBubyBsaXN0ZW5lci5cblxuICAgICAgZW5zdXJlTGlzdGVuaW5nVG8ocm9vdENvbnRhaW5lckVsZW1lbnQsICdvbkNoYW5nZScpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICd0ZXh0YXJlYSc6XG4gICAgICBpbml0V3JhcHBlclN0YXRlJDIoZG9tRWxlbWVudCwgcmF3UHJvcHMpO1xuICAgICAgdHJhcEJ1YmJsZWRFdmVudChUT1BfSU5WQUxJRCwgZG9tRWxlbWVudCk7IC8vIEZvciBjb250cm9sbGVkIGNvbXBvbmVudHMgd2UgYWx3YXlzIG5lZWQgdG8gZW5zdXJlIHdlJ3JlIGxpc3RlbmluZ1xuICAgICAgLy8gdG8gb25DaGFuZ2UuIEV2ZW4gaWYgdGhlcmUgaXMgbm8gbGlzdGVuZXIuXG5cbiAgICAgIGVuc3VyZUxpc3RlbmluZ1RvKHJvb3RDb250YWluZXJFbGVtZW50LCAnb25DaGFuZ2UnKTtcbiAgICAgIGJyZWFrO1xuICB9XG5cbiAgYXNzZXJ0VmFsaWRQcm9wcyh0YWcsIHJhd1Byb3BzKTtcblxuICB7XG4gICAgZXh0cmFBdHRyaWJ1dGVOYW1lcyA9IG5ldyBTZXQoKTtcbiAgICB2YXIgYXR0cmlidXRlcyA9IGRvbUVsZW1lbnQuYXR0cmlidXRlcztcblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhdHRyaWJ1dGVzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIG5hbWUgPSBhdHRyaWJ1dGVzW19pXS5uYW1lLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgIHN3aXRjaCAobmFtZSkge1xuICAgICAgICAvLyBCdWlsdC1pbiBTU1IgYXR0cmlidXRlIGlzIHdoaXRlbGlzdGVkXG4gICAgICAgIGNhc2UgJ2RhdGEtcmVhY3Ryb290JzpcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgLy8gQ29udHJvbGxlZCBhdHRyaWJ1dGVzIGFyZSBub3QgdmFsaWRhdGVkXG4gICAgICAgIC8vIFRPRE86IE9ubHkgaWdub3JlIHRoZW0gb24gY29udHJvbGxlZCB0YWdzLlxuXG4gICAgICAgIGNhc2UgJ3ZhbHVlJzpcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdjaGVja2VkJzpcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdzZWxlY3RlZCc6XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAvLyBJbnRlbnRpb25hbGx5IHVzZSB0aGUgb3JpZ2luYWwgbmFtZS5cbiAgICAgICAgICAvLyBTZWUgZGlzY3Vzc2lvbiBpbiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvcHVsbC8xMDY3Ni5cbiAgICAgICAgICBleHRyYUF0dHJpYnV0ZU5hbWVzLmFkZChhdHRyaWJ1dGVzW19pXS5uYW1lKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB2YXIgdXBkYXRlUGF5bG9hZCA9IG51bGw7XG5cbiAgZm9yICh2YXIgcHJvcEtleSBpbiByYXdQcm9wcykge1xuICAgIGlmICghcmF3UHJvcHMuaGFzT3duUHJvcGVydHkocHJvcEtleSkpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIHZhciBuZXh0UHJvcCA9IHJhd1Byb3BzW3Byb3BLZXldO1xuXG4gICAgaWYgKHByb3BLZXkgPT09IENISUxEUkVOKSB7XG4gICAgICAvLyBGb3IgdGV4dCBjb250ZW50IGNoaWxkcmVuIHdlIGNvbXBhcmUgYWdhaW5zdCB0ZXh0Q29udGVudC4gVGhpc1xuICAgICAgLy8gbWlnaHQgbWF0Y2ggYWRkaXRpb25hbCBIVE1MIHRoYXQgaXMgaGlkZGVuIHdoZW4gd2UgcmVhZCBpdCB1c2luZ1xuICAgICAgLy8gdGV4dENvbnRlbnQuIEUuZy4gXCJmb29cIiB3aWxsIG1hdGNoIFwiZjxzcGFuPm9vPC9zcGFuPlwiIGJ1dCB0aGF0IHN0aWxsXG4gICAgICAvLyBzYXRpc2ZpZXMgb3VyIHJlcXVpcmVtZW50LiBPdXIgcmVxdWlyZW1lbnQgaXMgbm90IHRvIHByb2R1Y2UgcGVyZmVjdFxuICAgICAgLy8gSFRNTCBhbmQgYXR0cmlidXRlcy4gSWRlYWxseSB3ZSBzaG91bGQgcHJlc2VydmUgc3RydWN0dXJlIGJ1dCBpdCdzXG4gICAgICAvLyBvayBub3QgdG8gaWYgdGhlIHZpc2libGUgY29udGVudCBpcyBzdGlsbCBlbm91Z2ggdG8gaW5kaWNhdGUgd2hhdFxuICAgICAgLy8gZXZlbiBsaXN0ZW5lcnMgdGhlc2Ugbm9kZXMgbWlnaHQgYmUgd2lyZWQgdXAgdG8uXG4gICAgICAvLyBUT0RPOiBXYXJuIGlmIHRoZXJlIGlzIG1vcmUgdGhhbiBhIHNpbmdsZSB0ZXh0Tm9kZSBhcyBhIGNoaWxkLlxuICAgICAgLy8gVE9ETzogU2hvdWxkIHdlIHVzZSBkb21FbGVtZW50LmZpcnN0Q2hpbGQubm9kZVZhbHVlIHRvIGNvbXBhcmU/XG4gICAgICBpZiAodHlwZW9mIG5leHRQcm9wID09PSAnc3RyaW5nJykge1xuICAgICAgICBpZiAoZG9tRWxlbWVudC50ZXh0Q29udGVudCAhPT0gbmV4dFByb3ApIHtcbiAgICAgICAgICBpZiAodHJ1ZSAmJiAhc3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nKSB7XG4gICAgICAgICAgICB3YXJuRm9yVGV4dERpZmZlcmVuY2UoZG9tRWxlbWVudC50ZXh0Q29udGVudCwgbmV4dFByb3ApO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHVwZGF0ZVBheWxvYWQgPSBbQ0hJTERSRU4sIG5leHRQcm9wXTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgbmV4dFByb3AgPT09ICdudW1iZXInKSB7XG4gICAgICAgIGlmIChkb21FbGVtZW50LnRleHRDb250ZW50ICE9PSAnJyArIG5leHRQcm9wKSB7XG4gICAgICAgICAgaWYgKHRydWUgJiYgIXN1cHByZXNzSHlkcmF0aW9uV2FybmluZykge1xuICAgICAgICAgICAgd2FybkZvclRleHREaWZmZXJlbmNlKGRvbUVsZW1lbnQudGV4dENvbnRlbnQsIG5leHRQcm9wKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB1cGRhdGVQYXlsb2FkID0gW0NISUxEUkVOLCAnJyArIG5leHRQcm9wXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAocmVnaXN0cmF0aW9uTmFtZU1vZHVsZXMuaGFzT3duUHJvcGVydHkocHJvcEtleSkpIHtcbiAgICAgIGlmIChuZXh0UHJvcCAhPSBudWxsKSB7XG4gICAgICAgIGlmICh0cnVlICYmIHR5cGVvZiBuZXh0UHJvcCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHdhcm5Gb3JJbnZhbGlkRXZlbnRMaXN0ZW5lcihwcm9wS2V5LCBuZXh0UHJvcCk7XG4gICAgICAgIH1cblxuICAgICAgICBlbnN1cmVMaXN0ZW5pbmdUbyhyb290Q29udGFpbmVyRWxlbWVudCwgcHJvcEtleSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0cnVlICYmIC8vIENvbnZpbmNlIEZsb3cgd2UndmUgY2FsY3VsYXRlZCBpdCAoaXQncyBERVYtb25seSBpbiB0aGlzIG1ldGhvZC4pXG4gICAgdHlwZW9mIGlzQ3VzdG9tQ29tcG9uZW50VGFnID09PSAnYm9vbGVhbicpIHtcbiAgICAgIC8vIFZhbGlkYXRlIHRoYXQgdGhlIHByb3BlcnRpZXMgY29ycmVzcG9uZCB0byB0aGVpciBleHBlY3RlZCB2YWx1ZXMuXG4gICAgICB2YXIgc2VydmVyVmFsdWUgPSB2b2lkIDA7XG4gICAgICB2YXIgcHJvcGVydHlJbmZvID0gZ2V0UHJvcGVydHlJbmZvKHByb3BLZXkpO1xuXG4gICAgICBpZiAoc3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nKSB7Ly8gRG9uJ3QgYm90aGVyIGNvbXBhcmluZy4gV2UncmUgaWdub3JpbmcgYWxsIHRoZXNlIHdhcm5pbmdzLlxuICAgICAgfSBlbHNlIGlmIChlbmFibGVGbGFyZUFQSSAmJiBwcm9wS2V5ID09PSBMSVNURU5FUlMgfHwgcHJvcEtleSA9PT0gU1VQUFJFU1NfQ09OVEVOVF9FRElUQUJMRV9XQVJOSU5HIHx8IHByb3BLZXkgPT09IFNVUFBSRVNTX0hZRFJBVElPTl9XQVJOSU5HJDEgfHwgLy8gQ29udHJvbGxlZCBhdHRyaWJ1dGVzIGFyZSBub3QgdmFsaWRhdGVkXG4gICAgICAvLyBUT0RPOiBPbmx5IGlnbm9yZSB0aGVtIG9uIGNvbnRyb2xsZWQgdGFncy5cbiAgICAgIHByb3BLZXkgPT09ICd2YWx1ZScgfHwgcHJvcEtleSA9PT0gJ2NoZWNrZWQnIHx8IHByb3BLZXkgPT09ICdzZWxlY3RlZCcpIHsvLyBOb29wXG4gICAgICB9IGVsc2UgaWYgKHByb3BLZXkgPT09IERBTkdFUk9VU0xZX1NFVF9JTk5FUl9IVE1MKSB7XG4gICAgICAgIHZhciBzZXJ2ZXJIVE1MID0gZG9tRWxlbWVudC5pbm5lckhUTUw7XG4gICAgICAgIHZhciBuZXh0SHRtbCA9IG5leHRQcm9wID8gbmV4dFByb3BbSFRNTF0gOiB1bmRlZmluZWQ7XG4gICAgICAgIHZhciBleHBlY3RlZEhUTUwgPSBub3JtYWxpemVIVE1MKGRvbUVsZW1lbnQsIG5leHRIdG1sICE9IG51bGwgPyBuZXh0SHRtbCA6ICcnKTtcblxuICAgICAgICBpZiAoZXhwZWN0ZWRIVE1MICE9PSBzZXJ2ZXJIVE1MKSB7XG4gICAgICAgICAgd2FybkZvclByb3BEaWZmZXJlbmNlKHByb3BLZXksIHNlcnZlckhUTUwsIGV4cGVjdGVkSFRNTCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAocHJvcEtleSA9PT0gU1RZTEUkMSkge1xuICAgICAgICAvLyAkRmxvd0ZpeE1lIC0gU2hvdWxkIGJlIGluZmVycmVkIGFzIG5vdCB1bmRlZmluZWQuXG4gICAgICAgIGV4dHJhQXR0cmlidXRlTmFtZXMuZGVsZXRlKHByb3BLZXkpO1xuXG4gICAgICAgIGlmIChjYW5EaWZmU3R5bGVGb3JIeWRyYXRpb25XYXJuaW5nKSB7XG4gICAgICAgICAgdmFyIGV4cGVjdGVkU3R5bGUgPSBjcmVhdGVEYW5nZXJvdXNTdHJpbmdGb3JTdHlsZXMobmV4dFByb3ApO1xuICAgICAgICAgIHNlcnZlclZhbHVlID0gZG9tRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3N0eWxlJyk7XG5cbiAgICAgICAgICBpZiAoZXhwZWN0ZWRTdHlsZSAhPT0gc2VydmVyVmFsdWUpIHtcbiAgICAgICAgICAgIHdhcm5Gb3JQcm9wRGlmZmVyZW5jZShwcm9wS2V5LCBzZXJ2ZXJWYWx1ZSwgZXhwZWN0ZWRTdHlsZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGlzQ3VzdG9tQ29tcG9uZW50VGFnKSB7XG4gICAgICAgIC8vICRGbG93Rml4TWUgLSBTaG91bGQgYmUgaW5mZXJyZWQgYXMgbm90IHVuZGVmaW5lZC5cbiAgICAgICAgZXh0cmFBdHRyaWJ1dGVOYW1lcy5kZWxldGUocHJvcEtleS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgc2VydmVyVmFsdWUgPSBnZXRWYWx1ZUZvckF0dHJpYnV0ZShkb21FbGVtZW50LCBwcm9wS2V5LCBuZXh0UHJvcCk7XG5cbiAgICAgICAgaWYgKG5leHRQcm9wICE9PSBzZXJ2ZXJWYWx1ZSkge1xuICAgICAgICAgIHdhcm5Gb3JQcm9wRGlmZmVyZW5jZShwcm9wS2V5LCBzZXJ2ZXJWYWx1ZSwgbmV4dFByb3ApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCFzaG91bGRJZ25vcmVBdHRyaWJ1dGUocHJvcEtleSwgcHJvcGVydHlJbmZvLCBpc0N1c3RvbUNvbXBvbmVudFRhZykgJiYgIXNob3VsZFJlbW92ZUF0dHJpYnV0ZShwcm9wS2V5LCBuZXh0UHJvcCwgcHJvcGVydHlJbmZvLCBpc0N1c3RvbUNvbXBvbmVudFRhZykpIHtcbiAgICAgICAgdmFyIGlzTWlzbWF0Y2hEdWVUb0JhZENhc2luZyA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChwcm9wZXJ0eUluZm8gIT09IG51bGwpIHtcbiAgICAgICAgICAvLyAkRmxvd0ZpeE1lIC0gU2hvdWxkIGJlIGluZmVycmVkIGFzIG5vdCB1bmRlZmluZWQuXG4gICAgICAgICAgZXh0cmFBdHRyaWJ1dGVOYW1lcy5kZWxldGUocHJvcGVydHlJbmZvLmF0dHJpYnV0ZU5hbWUpO1xuICAgICAgICAgIHNlcnZlclZhbHVlID0gZ2V0VmFsdWVGb3JQcm9wZXJ0eShkb21FbGVtZW50LCBwcm9wS2V5LCBuZXh0UHJvcCwgcHJvcGVydHlJbmZvKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgb3duTmFtZXNwYWNlID0gcGFyZW50TmFtZXNwYWNlO1xuXG4gICAgICAgICAgaWYgKG93bk5hbWVzcGFjZSA9PT0gSFRNTF9OQU1FU1BBQ0UpIHtcbiAgICAgICAgICAgIG93bk5hbWVzcGFjZSA9IGdldEludHJpbnNpY05hbWVzcGFjZSh0YWcpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChvd25OYW1lc3BhY2UgPT09IEhUTUxfTkFNRVNQQUNFKSB7XG4gICAgICAgICAgICAvLyAkRmxvd0ZpeE1lIC0gU2hvdWxkIGJlIGluZmVycmVkIGFzIG5vdCB1bmRlZmluZWQuXG4gICAgICAgICAgICBleHRyYUF0dHJpYnV0ZU5hbWVzLmRlbGV0ZShwcm9wS2V5LnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgc3RhbmRhcmROYW1lID0gZ2V0UG9zc2libGVTdGFuZGFyZE5hbWUocHJvcEtleSk7XG5cbiAgICAgICAgICAgIGlmIChzdGFuZGFyZE5hbWUgIT09IG51bGwgJiYgc3RhbmRhcmROYW1lICE9PSBwcm9wS2V5KSB7XG4gICAgICAgICAgICAgIC8vIElmIGFuIFNWRyBwcm9wIGlzIHN1cHBsaWVkIHdpdGggYmFkIGNhc2luZywgaXQgd2lsbFxuICAgICAgICAgICAgICAvLyBiZSBzdWNjZXNzZnVsbHkgcGFyc2VkIGZyb20gSFRNTCwgYnV0IHdpbGwgcHJvZHVjZSBhIG1pc21hdGNoXG4gICAgICAgICAgICAgIC8vIChhbmQgd291bGQgYmUgaW5jb3JyZWN0bHkgcmVuZGVyZWQgb24gdGhlIGNsaWVudCkuXG4gICAgICAgICAgICAgIC8vIEhvd2V2ZXIsIHdlIGFscmVhZHkgd2FybiBhYm91dCBiYWQgY2FzaW5nIGVsc2V3aGVyZS5cbiAgICAgICAgICAgICAgLy8gU28gd2UnbGwgc2tpcCB0aGUgbWlzbGVhZGluZyBleHRyYSBtaXNtYXRjaCB3YXJuaW5nIGluIHRoaXMgY2FzZS5cbiAgICAgICAgICAgICAgaXNNaXNtYXRjaER1ZVRvQmFkQ2FzaW5nID0gdHJ1ZTsgLy8gJEZsb3dGaXhNZSAtIFNob3VsZCBiZSBpbmZlcnJlZCBhcyBub3QgdW5kZWZpbmVkLlxuXG4gICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlTmFtZXMuZGVsZXRlKHN0YW5kYXJkTmFtZSk7XG4gICAgICAgICAgICB9IC8vICRGbG93Rml4TWUgLSBTaG91bGQgYmUgaW5mZXJyZWQgYXMgbm90IHVuZGVmaW5lZC5cblxuXG4gICAgICAgICAgICBleHRyYUF0dHJpYnV0ZU5hbWVzLmRlbGV0ZShwcm9wS2V5KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzZXJ2ZXJWYWx1ZSA9IGdldFZhbHVlRm9yQXR0cmlidXRlKGRvbUVsZW1lbnQsIHByb3BLZXksIG5leHRQcm9wKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChuZXh0UHJvcCAhPT0gc2VydmVyVmFsdWUgJiYgIWlzTWlzbWF0Y2hEdWVUb0JhZENhc2luZykge1xuICAgICAgICAgIHdhcm5Gb3JQcm9wRGlmZmVyZW5jZShwcm9wS2V5LCBzZXJ2ZXJWYWx1ZSwgbmV4dFByb3ApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAge1xuICAgIC8vICRGbG93Rml4TWUgLSBTaG91bGQgYmUgaW5mZXJyZWQgYXMgbm90IHVuZGVmaW5lZC5cbiAgICBpZiAoZXh0cmFBdHRyaWJ1dGVOYW1lcy5zaXplID4gMCAmJiAhc3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nKSB7XG4gICAgICAvLyAkRmxvd0ZpeE1lIC0gU2hvdWxkIGJlIGluZmVycmVkIGFzIG5vdCB1bmRlZmluZWQuXG4gICAgICB3YXJuRm9yRXh0cmFBdHRyaWJ1dGVzKGV4dHJhQXR0cmlidXRlTmFtZXMpO1xuICAgIH1cbiAgfVxuXG4gIHN3aXRjaCAodGFnKSB7XG4gICAgY2FzZSAnaW5wdXQnOlxuICAgICAgLy8gVE9ETzogTWFrZSBzdXJlIHdlIGNoZWNrIGlmIHRoaXMgaXMgc3RpbGwgdW5tb3VudGVkIG9yIGRvIGFueSBjbGVhblxuICAgICAgLy8gdXAgbmVjZXNzYXJ5IHNpbmNlIHdlIG5ldmVyIHN0b3AgdHJhY2tpbmcgYW55bW9yZS5cbiAgICAgIHRyYWNrKGRvbUVsZW1lbnQpO1xuICAgICAgcG9zdE1vdW50V3JhcHBlcihkb21FbGVtZW50LCByYXdQcm9wcywgdHJ1ZSk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ3RleHRhcmVhJzpcbiAgICAgIC8vIFRPRE86IE1ha2Ugc3VyZSB3ZSBjaGVjayBpZiB0aGlzIGlzIHN0aWxsIHVubW91bnRlZCBvciBkbyBhbnkgY2xlYW5cbiAgICAgIC8vIHVwIG5lY2Vzc2FyeSBzaW5jZSB3ZSBuZXZlciBzdG9wIHRyYWNraW5nIGFueW1vcmUuXG4gICAgICB0cmFjayhkb21FbGVtZW50KTtcbiAgICAgIHBvc3RNb3VudFdyYXBwZXIkMyhkb21FbGVtZW50LCByYXdQcm9wcyk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ3NlbGVjdCc6XG4gICAgY2FzZSAnb3B0aW9uJzpcbiAgICAgIC8vIEZvciBpbnB1dCBhbmQgdGV4dGFyZWEgd2UgY3VycmVudCBhbHdheXMgc2V0IHRoZSB2YWx1ZSBwcm9wZXJ0eSBhdFxuICAgICAgLy8gcG9zdCBtb3VudCB0byBmb3JjZSBpdCB0byBkaXZlcmdlIGZyb20gYXR0cmlidXRlcy4gSG93ZXZlciwgZm9yXG4gICAgICAvLyBvcHRpb24gYW5kIHNlbGVjdCB3ZSBkb24ndCBxdWl0ZSBkbyB0aGUgc2FtZSB0aGluZyBhbmQgc2VsZWN0XG4gICAgICAvLyBpcyBub3QgcmVzaWxpZW50IHRvIHRoZSBET00gc3RhdGUgY2hhbmdpbmcgc28gd2UgZG9uJ3QgZG8gdGhhdCBoZXJlLlxuICAgICAgLy8gVE9ETzogQ29uc2lkZXIgbm90IGRvaW5nIHRoaXMgZm9yIGlucHV0IGFuZCB0ZXh0YXJlYS5cbiAgICAgIGJyZWFrO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIGlmICh0eXBlb2YgcmF3UHJvcHMub25DbGljayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBUT0RPOiBUaGlzIGNhc3QgbWF5IG5vdCBiZSBzb3VuZCBmb3IgU1ZHLCBNYXRoTUwgb3IgY3VzdG9tIGVsZW1lbnRzLlxuICAgICAgICB0cmFwQ2xpY2tPbk5vbkludGVyYWN0aXZlRWxlbWVudChkb21FbGVtZW50KTtcbiAgICAgIH1cblxuICAgICAgYnJlYWs7XG4gIH1cblxuICByZXR1cm4gdXBkYXRlUGF5bG9hZDtcbn1cbmZ1bmN0aW9uIGRpZmZIeWRyYXRlZFRleHQodGV4dE5vZGUsIHRleHQpIHtcbiAgdmFyIGlzRGlmZmVyZW50ID0gdGV4dE5vZGUubm9kZVZhbHVlICE9PSB0ZXh0O1xuICByZXR1cm4gaXNEaWZmZXJlbnQ7XG59XG5mdW5jdGlvbiB3YXJuRm9yVW5tYXRjaGVkVGV4dCh0ZXh0Tm9kZSwgdGV4dCkge1xuICB7XG4gICAgd2FybkZvclRleHREaWZmZXJlbmNlKHRleHROb2RlLm5vZGVWYWx1ZSwgdGV4dCk7XG4gIH1cbn1cbmZ1bmN0aW9uIHdhcm5Gb3JEZWxldGVkSHlkcmF0YWJsZUVsZW1lbnQocGFyZW50Tm9kZSwgY2hpbGQpIHtcbiAge1xuICAgIGlmIChkaWRXYXJuSW52YWxpZEh5ZHJhdGlvbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGRpZFdhcm5JbnZhbGlkSHlkcmF0aW9uID0gdHJ1ZTtcbiAgICB3YXJuaW5nV2l0aG91dFN0YWNrJDEoZmFsc2UsICdEaWQgbm90IGV4cGVjdCBzZXJ2ZXIgSFRNTCB0byBjb250YWluIGEgPCVzPiBpbiA8JXM+LicsIGNoaWxkLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksIHBhcmVudE5vZGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSk7XG4gIH1cbn1cbmZ1bmN0aW9uIHdhcm5Gb3JEZWxldGVkSHlkcmF0YWJsZVRleHQocGFyZW50Tm9kZSwgY2hpbGQpIHtcbiAge1xuICAgIGlmIChkaWRXYXJuSW52YWxpZEh5ZHJhdGlvbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGRpZFdhcm5JbnZhbGlkSHlkcmF0aW9uID0gdHJ1ZTtcbiAgICB3YXJuaW5nV2l0aG91dFN0YWNrJDEoZmFsc2UsICdEaWQgbm90IGV4cGVjdCBzZXJ2ZXIgSFRNTCB0byBjb250YWluIHRoZSB0ZXh0IG5vZGUgXCIlc1wiIGluIDwlcz4uJywgY2hpbGQubm9kZVZhbHVlLCBwYXJlbnROb2RlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpO1xuICB9XG59XG5mdW5jdGlvbiB3YXJuRm9ySW5zZXJ0ZWRIeWRyYXRlZEVsZW1lbnQocGFyZW50Tm9kZSwgdGFnLCBwcm9wcykge1xuICB7XG4gICAgaWYgKGRpZFdhcm5JbnZhbGlkSHlkcmF0aW9uKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZGlkV2FybkludmFsaWRIeWRyYXRpb24gPSB0cnVlO1xuICAgIHdhcm5pbmdXaXRob3V0U3RhY2skMShmYWxzZSwgJ0V4cGVjdGVkIHNlcnZlciBIVE1MIHRvIGNvbnRhaW4gYSBtYXRjaGluZyA8JXM+IGluIDwlcz4uJywgdGFnLCBwYXJlbnROb2RlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpO1xuICB9XG59XG5mdW5jdGlvbiB3YXJuRm9ySW5zZXJ0ZWRIeWRyYXRlZFRleHQocGFyZW50Tm9kZSwgdGV4dCkge1xuICB7XG4gICAgaWYgKHRleHQgPT09ICcnKSB7XG4gICAgICAvLyBXZSBleHBlY3QgdG8gaW5zZXJ0IGVtcHR5IHRleHQgbm9kZXMgc2luY2UgdGhleSdyZSBub3QgcmVwcmVzZW50ZWQgaW5cbiAgICAgIC8vIHRoZSBIVE1MLlxuICAgICAgLy8gVE9ETzogUmVtb3ZlIHRoaXMgc3BlY2lhbCBjYXNlIGlmIHdlIGNhbiBqdXN0IGF2b2lkIGluc2VydGluZyBlbXB0eVxuICAgICAgLy8gdGV4dCBub2Rlcy5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZGlkV2FybkludmFsaWRIeWRyYXRpb24pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBkaWRXYXJuSW52YWxpZEh5ZHJhdGlvbiA9IHRydWU7XG4gICAgd2FybmluZ1dpdGhvdXRTdGFjayQxKGZhbHNlLCAnRXhwZWN0ZWQgc2VydmVyIEhUTUwgdG8gY29udGFpbiBhIG1hdGNoaW5nIHRleHQgbm9kZSBmb3IgXCIlc1wiIGluIDwlcz4uJywgdGV4dCwgcGFyZW50Tm9kZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKTtcbiAgfVxufVxuZnVuY3Rpb24gcmVzdG9yZUNvbnRyb2xsZWRTdGF0ZSQkMShkb21FbGVtZW50LCB0YWcsIHByb3BzKSB7XG4gIHN3aXRjaCAodGFnKSB7XG4gICAgY2FzZSAnaW5wdXQnOlxuICAgICAgcmVzdG9yZUNvbnRyb2xsZWRTdGF0ZSQxKGRvbUVsZW1lbnQsIHByb3BzKTtcbiAgICAgIHJldHVybjtcblxuICAgIGNhc2UgJ3RleHRhcmVhJzpcbiAgICAgIHJlc3RvcmVDb250cm9sbGVkU3RhdGUkMyhkb21FbGVtZW50LCBwcm9wcyk7XG4gICAgICByZXR1cm47XG5cbiAgICBjYXNlICdzZWxlY3QnOlxuICAgICAgcmVzdG9yZUNvbnRyb2xsZWRTdGF0ZSQyKGRvbUVsZW1lbnQsIHByb3BzKTtcbiAgICAgIHJldHVybjtcbiAgfVxufVxuZnVuY3Rpb24gbGlzdGVuVG9FdmVudFJlc3BvbmRlckV2ZW50VHlwZXMoZXZlbnRUeXBlcywgZWxlbWVudCkge1xuICBpZiAoZW5hYmxlRmxhcmVBUEkpIHtcbiAgICAvLyBHZXQgdGhlIGxpc3RlbmluZyBTZXQgZm9yIHRoaXMgZWxlbWVudC4gV2UgdXNlIHRoaXMgdG8gdHJhY2tcbiAgICAvLyB3aGF0IGV2ZW50cyB3ZSdyZSBsaXN0ZW5pbmcgdG8uXG4gICAgdmFyIGxpc3RlbmluZ1NldCA9IGdldExpc3RlbmluZ1NldEZvckVsZW1lbnQoZWxlbWVudCk7IC8vIEdvIHRocm91Z2ggZWFjaCB0YXJnZXQgZXZlbnQgdHlwZSBvZiB0aGUgZXZlbnQgcmVzcG9uZGVyXG5cbiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gZXZlbnRUeXBlcy5sZW5ndGg7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgICAgdmFyIGV2ZW50VHlwZSA9IGV2ZW50VHlwZXNbaV07XG4gICAgICB2YXIgaXNQYXNzaXZlID0gIWVuZHNXaXRoKGV2ZW50VHlwZSwgJ19hY3RpdmUnKTtcbiAgICAgIHZhciBldmVudEtleSA9IGlzUGFzc2l2ZSA/IGV2ZW50VHlwZSArICdfcGFzc2l2ZScgOiBldmVudFR5cGU7XG4gICAgICB2YXIgdGFyZ2V0RXZlbnRUeXBlID0gaXNQYXNzaXZlID8gZXZlbnRUeXBlIDogZXZlbnRUeXBlLnN1YnN0cmluZygwLCBldmVudFR5cGUubGVuZ3RoIC0gNyk7XG5cbiAgICAgIGlmICghbGlzdGVuaW5nU2V0LmhhcyhldmVudEtleSkpIHtcbiAgICAgICAgdHJhcEV2ZW50Rm9yUmVzcG9uZGVyRXZlbnRTeXN0ZW0oZWxlbWVudCwgdGFyZ2V0RXZlbnRUeXBlLCBpc1Bhc3NpdmUpO1xuICAgICAgICBsaXN0ZW5pbmdTZXQuYWRkKGV2ZW50S2V5KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn0gLy8gV2UgY2FuIHJlbW92ZSB0aGlzIG9uY2UgdGhlIGV2ZW50IEFQSSBpcyBzdGFibGUgYW5kIG91dCBvZiBhIGZsYWdcblxuaWYgKGVuYWJsZUZsYXJlQVBJKSB7XG4gIHNldExpc3RlblRvUmVzcG9uZGVyRXZlbnRUeXBlcyhsaXN0ZW5Ub0V2ZW50UmVzcG9uZGVyRXZlbnRUeXBlcyk7XG59XG5cbmZ1bmN0aW9uIGdldEFjdGl2ZUVsZW1lbnQoZG9jKSB7XG4gIGRvYyA9IGRvYyB8fCAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyA/IGRvY3VtZW50IDogdW5kZWZpbmVkKTtcblxuICBpZiAodHlwZW9mIGRvYyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHRyeSB7XG4gICAgcmV0dXJuIGRvYy5hY3RpdmVFbGVtZW50IHx8IGRvYy5ib2R5O1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGRvYy5ib2R5O1xuICB9XG59XG5cbi8qKlxuICogR2l2ZW4gYW55IG5vZGUgcmV0dXJuIHRoZSBmaXJzdCBsZWFmIG5vZGUgd2l0aG91dCBjaGlsZHJlbi5cbiAqXG4gKiBAcGFyYW0ge0RPTUVsZW1lbnR8RE9NVGV4dE5vZGV9IG5vZGVcbiAqIEByZXR1cm4ge0RPTUVsZW1lbnR8RE9NVGV4dE5vZGV9XG4gKi9cblxuZnVuY3Rpb24gZ2V0TGVhZk5vZGUobm9kZSkge1xuICB3aGlsZSAobm9kZSAmJiBub2RlLmZpcnN0Q2hpbGQpIHtcbiAgICBub2RlID0gbm9kZS5maXJzdENoaWxkO1xuICB9XG5cbiAgcmV0dXJuIG5vZGU7XG59XG4vKipcbiAqIEdldCB0aGUgbmV4dCBzaWJsaW5nIHdpdGhpbiBhIGNvbnRhaW5lci4gVGhpcyB3aWxsIHdhbGsgdXAgdGhlXG4gKiBET00gaWYgYSBub2RlJ3Mgc2libGluZ3MgaGF2ZSBiZWVuIGV4aGF1c3RlZC5cbiAqXG4gKiBAcGFyYW0ge0RPTUVsZW1lbnR8RE9NVGV4dE5vZGV9IG5vZGVcbiAqIEByZXR1cm4gez9ET01FbGVtZW50fERPTVRleHROb2RlfVxuICovXG5cblxuZnVuY3Rpb24gZ2V0U2libGluZ05vZGUobm9kZSkge1xuICB3aGlsZSAobm9kZSkge1xuICAgIGlmIChub2RlLm5leHRTaWJsaW5nKSB7XG4gICAgICByZXR1cm4gbm9kZS5uZXh0U2libGluZztcbiAgICB9XG5cbiAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlO1xuICB9XG59XG4vKipcbiAqIEdldCBvYmplY3QgZGVzY3JpYmluZyB0aGUgbm9kZXMgd2hpY2ggY29udGFpbiBjaGFyYWN0ZXJzIGF0IG9mZnNldC5cbiAqXG4gKiBAcGFyYW0ge0RPTUVsZW1lbnR8RE9NVGV4dE5vZGV9IHJvb3RcbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXRcbiAqIEByZXR1cm4gez9vYmplY3R9XG4gKi9cblxuXG5mdW5jdGlvbiBnZXROb2RlRm9yQ2hhcmFjdGVyT2Zmc2V0KHJvb3QsIG9mZnNldCkge1xuICB2YXIgbm9kZSA9IGdldExlYWZOb2RlKHJvb3QpO1xuICB2YXIgbm9kZVN0YXJ0ID0gMDtcbiAgdmFyIG5vZGVFbmQgPSAwO1xuXG4gIHdoaWxlIChub2RlKSB7XG4gICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IFRFWFRfTk9ERSkge1xuICAgICAgbm9kZUVuZCA9IG5vZGVTdGFydCArIG5vZGUudGV4dENvbnRlbnQubGVuZ3RoO1xuXG4gICAgICBpZiAobm9kZVN0YXJ0IDw9IG9mZnNldCAmJiBub2RlRW5kID49IG9mZnNldCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG5vZGU6IG5vZGUsXG4gICAgICAgICAgb2Zmc2V0OiBvZmZzZXQgLSBub2RlU3RhcnRcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgbm9kZVN0YXJ0ID0gbm9kZUVuZDtcbiAgICB9XG5cbiAgICBub2RlID0gZ2V0TGVhZk5vZGUoZ2V0U2libGluZ05vZGUobm9kZSkpO1xuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtET01FbGVtZW50fSBvdXRlck5vZGVcbiAqIEByZXR1cm4gez9vYmplY3R9XG4gKi9cblxuZnVuY3Rpb24gZ2V0T2Zmc2V0cyhvdXRlck5vZGUpIHtcbiAgdmFyIG93bmVyRG9jdW1lbnQgPSBvdXRlck5vZGUub3duZXJEb2N1bWVudDtcbiAgdmFyIHdpbiA9IG93bmVyRG9jdW1lbnQgJiYgb3duZXJEb2N1bWVudC5kZWZhdWx0VmlldyB8fCB3aW5kb3c7XG4gIHZhciBzZWxlY3Rpb24gPSB3aW4uZ2V0U2VsZWN0aW9uICYmIHdpbi5nZXRTZWxlY3Rpb24oKTtcblxuICBpZiAoIXNlbGVjdGlvbiB8fCBzZWxlY3Rpb24ucmFuZ2VDb3VudCA9PT0gMCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgdmFyIGFuY2hvck5vZGUgPSBzZWxlY3Rpb24uYW5jaG9yTm9kZSxcbiAgICAgIGFuY2hvck9mZnNldCA9IHNlbGVjdGlvbi5hbmNob3JPZmZzZXQsXG4gICAgICBmb2N1c05vZGUgPSBzZWxlY3Rpb24uZm9jdXNOb2RlLFxuICAgICAgZm9jdXNPZmZzZXQgPSBzZWxlY3Rpb24uZm9jdXNPZmZzZXQ7IC8vIEluIEZpcmVmb3gsIGFuY2hvck5vZGUgYW5kIGZvY3VzTm9kZSBjYW4gYmUgXCJhbm9ueW1vdXMgZGl2c1wiLCBlLmcuIHRoZVxuICAvLyB1cC9kb3duIGJ1dHRvbnMgb24gYW4gPGlucHV0IHR5cGU9XCJudW1iZXJcIj4uIEFub255bW91cyBkaXZzIGRvIG5vdCBzZWVtIHRvXG4gIC8vIGV4cG9zZSBwcm9wZXJ0aWVzLCB0cmlnZ2VyaW5nIGEgXCJQZXJtaXNzaW9uIGRlbmllZCBlcnJvclwiIGlmIGFueSBvZiBpdHNcbiAgLy8gcHJvcGVydGllcyBhcmUgYWNjZXNzZWQuIFRoZSBvbmx5IHNlZW1pbmdseSBwb3NzaWJsZSB3YXkgdG8gYXZvaWQgZXJyb3JpbmdcbiAgLy8gaXMgdG8gYWNjZXNzIGEgcHJvcGVydHkgdGhhdCB0eXBpY2FsbHkgd29ya3MgZm9yIG5vbi1hbm9ueW1vdXMgZGl2cyBhbmRcbiAgLy8gY2F0Y2ggYW55IGVycm9yIHRoYXQgbWF5IG90aGVyd2lzZSBhcmlzZS4gU2VlXG4gIC8vIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTIwODQyN1xuXG4gIHRyeSB7XG4gICAgLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLWV4cHJlc3Npb25zICovXG4gICAgYW5jaG9yTm9kZS5ub2RlVHlwZTtcbiAgICBmb2N1c05vZGUubm9kZVR5cGU7XG4gICAgLyogZXNsaW50LWVuYWJsZSBuby11bnVzZWQtZXhwcmVzc2lvbnMgKi9cbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIGdldE1vZGVybk9mZnNldHNGcm9tUG9pbnRzKG91dGVyTm9kZSwgYW5jaG9yTm9kZSwgYW5jaG9yT2Zmc2V0LCBmb2N1c05vZGUsIGZvY3VzT2Zmc2V0KTtcbn1cbi8qKlxuICogUmV0dXJucyB7c3RhcnQsIGVuZH0gd2hlcmUgYHN0YXJ0YCBpcyB0aGUgY2hhcmFjdGVyL2NvZGVwb2ludCBpbmRleCBvZlxuICogKGFuY2hvck5vZGUsIGFuY2hvck9mZnNldCkgd2l0aGluIHRoZSB0ZXh0Q29udGVudCBvZiBgb3V0ZXJOb2RlYCwgYW5kXG4gKiBgZW5kYCBpcyB0aGUgaW5kZXggb2YgKGZvY3VzTm9kZSwgZm9jdXNPZmZzZXQpLlxuICpcbiAqIFJldHVybnMgbnVsbCBpZiB5b3UgcGFzcyBpbiBnYXJiYWdlIGlucHV0IGJ1dCB3ZSBzaG91bGQgcHJvYmFibHkganVzdCBjcmFzaC5cbiAqXG4gKiBFeHBvcnRlZCBvbmx5IGZvciB0ZXN0aW5nLlxuICovXG5cbmZ1bmN0aW9uIGdldE1vZGVybk9mZnNldHNGcm9tUG9pbnRzKG91dGVyTm9kZSwgYW5jaG9yTm9kZSwgYW5jaG9yT2Zmc2V0LCBmb2N1c05vZGUsIGZvY3VzT2Zmc2V0KSB7XG4gIHZhciBsZW5ndGggPSAwO1xuICB2YXIgc3RhcnQgPSAtMTtcbiAgdmFyIGVuZCA9IC0xO1xuICB2YXIgaW5kZXhXaXRoaW5BbmNob3IgPSAwO1xuICB2YXIgaW5kZXhXaXRoaW5Gb2N1cyA9IDA7XG4gIHZhciBub2RlID0gb3V0ZXJOb2RlO1xuICB2YXIgcGFyZW50Tm9kZSA9IG51bGw7XG5cbiAgb3V0ZXI6IHdoaWxlICh0cnVlKSB7XG4gICAgdmFyIG5leHQgPSBudWxsO1xuXG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGlmIChub2RlID09PSBhbmNob3JOb2RlICYmIChhbmNob3JPZmZzZXQgPT09IDAgfHwgbm9kZS5ub2RlVHlwZSA9PT0gVEVYVF9OT0RFKSkge1xuICAgICAgICBzdGFydCA9IGxlbmd0aCArIGFuY2hvck9mZnNldDtcbiAgICAgIH1cblxuICAgICAgaWYgKG5vZGUgPT09IGZvY3VzTm9kZSAmJiAoZm9jdXNPZmZzZXQgPT09IDAgfHwgbm9kZS5ub2RlVHlwZSA9PT0gVEVYVF9OT0RFKSkge1xuICAgICAgICBlbmQgPSBsZW5ndGggKyBmb2N1c09mZnNldDtcbiAgICAgIH1cblxuICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IFRFWFRfTk9ERSkge1xuICAgICAgICBsZW5ndGggKz0gbm9kZS5ub2RlVmFsdWUubGVuZ3RoO1xuICAgICAgfVxuXG4gICAgICBpZiAoKG5leHQgPSBub2RlLmZpcnN0Q2hpbGQpID09PSBudWxsKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfSAvLyBNb3ZpbmcgZnJvbSBgbm9kZWAgdG8gaXRzIGZpcnN0IGNoaWxkIGBuZXh0YC5cblxuXG4gICAgICBwYXJlbnROb2RlID0gbm9kZTtcbiAgICAgIG5vZGUgPSBuZXh0O1xuICAgIH1cblxuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBpZiAobm9kZSA9PT0gb3V0ZXJOb2RlKSB7XG4gICAgICAgIC8vIElmIGBvdXRlck5vZGVgIGhhcyBjaGlsZHJlbiwgdGhpcyBpcyBhbHdheXMgdGhlIHNlY29uZCB0aW1lIHZpc2l0aW5nXG4gICAgICAgIC8vIGl0LiBJZiBpdCBoYXMgbm8gY2hpbGRyZW4sIHRoaXMgaXMgc3RpbGwgdGhlIGZpcnN0IGxvb3AsIGFuZCB0aGUgb25seVxuICAgICAgICAvLyB2YWxpZCBzZWxlY3Rpb24gaXMgYW5jaG9yTm9kZSBhbmQgZm9jdXNOb2RlIGJvdGggZXF1YWwgdG8gdGhpcyBub2RlXG4gICAgICAgIC8vIGFuZCBib3RoIG9mZnNldHMgMCwgaW4gd2hpY2ggY2FzZSB3ZSB3aWxsIGhhdmUgaGFuZGxlZCBhYm92ZS5cbiAgICAgICAgYnJlYWsgb3V0ZXI7XG4gICAgICB9XG5cbiAgICAgIGlmIChwYXJlbnROb2RlID09PSBhbmNob3JOb2RlICYmICsraW5kZXhXaXRoaW5BbmNob3IgPT09IGFuY2hvck9mZnNldCkge1xuICAgICAgICBzdGFydCA9IGxlbmd0aDtcbiAgICAgIH1cblxuICAgICAgaWYgKHBhcmVudE5vZGUgPT09IGZvY3VzTm9kZSAmJiArK2luZGV4V2l0aGluRm9jdXMgPT09IGZvY3VzT2Zmc2V0KSB7XG4gICAgICAgIGVuZCA9IGxlbmd0aDtcbiAgICAgIH1cblxuICAgICAgaWYgKChuZXh0ID0gbm9kZS5uZXh0U2libGluZykgIT09IG51bGwpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIG5vZGUgPSBwYXJlbnROb2RlO1xuICAgICAgcGFyZW50Tm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICB9IC8vIE1vdmluZyBmcm9tIGBub2RlYCB0byBpdHMgbmV4dCBzaWJsaW5nIGBuZXh0YC5cblxuXG4gICAgbm9kZSA9IG5leHQ7XG4gIH1cblxuICBpZiAoc3RhcnQgPT09IC0xIHx8IGVuZCA9PT0gLTEpIHtcbiAgICAvLyBUaGlzIHNob3VsZCBuZXZlciBoYXBwZW4uIChXb3VsZCBoYXBwZW4gaWYgdGhlIGFuY2hvci9mb2N1cyBub2RlcyBhcmVuJ3RcbiAgICAvLyBhY3R1YWxseSBpbnNpZGUgdGhlIHBhc3NlZC1pbiBub2RlLilcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgc3RhcnQ6IHN0YXJ0LFxuICAgIGVuZDogZW5kXG4gIH07XG59XG4vKipcbiAqIEluIG1vZGVybiBub24tSUUgYnJvd3NlcnMsIHdlIGNhbiBzdXBwb3J0IGJvdGggZm9yd2FyZCBhbmQgYmFja3dhcmRcbiAqIHNlbGVjdGlvbnMuXG4gKlxuICogTm90ZTogSUUxMCsgc3VwcG9ydHMgdGhlIFNlbGVjdGlvbiBvYmplY3QsIGJ1dCBpdCBkb2VzIG5vdCBzdXBwb3J0XG4gKiB0aGUgYGV4dGVuZGAgbWV0aG9kLCB3aGljaCBtZWFucyB0aGF0IGV2ZW4gaW4gbW9kZXJuIElFLCBpdCdzIG5vdCBwb3NzaWJsZVxuICogdG8gcHJvZ3JhbW1hdGljYWxseSBjcmVhdGUgYSBiYWNrd2FyZCBzZWxlY3Rpb24uIFRodXMsIGZvciBhbGwgSUVcbiAqIHZlcnNpb25zLCB3ZSB1c2UgdGhlIG9sZCBJRSBBUEkgdG8gY3JlYXRlIG91ciBzZWxlY3Rpb25zLlxuICpcbiAqIEBwYXJhbSB7RE9NRWxlbWVudHxET01UZXh0Tm9kZX0gbm9kZVxuICogQHBhcmFtIHtvYmplY3R9IG9mZnNldHNcbiAqL1xuXG5mdW5jdGlvbiBzZXRPZmZzZXRzKG5vZGUsIG9mZnNldHMpIHtcbiAgdmFyIGRvYyA9IG5vZGUub3duZXJEb2N1bWVudCB8fCBkb2N1bWVudDtcbiAgdmFyIHdpbiA9IGRvYyAmJiBkb2MuZGVmYXVsdFZpZXcgfHwgd2luZG93OyAvLyBFZGdlIGZhaWxzIHdpdGggXCJPYmplY3QgZXhwZWN0ZWRcIiBpbiBzb21lIHNjZW5hcmlvcy5cbiAgLy8gKEZvciBpbnN0YW5jZTogVGlueU1DRSBlZGl0b3IgdXNlZCBpbiBhIGxpc3QgY29tcG9uZW50IHRoYXQgc3VwcG9ydHMgcGFzdGluZyB0byBhZGQgbW9yZSxcbiAgLy8gZmFpbHMgd2hlbiBwYXN0aW5nIDEwMCsgaXRlbXMpXG5cbiAgaWYgKCF3aW4uZ2V0U2VsZWN0aW9uKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIHNlbGVjdGlvbiA9IHdpbi5nZXRTZWxlY3Rpb24oKTtcbiAgdmFyIGxlbmd0aCA9IG5vZGUudGV4dENvbnRlbnQubGVuZ3RoO1xuICB2YXIgc3RhcnQgPSBNYXRoLm1pbihvZmZzZXRzLnN0YXJ0LCBsZW5ndGgpO1xuICB2YXIgZW5kID0gb2Zmc2V0cy5lbmQgPT09IHVuZGVmaW5lZCA/IHN0YXJ0IDogTWF0aC5taW4ob2Zmc2V0cy5lbmQsIGxlbmd0aCk7IC8vIElFIDExIHVzZXMgbW9kZXJuIHNlbGVjdGlvbiwgYnV0IGRvZXNuJ3Qgc3VwcG9ydCB0aGUgZXh0ZW5kIG1ldGhvZC5cbiAgLy8gRmxpcCBiYWNrd2FyZCBzZWxlY3Rpb25zLCBzbyB3ZSBjYW4gc2V0IHdpdGggYSBzaW5nbGUgcmFuZ2UuXG5cbiAgaWYgKCFzZWxlY3Rpb24uZXh0ZW5kICYmIHN0YXJ0ID4gZW5kKSB7XG4gICAgdmFyIHRlbXAgPSBlbmQ7XG4gICAgZW5kID0gc3RhcnQ7XG4gICAgc3RhcnQgPSB0ZW1wO1xuICB9XG5cbiAgdmFyIHN0YXJ0TWFya2VyID0gZ2V0Tm9kZUZvckNoYXJhY3Rlck9mZnNldChub2RlLCBzdGFydCk7XG4gIHZhciBlbmRNYXJrZXIgPSBnZXROb2RlRm9yQ2hhcmFjdGVyT2Zmc2V0KG5vZGUsIGVuZCk7XG5cbiAgaWYgKHN0YXJ0TWFya2VyICYmIGVuZE1hcmtlcikge1xuICAgIGlmIChzZWxlY3Rpb24ucmFuZ2VDb3VudCA9PT0gMSAmJiBzZWxlY3Rpb24uYW5jaG9yTm9kZSA9PT0gc3RhcnRNYXJrZXIubm9kZSAmJiBzZWxlY3Rpb24uYW5jaG9yT2Zmc2V0ID09PSBzdGFydE1hcmtlci5vZmZzZXQgJiYgc2VsZWN0aW9uLmZvY3VzTm9kZSA9PT0gZW5kTWFya2VyLm5vZGUgJiYgc2VsZWN0aW9uLmZvY3VzT2Zmc2V0ID09PSBlbmRNYXJrZXIub2Zmc2V0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHJhbmdlID0gZG9jLmNyZWF0ZVJhbmdlKCk7XG4gICAgcmFuZ2Uuc2V0U3RhcnQoc3RhcnRNYXJrZXIubm9kZSwgc3RhcnRNYXJrZXIub2Zmc2V0KTtcbiAgICBzZWxlY3Rpb24ucmVtb3ZlQWxsUmFuZ2VzKCk7XG5cbiAgICBpZiAoc3RhcnQgPiBlbmQpIHtcbiAgICAgIHNlbGVjdGlvbi5hZGRSYW5nZShyYW5nZSk7XG4gICAgICBzZWxlY3Rpb24uZXh0ZW5kKGVuZE1hcmtlci5ub2RlLCBlbmRNYXJrZXIub2Zmc2V0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmFuZ2Uuc2V0RW5kKGVuZE1hcmtlci5ub2RlLCBlbmRNYXJrZXIub2Zmc2V0KTtcbiAgICAgIHNlbGVjdGlvbi5hZGRSYW5nZShyYW5nZSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGlzVGV4dE5vZGUobm9kZSkge1xuICByZXR1cm4gbm9kZSAmJiBub2RlLm5vZGVUeXBlID09PSBURVhUX05PREU7XG59XG5cbmZ1bmN0aW9uIGNvbnRhaW5zTm9kZShvdXRlck5vZGUsIGlubmVyTm9kZSkge1xuICBpZiAoIW91dGVyTm9kZSB8fCAhaW5uZXJOb2RlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IGVsc2UgaWYgKG91dGVyTm9kZSA9PT0gaW5uZXJOb2RlKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gZWxzZSBpZiAoaXNUZXh0Tm9kZShvdXRlck5vZGUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IGVsc2UgaWYgKGlzVGV4dE5vZGUoaW5uZXJOb2RlKSkge1xuICAgIHJldHVybiBjb250YWluc05vZGUob3V0ZXJOb2RlLCBpbm5lck5vZGUucGFyZW50Tm9kZSk7XG4gIH0gZWxzZSBpZiAoJ2NvbnRhaW5zJyBpbiBvdXRlck5vZGUpIHtcbiAgICByZXR1cm4gb3V0ZXJOb2RlLmNvbnRhaW5zKGlubmVyTm9kZSk7XG4gIH0gZWxzZSBpZiAob3V0ZXJOb2RlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKSB7XG4gICAgcmV0dXJuICEhKG91dGVyTm9kZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihpbm5lck5vZGUpICYgMTYpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpc0luRG9jdW1lbnQobm9kZSkge1xuICByZXR1cm4gbm9kZSAmJiBub2RlLm93bmVyRG9jdW1lbnQgJiYgY29udGFpbnNOb2RlKG5vZGUub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIG5vZGUpO1xufVxuXG5mdW5jdGlvbiBpc1NhbWVPcmlnaW5GcmFtZShpZnJhbWUpIHtcbiAgdHJ5IHtcbiAgICAvLyBBY2Nlc3NpbmcgdGhlIGNvbnRlbnREb2N1bWVudCBvZiBhIEhUTUxJZnJhbWVFbGVtZW50IGNhbiBjYXVzZSB0aGUgYnJvd3NlclxuICAgIC8vIHRvIHRocm93LCBlLmcuIGlmIGl0IGhhcyBhIGNyb3NzLW9yaWdpbiBzcmMgYXR0cmlidXRlLlxuICAgIC8vIFNhZmFyaSB3aWxsIHNob3cgYW4gZXJyb3IgaW4gdGhlIGNvbnNvbGUgd2hlbiB0aGUgYWNjZXNzIHJlc3VsdHMgaW4gXCJCbG9ja2VkIGEgZnJhbWUgd2l0aCBvcmlnaW5cIi4gZS5nOlxuICAgIC8vIGlmcmFtZS5jb250ZW50RG9jdW1lbnQuZGVmYXVsdFZpZXc7XG4gICAgLy8gQSBzYWZldHkgd2F5IGlzIHRvIGFjY2VzcyBvbmUgb2YgdGhlIGNyb3NzIG9yaWdpbiBwcm9wZXJ0aWVzOiBXaW5kb3cgb3IgTG9jYXRpb25cbiAgICAvLyBXaGljaCBtaWdodCByZXN1bHQgaW4gXCJTZWN1cml0eUVycm9yXCIgRE9NIEV4Y2VwdGlvbiBhbmQgaXQgaXMgY29tcGF0aWJsZSB0byBTYWZhcmkuXG4gICAgLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvYnJvd3NlcnMuaHRtbCNpbnRlZ3JhdGlvbi13aXRoLWlkbFxuICAgIHJldHVybiB0eXBlb2YgaWZyYW1lLmNvbnRlbnRXaW5kb3cubG9jYXRpb24uaHJlZiA9PT0gJ3N0cmluZyc7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRBY3RpdmVFbGVtZW50RGVlcCgpIHtcbiAgdmFyIHdpbiA9IHdpbmRvdztcbiAgdmFyIGVsZW1lbnQgPSBnZXRBY3RpdmVFbGVtZW50KCk7XG5cbiAgd2hpbGUgKGVsZW1lbnQgaW5zdGFuY2VvZiB3aW4uSFRNTElGcmFtZUVsZW1lbnQpIHtcbiAgICBpZiAoaXNTYW1lT3JpZ2luRnJhbWUoZWxlbWVudCkpIHtcbiAgICAgIHdpbiA9IGVsZW1lbnQuY29udGVudFdpbmRvdztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfVxuXG4gICAgZWxlbWVudCA9IGdldEFjdGl2ZUVsZW1lbnQod2luLmRvY3VtZW50KTtcbiAgfVxuXG4gIHJldHVybiBlbGVtZW50O1xufVxuLyoqXG4gKiBAUmVhY3RJbnB1dFNlbGVjdGlvbjogUmVhY3QgaW5wdXQgc2VsZWN0aW9uIG1vZHVsZS4gQmFzZWQgb24gU2VsZWN0aW9uLmpzLFxuICogYnV0IG1vZGlmaWVkIHRvIGJlIHN1aXRhYmxlIGZvciByZWFjdCBhbmQgaGFzIGEgY291cGxlIG9mIGJ1ZyBmaXhlcyAoZG9lc24ndFxuICogYXNzdW1lIGJ1dHRvbnMgaGF2ZSByYW5nZSBzZWxlY3Rpb25zIGFsbG93ZWQpLlxuICogSW5wdXQgc2VsZWN0aW9uIG1vZHVsZSBmb3IgUmVhY3QuXG4gKi9cblxuLyoqXG4gKiBAaGFzU2VsZWN0aW9uQ2FwYWJpbGl0aWVzOiB3ZSBnZXQgdGhlIGVsZW1lbnQgdHlwZXMgdGhhdCBzdXBwb3J0IHNlbGVjdGlvblxuICogZnJvbSBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnLyNkby1ub3QtYXBwbHksIGxvb2tpbmcgYXQgYHNlbGVjdGlvblN0YXJ0YFxuICogYW5kIGBzZWxlY3Rpb25FbmRgIHJvd3MuXG4gKi9cblxuXG5mdW5jdGlvbiBoYXNTZWxlY3Rpb25DYXBhYmlsaXRpZXMoZWxlbSkge1xuICB2YXIgbm9kZU5hbWUgPSBlbGVtICYmIGVsZW0ubm9kZU5hbWUgJiYgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuICByZXR1cm4gbm9kZU5hbWUgJiYgKG5vZGVOYW1lID09PSAnaW5wdXQnICYmIChlbGVtLnR5cGUgPT09ICd0ZXh0JyB8fCBlbGVtLnR5cGUgPT09ICdzZWFyY2gnIHx8IGVsZW0udHlwZSA9PT0gJ3RlbCcgfHwgZWxlbS50eXBlID09PSAndXJsJyB8fCBlbGVtLnR5cGUgPT09ICdwYXNzd29yZCcpIHx8IG5vZGVOYW1lID09PSAndGV4dGFyZWEnIHx8IGVsZW0uY29udGVudEVkaXRhYmxlID09PSAndHJ1ZScpO1xufVxuZnVuY3Rpb24gZ2V0U2VsZWN0aW9uSW5mb3JtYXRpb24oKSB7XG4gIHZhciBmb2N1c2VkRWxlbSA9IGdldEFjdGl2ZUVsZW1lbnREZWVwKCk7XG4gIHJldHVybiB7XG4gICAgZm9jdXNlZEVsZW06IGZvY3VzZWRFbGVtLFxuICAgIHNlbGVjdGlvblJhbmdlOiBoYXNTZWxlY3Rpb25DYXBhYmlsaXRpZXMoZm9jdXNlZEVsZW0pID8gZ2V0U2VsZWN0aW9uKGZvY3VzZWRFbGVtKSA6IG51bGxcbiAgfTtcbn1cbi8qKlxuICogQHJlc3RvcmVTZWxlY3Rpb246IElmIGFueSBzZWxlY3Rpb24gaW5mb3JtYXRpb24gd2FzIHBvdGVudGlhbGx5IGxvc3QsXG4gKiByZXN0b3JlIGl0LiBUaGlzIGlzIHVzZWZ1bCB3aGVuIHBlcmZvcm1pbmcgb3BlcmF0aW9ucyB0aGF0IGNvdWxkIHJlbW92ZSBkb21cbiAqIG5vZGVzIGFuZCBwbGFjZSB0aGVtIGJhY2sgaW4sIHJlc3VsdGluZyBpbiBmb2N1cyBiZWluZyBsb3N0LlxuICovXG5cbmZ1bmN0aW9uIHJlc3RvcmVTZWxlY3Rpb24ocHJpb3JTZWxlY3Rpb25JbmZvcm1hdGlvbikge1xuICB2YXIgY3VyRm9jdXNlZEVsZW0gPSBnZXRBY3RpdmVFbGVtZW50RGVlcCgpO1xuICB2YXIgcHJpb3JGb2N1c2VkRWxlbSA9IHByaW9yU2VsZWN0aW9uSW5mb3JtYXRpb24uZm9jdXNlZEVsZW07XG4gIHZhciBwcmlvclNlbGVjdGlvblJhbmdlID0gcHJpb3JTZWxlY3Rpb25JbmZvcm1hdGlvbi5zZWxlY3Rpb25SYW5nZTtcblxuICBpZiAoY3VyRm9jdXNlZEVsZW0gIT09IHByaW9yRm9jdXNlZEVsZW0gJiYgaXNJbkRvY3VtZW50KHByaW9yRm9jdXNlZEVsZW0pKSB7XG4gICAgaWYgKHByaW9yU2VsZWN0aW9uUmFuZ2UgIT09IG51bGwgJiYgaGFzU2VsZWN0aW9uQ2FwYWJpbGl0aWVzKHByaW9yRm9jdXNlZEVsZW0pKSB7XG4gICAgICBzZXRTZWxlY3Rpb24ocHJpb3JGb2N1c2VkRWxlbSwgcHJpb3JTZWxlY3Rpb25SYW5nZSk7XG4gICAgfSAvLyBGb2N1c2luZyBhIG5vZGUgY2FuIGNoYW5nZSB0aGUgc2Nyb2xsIHBvc2l0aW9uLCB3aGljaCBpcyB1bmRlc2lyYWJsZVxuXG5cbiAgICB2YXIgYW5jZXN0b3JzID0gW107XG4gICAgdmFyIGFuY2VzdG9yID0gcHJpb3JGb2N1c2VkRWxlbTtcblxuICAgIHdoaWxlIChhbmNlc3RvciA9IGFuY2VzdG9yLnBhcmVudE5vZGUpIHtcbiAgICAgIGlmIChhbmNlc3Rvci5ub2RlVHlwZSA9PT0gRUxFTUVOVF9OT0RFKSB7XG4gICAgICAgIGFuY2VzdG9ycy5wdXNoKHtcbiAgICAgICAgICBlbGVtZW50OiBhbmNlc3RvcixcbiAgICAgICAgICBsZWZ0OiBhbmNlc3Rvci5zY3JvbGxMZWZ0LFxuICAgICAgICAgIHRvcDogYW5jZXN0b3Iuc2Nyb2xsVG9wXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0eXBlb2YgcHJpb3JGb2N1c2VkRWxlbS5mb2N1cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcHJpb3JGb2N1c2VkRWxlbS5mb2N1cygpO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW5jZXN0b3JzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaW5mbyA9IGFuY2VzdG9yc1tpXTtcbiAgICAgIGluZm8uZWxlbWVudC5zY3JvbGxMZWZ0ID0gaW5mby5sZWZ0O1xuICAgICAgaW5mby5lbGVtZW50LnNjcm9sbFRvcCA9IGluZm8udG9wO1xuICAgIH1cbiAgfVxufVxuLyoqXG4gKiBAZ2V0U2VsZWN0aW9uOiBHZXRzIHRoZSBzZWxlY3Rpb24gYm91bmRzIG9mIGEgZm9jdXNlZCB0ZXh0YXJlYSwgaW5wdXQgb3JcbiAqIGNvbnRlbnRFZGl0YWJsZSBub2RlLlxuICogLUBpbnB1dDogTG9vayB1cCBzZWxlY3Rpb24gYm91bmRzIG9mIHRoaXMgaW5wdXRcbiAqIC1AcmV0dXJuIHtzdGFydDogc2VsZWN0aW9uU3RhcnQsIGVuZDogc2VsZWN0aW9uRW5kfVxuICovXG5cbmZ1bmN0aW9uIGdldFNlbGVjdGlvbihpbnB1dCkge1xuICB2YXIgc2VsZWN0aW9uO1xuXG4gIGlmICgnc2VsZWN0aW9uU3RhcnQnIGluIGlucHV0KSB7XG4gICAgLy8gTW9kZXJuIGJyb3dzZXIgd2l0aCBpbnB1dCBvciB0ZXh0YXJlYS5cbiAgICBzZWxlY3Rpb24gPSB7XG4gICAgICBzdGFydDogaW5wdXQuc2VsZWN0aW9uU3RhcnQsXG4gICAgICBlbmQ6IGlucHV0LnNlbGVjdGlvbkVuZFxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgLy8gQ29udGVudCBlZGl0YWJsZSBvciBvbGQgSUUgdGV4dGFyZWEuXG4gICAgc2VsZWN0aW9uID0gZ2V0T2Zmc2V0cyhpbnB1dCk7XG4gIH1cblxuICByZXR1cm4gc2VsZWN0aW9uIHx8IHtcbiAgICBzdGFydDogMCxcbiAgICBlbmQ6IDBcbiAgfTtcbn1cbi8qKlxuICogQHNldFNlbGVjdGlvbjogU2V0cyB0aGUgc2VsZWN0aW9uIGJvdW5kcyBvZiBhIHRleHRhcmVhIG9yIGlucHV0IGFuZCBmb2N1c2VzXG4gKiB0aGUgaW5wdXQuXG4gKiAtQGlucHV0ICAgICBTZXQgc2VsZWN0aW9uIGJvdW5kcyBvZiB0aGlzIGlucHV0IG9yIHRleHRhcmVhXG4gKiAtQG9mZnNldHMgICBPYmplY3Qgb2Ygc2FtZSBmb3JtIHRoYXQgaXMgcmV0dXJuZWQgZnJvbSBnZXQqXG4gKi9cblxuZnVuY3Rpb24gc2V0U2VsZWN0aW9uKGlucHV0LCBvZmZzZXRzKSB7XG4gIHZhciBzdGFydCA9IG9mZnNldHMuc3RhcnQsXG4gICAgICBlbmQgPSBvZmZzZXRzLmVuZDtcblxuICBpZiAoZW5kID09PSB1bmRlZmluZWQpIHtcbiAgICBlbmQgPSBzdGFydDtcbiAgfVxuXG4gIGlmICgnc2VsZWN0aW9uU3RhcnQnIGluIGlucHV0KSB7XG4gICAgaW5wdXQuc2VsZWN0aW9uU3RhcnQgPSBzdGFydDtcbiAgICBpbnB1dC5zZWxlY3Rpb25FbmQgPSBNYXRoLm1pbihlbmQsIGlucHV0LnZhbHVlLmxlbmd0aCk7XG4gIH0gZWxzZSB7XG4gICAgc2V0T2Zmc2V0cyhpbnB1dCwgb2Zmc2V0cyk7XG4gIH1cbn1cblxudmFyIHZhbGlkYXRlRE9NTmVzdGluZyA9IGZ1bmN0aW9uICgpIHt9O1xuXG52YXIgdXBkYXRlZEFuY2VzdG9ySW5mbyA9IGZ1bmN0aW9uICgpIHt9O1xuXG57XG4gIC8vIFRoaXMgdmFsaWRhdGlvbiBjb2RlIHdhcyB3cml0dGVuIGJhc2VkIG9uIHRoZSBIVE1MNSBwYXJzaW5nIHNwZWM6XG4gIC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3N5bnRheC5odG1sI2hhcy1hbi1lbGVtZW50LWluLXNjb3BlXG4gIC8vXG4gIC8vIE5vdGU6IHRoaXMgZG9lcyBub3QgY2F0Y2ggYWxsIGludmFsaWQgbmVzdGluZywgbm9yIGRvZXMgaXQgdHJ5IHRvIChhcyBpdCdzXG4gIC8vIG5vdCBjbGVhciB3aGF0IHByYWN0aWNhbCBiZW5lZml0IGRvaW5nIHNvIHByb3ZpZGVzKTsgaW5zdGVhZCwgd2Ugd2FybiBvbmx5XG4gIC8vIGZvciBjYXNlcyB3aGVyZSB0aGUgcGFyc2VyIHdpbGwgZ2l2ZSBhIHBhcnNlIHRyZWUgZGlmZmVyaW5nIGZyb20gd2hhdCBSZWFjdFxuICAvLyBpbnRlbmRlZC4gRm9yIGV4YW1wbGUsIDxiPjxkaXY+PC9kaXY+PC9iPiBpcyBpbnZhbGlkIGJ1dCB3ZSBkb24ndCB3YXJuXG4gIC8vIGJlY2F1c2UgaXQgc3RpbGwgcGFyc2VzIGNvcnJlY3RseTsgd2UgZG8gd2FybiBmb3Igb3RoZXIgY2FzZXMgbGlrZSBuZXN0ZWRcbiAgLy8gPHA+IHRhZ3Mgd2hlcmUgdGhlIGJlZ2lubmluZyBvZiB0aGUgc2Vjb25kIGVsZW1lbnQgaW1wbGljaXRseSBjbG9zZXMgdGhlXG4gIC8vIGZpcnN0LCBjYXVzaW5nIGEgY29uZnVzaW5nIG1lc3MuXG4gIC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3N5bnRheC5odG1sI3NwZWNpYWxcbiAgdmFyIHNwZWNpYWxUYWdzID0gWydhZGRyZXNzJywgJ2FwcGxldCcsICdhcmVhJywgJ2FydGljbGUnLCAnYXNpZGUnLCAnYmFzZScsICdiYXNlZm9udCcsICdiZ3NvdW5kJywgJ2Jsb2NrcXVvdGUnLCAnYm9keScsICdicicsICdidXR0b24nLCAnY2FwdGlvbicsICdjZW50ZXInLCAnY29sJywgJ2NvbGdyb3VwJywgJ2RkJywgJ2RldGFpbHMnLCAnZGlyJywgJ2RpdicsICdkbCcsICdkdCcsICdlbWJlZCcsICdmaWVsZHNldCcsICdmaWdjYXB0aW9uJywgJ2ZpZ3VyZScsICdmb290ZXInLCAnZm9ybScsICdmcmFtZScsICdmcmFtZXNldCcsICdoMScsICdoMicsICdoMycsICdoNCcsICdoNScsICdoNicsICdoZWFkJywgJ2hlYWRlcicsICdoZ3JvdXAnLCAnaHInLCAnaHRtbCcsICdpZnJhbWUnLCAnaW1nJywgJ2lucHV0JywgJ2lzaW5kZXgnLCAnbGknLCAnbGluaycsICdsaXN0aW5nJywgJ21haW4nLCAnbWFycXVlZScsICdtZW51JywgJ21lbnVpdGVtJywgJ21ldGEnLCAnbmF2JywgJ25vZW1iZWQnLCAnbm9mcmFtZXMnLCAnbm9zY3JpcHQnLCAnb2JqZWN0JywgJ29sJywgJ3AnLCAncGFyYW0nLCAncGxhaW50ZXh0JywgJ3ByZScsICdzY3JpcHQnLCAnc2VjdGlvbicsICdzZWxlY3QnLCAnc291cmNlJywgJ3N0eWxlJywgJ3N1bW1hcnknLCAndGFibGUnLCAndGJvZHknLCAndGQnLCAndGVtcGxhdGUnLCAndGV4dGFyZWEnLCAndGZvb3QnLCAndGgnLCAndGhlYWQnLCAndGl0bGUnLCAndHInLCAndHJhY2snLCAndWwnLCAnd2JyJywgJ3htcCddOyAvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zeW50YXguaHRtbCNoYXMtYW4tZWxlbWVudC1pbi1zY29wZVxuXG4gIHZhciBpblNjb3BlVGFncyA9IFsnYXBwbGV0JywgJ2NhcHRpb24nLCAnaHRtbCcsICd0YWJsZScsICd0ZCcsICd0aCcsICdtYXJxdWVlJywgJ29iamVjdCcsICd0ZW1wbGF0ZScsIC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3N5bnRheC5odG1sI2h0bWwtaW50ZWdyYXRpb24tcG9pbnRcbiAgLy8gVE9ETzogRGlzdGluZ3Vpc2ggYnkgbmFtZXNwYWNlIGhlcmUgLS0gZm9yIDx0aXRsZT4sIGluY2x1ZGluZyBpdCBoZXJlXG4gIC8vIGVycnMgb24gdGhlIHNpZGUgb2YgZmV3ZXIgd2FybmluZ3NcbiAgJ2ZvcmVpZ25PYmplY3QnLCAnZGVzYycsICd0aXRsZSddOyAvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zeW50YXguaHRtbCNoYXMtYW4tZWxlbWVudC1pbi1idXR0b24tc2NvcGVcblxuICB2YXIgYnV0dG9uU2NvcGVUYWdzID0gaW5TY29wZVRhZ3MuY29uY2F0KFsnYnV0dG9uJ10pOyAvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zeW50YXguaHRtbCNnZW5lcmF0ZS1pbXBsaWVkLWVuZC10YWdzXG5cbiAgdmFyIGltcGxpZWRFbmRUYWdzID0gWydkZCcsICdkdCcsICdsaScsICdvcHRpb24nLCAnb3B0Z3JvdXAnLCAncCcsICdycCcsICdydCddO1xuICB2YXIgZW1wdHlBbmNlc3RvckluZm8gPSB7XG4gICAgY3VycmVudDogbnVsbCxcbiAgICBmb3JtVGFnOiBudWxsLFxuICAgIGFUYWdJblNjb3BlOiBudWxsLFxuICAgIGJ1dHRvblRhZ0luU2NvcGU6IG51bGwsXG4gICAgbm9iclRhZ0luU2NvcGU6IG51bGwsXG4gICAgcFRhZ0luQnV0dG9uU2NvcGU6IG51bGwsXG4gICAgbGlzdEl0ZW1UYWdBdXRvY2xvc2luZzogbnVsbCxcbiAgICBkbEl0ZW1UYWdBdXRvY2xvc2luZzogbnVsbFxuICB9O1xuXG4gIHVwZGF0ZWRBbmNlc3RvckluZm8gPSBmdW5jdGlvbiAob2xkSW5mbywgdGFnKSB7XG4gICAgdmFyIGFuY2VzdG9ySW5mbyA9IF9hc3NpZ24oe30sIG9sZEluZm8gfHwgZW1wdHlBbmNlc3RvckluZm8pO1xuXG4gICAgdmFyIGluZm8gPSB7XG4gICAgICB0YWc6IHRhZ1xuICAgIH07XG5cbiAgICBpZiAoaW5TY29wZVRhZ3MuaW5kZXhPZih0YWcpICE9PSAtMSkge1xuICAgICAgYW5jZXN0b3JJbmZvLmFUYWdJblNjb3BlID0gbnVsbDtcbiAgICAgIGFuY2VzdG9ySW5mby5idXR0b25UYWdJblNjb3BlID0gbnVsbDtcbiAgICAgIGFuY2VzdG9ySW5mby5ub2JyVGFnSW5TY29wZSA9IG51bGw7XG4gICAgfVxuXG4gICAgaWYgKGJ1dHRvblNjb3BlVGFncy5pbmRleE9mKHRhZykgIT09IC0xKSB7XG4gICAgICBhbmNlc3RvckluZm8ucFRhZ0luQnV0dG9uU2NvcGUgPSBudWxsO1xuICAgIH0gLy8gU2VlIHJ1bGVzIGZvciAnbGknLCAnZGQnLCAnZHQnIHN0YXJ0IHRhZ3MgaW5cbiAgICAvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zeW50YXguaHRtbCNwYXJzaW5nLW1haW4taW5ib2R5XG5cblxuICAgIGlmIChzcGVjaWFsVGFncy5pbmRleE9mKHRhZykgIT09IC0xICYmIHRhZyAhPT0gJ2FkZHJlc3MnICYmIHRhZyAhPT0gJ2RpdicgJiYgdGFnICE9PSAncCcpIHtcbiAgICAgIGFuY2VzdG9ySW5mby5saXN0SXRlbVRhZ0F1dG9jbG9zaW5nID0gbnVsbDtcbiAgICAgIGFuY2VzdG9ySW5mby5kbEl0ZW1UYWdBdXRvY2xvc2luZyA9IG51bGw7XG4gICAgfVxuXG4gICAgYW5jZXN0b3JJbmZvLmN1cnJlbnQgPSBpbmZvO1xuXG4gICAgaWYgKHRhZyA9PT0gJ2Zvcm0nKSB7XG4gICAgICBhbmNlc3RvckluZm8uZm9ybVRhZyA9IGluZm87XG4gICAgfVxuXG4gICAgaWYgKHRhZyA9PT0gJ2EnKSB7XG4gICAgICBhbmNlc3RvckluZm8uYVRhZ0luU2NvcGUgPSBpbmZvO1xuICAgIH1cblxuICAgIGlmICh0YWcgPT09ICdidXR0b24nKSB7XG4gICAgICBhbmNlc3RvckluZm8uYnV0dG9uVGFnSW5TY29wZSA9IGluZm87XG4gICAgfVxuXG4gICAgaWYgKHRhZyA9PT0gJ25vYnInKSB7XG4gICAgICBhbmNlc3RvckluZm8ubm9iclRhZ0luU2NvcGUgPSBpbmZvO1xuICAgIH1cblxuICAgIGlmICh0YWcgPT09ICdwJykge1xuICAgICAgYW5jZXN0b3JJbmZvLnBUYWdJbkJ1dHRvblNjb3BlID0gaW5mbztcbiAgICB9XG5cbiAgICBpZiAodGFnID09PSAnbGknKSB7XG4gICAgICBhbmNlc3RvckluZm8ubGlzdEl0ZW1UYWdBdXRvY2xvc2luZyA9IGluZm87XG4gICAgfVxuXG4gICAgaWYgKHRhZyA9PT0gJ2RkJyB8fCB0YWcgPT09ICdkdCcpIHtcbiAgICAgIGFuY2VzdG9ySW5mby5kbEl0ZW1UYWdBdXRvY2xvc2luZyA9IGluZm87XG4gICAgfVxuXG4gICAgcmV0dXJuIGFuY2VzdG9ySW5mbztcbiAgfTtcbiAgLyoqXG4gICAqIFJldHVybnMgd2hldGhlclxuICAgKi9cblxuXG4gIHZhciBpc1RhZ1ZhbGlkV2l0aFBhcmVudCA9IGZ1bmN0aW9uICh0YWcsIHBhcmVudFRhZykge1xuICAgIC8vIEZpcnN0LCBsZXQncyBjaGVjayBpZiB3ZSdyZSBpbiBhbiB1bnVzdWFsIHBhcnNpbmcgbW9kZS4uLlxuICAgIHN3aXRjaCAocGFyZW50VGFnKSB7XG4gICAgICAvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zeW50YXguaHRtbCNwYXJzaW5nLW1haW4taW5zZWxlY3RcbiAgICAgIGNhc2UgJ3NlbGVjdCc6XG4gICAgICAgIHJldHVybiB0YWcgPT09ICdvcHRpb24nIHx8IHRhZyA9PT0gJ29wdGdyb3VwJyB8fCB0YWcgPT09ICcjdGV4dCc7XG5cbiAgICAgIGNhc2UgJ29wdGdyb3VwJzpcbiAgICAgICAgcmV0dXJuIHRhZyA9PT0gJ29wdGlvbicgfHwgdGFnID09PSAnI3RleHQnO1xuICAgICAgLy8gU3RyaWN0bHkgc3BlYWtpbmcsIHNlZWluZyBhbiA8b3B0aW9uPiBkb2Vzbid0IG1lYW4gd2UncmUgaW4gYSA8c2VsZWN0PlxuICAgICAgLy8gYnV0XG5cbiAgICAgIGNhc2UgJ29wdGlvbic6XG4gICAgICAgIHJldHVybiB0YWcgPT09ICcjdGV4dCc7XG4gICAgICAvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zeW50YXguaHRtbCNwYXJzaW5nLW1haW4taW50ZFxuICAgICAgLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc3ludGF4Lmh0bWwjcGFyc2luZy1tYWluLWluY2FwdGlvblxuICAgICAgLy8gTm8gc3BlY2lhbCBiZWhhdmlvciBzaW5jZSB0aGVzZSBydWxlcyBmYWxsIGJhY2sgdG8gXCJpbiBib2R5XCIgbW9kZSBmb3JcbiAgICAgIC8vIGFsbCBleGNlcHQgc3BlY2lhbCB0YWJsZSBub2RlcyB3aGljaCBjYXVzZSBiYWQgcGFyc2luZyBiZWhhdmlvciBhbnl3YXkuXG4gICAgICAvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zeW50YXguaHRtbCNwYXJzaW5nLW1haW4taW50clxuXG4gICAgICBjYXNlICd0cic6XG4gICAgICAgIHJldHVybiB0YWcgPT09ICd0aCcgfHwgdGFnID09PSAndGQnIHx8IHRhZyA9PT0gJ3N0eWxlJyB8fCB0YWcgPT09ICdzY3JpcHQnIHx8IHRhZyA9PT0gJ3RlbXBsYXRlJztcbiAgICAgIC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3N5bnRheC5odG1sI3BhcnNpbmctbWFpbi1pbnRib2R5XG5cbiAgICAgIGNhc2UgJ3Rib2R5JzpcbiAgICAgIGNhc2UgJ3RoZWFkJzpcbiAgICAgIGNhc2UgJ3Rmb290JzpcbiAgICAgICAgcmV0dXJuIHRhZyA9PT0gJ3RyJyB8fCB0YWcgPT09ICdzdHlsZScgfHwgdGFnID09PSAnc2NyaXB0JyB8fCB0YWcgPT09ICd0ZW1wbGF0ZSc7XG4gICAgICAvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zeW50YXguaHRtbCNwYXJzaW5nLW1haW4taW5jb2xncm91cFxuXG4gICAgICBjYXNlICdjb2xncm91cCc6XG4gICAgICAgIHJldHVybiB0YWcgPT09ICdjb2wnIHx8IHRhZyA9PT0gJ3RlbXBsYXRlJztcbiAgICAgIC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3N5bnRheC5odG1sI3BhcnNpbmctbWFpbi1pbnRhYmxlXG5cbiAgICAgIGNhc2UgJ3RhYmxlJzpcbiAgICAgICAgcmV0dXJuIHRhZyA9PT0gJ2NhcHRpb24nIHx8IHRhZyA9PT0gJ2NvbGdyb3VwJyB8fCB0YWcgPT09ICd0Ym9keScgfHwgdGFnID09PSAndGZvb3QnIHx8IHRhZyA9PT0gJ3RoZWFkJyB8fCB0YWcgPT09ICdzdHlsZScgfHwgdGFnID09PSAnc2NyaXB0JyB8fCB0YWcgPT09ICd0ZW1wbGF0ZSc7XG4gICAgICAvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zeW50YXguaHRtbCNwYXJzaW5nLW1haW4taW5oZWFkXG5cbiAgICAgIGNhc2UgJ2hlYWQnOlxuICAgICAgICByZXR1cm4gdGFnID09PSAnYmFzZScgfHwgdGFnID09PSAnYmFzZWZvbnQnIHx8IHRhZyA9PT0gJ2Jnc291bmQnIHx8IHRhZyA9PT0gJ2xpbmsnIHx8IHRhZyA9PT0gJ21ldGEnIHx8IHRhZyA9PT0gJ3RpdGxlJyB8fCB0YWcgPT09ICdub3NjcmlwdCcgfHwgdGFnID09PSAnbm9mcmFtZXMnIHx8IHRhZyA9PT0gJ3N0eWxlJyB8fCB0YWcgPT09ICdzY3JpcHQnIHx8IHRhZyA9PT0gJ3RlbXBsYXRlJztcbiAgICAgIC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3NlbWFudGljcy5odG1sI3RoZS1odG1sLWVsZW1lbnRcblxuICAgICAgY2FzZSAnaHRtbCc6XG4gICAgICAgIHJldHVybiB0YWcgPT09ICdoZWFkJyB8fCB0YWcgPT09ICdib2R5JyB8fCB0YWcgPT09ICdmcmFtZXNldCc7XG5cbiAgICAgIGNhc2UgJ2ZyYW1lc2V0JzpcbiAgICAgICAgcmV0dXJuIHRhZyA9PT0gJ2ZyYW1lJztcblxuICAgICAgY2FzZSAnI2RvY3VtZW50JzpcbiAgICAgICAgcmV0dXJuIHRhZyA9PT0gJ2h0bWwnO1xuICAgIH0gLy8gUHJvYmFibHkgaW4gdGhlIFwiaW4gYm9keVwiIHBhcnNpbmcgbW9kZSwgc28gd2Ugb3V0bGF3IG9ubHkgdGFnIGNvbWJvc1xuICAgIC8vIHdoZXJlIHRoZSBwYXJzaW5nIHJ1bGVzIGNhdXNlIGltcGxpY2l0IG9wZW5zIG9yIGNsb3NlcyB0byBiZSBhZGRlZC5cbiAgICAvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zeW50YXguaHRtbCNwYXJzaW5nLW1haW4taW5ib2R5XG5cblxuICAgIHN3aXRjaCAodGFnKSB7XG4gICAgICBjYXNlICdoMSc6XG4gICAgICBjYXNlICdoMic6XG4gICAgICBjYXNlICdoMyc6XG4gICAgICBjYXNlICdoNCc6XG4gICAgICBjYXNlICdoNSc6XG4gICAgICBjYXNlICdoNic6XG4gICAgICAgIHJldHVybiBwYXJlbnRUYWcgIT09ICdoMScgJiYgcGFyZW50VGFnICE9PSAnaDInICYmIHBhcmVudFRhZyAhPT0gJ2gzJyAmJiBwYXJlbnRUYWcgIT09ICdoNCcgJiYgcGFyZW50VGFnICE9PSAnaDUnICYmIHBhcmVudFRhZyAhPT0gJ2g2JztcblxuICAgICAgY2FzZSAncnAnOlxuICAgICAgY2FzZSAncnQnOlxuICAgICAgICByZXR1cm4gaW1wbGllZEVuZFRhZ3MuaW5kZXhPZihwYXJlbnRUYWcpID09PSAtMTtcblxuICAgICAgY2FzZSAnYm9keSc6XG4gICAgICBjYXNlICdjYXB0aW9uJzpcbiAgICAgIGNhc2UgJ2NvbCc6XG4gICAgICBjYXNlICdjb2xncm91cCc6XG4gICAgICBjYXNlICdmcmFtZXNldCc6XG4gICAgICBjYXNlICdmcmFtZSc6XG4gICAgICBjYXNlICdoZWFkJzpcbiAgICAgIGNhc2UgJ2h0bWwnOlxuICAgICAgY2FzZSAndGJvZHknOlxuICAgICAgY2FzZSAndGQnOlxuICAgICAgY2FzZSAndGZvb3QnOlxuICAgICAgY2FzZSAndGgnOlxuICAgICAgY2FzZSAndGhlYWQnOlxuICAgICAgY2FzZSAndHInOlxuICAgICAgICAvLyBUaGVzZSB0YWdzIGFyZSBvbmx5IHZhbGlkIHdpdGggYSBmZXcgcGFyZW50cyB0aGF0IGhhdmUgc3BlY2lhbCBjaGlsZFxuICAgICAgICAvLyBwYXJzaW5nIHJ1bGVzIC0tIGlmIHdlJ3JlIGRvd24gaGVyZSwgdGhlbiBub25lIG9mIHRob3NlIG1hdGNoZWQgYW5kXG4gICAgICAgIC8vIHNvIHdlIGFsbG93IGl0IG9ubHkgaWYgd2UgZG9uJ3Qga25vdyB3aGF0IHRoZSBwYXJlbnQgaXMsIGFzIGFsbCBvdGhlclxuICAgICAgICAvLyBjYXNlcyBhcmUgaW52YWxpZC5cbiAgICAgICAgcmV0dXJuIHBhcmVudFRhZyA9PSBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9O1xuICAvKipcbiAgICogUmV0dXJucyB3aGV0aGVyXG4gICAqL1xuXG5cbiAgdmFyIGZpbmRJbnZhbGlkQW5jZXN0b3JGb3JUYWcgPSBmdW5jdGlvbiAodGFnLCBhbmNlc3RvckluZm8pIHtcbiAgICBzd2l0Y2ggKHRhZykge1xuICAgICAgY2FzZSAnYWRkcmVzcyc6XG4gICAgICBjYXNlICdhcnRpY2xlJzpcbiAgICAgIGNhc2UgJ2FzaWRlJzpcbiAgICAgIGNhc2UgJ2Jsb2NrcXVvdGUnOlxuICAgICAgY2FzZSAnY2VudGVyJzpcbiAgICAgIGNhc2UgJ2RldGFpbHMnOlxuICAgICAgY2FzZSAnZGlhbG9nJzpcbiAgICAgIGNhc2UgJ2Rpcic6XG4gICAgICBjYXNlICdkaXYnOlxuICAgICAgY2FzZSAnZGwnOlxuICAgICAgY2FzZSAnZmllbGRzZXQnOlxuICAgICAgY2FzZSAnZmlnY2FwdGlvbic6XG4gICAgICBjYXNlICdmaWd1cmUnOlxuICAgICAgY2FzZSAnZm9vdGVyJzpcbiAgICAgIGNhc2UgJ2hlYWRlcic6XG4gICAgICBjYXNlICdoZ3JvdXAnOlxuICAgICAgY2FzZSAnbWFpbic6XG4gICAgICBjYXNlICdtZW51JzpcbiAgICAgIGNhc2UgJ25hdic6XG4gICAgICBjYXNlICdvbCc6XG4gICAgICBjYXNlICdwJzpcbiAgICAgIGNhc2UgJ3NlY3Rpb24nOlxuICAgICAgY2FzZSAnc3VtbWFyeSc6XG4gICAgICBjYXNlICd1bCc6XG4gICAgICBjYXNlICdwcmUnOlxuICAgICAgY2FzZSAnbGlzdGluZyc6XG4gICAgICBjYXNlICd0YWJsZSc6XG4gICAgICBjYXNlICdocic6XG4gICAgICBjYXNlICd4bXAnOlxuICAgICAgY2FzZSAnaDEnOlxuICAgICAgY2FzZSAnaDInOlxuICAgICAgY2FzZSAnaDMnOlxuICAgICAgY2FzZSAnaDQnOlxuICAgICAgY2FzZSAnaDUnOlxuICAgICAgY2FzZSAnaDYnOlxuICAgICAgICByZXR1cm4gYW5jZXN0b3JJbmZvLnBUYWdJbkJ1dHRvblNjb3BlO1xuXG4gICAgICBjYXNlICdmb3JtJzpcbiAgICAgICAgcmV0dXJuIGFuY2VzdG9ySW5mby5mb3JtVGFnIHx8IGFuY2VzdG9ySW5mby5wVGFnSW5CdXR0b25TY29wZTtcblxuICAgICAgY2FzZSAnbGknOlxuICAgICAgICByZXR1cm4gYW5jZXN0b3JJbmZvLmxpc3RJdGVtVGFnQXV0b2Nsb3Npbmc7XG5cbiAgICAgIGNhc2UgJ2RkJzpcbiAgICAgIGNhc2UgJ2R0JzpcbiAgICAgICAgcmV0dXJuIGFuY2VzdG9ySW5mby5kbEl0ZW1UYWdBdXRvY2xvc2luZztcblxuICAgICAgY2FzZSAnYnV0dG9uJzpcbiAgICAgICAgcmV0dXJuIGFuY2VzdG9ySW5mby5idXR0b25UYWdJblNjb3BlO1xuXG4gICAgICBjYXNlICdhJzpcbiAgICAgICAgLy8gU3BlYyBzYXlzIHNvbWV0aGluZyBhYm91dCBzdG9yaW5nIGEgbGlzdCBvZiBtYXJrZXJzLCBidXQgaXQgc291bmRzXG4gICAgICAgIC8vIGVxdWl2YWxlbnQgdG8gdGhpcyBjaGVjay5cbiAgICAgICAgcmV0dXJuIGFuY2VzdG9ySW5mby5hVGFnSW5TY29wZTtcblxuICAgICAgY2FzZSAnbm9icic6XG4gICAgICAgIHJldHVybiBhbmNlc3RvckluZm8ubm9iclRhZ0luU2NvcGU7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgdmFyIGRpZFdhcm4kMSA9IHt9O1xuXG4gIHZhbGlkYXRlRE9NTmVzdGluZyA9IGZ1bmN0aW9uIChjaGlsZFRhZywgY2hpbGRUZXh0LCBhbmNlc3RvckluZm8pIHtcbiAgICBhbmNlc3RvckluZm8gPSBhbmNlc3RvckluZm8gfHwgZW1wdHlBbmNlc3RvckluZm87XG4gICAgdmFyIHBhcmVudEluZm8gPSBhbmNlc3RvckluZm8uY3VycmVudDtcbiAgICB2YXIgcGFyZW50VGFnID0gcGFyZW50SW5mbyAmJiBwYXJlbnRJbmZvLnRhZztcblxuICAgIGlmIChjaGlsZFRleHQgIT0gbnVsbCkge1xuICAgICAgIShjaGlsZFRhZyA9PSBudWxsKSA/IHdhcm5pbmdXaXRob3V0U3RhY2skMShmYWxzZSwgJ3ZhbGlkYXRlRE9NTmVzdGluZzogd2hlbiBjaGlsZFRleHQgaXMgcGFzc2VkLCBjaGlsZFRhZyBzaG91bGQgYmUgbnVsbCcpIDogdm9pZCAwO1xuICAgICAgY2hpbGRUYWcgPSAnI3RleHQnO1xuICAgIH1cblxuICAgIHZhciBpbnZhbGlkUGFyZW50ID0gaXNUYWdWYWxpZFdpdGhQYXJlbnQoY2hpbGRUYWcsIHBhcmVudFRhZykgPyBudWxsIDogcGFyZW50SW5mbztcbiAgICB2YXIgaW52YWxpZEFuY2VzdG9yID0gaW52YWxpZFBhcmVudCA/IG51bGwgOiBmaW5kSW52YWxpZEFuY2VzdG9yRm9yVGFnKGNoaWxkVGFnLCBhbmNlc3RvckluZm8pO1xuICAgIHZhciBpbnZhbGlkUGFyZW50T3JBbmNlc3RvciA9IGludmFsaWRQYXJlbnQgfHwgaW52YWxpZEFuY2VzdG9yO1xuXG4gICAgaWYgKCFpbnZhbGlkUGFyZW50T3JBbmNlc3Rvcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBhbmNlc3RvclRhZyA9IGludmFsaWRQYXJlbnRPckFuY2VzdG9yLnRhZztcbiAgICB2YXIgYWRkZW5kdW0gPSBnZXRDdXJyZW50RmliZXJTdGFja0luRGV2KCk7XG4gICAgdmFyIHdhcm5LZXkgPSAhIWludmFsaWRQYXJlbnQgKyAnfCcgKyBjaGlsZFRhZyArICd8JyArIGFuY2VzdG9yVGFnICsgJ3wnICsgYWRkZW5kdW07XG5cbiAgICBpZiAoZGlkV2FybiQxW3dhcm5LZXldKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZGlkV2FybiQxW3dhcm5LZXldID0gdHJ1ZTtcbiAgICB2YXIgdGFnRGlzcGxheU5hbWUgPSBjaGlsZFRhZztcbiAgICB2YXIgd2hpdGVzcGFjZUluZm8gPSAnJztcblxuICAgIGlmIChjaGlsZFRhZyA9PT0gJyN0ZXh0Jykge1xuICAgICAgaWYgKC9cXFMvLnRlc3QoY2hpbGRUZXh0KSkge1xuICAgICAgICB0YWdEaXNwbGF5TmFtZSA9ICdUZXh0IG5vZGVzJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRhZ0Rpc3BsYXlOYW1lID0gJ1doaXRlc3BhY2UgdGV4dCBub2Rlcyc7XG4gICAgICAgIHdoaXRlc3BhY2VJbmZvID0gXCIgTWFrZSBzdXJlIHlvdSBkb24ndCBoYXZlIGFueSBleHRyYSB3aGl0ZXNwYWNlIGJldHdlZW4gdGFncyBvbiBcIiArICdlYWNoIGxpbmUgb2YgeW91ciBzb3VyY2UgY29kZS4nO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0YWdEaXNwbGF5TmFtZSA9ICc8JyArIGNoaWxkVGFnICsgJz4nO1xuICAgIH1cblxuICAgIGlmIChpbnZhbGlkUGFyZW50KSB7XG4gICAgICB2YXIgaW5mbyA9ICcnO1xuXG4gICAgICBpZiAoYW5jZXN0b3JUYWcgPT09ICd0YWJsZScgJiYgY2hpbGRUYWcgPT09ICd0cicpIHtcbiAgICAgICAgaW5mbyArPSAnIEFkZCBhIDx0Ym9keT4sIDx0aGVhZD4gb3IgPHRmb290PiB0byB5b3VyIGNvZGUgdG8gbWF0Y2ggdGhlIERPTSB0cmVlIGdlbmVyYXRlZCBieSAnICsgJ3RoZSBicm93c2VyLic7XG4gICAgICB9XG5cbiAgICAgIHdhcm5pbmdXaXRob3V0U3RhY2skMShmYWxzZSwgJ3ZhbGlkYXRlRE9NTmVzdGluZyguLi4pOiAlcyBjYW5ub3QgYXBwZWFyIGFzIGEgY2hpbGQgb2YgPCVzPi4lcyVzJXMnLCB0YWdEaXNwbGF5TmFtZSwgYW5jZXN0b3JUYWcsIHdoaXRlc3BhY2VJbmZvLCBpbmZvLCBhZGRlbmR1bSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdhcm5pbmdXaXRob3V0U3RhY2skMShmYWxzZSwgJ3ZhbGlkYXRlRE9NTmVzdGluZyguLi4pOiAlcyBjYW5ub3QgYXBwZWFyIGFzIGEgZGVzY2VuZGFudCBvZiAnICsgJzwlcz4uJXMnLCB0YWdEaXNwbGF5TmFtZSwgYW5jZXN0b3JUYWcsIGFkZGVuZHVtKTtcbiAgICB9XG4gIH07XG59XG5cbi8vIGNhbiByZS1leHBvcnQgZXZlcnl0aGluZyBmcm9tIHRoaXMgbW9kdWxlLlxuXG5mdW5jdGlvbiBzaGltKCkge1xuICB7XG4gICAge1xuICAgICAgdGhyb3cgRXJyb3IoXCJUaGUgY3VycmVudCByZW5kZXJlciBkb2VzIG5vdCBzdXBwb3J0IHBlcnNpc3RlbmNlLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiKTtcbiAgICB9XG4gIH1cbn0gLy8gUGVyc2lzdGVuY2UgKHdoZW4gdW5zdXBwb3J0ZWQpXG5cblxudmFyIHN1cHBvcnRzUGVyc2lzdGVuY2UgPSBmYWxzZTtcbnZhciBjbG9uZUluc3RhbmNlID0gc2hpbTtcbnZhciBjbG9uZUZ1bmRhbWVudGFsSW5zdGFuY2UgPSBzaGltO1xudmFyIGNyZWF0ZUNvbnRhaW5lckNoaWxkU2V0ID0gc2hpbTtcbnZhciBhcHBlbmRDaGlsZFRvQ29udGFpbmVyQ2hpbGRTZXQgPSBzaGltO1xudmFyIGZpbmFsaXplQ29udGFpbmVyQ2hpbGRyZW4gPSBzaGltO1xudmFyIHJlcGxhY2VDb250YWluZXJDaGlsZHJlbiA9IHNoaW07XG52YXIgY2xvbmVIaWRkZW5JbnN0YW5jZSA9IHNoaW07XG52YXIgY2xvbmVIaWRkZW5UZXh0SW5zdGFuY2UgPSBzaGltO1xuXG52YXIgU1VQUFJFU1NfSFlEUkFUSU9OX1dBUk5JTkc7XG5cbntcbiAgU1VQUFJFU1NfSFlEUkFUSU9OX1dBUk5JTkcgPSAnc3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nJztcbn1cblxudmFyIFNVU1BFTlNFX1NUQVJUX0RBVEEgPSAnJCc7XG52YXIgU1VTUEVOU0VfRU5EX0RBVEEgPSAnLyQnO1xudmFyIFNVU1BFTlNFX1BFTkRJTkdfU1RBUlRfREFUQSA9ICckPyc7XG52YXIgU1VTUEVOU0VfRkFMTEJBQ0tfU1RBUlRfREFUQSA9ICckISc7XG52YXIgU1RZTEUgPSAnc3R5bGUnO1xudmFyIGV2ZW50c0VuYWJsZWQgPSBudWxsO1xudmFyIHNlbGVjdGlvbkluZm9ybWF0aW9uID0gbnVsbDtcblxuZnVuY3Rpb24gc2hvdWxkQXV0b0ZvY3VzSG9zdENvbXBvbmVudCh0eXBlLCBwcm9wcykge1xuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlICdidXR0b24nOlxuICAgIGNhc2UgJ2lucHV0JzpcbiAgICBjYXNlICdzZWxlY3QnOlxuICAgIGNhc2UgJ3RleHRhcmVhJzpcbiAgICAgIHJldHVybiAhIXByb3BzLmF1dG9Gb2N1cztcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gZ2V0Um9vdEhvc3RDb250ZXh0KHJvb3RDb250YWluZXJJbnN0YW5jZSkge1xuICB2YXIgdHlwZTtcbiAgdmFyIG5hbWVzcGFjZTtcbiAgdmFyIG5vZGVUeXBlID0gcm9vdENvbnRhaW5lckluc3RhbmNlLm5vZGVUeXBlO1xuXG4gIHN3aXRjaCAobm9kZVR5cGUpIHtcbiAgICBjYXNlIERPQ1VNRU5UX05PREU6XG4gICAgY2FzZSBET0NVTUVOVF9GUkFHTUVOVF9OT0RFOlxuICAgICAge1xuICAgICAgICB0eXBlID0gbm9kZVR5cGUgPT09IERPQ1VNRU5UX05PREUgPyAnI2RvY3VtZW50JyA6ICcjZnJhZ21lbnQnO1xuICAgICAgICB2YXIgcm9vdCA9IHJvb3RDb250YWluZXJJbnN0YW5jZS5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICAgIG5hbWVzcGFjZSA9IHJvb3QgPyByb290Lm5hbWVzcGFjZVVSSSA6IGdldENoaWxkTmFtZXNwYWNlKG51bGwsICcnKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICBkZWZhdWx0OlxuICAgICAge1xuICAgICAgICB2YXIgY29udGFpbmVyID0gbm9kZVR5cGUgPT09IENPTU1FTlRfTk9ERSA/IHJvb3RDb250YWluZXJJbnN0YW5jZS5wYXJlbnROb2RlIDogcm9vdENvbnRhaW5lckluc3RhbmNlO1xuICAgICAgICB2YXIgb3duTmFtZXNwYWNlID0gY29udGFpbmVyLm5hbWVzcGFjZVVSSSB8fCBudWxsO1xuICAgICAgICB0eXBlID0gY29udGFpbmVyLnRhZ05hbWU7XG4gICAgICAgIG5hbWVzcGFjZSA9IGdldENoaWxkTmFtZXNwYWNlKG93bk5hbWVzcGFjZSwgdHlwZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICB9XG5cbiAge1xuICAgIHZhciB2YWxpZGF0ZWRUYWcgPSB0eXBlLnRvTG93ZXJDYXNlKCk7XG4gICAgdmFyIGFuY2VzdG9ySW5mbyA9IHVwZGF0ZWRBbmNlc3RvckluZm8obnVsbCwgdmFsaWRhdGVkVGFnKTtcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZXNwYWNlOiBuYW1lc3BhY2UsXG4gICAgICBhbmNlc3RvckluZm86IGFuY2VzdG9ySW5mb1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gbmFtZXNwYWNlO1xufVxuZnVuY3Rpb24gZ2V0Q2hpbGRIb3N0Q29udGV4dChwYXJlbnRIb3N0Q29udGV4dCwgdHlwZSwgcm9vdENvbnRhaW5lckluc3RhbmNlKSB7XG4gIHtcbiAgICB2YXIgcGFyZW50SG9zdENvbnRleHREZXYgPSBwYXJlbnRIb3N0Q29udGV4dDtcbiAgICB2YXIgbmFtZXNwYWNlID0gZ2V0Q2hpbGROYW1lc3BhY2UocGFyZW50SG9zdENvbnRleHREZXYubmFtZXNwYWNlLCB0eXBlKTtcbiAgICB2YXIgYW5jZXN0b3JJbmZvID0gdXBkYXRlZEFuY2VzdG9ySW5mbyhwYXJlbnRIb3N0Q29udGV4dERldi5hbmNlc3RvckluZm8sIHR5cGUpO1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lc3BhY2U6IG5hbWVzcGFjZSxcbiAgICAgIGFuY2VzdG9ySW5mbzogYW5jZXN0b3JJbmZvXG4gICAgfTtcbiAgfVxuXG4gIHZhciBwYXJlbnROYW1lc3BhY2UgPSBwYXJlbnRIb3N0Q29udGV4dDtcbiAgcmV0dXJuIGdldENoaWxkTmFtZXNwYWNlKHBhcmVudE5hbWVzcGFjZSwgdHlwZSk7XG59XG5mdW5jdGlvbiBnZXRQdWJsaWNJbnN0YW5jZShpbnN0YW5jZSkge1xuICByZXR1cm4gaW5zdGFuY2U7XG59XG5mdW5jdGlvbiBwcmVwYXJlRm9yQ29tbWl0KGNvbnRhaW5lckluZm8pIHtcbiAgZXZlbnRzRW5hYmxlZCA9IGlzRW5hYmxlZCgpO1xuICBzZWxlY3Rpb25JbmZvcm1hdGlvbiA9IGdldFNlbGVjdGlvbkluZm9ybWF0aW9uKCk7XG4gIHNldEVuYWJsZWQoZmFsc2UpO1xufVxuZnVuY3Rpb24gcmVzZXRBZnRlckNvbW1pdChjb250YWluZXJJbmZvKSB7XG4gIHJlc3RvcmVTZWxlY3Rpb24oc2VsZWN0aW9uSW5mb3JtYXRpb24pO1xuICBzZWxlY3Rpb25JbmZvcm1hdGlvbiA9IG51bGw7XG4gIHNldEVuYWJsZWQoZXZlbnRzRW5hYmxlZCk7XG4gIGV2ZW50c0VuYWJsZWQgPSBudWxsO1xufVxuZnVuY3Rpb24gY3JlYXRlSW5zdGFuY2UodHlwZSwgcHJvcHMsIHJvb3RDb250YWluZXJJbnN0YW5jZSwgaG9zdENvbnRleHQsIGludGVybmFsSW5zdGFuY2VIYW5kbGUpIHtcbiAgdmFyIHBhcmVudE5hbWVzcGFjZTtcblxuICB7XG4gICAgLy8gVE9ETzogdGFrZSBuYW1lc3BhY2UgaW50byBhY2NvdW50IHdoZW4gdmFsaWRhdGluZy5cbiAgICB2YXIgaG9zdENvbnRleHREZXYgPSBob3N0Q29udGV4dDtcbiAgICB2YWxpZGF0ZURPTU5lc3RpbmcodHlwZSwgbnVsbCwgaG9zdENvbnRleHREZXYuYW5jZXN0b3JJbmZvKTtcblxuICAgIGlmICh0eXBlb2YgcHJvcHMuY2hpbGRyZW4gPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBwcm9wcy5jaGlsZHJlbiA9PT0gJ251bWJlcicpIHtcbiAgICAgIHZhciBzdHJpbmcgPSAnJyArIHByb3BzLmNoaWxkcmVuO1xuICAgICAgdmFyIG93bkFuY2VzdG9ySW5mbyA9IHVwZGF0ZWRBbmNlc3RvckluZm8oaG9zdENvbnRleHREZXYuYW5jZXN0b3JJbmZvLCB0eXBlKTtcbiAgICAgIHZhbGlkYXRlRE9NTmVzdGluZyhudWxsLCBzdHJpbmcsIG93bkFuY2VzdG9ySW5mbyk7XG4gICAgfVxuXG4gICAgcGFyZW50TmFtZXNwYWNlID0gaG9zdENvbnRleHREZXYubmFtZXNwYWNlO1xuICB9XG5cbiAgdmFyIGRvbUVsZW1lbnQgPSBjcmVhdGVFbGVtZW50KHR5cGUsIHByb3BzLCByb290Q29udGFpbmVySW5zdGFuY2UsIHBhcmVudE5hbWVzcGFjZSk7XG4gIHByZWNhY2hlRmliZXJOb2RlKGludGVybmFsSW5zdGFuY2VIYW5kbGUsIGRvbUVsZW1lbnQpO1xuICB1cGRhdGVGaWJlclByb3BzKGRvbUVsZW1lbnQsIHByb3BzKTtcbiAgcmV0dXJuIGRvbUVsZW1lbnQ7XG59XG5mdW5jdGlvbiBhcHBlbmRJbml0aWFsQ2hpbGQocGFyZW50SW5zdGFuY2UsIGNoaWxkKSB7XG4gIHBhcmVudEluc3RhbmNlLmFwcGVuZENoaWxkKGNoaWxkKTtcbn1cbmZ1bmN0aW9uIGZpbmFsaXplSW5pdGlhbENoaWxkcmVuKGRvbUVsZW1lbnQsIHR5cGUsIHByb3BzLCByb290Q29udGFpbmVySW5zdGFuY2UsIGhvc3RDb250ZXh0KSB7XG4gIHNldEluaXRpYWxQcm9wZXJ0aWVzKGRvbUVsZW1lbnQsIHR5cGUsIHByb3BzLCByb290Q29udGFpbmVySW5zdGFuY2UpO1xuICByZXR1cm4gc2hvdWxkQXV0b0ZvY3VzSG9zdENvbXBvbmVudCh0eXBlLCBwcm9wcyk7XG59XG5mdW5jdGlvbiBwcmVwYXJlVXBkYXRlKGRvbUVsZW1lbnQsIHR5cGUsIG9sZFByb3BzLCBuZXdQcm9wcywgcm9vdENvbnRhaW5lckluc3RhbmNlLCBob3N0Q29udGV4dCkge1xuICB7XG4gICAgdmFyIGhvc3RDb250ZXh0RGV2ID0gaG9zdENvbnRleHQ7XG5cbiAgICBpZiAodHlwZW9mIG5ld1Byb3BzLmNoaWxkcmVuICE9PSB0eXBlb2Ygb2xkUHJvcHMuY2hpbGRyZW4gJiYgKHR5cGVvZiBuZXdQcm9wcy5jaGlsZHJlbiA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIG5ld1Byb3BzLmNoaWxkcmVuID09PSAnbnVtYmVyJykpIHtcbiAgICAgIHZhciBzdHJpbmcgPSAnJyArIG5ld1Byb3BzLmNoaWxkcmVuO1xuICAgICAgdmFyIG93bkFuY2VzdG9ySW5mbyA9IHVwZGF0ZWRBbmNlc3RvckluZm8oaG9zdENvbnRleHREZXYuYW5jZXN0b3JJbmZvLCB0eXBlKTtcbiAgICAgIHZhbGlkYXRlRE9NTmVzdGluZyhudWxsLCBzdHJpbmcsIG93bkFuY2VzdG9ySW5mbyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGRpZmZQcm9wZXJ0aWVzKGRvbUVsZW1lbnQsIHR5cGUsIG9sZFByb3BzLCBuZXdQcm9wcywgcm9vdENvbnRhaW5lckluc3RhbmNlKTtcbn1cbmZ1bmN0aW9uIHNob3VsZFNldFRleHRDb250ZW50KHR5cGUsIHByb3BzKSB7XG4gIHJldHVybiB0eXBlID09PSAndGV4dGFyZWEnIHx8IHR5cGUgPT09ICdvcHRpb24nIHx8IHR5cGUgPT09ICdub3NjcmlwdCcgfHwgdHlwZW9mIHByb3BzLmNoaWxkcmVuID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgcHJvcHMuY2hpbGRyZW4gPT09ICdudW1iZXInIHx8IHR5cGVvZiBwcm9wcy5kYW5nZXJvdXNseVNldElubmVySFRNTCA9PT0gJ29iamVjdCcgJiYgcHJvcHMuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwgIT09IG51bGwgJiYgcHJvcHMuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwuX19odG1sICE9IG51bGw7XG59XG5mdW5jdGlvbiBzaG91bGREZXByaW9yaXRpemVTdWJ0cmVlKHR5cGUsIHByb3BzKSB7XG4gIHJldHVybiAhIXByb3BzLmhpZGRlbjtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVRleHRJbnN0YW5jZSh0ZXh0LCByb290Q29udGFpbmVySW5zdGFuY2UsIGhvc3RDb250ZXh0LCBpbnRlcm5hbEluc3RhbmNlSGFuZGxlKSB7XG4gIHtcbiAgICB2YXIgaG9zdENvbnRleHREZXYgPSBob3N0Q29udGV4dDtcbiAgICB2YWxpZGF0ZURPTU5lc3RpbmcobnVsbCwgdGV4dCwgaG9zdENvbnRleHREZXYuYW5jZXN0b3JJbmZvKTtcbiAgfVxuXG4gIHZhciB0ZXh0Tm9kZSA9IGNyZWF0ZVRleHROb2RlKHRleHQsIHJvb3RDb250YWluZXJJbnN0YW5jZSk7XG4gIHByZWNhY2hlRmliZXJOb2RlKGludGVybmFsSW5zdGFuY2VIYW5kbGUsIHRleHROb2RlKTtcbiAgcmV0dXJuIHRleHROb2RlO1xufVxudmFyIGlzUHJpbWFyeVJlbmRlcmVyID0gdHJ1ZTtcbnZhciB3YXJuc0lmTm90QWN0aW5nID0gdHJ1ZTsgLy8gVGhpcyBpbml0aWFsaXphdGlvbiBjb2RlIG1heSBydW4gZXZlbiBvbiBzZXJ2ZXIgZW52aXJvbm1lbnRzXG4vLyBpZiBhIGNvbXBvbmVudCBqdXN0IGltcG9ydHMgUmVhY3RET00gKGUuZy4gZm9yIGZpbmRET01Ob2RlKS5cbi8vIFNvbWUgZW52aXJvbm1lbnRzIG1pZ2h0IG5vdCBoYXZlIHNldFRpbWVvdXQgb3IgY2xlYXJUaW1lb3V0LlxuXG52YXIgc2NoZWR1bGVUaW1lb3V0ID0gdHlwZW9mIHNldFRpbWVvdXQgPT09ICdmdW5jdGlvbicgPyBzZXRUaW1lb3V0IDogdW5kZWZpbmVkO1xudmFyIGNhbmNlbFRpbWVvdXQgPSB0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nID8gY2xlYXJUaW1lb3V0IDogdW5kZWZpbmVkO1xudmFyIG5vVGltZW91dCA9IC0xOyAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyAgICAgTXV0YXRpb25cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS1cblxudmFyIHN1cHBvcnRzTXV0YXRpb24gPSB0cnVlO1xuZnVuY3Rpb24gY29tbWl0TW91bnQoZG9tRWxlbWVudCwgdHlwZSwgbmV3UHJvcHMsIGludGVybmFsSW5zdGFuY2VIYW5kbGUpIHtcbiAgLy8gRGVzcGl0ZSB0aGUgbmFtaW5nIHRoYXQgbWlnaHQgaW1wbHkgb3RoZXJ3aXNlLCB0aGlzIG1ldGhvZCBvbmx5XG4gIC8vIGZpcmVzIGlmIHRoZXJlIGlzIGFuIGBVcGRhdGVgIGVmZmVjdCBzY2hlZHVsZWQgZHVyaW5nIG1vdW50aW5nLlxuICAvLyBUaGlzIGhhcHBlbnMgaWYgYGZpbmFsaXplSW5pdGlhbENoaWxkcmVuYCByZXR1cm5zIGB0cnVlYCAod2hpY2ggaXRcbiAgLy8gZG9lcyB0byBpbXBsZW1lbnQgdGhlIGBhdXRvRm9jdXNgIGF0dHJpYnV0ZSBvbiB0aGUgY2xpZW50KS4gQnV0XG4gIC8vIHRoZXJlIGFyZSBhbHNvIG90aGVyIGNhc2VzIHdoZW4gdGhpcyBtaWdodCBoYXBwZW4gKHN1Y2ggYXMgcGF0Y2hpbmdcbiAgLy8gdXAgdGV4dCBjb250ZW50IGR1cmluZyBoeWRyYXRpb24gbWlzbWF0Y2gpLiBTbyB3ZSdsbCBjaGVjayB0aGlzIGFnYWluLlxuICBpZiAoc2hvdWxkQXV0b0ZvY3VzSG9zdENvbXBvbmVudCh0eXBlLCBuZXdQcm9wcykpIHtcbiAgICBkb21FbGVtZW50LmZvY3VzKCk7XG4gIH1cbn1cbmZ1bmN0aW9uIGNvbW1pdFVwZGF0ZShkb21FbGVtZW50LCB1cGRhdGVQYXlsb2FkLCB0eXBlLCBvbGRQcm9wcywgbmV3UHJvcHMsIGludGVybmFsSW5zdGFuY2VIYW5kbGUpIHtcbiAgLy8gVXBkYXRlIHRoZSBwcm9wcyBoYW5kbGUgc28gdGhhdCB3ZSBrbm93IHdoaWNoIHByb3BzIGFyZSB0aGUgb25lcyB3aXRoXG4gIC8vIHdpdGggY3VycmVudCBldmVudCBoYW5kbGVycy5cbiAgdXBkYXRlRmliZXJQcm9wcyhkb21FbGVtZW50LCBuZXdQcm9wcyk7IC8vIEFwcGx5IHRoZSBkaWZmIHRvIHRoZSBET00gbm9kZS5cblxuICB1cGRhdGVQcm9wZXJ0aWVzKGRvbUVsZW1lbnQsIHVwZGF0ZVBheWxvYWQsIHR5cGUsIG9sZFByb3BzLCBuZXdQcm9wcyk7XG59XG5mdW5jdGlvbiByZXNldFRleHRDb250ZW50KGRvbUVsZW1lbnQpIHtcbiAgc2V0VGV4dENvbnRlbnQoZG9tRWxlbWVudCwgJycpO1xufVxuZnVuY3Rpb24gY29tbWl0VGV4dFVwZGF0ZSh0ZXh0SW5zdGFuY2UsIG9sZFRleHQsIG5ld1RleHQpIHtcbiAgdGV4dEluc3RhbmNlLm5vZGVWYWx1ZSA9IG5ld1RleHQ7XG59XG5mdW5jdGlvbiBhcHBlbmRDaGlsZChwYXJlbnRJbnN0YW5jZSwgY2hpbGQpIHtcbiAgcGFyZW50SW5zdGFuY2UuYXBwZW5kQ2hpbGQoY2hpbGQpO1xufVxuZnVuY3Rpb24gYXBwZW5kQ2hpbGRUb0NvbnRhaW5lcihjb250YWluZXIsIGNoaWxkKSB7XG4gIHZhciBwYXJlbnROb2RlO1xuXG4gIGlmIChjb250YWluZXIubm9kZVR5cGUgPT09IENPTU1FTlRfTk9ERSkge1xuICAgIHBhcmVudE5vZGUgPSBjb250YWluZXIucGFyZW50Tm9kZTtcbiAgICBwYXJlbnROb2RlLmluc2VydEJlZm9yZShjaGlsZCwgY29udGFpbmVyKTtcbiAgfSBlbHNlIHtcbiAgICBwYXJlbnROb2RlID0gY29udGFpbmVyO1xuICAgIHBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoY2hpbGQpO1xuICB9IC8vIFRoaXMgY29udGFpbmVyIG1pZ2h0IGJlIHVzZWQgZm9yIGEgcG9ydGFsLlxuICAvLyBJZiBzb21ldGhpbmcgaW5zaWRlIGEgcG9ydGFsIGlzIGNsaWNrZWQsIHRoYXQgY2xpY2sgc2hvdWxkIGJ1YmJsZVxuICAvLyB0aHJvdWdoIHRoZSBSZWFjdCB0cmVlLiBIb3dldmVyLCBvbiBNb2JpbGUgU2FmYXJpIHRoZSBjbGljayB3b3VsZFxuICAvLyBuZXZlciBidWJibGUgdGhyb3VnaCB0aGUgKkRPTSogdHJlZSB1bmxlc3MgYW4gYW5jZXN0b3Igd2l0aCBvbmNsaWNrXG4gIC8vIGV2ZW50IGV4aXN0cy4gU28gd2Ugd291bGRuJ3Qgc2VlIGl0IGFuZCBkaXNwYXRjaCBpdC5cbiAgLy8gVGhpcyBpcyB3aHkgd2UgZW5zdXJlIHRoYXQgbm9uIFJlYWN0IHJvb3QgY29udGFpbmVycyBoYXZlIGlubGluZSBvbmNsaWNrXG4gIC8vIGRlZmluZWQuXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvMTE5MThcblxuXG4gIHZhciByZWFjdFJvb3RDb250YWluZXIgPSBjb250YWluZXIuX3JlYWN0Um9vdENvbnRhaW5lcjtcblxuICBpZiAoKHJlYWN0Um9vdENvbnRhaW5lciA9PT0gbnVsbCB8fCByZWFjdFJvb3RDb250YWluZXIgPT09IHVuZGVmaW5lZCkgJiYgcGFyZW50Tm9kZS5vbmNsaWNrID09PSBudWxsKSB7XG4gICAgLy8gVE9ETzogVGhpcyBjYXN0IG1heSBub3QgYmUgc291bmQgZm9yIFNWRywgTWF0aE1MIG9yIGN1c3RvbSBlbGVtZW50cy5cbiAgICB0cmFwQ2xpY2tPbk5vbkludGVyYWN0aXZlRWxlbWVudChwYXJlbnROb2RlKTtcbiAgfVxufVxuZnVuY3Rpb24gaW5zZXJ0QmVmb3JlKHBhcmVudEluc3RhbmNlLCBjaGlsZCwgYmVmb3JlQ2hpbGQpIHtcbiAgcGFyZW50SW5zdGFuY2UuaW5zZXJ0QmVmb3JlKGNoaWxkLCBiZWZvcmVDaGlsZCk7XG59XG5mdW5jdGlvbiBpbnNlcnRJbkNvbnRhaW5lckJlZm9yZShjb250YWluZXIsIGNoaWxkLCBiZWZvcmVDaGlsZCkge1xuICBpZiAoY29udGFpbmVyLm5vZGVUeXBlID09PSBDT01NRU5UX05PREUpIHtcbiAgICBjb250YWluZXIucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoY2hpbGQsIGJlZm9yZUNoaWxkKTtcbiAgfSBlbHNlIHtcbiAgICBjb250YWluZXIuaW5zZXJ0QmVmb3JlKGNoaWxkLCBiZWZvcmVDaGlsZCk7XG4gIH1cbn0gLy8gVGhpcyBpcyBhIHNwZWNpZmljIGV2ZW50IGZvciB0aGUgUmVhY3QgRmxhcmVcbi8vIGV2ZW50IHN5c3RlbSwgc28gZXZlbnQgcmVzcG9uZGVycyBjYW4gYWN0XG4vLyBhY2NvcmRpbmdseSB0byBhIERPTSBub2RlIGJlaW5nIHVubW91bnRlZCB0aGF0XG4vLyBwcmV2aW91c2x5IGhhZCBhY3RpdmUgZG9jdW1lbnQgZm9jdXMuXG5cbmZ1bmN0aW9uIGRpc3BhdGNoRGV0YWNoZWRWaXNpYmxlTm9kZUV2ZW50KGNoaWxkKSB7XG4gIGlmIChlbmFibGVGbGFyZUFQSSAmJiBzZWxlY3Rpb25JbmZvcm1hdGlvbiAmJiBjaGlsZCA9PT0gc2VsZWN0aW9uSW5mb3JtYXRpb24uZm9jdXNlZEVsZW0pIHtcbiAgICB2YXIgdGFyZ2V0RmliZXIgPSBnZXRDbG9zZXN0SW5zdGFuY2VGcm9tTm9kZShjaGlsZCk7IC8vIFNpbWx1bGF0ZSBhIGJsdXIgZXZlbnQgdG8gdGhlIFJlYWN0IEZsYXJlIHJlc3BvbmRlciBzeXN0ZW0uXG5cbiAgICBkaXNwYXRjaEV2ZW50Rm9yUmVzcG9uZGVyRXZlbnRTeXN0ZW0oJ2RldGFjaGVkdmlzaWJsZW5vZGUnLCB0YXJnZXRGaWJlciwge1xuICAgICAgdGFyZ2V0OiBjaGlsZCxcbiAgICAgIHRpbWVTdGFtcDogRGF0ZS5ub3coKVxuICAgIH0sIGNoaWxkLCBSRVNQT05ERVJfRVZFTlRfU1lTVEVNIHwgSVNfUEFTU0lWRSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVtb3ZlQ2hpbGQocGFyZW50SW5zdGFuY2UsIGNoaWxkKSB7XG4gIGRpc3BhdGNoRGV0YWNoZWRWaXNpYmxlTm9kZUV2ZW50KGNoaWxkKTtcbiAgcGFyZW50SW5zdGFuY2UucmVtb3ZlQ2hpbGQoY2hpbGQpO1xufVxuZnVuY3Rpb24gcmVtb3ZlQ2hpbGRGcm9tQ29udGFpbmVyKGNvbnRhaW5lciwgY2hpbGQpIHtcbiAgaWYgKGNvbnRhaW5lci5ub2RlVHlwZSA9PT0gQ09NTUVOVF9OT0RFKSB7XG4gICAgY29udGFpbmVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoY2hpbGQpO1xuICB9IGVsc2Uge1xuICAgIGRpc3BhdGNoRGV0YWNoZWRWaXNpYmxlTm9kZUV2ZW50KGNoaWxkKTtcbiAgICBjb250YWluZXIucmVtb3ZlQ2hpbGQoY2hpbGQpO1xuICB9XG59XG5mdW5jdGlvbiBjbGVhclN1c3BlbnNlQm91bmRhcnkocGFyZW50SW5zdGFuY2UsIHN1c3BlbnNlSW5zdGFuY2UpIHtcbiAgdmFyIG5vZGUgPSBzdXNwZW5zZUluc3RhbmNlOyAvLyBEZWxldGUgYWxsIG5vZGVzIHdpdGhpbiB0aGlzIHN1c3BlbnNlIGJvdW5kYXJ5LlxuICAvLyBUaGVyZSBtaWdodCBiZSBuZXN0ZWQgbm9kZXMgc28gd2UgbmVlZCB0byBrZWVwIHRyYWNrIG9mIGhvd1xuICAvLyBkZWVwIHdlIGFyZSBhbmQgb25seSBicmVhayBvdXQgd2hlbiB3ZSdyZSBiYWNrIG9uIHRvcC5cblxuICB2YXIgZGVwdGggPSAwO1xuXG4gIGRvIHtcbiAgICB2YXIgbmV4dE5vZGUgPSBub2RlLm5leHRTaWJsaW5nO1xuICAgIHBhcmVudEluc3RhbmNlLnJlbW92ZUNoaWxkKG5vZGUpO1xuXG4gICAgaWYgKG5leHROb2RlICYmIG5leHROb2RlLm5vZGVUeXBlID09PSBDT01NRU5UX05PREUpIHtcbiAgICAgIHZhciBkYXRhID0gbmV4dE5vZGUuZGF0YTtcblxuICAgICAgaWYgKGRhdGEgPT09IFNVU1BFTlNFX0VORF9EQVRBKSB7XG4gICAgICAgIGlmIChkZXB0aCA9PT0gMCkge1xuICAgICAgICAgIHBhcmVudEluc3RhbmNlLnJlbW92ZUNoaWxkKG5leHROb2RlKTsgLy8gUmV0cnkgaWYgYW55IGV2ZW50IHJlcGxheWluZyB3YXMgYmxvY2tlZCBvbiB0aGlzLlxuXG4gICAgICAgICAgcmV0cnlJZkJsb2NrZWRPbihzdXNwZW5zZUluc3RhbmNlKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGVwdGgtLTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChkYXRhID09PSBTVVNQRU5TRV9TVEFSVF9EQVRBIHx8IGRhdGEgPT09IFNVU1BFTlNFX1BFTkRJTkdfU1RBUlRfREFUQSB8fCBkYXRhID09PSBTVVNQRU5TRV9GQUxMQkFDS19TVEFSVF9EQVRBKSB7XG4gICAgICAgIGRlcHRoKys7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbm9kZSA9IG5leHROb2RlO1xuICB9IHdoaWxlIChub2RlKTsgLy8gVE9ETzogV2Fybiwgd2UgZGlkbid0IGZpbmQgdGhlIGVuZCBjb21tZW50IGJvdW5kYXJ5LlxuICAvLyBSZXRyeSBpZiBhbnkgZXZlbnQgcmVwbGF5aW5nIHdhcyBibG9ja2VkIG9uIHRoaXMuXG5cblxuICByZXRyeUlmQmxvY2tlZE9uKHN1c3BlbnNlSW5zdGFuY2UpO1xufVxuZnVuY3Rpb24gY2xlYXJTdXNwZW5zZUJvdW5kYXJ5RnJvbUNvbnRhaW5lcihjb250YWluZXIsIHN1c3BlbnNlSW5zdGFuY2UpIHtcbiAgaWYgKGNvbnRhaW5lci5ub2RlVHlwZSA9PT0gQ09NTUVOVF9OT0RFKSB7XG4gICAgY2xlYXJTdXNwZW5zZUJvdW5kYXJ5KGNvbnRhaW5lci5wYXJlbnROb2RlLCBzdXNwZW5zZUluc3RhbmNlKTtcbiAgfSBlbHNlIGlmIChjb250YWluZXIubm9kZVR5cGUgPT09IEVMRU1FTlRfTk9ERSkge1xuICAgIGNsZWFyU3VzcGVuc2VCb3VuZGFyeShjb250YWluZXIsIHN1c3BlbnNlSW5zdGFuY2UpO1xuICB9IGVsc2Uge30gLy8gRG9jdW1lbnQgbm9kZXMgc2hvdWxkIG5ldmVyIGNvbnRhaW4gc3VzcGVuc2UgYm91bmRhcmllcy5cbiAgLy8gUmV0cnkgaWYgYW55IGV2ZW50IHJlcGxheWluZyB3YXMgYmxvY2tlZCBvbiB0aGlzLlxuXG5cbiAgcmV0cnlJZkJsb2NrZWRPbihjb250YWluZXIpO1xufVxuZnVuY3Rpb24gaGlkZUluc3RhbmNlKGluc3RhbmNlKSB7XG4gIC8vIFRPRE86IERvZXMgdGhpcyB3b3JrIGZvciBhbGwgZWxlbWVudCB0eXBlcz8gV2hhdCBhYm91dCBNYXRoTUw/IFNob3VsZCB3ZVxuICAvLyBwYXNzIGhvc3QgY29udGV4dCB0byB0aGlzIG1ldGhvZD9cbiAgaW5zdGFuY2UgPSBpbnN0YW5jZTtcbiAgdmFyIHN0eWxlID0gaW5zdGFuY2Uuc3R5bGU7XG5cbiAgaWYgKHR5cGVvZiBzdHlsZS5zZXRQcm9wZXJ0eSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHN0eWxlLnNldFByb3BlcnR5KCdkaXNwbGF5JywgJ25vbmUnLCAnaW1wb3J0YW50Jyk7XG4gIH0gZWxzZSB7XG4gICAgc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgfVxufVxuZnVuY3Rpb24gaGlkZVRleHRJbnN0YW5jZSh0ZXh0SW5zdGFuY2UpIHtcbiAgdGV4dEluc3RhbmNlLm5vZGVWYWx1ZSA9ICcnO1xufVxuZnVuY3Rpb24gdW5oaWRlSW5zdGFuY2UoaW5zdGFuY2UsIHByb3BzKSB7XG4gIGluc3RhbmNlID0gaW5zdGFuY2U7XG4gIHZhciBzdHlsZVByb3AgPSBwcm9wc1tTVFlMRV07XG4gIHZhciBkaXNwbGF5ID0gc3R5bGVQcm9wICE9PSB1bmRlZmluZWQgJiYgc3R5bGVQcm9wICE9PSBudWxsICYmIHN0eWxlUHJvcC5oYXNPd25Qcm9wZXJ0eSgnZGlzcGxheScpID8gc3R5bGVQcm9wLmRpc3BsYXkgOiBudWxsO1xuICBpbnN0YW5jZS5zdHlsZS5kaXNwbGF5ID0gZGFuZ2Vyb3VzU3R5bGVWYWx1ZSgnZGlzcGxheScsIGRpc3BsYXkpO1xufVxuZnVuY3Rpb24gdW5oaWRlVGV4dEluc3RhbmNlKHRleHRJbnN0YW5jZSwgdGV4dCkge1xuICB0ZXh0SW5zdGFuY2Uubm9kZVZhbHVlID0gdGV4dDtcbn0gLy8gLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gICAgIEh5ZHJhdGlvblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG52YXIgc3VwcG9ydHNIeWRyYXRpb24gPSB0cnVlO1xuZnVuY3Rpb24gY2FuSHlkcmF0ZUluc3RhbmNlKGluc3RhbmNlLCB0eXBlLCBwcm9wcykge1xuICBpZiAoaW5zdGFuY2Uubm9kZVR5cGUgIT09IEVMRU1FTlRfTk9ERSB8fCB0eXBlLnRvTG93ZXJDYXNlKCkgIT09IGluc3RhbmNlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfSAvLyBUaGlzIGhhcyBub3cgYmVlbiByZWZpbmVkIHRvIGFuIGVsZW1lbnQgbm9kZS5cblxuXG4gIHJldHVybiBpbnN0YW5jZTtcbn1cbmZ1bmN0aW9uIGNhbkh5ZHJhdGVUZXh0SW5zdGFuY2UoaW5zdGFuY2UsIHRleHQpIHtcbiAgaWYgKHRleHQgPT09ICcnIHx8IGluc3RhbmNlLm5vZGVUeXBlICE9PSBURVhUX05PREUpIHtcbiAgICAvLyBFbXB0eSBzdHJpbmdzIGFyZSBub3QgcGFyc2VkIGJ5IEhUTUwgc28gdGhlcmUgd29uJ3QgYmUgYSBjb3JyZWN0IG1hdGNoIGhlcmUuXG4gICAgcmV0dXJuIG51bGw7XG4gIH0gLy8gVGhpcyBoYXMgbm93IGJlZW4gcmVmaW5lZCB0byBhIHRleHQgbm9kZS5cblxuXG4gIHJldHVybiBpbnN0YW5jZTtcbn1cbmZ1bmN0aW9uIGNhbkh5ZHJhdGVTdXNwZW5zZUluc3RhbmNlKGluc3RhbmNlKSB7XG4gIGlmIChpbnN0YW5jZS5ub2RlVHlwZSAhPT0gQ09NTUVOVF9OT0RFKSB7XG4gICAgLy8gRW1wdHkgc3RyaW5ncyBhcmUgbm90IHBhcnNlZCBieSBIVE1MIHNvIHRoZXJlIHdvbid0IGJlIGEgY29ycmVjdCBtYXRjaCBoZXJlLlxuICAgIHJldHVybiBudWxsO1xuICB9IC8vIFRoaXMgaGFzIG5vdyBiZWVuIHJlZmluZWQgdG8gYSBzdXNwZW5zZSBub2RlLlxuXG5cbiAgcmV0dXJuIGluc3RhbmNlO1xufVxuZnVuY3Rpb24gaXNTdXNwZW5zZUluc3RhbmNlUGVuZGluZyhpbnN0YW5jZSkge1xuICByZXR1cm4gaW5zdGFuY2UuZGF0YSA9PT0gU1VTUEVOU0VfUEVORElOR19TVEFSVF9EQVRBO1xufVxuZnVuY3Rpb24gaXNTdXNwZW5zZUluc3RhbmNlRmFsbGJhY2soaW5zdGFuY2UpIHtcbiAgcmV0dXJuIGluc3RhbmNlLmRhdGEgPT09IFNVU1BFTlNFX0ZBTExCQUNLX1NUQVJUX0RBVEE7XG59XG5mdW5jdGlvbiByZWdpc3RlclN1c3BlbnNlSW5zdGFuY2VSZXRyeShpbnN0YW5jZSwgY2FsbGJhY2spIHtcbiAgaW5zdGFuY2UuX3JlYWN0UmV0cnkgPSBjYWxsYmFjaztcbn1cblxuZnVuY3Rpb24gZ2V0TmV4dEh5ZHJhdGFibGUobm9kZSkge1xuICAvLyBTa2lwIG5vbi1oeWRyYXRhYmxlIG5vZGVzLlxuICBmb3IgKDsgbm9kZSAhPSBudWxsOyBub2RlID0gbm9kZS5uZXh0U2libGluZykge1xuICAgIHZhciBub2RlVHlwZSA9IG5vZGUubm9kZVR5cGU7XG5cbiAgICBpZiAobm9kZVR5cGUgPT09IEVMRU1FTlRfTk9ERSB8fCBub2RlVHlwZSA9PT0gVEVYVF9OT0RFKSB7XG4gICAgICBicmVhaztcbiAgICB9XG5cbiAgICBpZiAoZW5hYmxlU3VzcGVuc2VTZXJ2ZXJSZW5kZXJlcikge1xuICAgICAgaWYgKG5vZGVUeXBlID09PSBDT01NRU5UX05PREUpIHtcbiAgICAgICAgdmFyIG5vZGVEYXRhID0gbm9kZS5kYXRhO1xuXG4gICAgICAgIGlmIChub2RlRGF0YSA9PT0gU1VTUEVOU0VfU1RBUlRfREFUQSB8fCBub2RlRGF0YSA9PT0gU1VTUEVOU0VfRkFMTEJBQ0tfU1RBUlRfREFUQSB8fCBub2RlRGF0YSA9PT0gU1VTUEVOU0VfUEVORElOR19TVEFSVF9EQVRBKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gbm9kZTtcbn1cblxuZnVuY3Rpb24gZ2V0TmV4dEh5ZHJhdGFibGVTaWJsaW5nKGluc3RhbmNlKSB7XG4gIHJldHVybiBnZXROZXh0SHlkcmF0YWJsZShpbnN0YW5jZS5uZXh0U2libGluZyk7XG59XG5mdW5jdGlvbiBnZXRGaXJzdEh5ZHJhdGFibGVDaGlsZChwYXJlbnRJbnN0YW5jZSkge1xuICByZXR1cm4gZ2V0TmV4dEh5ZHJhdGFibGUocGFyZW50SW5zdGFuY2UuZmlyc3RDaGlsZCk7XG59XG5mdW5jdGlvbiBoeWRyYXRlSW5zdGFuY2UoaW5zdGFuY2UsIHR5cGUsIHByb3BzLCByb290Q29udGFpbmVySW5zdGFuY2UsIGhvc3RDb250ZXh0LCBpbnRlcm5hbEluc3RhbmNlSGFuZGxlKSB7XG4gIHByZWNhY2hlRmliZXJOb2RlKGludGVybmFsSW5zdGFuY2VIYW5kbGUsIGluc3RhbmNlKTsgLy8gVE9ETzogUG9zc2libHkgZGVmZXIgdGhpcyB1bnRpbCB0aGUgY29tbWl0IHBoYXNlIHdoZXJlIGFsbCB0aGUgZXZlbnRzXG4gIC8vIGdldCBhdHRhY2hlZC5cblxuICB1cGRhdGVGaWJlclByb3BzKGluc3RhbmNlLCBwcm9wcyk7XG4gIHZhciBwYXJlbnROYW1lc3BhY2U7XG5cbiAge1xuICAgIHZhciBob3N0Q29udGV4dERldiA9IGhvc3RDb250ZXh0O1xuICAgIHBhcmVudE5hbWVzcGFjZSA9IGhvc3RDb250ZXh0RGV2Lm5hbWVzcGFjZTtcbiAgfVxuXG4gIHJldHVybiBkaWZmSHlkcmF0ZWRQcm9wZXJ0aWVzKGluc3RhbmNlLCB0eXBlLCBwcm9wcywgcGFyZW50TmFtZXNwYWNlLCByb290Q29udGFpbmVySW5zdGFuY2UpO1xufVxuZnVuY3Rpb24gaHlkcmF0ZVRleHRJbnN0YW5jZSh0ZXh0SW5zdGFuY2UsIHRleHQsIGludGVybmFsSW5zdGFuY2VIYW5kbGUpIHtcbiAgcHJlY2FjaGVGaWJlck5vZGUoaW50ZXJuYWxJbnN0YW5jZUhhbmRsZSwgdGV4dEluc3RhbmNlKTtcbiAgcmV0dXJuIGRpZmZIeWRyYXRlZFRleHQodGV4dEluc3RhbmNlLCB0ZXh0KTtcbn1cbmZ1bmN0aW9uIGh5ZHJhdGVTdXNwZW5zZUluc3RhbmNlKHN1c3BlbnNlSW5zdGFuY2UsIGludGVybmFsSW5zdGFuY2VIYW5kbGUpIHtcbiAgcHJlY2FjaGVGaWJlck5vZGUoaW50ZXJuYWxJbnN0YW5jZUhhbmRsZSwgc3VzcGVuc2VJbnN0YW5jZSk7XG59XG5mdW5jdGlvbiBnZXROZXh0SHlkcmF0YWJsZUluc3RhbmNlQWZ0ZXJTdXNwZW5zZUluc3RhbmNlKHN1c3BlbnNlSW5zdGFuY2UpIHtcbiAgdmFyIG5vZGUgPSBzdXNwZW5zZUluc3RhbmNlLm5leHRTaWJsaW5nOyAvLyBTa2lwIHBhc3QgYWxsIG5vZGVzIHdpdGhpbiB0aGlzIHN1c3BlbnNlIGJvdW5kYXJ5LlxuICAvLyBUaGVyZSBtaWdodCBiZSBuZXN0ZWQgbm9kZXMgc28gd2UgbmVlZCB0byBrZWVwIHRyYWNrIG9mIGhvd1xuICAvLyBkZWVwIHdlIGFyZSBhbmQgb25seSBicmVhayBvdXQgd2hlbiB3ZSdyZSBiYWNrIG9uIHRvcC5cblxuICB2YXIgZGVwdGggPSAwO1xuXG4gIHdoaWxlIChub2RlKSB7XG4gICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IENPTU1FTlRfTk9ERSkge1xuICAgICAgdmFyIGRhdGEgPSBub2RlLmRhdGE7XG5cbiAgICAgIGlmIChkYXRhID09PSBTVVNQRU5TRV9FTkRfREFUQSkge1xuICAgICAgICBpZiAoZGVwdGggPT09IDApIHtcbiAgICAgICAgICByZXR1cm4gZ2V0TmV4dEh5ZHJhdGFibGVTaWJsaW5nKG5vZGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRlcHRoLS07XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoZGF0YSA9PT0gU1VTUEVOU0VfU1RBUlRfREFUQSB8fCBkYXRhID09PSBTVVNQRU5TRV9GQUxMQkFDS19TVEFSVF9EQVRBIHx8IGRhdGEgPT09IFNVU1BFTlNFX1BFTkRJTkdfU1RBUlRfREFUQSkge1xuICAgICAgICBkZXB0aCsrO1xuICAgICAgfVxuICAgIH1cblxuICAgIG5vZGUgPSBub2RlLm5leHRTaWJsaW5nO1xuICB9IC8vIFRPRE86IFdhcm4sIHdlIGRpZG4ndCBmaW5kIHRoZSBlbmQgY29tbWVudCBib3VuZGFyeS5cblxuXG4gIHJldHVybiBudWxsO1xufSAvLyBSZXR1cm5zIHRoZSBTdXNwZW5zZUluc3RhbmNlIGlmIHRoaXMgbm9kZSBpcyBhIGRpcmVjdCBjaGlsZCBvZiBhXG4vLyBTdXNwZW5zZUluc3RhbmNlLiBJLmUuIGlmIGl0cyBwcmV2aW91cyBzaWJsaW5nIGlzIGEgQ29tbWVudCB3aXRoXG4vLyBTVVNQRU5TRV94X1NUQVJUX0RBVEEuIE90aGVyd2lzZSwgbnVsbC5cblxuZnVuY3Rpb24gZ2V0UGFyZW50U3VzcGVuc2VJbnN0YW5jZSh0YXJnZXRJbnN0YW5jZSkge1xuICB2YXIgbm9kZSA9IHRhcmdldEluc3RhbmNlLnByZXZpb3VzU2libGluZzsgLy8gU2tpcCBwYXN0IGFsbCBub2RlcyB3aXRoaW4gdGhpcyBzdXNwZW5zZSBib3VuZGFyeS5cbiAgLy8gVGhlcmUgbWlnaHQgYmUgbmVzdGVkIG5vZGVzIHNvIHdlIG5lZWQgdG8ga2VlcCB0cmFjayBvZiBob3dcbiAgLy8gZGVlcCB3ZSBhcmUgYW5kIG9ubHkgYnJlYWsgb3V0IHdoZW4gd2UncmUgYmFjayBvbiB0b3AuXG5cbiAgdmFyIGRlcHRoID0gMDtcblxuICB3aGlsZSAobm9kZSkge1xuICAgIGlmIChub2RlLm5vZGVUeXBlID09PSBDT01NRU5UX05PREUpIHtcbiAgICAgIHZhciBkYXRhID0gbm9kZS5kYXRhO1xuXG4gICAgICBpZiAoZGF0YSA9PT0gU1VTUEVOU0VfU1RBUlRfREFUQSB8fCBkYXRhID09PSBTVVNQRU5TRV9GQUxMQkFDS19TVEFSVF9EQVRBIHx8IGRhdGEgPT09IFNVU1BFTlNFX1BFTkRJTkdfU1RBUlRfREFUQSkge1xuICAgICAgICBpZiAoZGVwdGggPT09IDApIHtcbiAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZXB0aC0tO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGRhdGEgPT09IFNVU1BFTlNFX0VORF9EQVRBKSB7XG4gICAgICAgIGRlcHRoKys7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbm9kZSA9IG5vZGUucHJldmlvdXNTaWJsaW5nO1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBjb21taXRIeWRyYXRlZENvbnRhaW5lcihjb250YWluZXIpIHtcbiAgLy8gUmV0cnkgaWYgYW55IGV2ZW50IHJlcGxheWluZyB3YXMgYmxvY2tlZCBvbiB0aGlzLlxuICByZXRyeUlmQmxvY2tlZE9uKGNvbnRhaW5lcik7XG59XG5mdW5jdGlvbiBjb21taXRIeWRyYXRlZFN1c3BlbnNlSW5zdGFuY2Uoc3VzcGVuc2VJbnN0YW5jZSkge1xuICAvLyBSZXRyeSBpZiBhbnkgZXZlbnQgcmVwbGF5aW5nIHdhcyBibG9ja2VkIG9uIHRoaXMuXG4gIHJldHJ5SWZCbG9ja2VkT24oc3VzcGVuc2VJbnN0YW5jZSk7XG59XG5mdW5jdGlvbiBkaWROb3RNYXRjaEh5ZHJhdGVkQ29udGFpbmVyVGV4dEluc3RhbmNlKHBhcmVudENvbnRhaW5lciwgdGV4dEluc3RhbmNlLCB0ZXh0KSB7XG4gIHtcbiAgICB3YXJuRm9yVW5tYXRjaGVkVGV4dCh0ZXh0SW5zdGFuY2UsIHRleHQpO1xuICB9XG59XG5mdW5jdGlvbiBkaWROb3RNYXRjaEh5ZHJhdGVkVGV4dEluc3RhbmNlKHBhcmVudFR5cGUsIHBhcmVudFByb3BzLCBwYXJlbnRJbnN0YW5jZSwgdGV4dEluc3RhbmNlLCB0ZXh0KSB7XG4gIGlmICh0cnVlICYmIHBhcmVudFByb3BzW1NVUFBSRVNTX0hZRFJBVElPTl9XQVJOSU5HXSAhPT0gdHJ1ZSkge1xuICAgIHdhcm5Gb3JVbm1hdGNoZWRUZXh0KHRleHRJbnN0YW5jZSwgdGV4dCk7XG4gIH1cbn1cbmZ1bmN0aW9uIGRpZE5vdEh5ZHJhdGVDb250YWluZXJJbnN0YW5jZShwYXJlbnRDb250YWluZXIsIGluc3RhbmNlKSB7XG4gIHtcbiAgICBpZiAoaW5zdGFuY2Uubm9kZVR5cGUgPT09IEVMRU1FTlRfTk9ERSkge1xuICAgICAgd2FybkZvckRlbGV0ZWRIeWRyYXRhYmxlRWxlbWVudChwYXJlbnRDb250YWluZXIsIGluc3RhbmNlKTtcbiAgICB9IGVsc2UgaWYgKGluc3RhbmNlLm5vZGVUeXBlID09PSBDT01NRU5UX05PREUpIHsvLyBUT0RPOiB3YXJuRm9yRGVsZXRlZEh5ZHJhdGFibGVTdXNwZW5zZUJvdW5kYXJ5XG4gICAgfSBlbHNlIHtcbiAgICAgIHdhcm5Gb3JEZWxldGVkSHlkcmF0YWJsZVRleHQocGFyZW50Q29udGFpbmVyLCBpbnN0YW5jZSk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBkaWROb3RIeWRyYXRlSW5zdGFuY2UocGFyZW50VHlwZSwgcGFyZW50UHJvcHMsIHBhcmVudEluc3RhbmNlLCBpbnN0YW5jZSkge1xuICBpZiAodHJ1ZSAmJiBwYXJlbnRQcm9wc1tTVVBQUkVTU19IWURSQVRJT05fV0FSTklOR10gIT09IHRydWUpIHtcbiAgICBpZiAoaW5zdGFuY2Uubm9kZVR5cGUgPT09IEVMRU1FTlRfTk9ERSkge1xuICAgICAgd2FybkZvckRlbGV0ZWRIeWRyYXRhYmxlRWxlbWVudChwYXJlbnRJbnN0YW5jZSwgaW5zdGFuY2UpO1xuICAgIH0gZWxzZSBpZiAoaW5zdGFuY2Uubm9kZVR5cGUgPT09IENPTU1FTlRfTk9ERSkgey8vIFRPRE86IHdhcm5Gb3JEZWxldGVkSHlkcmF0YWJsZVN1c3BlbnNlQm91bmRhcnlcbiAgICB9IGVsc2Uge1xuICAgICAgd2FybkZvckRlbGV0ZWRIeWRyYXRhYmxlVGV4dChwYXJlbnRJbnN0YW5jZSwgaW5zdGFuY2UpO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gZGlkTm90RmluZEh5ZHJhdGFibGVDb250YWluZXJJbnN0YW5jZShwYXJlbnRDb250YWluZXIsIHR5cGUsIHByb3BzKSB7XG4gIHtcbiAgICB3YXJuRm9ySW5zZXJ0ZWRIeWRyYXRlZEVsZW1lbnQocGFyZW50Q29udGFpbmVyLCB0eXBlLCBwcm9wcyk7XG4gIH1cbn1cbmZ1bmN0aW9uIGRpZE5vdEZpbmRIeWRyYXRhYmxlQ29udGFpbmVyVGV4dEluc3RhbmNlKHBhcmVudENvbnRhaW5lciwgdGV4dCkge1xuICB7XG4gICAgd2FybkZvckluc2VydGVkSHlkcmF0ZWRUZXh0KHBhcmVudENvbnRhaW5lciwgdGV4dCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZGlkTm90RmluZEh5ZHJhdGFibGVJbnN0YW5jZShwYXJlbnRUeXBlLCBwYXJlbnRQcm9wcywgcGFyZW50SW5zdGFuY2UsIHR5cGUsIHByb3BzKSB7XG4gIGlmICh0cnVlICYmIHBhcmVudFByb3BzW1NVUFBSRVNTX0hZRFJBVElPTl9XQVJOSU5HXSAhPT0gdHJ1ZSkge1xuICAgIHdhcm5Gb3JJbnNlcnRlZEh5ZHJhdGVkRWxlbWVudChwYXJlbnRJbnN0YW5jZSwgdHlwZSwgcHJvcHMpO1xuICB9XG59XG5mdW5jdGlvbiBkaWROb3RGaW5kSHlkcmF0YWJsZVRleHRJbnN0YW5jZShwYXJlbnRUeXBlLCBwYXJlbnRQcm9wcywgcGFyZW50SW5zdGFuY2UsIHRleHQpIHtcbiAgaWYgKHRydWUgJiYgcGFyZW50UHJvcHNbU1VQUFJFU1NfSFlEUkFUSU9OX1dBUk5JTkddICE9PSB0cnVlKSB7XG4gICAgd2FybkZvckluc2VydGVkSHlkcmF0ZWRUZXh0KHBhcmVudEluc3RhbmNlLCB0ZXh0KTtcbiAgfVxufVxuZnVuY3Rpb24gZGlkTm90RmluZEh5ZHJhdGFibGVTdXNwZW5zZUluc3RhbmNlKHBhcmVudFR5cGUsIHBhcmVudFByb3BzLCBwYXJlbnRJbnN0YW5jZSkge1xuICBpZiAodHJ1ZSAmJiBwYXJlbnRQcm9wc1tTVVBQUkVTU19IWURSQVRJT05fV0FSTklOR10gIT09IHRydWUpIHsvLyBUT0RPOiB3YXJuRm9ySW5zZXJ0ZWRIeWRyYXRlZFN1c3BlbnNlKHBhcmVudEluc3RhbmNlKTtcbiAgfVxufVxuZnVuY3Rpb24gbW91bnRSZXNwb25kZXJJbnN0YW5jZShyZXNwb25kZXIsIHJlc3BvbmRlckluc3RhbmNlLCByZXNwb25kZXJQcm9wcywgcmVzcG9uZGVyU3RhdGUsIGluc3RhbmNlKSB7XG4gIC8vIExpc3RlbiB0byBldmVudHNcbiAgdmFyIGRvYyA9IGluc3RhbmNlLm93bmVyRG9jdW1lbnQ7XG4gIHZhciBfcmVmID0gcmVzcG9uZGVyLFxuICAgICAgcm9vdEV2ZW50VHlwZXMgPSBfcmVmLnJvb3RFdmVudFR5cGVzLFxuICAgICAgdGFyZ2V0RXZlbnRUeXBlcyA9IF9yZWYudGFyZ2V0RXZlbnRUeXBlcztcblxuICBpZiAodGFyZ2V0RXZlbnRUeXBlcyAhPT0gbnVsbCkge1xuICAgIGxpc3RlblRvRXZlbnRSZXNwb25kZXJFdmVudFR5cGVzKHRhcmdldEV2ZW50VHlwZXMsIGRvYyk7XG4gIH1cblxuICBpZiAocm9vdEV2ZW50VHlwZXMgIT09IG51bGwpIHtcbiAgICBhZGRSb290RXZlbnRUeXBlc0ZvclJlc3BvbmRlckluc3RhbmNlKHJlc3BvbmRlckluc3RhbmNlLCByb290RXZlbnRUeXBlcyk7XG4gICAgbGlzdGVuVG9FdmVudFJlc3BvbmRlckV2ZW50VHlwZXMocm9vdEV2ZW50VHlwZXMsIGRvYyk7XG4gIH1cblxuICBtb3VudEV2ZW50UmVzcG9uZGVyKHJlc3BvbmRlciwgcmVzcG9uZGVySW5zdGFuY2UsIHJlc3BvbmRlclByb3BzLCByZXNwb25kZXJTdGF0ZSk7XG4gIHJldHVybiByZXNwb25kZXJJbnN0YW5jZTtcbn1cbmZ1bmN0aW9uIHVubW91bnRSZXNwb25kZXJJbnN0YW5jZShyZXNwb25kZXJJbnN0YW5jZSkge1xuICBpZiAoZW5hYmxlRmxhcmVBUEkpIHtcbiAgICAvLyBUT0RPIHN0b3AgbGlzdGVuaW5nIHRvIHRhcmdldEV2ZW50VHlwZXNcbiAgICB1bm1vdW50RXZlbnRSZXNwb25kZXIocmVzcG9uZGVySW5zdGFuY2UpO1xuICB9XG59XG5mdW5jdGlvbiBnZXRGdW5kYW1lbnRhbENvbXBvbmVudEluc3RhbmNlKGZ1bmRhbWVudGFsSW5zdGFuY2UpIHtcbiAgaWYgKGVuYWJsZUZ1bmRhbWVudGFsQVBJKSB7XG4gICAgdmFyIGN1cnJlbnRGaWJlciA9IGZ1bmRhbWVudGFsSW5zdGFuY2UuY3VycmVudEZpYmVyLFxuICAgICAgICBpbXBsID0gZnVuZGFtZW50YWxJbnN0YW5jZS5pbXBsLFxuICAgICAgICBwcm9wcyA9IGZ1bmRhbWVudGFsSW5zdGFuY2UucHJvcHMsXG4gICAgICAgIHN0YXRlID0gZnVuZGFtZW50YWxJbnN0YW5jZS5zdGF0ZTtcbiAgICB2YXIgaW5zdGFuY2UgPSBpbXBsLmdldEluc3RhbmNlKG51bGwsIHByb3BzLCBzdGF0ZSk7XG4gICAgcHJlY2FjaGVGaWJlck5vZGUoY3VycmVudEZpYmVyLCBpbnN0YW5jZSk7XG4gICAgcmV0dXJuIGluc3RhbmNlO1xuICB9IC8vIEJlY2F1c2Ugb2YgdGhlIGZsYWcgYWJvdmUsIHRoaXMgZ2V0cyBhcm91bmQgdGhlIEZsb3cgZXJyb3I7XG5cblxuICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIG1vdW50RnVuZGFtZW50YWxDb21wb25lbnQoZnVuZGFtZW50YWxJbnN0YW5jZSkge1xuICBpZiAoZW5hYmxlRnVuZGFtZW50YWxBUEkpIHtcbiAgICB2YXIgaW1wbCA9IGZ1bmRhbWVudGFsSW5zdGFuY2UuaW1wbCxcbiAgICAgICAgaW5zdGFuY2UgPSBmdW5kYW1lbnRhbEluc3RhbmNlLmluc3RhbmNlLFxuICAgICAgICBwcm9wcyA9IGZ1bmRhbWVudGFsSW5zdGFuY2UucHJvcHMsXG4gICAgICAgIHN0YXRlID0gZnVuZGFtZW50YWxJbnN0YW5jZS5zdGF0ZTtcbiAgICB2YXIgb25Nb3VudCA9IGltcGwub25Nb3VudDtcblxuICAgIGlmIChvbk1vdW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIG9uTW91bnQobnVsbCwgaW5zdGFuY2UsIHByb3BzLCBzdGF0ZSk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBzaG91bGRVcGRhdGVGdW5kYW1lbnRhbENvbXBvbmVudChmdW5kYW1lbnRhbEluc3RhbmNlKSB7XG4gIGlmIChlbmFibGVGdW5kYW1lbnRhbEFQSSkge1xuICAgIHZhciBpbXBsID0gZnVuZGFtZW50YWxJbnN0YW5jZS5pbXBsLFxuICAgICAgICBwcmV2UHJvcHMgPSBmdW5kYW1lbnRhbEluc3RhbmNlLnByZXZQcm9wcyxcbiAgICAgICAgcHJvcHMgPSBmdW5kYW1lbnRhbEluc3RhbmNlLnByb3BzLFxuICAgICAgICBzdGF0ZSA9IGZ1bmRhbWVudGFsSW5zdGFuY2Uuc3RhdGU7XG4gICAgdmFyIHNob3VsZFVwZGF0ZSA9IGltcGwuc2hvdWxkVXBkYXRlO1xuXG4gICAgaWYgKHNob3VsZFVwZGF0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gc2hvdWxkVXBkYXRlKG51bGwsIHByZXZQcm9wcywgcHJvcHMsIHN0YXRlKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIHVwZGF0ZUZ1bmRhbWVudGFsQ29tcG9uZW50KGZ1bmRhbWVudGFsSW5zdGFuY2UpIHtcbiAgaWYgKGVuYWJsZUZ1bmRhbWVudGFsQVBJKSB7XG4gICAgdmFyIGltcGwgPSBmdW5kYW1lbnRhbEluc3RhbmNlLmltcGwsXG4gICAgICAgIGluc3RhbmNlID0gZnVuZGFtZW50YWxJbnN0YW5jZS5pbnN0YW5jZSxcbiAgICAgICAgcHJldlByb3BzID0gZnVuZGFtZW50YWxJbnN0YW5jZS5wcmV2UHJvcHMsXG4gICAgICAgIHByb3BzID0gZnVuZGFtZW50YWxJbnN0YW5jZS5wcm9wcyxcbiAgICAgICAgc3RhdGUgPSBmdW5kYW1lbnRhbEluc3RhbmNlLnN0YXRlO1xuICAgIHZhciBvblVwZGF0ZSA9IGltcGwub25VcGRhdGU7XG5cbiAgICBpZiAob25VcGRhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgb25VcGRhdGUobnVsbCwgaW5zdGFuY2UsIHByZXZQcm9wcywgcHJvcHMsIHN0YXRlKTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIHVubW91bnRGdW5kYW1lbnRhbENvbXBvbmVudChmdW5kYW1lbnRhbEluc3RhbmNlKSB7XG4gIGlmIChlbmFibGVGdW5kYW1lbnRhbEFQSSkge1xuICAgIHZhciBpbXBsID0gZnVuZGFtZW50YWxJbnN0YW5jZS5pbXBsLFxuICAgICAgICBpbnN0YW5jZSA9IGZ1bmRhbWVudGFsSW5zdGFuY2UuaW5zdGFuY2UsXG4gICAgICAgIHByb3BzID0gZnVuZGFtZW50YWxJbnN0YW5jZS5wcm9wcyxcbiAgICAgICAgc3RhdGUgPSBmdW5kYW1lbnRhbEluc3RhbmNlLnN0YXRlO1xuICAgIHZhciBvblVubW91bnQgPSBpbXBsLm9uVW5tb3VudDtcblxuICAgIGlmIChvblVubW91bnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgb25Vbm1vdW50KG51bGwsIGluc3RhbmNlLCBwcm9wcywgc3RhdGUpO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gZ2V0SW5zdGFuY2VGcm9tTm9kZSQyKG5vZGUpIHtcbiAgcmV0dXJuIGdldENsb3Nlc3RJbnN0YW5jZUZyb21Ob2RlKG5vZGUpIHx8IG51bGw7XG59XG5cbnZhciByYW5kb21LZXkgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zbGljZSgyKTtcbnZhciBpbnRlcm5hbEluc3RhbmNlS2V5ID0gJ19fcmVhY3RJbnRlcm5hbEluc3RhbmNlJCcgKyByYW5kb21LZXk7XG52YXIgaW50ZXJuYWxFdmVudEhhbmRsZXJzS2V5ID0gJ19fcmVhY3RFdmVudEhhbmRsZXJzJCcgKyByYW5kb21LZXk7XG52YXIgaW50ZXJuYWxDb250YWluZXJJbnN0YW5jZUtleSA9ICdfX3JlYWN0Q29udGFpbmVyZSQnICsgcmFuZG9tS2V5O1xuZnVuY3Rpb24gcHJlY2FjaGVGaWJlck5vZGUoaG9zdEluc3QsIG5vZGUpIHtcbiAgbm9kZVtpbnRlcm5hbEluc3RhbmNlS2V5XSA9IGhvc3RJbnN0O1xufVxuZnVuY3Rpb24gbWFya0NvbnRhaW5lckFzUm9vdChob3N0Um9vdCwgbm9kZSkge1xuICBub2RlW2ludGVybmFsQ29udGFpbmVySW5zdGFuY2VLZXldID0gaG9zdFJvb3Q7XG59XG5mdW5jdGlvbiB1bm1hcmtDb250YWluZXJBc1Jvb3Qobm9kZSkge1xuICBub2RlW2ludGVybmFsQ29udGFpbmVySW5zdGFuY2VLZXldID0gbnVsbDtcbn1cbmZ1bmN0aW9uIGlzQ29udGFpbmVyTWFya2VkQXNSb290KG5vZGUpIHtcbiAgcmV0dXJuICEhbm9kZVtpbnRlcm5hbENvbnRhaW5lckluc3RhbmNlS2V5XTtcbn0gLy8gR2l2ZW4gYSBET00gbm9kZSwgcmV0dXJuIHRoZSBjbG9zZXN0IEhvc3RDb21wb25lbnQgb3IgSG9zdFRleHQgZmliZXIgYW5jZXN0b3IuXG4vLyBJZiB0aGUgdGFyZ2V0IG5vZGUgaXMgcGFydCBvZiBhIGh5ZHJhdGVkIG9yIG5vdCB5ZXQgcmVuZGVyZWQgc3VidHJlZSwgdGhlblxuLy8gdGhpcyBtYXkgYWxzbyByZXR1cm4gYSBTdXNwZW5zZUNvbXBvbmVudCBvciBIb3N0Um9vdCB0byBpbmRpY2F0ZSB0aGF0LlxuLy8gQ29uY2VwdHVhbGx5IHRoZSBIb3N0Um9vdCBmaWJlciBpcyBhIGNoaWxkIG9mIHRoZSBDb250YWluZXIgbm9kZS4gU28gaWYgeW91XG4vLyBwYXNzIHRoZSBDb250YWluZXIgbm9kZSBhcyB0aGUgdGFyZ2V0Tm9kZSwgeW91IHdpbGwgbm90IGFjdHVhbGx5IGdldCB0aGVcbi8vIEhvc3RSb290IGJhY2suIFRvIGdldCB0byB0aGUgSG9zdFJvb3QsIHlvdSBuZWVkIHRvIHBhc3MgYSBjaGlsZCBvZiBpdC5cbi8vIFRoZSBzYW1lIHRoaW5nIGFwcGxpZXMgdG8gU3VzcGVuc2UgYm91bmRhcmllcy5cblxuZnVuY3Rpb24gZ2V0Q2xvc2VzdEluc3RhbmNlRnJvbU5vZGUodGFyZ2V0Tm9kZSkge1xuICB2YXIgdGFyZ2V0SW5zdCA9IHRhcmdldE5vZGVbaW50ZXJuYWxJbnN0YW5jZUtleV07XG5cbiAgaWYgKHRhcmdldEluc3QpIHtcbiAgICAvLyBEb24ndCByZXR1cm4gSG9zdFJvb3Qgb3IgU3VzcGVuc2VDb21wb25lbnQgaGVyZS5cbiAgICByZXR1cm4gdGFyZ2V0SW5zdDtcbiAgfSAvLyBJZiB0aGUgZGlyZWN0IGV2ZW50IHRhcmdldCBpc24ndCBhIFJlYWN0IG93bmVkIERPTSBub2RlLCB3ZSBuZWVkIHRvIGxvb2tcbiAgLy8gdG8gc2VlIGlmIG9uZSBvZiBpdHMgcGFyZW50cyBpcyBhIFJlYWN0IG93bmVkIERPTSBub2RlLlxuXG5cbiAgdmFyIHBhcmVudE5vZGUgPSB0YXJnZXROb2RlLnBhcmVudE5vZGU7XG5cbiAgd2hpbGUgKHBhcmVudE5vZGUpIHtcbiAgICAvLyBXZSdsbCBjaGVjayBpZiB0aGlzIGlzIGEgY29udGFpbmVyIHJvb3QgdGhhdCBjb3VsZCBpbmNsdWRlXG4gICAgLy8gUmVhY3Qgbm9kZXMgaW4gdGhlIGZ1dHVyZS4gV2UgbmVlZCB0byBjaGVjayB0aGlzIGZpcnN0IGJlY2F1c2VcbiAgICAvLyBpZiB3ZSdyZSBhIGNoaWxkIG9mIGEgZGVoeWRyYXRlZCBjb250YWluZXIsIHdlIG5lZWQgdG8gZmlyc3RcbiAgICAvLyBmaW5kIHRoYXQgaW5uZXIgY29udGFpbmVyIGJlZm9yZSBtb3Zpbmcgb24gdG8gZmluZGluZyB0aGUgcGFyZW50XG4gICAgLy8gaW5zdGFuY2UuIE5vdGUgdGhhdCB3ZSBkb24ndCBjaGVjayB0aGlzIGZpZWxkIG9uICB0aGUgdGFyZ2V0Tm9kZVxuICAgIC8vIGl0c2VsZiBiZWNhdXNlIHRoZSBmaWJlcnMgYXJlIGNvbmNlcHR1YWxseSBiZXR3ZWVuIHRoZSBjb250YWluZXJcbiAgICAvLyBub2RlIGFuZCB0aGUgZmlyc3QgY2hpbGQuIEl0IGlzbid0IHN1cnJvdW5kaW5nIHRoZSBjb250YWluZXIgbm9kZS5cbiAgICAvLyBJZiBpdCdzIG5vdCBhIGNvbnRhaW5lciwgd2UgY2hlY2sgaWYgaXQncyBhbiBpbnN0YW5jZS5cbiAgICB0YXJnZXRJbnN0ID0gcGFyZW50Tm9kZVtpbnRlcm5hbENvbnRhaW5lckluc3RhbmNlS2V5XSB8fCBwYXJlbnROb2RlW2ludGVybmFsSW5zdGFuY2VLZXldO1xuXG4gICAgaWYgKHRhcmdldEluc3QpIHtcbiAgICAgIC8vIFNpbmNlIHRoaXMgd2Fzbid0IHRoZSBkaXJlY3QgdGFyZ2V0IG9mIHRoZSBldmVudCwgd2UgbWlnaHQgaGF2ZVxuICAgICAgLy8gc3RlcHBlZCBwYXN0IGRlaHlkcmF0ZWQgRE9NIG5vZGVzIHRvIGdldCBoZXJlLiBIb3dldmVyIHRoZXkgY291bGRcbiAgICAgIC8vIGFsc28gaGF2ZSBiZWVuIG5vbi1SZWFjdCBub2Rlcy4gV2UgbmVlZCB0byBhbnN3ZXIgd2hpY2ggb25lLlxuICAgICAgLy8gSWYgd2UgdGhlIGluc3RhbmNlIGRvZXNuJ3QgaGF2ZSBhbnkgY2hpbGRyZW4sIHRoZW4gdGhlcmUgY2FuJ3QgYmVcbiAgICAgIC8vIGEgbmVzdGVkIHN1c3BlbnNlIGJvdW5kYXJ5IHdpdGhpbiBpdC4gU28gd2UgY2FuIHVzZSB0aGlzIGFzIGEgZmFzdFxuICAgICAgLy8gYmFpbG91dC4gTW9zdCBvZiB0aGUgdGltZSwgd2hlbiBwZW9wbGUgYWRkIG5vbi1SZWFjdCBjaGlsZHJlbiB0b1xuICAgICAgLy8gdGhlIHRyZWUsIGl0IGlzIHVzaW5nIGEgcmVmIHRvIGEgY2hpbGQtbGVzcyBET00gbm9kZS5cbiAgICAgIC8vIE5vcm1hbGx5IHdlJ2Qgb25seSBuZWVkIHRvIGNoZWNrIG9uZSBvZiB0aGUgZmliZXJzIGJlY2F1c2UgaWYgaXRcbiAgICAgIC8vIGhhcyBldmVyIGdvbmUgZnJvbSBoYXZpbmcgY2hpbGRyZW4gdG8gZGVsZXRpbmcgdGhlbSBvciB2aWNlIHZlcnNhXG4gICAgICAvLyBpdCB3b3VsZCBoYXZlIGRlbGV0ZWQgdGhlIGRlaHlkcmF0ZWQgYm91bmRhcnkgbmVzdGVkIGluc2lkZSBhbHJlYWR5LlxuICAgICAgLy8gSG93ZXZlciwgc2luY2UgdGhlIEhvc3RSb290IHN0YXJ0cyBvdXQgd2l0aCBhbiBhbHRlcm5hdGUgaXQgbWlnaHRcbiAgICAgIC8vIGhhdmUgb25lIG9uIHRoZSBhbHRlcm5hdGUgc28gd2UgbmVlZCB0byBjaGVjayBpbiBjYXNlIHRoaXMgd2FzIGFcbiAgICAgIC8vIHJvb3QuXG4gICAgICB2YXIgYWx0ZXJuYXRlID0gdGFyZ2V0SW5zdC5hbHRlcm5hdGU7XG5cbiAgICAgIGlmICh0YXJnZXRJbnN0LmNoaWxkICE9PSBudWxsIHx8IGFsdGVybmF0ZSAhPT0gbnVsbCAmJiBhbHRlcm5hdGUuY2hpbGQgIT09IG51bGwpIHtcbiAgICAgICAgLy8gTmV4dCB3ZSBuZWVkIHRvIGZpZ3VyZSBvdXQgaWYgdGhlIG5vZGUgdGhhdCBza2lwcGVkIHBhc3QgaXNcbiAgICAgICAgLy8gbmVzdGVkIHdpdGhpbiBhIGRlaHlkcmF0ZWQgYm91bmRhcnkgYW5kIGlmIHNvLCB3aGljaCBvbmUuXG4gICAgICAgIHZhciBzdXNwZW5zZUluc3RhbmNlID0gZ2V0UGFyZW50U3VzcGVuc2VJbnN0YW5jZSh0YXJnZXROb2RlKTtcblxuICAgICAgICB3aGlsZSAoc3VzcGVuc2VJbnN0YW5jZSAhPT0gbnVsbCkge1xuICAgICAgICAgIC8vIFdlIGZvdW5kIGEgc3VzcGVuc2UgaW5zdGFuY2UuIFRoYXQgbWVhbnMgdGhhdCB3ZSBoYXZlbid0XG4gICAgICAgICAgLy8gaHlkcmF0ZWQgaXQgeWV0LiBFdmVuIHRob3VnaCB3ZSBsZWF2ZSB0aGUgY29tbWVudHMgaW4gdGhlXG4gICAgICAgICAgLy8gRE9NIGFmdGVyIGh5ZHJhdGluZywgYW5kIHRoZXJlIGFyZSBib3VuZGFyaWVzIGluIHRoZSBET01cbiAgICAgICAgICAvLyB0aGF0IGNvdWxkIGFscmVhZHkgYmUgaHlkcmF0ZWQsIHdlIHdvdWxkbid0IGhhdmUgZm91bmQgdGhlbVxuICAgICAgICAgIC8vIHRocm91Z2ggdGhpcyBwYXNzIHNpbmNlIGlmIHRoZSB0YXJnZXQgaXMgaHlkcmF0ZWQgaXQgd291bGRcbiAgICAgICAgICAvLyBoYXZlIGhhZCBhbiBpbnRlcm5hbEluc3RhbmNlS2V5IG9uIGl0LlxuICAgICAgICAgIC8vIExldCdzIGdldCB0aGUgZmliZXIgYXNzb2NpYXRlZCB3aXRoIHRoZSBTdXNwZW5zZUNvbXBvbmVudFxuICAgICAgICAgIC8vIGFzIHRoZSBkZWVwZXN0IGluc3RhbmNlLlxuICAgICAgICAgIHZhciB0YXJnZXRTdXNwZW5zZUluc3QgPSBzdXNwZW5zZUluc3RhbmNlW2ludGVybmFsSW5zdGFuY2VLZXldO1xuXG4gICAgICAgICAgaWYgKHRhcmdldFN1c3BlbnNlSW5zdCkge1xuICAgICAgICAgICAgcmV0dXJuIHRhcmdldFN1c3BlbnNlSW5zdDtcbiAgICAgICAgICB9IC8vIElmIHdlIGRvbid0IGZpbmQgYSBGaWJlciBvbiB0aGUgY29tbWVudCwgaXQgbWlnaHQgYmUgYmVjYXVzZVxuICAgICAgICAgIC8vIHdlIGhhdmVuJ3QgZ290dGVuIHRvIGh5ZHJhdGUgaXQgeWV0LiBUaGVyZSBtaWdodCBzdGlsbCBiZSBhXG4gICAgICAgICAgLy8gcGFyZW50IGJvdW5kYXJ5IHRoYXQgaGFzbid0IGFib3ZlIHRoaXMgb25lIHNvIHdlIG5lZWQgdG8gZmluZFxuICAgICAgICAgIC8vIHRoZSBvdXRlciBtb3N0IHRoYXQgaXMga25vd24uXG5cblxuICAgICAgICAgIHN1c3BlbnNlSW5zdGFuY2UgPSBnZXRQYXJlbnRTdXNwZW5zZUluc3RhbmNlKHN1c3BlbnNlSW5zdGFuY2UpOyAvLyBJZiB3ZSBkb24ndCBmaW5kIG9uZSwgdGhlbiB0aGF0IHNob3VsZCBtZWFuIHRoYXQgdGhlIHBhcmVudFxuICAgICAgICAgIC8vIGhvc3QgY29tcG9uZW50IGFsc28gaGFzbid0IGh5ZHJhdGVkIHlldC4gV2UgY2FuIHJldHVybiBpdFxuICAgICAgICAgIC8vIGJlbG93IHNpbmNlIGl0IHdpbGwgYmFpbCBvdXQgb24gdGhlIGlzTW91bnRlZCBjaGVjayBsYXRlci5cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGFyZ2V0SW5zdDtcbiAgICB9XG5cbiAgICB0YXJnZXROb2RlID0gcGFyZW50Tm9kZTtcbiAgICBwYXJlbnROb2RlID0gdGFyZ2V0Tm9kZS5wYXJlbnROb2RlO1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG4vKipcbiAqIEdpdmVuIGEgRE9NIG5vZGUsIHJldHVybiB0aGUgUmVhY3RET01Db21wb25lbnQgb3IgUmVhY3RET01UZXh0Q29tcG9uZW50XG4gKiBpbnN0YW5jZSwgb3IgbnVsbCBpZiB0aGUgbm9kZSB3YXMgbm90IHJlbmRlcmVkIGJ5IHRoaXMgUmVhY3QuXG4gKi9cblxuZnVuY3Rpb24gZ2V0SW5zdGFuY2VGcm9tTm9kZSQxKG5vZGUpIHtcbiAgdmFyIGluc3QgPSBub2RlW2ludGVybmFsSW5zdGFuY2VLZXldIHx8IG5vZGVbaW50ZXJuYWxDb250YWluZXJJbnN0YW5jZUtleV07XG5cbiAgaWYgKGluc3QpIHtcbiAgICBpZiAoaW5zdC50YWcgPT09IEhvc3RDb21wb25lbnQgfHwgaW5zdC50YWcgPT09IEhvc3RUZXh0IHx8IGluc3QudGFnID09PSBTdXNwZW5zZUNvbXBvbmVudCB8fCBpbnN0LnRhZyA9PT0gSG9zdFJvb3QpIHtcbiAgICAgIHJldHVybiBpbnN0O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cbi8qKlxuICogR2l2ZW4gYSBSZWFjdERPTUNvbXBvbmVudCBvciBSZWFjdERPTVRleHRDb21wb25lbnQsIHJldHVybiB0aGUgY29ycmVzcG9uZGluZ1xuICogRE9NIG5vZGUuXG4gKi9cblxuZnVuY3Rpb24gZ2V0Tm9kZUZyb21JbnN0YW5jZSQxKGluc3QpIHtcbiAgaWYgKGluc3QudGFnID09PSBIb3N0Q29tcG9uZW50IHx8IGluc3QudGFnID09PSBIb3N0VGV4dCkge1xuICAgIC8vIEluIEZpYmVyIHRoaXMsIGlzIGp1c3QgdGhlIHN0YXRlIG5vZGUgcmlnaHQgbm93LiBXZSBhc3N1bWUgaXQgd2lsbCBiZVxuICAgIC8vIGEgaG9zdCBjb21wb25lbnQgb3IgaG9zdCB0ZXh0LlxuICAgIHJldHVybiBpbnN0LnN0YXRlTm9kZTtcbiAgfSAvLyBXaXRob3V0IHRoaXMgZmlyc3QgaW52YXJpYW50LCBwYXNzaW5nIGEgbm9uLURPTS1jb21wb25lbnQgdHJpZ2dlcnMgdGhlIG5leHRcbiAgLy8gaW52YXJpYW50IGZvciBhIG1pc3NpbmcgcGFyZW50LCB3aGljaCBpcyBzdXBlciBjb25mdXNpbmcuXG5cblxuICB7XG4gICAge1xuICAgICAgdGhyb3cgRXJyb3IoXCJnZXROb2RlRnJvbUluc3RhbmNlOiBJbnZhbGlkIGFyZ3VtZW50LlwiKTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGdldEZpYmVyQ3VycmVudFByb3BzRnJvbU5vZGUkMShub2RlKSB7XG4gIHJldHVybiBub2RlW2ludGVybmFsRXZlbnRIYW5kbGVyc0tleV0gfHwgbnVsbDtcbn1cbmZ1bmN0aW9uIHVwZGF0ZUZpYmVyUHJvcHMobm9kZSwgcHJvcHMpIHtcbiAgbm9kZVtpbnRlcm5hbEV2ZW50SGFuZGxlcnNLZXldID0gcHJvcHM7XG59XG5cbi8qKlxuICogVGhlc2UgdmFyaWFibGVzIHN0b3JlIGluZm9ybWF0aW9uIGFib3V0IHRleHQgY29udGVudCBvZiBhIHRhcmdldCBub2RlLFxuICogYWxsb3dpbmcgY29tcGFyaXNvbiBvZiBjb250ZW50IGJlZm9yZSBhbmQgYWZ0ZXIgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBJZGVudGlmeSB0aGUgbm9kZSB3aGVyZSBzZWxlY3Rpb24gY3VycmVudGx5IGJlZ2lucywgdGhlbiBvYnNlcnZlXG4gKiBib3RoIGl0cyB0ZXh0IGNvbnRlbnQgYW5kIGl0cyBjdXJyZW50IHBvc2l0aW9uIGluIHRoZSBET00uIFNpbmNlIHRoZVxuICogYnJvd3NlciBtYXkgbmF0aXZlbHkgcmVwbGFjZSB0aGUgdGFyZ2V0IG5vZGUgZHVyaW5nIGNvbXBvc2l0aW9uLCB3ZSBjYW5cbiAqIHVzZSBpdHMgcG9zaXRpb24gdG8gZmluZCBpdHMgcmVwbGFjZW1lbnQuXG4gKlxuICpcbiAqL1xudmFyIHJvb3QgPSBudWxsO1xudmFyIHN0YXJ0VGV4dCA9IG51bGw7XG52YXIgZmFsbGJhY2tUZXh0ID0gbnVsbDtcbmZ1bmN0aW9uIGluaXRpYWxpemUobmF0aXZlRXZlbnRUYXJnZXQpIHtcbiAgcm9vdCA9IG5hdGl2ZUV2ZW50VGFyZ2V0O1xuICBzdGFydFRleHQgPSBnZXRUZXh0KCk7XG4gIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gcmVzZXQoKSB7XG4gIHJvb3QgPSBudWxsO1xuICBzdGFydFRleHQgPSBudWxsO1xuICBmYWxsYmFja1RleHQgPSBudWxsO1xufVxuZnVuY3Rpb24gZ2V0RGF0YSgpIHtcbiAgaWYgKGZhbGxiYWNrVGV4dCkge1xuICAgIHJldHVybiBmYWxsYmFja1RleHQ7XG4gIH1cblxuICB2YXIgc3RhcnQ7XG4gIHZhciBzdGFydFZhbHVlID0gc3RhcnRUZXh0O1xuICB2YXIgc3RhcnRMZW5ndGggPSBzdGFydFZhbHVlLmxlbmd0aDtcbiAgdmFyIGVuZDtcbiAgdmFyIGVuZFZhbHVlID0gZ2V0VGV4dCgpO1xuICB2YXIgZW5kTGVuZ3RoID0gZW5kVmFsdWUubGVuZ3RoO1xuXG4gIGZvciAoc3RhcnQgPSAwOyBzdGFydCA8IHN0YXJ0TGVuZ3RoOyBzdGFydCsrKSB7XG4gICAgaWYgKHN0YXJ0VmFsdWVbc3RhcnRdICE9PSBlbmRWYWx1ZVtzdGFydF0pIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHZhciBtaW5FbmQgPSBzdGFydExlbmd0aCAtIHN0YXJ0O1xuXG4gIGZvciAoZW5kID0gMTsgZW5kIDw9IG1pbkVuZDsgZW5kKyspIHtcbiAgICBpZiAoc3RhcnRWYWx1ZVtzdGFydExlbmd0aCAtIGVuZF0gIT09IGVuZFZhbHVlW2VuZExlbmd0aCAtIGVuZF0pIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHZhciBzbGljZVRhaWwgPSBlbmQgPiAxID8gMSAtIGVuZCA6IHVuZGVmaW5lZDtcbiAgZmFsbGJhY2tUZXh0ID0gZW5kVmFsdWUuc2xpY2Uoc3RhcnQsIHNsaWNlVGFpbCk7XG4gIHJldHVybiBmYWxsYmFja1RleHQ7XG59XG5mdW5jdGlvbiBnZXRUZXh0KCkge1xuICBpZiAoJ3ZhbHVlJyBpbiByb290KSB7XG4gICAgcmV0dXJuIHJvb3QudmFsdWU7XG4gIH1cblxuICByZXR1cm4gcm9vdC50ZXh0Q29udGVudDtcbn1cblxuLyoqXG4gKiBAaW50ZXJmYWNlIEV2ZW50XG4gKiBAc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSL0RPTS1MZXZlbC0zLUV2ZW50cy8jZXZlbnRzLWNvbXBvc2l0aW9uZXZlbnRzXG4gKi9cblxudmFyIFN5bnRoZXRpY0NvbXBvc2l0aW9uRXZlbnQgPSBTeW50aGV0aWNFdmVudC5leHRlbmQoe1xuICBkYXRhOiBudWxsXG59KTtcblxuLyoqXG4gKiBAaW50ZXJmYWNlIEV2ZW50XG4gKiBAc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSLzIwMTMvV0QtRE9NLUxldmVsLTMtRXZlbnRzLTIwMTMxMTA1XG4gKiAgICAgIC8jZXZlbnRzLWlucHV0ZXZlbnRzXG4gKi9cblxudmFyIFN5bnRoZXRpY0lucHV0RXZlbnQgPSBTeW50aGV0aWNFdmVudC5leHRlbmQoe1xuICBkYXRhOiBudWxsXG59KTtcblxudmFyIEVORF9LRVlDT0RFUyA9IFs5LCAxMywgMjcsIDMyXTsgLy8gVGFiLCBSZXR1cm4sIEVzYywgU3BhY2VcblxudmFyIFNUQVJUX0tFWUNPREUgPSAyMjk7XG52YXIgY2FuVXNlQ29tcG9zaXRpb25FdmVudCA9IGNhblVzZURPTSAmJiAnQ29tcG9zaXRpb25FdmVudCcgaW4gd2luZG93O1xudmFyIGRvY3VtZW50TW9kZSA9IG51bGw7XG5cbmlmIChjYW5Vc2VET00gJiYgJ2RvY3VtZW50TW9kZScgaW4gZG9jdW1lbnQpIHtcbiAgZG9jdW1lbnRNb2RlID0gZG9jdW1lbnQuZG9jdW1lbnRNb2RlO1xufSAvLyBXZWJraXQgb2ZmZXJzIGEgdmVyeSB1c2VmdWwgYHRleHRJbnB1dGAgZXZlbnQgdGhhdCBjYW4gYmUgdXNlZCB0b1xuLy8gZGlyZWN0bHkgcmVwcmVzZW50IGBiZWZvcmVJbnB1dGAuIFRoZSBJRSBgdGV4dGlucHV0YCBldmVudCBpcyBub3QgYXNcbi8vIHVzZWZ1bCwgc28gd2UgZG9uJ3QgdXNlIGl0LlxuXG5cbnZhciBjYW5Vc2VUZXh0SW5wdXRFdmVudCA9IGNhblVzZURPTSAmJiAnVGV4dEV2ZW50JyBpbiB3aW5kb3cgJiYgIWRvY3VtZW50TW9kZTsgLy8gSW4gSUU5Kywgd2UgaGF2ZSBhY2Nlc3MgdG8gY29tcG9zaXRpb24gZXZlbnRzLCBidXQgdGhlIGRhdGEgc3VwcGxpZWRcbi8vIGJ5IHRoZSBuYXRpdmUgY29tcG9zaXRpb25lbmQgZXZlbnQgbWF5IGJlIGluY29ycmVjdC4gSmFwYW5lc2UgaWRlb2dyYXBoaWNcbi8vIHNwYWNlcywgZm9yIGluc3RhbmNlIChcXHUzMDAwKSBhcmUgbm90IHJlY29yZGVkIGNvcnJlY3RseS5cblxudmFyIHVzZUZhbGxiYWNrQ29tcG9zaXRpb25EYXRhID0gY2FuVXNlRE9NICYmICghY2FuVXNlQ29tcG9zaXRpb25FdmVudCB8fCBkb2N1bWVudE1vZGUgJiYgZG9jdW1lbnRNb2RlID4gOCAmJiBkb2N1bWVudE1vZGUgPD0gMTEpO1xudmFyIFNQQUNFQkFSX0NPREUgPSAzMjtcbnZhciBTUEFDRUJBUl9DSEFSID0gU3RyaW5nLmZyb21DaGFyQ29kZShTUEFDRUJBUl9DT0RFKTsgLy8gRXZlbnRzIGFuZCB0aGVpciBjb3JyZXNwb25kaW5nIHByb3BlcnR5IG5hbWVzLlxuXG52YXIgZXZlbnRUeXBlcyQxID0ge1xuICBiZWZvcmVJbnB1dDoge1xuICAgIHBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICBidWJibGVkOiAnb25CZWZvcmVJbnB1dCcsXG4gICAgICBjYXB0dXJlZDogJ29uQmVmb3JlSW5wdXRDYXB0dXJlJ1xuICAgIH0sXG4gICAgZGVwZW5kZW5jaWVzOiBbVE9QX0NPTVBPU0lUSU9OX0VORCwgVE9QX0tFWV9QUkVTUywgVE9QX1RFWFRfSU5QVVQsIFRPUF9QQVNURV1cbiAgfSxcbiAgY29tcG9zaXRpb25FbmQ6IHtcbiAgICBwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgYnViYmxlZDogJ29uQ29tcG9zaXRpb25FbmQnLFxuICAgICAgY2FwdHVyZWQ6ICdvbkNvbXBvc2l0aW9uRW5kQ2FwdHVyZSdcbiAgICB9LFxuICAgIGRlcGVuZGVuY2llczogW1RPUF9CTFVSLCBUT1BfQ09NUE9TSVRJT05fRU5ELCBUT1BfS0VZX0RPV04sIFRPUF9LRVlfUFJFU1MsIFRPUF9LRVlfVVAsIFRPUF9NT1VTRV9ET1dOXVxuICB9LFxuICBjb21wb3NpdGlvblN0YXJ0OiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6ICdvbkNvbXBvc2l0aW9uU3RhcnQnLFxuICAgICAgY2FwdHVyZWQ6ICdvbkNvbXBvc2l0aW9uU3RhcnRDYXB0dXJlJ1xuICAgIH0sXG4gICAgZGVwZW5kZW5jaWVzOiBbVE9QX0JMVVIsIFRPUF9DT01QT1NJVElPTl9TVEFSVCwgVE9QX0tFWV9ET1dOLCBUT1BfS0VZX1BSRVNTLCBUT1BfS0VZX1VQLCBUT1BfTU9VU0VfRE9XTl1cbiAgfSxcbiAgY29tcG9zaXRpb25VcGRhdGU6IHtcbiAgICBwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgYnViYmxlZDogJ29uQ29tcG9zaXRpb25VcGRhdGUnLFxuICAgICAgY2FwdHVyZWQ6ICdvbkNvbXBvc2l0aW9uVXBkYXRlQ2FwdHVyZSdcbiAgICB9LFxuICAgIGRlcGVuZGVuY2llczogW1RPUF9CTFVSLCBUT1BfQ09NUE9TSVRJT05fVVBEQVRFLCBUT1BfS0VZX0RPV04sIFRPUF9LRVlfUFJFU1MsIFRPUF9LRVlfVVAsIFRPUF9NT1VTRV9ET1dOXVxuICB9XG59OyAvLyBUcmFjayB3aGV0aGVyIHdlJ3ZlIGV2ZXIgaGFuZGxlZCBhIGtleXByZXNzIG9uIHRoZSBzcGFjZSBrZXkuXG5cbnZhciBoYXNTcGFjZUtleXByZXNzID0gZmFsc2U7XG4vKipcbiAqIFJldHVybiB3aGV0aGVyIGEgbmF0aXZlIGtleXByZXNzIGV2ZW50IGlzIGFzc3VtZWQgdG8gYmUgYSBjb21tYW5kLlxuICogVGhpcyBpcyByZXF1aXJlZCBiZWNhdXNlIEZpcmVmb3ggZmlyZXMgYGtleXByZXNzYCBldmVudHMgZm9yIGtleSBjb21tYW5kc1xuICogKGN1dCwgY29weSwgc2VsZWN0LWFsbCwgZXRjLikgZXZlbiB0aG91Z2ggbm8gY2hhcmFjdGVyIGlzIGluc2VydGVkLlxuICovXG5cbmZ1bmN0aW9uIGlzS2V5cHJlc3NDb21tYW5kKG5hdGl2ZUV2ZW50KSB7XG4gIHJldHVybiAobmF0aXZlRXZlbnQuY3RybEtleSB8fCBuYXRpdmVFdmVudC5hbHRLZXkgfHwgbmF0aXZlRXZlbnQubWV0YUtleSkgJiYgLy8gY3RybEtleSAmJiBhbHRLZXkgaXMgZXF1aXZhbGVudCB0byBBbHRHciwgYW5kIGlzIG5vdCBhIGNvbW1hbmQuXG4gICEobmF0aXZlRXZlbnQuY3RybEtleSAmJiBuYXRpdmVFdmVudC5hbHRLZXkpO1xufVxuLyoqXG4gKiBUcmFuc2xhdGUgbmF0aXZlIHRvcCBsZXZlbCBldmVudHMgaW50byBldmVudCB0eXBlcy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdG9wTGV2ZWxUeXBlXG4gKiBAcmV0dXJuIHtvYmplY3R9XG4gKi9cblxuXG5mdW5jdGlvbiBnZXRDb21wb3NpdGlvbkV2ZW50VHlwZSh0b3BMZXZlbFR5cGUpIHtcbiAgc3dpdGNoICh0b3BMZXZlbFR5cGUpIHtcbiAgICBjYXNlIFRPUF9DT01QT1NJVElPTl9TVEFSVDpcbiAgICAgIHJldHVybiBldmVudFR5cGVzJDEuY29tcG9zaXRpb25TdGFydDtcblxuICAgIGNhc2UgVE9QX0NPTVBPU0lUSU9OX0VORDpcbiAgICAgIHJldHVybiBldmVudFR5cGVzJDEuY29tcG9zaXRpb25FbmQ7XG5cbiAgICBjYXNlIFRPUF9DT01QT1NJVElPTl9VUERBVEU6XG4gICAgICByZXR1cm4gZXZlbnRUeXBlcyQxLmNvbXBvc2l0aW9uVXBkYXRlO1xuICB9XG59XG4vKipcbiAqIERvZXMgb3VyIGZhbGxiYWNrIGJlc3QtZ3Vlc3MgbW9kZWwgdGhpbmsgdGhpcyBldmVudCBzaWduaWZpZXMgdGhhdFxuICogY29tcG9zaXRpb24gaGFzIGJlZ3VuP1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB0b3BMZXZlbFR5cGVcbiAqIEBwYXJhbSB7b2JqZWN0fSBuYXRpdmVFdmVudFxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuXG5cbmZ1bmN0aW9uIGlzRmFsbGJhY2tDb21wb3NpdGlvblN0YXJ0KHRvcExldmVsVHlwZSwgbmF0aXZlRXZlbnQpIHtcbiAgcmV0dXJuIHRvcExldmVsVHlwZSA9PT0gVE9QX0tFWV9ET1dOICYmIG5hdGl2ZUV2ZW50LmtleUNvZGUgPT09IFNUQVJUX0tFWUNPREU7XG59XG4vKipcbiAqIERvZXMgb3VyIGZhbGxiYWNrIG1vZGUgdGhpbmsgdGhhdCB0aGlzIGV2ZW50IGlzIHRoZSBlbmQgb2YgY29tcG9zaXRpb24/XG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHRvcExldmVsVHlwZVxuICogQHBhcmFtIHtvYmplY3R9IG5hdGl2ZUV2ZW50XG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5cblxuZnVuY3Rpb24gaXNGYWxsYmFja0NvbXBvc2l0aW9uRW5kKHRvcExldmVsVHlwZSwgbmF0aXZlRXZlbnQpIHtcbiAgc3dpdGNoICh0b3BMZXZlbFR5cGUpIHtcbiAgICBjYXNlIFRPUF9LRVlfVVA6XG4gICAgICAvLyBDb21tYW5kIGtleXMgaW5zZXJ0IG9yIGNsZWFyIElNRSBpbnB1dC5cbiAgICAgIHJldHVybiBFTkRfS0VZQ09ERVMuaW5kZXhPZihuYXRpdmVFdmVudC5rZXlDb2RlKSAhPT0gLTE7XG5cbiAgICBjYXNlIFRPUF9LRVlfRE9XTjpcbiAgICAgIC8vIEV4cGVjdCBJTUUga2V5Q29kZSBvbiBlYWNoIGtleWRvd24uIElmIHdlIGdldCBhbnkgb3RoZXJcbiAgICAgIC8vIGNvZGUgd2UgbXVzdCBoYXZlIGV4aXRlZCBlYXJsaWVyLlxuICAgICAgcmV0dXJuIG5hdGl2ZUV2ZW50LmtleUNvZGUgIT09IFNUQVJUX0tFWUNPREU7XG5cbiAgICBjYXNlIFRPUF9LRVlfUFJFU1M6XG4gICAgY2FzZSBUT1BfTU9VU0VfRE9XTjpcbiAgICBjYXNlIFRPUF9CTFVSOlxuICAgICAgLy8gRXZlbnRzIGFyZSBub3QgcG9zc2libGUgd2l0aG91dCBjYW5jZWxsaW5nIElNRS5cbiAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuLyoqXG4gKiBHb29nbGUgSW5wdXQgVG9vbHMgcHJvdmlkZXMgY29tcG9zaXRpb24gZGF0YSB2aWEgYSBDdXN0b21FdmVudCxcbiAqIHdpdGggdGhlIGBkYXRhYCBwcm9wZXJ0eSBwb3B1bGF0ZWQgaW4gdGhlIGBkZXRhaWxgIG9iamVjdC4gSWYgdGhpc1xuICogaXMgYXZhaWxhYmxlIG9uIHRoZSBldmVudCBvYmplY3QsIHVzZSBpdC4gSWYgbm90LCB0aGlzIGlzIGEgcGxhaW5cbiAqIGNvbXBvc2l0aW9uIGV2ZW50IGFuZCB3ZSBoYXZlIG5vdGhpbmcgc3BlY2lhbCB0byBleHRyYWN0LlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBuYXRpdmVFdmVudFxuICogQHJldHVybiB7P3N0cmluZ31cbiAqL1xuXG5cbmZ1bmN0aW9uIGdldERhdGFGcm9tQ3VzdG9tRXZlbnQobmF0aXZlRXZlbnQpIHtcbiAgdmFyIGRldGFpbCA9IG5hdGl2ZUV2ZW50LmRldGFpbDtcblxuICBpZiAodHlwZW9mIGRldGFpbCA9PT0gJ29iamVjdCcgJiYgJ2RhdGEnIGluIGRldGFpbCkge1xuICAgIHJldHVybiBkZXRhaWwuZGF0YTtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuLyoqXG4gKiBDaGVjayBpZiBhIGNvbXBvc2l0aW9uIGV2ZW50IHdhcyB0cmlnZ2VyZWQgYnkgS29yZWFuIElNRS5cbiAqIE91ciBmYWxsYmFjayBtb2RlIGRvZXMgbm90IHdvcmsgd2VsbCB3aXRoIElFJ3MgS29yZWFuIElNRSxcbiAqIHNvIGp1c3QgdXNlIG5hdGl2ZSBjb21wb3NpdGlvbiBldmVudHMgd2hlbiBLb3JlYW4gSU1FIGlzIHVzZWQuXG4gKiBBbHRob3VnaCBDb21wb3NpdGlvbkV2ZW50LmxvY2FsZSBwcm9wZXJ0eSBpcyBkZXByZWNhdGVkLFxuICogaXQgaXMgYXZhaWxhYmxlIGluIElFLCB3aGVyZSBvdXIgZmFsbGJhY2sgbW9kZSBpcyBlbmFibGVkLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBuYXRpdmVFdmVudFxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuXG5cbmZ1bmN0aW9uIGlzVXNpbmdLb3JlYW5JTUUobmF0aXZlRXZlbnQpIHtcbiAgcmV0dXJuIG5hdGl2ZUV2ZW50LmxvY2FsZSA9PT0gJ2tvJztcbn0gLy8gVHJhY2sgdGhlIGN1cnJlbnQgSU1FIGNvbXBvc2l0aW9uIHN0YXR1cywgaWYgYW55LlxuXG5cbnZhciBpc0NvbXBvc2luZyA9IGZhbHNlO1xuLyoqXG4gKiBAcmV0dXJuIHs/b2JqZWN0fSBBIFN5bnRoZXRpY0NvbXBvc2l0aW9uRXZlbnQuXG4gKi9cblxuZnVuY3Rpb24gZXh0cmFjdENvbXBvc2l0aW9uRXZlbnQodG9wTGV2ZWxUeXBlLCB0YXJnZXRJbnN0LCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpIHtcbiAgdmFyIGV2ZW50VHlwZTtcbiAgdmFyIGZhbGxiYWNrRGF0YTtcblxuICBpZiAoY2FuVXNlQ29tcG9zaXRpb25FdmVudCkge1xuICAgIGV2ZW50VHlwZSA9IGdldENvbXBvc2l0aW9uRXZlbnRUeXBlKHRvcExldmVsVHlwZSk7XG4gIH0gZWxzZSBpZiAoIWlzQ29tcG9zaW5nKSB7XG4gICAgaWYgKGlzRmFsbGJhY2tDb21wb3NpdGlvblN0YXJ0KHRvcExldmVsVHlwZSwgbmF0aXZlRXZlbnQpKSB7XG4gICAgICBldmVudFR5cGUgPSBldmVudFR5cGVzJDEuY29tcG9zaXRpb25TdGFydDtcbiAgICB9XG4gIH0gZWxzZSBpZiAoaXNGYWxsYmFja0NvbXBvc2l0aW9uRW5kKHRvcExldmVsVHlwZSwgbmF0aXZlRXZlbnQpKSB7XG4gICAgZXZlbnRUeXBlID0gZXZlbnRUeXBlcyQxLmNvbXBvc2l0aW9uRW5kO1xuICB9XG5cbiAgaWYgKCFldmVudFR5cGUpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGlmICh1c2VGYWxsYmFja0NvbXBvc2l0aW9uRGF0YSAmJiAhaXNVc2luZ0tvcmVhbklNRShuYXRpdmVFdmVudCkpIHtcbiAgICAvLyBUaGUgY3VycmVudCBjb21wb3NpdGlvbiBpcyBzdG9yZWQgc3RhdGljYWxseSBhbmQgbXVzdCBub3QgYmVcbiAgICAvLyBvdmVyd3JpdHRlbiB3aGlsZSBjb21wb3NpdGlvbiBjb250aW51ZXMuXG4gICAgaWYgKCFpc0NvbXBvc2luZyAmJiBldmVudFR5cGUgPT09IGV2ZW50VHlwZXMkMS5jb21wb3NpdGlvblN0YXJ0KSB7XG4gICAgICBpc0NvbXBvc2luZyA9IGluaXRpYWxpemUobmF0aXZlRXZlbnRUYXJnZXQpO1xuICAgIH0gZWxzZSBpZiAoZXZlbnRUeXBlID09PSBldmVudFR5cGVzJDEuY29tcG9zaXRpb25FbmQpIHtcbiAgICAgIGlmIChpc0NvbXBvc2luZykge1xuICAgICAgICBmYWxsYmFja0RhdGEgPSBnZXREYXRhKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgdmFyIGV2ZW50ID0gU3ludGhldGljQ29tcG9zaXRpb25FdmVudC5nZXRQb29sZWQoZXZlbnRUeXBlLCB0YXJnZXRJbnN0LCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpO1xuXG4gIGlmIChmYWxsYmFja0RhdGEpIHtcbiAgICAvLyBJbmplY3QgZGF0YSBnZW5lcmF0ZWQgZnJvbSBmYWxsYmFjayBwYXRoIGludG8gdGhlIHN5bnRoZXRpYyBldmVudC5cbiAgICAvLyBUaGlzIG1hdGNoZXMgdGhlIHByb3BlcnR5IG9mIG5hdGl2ZSBDb21wb3NpdGlvbkV2ZW50SW50ZXJmYWNlLlxuICAgIGV2ZW50LmRhdGEgPSBmYWxsYmFja0RhdGE7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGN1c3RvbURhdGEgPSBnZXREYXRhRnJvbUN1c3RvbUV2ZW50KG5hdGl2ZUV2ZW50KTtcblxuICAgIGlmIChjdXN0b21EYXRhICE9PSBudWxsKSB7XG4gICAgICBldmVudC5kYXRhID0gY3VzdG9tRGF0YTtcbiAgICB9XG4gIH1cblxuICBhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzKGV2ZW50KTtcbiAgcmV0dXJuIGV2ZW50O1xufVxuLyoqXG4gKiBAcGFyYW0ge1RvcExldmVsVHlwZX0gdG9wTGV2ZWxUeXBlIE51bWJlciBmcm9tIGBUb3BMZXZlbFR5cGVgLlxuICogQHBhcmFtIHtvYmplY3R9IG5hdGl2ZUV2ZW50IE5hdGl2ZSBicm93c2VyIGV2ZW50LlxuICogQHJldHVybiB7P3N0cmluZ30gVGhlIHN0cmluZyBjb3JyZXNwb25kaW5nIHRvIHRoaXMgYGJlZm9yZUlucHV0YCBldmVudC5cbiAqL1xuXG5cbmZ1bmN0aW9uIGdldE5hdGl2ZUJlZm9yZUlucHV0Q2hhcnModG9wTGV2ZWxUeXBlLCBuYXRpdmVFdmVudCkge1xuICBzd2l0Y2ggKHRvcExldmVsVHlwZSkge1xuICAgIGNhc2UgVE9QX0NPTVBPU0lUSU9OX0VORDpcbiAgICAgIHJldHVybiBnZXREYXRhRnJvbUN1c3RvbUV2ZW50KG5hdGl2ZUV2ZW50KTtcblxuICAgIGNhc2UgVE9QX0tFWV9QUkVTUzpcbiAgICAgIC8qKlxuICAgICAgICogSWYgbmF0aXZlIGB0ZXh0SW5wdXRgIGV2ZW50cyBhcmUgYXZhaWxhYmxlLCBvdXIgZ29hbCBpcyB0byBtYWtlXG4gICAgICAgKiB1c2Ugb2YgdGhlbS4gSG93ZXZlciwgdGhlcmUgaXMgYSBzcGVjaWFsIGNhc2U6IHRoZSBzcGFjZWJhciBrZXkuXG4gICAgICAgKiBJbiBXZWJraXQsIHByZXZlbnRpbmcgZGVmYXVsdCBvbiBhIHNwYWNlYmFyIGB0ZXh0SW5wdXRgIGV2ZW50XG4gICAgICAgKiBjYW5jZWxzIGNoYXJhY3RlciBpbnNlcnRpb24sIGJ1dCBpdCAqYWxzbyogY2F1c2VzIHRoZSBicm93c2VyXG4gICAgICAgKiB0byBmYWxsIGJhY2sgdG8gaXRzIGRlZmF1bHQgc3BhY2ViYXIgYmVoYXZpb3Igb2Ygc2Nyb2xsaW5nIHRoZVxuICAgICAgICogcGFnZS5cbiAgICAgICAqXG4gICAgICAgKiBUcmFja2luZyBhdDpcbiAgICAgICAqIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0zNTUxMDNcbiAgICAgICAqXG4gICAgICAgKiBUbyBhdm9pZCB0aGlzIGlzc3VlLCB1c2UgdGhlIGtleXByZXNzIGV2ZW50IGFzIGlmIG5vIGB0ZXh0SW5wdXRgXG4gICAgICAgKiBldmVudCBpcyBhdmFpbGFibGUuXG4gICAgICAgKi9cbiAgICAgIHZhciB3aGljaCA9IG5hdGl2ZUV2ZW50LndoaWNoO1xuXG4gICAgICBpZiAod2hpY2ggIT09IFNQQUNFQkFSX0NPREUpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIGhhc1NwYWNlS2V5cHJlc3MgPSB0cnVlO1xuICAgICAgcmV0dXJuIFNQQUNFQkFSX0NIQVI7XG5cbiAgICBjYXNlIFRPUF9URVhUX0lOUFVUOlxuICAgICAgLy8gUmVjb3JkIHRoZSBjaGFyYWN0ZXJzIHRvIGJlIGFkZGVkIHRvIHRoZSBET00uXG4gICAgICB2YXIgY2hhcnMgPSBuYXRpdmVFdmVudC5kYXRhOyAvLyBJZiBpdCdzIGEgc3BhY2ViYXIgY2hhcmFjdGVyLCBhc3N1bWUgdGhhdCB3ZSBoYXZlIGFscmVhZHkgaGFuZGxlZFxuICAgICAgLy8gaXQgYXQgdGhlIGtleXByZXNzIGxldmVsIGFuZCBiYWlsIGltbWVkaWF0ZWx5LiBBbmRyb2lkIENocm9tZVxuICAgICAgLy8gZG9lc24ndCBnaXZlIHVzIGtleWNvZGVzLCBzbyB3ZSBuZWVkIHRvIGlnbm9yZSBpdC5cblxuICAgICAgaWYgKGNoYXJzID09PSBTUEFDRUJBUl9DSEFSICYmIGhhc1NwYWNlS2V5cHJlc3MpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjaGFycztcblxuICAgIGRlZmF1bHQ6XG4gICAgICAvLyBGb3Igb3RoZXIgbmF0aXZlIGV2ZW50IHR5cGVzLCBkbyBub3RoaW5nLlxuICAgICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cbi8qKlxuICogRm9yIGJyb3dzZXJzIHRoYXQgZG8gbm90IHByb3ZpZGUgdGhlIGB0ZXh0SW5wdXRgIGV2ZW50LCBleHRyYWN0IHRoZVxuICogYXBwcm9wcmlhdGUgc3RyaW5nIHRvIHVzZSBmb3IgU3ludGhldGljSW5wdXRFdmVudC5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gdG9wTGV2ZWxUeXBlIE51bWJlciBmcm9tIGBUb3BMZXZlbEV2ZW50VHlwZXNgLlxuICogQHBhcmFtIHtvYmplY3R9IG5hdGl2ZUV2ZW50IE5hdGl2ZSBicm93c2VyIGV2ZW50LlxuICogQHJldHVybiB7P3N0cmluZ30gVGhlIGZhbGxiYWNrIHN0cmluZyBmb3IgdGhpcyBgYmVmb3JlSW5wdXRgIGV2ZW50LlxuICovXG5cblxuZnVuY3Rpb24gZ2V0RmFsbGJhY2tCZWZvcmVJbnB1dENoYXJzKHRvcExldmVsVHlwZSwgbmF0aXZlRXZlbnQpIHtcbiAgLy8gSWYgd2UgYXJlIGN1cnJlbnRseSBjb21wb3NpbmcgKElNRSkgYW5kIHVzaW5nIGEgZmFsbGJhY2sgdG8gZG8gc28sXG4gIC8vIHRyeSB0byBleHRyYWN0IHRoZSBjb21wb3NlZCBjaGFyYWN0ZXJzIGZyb20gdGhlIGZhbGxiYWNrIG9iamVjdC5cbiAgLy8gSWYgY29tcG9zaXRpb24gZXZlbnQgaXMgYXZhaWxhYmxlLCB3ZSBleHRyYWN0IGEgc3RyaW5nIG9ubHkgYXRcbiAgLy8gY29tcG9zaXRpb25ldmVudCwgb3RoZXJ3aXNlIGV4dHJhY3QgaXQgYXQgZmFsbGJhY2sgZXZlbnRzLlxuICBpZiAoaXNDb21wb3NpbmcpIHtcbiAgICBpZiAodG9wTGV2ZWxUeXBlID09PSBUT1BfQ09NUE9TSVRJT05fRU5EIHx8ICFjYW5Vc2VDb21wb3NpdGlvbkV2ZW50ICYmIGlzRmFsbGJhY2tDb21wb3NpdGlvbkVuZCh0b3BMZXZlbFR5cGUsIG5hdGl2ZUV2ZW50KSkge1xuICAgICAgdmFyIGNoYXJzID0gZ2V0RGF0YSgpO1xuICAgICAgcmVzZXQoKTtcbiAgICAgIGlzQ29tcG9zaW5nID0gZmFsc2U7XG4gICAgICByZXR1cm4gY2hhcnM7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBzd2l0Y2ggKHRvcExldmVsVHlwZSkge1xuICAgIGNhc2UgVE9QX1BBU1RFOlxuICAgICAgLy8gSWYgYSBwYXN0ZSBldmVudCBvY2N1cnMgYWZ0ZXIgYSBrZXlwcmVzcywgdGhyb3cgb3V0IHRoZSBpbnB1dFxuICAgICAgLy8gY2hhcnMuIFBhc3RlIGV2ZW50cyBzaG91bGQgbm90IGxlYWQgdG8gQmVmb3JlSW5wdXQgZXZlbnRzLlxuICAgICAgcmV0dXJuIG51bGw7XG5cbiAgICBjYXNlIFRPUF9LRVlfUFJFU1M6XG4gICAgICAvKipcbiAgICAgICAqIEFzIG9mIHYyNywgRmlyZWZveCBtYXkgZmlyZSBrZXlwcmVzcyBldmVudHMgZXZlbiB3aGVuIG5vIGNoYXJhY3RlclxuICAgICAgICogd2lsbCBiZSBpbnNlcnRlZC4gQSBmZXcgcG9zc2liaWxpdGllczpcbiAgICAgICAqXG4gICAgICAgKiAtIGB3aGljaGAgaXMgYDBgLiBBcnJvdyBrZXlzLCBFc2Mga2V5LCBldGMuXG4gICAgICAgKlxuICAgICAgICogLSBgd2hpY2hgIGlzIHRoZSBwcmVzc2VkIGtleSBjb2RlLCBidXQgbm8gY2hhciBpcyBhdmFpbGFibGUuXG4gICAgICAgKiAgIEV4OiAnQWx0R3IgKyBkYCBpbiBQb2xpc2guIFRoZXJlIGlzIG5vIG1vZGlmaWVkIGNoYXJhY3RlciBmb3JcbiAgICAgICAqICAgdGhpcyBrZXkgY29tYmluYXRpb24gYW5kIG5vIGNoYXJhY3RlciBpcyBpbnNlcnRlZCBpbnRvIHRoZVxuICAgICAgICogICBkb2N1bWVudCwgYnV0IEZGIGZpcmVzIHRoZSBrZXlwcmVzcyBmb3IgY2hhciBjb2RlIGAxMDBgIGFueXdheS5cbiAgICAgICAqICAgTm8gYGlucHV0YCBldmVudCB3aWxsIG9jY3VyLlxuICAgICAgICpcbiAgICAgICAqIC0gYHdoaWNoYCBpcyB0aGUgcHJlc3NlZCBrZXkgY29kZSwgYnV0IGEgY29tbWFuZCBjb21iaW5hdGlvbiBpc1xuICAgICAgICogICBiZWluZyB1c2VkLiBFeDogYENtZCtDYC4gTm8gY2hhcmFjdGVyIGlzIGluc2VydGVkLCBhbmQgbm9cbiAgICAgICAqICAgYGlucHV0YCBldmVudCB3aWxsIG9jY3VyLlxuICAgICAgICovXG4gICAgICBpZiAoIWlzS2V5cHJlc3NDb21tYW5kKG5hdGl2ZUV2ZW50KSkge1xuICAgICAgICAvLyBJRSBmaXJlcyB0aGUgYGtleXByZXNzYCBldmVudCB3aGVuIGEgdXNlciB0eXBlcyBhbiBlbW9qaSB2aWFcbiAgICAgICAgLy8gVG91Y2gga2V5Ym9hcmQgb2YgV2luZG93cy4gIEluIHN1Y2ggYSBjYXNlLCB0aGUgYGNoYXJgIHByb3BlcnR5XG4gICAgICAgIC8vIGhvbGRzIGFuIGVtb2ppIGNoYXJhY3RlciBsaWtlIGBcXHVEODNEXFx1REUwQWAuICBCZWNhdXNlIGl0cyBsZW5ndGhcbiAgICAgICAgLy8gaXMgMiwgdGhlIHByb3BlcnR5IGB3aGljaGAgZG9lcyBub3QgcmVwcmVzZW50IGFuIGVtb2ppIGNvcnJlY3RseS5cbiAgICAgICAgLy8gSW4gc3VjaCBhIGNhc2UsIHdlIGRpcmVjdGx5IHJldHVybiB0aGUgYGNoYXJgIHByb3BlcnR5IGluc3RlYWQgb2ZcbiAgICAgICAgLy8gdXNpbmcgYHdoaWNoYC5cbiAgICAgICAgaWYgKG5hdGl2ZUV2ZW50LmNoYXIgJiYgbmF0aXZlRXZlbnQuY2hhci5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgcmV0dXJuIG5hdGl2ZUV2ZW50LmNoYXI7XG4gICAgICAgIH0gZWxzZSBpZiAobmF0aXZlRXZlbnQud2hpY2gpIHtcbiAgICAgICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShuYXRpdmVFdmVudC53aGljaCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG51bGw7XG5cbiAgICBjYXNlIFRPUF9DT01QT1NJVElPTl9FTkQ6XG4gICAgICByZXR1cm4gdXNlRmFsbGJhY2tDb21wb3NpdGlvbkRhdGEgJiYgIWlzVXNpbmdLb3JlYW5JTUUobmF0aXZlRXZlbnQpID8gbnVsbCA6IG5hdGl2ZUV2ZW50LmRhdGE7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cbi8qKlxuICogRXh0cmFjdCBhIFN5bnRoZXRpY0lucHV0RXZlbnQgZm9yIGBiZWZvcmVJbnB1dGAsIGJhc2VkIG9uIGVpdGhlciBuYXRpdmVcbiAqIGB0ZXh0SW5wdXRgIG9yIGZhbGxiYWNrIGJlaGF2aW9yLlxuICpcbiAqIEByZXR1cm4gez9vYmplY3R9IEEgU3ludGhldGljSW5wdXRFdmVudC5cbiAqL1xuXG5cbmZ1bmN0aW9uIGV4dHJhY3RCZWZvcmVJbnB1dEV2ZW50KHRvcExldmVsVHlwZSwgdGFyZ2V0SW5zdCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KSB7XG4gIHZhciBjaGFycztcblxuICBpZiAoY2FuVXNlVGV4dElucHV0RXZlbnQpIHtcbiAgICBjaGFycyA9IGdldE5hdGl2ZUJlZm9yZUlucHV0Q2hhcnModG9wTGV2ZWxUeXBlLCBuYXRpdmVFdmVudCk7XG4gIH0gZWxzZSB7XG4gICAgY2hhcnMgPSBnZXRGYWxsYmFja0JlZm9yZUlucHV0Q2hhcnModG9wTGV2ZWxUeXBlLCBuYXRpdmVFdmVudCk7XG4gIH0gLy8gSWYgbm8gY2hhcmFjdGVycyBhcmUgYmVpbmcgaW5zZXJ0ZWQsIG5vIEJlZm9yZUlucHV0IGV2ZW50IHNob3VsZFxuICAvLyBiZSBmaXJlZC5cblxuXG4gIGlmICghY2hhcnMpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHZhciBldmVudCA9IFN5bnRoZXRpY0lucHV0RXZlbnQuZ2V0UG9vbGVkKGV2ZW50VHlwZXMkMS5iZWZvcmVJbnB1dCwgdGFyZ2V0SW5zdCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KTtcbiAgZXZlbnQuZGF0YSA9IGNoYXJzO1xuICBhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzKGV2ZW50KTtcbiAgcmV0dXJuIGV2ZW50O1xufVxuLyoqXG4gKiBDcmVhdGUgYW4gYG9uQmVmb3JlSW5wdXRgIGV2ZW50IHRvIG1hdGNoXG4gKiBodHRwOi8vd3d3LnczLm9yZy9UUi8yMDEzL1dELURPTS1MZXZlbC0zLUV2ZW50cy0yMDEzMTEwNS8jZXZlbnRzLWlucHV0ZXZlbnRzLlxuICpcbiAqIFRoaXMgZXZlbnQgcGx1Z2luIGlzIGJhc2VkIG9uIHRoZSBuYXRpdmUgYHRleHRJbnB1dGAgZXZlbnRcbiAqIGF2YWlsYWJsZSBpbiBDaHJvbWUsIFNhZmFyaSwgT3BlcmEsIGFuZCBJRS4gVGhpcyBldmVudCBmaXJlcyBhZnRlclxuICogYG9uS2V5UHJlc3NgIGFuZCBgb25Db21wb3NpdGlvbkVuZGAsIGJ1dCBiZWZvcmUgYG9uSW5wdXRgLlxuICpcbiAqIGBiZWZvcmVJbnB1dGAgaXMgc3BlYydkIGJ1dCBub3QgaW1wbGVtZW50ZWQgaW4gYW55IGJyb3dzZXJzLCBhbmRcbiAqIHRoZSBgaW5wdXRgIGV2ZW50IGRvZXMgbm90IHByb3ZpZGUgYW55IHVzZWZ1bCBpbmZvcm1hdGlvbiBhYm91dCB3aGF0IGhhc1xuICogYWN0dWFsbHkgYmVlbiBhZGRlZCwgY29udHJhcnkgdG8gdGhlIHNwZWMuIFRodXMsIGB0ZXh0SW5wdXRgIGlzIHRoZSBiZXN0XG4gKiBhdmFpbGFibGUgZXZlbnQgdG8gaWRlbnRpZnkgdGhlIGNoYXJhY3RlcnMgdGhhdCBoYXZlIGFjdHVhbGx5IGJlZW4gaW5zZXJ0ZWRcbiAqIGludG8gdGhlIHRhcmdldCBub2RlLlxuICpcbiAqIFRoaXMgcGx1Z2luIGlzIGFsc28gcmVzcG9uc2libGUgZm9yIGVtaXR0aW5nIGBjb21wb3NpdGlvbmAgZXZlbnRzLCB0aHVzXG4gKiBhbGxvd2luZyB1cyB0byBzaGFyZSBjb21wb3NpdGlvbiBmYWxsYmFjayBjb2RlIGZvciBib3RoIGBiZWZvcmVJbnB1dGAgYW5kXG4gKiBgY29tcG9zaXRpb25gIGV2ZW50IHR5cGVzLlxuICovXG5cblxudmFyIEJlZm9yZUlucHV0RXZlbnRQbHVnaW4gPSB7XG4gIGV2ZW50VHlwZXM6IGV2ZW50VHlwZXMkMSxcbiAgZXh0cmFjdEV2ZW50czogZnVuY3Rpb24gKHRvcExldmVsVHlwZSwgdGFyZ2V0SW5zdCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0LCBldmVudFN5c3RlbUZsYWdzKSB7XG4gICAgdmFyIGNvbXBvc2l0aW9uID0gZXh0cmFjdENvbXBvc2l0aW9uRXZlbnQodG9wTGV2ZWxUeXBlLCB0YXJnZXRJbnN0LCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpO1xuICAgIHZhciBiZWZvcmVJbnB1dCA9IGV4dHJhY3RCZWZvcmVJbnB1dEV2ZW50KHRvcExldmVsVHlwZSwgdGFyZ2V0SW5zdCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KTtcblxuICAgIGlmIChjb21wb3NpdGlvbiA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGJlZm9yZUlucHV0O1xuICAgIH1cblxuICAgIGlmIChiZWZvcmVJbnB1dCA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGNvbXBvc2l0aW9uO1xuICAgIH1cblxuICAgIHJldHVybiBbY29tcG9zaXRpb24sIGJlZm9yZUlucHV0XTtcbiAgfVxufTtcblxuLyoqXG4gKiBAc2VlIGh0dHA6Ly93d3cud2hhdHdnLm9yZy9zcGVjcy93ZWItYXBwcy9jdXJyZW50LXdvcmsvbXVsdGlwYWdlL3RoZS1pbnB1dC1lbGVtZW50Lmh0bWwjaW5wdXQtdHlwZS1hdHRyLXN1bW1hcnlcbiAqL1xudmFyIHN1cHBvcnRlZElucHV0VHlwZXMgPSB7XG4gIGNvbG9yOiB0cnVlLFxuICBkYXRlOiB0cnVlLFxuICBkYXRldGltZTogdHJ1ZSxcbiAgJ2RhdGV0aW1lLWxvY2FsJzogdHJ1ZSxcbiAgZW1haWw6IHRydWUsXG4gIG1vbnRoOiB0cnVlLFxuICBudW1iZXI6IHRydWUsXG4gIHBhc3N3b3JkOiB0cnVlLFxuICByYW5nZTogdHJ1ZSxcbiAgc2VhcmNoOiB0cnVlLFxuICB0ZWw6IHRydWUsXG4gIHRleHQ6IHRydWUsXG4gIHRpbWU6IHRydWUsXG4gIHVybDogdHJ1ZSxcbiAgd2VlazogdHJ1ZVxufTtcblxuZnVuY3Rpb24gaXNUZXh0SW5wdXRFbGVtZW50KGVsZW0pIHtcbiAgdmFyIG5vZGVOYW1lID0gZWxlbSAmJiBlbGVtLm5vZGVOYW1lICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcblxuICBpZiAobm9kZU5hbWUgPT09ICdpbnB1dCcpIHtcbiAgICByZXR1cm4gISFzdXBwb3J0ZWRJbnB1dFR5cGVzW2VsZW0udHlwZV07XG4gIH1cblxuICBpZiAobm9kZU5hbWUgPT09ICd0ZXh0YXJlYScpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxudmFyIGV2ZW50VHlwZXMkMiA9IHtcbiAgY2hhbmdlOiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6ICdvbkNoYW5nZScsXG4gICAgICBjYXB0dXJlZDogJ29uQ2hhbmdlQ2FwdHVyZSdcbiAgICB9LFxuICAgIGRlcGVuZGVuY2llczogW1RPUF9CTFVSLCBUT1BfQ0hBTkdFLCBUT1BfQ0xJQ0ssIFRPUF9GT0NVUywgVE9QX0lOUFVULCBUT1BfS0VZX0RPV04sIFRPUF9LRVlfVVAsIFRPUF9TRUxFQ1RJT05fQ0hBTkdFXVxuICB9XG59O1xuXG5mdW5jdGlvbiBjcmVhdGVBbmRBY2N1bXVsYXRlQ2hhbmdlRXZlbnQoaW5zdCwgbmF0aXZlRXZlbnQsIHRhcmdldCkge1xuICB2YXIgZXZlbnQgPSBTeW50aGV0aWNFdmVudC5nZXRQb29sZWQoZXZlbnRUeXBlcyQyLmNoYW5nZSwgaW5zdCwgbmF0aXZlRXZlbnQsIHRhcmdldCk7XG4gIGV2ZW50LnR5cGUgPSAnY2hhbmdlJzsgLy8gRmxhZyB0aGlzIGV2ZW50IGxvb3AgYXMgbmVlZGluZyBzdGF0ZSByZXN0b3JlLlxuXG4gIGVucXVldWVTdGF0ZVJlc3RvcmUodGFyZ2V0KTtcbiAgYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlcyhldmVudCk7XG4gIHJldHVybiBldmVudDtcbn1cbi8qKlxuICogRm9yIElFIHNoaW1zXG4gKi9cblxuXG52YXIgYWN0aXZlRWxlbWVudCA9IG51bGw7XG52YXIgYWN0aXZlRWxlbWVudEluc3QgPSBudWxsO1xuLyoqXG4gKiBTRUNUSU9OOiBoYW5kbGUgYGNoYW5nZWAgZXZlbnRcbiAqL1xuXG5mdW5jdGlvbiBzaG91bGRVc2VDaGFuZ2VFdmVudChlbGVtKSB7XG4gIHZhciBub2RlTmFtZSA9IGVsZW0ubm9kZU5hbWUgJiYgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuICByZXR1cm4gbm9kZU5hbWUgPT09ICdzZWxlY3QnIHx8IG5vZGVOYW1lID09PSAnaW5wdXQnICYmIGVsZW0udHlwZSA9PT0gJ2ZpbGUnO1xufVxuXG5mdW5jdGlvbiBtYW51YWxEaXNwYXRjaENoYW5nZUV2ZW50KG5hdGl2ZUV2ZW50KSB7XG4gIHZhciBldmVudCA9IGNyZWF0ZUFuZEFjY3VtdWxhdGVDaGFuZ2VFdmVudChhY3RpdmVFbGVtZW50SW5zdCwgbmF0aXZlRXZlbnQsIGdldEV2ZW50VGFyZ2V0KG5hdGl2ZUV2ZW50KSk7IC8vIElmIGNoYW5nZSBhbmQgcHJvcGVydHljaGFuZ2UgYnViYmxlZCwgd2UnZCBqdXN0IGJpbmQgdG8gaXQgbGlrZSBhbGwgdGhlXG4gIC8vIG90aGVyIGV2ZW50cyBhbmQgaGF2ZSBpdCBnbyB0aHJvdWdoIFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci4gU2luY2UgaXRcbiAgLy8gZG9lc24ndCwgd2UgbWFudWFsbHkgbGlzdGVuIGZvciB0aGUgZXZlbnRzIGFuZCBzbyB3ZSBoYXZlIHRvIGVucXVldWUgYW5kXG4gIC8vIHByb2Nlc3MgdGhlIGFic3RyYWN0IGV2ZW50IG1hbnVhbGx5LlxuICAvL1xuICAvLyBCYXRjaGluZyBpcyBuZWNlc3NhcnkgaGVyZSBpbiBvcmRlciB0byBlbnN1cmUgdGhhdCBhbGwgZXZlbnQgaGFuZGxlcnMgcnVuXG4gIC8vIGJlZm9yZSB0aGUgbmV4dCByZXJlbmRlciAoaW5jbHVkaW5nIGV2ZW50IGhhbmRsZXJzIGF0dGFjaGVkIHRvIGFuY2VzdG9yXG4gIC8vIGVsZW1lbnRzIGluc3RlYWQgb2YgZGlyZWN0bHkgb24gdGhlIGlucHV0KS4gV2l0aG91dCB0aGlzLCBjb250cm9sbGVkXG4gIC8vIGNvbXBvbmVudHMgZG9uJ3Qgd29yayBwcm9wZXJseSBpbiBjb25qdW5jdGlvbiB3aXRoIGV2ZW50IGJ1YmJsaW5nIGJlY2F1c2VcbiAgLy8gdGhlIGNvbXBvbmVudCBpcyByZXJlbmRlcmVkIGFuZCB0aGUgdmFsdWUgcmV2ZXJ0ZWQgYmVmb3JlIGFsbCB0aGUgZXZlbnRcbiAgLy8gaGFuZGxlcnMgY2FuIHJ1bi4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvNzA4LlxuXG4gIGJhdGNoZWRVcGRhdGVzKHJ1bkV2ZW50SW5CYXRjaCwgZXZlbnQpO1xufVxuXG5mdW5jdGlvbiBydW5FdmVudEluQmF0Y2goZXZlbnQpIHtcbiAgcnVuRXZlbnRzSW5CYXRjaChldmVudCk7XG59XG5cbmZ1bmN0aW9uIGdldEluc3RJZlZhbHVlQ2hhbmdlZCh0YXJnZXRJbnN0KSB7XG4gIHZhciB0YXJnZXROb2RlID0gZ2V0Tm9kZUZyb21JbnN0YW5jZSQxKHRhcmdldEluc3QpO1xuXG4gIGlmICh1cGRhdGVWYWx1ZUlmQ2hhbmdlZCh0YXJnZXROb2RlKSkge1xuICAgIHJldHVybiB0YXJnZXRJbnN0O1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldFRhcmdldEluc3RGb3JDaGFuZ2VFdmVudCh0b3BMZXZlbFR5cGUsIHRhcmdldEluc3QpIHtcbiAgaWYgKHRvcExldmVsVHlwZSA9PT0gVE9QX0NIQU5HRSkge1xuICAgIHJldHVybiB0YXJnZXRJbnN0O1xuICB9XG59XG4vKipcbiAqIFNFQ1RJT046IGhhbmRsZSBgaW5wdXRgIGV2ZW50XG4gKi9cblxuXG52YXIgaXNJbnB1dEV2ZW50U3VwcG9ydGVkID0gZmFsc2U7XG5cbmlmIChjYW5Vc2VET00pIHtcbiAgLy8gSUU5IGNsYWltcyB0byBzdXBwb3J0IHRoZSBpbnB1dCBldmVudCBidXQgZmFpbHMgdG8gdHJpZ2dlciBpdCB3aGVuXG4gIC8vIGRlbGV0aW5nIHRleHQsIHNvIHdlIGlnbm9yZSBpdHMgaW5wdXQgZXZlbnRzLlxuICBpc0lucHV0RXZlbnRTdXBwb3J0ZWQgPSBpc0V2ZW50U3VwcG9ydGVkKCdpbnB1dCcpICYmICghZG9jdW1lbnQuZG9jdW1lbnRNb2RlIHx8IGRvY3VtZW50LmRvY3VtZW50TW9kZSA+IDkpO1xufVxuLyoqXG4gKiAoRm9yIElFIDw9OSkgU3RhcnRzIHRyYWNraW5nIHByb3BlcnR5Y2hhbmdlIGV2ZW50cyBvbiB0aGUgcGFzc2VkLWluIGVsZW1lbnRcbiAqIGFuZCBvdmVycmlkZSB0aGUgdmFsdWUgcHJvcGVydHkgc28gdGhhdCB3ZSBjYW4gZGlzdGluZ3Vpc2ggdXNlciBldmVudHMgZnJvbVxuICogdmFsdWUgY2hhbmdlcyBpbiBKUy5cbiAqL1xuXG5cbmZ1bmN0aW9uIHN0YXJ0V2F0Y2hpbmdGb3JWYWx1ZUNoYW5nZSh0YXJnZXQsIHRhcmdldEluc3QpIHtcbiAgYWN0aXZlRWxlbWVudCA9IHRhcmdldDtcbiAgYWN0aXZlRWxlbWVudEluc3QgPSB0YXJnZXRJbnN0O1xuICBhY3RpdmVFbGVtZW50LmF0dGFjaEV2ZW50KCdvbnByb3BlcnR5Y2hhbmdlJywgaGFuZGxlUHJvcGVydHlDaGFuZ2UpO1xufVxuLyoqXG4gKiAoRm9yIElFIDw9OSkgUmVtb3ZlcyB0aGUgZXZlbnQgbGlzdGVuZXJzIGZyb20gdGhlIGN1cnJlbnRseS10cmFja2VkIGVsZW1lbnQsXG4gKiBpZiBhbnkgZXhpc3RzLlxuICovXG5cblxuZnVuY3Rpb24gc3RvcFdhdGNoaW5nRm9yVmFsdWVDaGFuZ2UoKSB7XG4gIGlmICghYWN0aXZlRWxlbWVudCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGFjdGl2ZUVsZW1lbnQuZGV0YWNoRXZlbnQoJ29ucHJvcGVydHljaGFuZ2UnLCBoYW5kbGVQcm9wZXJ0eUNoYW5nZSk7XG4gIGFjdGl2ZUVsZW1lbnQgPSBudWxsO1xuICBhY3RpdmVFbGVtZW50SW5zdCA9IG51bGw7XG59XG4vKipcbiAqIChGb3IgSUUgPD05KSBIYW5kbGVzIGEgcHJvcGVydHljaGFuZ2UgZXZlbnQsIHNlbmRpbmcgYSBgY2hhbmdlYCBldmVudCBpZlxuICogdGhlIHZhbHVlIG9mIHRoZSBhY3RpdmUgZWxlbWVudCBoYXMgY2hhbmdlZC5cbiAqL1xuXG5cbmZ1bmN0aW9uIGhhbmRsZVByb3BlcnR5Q2hhbmdlKG5hdGl2ZUV2ZW50KSB7XG4gIGlmIChuYXRpdmVFdmVudC5wcm9wZXJ0eU5hbWUgIT09ICd2YWx1ZScpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoZ2V0SW5zdElmVmFsdWVDaGFuZ2VkKGFjdGl2ZUVsZW1lbnRJbnN0KSkge1xuICAgIG1hbnVhbERpc3BhdGNoQ2hhbmdlRXZlbnQobmF0aXZlRXZlbnQpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUV2ZW50c0ZvcklucHV0RXZlbnRQb2x5ZmlsbCh0b3BMZXZlbFR5cGUsIHRhcmdldCwgdGFyZ2V0SW5zdCkge1xuICBpZiAodG9wTGV2ZWxUeXBlID09PSBUT1BfRk9DVVMpIHtcbiAgICAvLyBJbiBJRTksIHByb3BlcnR5Y2hhbmdlIGZpcmVzIGZvciBtb3N0IGlucHV0IGV2ZW50cyBidXQgaXMgYnVnZ3kgYW5kXG4gICAgLy8gZG9lc24ndCBmaXJlIHdoZW4gdGV4dCBpcyBkZWxldGVkLCBidXQgY29udmVuaWVudGx5LCBzZWxlY3Rpb25jaGFuZ2VcbiAgICAvLyBhcHBlYXJzIHRvIGZpcmUgaW4gYWxsIG9mIHRoZSByZW1haW5pbmcgY2FzZXMgc28gd2UgY2F0Y2ggdGhvc2UgYW5kXG4gICAgLy8gZm9yd2FyZCB0aGUgZXZlbnQgaWYgdGhlIHZhbHVlIGhhcyBjaGFuZ2VkXG4gICAgLy8gSW4gZWl0aGVyIGNhc2UsIHdlIGRvbid0IHdhbnQgdG8gY2FsbCB0aGUgZXZlbnQgaGFuZGxlciBpZiB0aGUgdmFsdWVcbiAgICAvLyBpcyBjaGFuZ2VkIGZyb20gSlMgc28gd2UgcmVkZWZpbmUgYSBzZXR0ZXIgZm9yIGAudmFsdWVgIHRoYXQgdXBkYXRlc1xuICAgIC8vIG91ciBhY3RpdmVFbGVtZW50VmFsdWUgdmFyaWFibGUsIGFsbG93aW5nIHVzIHRvIGlnbm9yZSB0aG9zZSBjaGFuZ2VzXG4gICAgLy9cbiAgICAvLyBzdG9wV2F0Y2hpbmcoKSBzaG91bGQgYmUgYSBub29wIGhlcmUgYnV0IHdlIGNhbGwgaXQganVzdCBpbiBjYXNlIHdlXG4gICAgLy8gbWlzc2VkIGEgYmx1ciBldmVudCBzb21laG93LlxuICAgIHN0b3BXYXRjaGluZ0ZvclZhbHVlQ2hhbmdlKCk7XG4gICAgc3RhcnRXYXRjaGluZ0ZvclZhbHVlQ2hhbmdlKHRhcmdldCwgdGFyZ2V0SW5zdCk7XG4gIH0gZWxzZSBpZiAodG9wTGV2ZWxUeXBlID09PSBUT1BfQkxVUikge1xuICAgIHN0b3BXYXRjaGluZ0ZvclZhbHVlQ2hhbmdlKCk7XG4gIH1cbn0gLy8gRm9yIElFOCBhbmQgSUU5LlxuXG5cbmZ1bmN0aW9uIGdldFRhcmdldEluc3RGb3JJbnB1dEV2ZW50UG9seWZpbGwodG9wTGV2ZWxUeXBlLCB0YXJnZXRJbnN0KSB7XG4gIGlmICh0b3BMZXZlbFR5cGUgPT09IFRPUF9TRUxFQ1RJT05fQ0hBTkdFIHx8IHRvcExldmVsVHlwZSA9PT0gVE9QX0tFWV9VUCB8fCB0b3BMZXZlbFR5cGUgPT09IFRPUF9LRVlfRE9XTikge1xuICAgIC8vIE9uIHRoZSBzZWxlY3Rpb25jaGFuZ2UgZXZlbnQsIHRoZSB0YXJnZXQgaXMganVzdCBkb2N1bWVudCB3aGljaCBpc24ndFxuICAgIC8vIGhlbHBmdWwgZm9yIHVzIHNvIGp1c3QgY2hlY2sgYWN0aXZlRWxlbWVudCBpbnN0ZWFkLlxuICAgIC8vXG4gICAgLy8gOTklIG9mIHRoZSB0aW1lLCBrZXlkb3duIGFuZCBrZXl1cCBhcmVuJ3QgbmVjZXNzYXJ5LiBJRTggZmFpbHMgdG8gZmlyZVxuICAgIC8vIHByb3BlcnR5Y2hhbmdlIG9uIHRoZSBmaXJzdCBpbnB1dCBldmVudCBhZnRlciBzZXR0aW5nIGB2YWx1ZWAgZnJvbSBhXG4gICAgLy8gc2NyaXB0IGFuZCBmaXJlcyBvbmx5IGtleWRvd24sIGtleXByZXNzLCBrZXl1cC4gQ2F0Y2hpbmcga2V5dXAgdXN1YWxseVxuICAgIC8vIGdldHMgaXQgYW5kIGNhdGNoaW5nIGtleWRvd24gbGV0cyB1cyBmaXJlIGFuIGV2ZW50IGZvciB0aGUgZmlyc3RcbiAgICAvLyBrZXlzdHJva2UgaWYgdXNlciBkb2VzIGEga2V5IHJlcGVhdCAoaXQnbGwgYmUgYSBsaXR0bGUgZGVsYXllZDogcmlnaHRcbiAgICAvLyBiZWZvcmUgdGhlIHNlY29uZCBrZXlzdHJva2UpLiBPdGhlciBpbnB1dCBtZXRob2RzIChlLmcuLCBwYXN0ZSkgc2VlbSB0b1xuICAgIC8vIGZpcmUgc2VsZWN0aW9uY2hhbmdlIG5vcm1hbGx5LlxuICAgIHJldHVybiBnZXRJbnN0SWZWYWx1ZUNoYW5nZWQoYWN0aXZlRWxlbWVudEluc3QpO1xuICB9XG59XG4vKipcbiAqIFNFQ1RJT046IGhhbmRsZSBgY2xpY2tgIGV2ZW50XG4gKi9cblxuXG5mdW5jdGlvbiBzaG91bGRVc2VDbGlja0V2ZW50KGVsZW0pIHtcbiAgLy8gVXNlIHRoZSBgY2xpY2tgIGV2ZW50IHRvIGRldGVjdCBjaGFuZ2VzIHRvIGNoZWNrYm94IGFuZCByYWRpbyBpbnB1dHMuXG4gIC8vIFRoaXMgYXBwcm9hY2ggd29ya3MgYWNyb3NzIGFsbCBicm93c2Vycywgd2hlcmVhcyBgY2hhbmdlYCBkb2VzIG5vdCBmaXJlXG4gIC8vIHVudGlsIGBibHVyYCBpbiBJRTguXG4gIHZhciBub2RlTmFtZSA9IGVsZW0ubm9kZU5hbWU7XG4gIHJldHVybiBub2RlTmFtZSAmJiBub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnaW5wdXQnICYmIChlbGVtLnR5cGUgPT09ICdjaGVja2JveCcgfHwgZWxlbS50eXBlID09PSAncmFkaW8nKTtcbn1cblxuZnVuY3Rpb24gZ2V0VGFyZ2V0SW5zdEZvckNsaWNrRXZlbnQodG9wTGV2ZWxUeXBlLCB0YXJnZXRJbnN0KSB7XG4gIGlmICh0b3BMZXZlbFR5cGUgPT09IFRPUF9DTElDSykge1xuICAgIHJldHVybiBnZXRJbnN0SWZWYWx1ZUNoYW5nZWQodGFyZ2V0SW5zdCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0VGFyZ2V0SW5zdEZvcklucHV0T3JDaGFuZ2VFdmVudCh0b3BMZXZlbFR5cGUsIHRhcmdldEluc3QpIHtcbiAgaWYgKHRvcExldmVsVHlwZSA9PT0gVE9QX0lOUFVUIHx8IHRvcExldmVsVHlwZSA9PT0gVE9QX0NIQU5HRSkge1xuICAgIHJldHVybiBnZXRJbnN0SWZWYWx1ZUNoYW5nZWQodGFyZ2V0SW5zdCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlQ29udHJvbGxlZElucHV0Qmx1cihub2RlKSB7XG4gIHZhciBzdGF0ZSA9IG5vZGUuX3dyYXBwZXJTdGF0ZTtcblxuICBpZiAoIXN0YXRlIHx8ICFzdGF0ZS5jb250cm9sbGVkIHx8IG5vZGUudHlwZSAhPT0gJ251bWJlcicpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoIWRpc2FibGVJbnB1dEF0dHJpYnV0ZVN5bmNpbmcpIHtcbiAgICAvLyBJZiBjb250cm9sbGVkLCBhc3NpZ24gdGhlIHZhbHVlIGF0dHJpYnV0ZSB0byB0aGUgY3VycmVudCB2YWx1ZSBvbiBibHVyXG4gICAgc2V0RGVmYXVsdFZhbHVlKG5vZGUsICdudW1iZXInLCBub2RlLnZhbHVlKTtcbiAgfVxufVxuLyoqXG4gKiBUaGlzIHBsdWdpbiBjcmVhdGVzIGFuIGBvbkNoYW5nZWAgZXZlbnQgdGhhdCBub3JtYWxpemVzIGNoYW5nZSBldmVudHNcbiAqIGFjcm9zcyBmb3JtIGVsZW1lbnRzLiBUaGlzIGV2ZW50IGZpcmVzIGF0IGEgdGltZSB3aGVuIGl0J3MgcG9zc2libGUgdG9cbiAqIGNoYW5nZSB0aGUgZWxlbWVudCdzIHZhbHVlIHdpdGhvdXQgc2VlaW5nIGEgZmxpY2tlci5cbiAqXG4gKiBTdXBwb3J0ZWQgZWxlbWVudHMgYXJlOlxuICogLSBpbnB1dCAoc2VlIGBpc1RleHRJbnB1dEVsZW1lbnRgKVxuICogLSB0ZXh0YXJlYVxuICogLSBzZWxlY3RcbiAqL1xuXG5cbnZhciBDaGFuZ2VFdmVudFBsdWdpbiA9IHtcbiAgZXZlbnRUeXBlczogZXZlbnRUeXBlcyQyLFxuICBfaXNJbnB1dEV2ZW50U3VwcG9ydGVkOiBpc0lucHV0RXZlbnRTdXBwb3J0ZWQsXG4gIGV4dHJhY3RFdmVudHM6IGZ1bmN0aW9uICh0b3BMZXZlbFR5cGUsIHRhcmdldEluc3QsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCwgZXZlbnRTeXN0ZW1GbGFncykge1xuICAgIHZhciB0YXJnZXROb2RlID0gdGFyZ2V0SW5zdCA/IGdldE5vZGVGcm9tSW5zdGFuY2UkMSh0YXJnZXRJbnN0KSA6IHdpbmRvdztcbiAgICB2YXIgZ2V0VGFyZ2V0SW5zdEZ1bmMsIGhhbmRsZUV2ZW50RnVuYztcblxuICAgIGlmIChzaG91bGRVc2VDaGFuZ2VFdmVudCh0YXJnZXROb2RlKSkge1xuICAgICAgZ2V0VGFyZ2V0SW5zdEZ1bmMgPSBnZXRUYXJnZXRJbnN0Rm9yQ2hhbmdlRXZlbnQ7XG4gICAgfSBlbHNlIGlmIChpc1RleHRJbnB1dEVsZW1lbnQodGFyZ2V0Tm9kZSkpIHtcbiAgICAgIGlmIChpc0lucHV0RXZlbnRTdXBwb3J0ZWQpIHtcbiAgICAgICAgZ2V0VGFyZ2V0SW5zdEZ1bmMgPSBnZXRUYXJnZXRJbnN0Rm9ySW5wdXRPckNoYW5nZUV2ZW50O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZ2V0VGFyZ2V0SW5zdEZ1bmMgPSBnZXRUYXJnZXRJbnN0Rm9ySW5wdXRFdmVudFBvbHlmaWxsO1xuICAgICAgICBoYW5kbGVFdmVudEZ1bmMgPSBoYW5kbGVFdmVudHNGb3JJbnB1dEV2ZW50UG9seWZpbGw7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChzaG91bGRVc2VDbGlja0V2ZW50KHRhcmdldE5vZGUpKSB7XG4gICAgICBnZXRUYXJnZXRJbnN0RnVuYyA9IGdldFRhcmdldEluc3RGb3JDbGlja0V2ZW50O1xuICAgIH1cblxuICAgIGlmIChnZXRUYXJnZXRJbnN0RnVuYykge1xuICAgICAgdmFyIGluc3QgPSBnZXRUYXJnZXRJbnN0RnVuYyh0b3BMZXZlbFR5cGUsIHRhcmdldEluc3QpO1xuXG4gICAgICBpZiAoaW5zdCkge1xuICAgICAgICB2YXIgZXZlbnQgPSBjcmVhdGVBbmRBY2N1bXVsYXRlQ2hhbmdlRXZlbnQoaW5zdCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KTtcbiAgICAgICAgcmV0dXJuIGV2ZW50O1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChoYW5kbGVFdmVudEZ1bmMpIHtcbiAgICAgIGhhbmRsZUV2ZW50RnVuYyh0b3BMZXZlbFR5cGUsIHRhcmdldE5vZGUsIHRhcmdldEluc3QpO1xuICAgIH0gLy8gV2hlbiBibHVycmluZywgc2V0IHRoZSB2YWx1ZSBhdHRyaWJ1dGUgZm9yIG51bWJlciBpbnB1dHNcblxuXG4gICAgaWYgKHRvcExldmVsVHlwZSA9PT0gVE9QX0JMVVIpIHtcbiAgICAgIGhhbmRsZUNvbnRyb2xsZWRJbnB1dEJsdXIodGFyZ2V0Tm9kZSk7XG4gICAgfVxuICB9XG59O1xuXG4vKipcbiAqIE1vZHVsZSB0aGF0IGlzIGluamVjdGFibGUgaW50byBgRXZlbnRQbHVnaW5IdWJgLCB0aGF0IHNwZWNpZmllcyBhXG4gKiBkZXRlcm1pbmlzdGljIG9yZGVyaW5nIG9mIGBFdmVudFBsdWdpbmBzLiBBIGNvbnZlbmllbnQgd2F5IHRvIHJlYXNvbiBhYm91dFxuICogcGx1Z2lucywgd2l0aG91dCBoYXZpbmcgdG8gcGFja2FnZSBldmVyeSBvbmUgb2YgdGhlbS4gVGhpcyBpcyBiZXR0ZXIgdGhhblxuICogaGF2aW5nIHBsdWdpbnMgYmUgb3JkZXJlZCBpbiB0aGUgc2FtZSBvcmRlciB0aGF0IHRoZXkgYXJlIGluamVjdGVkIGJlY2F1c2VcbiAqIHRoYXQgb3JkZXJpbmcgd291bGQgYmUgaW5mbHVlbmNlZCBieSB0aGUgcGFja2FnaW5nIG9yZGVyLlxuICogYFJlc3BvbmRlckV2ZW50UGx1Z2luYCBtdXN0IG9jY3VyIGJlZm9yZSBgU2ltcGxlRXZlbnRQbHVnaW5gIHNvIHRoYXRcbiAqIHByZXZlbnRpbmcgZGVmYXVsdCBvbiBldmVudHMgaXMgY29udmVuaWVudCBpbiBgU2ltcGxlRXZlbnRQbHVnaW5gIGhhbmRsZXJzLlxuICovXG52YXIgRE9NRXZlbnRQbHVnaW5PcmRlciA9IFsnUmVzcG9uZGVyRXZlbnRQbHVnaW4nLCAnU2ltcGxlRXZlbnRQbHVnaW4nLCAnRW50ZXJMZWF2ZUV2ZW50UGx1Z2luJywgJ0NoYW5nZUV2ZW50UGx1Z2luJywgJ1NlbGVjdEV2ZW50UGx1Z2luJywgJ0JlZm9yZUlucHV0RXZlbnRQbHVnaW4nXTtcblxudmFyIGV2ZW50VHlwZXMkMyA9IHtcbiAgbW91c2VFbnRlcjoge1xuICAgIHJlZ2lzdHJhdGlvbk5hbWU6ICdvbk1vdXNlRW50ZXInLFxuICAgIGRlcGVuZGVuY2llczogW1RPUF9NT1VTRV9PVVQsIFRPUF9NT1VTRV9PVkVSXVxuICB9LFxuICBtb3VzZUxlYXZlOiB7XG4gICAgcmVnaXN0cmF0aW9uTmFtZTogJ29uTW91c2VMZWF2ZScsXG4gICAgZGVwZW5kZW5jaWVzOiBbVE9QX01PVVNFX09VVCwgVE9QX01PVVNFX09WRVJdXG4gIH0sXG4gIHBvaW50ZXJFbnRlcjoge1xuICAgIHJlZ2lzdHJhdGlvbk5hbWU6ICdvblBvaW50ZXJFbnRlcicsXG4gICAgZGVwZW5kZW5jaWVzOiBbVE9QX1BPSU5URVJfT1VULCBUT1BfUE9JTlRFUl9PVkVSXVxuICB9LFxuICBwb2ludGVyTGVhdmU6IHtcbiAgICByZWdpc3RyYXRpb25OYW1lOiAnb25Qb2ludGVyTGVhdmUnLFxuICAgIGRlcGVuZGVuY2llczogW1RPUF9QT0lOVEVSX09VVCwgVE9QX1BPSU5URVJfT1ZFUl1cbiAgfVxufTsgLy8gV2UgdHJhY2sgdGhlIGxhc3ROYXRpdmVFdmVudCB0byBlbnN1cmUgdGhhdCB3aGVuIHdlIGVuY291bnRlclxuLy8gY2FzZXMgd2hlcmUgd2UgcHJvY2VzcyB0aGUgc2FtZSBuYXRpdmVFdmVudCBtdWx0aXBsZSB0aW1lcyxcbi8vIHdoaWNoIGNhbiBoYXBwZW4gd2hlbiBoYXZlIG11bHRpcGxlIGFuY2VzdG9ycywgdGhhdCB3ZSBkb24ndFxuLy8gZHVwbGljYXRlIGVudGVyXG5cbnZhciBsYXN0TmF0aXZlRXZlbnQ7XG52YXIgRW50ZXJMZWF2ZUV2ZW50UGx1Z2luID0ge1xuICBldmVudFR5cGVzOiBldmVudFR5cGVzJDMsXG5cbiAgLyoqXG4gICAqIEZvciBhbG1vc3QgZXZlcnkgaW50ZXJhY3Rpb24gd2UgY2FyZSBhYm91dCwgdGhlcmUgd2lsbCBiZSBib3RoIGEgdG9wLWxldmVsXG4gICAqIGBtb3VzZW92ZXJgIGFuZCBgbW91c2VvdXRgIGV2ZW50IHRoYXQgb2NjdXJzLiBPbmx5IHVzZSBgbW91c2VvdXRgIHNvIHRoYXRcbiAgICogd2UgZG8gbm90IGV4dHJhY3QgZHVwbGljYXRlIGV2ZW50cy4gSG93ZXZlciwgbW92aW5nIHRoZSBtb3VzZSBpbnRvIHRoZVxuICAgKiBicm93c2VyIGZyb20gb3V0c2lkZSB3aWxsIG5vdCBmaXJlIGEgYG1vdXNlb3V0YCBldmVudC4gSW4gdGhpcyBjYXNlLCB3ZSB1c2VcbiAgICogdGhlIGBtb3VzZW92ZXJgIHRvcC1sZXZlbCBldmVudC5cbiAgICovXG4gIGV4dHJhY3RFdmVudHM6IGZ1bmN0aW9uICh0b3BMZXZlbFR5cGUsIHRhcmdldEluc3QsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCwgZXZlbnRTeXN0ZW1GbGFncykge1xuICAgIHZhciBpc092ZXJFdmVudCA9IHRvcExldmVsVHlwZSA9PT0gVE9QX01PVVNFX09WRVIgfHwgdG9wTGV2ZWxUeXBlID09PSBUT1BfUE9JTlRFUl9PVkVSO1xuICAgIHZhciBpc091dEV2ZW50ID0gdG9wTGV2ZWxUeXBlID09PSBUT1BfTU9VU0VfT1VUIHx8IHRvcExldmVsVHlwZSA9PT0gVE9QX1BPSU5URVJfT1VUO1xuXG4gICAgaWYgKGlzT3ZlckV2ZW50ICYmIChldmVudFN5c3RlbUZsYWdzICYgSVNfUkVQTEFZRUQpID09PSAwICYmIChuYXRpdmVFdmVudC5yZWxhdGVkVGFyZ2V0IHx8IG5hdGl2ZUV2ZW50LmZyb21FbGVtZW50KSkge1xuICAgICAgLy8gSWYgdGhpcyBpcyBhbiBvdmVyIGV2ZW50IHdpdGggYSB0YXJnZXQsIHRoZW4gd2UndmUgYWxyZWFkeSBkaXNwYXRjaGVkXG4gICAgICAvLyB0aGUgZXZlbnQgaW4gdGhlIG91dCBldmVudCBvZiB0aGUgb3RoZXIgdGFyZ2V0LiBJZiB0aGlzIGlzIHJlcGxheWVkLFxuICAgICAgLy8gdGhlbiBpdCdzIGJlY2F1c2Ugd2UgY291bGRuJ3QgZGlzcGF0Y2ggYWdhaW5zdCB0aGlzIHRhcmdldCBwcmV2aW91c2x5XG4gICAgICAvLyBzbyB3ZSBoYXZlIHRvIGRvIGl0IG5vdyBpbnN0ZWFkLlxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgaWYgKCFpc091dEV2ZW50ICYmICFpc092ZXJFdmVudCkge1xuICAgICAgLy8gTXVzdCBub3QgYmUgYSBtb3VzZSBvciBwb2ludGVyIGluIG9yIG91dCAtIGlnbm9yaW5nLlxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdmFyIHdpbjtcblxuICAgIGlmIChuYXRpdmVFdmVudFRhcmdldC53aW5kb3cgPT09IG5hdGl2ZUV2ZW50VGFyZ2V0KSB7XG4gICAgICAvLyBgbmF0aXZlRXZlbnRUYXJnZXRgIGlzIHByb2JhYmx5IGEgd2luZG93IG9iamVjdC5cbiAgICAgIHdpbiA9IG5hdGl2ZUV2ZW50VGFyZ2V0O1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBUT0RPOiBGaWd1cmUgb3V0IHdoeSBgb3duZXJEb2N1bWVudGAgaXMgc29tZXRpbWVzIHVuZGVmaW5lZCBpbiBJRTguXG4gICAgICB2YXIgZG9jID0gbmF0aXZlRXZlbnRUYXJnZXQub3duZXJEb2N1bWVudDtcblxuICAgICAgaWYgKGRvYykge1xuICAgICAgICB3aW4gPSBkb2MuZGVmYXVsdFZpZXcgfHwgZG9jLnBhcmVudFdpbmRvdztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdpbiA9IHdpbmRvdztcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgZnJvbTtcbiAgICB2YXIgdG87XG5cbiAgICBpZiAoaXNPdXRFdmVudCkge1xuICAgICAgZnJvbSA9IHRhcmdldEluc3Q7XG4gICAgICB2YXIgcmVsYXRlZCA9IG5hdGl2ZUV2ZW50LnJlbGF0ZWRUYXJnZXQgfHwgbmF0aXZlRXZlbnQudG9FbGVtZW50O1xuICAgICAgdG8gPSByZWxhdGVkID8gZ2V0Q2xvc2VzdEluc3RhbmNlRnJvbU5vZGUocmVsYXRlZCkgOiBudWxsO1xuXG4gICAgICBpZiAodG8gIT09IG51bGwpIHtcbiAgICAgICAgdmFyIG5lYXJlc3RNb3VudGVkID0gZ2V0TmVhcmVzdE1vdW50ZWRGaWJlcih0byk7XG5cbiAgICAgICAgaWYgKHRvICE9PSBuZWFyZXN0TW91bnRlZCB8fCB0by50YWcgIT09IEhvc3RDb21wb25lbnQgJiYgdG8udGFnICE9PSBIb3N0VGV4dCkge1xuICAgICAgICAgIHRvID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBNb3ZpbmcgdG8gYSBub2RlIGZyb20gb3V0c2lkZSB0aGUgd2luZG93LlxuICAgICAgZnJvbSA9IG51bGw7XG4gICAgICB0byA9IHRhcmdldEluc3Q7XG4gICAgfVxuXG4gICAgaWYgKGZyb20gPT09IHRvKSB7XG4gICAgICAvLyBOb3RoaW5nIHBlcnRhaW5zIHRvIG91ciBtYW5hZ2VkIGNvbXBvbmVudHMuXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgZXZlbnRJbnRlcmZhY2UsIGxlYXZlRXZlbnRUeXBlLCBlbnRlckV2ZW50VHlwZSwgZXZlbnRUeXBlUHJlZml4O1xuXG4gICAgaWYgKHRvcExldmVsVHlwZSA9PT0gVE9QX01PVVNFX09VVCB8fCB0b3BMZXZlbFR5cGUgPT09IFRPUF9NT1VTRV9PVkVSKSB7XG4gICAgICBldmVudEludGVyZmFjZSA9IFN5bnRoZXRpY01vdXNlRXZlbnQ7XG4gICAgICBsZWF2ZUV2ZW50VHlwZSA9IGV2ZW50VHlwZXMkMy5tb3VzZUxlYXZlO1xuICAgICAgZW50ZXJFdmVudFR5cGUgPSBldmVudFR5cGVzJDMubW91c2VFbnRlcjtcbiAgICAgIGV2ZW50VHlwZVByZWZpeCA9ICdtb3VzZSc7XG4gICAgfSBlbHNlIGlmICh0b3BMZXZlbFR5cGUgPT09IFRPUF9QT0lOVEVSX09VVCB8fCB0b3BMZXZlbFR5cGUgPT09IFRPUF9QT0lOVEVSX09WRVIpIHtcbiAgICAgIGV2ZW50SW50ZXJmYWNlID0gU3ludGhldGljUG9pbnRlckV2ZW50O1xuICAgICAgbGVhdmVFdmVudFR5cGUgPSBldmVudFR5cGVzJDMucG9pbnRlckxlYXZlO1xuICAgICAgZW50ZXJFdmVudFR5cGUgPSBldmVudFR5cGVzJDMucG9pbnRlckVudGVyO1xuICAgICAgZXZlbnRUeXBlUHJlZml4ID0gJ3BvaW50ZXInO1xuICAgIH1cblxuICAgIHZhciBmcm9tTm9kZSA9IGZyb20gPT0gbnVsbCA/IHdpbiA6IGdldE5vZGVGcm9tSW5zdGFuY2UkMShmcm9tKTtcbiAgICB2YXIgdG9Ob2RlID0gdG8gPT0gbnVsbCA/IHdpbiA6IGdldE5vZGVGcm9tSW5zdGFuY2UkMSh0byk7XG4gICAgdmFyIGxlYXZlID0gZXZlbnRJbnRlcmZhY2UuZ2V0UG9vbGVkKGxlYXZlRXZlbnRUeXBlLCBmcm9tLCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpO1xuICAgIGxlYXZlLnR5cGUgPSBldmVudFR5cGVQcmVmaXggKyAnbGVhdmUnO1xuICAgIGxlYXZlLnRhcmdldCA9IGZyb21Ob2RlO1xuICAgIGxlYXZlLnJlbGF0ZWRUYXJnZXQgPSB0b05vZGU7XG4gICAgdmFyIGVudGVyID0gZXZlbnRJbnRlcmZhY2UuZ2V0UG9vbGVkKGVudGVyRXZlbnRUeXBlLCB0bywgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KTtcbiAgICBlbnRlci50eXBlID0gZXZlbnRUeXBlUHJlZml4ICsgJ2VudGVyJztcbiAgICBlbnRlci50YXJnZXQgPSB0b05vZGU7XG4gICAgZW50ZXIucmVsYXRlZFRhcmdldCA9IGZyb21Ob2RlO1xuICAgIGFjY3VtdWxhdGVFbnRlckxlYXZlRGlzcGF0Y2hlcyhsZWF2ZSwgZW50ZXIsIGZyb20sIHRvKTtcblxuICAgIGlmIChuYXRpdmVFdmVudCA9PT0gbGFzdE5hdGl2ZUV2ZW50KSB7XG4gICAgICBsYXN0TmF0aXZlRXZlbnQgPSBudWxsO1xuICAgICAgcmV0dXJuIFtsZWF2ZV07XG4gICAgfVxuXG4gICAgbGFzdE5hdGl2ZUV2ZW50ID0gbmF0aXZlRXZlbnQ7XG4gICAgcmV0dXJuIFtsZWF2ZSwgZW50ZXJdO1xuICB9XG59O1xuXG4vKipcbiAqIGlubGluZWQgT2JqZWN0LmlzIHBvbHlmaWxsIHRvIGF2b2lkIHJlcXVpcmluZyBjb25zdW1lcnMgc2hpcCB0aGVpciBvd25cbiAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9pc1xuICovXG5mdW5jdGlvbiBpcyh4LCB5KSB7XG4gIHJldHVybiB4ID09PSB5ICYmICh4ICE9PSAwIHx8IDEgLyB4ID09PSAxIC8geSkgfHwgeCAhPT0geCAmJiB5ICE9PSB5IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tc2VsZi1jb21wYXJlXG4gIDtcbn1cblxudmFyIGlzJDEgPSB0eXBlb2YgT2JqZWN0LmlzID09PSAnZnVuY3Rpb24nID8gT2JqZWN0LmlzIDogaXM7XG5cbnZhciBoYXNPd25Qcm9wZXJ0eSQyID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbi8qKlxuICogUGVyZm9ybXMgZXF1YWxpdHkgYnkgaXRlcmF0aW5nIHRocm91Z2gga2V5cyBvbiBhbiBvYmplY3QgYW5kIHJldHVybmluZyBmYWxzZVxuICogd2hlbiBhbnkga2V5IGhhcyB2YWx1ZXMgd2hpY2ggYXJlIG5vdCBzdHJpY3RseSBlcXVhbCBiZXR3ZWVuIHRoZSBhcmd1bWVudHMuXG4gKiBSZXR1cm5zIHRydWUgd2hlbiB0aGUgdmFsdWVzIG9mIGFsbCBrZXlzIGFyZSBzdHJpY3RseSBlcXVhbC5cbiAqL1xuXG5mdW5jdGlvbiBzaGFsbG93RXF1YWwob2JqQSwgb2JqQikge1xuICBpZiAoaXMkMShvYmpBLCBvYmpCKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBvYmpBICE9PSAnb2JqZWN0JyB8fCBvYmpBID09PSBudWxsIHx8IHR5cGVvZiBvYmpCICE9PSAnb2JqZWN0JyB8fCBvYmpCID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIGtleXNBID0gT2JqZWN0LmtleXMob2JqQSk7XG4gIHZhciBrZXlzQiA9IE9iamVjdC5rZXlzKG9iakIpO1xuXG4gIGlmIChrZXlzQS5sZW5ndGggIT09IGtleXNCLmxlbmd0aCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSAvLyBUZXN0IGZvciBBJ3Mga2V5cyBkaWZmZXJlbnQgZnJvbSBCLlxuXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzQS5sZW5ndGg7IGkrKykge1xuICAgIGlmICghaGFzT3duUHJvcGVydHkkMi5jYWxsKG9iakIsIGtleXNBW2ldKSB8fCAhaXMkMShvYmpBW2tleXNBW2ldXSwgb2JqQltrZXlzQVtpXV0pKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbnZhciBza2lwU2VsZWN0aW9uQ2hhbmdlRXZlbnQgPSBjYW5Vc2VET00gJiYgJ2RvY3VtZW50TW9kZScgaW4gZG9jdW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRNb2RlIDw9IDExO1xudmFyIGV2ZW50VHlwZXMkNCA9IHtcbiAgc2VsZWN0OiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6ICdvblNlbGVjdCcsXG4gICAgICBjYXB0dXJlZDogJ29uU2VsZWN0Q2FwdHVyZSdcbiAgICB9LFxuICAgIGRlcGVuZGVuY2llczogW1RPUF9CTFVSLCBUT1BfQ09OVEVYVF9NRU5VLCBUT1BfRFJBR19FTkQsIFRPUF9GT0NVUywgVE9QX0tFWV9ET1dOLCBUT1BfS0VZX1VQLCBUT1BfTU9VU0VfRE9XTiwgVE9QX01PVVNFX1VQLCBUT1BfU0VMRUNUSU9OX0NIQU5HRV1cbiAgfVxufTtcbnZhciBhY3RpdmVFbGVtZW50JDEgPSBudWxsO1xudmFyIGFjdGl2ZUVsZW1lbnRJbnN0JDEgPSBudWxsO1xudmFyIGxhc3RTZWxlY3Rpb24gPSBudWxsO1xudmFyIG1vdXNlRG93biA9IGZhbHNlO1xuLyoqXG4gKiBHZXQgYW4gb2JqZWN0IHdoaWNoIGlzIGEgdW5pcXVlIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBjdXJyZW50IHNlbGVjdGlvbi5cbiAqXG4gKiBUaGUgcmV0dXJuIHZhbHVlIHdpbGwgbm90IGJlIGNvbnNpc3RlbnQgYWNyb3NzIG5vZGVzIG9yIGJyb3dzZXJzLCBidXRcbiAqIHR3byBpZGVudGljYWwgc2VsZWN0aW9ucyBvbiB0aGUgc2FtZSBub2RlIHdpbGwgcmV0dXJuIGlkZW50aWNhbCBvYmplY3RzLlxuICpcbiAqIEBwYXJhbSB7RE9NRWxlbWVudH0gbm9kZVxuICogQHJldHVybiB7b2JqZWN0fVxuICovXG5cbmZ1bmN0aW9uIGdldFNlbGVjdGlvbiQxKG5vZGUpIHtcbiAgaWYgKCdzZWxlY3Rpb25TdGFydCcgaW4gbm9kZSAmJiBoYXNTZWxlY3Rpb25DYXBhYmlsaXRpZXMobm9kZSkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc3RhcnQ6IG5vZGUuc2VsZWN0aW9uU3RhcnQsXG4gICAgICBlbmQ6IG5vZGUuc2VsZWN0aW9uRW5kXG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgd2luID0gbm9kZS5vd25lckRvY3VtZW50ICYmIG5vZGUub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldyB8fCB3aW5kb3c7XG4gICAgdmFyIHNlbGVjdGlvbiA9IHdpbi5nZXRTZWxlY3Rpb24oKTtcbiAgICByZXR1cm4ge1xuICAgICAgYW5jaG9yTm9kZTogc2VsZWN0aW9uLmFuY2hvck5vZGUsXG4gICAgICBhbmNob3JPZmZzZXQ6IHNlbGVjdGlvbi5hbmNob3JPZmZzZXQsXG4gICAgICBmb2N1c05vZGU6IHNlbGVjdGlvbi5mb2N1c05vZGUsXG4gICAgICBmb2N1c09mZnNldDogc2VsZWN0aW9uLmZvY3VzT2Zmc2V0XG4gICAgfTtcbiAgfVxufVxuLyoqXG4gKiBHZXQgZG9jdW1lbnQgYXNzb2NpYXRlZCB3aXRoIHRoZSBldmVudCB0YXJnZXQuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IG5hdGl2ZUV2ZW50VGFyZ2V0XG4gKiBAcmV0dXJuIHtEb2N1bWVudH1cbiAqL1xuXG5cbmZ1bmN0aW9uIGdldEV2ZW50VGFyZ2V0RG9jdW1lbnQoZXZlbnRUYXJnZXQpIHtcbiAgcmV0dXJuIGV2ZW50VGFyZ2V0LndpbmRvdyA9PT0gZXZlbnRUYXJnZXQgPyBldmVudFRhcmdldC5kb2N1bWVudCA6IGV2ZW50VGFyZ2V0Lm5vZGVUeXBlID09PSBET0NVTUVOVF9OT0RFID8gZXZlbnRUYXJnZXQgOiBldmVudFRhcmdldC5vd25lckRvY3VtZW50O1xufVxuLyoqXG4gKiBQb2xsIHNlbGVjdGlvbiB0byBzZWUgd2hldGhlciBpdCdzIGNoYW5nZWQuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IG5hdGl2ZUV2ZW50XG4gKiBAcGFyYW0ge29iamVjdH0gbmF0aXZlRXZlbnRUYXJnZXRcbiAqIEByZXR1cm4gez9TeW50aGV0aWNFdmVudH1cbiAqL1xuXG5cbmZ1bmN0aW9uIGNvbnN0cnVjdFNlbGVjdEV2ZW50KG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCkge1xuICAvLyBFbnN1cmUgd2UgaGF2ZSB0aGUgcmlnaHQgZWxlbWVudCwgYW5kIHRoYXQgdGhlIHVzZXIgaXMgbm90IGRyYWdnaW5nIGFcbiAgLy8gc2VsZWN0aW9uICh0aGlzIG1hdGNoZXMgbmF0aXZlIGBzZWxlY3RgIGV2ZW50IGJlaGF2aW9yKS4gSW4gSFRNTDUsIHNlbGVjdFxuICAvLyBmaXJlcyBvbmx5IG9uIGlucHV0IGFuZCB0ZXh0YXJlYSB0aHVzIGlmIHRoZXJlJ3Mgbm8gZm9jdXNlZCBlbGVtZW50IHdlXG4gIC8vIHdvbid0IGRpc3BhdGNoLlxuICB2YXIgZG9jID0gZ2V0RXZlbnRUYXJnZXREb2N1bWVudChuYXRpdmVFdmVudFRhcmdldCk7XG5cbiAgaWYgKG1vdXNlRG93biB8fCBhY3RpdmVFbGVtZW50JDEgPT0gbnVsbCB8fCBhY3RpdmVFbGVtZW50JDEgIT09IGdldEFjdGl2ZUVsZW1lbnQoZG9jKSkge1xuICAgIHJldHVybiBudWxsO1xuICB9IC8vIE9ubHkgZmlyZSB3aGVuIHNlbGVjdGlvbiBoYXMgYWN0dWFsbHkgY2hhbmdlZC5cblxuXG4gIHZhciBjdXJyZW50U2VsZWN0aW9uID0gZ2V0U2VsZWN0aW9uJDEoYWN0aXZlRWxlbWVudCQxKTtcblxuICBpZiAoIWxhc3RTZWxlY3Rpb24gfHwgIXNoYWxsb3dFcXVhbChsYXN0U2VsZWN0aW9uLCBjdXJyZW50U2VsZWN0aW9uKSkge1xuICAgIGxhc3RTZWxlY3Rpb24gPSBjdXJyZW50U2VsZWN0aW9uO1xuICAgIHZhciBzeW50aGV0aWNFdmVudCA9IFN5bnRoZXRpY0V2ZW50LmdldFBvb2xlZChldmVudFR5cGVzJDQuc2VsZWN0LCBhY3RpdmVFbGVtZW50SW5zdCQxLCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpO1xuICAgIHN5bnRoZXRpY0V2ZW50LnR5cGUgPSAnc2VsZWN0JztcbiAgICBzeW50aGV0aWNFdmVudC50YXJnZXQgPSBhY3RpdmVFbGVtZW50JDE7XG4gICAgYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlcyhzeW50aGV0aWNFdmVudCk7XG4gICAgcmV0dXJuIHN5bnRoZXRpY0V2ZW50O1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG4vKipcbiAqIFRoaXMgcGx1Z2luIGNyZWF0ZXMgYW4gYG9uU2VsZWN0YCBldmVudCB0aGF0IG5vcm1hbGl6ZXMgc2VsZWN0IGV2ZW50c1xuICogYWNyb3NzIGZvcm0gZWxlbWVudHMuXG4gKlxuICogU3VwcG9ydGVkIGVsZW1lbnRzIGFyZTpcbiAqIC0gaW5wdXQgKHNlZSBgaXNUZXh0SW5wdXRFbGVtZW50YClcbiAqIC0gdGV4dGFyZWFcbiAqIC0gY29udGVudEVkaXRhYmxlXG4gKlxuICogVGhpcyBkaWZmZXJzIGZyb20gbmF0aXZlIGJyb3dzZXIgaW1wbGVtZW50YXRpb25zIGluIHRoZSBmb2xsb3dpbmcgd2F5czpcbiAqIC0gRmlyZXMgb24gY29udGVudEVkaXRhYmxlIGZpZWxkcyBhcyB3ZWxsIGFzIGlucHV0cy5cbiAqIC0gRmlyZXMgZm9yIGNvbGxhcHNlZCBzZWxlY3Rpb24uXG4gKiAtIEZpcmVzIGFmdGVyIHVzZXIgaW5wdXQuXG4gKi9cblxuXG52YXIgU2VsZWN0RXZlbnRQbHVnaW4gPSB7XG4gIGV2ZW50VHlwZXM6IGV2ZW50VHlwZXMkNCxcbiAgZXh0cmFjdEV2ZW50czogZnVuY3Rpb24gKHRvcExldmVsVHlwZSwgdGFyZ2V0SW5zdCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0LCBldmVudFN5c3RlbUZsYWdzKSB7XG4gICAgdmFyIGRvYyA9IGdldEV2ZW50VGFyZ2V0RG9jdW1lbnQobmF0aXZlRXZlbnRUYXJnZXQpOyAvLyBUcmFjayB3aGV0aGVyIGFsbCBsaXN0ZW5lcnMgZXhpc3RzIGZvciB0aGlzIHBsdWdpbi4gSWYgbm9uZSBleGlzdCwgd2UgZG9cbiAgICAvLyBub3QgZXh0cmFjdCBldmVudHMuIFNlZSAjMzYzOS5cblxuICAgIGlmICghZG9jIHx8ICFpc0xpc3RlbmluZ1RvQWxsRGVwZW5kZW5jaWVzKCdvblNlbGVjdCcsIGRvYykpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHZhciB0YXJnZXROb2RlID0gdGFyZ2V0SW5zdCA/IGdldE5vZGVGcm9tSW5zdGFuY2UkMSh0YXJnZXRJbnN0KSA6IHdpbmRvdztcblxuICAgIHN3aXRjaCAodG9wTGV2ZWxUeXBlKSB7XG4gICAgICAvLyBUcmFjayB0aGUgaW5wdXQgbm9kZSB0aGF0IGhhcyBmb2N1cy5cbiAgICAgIGNhc2UgVE9QX0ZPQ1VTOlxuICAgICAgICBpZiAoaXNUZXh0SW5wdXRFbGVtZW50KHRhcmdldE5vZGUpIHx8IHRhcmdldE5vZGUuY29udGVudEVkaXRhYmxlID09PSAndHJ1ZScpIHtcbiAgICAgICAgICBhY3RpdmVFbGVtZW50JDEgPSB0YXJnZXROb2RlO1xuICAgICAgICAgIGFjdGl2ZUVsZW1lbnRJbnN0JDEgPSB0YXJnZXRJbnN0O1xuICAgICAgICAgIGxhc3RTZWxlY3Rpb24gPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgVE9QX0JMVVI6XG4gICAgICAgIGFjdGl2ZUVsZW1lbnQkMSA9IG51bGw7XG4gICAgICAgIGFjdGl2ZUVsZW1lbnRJbnN0JDEgPSBudWxsO1xuICAgICAgICBsYXN0U2VsZWN0aW9uID0gbnVsbDtcbiAgICAgICAgYnJlYWs7XG4gICAgICAvLyBEb24ndCBmaXJlIHRoZSBldmVudCB3aGlsZSB0aGUgdXNlciBpcyBkcmFnZ2luZy4gVGhpcyBtYXRjaGVzIHRoZVxuICAgICAgLy8gc2VtYW50aWNzIG9mIHRoZSBuYXRpdmUgc2VsZWN0IGV2ZW50LlxuXG4gICAgICBjYXNlIFRPUF9NT1VTRV9ET1dOOlxuICAgICAgICBtb3VzZURvd24gPSB0cnVlO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBUT1BfQ09OVEVYVF9NRU5VOlxuICAgICAgY2FzZSBUT1BfTU9VU0VfVVA6XG4gICAgICBjYXNlIFRPUF9EUkFHX0VORDpcbiAgICAgICAgbW91c2VEb3duID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBjb25zdHJ1Y3RTZWxlY3RFdmVudChuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpO1xuICAgICAgLy8gQ2hyb21lIGFuZCBJRSBmaXJlIG5vbi1zdGFuZGFyZCBldmVudCB3aGVuIHNlbGVjdGlvbiBpcyBjaGFuZ2VkIChhbmRcbiAgICAgIC8vIHNvbWV0aW1lcyB3aGVuIGl0IGhhc24ndCkuIElFJ3MgZXZlbnQgZmlyZXMgb3V0IG9mIG9yZGVyIHdpdGggcmVzcGVjdFxuICAgICAgLy8gdG8ga2V5IGFuZCBpbnB1dCBldmVudHMgb24gZGVsZXRpb24sIHNvIHdlIGRpc2NhcmQgaXQuXG4gICAgICAvL1xuICAgICAgLy8gRmlyZWZveCBkb2Vzbid0IHN1cHBvcnQgc2VsZWN0aW9uY2hhbmdlLCBzbyBjaGVjayBzZWxlY3Rpb24gc3RhdHVzXG4gICAgICAvLyBhZnRlciBlYWNoIGtleSBlbnRyeS4gVGhlIHNlbGVjdGlvbiBjaGFuZ2VzIGFmdGVyIGtleWRvd24gYW5kIGJlZm9yZVxuICAgICAgLy8ga2V5dXAsIGJ1dCB3ZSBjaGVjayBvbiBrZXlkb3duIGFzIHdlbGwgaW4gdGhlIGNhc2Ugb2YgaG9sZGluZyBkb3duIGFcbiAgICAgIC8vIGtleSwgd2hlbiBtdWx0aXBsZSBrZXlkb3duIGV2ZW50cyBhcmUgZmlyZWQgYnV0IG9ubHkgb25lIGtleXVwIGlzLlxuICAgICAgLy8gVGhpcyBpcyBhbHNvIG91ciBhcHByb2FjaCBmb3IgSUUgaGFuZGxpbmcsIGZvciB0aGUgcmVhc29uIGFib3ZlLlxuXG4gICAgICBjYXNlIFRPUF9TRUxFQ1RJT05fQ0hBTkdFOlxuICAgICAgICBpZiAoc2tpcFNlbGVjdGlvbkNoYW5nZUV2ZW50KSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgLy8gZmFsbHMgdGhyb3VnaFxuXG4gICAgICBjYXNlIFRPUF9LRVlfRE9XTjpcbiAgICAgIGNhc2UgVE9QX0tFWV9VUDpcbiAgICAgICAgcmV0dXJuIGNvbnN0cnVjdFNlbGVjdEV2ZW50KG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn07XG5cbi8qKlxuICogSW5qZWN0IG1vZHVsZXMgZm9yIHJlc29sdmluZyBET00gaGllcmFyY2h5IGFuZCBwbHVnaW4gb3JkZXJpbmcuXG4gKi9cblxuaW5qZWN0aW9uLmluamVjdEV2ZW50UGx1Z2luT3JkZXIoRE9NRXZlbnRQbHVnaW5PcmRlcik7XG5zZXRDb21wb25lbnRUcmVlKGdldEZpYmVyQ3VycmVudFByb3BzRnJvbU5vZGUkMSwgZ2V0SW5zdGFuY2VGcm9tTm9kZSQxLCBnZXROb2RlRnJvbUluc3RhbmNlJDEpO1xuLyoqXG4gKiBTb21lIGltcG9ydGFudCBldmVudCBwbHVnaW5zIGluY2x1ZGVkIGJ5IGRlZmF1bHQgKHdpdGhvdXQgaGF2aW5nIHRvIHJlcXVpcmVcbiAqIHRoZW0pLlxuICovXG5cbmluamVjdGlvbi5pbmplY3RFdmVudFBsdWdpbnNCeU5hbWUoe1xuICBTaW1wbGVFdmVudFBsdWdpbjogU2ltcGxlRXZlbnRQbHVnaW4sXG4gIEVudGVyTGVhdmVFdmVudFBsdWdpbjogRW50ZXJMZWF2ZUV2ZW50UGx1Z2luLFxuICBDaGFuZ2VFdmVudFBsdWdpbjogQ2hhbmdlRXZlbnRQbHVnaW4sXG4gIFNlbGVjdEV2ZW50UGx1Z2luOiBTZWxlY3RFdmVudFBsdWdpbixcbiAgQmVmb3JlSW5wdXRFdmVudFBsdWdpbjogQmVmb3JlSW5wdXRFdmVudFBsdWdpblxufSk7XG5cbi8vIFByZWZpeCBtZWFzdXJlbWVudHMgc28gdGhhdCBpdCdzIHBvc3NpYmxlIHRvIGZpbHRlciB0aGVtLlxuLy8gTG9uZ2VyIHByZWZpeGVzIGFyZSBoYXJkIHRvIHJlYWQgaW4gRGV2VG9vbHMuXG52YXIgcmVhY3RFbW9qaSA9IFwiXFx1MjY5QlwiO1xudmFyIHdhcm5pbmdFbW9qaSA9IFwiXFx1MjZENFwiO1xudmFyIHN1cHBvcnRzVXNlclRpbWluZyA9IHR5cGVvZiBwZXJmb3JtYW5jZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHBlcmZvcm1hbmNlLm1hcmsgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIHBlcmZvcm1hbmNlLmNsZWFyTWFya3MgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIHBlcmZvcm1hbmNlLm1lYXN1cmUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIHBlcmZvcm1hbmNlLmNsZWFyTWVhc3VyZXMgPT09ICdmdW5jdGlvbic7IC8vIEtlZXAgdHJhY2sgb2YgY3VycmVudCBmaWJlciBzbyB0aGF0IHdlIGtub3cgdGhlIHBhdGggdG8gdW53aW5kIG9uIHBhdXNlLlxuLy8gVE9ETzogdGhpcyBsb29rcyB0aGUgc2FtZSBhcyBuZXh0VW5pdE9mV29yayBpbiBzY2hlZHVsZXIuIENhbiB3ZSB1bmlmeSB0aGVtP1xuXG52YXIgY3VycmVudEZpYmVyID0gbnVsbDsgLy8gSWYgd2UncmUgaW4gdGhlIG1pZGRsZSBvZiB1c2VyIGNvZGUsIHdoaWNoIGZpYmVyIGFuZCBtZXRob2QgaXMgaXQ/XG4vLyBSZXVzaW5nIGBjdXJyZW50RmliZXJgIHdvdWxkIGJlIGNvbmZ1c2luZyBmb3IgdGhpcyBiZWNhdXNlIHVzZXIgY29kZSBmaWJlclxuLy8gY2FuIGNoYW5nZSBkdXJpbmcgY29tbWl0IHBoYXNlIHRvbywgYnV0IHdlIGRvbid0IG5lZWQgdG8gdW53aW5kIGl0IChzaW5jZVxuLy8gbGlmZWN5Y2xlcyBpbiB0aGUgY29tbWl0IHBoYXNlIGRvbid0IHJlc2VtYmxlIGEgdHJlZSkuXG5cbnZhciBjdXJyZW50UGhhc2UgPSBudWxsO1xudmFyIGN1cnJlbnRQaGFzZUZpYmVyID0gbnVsbDsgLy8gRGlkIGxpZmVjeWNsZSBob29rIHNjaGVkdWxlIGFuIHVwZGF0ZT8gVGhpcyBpcyBvZnRlbiBhIHBlcmZvcm1hbmNlIHByb2JsZW0sXG4vLyBzbyB3ZSB3aWxsIGtlZXAgdHJhY2sgb2YgaXQsIGFuZCBpbmNsdWRlIGl0IGluIHRoZSByZXBvcnQuXG4vLyBUcmFjayBjb21taXRzIGNhdXNlZCBieSBjYXNjYWRpbmcgdXBkYXRlcy5cblxudmFyIGlzQ29tbWl0dGluZyA9IGZhbHNlO1xudmFyIGhhc1NjaGVkdWxlZFVwZGF0ZUluQ3VycmVudENvbW1pdCA9IGZhbHNlO1xudmFyIGhhc1NjaGVkdWxlZFVwZGF0ZUluQ3VycmVudFBoYXNlID0gZmFsc2U7XG52YXIgY29tbWl0Q291bnRJbkN1cnJlbnRXb3JrTG9vcCA9IDA7XG52YXIgZWZmZWN0Q291bnRJbkN1cnJlbnRDb21taXQgPSAwO1xuLy8gdG8gYXZvaWQgc3RyZXRjaCB0aGUgY29tbWl0IHBoYXNlIHdpdGggbWVhc3VyZW1lbnQgb3ZlcmhlYWQuXG5cbnZhciBsYWJlbHNJbkN1cnJlbnRDb21taXQgPSBuZXcgU2V0KCk7XG5cbnZhciBmb3JtYXRNYXJrTmFtZSA9IGZ1bmN0aW9uIChtYXJrTmFtZSkge1xuICByZXR1cm4gcmVhY3RFbW9qaSArIFwiIFwiICsgbWFya05hbWU7XG59O1xuXG52YXIgZm9ybWF0TGFiZWwgPSBmdW5jdGlvbiAobGFiZWwsIHdhcm5pbmcpIHtcbiAgdmFyIHByZWZpeCA9IHdhcm5pbmcgPyB3YXJuaW5nRW1vamkgKyBcIiBcIiA6IHJlYWN0RW1vamkgKyBcIiBcIjtcbiAgdmFyIHN1ZmZpeCA9IHdhcm5pbmcgPyBcIiBXYXJuaW5nOiBcIiArIHdhcm5pbmcgOiAnJztcbiAgcmV0dXJuIFwiXCIgKyBwcmVmaXggKyBsYWJlbCArIHN1ZmZpeDtcbn07XG5cbnZhciBiZWdpbk1hcmsgPSBmdW5jdGlvbiAobWFya05hbWUpIHtcbiAgcGVyZm9ybWFuY2UubWFyayhmb3JtYXRNYXJrTmFtZShtYXJrTmFtZSkpO1xufTtcblxudmFyIGNsZWFyTWFyayA9IGZ1bmN0aW9uIChtYXJrTmFtZSkge1xuICBwZXJmb3JtYW5jZS5jbGVhck1hcmtzKGZvcm1hdE1hcmtOYW1lKG1hcmtOYW1lKSk7XG59O1xuXG52YXIgZW5kTWFyayA9IGZ1bmN0aW9uIChsYWJlbCwgbWFya05hbWUsIHdhcm5pbmcpIHtcbiAgdmFyIGZvcm1hdHRlZE1hcmtOYW1lID0gZm9ybWF0TWFya05hbWUobWFya05hbWUpO1xuICB2YXIgZm9ybWF0dGVkTGFiZWwgPSBmb3JtYXRMYWJlbChsYWJlbCwgd2FybmluZyk7XG5cbiAgdHJ5IHtcbiAgICBwZXJmb3JtYW5jZS5tZWFzdXJlKGZvcm1hdHRlZExhYmVsLCBmb3JtYXR0ZWRNYXJrTmFtZSk7XG4gIH0gY2F0Y2ggKGVycikge30gLy8gSWYgcHJldmlvdXMgbWFyayB3YXMgbWlzc2luZyBmb3Igc29tZSByZWFzb24sIHRoaXMgd2lsbCB0aHJvdy5cbiAgLy8gVGhpcyBjb3VsZCBvbmx5IGhhcHBlbiBpZiBSZWFjdCBjcmFzaGVkIGluIGFuIHVuZXhwZWN0ZWQgcGxhY2UgZWFybGllci5cbiAgLy8gRG9uJ3QgcGlsZSBvbiB3aXRoIG1vcmUgZXJyb3JzLlxuICAvLyBDbGVhciBtYXJrcyBpbW1lZGlhdGVseSB0byBhdm9pZCBncm93aW5nIGJ1ZmZlci5cblxuXG4gIHBlcmZvcm1hbmNlLmNsZWFyTWFya3MoZm9ybWF0dGVkTWFya05hbWUpO1xuICBwZXJmb3JtYW5jZS5jbGVhck1lYXN1cmVzKGZvcm1hdHRlZExhYmVsKTtcbn07XG5cbnZhciBnZXRGaWJlck1hcmtOYW1lID0gZnVuY3Rpb24gKGxhYmVsLCBkZWJ1Z0lEKSB7XG4gIHJldHVybiBsYWJlbCArIFwiICgjXCIgKyBkZWJ1Z0lEICsgXCIpXCI7XG59O1xuXG52YXIgZ2V0RmliZXJMYWJlbCA9IGZ1bmN0aW9uIChjb21wb25lbnROYW1lLCBpc01vdW50ZWQsIHBoYXNlKSB7XG4gIGlmIChwaGFzZSA9PT0gbnVsbCkge1xuICAgIC8vIFRoZXNlIGFyZSBjb21wb3NpdGUgY29tcG9uZW50IHRvdGFsIHRpbWUgbWVhc3VyZW1lbnRzLlxuICAgIHJldHVybiBjb21wb25lbnROYW1lICsgXCIgW1wiICsgKGlzTW91bnRlZCA/ICd1cGRhdGUnIDogJ21vdW50JykgKyBcIl1cIjtcbiAgfSBlbHNlIHtcbiAgICAvLyBDb21wb3NpdGUgY29tcG9uZW50IG1ldGhvZHMuXG4gICAgcmV0dXJuIGNvbXBvbmVudE5hbWUgKyBcIi5cIiArIHBoYXNlO1xuICB9XG59O1xuXG52YXIgYmVnaW5GaWJlck1hcmsgPSBmdW5jdGlvbiAoZmliZXIsIHBoYXNlKSB7XG4gIHZhciBjb21wb25lbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZShmaWJlci50eXBlKSB8fCAnVW5rbm93bic7XG4gIHZhciBkZWJ1Z0lEID0gZmliZXIuX2RlYnVnSUQ7XG4gIHZhciBpc01vdW50ZWQgPSBmaWJlci5hbHRlcm5hdGUgIT09IG51bGw7XG4gIHZhciBsYWJlbCA9IGdldEZpYmVyTGFiZWwoY29tcG9uZW50TmFtZSwgaXNNb3VudGVkLCBwaGFzZSk7XG5cbiAgaWYgKGlzQ29tbWl0dGluZyAmJiBsYWJlbHNJbkN1cnJlbnRDb21taXQuaGFzKGxhYmVsKSkge1xuICAgIC8vIER1cmluZyB0aGUgY29tbWl0IHBoYXNlLCB3ZSBkb24ndCBzaG93IGR1cGxpY2F0ZSBsYWJlbHMgYmVjYXVzZVxuICAgIC8vIHRoZXJlIGlzIGEgZml4ZWQgb3ZlcmhlYWQgZm9yIGV2ZXJ5IG1lYXN1cmVtZW50LCBhbmQgd2UgZG9uJ3RcbiAgICAvLyB3YW50IHRvIHN0cmV0Y2ggdGhlIGNvbW1pdCBwaGFzZSBiZXlvbmQgbmVjZXNzYXJ5LlxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGxhYmVsc0luQ3VycmVudENvbW1pdC5hZGQobGFiZWwpO1xuICB2YXIgbWFya05hbWUgPSBnZXRGaWJlck1hcmtOYW1lKGxhYmVsLCBkZWJ1Z0lEKTtcbiAgYmVnaW5NYXJrKG1hcmtOYW1lKTtcbiAgcmV0dXJuIHRydWU7XG59O1xuXG52YXIgY2xlYXJGaWJlck1hcmsgPSBmdW5jdGlvbiAoZmliZXIsIHBoYXNlKSB7XG4gIHZhciBjb21wb25lbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZShmaWJlci50eXBlKSB8fCAnVW5rbm93bic7XG4gIHZhciBkZWJ1Z0lEID0gZmliZXIuX2RlYnVnSUQ7XG4gIHZhciBpc01vdW50ZWQgPSBmaWJlci5hbHRlcm5hdGUgIT09IG51bGw7XG4gIHZhciBsYWJlbCA9IGdldEZpYmVyTGFiZWwoY29tcG9uZW50TmFtZSwgaXNNb3VudGVkLCBwaGFzZSk7XG4gIHZhciBtYXJrTmFtZSA9IGdldEZpYmVyTWFya05hbWUobGFiZWwsIGRlYnVnSUQpO1xuICBjbGVhck1hcmsobWFya05hbWUpO1xufTtcblxudmFyIGVuZEZpYmVyTWFyayA9IGZ1bmN0aW9uIChmaWJlciwgcGhhc2UsIHdhcm5pbmcpIHtcbiAgdmFyIGNvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lKGZpYmVyLnR5cGUpIHx8ICdVbmtub3duJztcbiAgdmFyIGRlYnVnSUQgPSBmaWJlci5fZGVidWdJRDtcbiAgdmFyIGlzTW91bnRlZCA9IGZpYmVyLmFsdGVybmF0ZSAhPT0gbnVsbDtcbiAgdmFyIGxhYmVsID0gZ2V0RmliZXJMYWJlbChjb21wb25lbnROYW1lLCBpc01vdW50ZWQsIHBoYXNlKTtcbiAgdmFyIG1hcmtOYW1lID0gZ2V0RmliZXJNYXJrTmFtZShsYWJlbCwgZGVidWdJRCk7XG4gIGVuZE1hcmsobGFiZWwsIG1hcmtOYW1lLCB3YXJuaW5nKTtcbn07XG5cbnZhciBzaG91bGRJZ25vcmVGaWJlciA9IGZ1bmN0aW9uIChmaWJlcikge1xuICAvLyBIb3N0IGNvbXBvbmVudHMgc2hvdWxkIGJlIHNraXBwZWQgaW4gdGhlIHRpbWVsaW5lLlxuICAvLyBXZSBjb3VsZCBjaGVjayB0eXBlb2YgZmliZXIudHlwZSwgYnV0IGRvZXMgdGhpcyB3b3JrIHdpdGggUk4/XG4gIHN3aXRjaCAoZmliZXIudGFnKSB7XG4gICAgY2FzZSBIb3N0Um9vdDpcbiAgICBjYXNlIEhvc3RDb21wb25lbnQ6XG4gICAgY2FzZSBIb3N0VGV4dDpcbiAgICBjYXNlIEhvc3RQb3J0YWw6XG4gICAgY2FzZSBGcmFnbWVudDpcbiAgICBjYXNlIENvbnRleHRQcm92aWRlcjpcbiAgICBjYXNlIENvbnRleHRDb25zdW1lcjpcbiAgICBjYXNlIE1vZGU6XG4gICAgICByZXR1cm4gdHJ1ZTtcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG5cbnZhciBjbGVhclBlbmRpbmdQaGFzZU1lYXN1cmVtZW50ID0gZnVuY3Rpb24gKCkge1xuICBpZiAoY3VycmVudFBoYXNlICE9PSBudWxsICYmIGN1cnJlbnRQaGFzZUZpYmVyICE9PSBudWxsKSB7XG4gICAgY2xlYXJGaWJlck1hcmsoY3VycmVudFBoYXNlRmliZXIsIGN1cnJlbnRQaGFzZSk7XG4gIH1cblxuICBjdXJyZW50UGhhc2VGaWJlciA9IG51bGw7XG4gIGN1cnJlbnRQaGFzZSA9IG51bGw7XG4gIGhhc1NjaGVkdWxlZFVwZGF0ZUluQ3VycmVudFBoYXNlID0gZmFsc2U7XG59O1xuXG52YXIgcGF1c2VUaW1lcnMgPSBmdW5jdGlvbiAoKSB7XG4gIC8vIFN0b3BzIGFsbCBjdXJyZW50bHkgYWN0aXZlIG1lYXN1cmVtZW50cyBzbyB0aGF0IHRoZXkgY2FuIGJlIHJlc3VtZWRcbiAgLy8gaWYgd2UgY29udGludWUgaW4gYSBsYXRlciBkZWZlcnJlZCBsb29wIGZyb20gdGhlIHNhbWUgdW5pdCBvZiB3b3JrLlxuICB2YXIgZmliZXIgPSBjdXJyZW50RmliZXI7XG5cbiAgd2hpbGUgKGZpYmVyKSB7XG4gICAgaWYgKGZpYmVyLl9kZWJ1Z0lzQ3VycmVudGx5VGltaW5nKSB7XG4gICAgICBlbmRGaWJlck1hcmsoZmliZXIsIG51bGwsIG51bGwpO1xuICAgIH1cblxuICAgIGZpYmVyID0gZmliZXIucmV0dXJuO1xuICB9XG59O1xuXG52YXIgcmVzdW1lVGltZXJzUmVjdXJzaXZlbHkgPSBmdW5jdGlvbiAoZmliZXIpIHtcbiAgaWYgKGZpYmVyLnJldHVybiAhPT0gbnVsbCkge1xuICAgIHJlc3VtZVRpbWVyc1JlY3Vyc2l2ZWx5KGZpYmVyLnJldHVybik7XG4gIH1cblxuICBpZiAoZmliZXIuX2RlYnVnSXNDdXJyZW50bHlUaW1pbmcpIHtcbiAgICBiZWdpbkZpYmVyTWFyayhmaWJlciwgbnVsbCk7XG4gIH1cbn07XG5cbnZhciByZXN1bWVUaW1lcnMgPSBmdW5jdGlvbiAoKSB7XG4gIC8vIFJlc3VtZXMgYWxsIG1lYXN1cmVtZW50cyB0aGF0IHdlcmUgYWN0aXZlIGR1cmluZyB0aGUgbGFzdCBkZWZlcnJlZCBsb29wLlxuICBpZiAoY3VycmVudEZpYmVyICE9PSBudWxsKSB7XG4gICAgcmVzdW1lVGltZXJzUmVjdXJzaXZlbHkoY3VycmVudEZpYmVyKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gcmVjb3JkRWZmZWN0KCkge1xuICBpZiAoZW5hYmxlVXNlclRpbWluZ0FQSSkge1xuICAgIGVmZmVjdENvdW50SW5DdXJyZW50Q29tbWl0Kys7XG4gIH1cbn1cbmZ1bmN0aW9uIHJlY29yZFNjaGVkdWxlVXBkYXRlKCkge1xuICBpZiAoZW5hYmxlVXNlclRpbWluZ0FQSSkge1xuICAgIGlmIChpc0NvbW1pdHRpbmcpIHtcbiAgICAgIGhhc1NjaGVkdWxlZFVwZGF0ZUluQ3VycmVudENvbW1pdCA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKGN1cnJlbnRQaGFzZSAhPT0gbnVsbCAmJiBjdXJyZW50UGhhc2UgIT09ICdjb21wb25lbnRXaWxsTW91bnQnICYmIGN1cnJlbnRQaGFzZSAhPT0gJ2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnKSB7XG4gICAgICBoYXNTY2hlZHVsZWRVcGRhdGVJbkN1cnJlbnRQaGFzZSA9IHRydWU7XG4gICAgfVxuICB9XG59XG5cblxuZnVuY3Rpb24gc3RhcnRXb3JrVGltZXIoZmliZXIpIHtcbiAgaWYgKGVuYWJsZVVzZXJUaW1pbmdBUEkpIHtcbiAgICBpZiAoIXN1cHBvcnRzVXNlclRpbWluZyB8fCBzaG91bGRJZ25vcmVGaWJlcihmaWJlcikpIHtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vIElmIHdlIHBhdXNlLCB0aGlzIGlzIHRoZSBmaWJlciB0byB1bndpbmQgZnJvbS5cblxuXG4gICAgY3VycmVudEZpYmVyID0gZmliZXI7XG5cbiAgICBpZiAoIWJlZ2luRmliZXJNYXJrKGZpYmVyLCBudWxsKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZpYmVyLl9kZWJ1Z0lzQ3VycmVudGx5VGltaW5nID0gdHJ1ZTtcbiAgfVxufVxuZnVuY3Rpb24gY2FuY2VsV29ya1RpbWVyKGZpYmVyKSB7XG4gIGlmIChlbmFibGVVc2VyVGltaW5nQVBJKSB7XG4gICAgaWYgKCFzdXBwb3J0c1VzZXJUaW1pbmcgfHwgc2hvdWxkSWdub3JlRmliZXIoZmliZXIpKSB7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyBSZW1lbWJlciB3ZSBzaG91bGRuJ3QgY29tcGxldGUgbWVhc3VyZW1lbnQgZm9yIHRoaXMgZmliZXIuXG4gICAgLy8gT3RoZXJ3aXNlIGZsYW1lY2hhcnQgd2lsbCBiZSBkZWVwIGV2ZW4gZm9yIHNtYWxsIHVwZGF0ZXMuXG5cblxuICAgIGZpYmVyLl9kZWJ1Z0lzQ3VycmVudGx5VGltaW5nID0gZmFsc2U7XG4gICAgY2xlYXJGaWJlck1hcmsoZmliZXIsIG51bGwpO1xuICB9XG59XG5mdW5jdGlvbiBzdG9wV29ya1RpbWVyKGZpYmVyKSB7XG4gIGlmIChlbmFibGVVc2VyVGltaW5nQVBJKSB7XG4gICAgaWYgKCFzdXBwb3J0c1VzZXJUaW1pbmcgfHwgc2hvdWxkSWdub3JlRmliZXIoZmliZXIpKSB7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyBJZiB3ZSBwYXVzZSwgaXRzIHBhcmVudCBpcyB0aGUgZmliZXIgdG8gdW53aW5kIGZyb20uXG5cblxuICAgIGN1cnJlbnRGaWJlciA9IGZpYmVyLnJldHVybjtcblxuICAgIGlmICghZmliZXIuX2RlYnVnSXNDdXJyZW50bHlUaW1pbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmaWJlci5fZGVidWdJc0N1cnJlbnRseVRpbWluZyA9IGZhbHNlO1xuICAgIGVuZEZpYmVyTWFyayhmaWJlciwgbnVsbCwgbnVsbCk7XG4gIH1cbn1cbmZ1bmN0aW9uIHN0b3BGYWlsZWRXb3JrVGltZXIoZmliZXIpIHtcbiAgaWYgKGVuYWJsZVVzZXJUaW1pbmdBUEkpIHtcbiAgICBpZiAoIXN1cHBvcnRzVXNlclRpbWluZyB8fCBzaG91bGRJZ25vcmVGaWJlcihmaWJlcikpIHtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vIElmIHdlIHBhdXNlLCBpdHMgcGFyZW50IGlzIHRoZSBmaWJlciB0byB1bndpbmQgZnJvbS5cblxuXG4gICAgY3VycmVudEZpYmVyID0gZmliZXIucmV0dXJuO1xuXG4gICAgaWYgKCFmaWJlci5fZGVidWdJc0N1cnJlbnRseVRpbWluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZpYmVyLl9kZWJ1Z0lzQ3VycmVudGx5VGltaW5nID0gZmFsc2U7XG4gICAgdmFyIHdhcm5pbmcgPSBmaWJlci50YWcgPT09IFN1c3BlbnNlQ29tcG9uZW50ID8gJ1JlbmRlcmluZyB3YXMgc3VzcGVuZGVkJyA6ICdBbiBlcnJvciB3YXMgdGhyb3duIGluc2lkZSB0aGlzIGVycm9yIGJvdW5kYXJ5JztcbiAgICBlbmRGaWJlck1hcmsoZmliZXIsIG51bGwsIHdhcm5pbmcpO1xuICB9XG59XG5mdW5jdGlvbiBzdGFydFBoYXNlVGltZXIoZmliZXIsIHBoYXNlKSB7XG4gIGlmIChlbmFibGVVc2VyVGltaW5nQVBJKSB7XG4gICAgaWYgKCFzdXBwb3J0c1VzZXJUaW1pbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjbGVhclBlbmRpbmdQaGFzZU1lYXN1cmVtZW50KCk7XG5cbiAgICBpZiAoIWJlZ2luRmliZXJNYXJrKGZpYmVyLCBwaGFzZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjdXJyZW50UGhhc2VGaWJlciA9IGZpYmVyO1xuICAgIGN1cnJlbnRQaGFzZSA9IHBoYXNlO1xuICB9XG59XG5mdW5jdGlvbiBzdG9wUGhhc2VUaW1lcigpIHtcbiAgaWYgKGVuYWJsZVVzZXJUaW1pbmdBUEkpIHtcbiAgICBpZiAoIXN1cHBvcnRzVXNlclRpbWluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChjdXJyZW50UGhhc2UgIT09IG51bGwgJiYgY3VycmVudFBoYXNlRmliZXIgIT09IG51bGwpIHtcbiAgICAgIHZhciB3YXJuaW5nID0gaGFzU2NoZWR1bGVkVXBkYXRlSW5DdXJyZW50UGhhc2UgPyAnU2NoZWR1bGVkIGEgY2FzY2FkaW5nIHVwZGF0ZScgOiBudWxsO1xuICAgICAgZW5kRmliZXJNYXJrKGN1cnJlbnRQaGFzZUZpYmVyLCBjdXJyZW50UGhhc2UsIHdhcm5pbmcpO1xuICAgIH1cblxuICAgIGN1cnJlbnRQaGFzZSA9IG51bGw7XG4gICAgY3VycmVudFBoYXNlRmliZXIgPSBudWxsO1xuICB9XG59XG5mdW5jdGlvbiBzdGFydFdvcmtMb29wVGltZXIobmV4dFVuaXRPZldvcmspIHtcbiAgaWYgKGVuYWJsZVVzZXJUaW1pbmdBUEkpIHtcbiAgICBjdXJyZW50RmliZXIgPSBuZXh0VW5pdE9mV29yaztcblxuICAgIGlmICghc3VwcG9ydHNVc2VyVGltaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29tbWl0Q291bnRJbkN1cnJlbnRXb3JrTG9vcCA9IDA7IC8vIFRoaXMgaXMgdG9wIGxldmVsIGNhbGwuXG4gICAgLy8gQW55IG90aGVyIG1lYXN1cmVtZW50cyBhcmUgcGVyZm9ybWVkIHdpdGhpbi5cblxuICAgIGJlZ2luTWFyaygnKFJlYWN0IFRyZWUgUmVjb25jaWxpYXRpb24pJyk7IC8vIFJlc3VtZSBhbnkgbWVhc3VyZW1lbnRzIHRoYXQgd2VyZSBpbiBwcm9ncmVzcyBkdXJpbmcgdGhlIGxhc3QgbG9vcC5cblxuICAgIHJlc3VtZVRpbWVycygpO1xuICB9XG59XG5mdW5jdGlvbiBzdG9wV29ya0xvb3BUaW1lcihpbnRlcnJ1cHRlZEJ5LCBkaWRDb21wbGV0ZVJvb3QpIHtcbiAgaWYgKGVuYWJsZVVzZXJUaW1pbmdBUEkpIHtcbiAgICBpZiAoIXN1cHBvcnRzVXNlclRpbWluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciB3YXJuaW5nID0gbnVsbDtcblxuICAgIGlmIChpbnRlcnJ1cHRlZEJ5ICE9PSBudWxsKSB7XG4gICAgICBpZiAoaW50ZXJydXB0ZWRCeS50YWcgPT09IEhvc3RSb290KSB7XG4gICAgICAgIHdhcm5pbmcgPSAnQSB0b3AtbGV2ZWwgdXBkYXRlIGludGVycnVwdGVkIHRoZSBwcmV2aW91cyByZW5kZXInO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGNvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lKGludGVycnVwdGVkQnkudHlwZSkgfHwgJ1Vua25vd24nO1xuICAgICAgICB3YXJuaW5nID0gXCJBbiB1cGRhdGUgdG8gXCIgKyBjb21wb25lbnROYW1lICsgXCIgaW50ZXJydXB0ZWQgdGhlIHByZXZpb3VzIHJlbmRlclwiO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoY29tbWl0Q291bnRJbkN1cnJlbnRXb3JrTG9vcCA+IDEpIHtcbiAgICAgIHdhcm5pbmcgPSAnVGhlcmUgd2VyZSBjYXNjYWRpbmcgdXBkYXRlcyc7XG4gICAgfVxuXG4gICAgY29tbWl0Q291bnRJbkN1cnJlbnRXb3JrTG9vcCA9IDA7XG4gICAgdmFyIGxhYmVsID0gZGlkQ29tcGxldGVSb290ID8gJyhSZWFjdCBUcmVlIFJlY29uY2lsaWF0aW9uOiBDb21wbGV0ZWQgUm9vdCknIDogJyhSZWFjdCBUcmVlIFJlY29uY2lsaWF0aW9uOiBZaWVsZGVkKSc7IC8vIFBhdXNlIGFueSBtZWFzdXJlbWVudHMgdW50aWwgdGhlIG5leHQgbG9vcC5cblxuICAgIHBhdXNlVGltZXJzKCk7XG4gICAgZW5kTWFyayhsYWJlbCwgJyhSZWFjdCBUcmVlIFJlY29uY2lsaWF0aW9uKScsIHdhcm5pbmcpO1xuICB9XG59XG5mdW5jdGlvbiBzdGFydENvbW1pdFRpbWVyKCkge1xuICBpZiAoZW5hYmxlVXNlclRpbWluZ0FQSSkge1xuICAgIGlmICghc3VwcG9ydHNVc2VyVGltaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaXNDb21taXR0aW5nID0gdHJ1ZTtcbiAgICBoYXNTY2hlZHVsZWRVcGRhdGVJbkN1cnJlbnRDb21taXQgPSBmYWxzZTtcbiAgICBsYWJlbHNJbkN1cnJlbnRDb21taXQuY2xlYXIoKTtcbiAgICBiZWdpbk1hcmsoJyhDb21taXR0aW5nIENoYW5nZXMpJyk7XG4gIH1cbn1cbmZ1bmN0aW9uIHN0b3BDb21taXRUaW1lcigpIHtcbiAgaWYgKGVuYWJsZVVzZXJUaW1pbmdBUEkpIHtcbiAgICBpZiAoIXN1cHBvcnRzVXNlclRpbWluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciB3YXJuaW5nID0gbnVsbDtcblxuICAgIGlmIChoYXNTY2hlZHVsZWRVcGRhdGVJbkN1cnJlbnRDb21taXQpIHtcbiAgICAgIHdhcm5pbmcgPSAnTGlmZWN5Y2xlIGhvb2sgc2NoZWR1bGVkIGEgY2FzY2FkaW5nIHVwZGF0ZSc7XG4gICAgfSBlbHNlIGlmIChjb21taXRDb3VudEluQ3VycmVudFdvcmtMb29wID4gMCkge1xuICAgICAgd2FybmluZyA9ICdDYXVzZWQgYnkgYSBjYXNjYWRpbmcgdXBkYXRlIGluIGVhcmxpZXIgY29tbWl0JztcbiAgICB9XG5cbiAgICBoYXNTY2hlZHVsZWRVcGRhdGVJbkN1cnJlbnRDb21taXQgPSBmYWxzZTtcbiAgICBjb21taXRDb3VudEluQ3VycmVudFdvcmtMb29wKys7XG4gICAgaXNDb21taXR0aW5nID0gZmFsc2U7XG4gICAgbGFiZWxzSW5DdXJyZW50Q29tbWl0LmNsZWFyKCk7XG4gICAgZW5kTWFyaygnKENvbW1pdHRpbmcgQ2hhbmdlcyknLCAnKENvbW1pdHRpbmcgQ2hhbmdlcyknLCB3YXJuaW5nKTtcbiAgfVxufVxuZnVuY3Rpb24gc3RhcnRDb21taXRTbmFwc2hvdEVmZmVjdHNUaW1lcigpIHtcbiAgaWYgKGVuYWJsZVVzZXJUaW1pbmdBUEkpIHtcbiAgICBpZiAoIXN1cHBvcnRzVXNlclRpbWluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGVmZmVjdENvdW50SW5DdXJyZW50Q29tbWl0ID0gMDtcbiAgICBiZWdpbk1hcmsoJyhDb21taXR0aW5nIFNuYXBzaG90IEVmZmVjdHMpJyk7XG4gIH1cbn1cbmZ1bmN0aW9uIHN0b3BDb21taXRTbmFwc2hvdEVmZmVjdHNUaW1lcigpIHtcbiAgaWYgKGVuYWJsZVVzZXJUaW1pbmdBUEkpIHtcbiAgICBpZiAoIXN1cHBvcnRzVXNlclRpbWluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBjb3VudCA9IGVmZmVjdENvdW50SW5DdXJyZW50Q29tbWl0O1xuICAgIGVmZmVjdENvdW50SW5DdXJyZW50Q29tbWl0ID0gMDtcbiAgICBlbmRNYXJrKFwiKENvbW1pdHRpbmcgU25hcHNob3QgRWZmZWN0czogXCIgKyBjb3VudCArIFwiIFRvdGFsKVwiLCAnKENvbW1pdHRpbmcgU25hcHNob3QgRWZmZWN0cyknLCBudWxsKTtcbiAgfVxufVxuZnVuY3Rpb24gc3RhcnRDb21taXRIb3N0RWZmZWN0c1RpbWVyKCkge1xuICBpZiAoZW5hYmxlVXNlclRpbWluZ0FQSSkge1xuICAgIGlmICghc3VwcG9ydHNVc2VyVGltaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZWZmZWN0Q291bnRJbkN1cnJlbnRDb21taXQgPSAwO1xuICAgIGJlZ2luTWFyaygnKENvbW1pdHRpbmcgSG9zdCBFZmZlY3RzKScpO1xuICB9XG59XG5mdW5jdGlvbiBzdG9wQ29tbWl0SG9zdEVmZmVjdHNUaW1lcigpIHtcbiAgaWYgKGVuYWJsZVVzZXJUaW1pbmdBUEkpIHtcbiAgICBpZiAoIXN1cHBvcnRzVXNlclRpbWluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBjb3VudCA9IGVmZmVjdENvdW50SW5DdXJyZW50Q29tbWl0O1xuICAgIGVmZmVjdENvdW50SW5DdXJyZW50Q29tbWl0ID0gMDtcbiAgICBlbmRNYXJrKFwiKENvbW1pdHRpbmcgSG9zdCBFZmZlY3RzOiBcIiArIGNvdW50ICsgXCIgVG90YWwpXCIsICcoQ29tbWl0dGluZyBIb3N0IEVmZmVjdHMpJywgbnVsbCk7XG4gIH1cbn1cbmZ1bmN0aW9uIHN0YXJ0Q29tbWl0TGlmZUN5Y2xlc1RpbWVyKCkge1xuICBpZiAoZW5hYmxlVXNlclRpbWluZ0FQSSkge1xuICAgIGlmICghc3VwcG9ydHNVc2VyVGltaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZWZmZWN0Q291bnRJbkN1cnJlbnRDb21taXQgPSAwO1xuICAgIGJlZ2luTWFyaygnKENhbGxpbmcgTGlmZWN5Y2xlIE1ldGhvZHMpJyk7XG4gIH1cbn1cbmZ1bmN0aW9uIHN0b3BDb21taXRMaWZlQ3ljbGVzVGltZXIoKSB7XG4gIGlmIChlbmFibGVVc2VyVGltaW5nQVBJKSB7XG4gICAgaWYgKCFzdXBwb3J0c1VzZXJUaW1pbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgY291bnQgPSBlZmZlY3RDb3VudEluQ3VycmVudENvbW1pdDtcbiAgICBlZmZlY3RDb3VudEluQ3VycmVudENvbW1pdCA9IDA7XG4gICAgZW5kTWFyayhcIihDYWxsaW5nIExpZmVjeWNsZSBNZXRob2RzOiBcIiArIGNvdW50ICsgXCIgVG90YWwpXCIsICcoQ2FsbGluZyBMaWZlY3ljbGUgTWV0aG9kcyknLCBudWxsKTtcbiAgfVxufVxuXG52YXIgdmFsdWVTdGFjayA9IFtdO1xudmFyIGZpYmVyU3RhY2s7XG5cbntcbiAgZmliZXJTdGFjayA9IFtdO1xufVxuXG52YXIgaW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY3JlYXRlQ3Vyc29yKGRlZmF1bHRWYWx1ZSkge1xuICByZXR1cm4ge1xuICAgIGN1cnJlbnQ6IGRlZmF1bHRWYWx1ZVxuICB9O1xufVxuXG5mdW5jdGlvbiBwb3AoY3Vyc29yLCBmaWJlcikge1xuICBpZiAoaW5kZXggPCAwKSB7XG4gICAge1xuICAgICAgd2FybmluZ1dpdGhvdXRTdGFjayQxKGZhbHNlLCAnVW5leHBlY3RlZCBwb3AuJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuO1xuICB9XG5cbiAge1xuICAgIGlmIChmaWJlciAhPT0gZmliZXJTdGFja1tpbmRleF0pIHtcbiAgICAgIHdhcm5pbmdXaXRob3V0U3RhY2skMShmYWxzZSwgJ1VuZXhwZWN0ZWQgRmliZXIgcG9wcGVkLicpO1xuICAgIH1cbiAgfVxuXG4gIGN1cnNvci5jdXJyZW50ID0gdmFsdWVTdGFja1tpbmRleF07XG4gIHZhbHVlU3RhY2tbaW5kZXhdID0gbnVsbDtcblxuICB7XG4gICAgZmliZXJTdGFja1tpbmRleF0gPSBudWxsO1xuICB9XG5cbiAgaW5kZXgtLTtcbn1cblxuZnVuY3Rpb24gcHVzaChjdXJzb3IsIHZhbHVlLCBmaWJlcikge1xuICBpbmRleCsrO1xuICB2YWx1ZVN0YWNrW2luZGV4XSA9IGN1cnNvci5jdXJyZW50O1xuXG4gIHtcbiAgICBmaWJlclN0YWNrW2luZGV4XSA9IGZpYmVyO1xuICB9XG5cbiAgY3Vyc29yLmN1cnJlbnQgPSB2YWx1ZTtcbn1cblxudmFyIHdhcm5lZEFib3V0TWlzc2luZ0dldENoaWxkQ29udGV4dDtcblxue1xuICB3YXJuZWRBYm91dE1pc3NpbmdHZXRDaGlsZENvbnRleHQgPSB7fTtcbn1cblxudmFyIGVtcHR5Q29udGV4dE9iamVjdCA9IHt9O1xuXG57XG4gIE9iamVjdC5mcmVlemUoZW1wdHlDb250ZXh0T2JqZWN0KTtcbn0gLy8gQSBjdXJzb3IgdG8gdGhlIGN1cnJlbnQgbWVyZ2VkIGNvbnRleHQgb2JqZWN0IG9uIHRoZSBzdGFjay5cblxuXG52YXIgY29udGV4dFN0YWNrQ3Vyc29yID0gY3JlYXRlQ3Vyc29yKGVtcHR5Q29udGV4dE9iamVjdCk7IC8vIEEgY3Vyc29yIHRvIGEgYm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIGNvbnRleHQgaGFzIGNoYW5nZWQuXG5cbnZhciBkaWRQZXJmb3JtV29ya1N0YWNrQ3Vyc29yID0gY3JlYXRlQ3Vyc29yKGZhbHNlKTsgLy8gS2VlcCB0cmFjayBvZiB0aGUgcHJldmlvdXMgY29udGV4dCBvYmplY3QgdGhhdCB3YXMgb24gdGhlIHN0YWNrLlxuLy8gV2UgdXNlIHRoaXMgdG8gZ2V0IGFjY2VzcyB0byB0aGUgcGFyZW50IGNvbnRleHQgYWZ0ZXIgd2UgaGF2ZSBhbHJlYWR5XG4vLyBwdXNoZWQgdGhlIG5leHQgY29udGV4dCBwcm92aWRlciwgYW5kIG5vdyBuZWVkIHRvIG1lcmdlIHRoZWlyIGNvbnRleHRzLlxuXG52YXIgcHJldmlvdXNDb250ZXh0ID0gZW1wdHlDb250ZXh0T2JqZWN0O1xuXG5mdW5jdGlvbiBnZXRVbm1hc2tlZENvbnRleHQod29ya0luUHJvZ3Jlc3MsIENvbXBvbmVudCwgZGlkUHVzaE93bkNvbnRleHRJZlByb3ZpZGVyKSB7XG4gIGlmIChkaXNhYmxlTGVnYWN5Q29udGV4dCkge1xuICAgIHJldHVybiBlbXB0eUNvbnRleHRPYmplY3Q7XG4gIH0gZWxzZSB7XG4gICAgaWYgKGRpZFB1c2hPd25Db250ZXh0SWZQcm92aWRlciAmJiBpc0NvbnRleHRQcm92aWRlcihDb21wb25lbnQpKSB7XG4gICAgICAvLyBJZiB0aGUgZmliZXIgaXMgYSBjb250ZXh0IHByb3ZpZGVyIGl0c2VsZiwgd2hlbiB3ZSByZWFkIGl0cyBjb250ZXh0XG4gICAgICAvLyB3ZSBtYXkgaGF2ZSBhbHJlYWR5IHB1c2hlZCBpdHMgb3duIGNoaWxkIGNvbnRleHQgb24gdGhlIHN0YWNrLiBBIGNvbnRleHRcbiAgICAgIC8vIHByb3ZpZGVyIHNob3VsZCBub3QgXCJzZWVcIiBpdHMgb3duIGNoaWxkIGNvbnRleHQuIFRoZXJlZm9yZSB3ZSByZWFkIHRoZVxuICAgICAgLy8gcHJldmlvdXMgKHBhcmVudCkgY29udGV4dCBpbnN0ZWFkIGZvciBhIGNvbnRleHQgcHJvdmlkZXIuXG4gICAgICByZXR1cm4gcHJldmlvdXNDb250ZXh0O1xuICAgIH1cblxuICAgIHJldHVybiBjb250ZXh0U3RhY2tDdXJzb3IuY3VycmVudDtcbiAgfVxufVxuXG5mdW5jdGlvbiBjYWNoZUNvbnRleHQod29ya0luUHJvZ3Jlc3MsIHVubWFza2VkQ29udGV4dCwgbWFza2VkQ29udGV4dCkge1xuICBpZiAoZGlzYWJsZUxlZ2FjeUNvbnRleHQpIHtcbiAgICByZXR1cm47XG4gIH0gZWxzZSB7XG4gICAgdmFyIGluc3RhbmNlID0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlO1xuICAgIGluc3RhbmNlLl9fcmVhY3RJbnRlcm5hbE1lbW9pemVkVW5tYXNrZWRDaGlsZENvbnRleHQgPSB1bm1hc2tlZENvbnRleHQ7XG4gICAgaW5zdGFuY2UuX19yZWFjdEludGVybmFsTWVtb2l6ZWRNYXNrZWRDaGlsZENvbnRleHQgPSBtYXNrZWRDb250ZXh0O1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldE1hc2tlZENvbnRleHQod29ya0luUHJvZ3Jlc3MsIHVubWFza2VkQ29udGV4dCkge1xuICBpZiAoZGlzYWJsZUxlZ2FjeUNvbnRleHQpIHtcbiAgICByZXR1cm4gZW1wdHlDb250ZXh0T2JqZWN0O1xuICB9IGVsc2Uge1xuICAgIHZhciB0eXBlID0gd29ya0luUHJvZ3Jlc3MudHlwZTtcbiAgICB2YXIgY29udGV4dFR5cGVzID0gdHlwZS5jb250ZXh0VHlwZXM7XG5cbiAgICBpZiAoIWNvbnRleHRUeXBlcykge1xuICAgICAgcmV0dXJuIGVtcHR5Q29udGV4dE9iamVjdDtcbiAgICB9IC8vIEF2b2lkIHJlY3JlYXRpbmcgbWFza2VkIGNvbnRleHQgdW5sZXNzIHVubWFza2VkIGNvbnRleHQgaGFzIGNoYW5nZWQuXG4gICAgLy8gRmFpbGluZyB0byBkbyB0aGlzIHdpbGwgcmVzdWx0IGluIHVubmVjZXNzYXJ5IGNhbGxzIHRvIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMuXG4gICAgLy8gVGhpcyBtYXkgdHJpZ2dlciBpbmZpbml0ZSBsb29wcyBpZiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIGNhbGxzIHNldFN0YXRlLlxuXG5cbiAgICB2YXIgaW5zdGFuY2UgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGU7XG5cbiAgICBpZiAoaW5zdGFuY2UgJiYgaW5zdGFuY2UuX19yZWFjdEludGVybmFsTWVtb2l6ZWRVbm1hc2tlZENoaWxkQ29udGV4dCA9PT0gdW5tYXNrZWRDb250ZXh0KSB7XG4gICAgICByZXR1cm4gaW5zdGFuY2UuX19yZWFjdEludGVybmFsTWVtb2l6ZWRNYXNrZWRDaGlsZENvbnRleHQ7XG4gICAgfVxuXG4gICAgdmFyIGNvbnRleHQgPSB7fTtcblxuICAgIGZvciAodmFyIGtleSBpbiBjb250ZXh0VHlwZXMpIHtcbiAgICAgIGNvbnRleHRba2V5XSA9IHVubWFza2VkQ29udGV4dFtrZXldO1xuICAgIH1cblxuICAgIHtcbiAgICAgIHZhciBuYW1lID0gZ2V0Q29tcG9uZW50TmFtZSh0eXBlKSB8fCAnVW5rbm93bic7XG4gICAgICBjaGVja1Byb3BUeXBlcyhjb250ZXh0VHlwZXMsIGNvbnRleHQsICdjb250ZXh0JywgbmFtZSwgZ2V0Q3VycmVudEZpYmVyU3RhY2tJbkRldik7XG4gICAgfSAvLyBDYWNoZSB1bm1hc2tlZCBjb250ZXh0IHNvIHdlIGNhbiBhdm9pZCByZWNyZWF0aW5nIG1hc2tlZCBjb250ZXh0IHVubGVzcyBuZWNlc3NhcnkuXG4gICAgLy8gQ29udGV4dCBpcyBjcmVhdGVkIGJlZm9yZSB0aGUgY2xhc3MgY29tcG9uZW50IGlzIGluc3RhbnRpYXRlZCBzbyBjaGVjayBmb3IgaW5zdGFuY2UuXG5cblxuICAgIGlmIChpbnN0YW5jZSkge1xuICAgICAgY2FjaGVDb250ZXh0KHdvcmtJblByb2dyZXNzLCB1bm1hc2tlZENvbnRleHQsIGNvbnRleHQpO1xuICAgIH1cblxuICAgIHJldHVybiBjb250ZXh0O1xuICB9XG59XG5cbmZ1bmN0aW9uIGhhc0NvbnRleHRDaGFuZ2VkKCkge1xuICBpZiAoZGlzYWJsZUxlZ2FjeUNvbnRleHQpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGRpZFBlcmZvcm1Xb3JrU3RhY2tDdXJzb3IuY3VycmVudDtcbiAgfVxufVxuXG5mdW5jdGlvbiBpc0NvbnRleHRQcm92aWRlcih0eXBlKSB7XG4gIGlmIChkaXNhYmxlTGVnYWN5Q29udGV4dCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgY2hpbGRDb250ZXh0VHlwZXMgPSB0eXBlLmNoaWxkQ29udGV4dFR5cGVzO1xuICAgIHJldHVybiBjaGlsZENvbnRleHRUeXBlcyAhPT0gbnVsbCAmJiBjaGlsZENvbnRleHRUeXBlcyAhPT0gdW5kZWZpbmVkO1xuICB9XG59XG5cbmZ1bmN0aW9uIHBvcENvbnRleHQoZmliZXIpIHtcbiAgaWYgKGRpc2FibGVMZWdhY3lDb250ZXh0KSB7XG4gICAgcmV0dXJuO1xuICB9IGVsc2Uge1xuICAgIHBvcChkaWRQZXJmb3JtV29ya1N0YWNrQ3Vyc29yLCBmaWJlcik7XG4gICAgcG9wKGNvbnRleHRTdGFja0N1cnNvciwgZmliZXIpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHBvcFRvcExldmVsQ29udGV4dE9iamVjdChmaWJlcikge1xuICBpZiAoZGlzYWJsZUxlZ2FjeUNvbnRleHQpIHtcbiAgICByZXR1cm47XG4gIH0gZWxzZSB7XG4gICAgcG9wKGRpZFBlcmZvcm1Xb3JrU3RhY2tDdXJzb3IsIGZpYmVyKTtcbiAgICBwb3AoY29udGV4dFN0YWNrQ3Vyc29yLCBmaWJlcik7XG4gIH1cbn1cblxuZnVuY3Rpb24gcHVzaFRvcExldmVsQ29udGV4dE9iamVjdChmaWJlciwgY29udGV4dCwgZGlkQ2hhbmdlKSB7XG4gIGlmIChkaXNhYmxlTGVnYWN5Q29udGV4dCkge1xuICAgIHJldHVybjtcbiAgfSBlbHNlIHtcbiAgICBpZiAoIShjb250ZXh0U3RhY2tDdXJzb3IuY3VycmVudCA9PT0gZW1wdHlDb250ZXh0T2JqZWN0KSkge1xuICAgICAge1xuICAgICAgICB0aHJvdyBFcnJvcihcIlVuZXhwZWN0ZWQgY29udGV4dCBmb3VuZCBvbiBzdGFjay4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcHVzaChjb250ZXh0U3RhY2tDdXJzb3IsIGNvbnRleHQsIGZpYmVyKTtcbiAgICBwdXNoKGRpZFBlcmZvcm1Xb3JrU3RhY2tDdXJzb3IsIGRpZENoYW5nZSwgZmliZXIpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHByb2Nlc3NDaGlsZENvbnRleHQoZmliZXIsIHR5cGUsIHBhcmVudENvbnRleHQpIHtcbiAgaWYgKGRpc2FibGVMZWdhY3lDb250ZXh0KSB7XG4gICAgcmV0dXJuIHBhcmVudENvbnRleHQ7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGluc3RhbmNlID0gZmliZXIuc3RhdGVOb2RlO1xuICAgIHZhciBjaGlsZENvbnRleHRUeXBlcyA9IHR5cGUuY2hpbGRDb250ZXh0VHlwZXM7IC8vIFRPRE8gKGJ2YXVnaG4pIFJlcGxhY2UgdGhpcyBiZWhhdmlvciB3aXRoIGFuIGludmFyaWFudCgpIGluIHRoZSBmdXR1cmUuXG4gICAgLy8gSXQgaGFzIG9ubHkgYmVlbiBhZGRlZCBpbiBGaWJlciB0byBtYXRjaCB0aGUgKHVuaW50ZW50aW9uYWwpIGJlaGF2aW9yIGluIFN0YWNrLlxuXG4gICAgaWYgKHR5cGVvZiBpbnN0YW5jZS5nZXRDaGlsZENvbnRleHQgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHtcbiAgICAgICAgdmFyIGNvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lKHR5cGUpIHx8ICdVbmtub3duJztcblxuICAgICAgICBpZiAoIXdhcm5lZEFib3V0TWlzc2luZ0dldENoaWxkQ29udGV4dFtjb21wb25lbnROYW1lXSkge1xuICAgICAgICAgIHdhcm5lZEFib3V0TWlzc2luZ0dldENoaWxkQ29udGV4dFtjb21wb25lbnROYW1lXSA9IHRydWU7XG4gICAgICAgICAgd2FybmluZ1dpdGhvdXRTdGFjayQxKGZhbHNlLCAnJXMuY2hpbGRDb250ZXh0VHlwZXMgaXMgc3BlY2lmaWVkIGJ1dCB0aGVyZSBpcyBubyBnZXRDaGlsZENvbnRleHQoKSBtZXRob2QgJyArICdvbiB0aGUgaW5zdGFuY2UuIFlvdSBjYW4gZWl0aGVyIGRlZmluZSBnZXRDaGlsZENvbnRleHQoKSBvbiAlcyBvciByZW1vdmUgJyArICdjaGlsZENvbnRleHRUeXBlcyBmcm9tIGl0LicsIGNvbXBvbmVudE5hbWUsIGNvbXBvbmVudE5hbWUpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwYXJlbnRDb250ZXh0O1xuICAgIH1cblxuICAgIHZhciBjaGlsZENvbnRleHQ7XG5cbiAgICB7XG4gICAgICBzZXRDdXJyZW50UGhhc2UoJ2dldENoaWxkQ29udGV4dCcpO1xuICAgIH1cblxuICAgIHN0YXJ0UGhhc2VUaW1lcihmaWJlciwgJ2dldENoaWxkQ29udGV4dCcpO1xuICAgIGNoaWxkQ29udGV4dCA9IGluc3RhbmNlLmdldENoaWxkQ29udGV4dCgpO1xuICAgIHN0b3BQaGFzZVRpbWVyKCk7XG5cbiAgICB7XG4gICAgICBzZXRDdXJyZW50UGhhc2UobnVsbCk7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgY29udGV4dEtleSBpbiBjaGlsZENvbnRleHQpIHtcbiAgICAgIGlmICghKGNvbnRleHRLZXkgaW4gY2hpbGRDb250ZXh0VHlwZXMpKSB7XG4gICAgICAgIHtcbiAgICAgICAgICB0aHJvdyBFcnJvcigoZ2V0Q29tcG9uZW50TmFtZSh0eXBlKSB8fCAnVW5rbm93bicpICsgXCIuZ2V0Q2hpbGRDb250ZXh0KCk6IGtleSBcXFwiXCIgKyBjb250ZXh0S2V5ICsgXCJcXFwiIGlzIG5vdCBkZWZpbmVkIGluIGNoaWxkQ29udGV4dFR5cGVzLlwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHtcbiAgICAgIHZhciBuYW1lID0gZ2V0Q29tcG9uZW50TmFtZSh0eXBlKSB8fCAnVW5rbm93bic7XG4gICAgICBjaGVja1Byb3BUeXBlcyhjaGlsZENvbnRleHRUeXBlcywgY2hpbGRDb250ZXh0LCAnY2hpbGQgY29udGV4dCcsIG5hbWUsIC8vIEluIHByYWN0aWNlLCB0aGVyZSBpcyBvbmUgY2FzZSBpbiB3aGljaCB3ZSB3b24ndCBnZXQgYSBzdGFjay4gSXQncyB3aGVuXG4gICAgICAvLyBzb21lYm9keSBjYWxscyB1bnN0YWJsZV9yZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lcigpIGFuZCB3ZSBwcm9jZXNzXG4gICAgICAvLyBjb250ZXh0IGZyb20gdGhlIHBhcmVudCBjb21wb25lbnQgaW5zdGFuY2UuIFRoZSBzdGFjayB3aWxsIGJlIG1pc3NpbmdcbiAgICAgIC8vIGJlY2F1c2UgaXQncyBvdXRzaWRlIG9mIHRoZSByZWNvbmNpbGlhdGlvbiwgYW5kIHNvIHRoZSBwb2ludGVyIGhhcyBub3RcbiAgICAgIC8vIGJlZW4gc2V0LiBUaGlzIGlzIHJhcmUgYW5kIGRvZXNuJ3QgbWF0dGVyLiBXZSdsbCBhbHNvIHJlbW92ZSB0aGF0IEFQSS5cbiAgICAgIGdldEN1cnJlbnRGaWJlclN0YWNrSW5EZXYpO1xuICAgIH1cblxuICAgIHJldHVybiBfYXNzaWduKHt9LCBwYXJlbnRDb250ZXh0LCB7fSwgY2hpbGRDb250ZXh0KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwdXNoQ29udGV4dFByb3ZpZGVyKHdvcmtJblByb2dyZXNzKSB7XG4gIGlmIChkaXNhYmxlTGVnYWN5Q29udGV4dCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgaW5zdGFuY2UgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGU7IC8vIFdlIHB1c2ggdGhlIGNvbnRleHQgYXMgZWFybHkgYXMgcG9zc2libGUgdG8gZW5zdXJlIHN0YWNrIGludGVncml0eS5cbiAgICAvLyBJZiB0aGUgaW5zdGFuY2UgZG9lcyBub3QgZXhpc3QgeWV0LCB3ZSB3aWxsIHB1c2ggbnVsbCBhdCBmaXJzdCxcbiAgICAvLyBhbmQgcmVwbGFjZSBpdCBvbiB0aGUgc3RhY2sgbGF0ZXIgd2hlbiBpbnZhbGlkYXRpbmcgdGhlIGNvbnRleHQuXG5cbiAgICB2YXIgbWVtb2l6ZWRNZXJnZWRDaGlsZENvbnRleHQgPSBpbnN0YW5jZSAmJiBpbnN0YW5jZS5fX3JlYWN0SW50ZXJuYWxNZW1vaXplZE1lcmdlZENoaWxkQ29udGV4dCB8fCBlbXB0eUNvbnRleHRPYmplY3Q7IC8vIFJlbWVtYmVyIHRoZSBwYXJlbnQgY29udGV4dCBzbyB3ZSBjYW4gbWVyZ2Ugd2l0aCBpdCBsYXRlci5cbiAgICAvLyBJbmhlcml0IHRoZSBwYXJlbnQncyBkaWQtcGVyZm9ybS13b3JrIHZhbHVlIHRvIGF2b2lkIGluYWR2ZXJ0ZW50bHkgYmxvY2tpbmcgdXBkYXRlcy5cblxuICAgIHByZXZpb3VzQ29udGV4dCA9IGNvbnRleHRTdGFja0N1cnNvci5jdXJyZW50O1xuICAgIHB1c2goY29udGV4dFN0YWNrQ3Vyc29yLCBtZW1vaXplZE1lcmdlZENoaWxkQ29udGV4dCwgd29ya0luUHJvZ3Jlc3MpO1xuICAgIHB1c2goZGlkUGVyZm9ybVdvcmtTdGFja0N1cnNvciwgZGlkUGVyZm9ybVdvcmtTdGFja0N1cnNvci5jdXJyZW50LCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cblxuZnVuY3Rpb24gaW52YWxpZGF0ZUNvbnRleHRQcm92aWRlcih3b3JrSW5Qcm9ncmVzcywgdHlwZSwgZGlkQ2hhbmdlKSB7XG4gIGlmIChkaXNhYmxlTGVnYWN5Q29udGV4dCkge1xuICAgIHJldHVybjtcbiAgfSBlbHNlIHtcbiAgICB2YXIgaW5zdGFuY2UgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGU7XG5cbiAgICBpZiAoIWluc3RhbmNlKSB7XG4gICAgICB7XG4gICAgICAgIHRocm93IEVycm9yKFwiRXhwZWN0ZWQgdG8gaGF2ZSBhbiBpbnN0YW5jZSBieSB0aGlzIHBvaW50LiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZGlkQ2hhbmdlKSB7XG4gICAgICAvLyBNZXJnZSBwYXJlbnQgYW5kIG93biBjb250ZXh0LlxuICAgICAgLy8gU2tpcCB0aGlzIGlmIHdlJ3JlIG5vdCB1cGRhdGluZyBkdWUgdG8gc0NVLlxuICAgICAgLy8gVGhpcyBhdm9pZHMgdW5uZWNlc3NhcmlseSByZWNvbXB1dGluZyBtZW1vaXplZCB2YWx1ZXMuXG4gICAgICB2YXIgbWVyZ2VkQ29udGV4dCA9IHByb2Nlc3NDaGlsZENvbnRleHQod29ya0luUHJvZ3Jlc3MsIHR5cGUsIHByZXZpb3VzQ29udGV4dCk7XG4gICAgICBpbnN0YW5jZS5fX3JlYWN0SW50ZXJuYWxNZW1vaXplZE1lcmdlZENoaWxkQ29udGV4dCA9IG1lcmdlZENvbnRleHQ7IC8vIFJlcGxhY2UgdGhlIG9sZCAob3IgZW1wdHkpIGNvbnRleHQgd2l0aCB0aGUgbmV3IG9uZS5cbiAgICAgIC8vIEl0IGlzIGltcG9ydGFudCB0byB1bndpbmQgdGhlIGNvbnRleHQgaW4gdGhlIHJldmVyc2Ugb3JkZXIuXG5cbiAgICAgIHBvcChkaWRQZXJmb3JtV29ya1N0YWNrQ3Vyc29yLCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICBwb3AoY29udGV4dFN0YWNrQ3Vyc29yLCB3b3JrSW5Qcm9ncmVzcyk7IC8vIE5vdyBwdXNoIHRoZSBuZXcgY29udGV4dCBhbmQgbWFyayB0aGF0IGl0IGhhcyBjaGFuZ2VkLlxuXG4gICAgICBwdXNoKGNvbnRleHRTdGFja0N1cnNvciwgbWVyZ2VkQ29udGV4dCwgd29ya0luUHJvZ3Jlc3MpO1xuICAgICAgcHVzaChkaWRQZXJmb3JtV29ya1N0YWNrQ3Vyc29yLCBkaWRDaGFuZ2UsIHdvcmtJblByb2dyZXNzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcG9wKGRpZFBlcmZvcm1Xb3JrU3RhY2tDdXJzb3IsIHdvcmtJblByb2dyZXNzKTtcbiAgICAgIHB1c2goZGlkUGVyZm9ybVdvcmtTdGFja0N1cnNvciwgZGlkQ2hhbmdlLCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGZpbmRDdXJyZW50VW5tYXNrZWRDb250ZXh0KGZpYmVyKSB7XG4gIGlmIChkaXNhYmxlTGVnYWN5Q29udGV4dCkge1xuICAgIHJldHVybiBlbXB0eUNvbnRleHRPYmplY3Q7XG4gIH0gZWxzZSB7XG4gICAgLy8gQ3VycmVudGx5IHRoaXMgaXMgb25seSB1c2VkIHdpdGggcmVuZGVyU3VidHJlZUludG9Db250YWluZXI7IG5vdCBzdXJlIGlmIGl0XG4gICAgLy8gbWFrZXMgc2Vuc2UgZWxzZXdoZXJlXG4gICAgaWYgKCEoaXNGaWJlck1vdW50ZWQoZmliZXIpICYmIGZpYmVyLnRhZyA9PT0gQ2xhc3NDb21wb25lbnQpKSB7XG4gICAgICB7XG4gICAgICAgIHRocm93IEVycm9yKFwiRXhwZWN0ZWQgc3VidHJlZSBwYXJlbnQgdG8gYmUgYSBtb3VudGVkIGNsYXNzIGNvbXBvbmVudC4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIG5vZGUgPSBmaWJlcjtcblxuICAgIGRvIHtcbiAgICAgIHN3aXRjaCAobm9kZS50YWcpIHtcbiAgICAgICAgY2FzZSBIb3N0Um9vdDpcbiAgICAgICAgICByZXR1cm4gbm9kZS5zdGF0ZU5vZGUuY29udGV4dDtcblxuICAgICAgICBjYXNlIENsYXNzQ29tcG9uZW50OlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHZhciBDb21wb25lbnQgPSBub2RlLnR5cGU7XG5cbiAgICAgICAgICAgIGlmIChpc0NvbnRleHRQcm92aWRlcihDb21wb25lbnQpKSB7XG4gICAgICAgICAgICAgIHJldHVybiBub2RlLnN0YXRlTm9kZS5fX3JlYWN0SW50ZXJuYWxNZW1vaXplZE1lcmdlZENoaWxkQ29udGV4dDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBub2RlID0gbm9kZS5yZXR1cm47XG4gICAgfSB3aGlsZSAobm9kZSAhPT0gbnVsbCk7XG5cbiAgICB7XG4gICAgICB7XG4gICAgICAgIHRocm93IEVycm9yKFwiRm91bmQgdW5leHBlY3RlZCBkZXRhY2hlZCBzdWJ0cmVlIHBhcmVudC4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIik7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbnZhciBMZWdhY3lSb290ID0gMDtcbnZhciBCbG9ja2luZ1Jvb3QgPSAxO1xudmFyIENvbmN1cnJlbnRSb290ID0gMjtcblxuLy8gSW50ZW50aW9uYWxseSBub3QgbmFtZWQgaW1wb3J0cyBiZWNhdXNlIFJvbGx1cCB3b3VsZCB1c2UgZHluYW1pYyBkaXNwYXRjaCBmb3Jcbi8vIENvbW1vbkpTIGludGVyb3AgbmFtZWQgaW1wb3J0cy5cbnZhciBTY2hlZHVsZXJfcnVuV2l0aFByaW9yaXR5ID0gU2NoZWR1bGVyLnVuc3RhYmxlX3J1bldpdGhQcmlvcml0eTtcbnZhciBTY2hlZHVsZXJfc2NoZWR1bGVDYWxsYmFjayA9IFNjaGVkdWxlci51bnN0YWJsZV9zY2hlZHVsZUNhbGxiYWNrO1xudmFyIFNjaGVkdWxlcl9jYW5jZWxDYWxsYmFjayA9IFNjaGVkdWxlci51bnN0YWJsZV9jYW5jZWxDYWxsYmFjaztcbnZhciBTY2hlZHVsZXJfc2hvdWxkWWllbGQgPSBTY2hlZHVsZXIudW5zdGFibGVfc2hvdWxkWWllbGQ7XG52YXIgU2NoZWR1bGVyX3JlcXVlc3RQYWludCA9IFNjaGVkdWxlci51bnN0YWJsZV9yZXF1ZXN0UGFpbnQ7XG52YXIgU2NoZWR1bGVyX25vdyA9IFNjaGVkdWxlci51bnN0YWJsZV9ub3c7XG52YXIgU2NoZWR1bGVyX2dldEN1cnJlbnRQcmlvcml0eUxldmVsID0gU2NoZWR1bGVyLnVuc3RhYmxlX2dldEN1cnJlbnRQcmlvcml0eUxldmVsO1xudmFyIFNjaGVkdWxlcl9JbW1lZGlhdGVQcmlvcml0eSA9IFNjaGVkdWxlci51bnN0YWJsZV9JbW1lZGlhdGVQcmlvcml0eTtcbnZhciBTY2hlZHVsZXJfVXNlckJsb2NraW5nUHJpb3JpdHkgPSBTY2hlZHVsZXIudW5zdGFibGVfVXNlckJsb2NraW5nUHJpb3JpdHk7XG52YXIgU2NoZWR1bGVyX05vcm1hbFByaW9yaXR5ID0gU2NoZWR1bGVyLnVuc3RhYmxlX05vcm1hbFByaW9yaXR5O1xudmFyIFNjaGVkdWxlcl9Mb3dQcmlvcml0eSA9IFNjaGVkdWxlci51bnN0YWJsZV9Mb3dQcmlvcml0eTtcbnZhciBTY2hlZHVsZXJfSWRsZVByaW9yaXR5ID0gU2NoZWR1bGVyLnVuc3RhYmxlX0lkbGVQcmlvcml0eTtcblxuaWYgKGVuYWJsZVNjaGVkdWxlclRyYWNpbmcpIHtcbiAgLy8gUHJvdmlkZSBleHBsaWNpdCBlcnJvciBtZXNzYWdlIHdoZW4gcHJvZHVjdGlvbitwcm9maWxpbmcgYnVuZGxlIG9mIGUuZy5cbiAgLy8gcmVhY3QtZG9tIGlzIHVzZWQgd2l0aCBwcm9kdWN0aW9uIChub24tcHJvZmlsaW5nKSBidW5kbGUgb2ZcbiAgLy8gc2NoZWR1bGVyL3RyYWNpbmdcbiAgaWYgKCEodHJhY2luZy5fX2ludGVyYWN0aW9uc1JlZiAhPSBudWxsICYmIHRyYWNpbmcuX19pbnRlcmFjdGlvbnNSZWYuY3VycmVudCAhPSBudWxsKSkge1xuICAgIHtcbiAgICAgIHRocm93IEVycm9yKFwiSXQgaXMgbm90IHN1cHBvcnRlZCB0byBydW4gdGhlIHByb2ZpbGluZyB2ZXJzaW9uIG9mIGEgcmVuZGVyZXIgKGZvciBleGFtcGxlLCBgcmVhY3QtZG9tL3Byb2ZpbGluZ2ApIHdpdGhvdXQgYWxzbyByZXBsYWNpbmcgdGhlIGBzY2hlZHVsZXIvdHJhY2luZ2AgbW9kdWxlIHdpdGggYHNjaGVkdWxlci90cmFjaW5nLXByb2ZpbGluZ2AuIFlvdXIgYnVuZGxlciBtaWdodCBoYXZlIGEgc2V0dGluZyBmb3IgYWxpYXNpbmcgYm90aCBtb2R1bGVzLiBMZWFybiBtb3JlIGF0IGh0dHA6Ly9mYi5tZS9yZWFjdC1wcm9maWxpbmdcIik7XG4gICAgfVxuICB9XG59XG5cbnZhciBmYWtlQ2FsbGJhY2tOb2RlID0ge307IC8vIEV4Y2VwdCBmb3IgTm9Qcmlvcml0eSwgdGhlc2UgY29ycmVzcG9uZCB0byBTY2hlZHVsZXIgcHJpb3JpdGllcy4gV2UgdXNlXG4vLyBhc2NlbmRpbmcgbnVtYmVycyBzbyB3ZSBjYW4gY29tcGFyZSB0aGVtIGxpa2UgbnVtYmVycy4gVGhleSBzdGFydCBhdCA5MCB0b1xuLy8gYXZvaWQgY2xhc2hpbmcgd2l0aCBTY2hlZHVsZXIncyBwcmlvcml0aWVzLlxuXG52YXIgSW1tZWRpYXRlUHJpb3JpdHkgPSA5OTtcbnZhciBVc2VyQmxvY2tpbmdQcmlvcml0eSQyID0gOTg7XG52YXIgTm9ybWFsUHJpb3JpdHkgPSA5NztcbnZhciBMb3dQcmlvcml0eSA9IDk2O1xudmFyIElkbGVQcmlvcml0eSA9IDk1OyAvLyBOb1ByaW9yaXR5IGlzIHRoZSBhYnNlbmNlIG9mIHByaW9yaXR5LiBBbHNvIFJlYWN0LW9ubHkuXG5cbnZhciBOb1ByaW9yaXR5ID0gOTA7XG52YXIgc2hvdWxkWWllbGQgPSBTY2hlZHVsZXJfc2hvdWxkWWllbGQ7XG52YXIgcmVxdWVzdFBhaW50ID0gLy8gRmFsbCBiYWNrIGdyYWNlZnVsbHkgaWYgd2UncmUgcnVubmluZyBhbiBvbGRlciB2ZXJzaW9uIG9mIFNjaGVkdWxlci5cblNjaGVkdWxlcl9yZXF1ZXN0UGFpbnQgIT09IHVuZGVmaW5lZCA/IFNjaGVkdWxlcl9yZXF1ZXN0UGFpbnQgOiBmdW5jdGlvbiAoKSB7fTtcbnZhciBzeW5jUXVldWUgPSBudWxsO1xudmFyIGltbWVkaWF0ZVF1ZXVlQ2FsbGJhY2tOb2RlID0gbnVsbDtcbnZhciBpc0ZsdXNoaW5nU3luY1F1ZXVlID0gZmFsc2U7XG52YXIgaW5pdGlhbFRpbWVNcyA9IFNjaGVkdWxlcl9ub3coKTsgLy8gSWYgdGhlIGluaXRpYWwgdGltZXN0YW1wIGlzIHJlYXNvbmFibHkgc21hbGwsIHVzZSBTY2hlZHVsZXIncyBgbm93YCBkaXJlY3RseS5cbi8vIFRoaXMgd2lsbCBiZSB0aGUgY2FzZSBmb3IgbW9kZXJuIGJyb3dzZXJzIHRoYXQgc3VwcG9ydCBgcGVyZm9ybWFuY2Uubm93YC4gSW5cbi8vIG9sZGVyIGJyb3dzZXJzLCBTY2hlZHVsZXIgZmFsbHMgYmFjayB0byBgRGF0ZS5ub3dgLCB3aGljaCByZXR1cm5zIGEgVW5peFxuLy8gdGltZXN0YW1wLiBJbiB0aGF0IGNhc2UsIHN1YnRyYWN0IHRoZSBtb2R1bGUgaW5pdGlhbGl6YXRpb24gdGltZSB0byBzaW11bGF0ZVxuLy8gdGhlIGJlaGF2aW9yIG9mIHBlcmZvcm1hbmNlLm5vdyBhbmQga2VlcCBvdXIgdGltZXMgc21hbGwgZW5vdWdoIHRvIGZpdFxuLy8gd2l0aGluIDMyIGJpdHMuXG4vLyBUT0RPOiBDb25zaWRlciBsaWZ0aW5nIHRoaXMgaW50byBTY2hlZHVsZXIuXG5cbnZhciBub3cgPSBpbml0aWFsVGltZU1zIDwgMTAwMDAgPyBTY2hlZHVsZXJfbm93IDogZnVuY3Rpb24gKCkge1xuICByZXR1cm4gU2NoZWR1bGVyX25vdygpIC0gaW5pdGlhbFRpbWVNcztcbn07XG5mdW5jdGlvbiBnZXRDdXJyZW50UHJpb3JpdHlMZXZlbCgpIHtcbiAgc3dpdGNoIChTY2hlZHVsZXJfZ2V0Q3VycmVudFByaW9yaXR5TGV2ZWwoKSkge1xuICAgIGNhc2UgU2NoZWR1bGVyX0ltbWVkaWF0ZVByaW9yaXR5OlxuICAgICAgcmV0dXJuIEltbWVkaWF0ZVByaW9yaXR5O1xuXG4gICAgY2FzZSBTY2hlZHVsZXJfVXNlckJsb2NraW5nUHJpb3JpdHk6XG4gICAgICByZXR1cm4gVXNlckJsb2NraW5nUHJpb3JpdHkkMjtcblxuICAgIGNhc2UgU2NoZWR1bGVyX05vcm1hbFByaW9yaXR5OlxuICAgICAgcmV0dXJuIE5vcm1hbFByaW9yaXR5O1xuXG4gICAgY2FzZSBTY2hlZHVsZXJfTG93UHJpb3JpdHk6XG4gICAgICByZXR1cm4gTG93UHJpb3JpdHk7XG5cbiAgICBjYXNlIFNjaGVkdWxlcl9JZGxlUHJpb3JpdHk6XG4gICAgICByZXR1cm4gSWRsZVByaW9yaXR5O1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHtcbiAgICAgICAge1xuICAgICAgICAgIHRocm93IEVycm9yKFwiVW5rbm93biBwcmlvcml0eSBsZXZlbC5cIik7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICB9XG59XG5cbmZ1bmN0aW9uIHJlYWN0UHJpb3JpdHlUb1NjaGVkdWxlclByaW9yaXR5KHJlYWN0UHJpb3JpdHlMZXZlbCkge1xuICBzd2l0Y2ggKHJlYWN0UHJpb3JpdHlMZXZlbCkge1xuICAgIGNhc2UgSW1tZWRpYXRlUHJpb3JpdHk6XG4gICAgICByZXR1cm4gU2NoZWR1bGVyX0ltbWVkaWF0ZVByaW9yaXR5O1xuXG4gICAgY2FzZSBVc2VyQmxvY2tpbmdQcmlvcml0eSQyOlxuICAgICAgcmV0dXJuIFNjaGVkdWxlcl9Vc2VyQmxvY2tpbmdQcmlvcml0eTtcblxuICAgIGNhc2UgTm9ybWFsUHJpb3JpdHk6XG4gICAgICByZXR1cm4gU2NoZWR1bGVyX05vcm1hbFByaW9yaXR5O1xuXG4gICAgY2FzZSBMb3dQcmlvcml0eTpcbiAgICAgIHJldHVybiBTY2hlZHVsZXJfTG93UHJpb3JpdHk7XG5cbiAgICBjYXNlIElkbGVQcmlvcml0eTpcbiAgICAgIHJldHVybiBTY2hlZHVsZXJfSWRsZVByaW9yaXR5O1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHtcbiAgICAgICAge1xuICAgICAgICAgIHRocm93IEVycm9yKFwiVW5rbm93biBwcmlvcml0eSBsZXZlbC5cIik7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICB9XG59XG5cbmZ1bmN0aW9uIHJ1bldpdGhQcmlvcml0eSQyKHJlYWN0UHJpb3JpdHlMZXZlbCwgZm4pIHtcbiAgdmFyIHByaW9yaXR5TGV2ZWwgPSByZWFjdFByaW9yaXR5VG9TY2hlZHVsZXJQcmlvcml0eShyZWFjdFByaW9yaXR5TGV2ZWwpO1xuICByZXR1cm4gU2NoZWR1bGVyX3J1bldpdGhQcmlvcml0eShwcmlvcml0eUxldmVsLCBmbik7XG59XG5mdW5jdGlvbiBzY2hlZHVsZUNhbGxiYWNrKHJlYWN0UHJpb3JpdHlMZXZlbCwgY2FsbGJhY2ssIG9wdGlvbnMpIHtcbiAgdmFyIHByaW9yaXR5TGV2ZWwgPSByZWFjdFByaW9yaXR5VG9TY2hlZHVsZXJQcmlvcml0eShyZWFjdFByaW9yaXR5TGV2ZWwpO1xuICByZXR1cm4gU2NoZWR1bGVyX3NjaGVkdWxlQ2FsbGJhY2socHJpb3JpdHlMZXZlbCwgY2FsbGJhY2ssIG9wdGlvbnMpO1xufVxuZnVuY3Rpb24gc2NoZWR1bGVTeW5jQ2FsbGJhY2soY2FsbGJhY2spIHtcbiAgLy8gUHVzaCB0aGlzIGNhbGxiYWNrIGludG8gYW4gaW50ZXJuYWwgcXVldWUuIFdlJ2xsIGZsdXNoIHRoZXNlIGVpdGhlciBpblxuICAvLyB0aGUgbmV4dCB0aWNrLCBvciBlYXJsaWVyIGlmIHNvbWV0aGluZyBjYWxscyBgZmx1c2hTeW5jQ2FsbGJhY2tRdWV1ZWAuXG4gIGlmIChzeW5jUXVldWUgPT09IG51bGwpIHtcbiAgICBzeW5jUXVldWUgPSBbY2FsbGJhY2tdOyAvLyBGbHVzaCB0aGUgcXVldWUgaW4gdGhlIG5leHQgdGljaywgYXQgdGhlIGVhcmxpZXN0LlxuXG4gICAgaW1tZWRpYXRlUXVldWVDYWxsYmFja05vZGUgPSBTY2hlZHVsZXJfc2NoZWR1bGVDYWxsYmFjayhTY2hlZHVsZXJfSW1tZWRpYXRlUHJpb3JpdHksIGZsdXNoU3luY0NhbGxiYWNrUXVldWVJbXBsKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBQdXNoIG9udG8gZXhpc3RpbmcgcXVldWUuIERvbid0IG5lZWQgdG8gc2NoZWR1bGUgYSBjYWxsYmFjayBiZWNhdXNlXG4gICAgLy8gd2UgYWxyZWFkeSBzY2hlZHVsZWQgb25lIHdoZW4gd2UgY3JlYXRlZCB0aGUgcXVldWUuXG4gICAgc3luY1F1ZXVlLnB1c2goY2FsbGJhY2spO1xuICB9XG5cbiAgcmV0dXJuIGZha2VDYWxsYmFja05vZGU7XG59XG5mdW5jdGlvbiBjYW5jZWxDYWxsYmFjayhjYWxsYmFja05vZGUpIHtcbiAgaWYgKGNhbGxiYWNrTm9kZSAhPT0gZmFrZUNhbGxiYWNrTm9kZSkge1xuICAgIFNjaGVkdWxlcl9jYW5jZWxDYWxsYmFjayhjYWxsYmFja05vZGUpO1xuICB9XG59XG5mdW5jdGlvbiBmbHVzaFN5bmNDYWxsYmFja1F1ZXVlKCkge1xuICBpZiAoaW1tZWRpYXRlUXVldWVDYWxsYmFja05vZGUgIT09IG51bGwpIHtcbiAgICB2YXIgbm9kZSA9IGltbWVkaWF0ZVF1ZXVlQ2FsbGJhY2tOb2RlO1xuICAgIGltbWVkaWF0ZVF1ZXVlQ2FsbGJhY2tOb2RlID0gbnVsbDtcbiAgICBTY2hlZHVsZXJfY2FuY2VsQ2FsbGJhY2sobm9kZSk7XG4gIH1cblxuICBmbHVzaFN5bmNDYWxsYmFja1F1ZXVlSW1wbCgpO1xufVxuXG5mdW5jdGlvbiBmbHVzaFN5bmNDYWxsYmFja1F1ZXVlSW1wbCgpIHtcbiAgaWYgKCFpc0ZsdXNoaW5nU3luY1F1ZXVlICYmIHN5bmNRdWV1ZSAhPT0gbnVsbCkge1xuICAgIC8vIFByZXZlbnQgcmUtZW50cmFuY3kuXG4gICAgaXNGbHVzaGluZ1N5bmNRdWV1ZSA9IHRydWU7XG4gICAgdmFyIGkgPSAwO1xuXG4gICAgdHJ5IHtcbiAgICAgIHZhciBfaXNTeW5jID0gdHJ1ZTtcbiAgICAgIHZhciBxdWV1ZSA9IHN5bmNRdWV1ZTtcbiAgICAgIHJ1bldpdGhQcmlvcml0eSQyKEltbWVkaWF0ZVByaW9yaXR5LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZvciAoOyBpIDwgcXVldWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIgY2FsbGJhY2sgPSBxdWV1ZVtpXTtcblxuICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgIGNhbGxiYWNrID0gY2FsbGJhY2soX2lzU3luYyk7XG4gICAgICAgICAgfSB3aGlsZSAoY2FsbGJhY2sgIT09IG51bGwpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHN5bmNRdWV1ZSA9IG51bGw7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIC8vIElmIHNvbWV0aGluZyB0aHJvd3MsIGxlYXZlIHRoZSByZW1haW5pbmcgY2FsbGJhY2tzIG9uIHRoZSBxdWV1ZS5cbiAgICAgIGlmIChzeW5jUXVldWUgIT09IG51bGwpIHtcbiAgICAgICAgc3luY1F1ZXVlID0gc3luY1F1ZXVlLnNsaWNlKGkgKyAxKTtcbiAgICAgIH0gLy8gUmVzdW1lIGZsdXNoaW5nIGluIHRoZSBuZXh0IHRpY2tcblxuXG4gICAgICBTY2hlZHVsZXJfc2NoZWR1bGVDYWxsYmFjayhTY2hlZHVsZXJfSW1tZWRpYXRlUHJpb3JpdHksIGZsdXNoU3luY0NhbGxiYWNrUXVldWUpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlzRmx1c2hpbmdTeW5jUXVldWUgPSBmYWxzZTtcbiAgICB9XG4gIH1cbn1cblxudmFyIE5vTW9kZSA9IDA7XG52YXIgU3RyaWN0TW9kZSA9IDE7IC8vIFRPRE86IFJlbW92ZSBCbG9ja2luZ01vZGUgYW5kIENvbmN1cnJlbnRNb2RlIGJ5IHJlYWRpbmcgZnJvbSB0aGUgcm9vdFxuLy8gdGFnIGluc3RlYWRcblxudmFyIEJsb2NraW5nTW9kZSA9IDI7XG52YXIgQ29uY3VycmVudE1vZGUgPSA0O1xudmFyIFByb2ZpbGVNb2RlID0gODtcblxuLy8gTWF4IDMxIGJpdCBpbnRlZ2VyLiBUaGUgbWF4IGludGVnZXIgc2l6ZSBpbiBWOCBmb3IgMzItYml0IHN5c3RlbXMuXG4vLyBNYXRoLnBvdygyLCAzMCkgLSAxXG4vLyAwYjExMTExMTExMTExMTExMTExMTExMTExMTExMTExMVxudmFyIE1BWF9TSUdORURfMzFfQklUX0lOVCA9IDEwNzM3NDE4MjM7XG5cbnZhciBOb1dvcmsgPSAwOyAvLyBUT0RPOiBUaGluayBvZiBhIGJldHRlciBuYW1lIGZvciBOZXZlci4gVGhlIGtleSBkaWZmZXJlbmNlIHdpdGggSWRsZSBpcyB0aGF0XG4vLyBOZXZlciB3b3JrIGNhbiBiZSBjb21taXR0ZWQgaW4gYW4gaW5jb25zaXN0ZW50IHN0YXRlIHdpdGhvdXQgdGVhcmluZyB0aGUgVUkuXG4vLyBUaGUgbWFpbiBleGFtcGxlIGlzIG9mZnNjcmVlbiBjb250ZW50LCBsaWtlIGEgaGlkZGVuIHN1YnRyZWUuIFNvIG9uZSBwb3NzaWJsZVxuLy8gbmFtZSBpcyBPZmZzY3JlZW4uIEhvd2V2ZXIsIGl0IGFsc28gaW5jbHVkZXMgZGVoeWRyYXRlZCBTdXNwZW5zZSBib3VuZGFyaWVzLFxuLy8gd2hpY2ggYXJlIGluY29uc2lzdGVudCBpbiB0aGUgc2Vuc2UgdGhhdCB0aGV5IGhhdmVuJ3QgZmluaXNoZWQgeWV0LCBidXRcbi8vIGFyZW4ndCB2aXNpYmx5IGluY29uc2lzdGVudCBiZWNhdXNlIHRoZSBzZXJ2ZXIgcmVuZGVyZWQgSFRNTCBtYXRjaGVzIHdoYXQgdGhlXG4vLyBoeWRyYXRlZCB0cmVlIHdvdWxkIGxvb2sgbGlrZS5cblxudmFyIE5ldmVyID0gMTsgLy8gSWRsZSBpcyBzbGlnaHRseSBoaWdoZXIgcHJpb3JpdHkgdGhhbiBOZXZlci4gSXQgbXVzdCBjb21wbGV0ZWx5IGZpbmlzaCBpblxuLy8gb3JkZXIgdG8gYmUgY29uc2lzdGVudC5cblxudmFyIElkbGUgPSAyOyAvLyBDb250aW51b3VzIEh5ZHJhdGlvbiBpcyBhIG1vdmluZyBwcmlvcml0eS4gSXQgaXMgc2xpZ2h0bHkgaGlnaGVyIHRoYW4gSWRsZVxuLy8gYW5kIGlzIHVzZWQgdG8gaW5jcmVhc2UgcHJpb3JpdHkgb2YgaG92ZXIgdGFyZ2V0cy4gSXQgaXMgaW5jcmVhc2luZyB3aXRoXG4vLyBlYWNoIHVzYWdlIHNvIHRoYXQgbGFzdCBhbHdheXMgd2lucy5cblxudmFyIENvbnRpbnVvdXNIeWRyYXRpb24gPSAzO1xudmFyIFN5bmMgPSBNQVhfU0lHTkVEXzMxX0JJVF9JTlQ7XG52YXIgQmF0Y2hlZCA9IFN5bmMgLSAxO1xudmFyIFVOSVRfU0laRSA9IDEwO1xudmFyIE1BR0lDX05VTUJFUl9PRkZTRVQgPSBCYXRjaGVkIC0gMTsgLy8gMSB1bml0IG9mIGV4cGlyYXRpb24gdGltZSByZXByZXNlbnRzIDEwbXMuXG5cbmZ1bmN0aW9uIG1zVG9FeHBpcmF0aW9uVGltZShtcykge1xuICAvLyBBbHdheXMgYWRkIGFuIG9mZnNldCBzbyB0aGF0IHdlIGRvbid0IGNsYXNoIHdpdGggdGhlIG1hZ2ljIG51bWJlciBmb3IgTm9Xb3JrLlxuICByZXR1cm4gTUFHSUNfTlVNQkVSX09GRlNFVCAtIChtcyAvIFVOSVRfU0laRSB8IDApO1xufVxuZnVuY3Rpb24gZXhwaXJhdGlvblRpbWVUb01zKGV4cGlyYXRpb25UaW1lKSB7XG4gIHJldHVybiAoTUFHSUNfTlVNQkVSX09GRlNFVCAtIGV4cGlyYXRpb25UaW1lKSAqIFVOSVRfU0laRTtcbn1cblxuZnVuY3Rpb24gY2VpbGluZyhudW0sIHByZWNpc2lvbikge1xuICByZXR1cm4gKChudW0gLyBwcmVjaXNpb24gfCAwKSArIDEpICogcHJlY2lzaW9uO1xufVxuXG5mdW5jdGlvbiBjb21wdXRlRXhwaXJhdGlvbkJ1Y2tldChjdXJyZW50VGltZSwgZXhwaXJhdGlvbkluTXMsIGJ1Y2tldFNpemVNcykge1xuICByZXR1cm4gTUFHSUNfTlVNQkVSX09GRlNFVCAtIGNlaWxpbmcoTUFHSUNfTlVNQkVSX09GRlNFVCAtIGN1cnJlbnRUaW1lICsgZXhwaXJhdGlvbkluTXMgLyBVTklUX1NJWkUsIGJ1Y2tldFNpemVNcyAvIFVOSVRfU0laRSk7XG59IC8vIFRPRE86IFRoaXMgY29ycmVzcG9uZHMgdG8gU2NoZWR1bGVyJ3MgTm9ybWFsUHJpb3JpdHksIG5vdCBMb3dQcmlvcml0eS4gVXBkYXRlXG4vLyB0aGUgbmFtZXMgdG8gcmVmbGVjdC5cblxuXG52YXIgTE9XX1BSSU9SSVRZX0VYUElSQVRJT04gPSA1MDAwO1xudmFyIExPV19QUklPUklUWV9CQVRDSF9TSVpFID0gMjUwO1xuZnVuY3Rpb24gY29tcHV0ZUFzeW5jRXhwaXJhdGlvbihjdXJyZW50VGltZSkge1xuICByZXR1cm4gY29tcHV0ZUV4cGlyYXRpb25CdWNrZXQoY3VycmVudFRpbWUsIExPV19QUklPUklUWV9FWFBJUkFUSU9OLCBMT1dfUFJJT1JJVFlfQkFUQ0hfU0laRSk7XG59XG5mdW5jdGlvbiBjb21wdXRlU3VzcGVuc2VFeHBpcmF0aW9uKGN1cnJlbnRUaW1lLCB0aW1lb3V0TXMpIHtcbiAgLy8gVE9ETzogU2hvdWxkIHdlIHdhcm4gaWYgdGltZW91dE1zIGlzIGxvd2VyIHRoYW4gdGhlIG5vcm1hbCBwcmkgZXhwaXJhdGlvbiB0aW1lP1xuICByZXR1cm4gY29tcHV0ZUV4cGlyYXRpb25CdWNrZXQoY3VycmVudFRpbWUsIHRpbWVvdXRNcywgTE9XX1BSSU9SSVRZX0JBVENIX1NJWkUpO1xufSAvLyBXZSBpbnRlbnRpb25hbGx5IHNldCBhIGhpZ2hlciBleHBpcmF0aW9uIHRpbWUgZm9yIGludGVyYWN0aXZlIHVwZGF0ZXMgaW5cbi8vIGRldiB0aGFuIGluIHByb2R1Y3Rpb24uXG4vL1xuLy8gSWYgdGhlIG1haW4gdGhyZWFkIGlzIGJlaW5nIGJsb2NrZWQgc28gbG9uZyB0aGF0IHlvdSBoaXQgdGhlIGV4cGlyYXRpb24sXG4vLyBpdCdzIGEgcHJvYmxlbSB0aGF0IGNvdWxkIGJlIHNvbHZlZCB3aXRoIGJldHRlciBzY2hlZHVsaW5nLlxuLy9cbi8vIFBlb3BsZSB3aWxsIGJlIG1vcmUgbGlrZWx5IHRvIG5vdGljZSB0aGlzIGFuZCBmaXggaXQgd2l0aCB0aGUgbG9uZ1xuLy8gZXhwaXJhdGlvbiB0aW1lIGluIGRldmVsb3BtZW50LlxuLy9cbi8vIEluIHByb2R1Y3Rpb24gd2Ugb3B0IGZvciBiZXR0ZXIgVVggYXQgdGhlIHJpc2sgb2YgbWFza2luZyBzY2hlZHVsaW5nXG4vLyBwcm9ibGVtcywgYnkgZXhwaXJpbmcgZmFzdC5cblxudmFyIEhJR0hfUFJJT1JJVFlfRVhQSVJBVElPTiA9IDUwMDtcbnZhciBISUdIX1BSSU9SSVRZX0JBVENIX1NJWkUgPSAxMDA7XG5mdW5jdGlvbiBjb21wdXRlSW50ZXJhY3RpdmVFeHBpcmF0aW9uKGN1cnJlbnRUaW1lKSB7XG4gIHJldHVybiBjb21wdXRlRXhwaXJhdGlvbkJ1Y2tldChjdXJyZW50VGltZSwgSElHSF9QUklPUklUWV9FWFBJUkFUSU9OLCBISUdIX1BSSU9SSVRZX0JBVENIX1NJWkUpO1xufVxuZnVuY3Rpb24gY29tcHV0ZUNvbnRpbnVvdXNIeWRyYXRpb25FeHBpcmF0aW9uKGN1cnJlbnRUaW1lKSB7XG4gIC8vIEVhY2ggdGltZSB3ZSBhc2sgZm9yIGEgbmV3IG9uZSBvZiB0aGVzZSB3ZSBpbmNyZWFzZSB0aGUgcHJpb3JpdHkuXG4gIC8vIFRoaXMgZW5zdXJlcyB0aGF0IHRoZSBsYXN0IG9uZSBhbHdheXMgd2lucyBzaW5jZSB3ZSBjYW4ndCBkZXByaW9yaXRpemVcbiAgLy8gb25jZSB3ZSd2ZSBzY2hlZHVsZWQgd29yayBhbHJlYWR5LlxuICByZXR1cm4gQ29udGludW91c0h5ZHJhdGlvbisrO1xufVxuZnVuY3Rpb24gaW5mZXJQcmlvcml0eUZyb21FeHBpcmF0aW9uVGltZShjdXJyZW50VGltZSwgZXhwaXJhdGlvblRpbWUpIHtcbiAgaWYgKGV4cGlyYXRpb25UaW1lID09PSBTeW5jKSB7XG4gICAgcmV0dXJuIEltbWVkaWF0ZVByaW9yaXR5O1xuICB9XG5cbiAgaWYgKGV4cGlyYXRpb25UaW1lID09PSBOZXZlciB8fCBleHBpcmF0aW9uVGltZSA9PT0gSWRsZSkge1xuICAgIHJldHVybiBJZGxlUHJpb3JpdHk7XG4gIH1cblxuICB2YXIgbXNVbnRpbCA9IGV4cGlyYXRpb25UaW1lVG9NcyhleHBpcmF0aW9uVGltZSkgLSBleHBpcmF0aW9uVGltZVRvTXMoY3VycmVudFRpbWUpO1xuXG4gIGlmIChtc1VudGlsIDw9IDApIHtcbiAgICByZXR1cm4gSW1tZWRpYXRlUHJpb3JpdHk7XG4gIH1cblxuICBpZiAobXNVbnRpbCA8PSBISUdIX1BSSU9SSVRZX0VYUElSQVRJT04gKyBISUdIX1BSSU9SSVRZX0JBVENIX1NJWkUpIHtcbiAgICByZXR1cm4gVXNlckJsb2NraW5nUHJpb3JpdHkkMjtcbiAgfVxuXG4gIGlmIChtc1VudGlsIDw9IExPV19QUklPUklUWV9FWFBJUkFUSU9OICsgTE9XX1BSSU9SSVRZX0JBVENIX1NJWkUpIHtcbiAgICByZXR1cm4gTm9ybWFsUHJpb3JpdHk7XG4gIH0gLy8gVE9ETzogSGFuZGxlIExvd1ByaW9yaXR5XG4gIC8vIEFzc3VtZSBhbnl0aGluZyBsb3dlciBoYXMgaWRsZSBwcmlvcml0eVxuXG5cbiAgcmV0dXJuIElkbGVQcmlvcml0eTtcbn1cblxuLyoqXG4gKiBGb3JrZWQgZnJvbSBmYmpzL3dhcm5pbmc6XG4gKiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svZmJqcy9ibG9iL2U2NmJhMjBhZDViZTQzM2ViNTQ0MjNmMmIwOTdkODI5MzI0ZDlkZTYvcGFja2FnZXMvZmJqcy9zcmMvX19mb3Jrc19fL3dhcm5pbmcuanNcbiAqXG4gKiBPbmx5IGNoYW5nZSBpcyB3ZSB1c2UgY29uc29sZS53YXJuIGluc3RlYWQgb2YgY29uc29sZS5lcnJvcixcbiAqIGFuZCBkbyBub3RoaW5nIHdoZW4gJ2NvbnNvbGUnIGlzIG5vdCBzdXBwb3J0ZWQuXG4gKiBUaGlzIHJlYWxseSBzaW1wbGlmaWVzIHRoZSBjb2RlLlxuICogLS0tXG4gKiBTaW1pbGFyIHRvIGludmFyaWFudCBidXQgb25seSBsb2dzIGEgd2FybmluZyBpZiB0aGUgY29uZGl0aW9uIGlzIG5vdCBtZXQuXG4gKiBUaGlzIGNhbiBiZSB1c2VkIHRvIGxvZyBpc3N1ZXMgaW4gZGV2ZWxvcG1lbnQgZW52aXJvbm1lbnRzIGluIGNyaXRpY2FsXG4gKiBwYXRocy4gUmVtb3ZpbmcgdGhlIGxvZ2dpbmcgY29kZSBmb3IgcHJvZHVjdGlvbiBlbnZpcm9ubWVudHMgd2lsbCBrZWVwIHRoZVxuICogc2FtZSBsb2dpYyBhbmQgZm9sbG93IHRoZSBzYW1lIGNvZGUgcGF0aHMuXG4gKi9cbnZhciBsb3dQcmlvcml0eVdhcm5pbmdXaXRob3V0U3RhY2sgPSBmdW5jdGlvbiAoKSB7fTtcblxue1xuICB2YXIgcHJpbnRXYXJuaW5nID0gZnVuY3Rpb24gKGZvcm1hdCkge1xuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHZhciBhcmdJbmRleCA9IDA7XG4gICAgdmFyIG1lc3NhZ2UgPSAnV2FybmluZzogJyArIGZvcm1hdC5yZXBsYWNlKC8lcy9nLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gYXJnc1thcmdJbmRleCsrXTtcbiAgICB9KTtcblxuICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbnNvbGUud2FybihtZXNzYWdlKTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgLy8gLS0tIFdlbGNvbWUgdG8gZGVidWdnaW5nIFJlYWN0IC0tLVxuICAgICAgLy8gVGhpcyBlcnJvciB3YXMgdGhyb3duIGFzIGEgY29udmVuaWVuY2Ugc28gdGhhdCB5b3UgY2FuIHVzZSB0aGlzIHN0YWNrXG4gICAgICAvLyB0byBmaW5kIHRoZSBjYWxsc2l0ZSB0aGF0IGNhdXNlZCB0aGlzIHdhcm5pbmcgdG8gZmlyZS5cbiAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICB9IGNhdGNoICh4KSB7fVxuICB9O1xuXG4gIGxvd1ByaW9yaXR5V2FybmluZ1dpdGhvdXRTdGFjayA9IGZ1bmN0aW9uIChjb25kaXRpb24sIGZvcm1hdCkge1xuICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdgbG93UHJpb3JpdHlXYXJuaW5nV2l0aG91dFN0YWNrKGNvbmRpdGlvbiwgZm9ybWF0LCAuLi5hcmdzKWAgcmVxdWlyZXMgYSB3YXJuaW5nICcgKyAnbWVzc2FnZSBhcmd1bWVudCcpO1xuICAgIH1cblxuICAgIGlmICghY29uZGl0aW9uKSB7XG4gICAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjIgPiAyID8gX2xlbjIgLSAyIDogMCksIF9rZXkyID0gMjsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgICBhcmdzW19rZXkyIC0gMl0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgICAgfVxuXG4gICAgICBwcmludFdhcm5pbmcuYXBwbHkodm9pZCAwLCBbZm9ybWF0XS5jb25jYXQoYXJncykpO1xuICAgIH1cbiAgfTtcbn1cblxudmFyIGxvd1ByaW9yaXR5V2FybmluZ1dpdGhvdXRTdGFjayQxID0gbG93UHJpb3JpdHlXYXJuaW5nV2l0aG91dFN0YWNrO1xuXG52YXIgUmVhY3RTdHJpY3RNb2RlV2FybmluZ3MgPSB7XG4gIHJlY29yZFVuc2FmZUxpZmVjeWNsZVdhcm5pbmdzOiBmdW5jdGlvbiAoZmliZXIsIGluc3RhbmNlKSB7fSxcbiAgZmx1c2hQZW5kaW5nVW5zYWZlTGlmZWN5Y2xlV2FybmluZ3M6IGZ1bmN0aW9uICgpIHt9LFxuICByZWNvcmRMZWdhY3lDb250ZXh0V2FybmluZzogZnVuY3Rpb24gKGZpYmVyLCBpbnN0YW5jZSkge30sXG4gIGZsdXNoTGVnYWN5Q29udGV4dFdhcm5pbmc6IGZ1bmN0aW9uICgpIHt9LFxuICBkaXNjYXJkUGVuZGluZ1dhcm5pbmdzOiBmdW5jdGlvbiAoKSB7fVxufTtcblxue1xuICB2YXIgZmluZFN0cmljdFJvb3QgPSBmdW5jdGlvbiAoZmliZXIpIHtcbiAgICB2YXIgbWF5YmVTdHJpY3RSb290ID0gbnVsbDtcbiAgICB2YXIgbm9kZSA9IGZpYmVyO1xuXG4gICAgd2hpbGUgKG5vZGUgIT09IG51bGwpIHtcbiAgICAgIGlmIChub2RlLm1vZGUgJiBTdHJpY3RNb2RlKSB7XG4gICAgICAgIG1heWJlU3RyaWN0Um9vdCA9IG5vZGU7XG4gICAgICB9XG5cbiAgICAgIG5vZGUgPSBub2RlLnJldHVybjtcbiAgICB9XG5cbiAgICByZXR1cm4gbWF5YmVTdHJpY3RSb290O1xuICB9O1xuXG4gIHZhciBzZXRUb1NvcnRlZFN0cmluZyA9IGZ1bmN0aW9uIChzZXQpIHtcbiAgICB2YXIgYXJyYXkgPSBbXTtcbiAgICBzZXQuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIGFycmF5LnB1c2godmFsdWUpO1xuICAgIH0pO1xuICAgIHJldHVybiBhcnJheS5zb3J0KCkuam9pbignLCAnKTtcbiAgfTtcblxuICB2YXIgcGVuZGluZ0NvbXBvbmVudFdpbGxNb3VudFdhcm5pbmdzID0gW107XG4gIHZhciBwZW5kaW5nVU5TQUZFX0NvbXBvbmVudFdpbGxNb3VudFdhcm5pbmdzID0gW107XG4gIHZhciBwZW5kaW5nQ29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1dhcm5pbmdzID0gW107XG4gIHZhciBwZW5kaW5nVU5TQUZFX0NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNXYXJuaW5ncyA9IFtdO1xuICB2YXIgcGVuZGluZ0NvbXBvbmVudFdpbGxVcGRhdGVXYXJuaW5ncyA9IFtdO1xuICB2YXIgcGVuZGluZ1VOU0FGRV9Db21wb25lbnRXaWxsVXBkYXRlV2FybmluZ3MgPSBbXTsgLy8gVHJhY2tzIGNvbXBvbmVudHMgd2UgaGF2ZSBhbHJlYWR5IHdhcm5lZCBhYm91dC5cblxuICB2YXIgZGlkV2FybkFib3V0VW5zYWZlTGlmZWN5Y2xlcyA9IG5ldyBTZXQoKTtcblxuICBSZWFjdFN0cmljdE1vZGVXYXJuaW5ncy5yZWNvcmRVbnNhZmVMaWZlY3ljbGVXYXJuaW5ncyA9IGZ1bmN0aW9uIChmaWJlciwgaW5zdGFuY2UpIHtcbiAgICAvLyBEZWR1cCBzdHJhdGVneTogV2FybiBvbmNlIHBlciBjb21wb25lbnQuXG4gICAgaWYgKGRpZFdhcm5BYm91dFVuc2FmZUxpZmVjeWNsZXMuaGFzKGZpYmVyLnR5cGUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnRXaWxsTW91bnQgPT09ICdmdW5jdGlvbicgJiYgLy8gRG9uJ3Qgd2FybiBhYm91dCByZWFjdC1saWZlY3ljbGVzLWNvbXBhdCBwb2x5ZmlsbGVkIGNvbXBvbmVudHMuXG4gICAgaW5zdGFuY2UuY29tcG9uZW50V2lsbE1vdW50Ll9fc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmcgIT09IHRydWUpIHtcbiAgICAgIHBlbmRpbmdDb21wb25lbnRXaWxsTW91bnRXYXJuaW5ncy5wdXNoKGZpYmVyKTtcbiAgICB9XG5cbiAgICBpZiAoZmliZXIubW9kZSAmIFN0cmljdE1vZGUgJiYgdHlwZW9mIGluc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHBlbmRpbmdVTlNBRkVfQ29tcG9uZW50V2lsbE1vdW50V2FybmluZ3MucHVzaChmaWJlcik7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID09PSAnZnVuY3Rpb24nICYmIGluc3RhbmNlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMuX19zdXBwcmVzc0RlcHJlY2F0aW9uV2FybmluZyAhPT0gdHJ1ZSkge1xuICAgICAgcGVuZGluZ0NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNXYXJuaW5ncy5wdXNoKGZpYmVyKTtcbiAgICB9XG5cbiAgICBpZiAoZmliZXIubW9kZSAmIFN0cmljdE1vZGUgJiYgdHlwZW9mIGluc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBwZW5kaW5nVU5TQUZFX0NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNXYXJuaW5ncy5wdXNoKGZpYmVyKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudFdpbGxVcGRhdGUgPT09ICdmdW5jdGlvbicgJiYgaW5zdGFuY2UuY29tcG9uZW50V2lsbFVwZGF0ZS5fX3N1cHByZXNzRGVwcmVjYXRpb25XYXJuaW5nICE9PSB0cnVlKSB7XG4gICAgICBwZW5kaW5nQ29tcG9uZW50V2lsbFVwZGF0ZVdhcm5pbmdzLnB1c2goZmliZXIpO1xuICAgIH1cblxuICAgIGlmIChmaWJlci5tb2RlICYgU3RyaWN0TW9kZSAmJiB0eXBlb2YgaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHBlbmRpbmdVTlNBRkVfQ29tcG9uZW50V2lsbFVwZGF0ZVdhcm5pbmdzLnB1c2goZmliZXIpO1xuICAgIH1cbiAgfTtcblxuICBSZWFjdFN0cmljdE1vZGVXYXJuaW5ncy5mbHVzaFBlbmRpbmdVbnNhZmVMaWZlY3ljbGVXYXJuaW5ncyA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBXZSBkbyBhbiBpbml0aWFsIHBhc3MgdG8gZ2F0aGVyIGNvbXBvbmVudCBuYW1lc1xuICAgIHZhciBjb21wb25lbnRXaWxsTW91bnRVbmlxdWVOYW1lcyA9IG5ldyBTZXQoKTtcblxuICAgIGlmIChwZW5kaW5nQ29tcG9uZW50V2lsbE1vdW50V2FybmluZ3MubGVuZ3RoID4gMCkge1xuICAgICAgcGVuZGluZ0NvbXBvbmVudFdpbGxNb3VudFdhcm5pbmdzLmZvckVhY2goZnVuY3Rpb24gKGZpYmVyKSB7XG4gICAgICAgIGNvbXBvbmVudFdpbGxNb3VudFVuaXF1ZU5hbWVzLmFkZChnZXRDb21wb25lbnROYW1lKGZpYmVyLnR5cGUpIHx8ICdDb21wb25lbnQnKTtcbiAgICAgICAgZGlkV2FybkFib3V0VW5zYWZlTGlmZWN5Y2xlcy5hZGQoZmliZXIudHlwZSk7XG4gICAgICB9KTtcbiAgICAgIHBlbmRpbmdDb21wb25lbnRXaWxsTW91bnRXYXJuaW5ncyA9IFtdO1xuICAgIH1cblxuICAgIHZhciBVTlNBRkVfY29tcG9uZW50V2lsbE1vdW50VW5pcXVlTmFtZXMgPSBuZXcgU2V0KCk7XG5cbiAgICBpZiAocGVuZGluZ1VOU0FGRV9Db21wb25lbnRXaWxsTW91bnRXYXJuaW5ncy5sZW5ndGggPiAwKSB7XG4gICAgICBwZW5kaW5nVU5TQUZFX0NvbXBvbmVudFdpbGxNb3VudFdhcm5pbmdzLmZvckVhY2goZnVuY3Rpb24gKGZpYmVyKSB7XG4gICAgICAgIFVOU0FGRV9jb21wb25lbnRXaWxsTW91bnRVbmlxdWVOYW1lcy5hZGQoZ2V0Q29tcG9uZW50TmFtZShmaWJlci50eXBlKSB8fCAnQ29tcG9uZW50Jyk7XG4gICAgICAgIGRpZFdhcm5BYm91dFVuc2FmZUxpZmVjeWNsZXMuYWRkKGZpYmVyLnR5cGUpO1xuICAgICAgfSk7XG4gICAgICBwZW5kaW5nVU5TQUZFX0NvbXBvbmVudFdpbGxNb3VudFdhcm5pbmdzID0gW107XG4gICAgfVxuXG4gICAgdmFyIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNVbmlxdWVOYW1lcyA9IG5ldyBTZXQoKTtcblxuICAgIGlmIChwZW5kaW5nQ29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1dhcm5pbmdzLmxlbmd0aCA+IDApIHtcbiAgICAgIHBlbmRpbmdDb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzV2FybmluZ3MuZm9yRWFjaChmdW5jdGlvbiAoZmliZXIpIHtcbiAgICAgICAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1VuaXF1ZU5hbWVzLmFkZChnZXRDb21wb25lbnROYW1lKGZpYmVyLnR5cGUpIHx8ICdDb21wb25lbnQnKTtcbiAgICAgICAgZGlkV2FybkFib3V0VW5zYWZlTGlmZWN5Y2xlcy5hZGQoZmliZXIudHlwZSk7XG4gICAgICB9KTtcbiAgICAgIHBlbmRpbmdDb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzV2FybmluZ3MgPSBbXTtcbiAgICB9XG5cbiAgICB2YXIgVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNVbmlxdWVOYW1lcyA9IG5ldyBTZXQoKTtcblxuICAgIGlmIChwZW5kaW5nVU5TQUZFX0NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNXYXJuaW5ncy5sZW5ndGggPiAwKSB7XG4gICAgICBwZW5kaW5nVU5TQUZFX0NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNXYXJuaW5ncy5mb3JFYWNoKGZ1bmN0aW9uIChmaWJlcikge1xuICAgICAgICBVTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1VuaXF1ZU5hbWVzLmFkZChnZXRDb21wb25lbnROYW1lKGZpYmVyLnR5cGUpIHx8ICdDb21wb25lbnQnKTtcbiAgICAgICAgZGlkV2FybkFib3V0VW5zYWZlTGlmZWN5Y2xlcy5hZGQoZmliZXIudHlwZSk7XG4gICAgICB9KTtcbiAgICAgIHBlbmRpbmdVTlNBRkVfQ29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1dhcm5pbmdzID0gW107XG4gICAgfVxuXG4gICAgdmFyIGNvbXBvbmVudFdpbGxVcGRhdGVVbmlxdWVOYW1lcyA9IG5ldyBTZXQoKTtcblxuICAgIGlmIChwZW5kaW5nQ29tcG9uZW50V2lsbFVwZGF0ZVdhcm5pbmdzLmxlbmd0aCA+IDApIHtcbiAgICAgIHBlbmRpbmdDb21wb25lbnRXaWxsVXBkYXRlV2FybmluZ3MuZm9yRWFjaChmdW5jdGlvbiAoZmliZXIpIHtcbiAgICAgICAgY29tcG9uZW50V2lsbFVwZGF0ZVVuaXF1ZU5hbWVzLmFkZChnZXRDb21wb25lbnROYW1lKGZpYmVyLnR5cGUpIHx8ICdDb21wb25lbnQnKTtcbiAgICAgICAgZGlkV2FybkFib3V0VW5zYWZlTGlmZWN5Y2xlcy5hZGQoZmliZXIudHlwZSk7XG4gICAgICB9KTtcbiAgICAgIHBlbmRpbmdDb21wb25lbnRXaWxsVXBkYXRlV2FybmluZ3MgPSBbXTtcbiAgICB9XG5cbiAgICB2YXIgVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGVVbmlxdWVOYW1lcyA9IG5ldyBTZXQoKTtcblxuICAgIGlmIChwZW5kaW5nVU5TQUZFX0NvbXBvbmVudFdpbGxVcGRhdGVXYXJuaW5ncy5sZW5ndGggPiAwKSB7XG4gICAgICBwZW5kaW5nVU5TQUZFX0NvbXBvbmVudFdpbGxVcGRhdGVXYXJuaW5ncy5mb3JFYWNoKGZ1bmN0aW9uIChmaWJlcikge1xuICAgICAgICBVTlNBRkVfY29tcG9uZW50V2lsbFVwZGF0ZVVuaXF1ZU5hbWVzLmFkZChnZXRDb21wb25lbnROYW1lKGZpYmVyLnR5cGUpIHx8ICdDb21wb25lbnQnKTtcbiAgICAgICAgZGlkV2FybkFib3V0VW5zYWZlTGlmZWN5Y2xlcy5hZGQoZmliZXIudHlwZSk7XG4gICAgICB9KTtcbiAgICAgIHBlbmRpbmdVTlNBRkVfQ29tcG9uZW50V2lsbFVwZGF0ZVdhcm5pbmdzID0gW107XG4gICAgfSAvLyBGaW5hbGx5LCB3ZSBmbHVzaCBhbGwgdGhlIHdhcm5pbmdzXG4gICAgLy8gVU5TQUZFXyBvbmVzIGJlZm9yZSB0aGUgZGVwcmVjYXRlZCBvbmVzLCBzaW5jZSB0aGV5J2xsIGJlICdsb3VkZXInXG5cblxuICAgIGlmIChVTlNBRkVfY29tcG9uZW50V2lsbE1vdW50VW5pcXVlTmFtZXMuc2l6ZSA+IDApIHtcbiAgICAgIHZhciBzb3J0ZWROYW1lcyA9IHNldFRvU29ydGVkU3RyaW5nKFVOU0FGRV9jb21wb25lbnRXaWxsTW91bnRVbmlxdWVOYW1lcyk7XG4gICAgICB3YXJuaW5nV2l0aG91dFN0YWNrJDEoZmFsc2UsICdVc2luZyBVTlNBRkVfY29tcG9uZW50V2lsbE1vdW50IGluIHN0cmljdCBtb2RlIGlzIG5vdCByZWNvbW1lbmRlZCBhbmQgbWF5IGluZGljYXRlIGJ1Z3MgaW4geW91ciBjb2RlLiAnICsgJ1NlZSBodHRwczovL2ZiLm1lL3JlYWN0LXVuc2FmZS1jb21wb25lbnQtbGlmZWN5Y2xlcyBmb3IgZGV0YWlscy5cXG5cXG4nICsgJyogTW92ZSBjb2RlIHdpdGggc2lkZSBlZmZlY3RzIHRvIGNvbXBvbmVudERpZE1vdW50LCBhbmQgc2V0IGluaXRpYWwgc3RhdGUgaW4gdGhlIGNvbnN0cnVjdG9yLlxcbicgKyAnXFxuUGxlYXNlIHVwZGF0ZSB0aGUgZm9sbG93aW5nIGNvbXBvbmVudHM6ICVzJywgc29ydGVkTmFtZXMpO1xuICAgIH1cblxuICAgIGlmIChVTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1VuaXF1ZU5hbWVzLnNpemUgPiAwKSB7XG4gICAgICB2YXIgX3NvcnRlZE5hbWVzID0gc2V0VG9Tb3J0ZWRTdHJpbmcoVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNVbmlxdWVOYW1lcyk7XG5cbiAgICAgIHdhcm5pbmdXaXRob3V0U3RhY2skMShmYWxzZSwgJ1VzaW5nIFVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIGluIHN0cmljdCBtb2RlIGlzIG5vdCByZWNvbW1lbmRlZCAnICsgJ2FuZCBtYXkgaW5kaWNhdGUgYnVncyBpbiB5b3VyIGNvZGUuICcgKyAnU2VlIGh0dHBzOi8vZmIubWUvcmVhY3QtdW5zYWZlLWNvbXBvbmVudC1saWZlY3ljbGVzIGZvciBkZXRhaWxzLlxcblxcbicgKyAnKiBNb3ZlIGRhdGEgZmV0Y2hpbmcgY29kZSBvciBzaWRlIGVmZmVjdHMgdG8gY29tcG9uZW50RGlkVXBkYXRlLlxcbicgKyBcIiogSWYgeW91J3JlIHVwZGF0aW5nIHN0YXRlIHdoZW5ldmVyIHByb3BzIGNoYW5nZSwgXCIgKyAncmVmYWN0b3IgeW91ciBjb2RlIHRvIHVzZSBtZW1vaXphdGlvbiB0ZWNobmlxdWVzIG9yIG1vdmUgaXQgdG8gJyArICdzdGF0aWMgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzLiBMZWFybiBtb3JlIGF0OiBodHRwczovL2ZiLm1lL3JlYWN0LWRlcml2ZWQtc3RhdGVcXG4nICsgJ1xcblBsZWFzZSB1cGRhdGUgdGhlIGZvbGxvd2luZyBjb21wb25lbnRzOiAlcycsIF9zb3J0ZWROYW1lcyk7XG4gICAgfVxuXG4gICAgaWYgKFVOU0FGRV9jb21wb25lbnRXaWxsVXBkYXRlVW5pcXVlTmFtZXMuc2l6ZSA+IDApIHtcbiAgICAgIHZhciBfc29ydGVkTmFtZXMyID0gc2V0VG9Tb3J0ZWRTdHJpbmcoVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGVVbmlxdWVOYW1lcyk7XG5cbiAgICAgIHdhcm5pbmdXaXRob3V0U3RhY2skMShmYWxzZSwgJ1VzaW5nIFVOU0FGRV9jb21wb25lbnRXaWxsVXBkYXRlIGluIHN0cmljdCBtb2RlIGlzIG5vdCByZWNvbW1lbmRlZCAnICsgJ2FuZCBtYXkgaW5kaWNhdGUgYnVncyBpbiB5b3VyIGNvZGUuICcgKyAnU2VlIGh0dHBzOi8vZmIubWUvcmVhY3QtdW5zYWZlLWNvbXBvbmVudC1saWZlY3ljbGVzIGZvciBkZXRhaWxzLlxcblxcbicgKyAnKiBNb3ZlIGRhdGEgZmV0Y2hpbmcgY29kZSBvciBzaWRlIGVmZmVjdHMgdG8gY29tcG9uZW50RGlkVXBkYXRlLlxcbicgKyAnXFxuUGxlYXNlIHVwZGF0ZSB0aGUgZm9sbG93aW5nIGNvbXBvbmVudHM6ICVzJywgX3NvcnRlZE5hbWVzMik7XG4gICAgfVxuXG4gICAgaWYgKGNvbXBvbmVudFdpbGxNb3VudFVuaXF1ZU5hbWVzLnNpemUgPiAwKSB7XG4gICAgICB2YXIgX3NvcnRlZE5hbWVzMyA9IHNldFRvU29ydGVkU3RyaW5nKGNvbXBvbmVudFdpbGxNb3VudFVuaXF1ZU5hbWVzKTtcblxuICAgICAgbG93UHJpb3JpdHlXYXJuaW5nV2l0aG91dFN0YWNrJDEoZmFsc2UsICdjb21wb25lbnRXaWxsTW91bnQgaGFzIGJlZW4gcmVuYW1lZCwgYW5kIGlzIG5vdCByZWNvbW1lbmRlZCBmb3IgdXNlLiAnICsgJ1NlZSBodHRwczovL2ZiLm1lL3JlYWN0LXVuc2FmZS1jb21wb25lbnQtbGlmZWN5Y2xlcyBmb3IgZGV0YWlscy5cXG5cXG4nICsgJyogTW92ZSBjb2RlIHdpdGggc2lkZSBlZmZlY3RzIHRvIGNvbXBvbmVudERpZE1vdW50LCBhbmQgc2V0IGluaXRpYWwgc3RhdGUgaW4gdGhlIGNvbnN0cnVjdG9yLlxcbicgKyAnKiBSZW5hbWUgY29tcG9uZW50V2lsbE1vdW50IHRvIFVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQgdG8gc3VwcHJlc3MgJyArICd0aGlzIHdhcm5pbmcgaW4gbm9uLXN0cmljdCBtb2RlLiBJbiBSZWFjdCAxNy54LCBvbmx5IHRoZSBVTlNBRkVfIG5hbWUgd2lsbCB3b3JrLiAnICsgJ1RvIHJlbmFtZSBhbGwgZGVwcmVjYXRlZCBsaWZlY3ljbGVzIHRvIHRoZWlyIG5ldyBuYW1lcywgeW91IGNhbiBydW4gJyArICdgbnB4IHJlYWN0LWNvZGVtb2QgcmVuYW1lLXVuc2FmZS1saWZlY3ljbGVzYCBpbiB5b3VyIHByb2plY3Qgc291cmNlIGZvbGRlci5cXG4nICsgJ1xcblBsZWFzZSB1cGRhdGUgdGhlIGZvbGxvd2luZyBjb21wb25lbnRzOiAlcycsIF9zb3J0ZWROYW1lczMpO1xuICAgIH1cblxuICAgIGlmIChjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzVW5pcXVlTmFtZXMuc2l6ZSA+IDApIHtcbiAgICAgIHZhciBfc29ydGVkTmFtZXM0ID0gc2V0VG9Tb3J0ZWRTdHJpbmcoY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1VuaXF1ZU5hbWVzKTtcblxuICAgICAgbG93UHJpb3JpdHlXYXJuaW5nV2l0aG91dFN0YWNrJDEoZmFsc2UsICdjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIGhhcyBiZWVuIHJlbmFtZWQsIGFuZCBpcyBub3QgcmVjb21tZW5kZWQgZm9yIHVzZS4gJyArICdTZWUgaHR0cHM6Ly9mYi5tZS9yZWFjdC11bnNhZmUtY29tcG9uZW50LWxpZmVjeWNsZXMgZm9yIGRldGFpbHMuXFxuXFxuJyArICcqIE1vdmUgZGF0YSBmZXRjaGluZyBjb2RlIG9yIHNpZGUgZWZmZWN0cyB0byBjb21wb25lbnREaWRVcGRhdGUuXFxuJyArIFwiKiBJZiB5b3UncmUgdXBkYXRpbmcgc3RhdGUgd2hlbmV2ZXIgcHJvcHMgY2hhbmdlLCByZWZhY3RvciB5b3VyIFwiICsgJ2NvZGUgdG8gdXNlIG1lbW9pemF0aW9uIHRlY2huaXF1ZXMgb3IgbW92ZSBpdCB0byAnICsgJ3N0YXRpYyBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMuIExlYXJuIG1vcmUgYXQ6IGh0dHBzOi8vZmIubWUvcmVhY3QtZGVyaXZlZC1zdGF0ZVxcbicgKyAnKiBSZW5hbWUgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyB0byBVTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyB0byBzdXBwcmVzcyAnICsgJ3RoaXMgd2FybmluZyBpbiBub24tc3RyaWN0IG1vZGUuIEluIFJlYWN0IDE3LngsIG9ubHkgdGhlIFVOU0FGRV8gbmFtZSB3aWxsIHdvcmsuICcgKyAnVG8gcmVuYW1lIGFsbCBkZXByZWNhdGVkIGxpZmVjeWNsZXMgdG8gdGhlaXIgbmV3IG5hbWVzLCB5b3UgY2FuIHJ1biAnICsgJ2BucHggcmVhY3QtY29kZW1vZCByZW5hbWUtdW5zYWZlLWxpZmVjeWNsZXNgIGluIHlvdXIgcHJvamVjdCBzb3VyY2UgZm9sZGVyLlxcbicgKyAnXFxuUGxlYXNlIHVwZGF0ZSB0aGUgZm9sbG93aW5nIGNvbXBvbmVudHM6ICVzJywgX3NvcnRlZE5hbWVzNCk7XG4gICAgfVxuXG4gICAgaWYgKGNvbXBvbmVudFdpbGxVcGRhdGVVbmlxdWVOYW1lcy5zaXplID4gMCkge1xuICAgICAgdmFyIF9zb3J0ZWROYW1lczUgPSBzZXRUb1NvcnRlZFN0cmluZyhjb21wb25lbnRXaWxsVXBkYXRlVW5pcXVlTmFtZXMpO1xuXG4gICAgICBsb3dQcmlvcml0eVdhcm5pbmdXaXRob3V0U3RhY2skMShmYWxzZSwgJ2NvbXBvbmVudFdpbGxVcGRhdGUgaGFzIGJlZW4gcmVuYW1lZCwgYW5kIGlzIG5vdCByZWNvbW1lbmRlZCBmb3IgdXNlLiAnICsgJ1NlZSBodHRwczovL2ZiLm1lL3JlYWN0LXVuc2FmZS1jb21wb25lbnQtbGlmZWN5Y2xlcyBmb3IgZGV0YWlscy5cXG5cXG4nICsgJyogTW92ZSBkYXRhIGZldGNoaW5nIGNvZGUgb3Igc2lkZSBlZmZlY3RzIHRvIGNvbXBvbmVudERpZFVwZGF0ZS5cXG4nICsgJyogUmVuYW1lIGNvbXBvbmVudFdpbGxVcGRhdGUgdG8gVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGUgdG8gc3VwcHJlc3MgJyArICd0aGlzIHdhcm5pbmcgaW4gbm9uLXN0cmljdCBtb2RlLiBJbiBSZWFjdCAxNy54LCBvbmx5IHRoZSBVTlNBRkVfIG5hbWUgd2lsbCB3b3JrLiAnICsgJ1RvIHJlbmFtZSBhbGwgZGVwcmVjYXRlZCBsaWZlY3ljbGVzIHRvIHRoZWlyIG5ldyBuYW1lcywgeW91IGNhbiBydW4gJyArICdgbnB4IHJlYWN0LWNvZGVtb2QgcmVuYW1lLXVuc2FmZS1saWZlY3ljbGVzYCBpbiB5b3VyIHByb2plY3Qgc291cmNlIGZvbGRlci5cXG4nICsgJ1xcblBsZWFzZSB1cGRhdGUgdGhlIGZvbGxvd2luZyBjb21wb25lbnRzOiAlcycsIF9zb3J0ZWROYW1lczUpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgcGVuZGluZ0xlZ2FjeUNvbnRleHRXYXJuaW5nID0gbmV3IE1hcCgpOyAvLyBUcmFja3MgY29tcG9uZW50cyB3ZSBoYXZlIGFscmVhZHkgd2FybmVkIGFib3V0LlxuXG4gIHZhciBkaWRXYXJuQWJvdXRMZWdhY3lDb250ZXh0ID0gbmV3IFNldCgpO1xuXG4gIFJlYWN0U3RyaWN0TW9kZVdhcm5pbmdzLnJlY29yZExlZ2FjeUNvbnRleHRXYXJuaW5nID0gZnVuY3Rpb24gKGZpYmVyLCBpbnN0YW5jZSkge1xuICAgIHZhciBzdHJpY3RSb290ID0gZmluZFN0cmljdFJvb3QoZmliZXIpO1xuXG4gICAgaWYgKHN0cmljdFJvb3QgPT09IG51bGwpIHtcbiAgICAgIHdhcm5pbmdXaXRob3V0U3RhY2skMShmYWxzZSwgJ0V4cGVjdGVkIHRvIGZpbmQgYSBTdHJpY3RNb2RlIGNvbXBvbmVudCBpbiBhIHN0cmljdCBtb2RlIHRyZWUuICcgKyAnVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vIERlZHVwIHN0cmF0ZWd5OiBXYXJuIG9uY2UgcGVyIGNvbXBvbmVudC5cblxuXG4gICAgaWYgKGRpZFdhcm5BYm91dExlZ2FjeUNvbnRleHQuaGFzKGZpYmVyLnR5cGUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHdhcm5pbmdzRm9yUm9vdCA9IHBlbmRpbmdMZWdhY3lDb250ZXh0V2FybmluZy5nZXQoc3RyaWN0Um9vdCk7XG5cbiAgICBpZiAoZmliZXIudHlwZS5jb250ZXh0VHlwZXMgIT0gbnVsbCB8fCBmaWJlci50eXBlLmNoaWxkQ29udGV4dFR5cGVzICE9IG51bGwgfHwgaW5zdGFuY2UgIT09IG51bGwgJiYgdHlwZW9mIGluc3RhbmNlLmdldENoaWxkQ29udGV4dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgaWYgKHdhcm5pbmdzRm9yUm9vdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHdhcm5pbmdzRm9yUm9vdCA9IFtdO1xuICAgICAgICBwZW5kaW5nTGVnYWN5Q29udGV4dFdhcm5pbmcuc2V0KHN0cmljdFJvb3QsIHdhcm5pbmdzRm9yUm9vdCk7XG4gICAgICB9XG5cbiAgICAgIHdhcm5pbmdzRm9yUm9vdC5wdXNoKGZpYmVyKTtcbiAgICB9XG4gIH07XG5cbiAgUmVhY3RTdHJpY3RNb2RlV2FybmluZ3MuZmx1c2hMZWdhY3lDb250ZXh0V2FybmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICBwZW5kaW5nTGVnYWN5Q29udGV4dFdhcm5pbmcuZm9yRWFjaChmdW5jdGlvbiAoZmliZXJBcnJheSwgc3RyaWN0Um9vdCkge1xuICAgICAgdmFyIHVuaXF1ZU5hbWVzID0gbmV3IFNldCgpO1xuICAgICAgZmliZXJBcnJheS5mb3JFYWNoKGZ1bmN0aW9uIChmaWJlcikge1xuICAgICAgICB1bmlxdWVOYW1lcy5hZGQoZ2V0Q29tcG9uZW50TmFtZShmaWJlci50eXBlKSB8fCAnQ29tcG9uZW50Jyk7XG4gICAgICAgIGRpZFdhcm5BYm91dExlZ2FjeUNvbnRleHQuYWRkKGZpYmVyLnR5cGUpO1xuICAgICAgfSk7XG4gICAgICB2YXIgc29ydGVkTmFtZXMgPSBzZXRUb1NvcnRlZFN0cmluZyh1bmlxdWVOYW1lcyk7XG4gICAgICB2YXIgc3RyaWN0Um9vdENvbXBvbmVudFN0YWNrID0gZ2V0U3RhY2tCeUZpYmVySW5EZXZBbmRQcm9kKHN0cmljdFJvb3QpO1xuICAgICAgd2FybmluZ1dpdGhvdXRTdGFjayQxKGZhbHNlLCAnTGVnYWN5IGNvbnRleHQgQVBJIGhhcyBiZWVuIGRldGVjdGVkIHdpdGhpbiBhIHN0cmljdC1tb2RlIHRyZWUuJyArICdcXG5cXG5UaGUgb2xkIEFQSSB3aWxsIGJlIHN1cHBvcnRlZCBpbiBhbGwgMTYueCByZWxlYXNlcywgYnV0IGFwcGxpY2F0aW9ucyAnICsgJ3VzaW5nIGl0IHNob3VsZCBtaWdyYXRlIHRvIHRoZSBuZXcgdmVyc2lvbi4nICsgJ1xcblxcblBsZWFzZSB1cGRhdGUgdGhlIGZvbGxvd2luZyBjb21wb25lbnRzOiAlcycgKyAnXFxuXFxuTGVhcm4gbW9yZSBhYm91dCB0aGlzIHdhcm5pbmcgaGVyZTogaHR0cHM6Ly9mYi5tZS9yZWFjdC1sZWdhY3ktY29udGV4dCcgKyAnJXMnLCBzb3J0ZWROYW1lcywgc3RyaWN0Um9vdENvbXBvbmVudFN0YWNrKTtcbiAgICB9KTtcbiAgfTtcblxuICBSZWFjdFN0cmljdE1vZGVXYXJuaW5ncy5kaXNjYXJkUGVuZGluZ1dhcm5pbmdzID0gZnVuY3Rpb24gKCkge1xuICAgIHBlbmRpbmdDb21wb25lbnRXaWxsTW91bnRXYXJuaW5ncyA9IFtdO1xuICAgIHBlbmRpbmdVTlNBRkVfQ29tcG9uZW50V2lsbE1vdW50V2FybmluZ3MgPSBbXTtcbiAgICBwZW5kaW5nQ29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1dhcm5pbmdzID0gW107XG4gICAgcGVuZGluZ1VOU0FGRV9Db21wb25lbnRXaWxsUmVjZWl2ZVByb3BzV2FybmluZ3MgPSBbXTtcbiAgICBwZW5kaW5nQ29tcG9uZW50V2lsbFVwZGF0ZVdhcm5pbmdzID0gW107XG4gICAgcGVuZGluZ1VOU0FGRV9Db21wb25lbnRXaWxsVXBkYXRlV2FybmluZ3MgPSBbXTtcbiAgICBwZW5kaW5nTGVnYWN5Q29udGV4dFdhcm5pbmcgPSBuZXcgTWFwKCk7XG4gIH07XG59XG5cbnZhciByZXNvbHZlRmFtaWx5ID0gbnVsbDsgLy8gJEZsb3dGaXhNZSBGbG93IGdldHMgY29uZnVzZWQgYnkgYSBXZWFrU2V0IGZlYXR1cmUgY2hlY2sgYmVsb3cuXG5cbnZhciBmYWlsZWRCb3VuZGFyaWVzID0gbnVsbDtcbnZhciBzZXRSZWZyZXNoSGFuZGxlciA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gIHtcbiAgICByZXNvbHZlRmFtaWx5ID0gaGFuZGxlcjtcbiAgfVxufTtcbmZ1bmN0aW9uIHJlc29sdmVGdW5jdGlvbkZvckhvdFJlbG9hZGluZyh0eXBlKSB7XG4gIHtcbiAgICBpZiAocmVzb2x2ZUZhbWlseSA9PT0gbnVsbCkge1xuICAgICAgLy8gSG90IHJlbG9hZGluZyBpcyBkaXNhYmxlZC5cbiAgICAgIHJldHVybiB0eXBlO1xuICAgIH1cblxuICAgIHZhciBmYW1pbHkgPSByZXNvbHZlRmFtaWx5KHR5cGUpO1xuXG4gICAgaWYgKGZhbWlseSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gdHlwZTtcbiAgICB9IC8vIFVzZSB0aGUgbGF0ZXN0IGtub3duIGltcGxlbWVudGF0aW9uLlxuXG5cbiAgICByZXR1cm4gZmFtaWx5LmN1cnJlbnQ7XG4gIH1cbn1cbmZ1bmN0aW9uIHJlc29sdmVDbGFzc0ZvckhvdFJlbG9hZGluZyh0eXBlKSB7XG4gIC8vIE5vIGltcGxlbWVudGF0aW9uIGRpZmZlcmVuY2VzLlxuICByZXR1cm4gcmVzb2x2ZUZ1bmN0aW9uRm9ySG90UmVsb2FkaW5nKHR5cGUpO1xufVxuZnVuY3Rpb24gcmVzb2x2ZUZvcndhcmRSZWZGb3JIb3RSZWxvYWRpbmcodHlwZSkge1xuICB7XG4gICAgaWYgKHJlc29sdmVGYW1pbHkgPT09IG51bGwpIHtcbiAgICAgIC8vIEhvdCByZWxvYWRpbmcgaXMgZGlzYWJsZWQuXG4gICAgICByZXR1cm4gdHlwZTtcbiAgICB9XG5cbiAgICB2YXIgZmFtaWx5ID0gcmVzb2x2ZUZhbWlseSh0eXBlKTtcblxuICAgIGlmIChmYW1pbHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gQ2hlY2sgaWYgd2UncmUgZGVhbGluZyB3aXRoIGEgcmVhbCBmb3J3YXJkUmVmLiBEb24ndCB3YW50IHRvIGNyYXNoIGVhcmx5LlxuICAgICAgaWYgKHR5cGUgIT09IG51bGwgJiYgdHlwZSAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiB0eXBlLnJlbmRlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBGb3J3YXJkUmVmIGlzIHNwZWNpYWwgYmVjYXVzZSBpdHMgcmVzb2x2ZWQgLnR5cGUgaXMgYW4gb2JqZWN0LFxuICAgICAgICAvLyBidXQgaXQncyBwb3NzaWJsZSB0aGF0IHdlIG9ubHkgaGF2ZSBpdHMgaW5uZXIgcmVuZGVyIGZ1bmN0aW9uIGluIHRoZSBtYXAuXG4gICAgICAgIC8vIElmIHRoYXQgaW5uZXIgcmVuZGVyIGZ1bmN0aW9uIGlzIGRpZmZlcmVudCwgd2UnbGwgYnVpbGQgYSBuZXcgZm9yd2FyZFJlZiB0eXBlLlxuICAgICAgICB2YXIgY3VycmVudFJlbmRlciA9IHJlc29sdmVGdW5jdGlvbkZvckhvdFJlbG9hZGluZyh0eXBlLnJlbmRlcik7XG5cbiAgICAgICAgaWYgKHR5cGUucmVuZGVyICE9PSBjdXJyZW50UmVuZGVyKSB7XG4gICAgICAgICAgdmFyIHN5bnRoZXRpY1R5cGUgPSB7XG4gICAgICAgICAgICAkJHR5cGVvZjogUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRSxcbiAgICAgICAgICAgIHJlbmRlcjogY3VycmVudFJlbmRlclxuICAgICAgICAgIH07XG5cbiAgICAgICAgICBpZiAodHlwZS5kaXNwbGF5TmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBzeW50aGV0aWNUeXBlLmRpc3BsYXlOYW1lID0gdHlwZS5kaXNwbGF5TmFtZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gc3ludGhldGljVHlwZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHlwZTtcbiAgICB9IC8vIFVzZSB0aGUgbGF0ZXN0IGtub3duIGltcGxlbWVudGF0aW9uLlxuXG5cbiAgICByZXR1cm4gZmFtaWx5LmN1cnJlbnQ7XG4gIH1cbn1cbmZ1bmN0aW9uIGlzQ29tcGF0aWJsZUZhbWlseUZvckhvdFJlbG9hZGluZyhmaWJlciwgZWxlbWVudCkge1xuICB7XG4gICAgaWYgKHJlc29sdmVGYW1pbHkgPT09IG51bGwpIHtcbiAgICAgIC8vIEhvdCByZWxvYWRpbmcgaXMgZGlzYWJsZWQuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIHByZXZUeXBlID0gZmliZXIuZWxlbWVudFR5cGU7XG4gICAgdmFyIG5leHRUeXBlID0gZWxlbWVudC50eXBlOyAvLyBJZiB3ZSBnb3QgaGVyZSwgd2Uga25vdyB0eXBlcyBhcmVuJ3QgPT09IGVxdWFsLlxuXG4gICAgdmFyIG5lZWRzQ29tcGFyZUZhbWlsaWVzID0gZmFsc2U7XG4gICAgdmFyICQkdHlwZW9mTmV4dFR5cGUgPSB0eXBlb2YgbmV4dFR5cGUgPT09ICdvYmplY3QnICYmIG5leHRUeXBlICE9PSBudWxsID8gbmV4dFR5cGUuJCR0eXBlb2YgOiBudWxsO1xuXG4gICAgc3dpdGNoIChmaWJlci50YWcpIHtcbiAgICAgIGNhc2UgQ2xhc3NDb21wb25lbnQ6XG4gICAgICAgIHtcbiAgICAgICAgICBpZiAodHlwZW9mIG5leHRUeXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBuZWVkc0NvbXBhcmVGYW1pbGllcyA9IHRydWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgY2FzZSBGdW5jdGlvbkNvbXBvbmVudDpcbiAgICAgICAge1xuICAgICAgICAgIGlmICh0eXBlb2YgbmV4dFR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIG5lZWRzQ29tcGFyZUZhbWlsaWVzID0gdHJ1ZTtcbiAgICAgICAgICB9IGVsc2UgaWYgKCQkdHlwZW9mTmV4dFR5cGUgPT09IFJFQUNUX0xBWllfVFlQRSkge1xuICAgICAgICAgICAgLy8gV2UgZG9uJ3Qga25vdyB0aGUgaW5uZXIgdHlwZSB5ZXQuXG4gICAgICAgICAgICAvLyBXZSdyZSBnb2luZyB0byBhc3N1bWUgdGhhdCB0aGUgbGF6eSBpbm5lciB0eXBlIGlzIHN0YWJsZSxcbiAgICAgICAgICAgIC8vIGFuZCBzbyBpdCBpcyBzdWZmaWNpZW50IHRvIGF2b2lkIHJlY29uY2lsaW5nIGl0IGF3YXkuXG4gICAgICAgICAgICAvLyBXZSdyZSBub3QgZ29pbmcgdG8gdW53cmFwIG9yIGFjdHVhbGx5IHVzZSB0aGUgbmV3IGxhenkgdHlwZS5cbiAgICAgICAgICAgIG5lZWRzQ29tcGFyZUZhbWlsaWVzID0gdHJ1ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICBjYXNlIEZvcndhcmRSZWY6XG4gICAgICAgIHtcbiAgICAgICAgICBpZiAoJCR0eXBlb2ZOZXh0VHlwZSA9PT0gUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRSkge1xuICAgICAgICAgICAgbmVlZHNDb21wYXJlRmFtaWxpZXMgPSB0cnVlO1xuICAgICAgICAgIH0gZWxzZSBpZiAoJCR0eXBlb2ZOZXh0VHlwZSA9PT0gUkVBQ1RfTEFaWV9UWVBFKSB7XG4gICAgICAgICAgICBuZWVkc0NvbXBhcmVGYW1pbGllcyA9IHRydWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgY2FzZSBNZW1vQ29tcG9uZW50OlxuICAgICAgY2FzZSBTaW1wbGVNZW1vQ29tcG9uZW50OlxuICAgICAgICB7XG4gICAgICAgICAgaWYgKCQkdHlwZW9mTmV4dFR5cGUgPT09IFJFQUNUX01FTU9fVFlQRSkge1xuICAgICAgICAgICAgLy8gVE9ETzogaWYgaXQgd2FzIGJ1dCBjYW4gbm8gbG9uZ2VyIGJlIHNpbXBsZSxcbiAgICAgICAgICAgIC8vIHdlIHNob3VsZG4ndCBzZXQgdGhpcy5cbiAgICAgICAgICAgIG5lZWRzQ29tcGFyZUZhbWlsaWVzID0gdHJ1ZTtcbiAgICAgICAgICB9IGVsc2UgaWYgKCQkdHlwZW9mTmV4dFR5cGUgPT09IFJFQUNUX0xBWllfVFlQRSkge1xuICAgICAgICAgICAgbmVlZHNDb21wYXJlRmFtaWxpZXMgPSB0cnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IC8vIENoZWNrIGlmIGJvdGggdHlwZXMgaGF2ZSBhIGZhbWlseSBhbmQgaXQncyB0aGUgc2FtZSBvbmUuXG5cblxuICAgIGlmIChuZWVkc0NvbXBhcmVGYW1pbGllcykge1xuICAgICAgLy8gTm90ZTogbWVtbygpIGFuZCBmb3J3YXJkUmVmKCkgd2UnbGwgY29tcGFyZSBvdXRlciByYXRoZXIgdGhhbiBpbm5lciB0eXBlLlxuICAgICAgLy8gVGhpcyBtZWFucyBib3RoIG9mIHRoZW0gbmVlZCB0byBiZSByZWdpc3RlcmVkIHRvIHByZXNlcnZlIHN0YXRlLlxuICAgICAgLy8gSWYgd2UgdW53cmFwcGVkIGFuZCBjb21wYXJlZCB0aGUgaW5uZXIgdHlwZXMgZm9yIHdyYXBwZXJzIGluc3RlYWQsXG4gICAgICAvLyB0aGVuIHdlIHdvdWxkIHJpc2sgZmFsc2VseSBzYXlpbmcgdHdvIHNlcGFyYXRlIG1lbW8oRm9vKVxuICAgICAgLy8gY2FsbHMgYXJlIGVxdWl2YWxlbnQgYmVjYXVzZSB0aGV5IHdyYXAgdGhlIHNhbWUgRm9vIGZ1bmN0aW9uLlxuICAgICAgdmFyIHByZXZGYW1pbHkgPSByZXNvbHZlRmFtaWx5KHByZXZUeXBlKTtcblxuICAgICAgaWYgKHByZXZGYW1pbHkgIT09IHVuZGVmaW5lZCAmJiBwcmV2RmFtaWx5ID09PSByZXNvbHZlRmFtaWx5KG5leHRUeXBlKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cbmZ1bmN0aW9uIG1hcmtGYWlsZWRFcnJvckJvdW5kYXJ5Rm9ySG90UmVsb2FkaW5nKGZpYmVyKSB7XG4gIHtcbiAgICBpZiAocmVzb2x2ZUZhbWlseSA9PT0gbnVsbCkge1xuICAgICAgLy8gSG90IHJlbG9hZGluZyBpcyBkaXNhYmxlZC5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIFdlYWtTZXQgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZmFpbGVkQm91bmRhcmllcyA9PT0gbnVsbCkge1xuICAgICAgZmFpbGVkQm91bmRhcmllcyA9IG5ldyBXZWFrU2V0KCk7XG4gICAgfVxuXG4gICAgZmFpbGVkQm91bmRhcmllcy5hZGQoZmliZXIpO1xuICB9XG59XG52YXIgc2NoZWR1bGVSZWZyZXNoID0gZnVuY3Rpb24gKHJvb3QsIHVwZGF0ZSkge1xuICB7XG4gICAgaWYgKHJlc29sdmVGYW1pbHkgPT09IG51bGwpIHtcbiAgICAgIC8vIEhvdCByZWxvYWRpbmcgaXMgZGlzYWJsZWQuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHN0YWxlRmFtaWxpZXMgPSB1cGRhdGUuc3RhbGVGYW1pbGllcyxcbiAgICAgICAgdXBkYXRlZEZhbWlsaWVzID0gdXBkYXRlLnVwZGF0ZWRGYW1pbGllcztcbiAgICBmbHVzaFBhc3NpdmVFZmZlY3RzKCk7XG4gICAgZmx1c2hTeW5jKGZ1bmN0aW9uICgpIHtcbiAgICAgIHNjaGVkdWxlRmliZXJzV2l0aEZhbWlsaWVzUmVjdXJzaXZlbHkocm9vdC5jdXJyZW50LCB1cGRhdGVkRmFtaWxpZXMsIHN0YWxlRmFtaWxpZXMpO1xuICAgIH0pO1xuICB9XG59O1xudmFyIHNjaGVkdWxlUm9vdCA9IGZ1bmN0aW9uIChyb290LCBlbGVtZW50KSB7XG4gIHtcbiAgICBpZiAocm9vdC5jb250ZXh0ICE9PSBlbXB0eUNvbnRleHRPYmplY3QpIHtcbiAgICAgIC8vIFN1cGVyIGVkZ2UgY2FzZTogcm9vdCBoYXMgYSBsZWdhY3kgX3JlbmRlclN1YnRyZWUgY29udGV4dFxuICAgICAgLy8gYnV0IHdlIGRvbid0IGtub3cgdGhlIHBhcmVudENvbXBvbmVudCBzbyB3ZSBjYW4ndCBwYXNzIGl0LlxuICAgICAgLy8gSnVzdCBpZ25vcmUuIFdlJ2xsIGRlbGV0ZSB0aGlzIHdpdGggX3JlbmRlclN1YnRyZWUgY29kZSBwYXRoIGxhdGVyLlxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZsdXNoUGFzc2l2ZUVmZmVjdHMoKTtcbiAgICBzeW5jVXBkYXRlcyhmdW5jdGlvbiAoKSB7XG4gICAgICB1cGRhdGVDb250YWluZXIoZWxlbWVudCwgcm9vdCwgbnVsbCwgbnVsbCk7XG4gICAgfSk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIHNjaGVkdWxlRmliZXJzV2l0aEZhbWlsaWVzUmVjdXJzaXZlbHkoZmliZXIsIHVwZGF0ZWRGYW1pbGllcywgc3RhbGVGYW1pbGllcykge1xuICB7XG4gICAgdmFyIGFsdGVybmF0ZSA9IGZpYmVyLmFsdGVybmF0ZSxcbiAgICAgICAgY2hpbGQgPSBmaWJlci5jaGlsZCxcbiAgICAgICAgc2libGluZyA9IGZpYmVyLnNpYmxpbmcsXG4gICAgICAgIHRhZyA9IGZpYmVyLnRhZyxcbiAgICAgICAgdHlwZSA9IGZpYmVyLnR5cGU7XG4gICAgdmFyIGNhbmRpZGF0ZVR5cGUgPSBudWxsO1xuXG4gICAgc3dpdGNoICh0YWcpIHtcbiAgICAgIGNhc2UgRnVuY3Rpb25Db21wb25lbnQ6XG4gICAgICBjYXNlIFNpbXBsZU1lbW9Db21wb25lbnQ6XG4gICAgICBjYXNlIENsYXNzQ29tcG9uZW50OlxuICAgICAgICBjYW5kaWRhdGVUeXBlID0gdHlwZTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgRm9yd2FyZFJlZjpcbiAgICAgICAgY2FuZGlkYXRlVHlwZSA9IHR5cGUucmVuZGVyO1xuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgaWYgKHJlc29sdmVGYW1pbHkgPT09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgcmVzb2x2ZUZhbWlseSB0byBiZSBzZXQgZHVyaW5nIGhvdCByZWxvYWQuJyk7XG4gICAgfVxuXG4gICAgdmFyIG5lZWRzUmVuZGVyID0gZmFsc2U7XG4gICAgdmFyIG5lZWRzUmVtb3VudCA9IGZhbHNlO1xuXG4gICAgaWYgKGNhbmRpZGF0ZVR5cGUgIT09IG51bGwpIHtcbiAgICAgIHZhciBmYW1pbHkgPSByZXNvbHZlRmFtaWx5KGNhbmRpZGF0ZVR5cGUpO1xuXG4gICAgICBpZiAoZmFtaWx5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKHN0YWxlRmFtaWxpZXMuaGFzKGZhbWlseSkpIHtcbiAgICAgICAgICBuZWVkc1JlbW91bnQgPSB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKHVwZGF0ZWRGYW1pbGllcy5oYXMoZmFtaWx5KSkge1xuICAgICAgICAgIGlmICh0YWcgPT09IENsYXNzQ29tcG9uZW50KSB7XG4gICAgICAgICAgICBuZWVkc1JlbW91bnQgPSB0cnVlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZWVkc1JlbmRlciA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGZhaWxlZEJvdW5kYXJpZXMgIT09IG51bGwpIHtcbiAgICAgIGlmIChmYWlsZWRCb3VuZGFyaWVzLmhhcyhmaWJlcikgfHwgYWx0ZXJuYXRlICE9PSBudWxsICYmIGZhaWxlZEJvdW5kYXJpZXMuaGFzKGFsdGVybmF0ZSkpIHtcbiAgICAgICAgbmVlZHNSZW1vdW50ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobmVlZHNSZW1vdW50KSB7XG4gICAgICBmaWJlci5fZGVidWdOZWVkc1JlbW91bnQgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChuZWVkc1JlbW91bnQgfHwgbmVlZHNSZW5kZXIpIHtcbiAgICAgIHNjaGVkdWxlV29yayhmaWJlciwgU3luYyk7XG4gICAgfVxuXG4gICAgaWYgKGNoaWxkICE9PSBudWxsICYmICFuZWVkc1JlbW91bnQpIHtcbiAgICAgIHNjaGVkdWxlRmliZXJzV2l0aEZhbWlsaWVzUmVjdXJzaXZlbHkoY2hpbGQsIHVwZGF0ZWRGYW1pbGllcywgc3RhbGVGYW1pbGllcyk7XG4gICAgfVxuXG4gICAgaWYgKHNpYmxpbmcgIT09IG51bGwpIHtcbiAgICAgIHNjaGVkdWxlRmliZXJzV2l0aEZhbWlsaWVzUmVjdXJzaXZlbHkoc2libGluZywgdXBkYXRlZEZhbWlsaWVzLCBzdGFsZUZhbWlsaWVzKTtcbiAgICB9XG4gIH1cbn1cblxudmFyIGZpbmRIb3N0SW5zdGFuY2VzRm9yUmVmcmVzaCA9IGZ1bmN0aW9uIChyb290LCBmYW1pbGllcykge1xuICB7XG4gICAgdmFyIGhvc3RJbnN0YW5jZXMgPSBuZXcgU2V0KCk7XG4gICAgdmFyIHR5cGVzID0gbmV3IFNldChmYW1pbGllcy5tYXAoZnVuY3Rpb24gKGZhbWlseSkge1xuICAgICAgcmV0dXJuIGZhbWlseS5jdXJyZW50O1xuICAgIH0pKTtcbiAgICBmaW5kSG9zdEluc3RhbmNlc0Zvck1hdGNoaW5nRmliZXJzUmVjdXJzaXZlbHkocm9vdC5jdXJyZW50LCB0eXBlcywgaG9zdEluc3RhbmNlcyk7XG4gICAgcmV0dXJuIGhvc3RJbnN0YW5jZXM7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIGZpbmRIb3N0SW5zdGFuY2VzRm9yTWF0Y2hpbmdGaWJlcnNSZWN1cnNpdmVseShmaWJlciwgdHlwZXMsIGhvc3RJbnN0YW5jZXMpIHtcbiAge1xuICAgIHZhciBjaGlsZCA9IGZpYmVyLmNoaWxkLFxuICAgICAgICBzaWJsaW5nID0gZmliZXIuc2libGluZyxcbiAgICAgICAgdGFnID0gZmliZXIudGFnLFxuICAgICAgICB0eXBlID0gZmliZXIudHlwZTtcbiAgICB2YXIgY2FuZGlkYXRlVHlwZSA9IG51bGw7XG5cbiAgICBzd2l0Y2ggKHRhZykge1xuICAgICAgY2FzZSBGdW5jdGlvbkNvbXBvbmVudDpcbiAgICAgIGNhc2UgU2ltcGxlTWVtb0NvbXBvbmVudDpcbiAgICAgIGNhc2UgQ2xhc3NDb21wb25lbnQ6XG4gICAgICAgIGNhbmRpZGF0ZVR5cGUgPSB0eXBlO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBGb3J3YXJkUmVmOlxuICAgICAgICBjYW5kaWRhdGVUeXBlID0gdHlwZS5yZW5kZXI7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICB2YXIgZGlkTWF0Y2ggPSBmYWxzZTtcblxuICAgIGlmIChjYW5kaWRhdGVUeXBlICE9PSBudWxsKSB7XG4gICAgICBpZiAodHlwZXMuaGFzKGNhbmRpZGF0ZVR5cGUpKSB7XG4gICAgICAgIGRpZE1hdGNoID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZGlkTWF0Y2gpIHtcbiAgICAgIC8vIFdlIGhhdmUgYSBtYXRjaC4gVGhpcyBvbmx5IGRyaWxscyBkb3duIHRvIHRoZSBjbG9zZXN0IGhvc3QgY29tcG9uZW50cy5cbiAgICAgIC8vIFRoZXJlJ3Mgbm8gbmVlZCB0byBzZWFyY2ggZGVlcGVyIGJlY2F1c2UgZm9yIHRoZSBwdXJwb3NlIG9mIGdpdmluZ1xuICAgICAgLy8gdmlzdWFsIGZlZWRiYWNrLCBcImZsYXNoaW5nXCIgb3V0ZXJtb3N0IHBhcmVudCByZWN0YW5nbGVzIGlzIHN1ZmZpY2llbnQuXG4gICAgICBmaW5kSG9zdEluc3RhbmNlc0ZvckZpYmVyU2hhbGxvd2x5KGZpYmVyLCBob3N0SW5zdGFuY2VzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gSWYgdGhlcmUncyBubyBtYXRjaCwgbWF5YmUgdGhlcmUgd2lsbCBiZSBvbmUgZnVydGhlciBkb3duIGluIHRoZSBjaGlsZCB0cmVlLlxuICAgICAgaWYgKGNoaWxkICE9PSBudWxsKSB7XG4gICAgICAgIGZpbmRIb3N0SW5zdGFuY2VzRm9yTWF0Y2hpbmdGaWJlcnNSZWN1cnNpdmVseShjaGlsZCwgdHlwZXMsIGhvc3RJbnN0YW5jZXMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzaWJsaW5nICE9PSBudWxsKSB7XG4gICAgICBmaW5kSG9zdEluc3RhbmNlc0Zvck1hdGNoaW5nRmliZXJzUmVjdXJzaXZlbHkoc2libGluZywgdHlwZXMsIGhvc3RJbnN0YW5jZXMpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBmaW5kSG9zdEluc3RhbmNlc0ZvckZpYmVyU2hhbGxvd2x5KGZpYmVyLCBob3N0SW5zdGFuY2VzKSB7XG4gIHtcbiAgICB2YXIgZm91bmRIb3N0SW5zdGFuY2VzID0gZmluZENoaWxkSG9zdEluc3RhbmNlc0ZvckZpYmVyU2hhbGxvd2x5KGZpYmVyLCBob3N0SW5zdGFuY2VzKTtcblxuICAgIGlmIChmb3VuZEhvc3RJbnN0YW5jZXMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vIElmIHdlIGRpZG4ndCBmaW5kIGFueSBob3N0IGNoaWxkcmVuLCBmYWxsYmFjayB0byBjbG9zZXN0IGhvc3QgcGFyZW50LlxuXG5cbiAgICB2YXIgbm9kZSA9IGZpYmVyO1xuXG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIHN3aXRjaCAobm9kZS50YWcpIHtcbiAgICAgICAgY2FzZSBIb3N0Q29tcG9uZW50OlxuICAgICAgICAgIGhvc3RJbnN0YW5jZXMuYWRkKG5vZGUuc3RhdGVOb2RlKTtcbiAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgY2FzZSBIb3N0UG9ydGFsOlxuICAgICAgICAgIGhvc3RJbnN0YW5jZXMuYWRkKG5vZGUuc3RhdGVOb2RlLmNvbnRhaW5lckluZm8pO1xuICAgICAgICAgIHJldHVybjtcblxuICAgICAgICBjYXNlIEhvc3RSb290OlxuICAgICAgICAgIGhvc3RJbnN0YW5jZXMuYWRkKG5vZGUuc3RhdGVOb2RlLmNvbnRhaW5lckluZm8pO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKG5vZGUucmV0dXJuID09PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgdG8gcmVhY2ggcm9vdCBmaXJzdC4nKTtcbiAgICAgIH1cblxuICAgICAgbm9kZSA9IG5vZGUucmV0dXJuO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBmaW5kQ2hpbGRIb3N0SW5zdGFuY2VzRm9yRmliZXJTaGFsbG93bHkoZmliZXIsIGhvc3RJbnN0YW5jZXMpIHtcbiAge1xuICAgIHZhciBub2RlID0gZmliZXI7XG4gICAgdmFyIGZvdW5kSG9zdEluc3RhbmNlcyA9IGZhbHNlO1xuXG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGlmIChub2RlLnRhZyA9PT0gSG9zdENvbXBvbmVudCkge1xuICAgICAgICAvLyBXZSBnb3QgYSBtYXRjaC5cbiAgICAgICAgZm91bmRIb3N0SW5zdGFuY2VzID0gdHJ1ZTtcbiAgICAgICAgaG9zdEluc3RhbmNlcy5hZGQobm9kZS5zdGF0ZU5vZGUpOyAvLyBUaGVyZSBtYXkgc3RpbGwgYmUgbW9yZSwgc28ga2VlcCBzZWFyY2hpbmcuXG4gICAgICB9IGVsc2UgaWYgKG5vZGUuY2hpbGQgIT09IG51bGwpIHtcbiAgICAgICAgbm9kZS5jaGlsZC5yZXR1cm4gPSBub2RlO1xuICAgICAgICBub2RlID0gbm9kZS5jaGlsZDtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChub2RlID09PSBmaWJlcikge1xuICAgICAgICByZXR1cm4gZm91bmRIb3N0SW5zdGFuY2VzO1xuICAgICAgfVxuXG4gICAgICB3aGlsZSAobm9kZS5zaWJsaW5nID09PSBudWxsKSB7XG4gICAgICAgIGlmIChub2RlLnJldHVybiA9PT0gbnVsbCB8fCBub2RlLnJldHVybiA9PT0gZmliZXIpIHtcbiAgICAgICAgICByZXR1cm4gZm91bmRIb3N0SW5zdGFuY2VzO1xuICAgICAgICB9XG5cbiAgICAgICAgbm9kZSA9IG5vZGUucmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBub2RlLnNpYmxpbmcucmV0dXJuID0gbm9kZS5yZXR1cm47XG4gICAgICBub2RlID0gbm9kZS5zaWJsaW5nO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gcmVzb2x2ZURlZmF1bHRQcm9wcyhDb21wb25lbnQsIGJhc2VQcm9wcykge1xuICBpZiAoQ29tcG9uZW50ICYmIENvbXBvbmVudC5kZWZhdWx0UHJvcHMpIHtcbiAgICAvLyBSZXNvbHZlIGRlZmF1bHQgcHJvcHMuIFRha2VuIGZyb20gUmVhY3RFbGVtZW50XG4gICAgdmFyIHByb3BzID0gX2Fzc2lnbih7fSwgYmFzZVByb3BzKTtcblxuICAgIHZhciBkZWZhdWx0UHJvcHMgPSBDb21wb25lbnQuZGVmYXVsdFByb3BzO1xuXG4gICAgZm9yICh2YXIgcHJvcE5hbWUgaW4gZGVmYXVsdFByb3BzKSB7XG4gICAgICBpZiAocHJvcHNbcHJvcE5hbWVdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcHJvcHNbcHJvcE5hbWVdID0gZGVmYXVsdFByb3BzW3Byb3BOYW1lXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcHJvcHM7XG4gIH1cblxuICByZXR1cm4gYmFzZVByb3BzO1xufVxuZnVuY3Rpb24gcmVhZExhenlDb21wb25lbnRUeXBlKGxhenlDb21wb25lbnQpIHtcbiAgaW5pdGlhbGl6ZUxhenlDb21wb25lbnRUeXBlKGxhenlDb21wb25lbnQpO1xuXG4gIGlmIChsYXp5Q29tcG9uZW50Ll9zdGF0dXMgIT09IFJlc29sdmVkKSB7XG4gICAgdGhyb3cgbGF6eUNvbXBvbmVudC5fcmVzdWx0O1xuICB9XG5cbiAgcmV0dXJuIGxhenlDb21wb25lbnQuX3Jlc3VsdDtcbn1cblxudmFyIHZhbHVlQ3Vyc29yID0gY3JlYXRlQ3Vyc29yKG51bGwpO1xudmFyIHJlbmRlcmVyU2lnaWw7XG5cbntcbiAgLy8gVXNlIHRoaXMgdG8gZGV0ZWN0IG11bHRpcGxlIHJlbmRlcmVycyB1c2luZyB0aGUgc2FtZSBjb250ZXh0XG4gIHJlbmRlcmVyU2lnaWwgPSB7fTtcbn1cblxudmFyIGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyID0gbnVsbDtcbnZhciBsYXN0Q29udGV4dERlcGVuZGVuY3kgPSBudWxsO1xudmFyIGxhc3RDb250ZXh0V2l0aEFsbEJpdHNPYnNlcnZlZCA9IG51bGw7XG52YXIgaXNEaXNhbGxvd2VkQ29udGV4dFJlYWRJbkRFViA9IGZhbHNlO1xuZnVuY3Rpb24gcmVzZXRDb250ZXh0RGVwZW5kZW5jaWVzKCkge1xuICAvLyBUaGlzIGlzIGNhbGxlZCByaWdodCBiZWZvcmUgUmVhY3QgeWllbGRzIGV4ZWN1dGlvbiwgdG8gZW5zdXJlIGByZWFkQ29udGV4dGBcbiAgLy8gY2Fubm90IGJlIGNhbGxlZCBvdXRzaWRlIHRoZSByZW5kZXIgcGhhc2UuXG4gIGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyID0gbnVsbDtcbiAgbGFzdENvbnRleHREZXBlbmRlbmN5ID0gbnVsbDtcbiAgbGFzdENvbnRleHRXaXRoQWxsQml0c09ic2VydmVkID0gbnVsbDtcblxuICB7XG4gICAgaXNEaXNhbGxvd2VkQ29udGV4dFJlYWRJbkRFViA9IGZhbHNlO1xuICB9XG59XG5mdW5jdGlvbiBlbnRlckRpc2FsbG93ZWRDb250ZXh0UmVhZEluREVWKCkge1xuICB7XG4gICAgaXNEaXNhbGxvd2VkQ29udGV4dFJlYWRJbkRFViA9IHRydWU7XG4gIH1cbn1cbmZ1bmN0aW9uIGV4aXREaXNhbGxvd2VkQ29udGV4dFJlYWRJbkRFVigpIHtcbiAge1xuICAgIGlzRGlzYWxsb3dlZENvbnRleHRSZWFkSW5ERVYgPSBmYWxzZTtcbiAgfVxufVxuZnVuY3Rpb24gcHVzaFByb3ZpZGVyKHByb3ZpZGVyRmliZXIsIG5leHRWYWx1ZSkge1xuICB2YXIgY29udGV4dCA9IHByb3ZpZGVyRmliZXIudHlwZS5fY29udGV4dDtcblxuICBpZiAoaXNQcmltYXJ5UmVuZGVyZXIpIHtcbiAgICBwdXNoKHZhbHVlQ3Vyc29yLCBjb250ZXh0Ll9jdXJyZW50VmFsdWUsIHByb3ZpZGVyRmliZXIpO1xuICAgIGNvbnRleHQuX2N1cnJlbnRWYWx1ZSA9IG5leHRWYWx1ZTtcblxuICAgIHtcbiAgICAgICEoY29udGV4dC5fY3VycmVudFJlbmRlcmVyID09PSB1bmRlZmluZWQgfHwgY29udGV4dC5fY3VycmVudFJlbmRlcmVyID09PSBudWxsIHx8IGNvbnRleHQuX2N1cnJlbnRSZW5kZXJlciA9PT0gcmVuZGVyZXJTaWdpbCkgPyB3YXJuaW5nV2l0aG91dFN0YWNrJDEoZmFsc2UsICdEZXRlY3RlZCBtdWx0aXBsZSByZW5kZXJlcnMgY29uY3VycmVudGx5IHJlbmRlcmluZyB0aGUgJyArICdzYW1lIGNvbnRleHQgcHJvdmlkZXIuIFRoaXMgaXMgY3VycmVudGx5IHVuc3VwcG9ydGVkLicpIDogdm9pZCAwO1xuICAgICAgY29udGV4dC5fY3VycmVudFJlbmRlcmVyID0gcmVuZGVyZXJTaWdpbDtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcHVzaCh2YWx1ZUN1cnNvciwgY29udGV4dC5fY3VycmVudFZhbHVlMiwgcHJvdmlkZXJGaWJlcik7XG4gICAgY29udGV4dC5fY3VycmVudFZhbHVlMiA9IG5leHRWYWx1ZTtcblxuICAgIHtcbiAgICAgICEoY29udGV4dC5fY3VycmVudFJlbmRlcmVyMiA9PT0gdW5kZWZpbmVkIHx8IGNvbnRleHQuX2N1cnJlbnRSZW5kZXJlcjIgPT09IG51bGwgfHwgY29udGV4dC5fY3VycmVudFJlbmRlcmVyMiA9PT0gcmVuZGVyZXJTaWdpbCkgPyB3YXJuaW5nV2l0aG91dFN0YWNrJDEoZmFsc2UsICdEZXRlY3RlZCBtdWx0aXBsZSByZW5kZXJlcnMgY29uY3VycmVudGx5IHJlbmRlcmluZyB0aGUgJyArICdzYW1lIGNvbnRleHQgcHJvdmlkZXIuIFRoaXMgaXMgY3VycmVudGx5IHVuc3VwcG9ydGVkLicpIDogdm9pZCAwO1xuICAgICAgY29udGV4dC5fY3VycmVudFJlbmRlcmVyMiA9IHJlbmRlcmVyU2lnaWw7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBwb3BQcm92aWRlcihwcm92aWRlckZpYmVyKSB7XG4gIHZhciBjdXJyZW50VmFsdWUgPSB2YWx1ZUN1cnNvci5jdXJyZW50O1xuICBwb3AodmFsdWVDdXJzb3IsIHByb3ZpZGVyRmliZXIpO1xuICB2YXIgY29udGV4dCA9IHByb3ZpZGVyRmliZXIudHlwZS5fY29udGV4dDtcblxuICBpZiAoaXNQcmltYXJ5UmVuZGVyZXIpIHtcbiAgICBjb250ZXh0Ll9jdXJyZW50VmFsdWUgPSBjdXJyZW50VmFsdWU7XG4gIH0gZWxzZSB7XG4gICAgY29udGV4dC5fY3VycmVudFZhbHVlMiA9IGN1cnJlbnRWYWx1ZTtcbiAgfVxufVxuZnVuY3Rpb24gY2FsY3VsYXRlQ2hhbmdlZEJpdHMoY29udGV4dCwgbmV3VmFsdWUsIG9sZFZhbHVlKSB7XG4gIGlmIChpcyQxKG9sZFZhbHVlLCBuZXdWYWx1ZSkpIHtcbiAgICAvLyBObyBjaGFuZ2VcbiAgICByZXR1cm4gMDtcbiAgfSBlbHNlIHtcbiAgICB2YXIgY2hhbmdlZEJpdHMgPSB0eXBlb2YgY29udGV4dC5fY2FsY3VsYXRlQ2hhbmdlZEJpdHMgPT09ICdmdW5jdGlvbicgPyBjb250ZXh0Ll9jYWxjdWxhdGVDaGFuZ2VkQml0cyhvbGRWYWx1ZSwgbmV3VmFsdWUpIDogTUFYX1NJR05FRF8zMV9CSVRfSU5UO1xuXG4gICAge1xuICAgICAgISgoY2hhbmdlZEJpdHMgJiBNQVhfU0lHTkVEXzMxX0JJVF9JTlQpID09PSBjaGFuZ2VkQml0cykgPyB3YXJuaW5nJDEoZmFsc2UsICdjYWxjdWxhdGVDaGFuZ2VkQml0czogRXhwZWN0ZWQgdGhlIHJldHVybiB2YWx1ZSB0byBiZSBhICcgKyAnMzEtYml0IGludGVnZXIuIEluc3RlYWQgcmVjZWl2ZWQ6ICVzJywgY2hhbmdlZEJpdHMpIDogdm9pZCAwO1xuICAgIH1cblxuICAgIHJldHVybiBjaGFuZ2VkQml0cyB8IDA7XG4gIH1cbn1cbmZ1bmN0aW9uIHNjaGVkdWxlV29ya09uUGFyZW50UGF0aChwYXJlbnQsIHJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gIC8vIFVwZGF0ZSB0aGUgY2hpbGQgZXhwaXJhdGlvbiB0aW1lIG9mIGFsbCB0aGUgYW5jZXN0b3JzLCBpbmNsdWRpbmdcbiAgLy8gdGhlIGFsdGVybmF0ZXMuXG4gIHZhciBub2RlID0gcGFyZW50O1xuXG4gIHdoaWxlIChub2RlICE9PSBudWxsKSB7XG4gICAgdmFyIGFsdGVybmF0ZSA9IG5vZGUuYWx0ZXJuYXRlO1xuXG4gICAgaWYgKG5vZGUuY2hpbGRFeHBpcmF0aW9uVGltZSA8IHJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gICAgICBub2RlLmNoaWxkRXhwaXJhdGlvblRpbWUgPSByZW5kZXJFeHBpcmF0aW9uVGltZTtcblxuICAgICAgaWYgKGFsdGVybmF0ZSAhPT0gbnVsbCAmJiBhbHRlcm5hdGUuY2hpbGRFeHBpcmF0aW9uVGltZSA8IHJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gICAgICAgIGFsdGVybmF0ZS5jaGlsZEV4cGlyYXRpb25UaW1lID0gcmVuZGVyRXhwaXJhdGlvblRpbWU7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChhbHRlcm5hdGUgIT09IG51bGwgJiYgYWx0ZXJuYXRlLmNoaWxkRXhwaXJhdGlvblRpbWUgPCByZW5kZXJFeHBpcmF0aW9uVGltZSkge1xuICAgICAgYWx0ZXJuYXRlLmNoaWxkRXhwaXJhdGlvblRpbWUgPSByZW5kZXJFeHBpcmF0aW9uVGltZTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gTmVpdGhlciBhbHRlcm5hdGUgd2FzIHVwZGF0ZWQsIHdoaWNoIG1lYW5zIHRoZSByZXN0IG9mIHRoZVxuICAgICAgLy8gYW5jZXN0b3IgcGF0aCBhbHJlYWR5IGhhcyBzdWZmaWNpZW50IHByaW9yaXR5LlxuICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgbm9kZSA9IG5vZGUucmV0dXJuO1xuICB9XG59XG5mdW5jdGlvbiBwcm9wYWdhdGVDb250ZXh0Q2hhbmdlKHdvcmtJblByb2dyZXNzLCBjb250ZXh0LCBjaGFuZ2VkQml0cywgcmVuZGVyRXhwaXJhdGlvblRpbWUpIHtcbiAgdmFyIGZpYmVyID0gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG5cbiAgaWYgKGZpYmVyICE9PSBudWxsKSB7XG4gICAgLy8gU2V0IHRoZSByZXR1cm4gcG9pbnRlciBvZiB0aGUgY2hpbGQgdG8gdGhlIHdvcmstaW4tcHJvZ3Jlc3MgZmliZXIuXG4gICAgZmliZXIucmV0dXJuID0gd29ya0luUHJvZ3Jlc3M7XG4gIH1cblxuICB3aGlsZSAoZmliZXIgIT09IG51bGwpIHtcbiAgICB2YXIgbmV4dEZpYmVyID0gdm9pZCAwOyAvLyBWaXNpdCB0aGlzIGZpYmVyLlxuXG4gICAgdmFyIGxpc3QgPSBmaWJlci5kZXBlbmRlbmNpZXM7XG5cbiAgICBpZiAobGlzdCAhPT0gbnVsbCkge1xuICAgICAgbmV4dEZpYmVyID0gZmliZXIuY2hpbGQ7XG4gICAgICB2YXIgZGVwZW5kZW5jeSA9IGxpc3QuZmlyc3RDb250ZXh0O1xuXG4gICAgICB3aGlsZSAoZGVwZW5kZW5jeSAhPT0gbnVsbCkge1xuICAgICAgICAvLyBDaGVjayBpZiB0aGUgY29udGV4dCBtYXRjaGVzLlxuICAgICAgICBpZiAoZGVwZW5kZW5jeS5jb250ZXh0ID09PSBjb250ZXh0ICYmIChkZXBlbmRlbmN5Lm9ic2VydmVkQml0cyAmIGNoYW5nZWRCaXRzKSAhPT0gMCkge1xuICAgICAgICAgIC8vIE1hdGNoISBTY2hlZHVsZSBhbiB1cGRhdGUgb24gdGhpcyBmaWJlci5cbiAgICAgICAgICBpZiAoZmliZXIudGFnID09PSBDbGFzc0NvbXBvbmVudCkge1xuICAgICAgICAgICAgLy8gU2NoZWR1bGUgYSBmb3JjZSB1cGRhdGUgb24gdGhlIHdvcmstaW4tcHJvZ3Jlc3MuXG4gICAgICAgICAgICB2YXIgdXBkYXRlID0gY3JlYXRlVXBkYXRlKHJlbmRlckV4cGlyYXRpb25UaW1lLCBudWxsKTtcbiAgICAgICAgICAgIHVwZGF0ZS50YWcgPSBGb3JjZVVwZGF0ZTsgLy8gVE9ETzogQmVjYXVzZSB3ZSBkb24ndCBoYXZlIGEgd29yay1pbi1wcm9ncmVzcywgdGhpcyB3aWxsIGFkZCB0aGVcbiAgICAgICAgICAgIC8vIHVwZGF0ZSB0byB0aGUgY3VycmVudCBmaWJlciwgdG9vLCB3aGljaCBtZWFucyBpdCB3aWxsIHBlcnNpc3QgZXZlbiBpZlxuICAgICAgICAgICAgLy8gdGhpcyByZW5kZXIgaXMgdGhyb3duIGF3YXkuIFNpbmNlIGl0J3MgYSByYWNlIGNvbmRpdGlvbiwgbm90IHN1cmUgaXQnc1xuICAgICAgICAgICAgLy8gd29ydGggZml4aW5nLlxuXG4gICAgICAgICAgICBlbnF1ZXVlVXBkYXRlKGZpYmVyLCB1cGRhdGUpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChmaWJlci5leHBpcmF0aW9uVGltZSA8IHJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gICAgICAgICAgICBmaWJlci5leHBpcmF0aW9uVGltZSA9IHJlbmRlckV4cGlyYXRpb25UaW1lO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBhbHRlcm5hdGUgPSBmaWJlci5hbHRlcm5hdGU7XG5cbiAgICAgICAgICBpZiAoYWx0ZXJuYXRlICE9PSBudWxsICYmIGFsdGVybmF0ZS5leHBpcmF0aW9uVGltZSA8IHJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gICAgICAgICAgICBhbHRlcm5hdGUuZXhwaXJhdGlvblRpbWUgPSByZW5kZXJFeHBpcmF0aW9uVGltZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzY2hlZHVsZVdvcmtPblBhcmVudFBhdGgoZmliZXIucmV0dXJuLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7IC8vIE1hcmsgdGhlIGV4cGlyYXRpb24gdGltZSBvbiB0aGUgbGlzdCwgdG9vLlxuXG4gICAgICAgICAgaWYgKGxpc3QuZXhwaXJhdGlvblRpbWUgPCByZW5kZXJFeHBpcmF0aW9uVGltZSkge1xuICAgICAgICAgICAgbGlzdC5leHBpcmF0aW9uVGltZSA9IHJlbmRlckV4cGlyYXRpb25UaW1lO1xuICAgICAgICAgIH0gLy8gU2luY2Ugd2UgYWxyZWFkeSBmb3VuZCBhIG1hdGNoLCB3ZSBjYW4gc3RvcCB0cmF2ZXJzaW5nIHRoZVxuICAgICAgICAgIC8vIGRlcGVuZGVuY3kgbGlzdC5cblxuXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBkZXBlbmRlbmN5ID0gZGVwZW5kZW5jeS5uZXh0O1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZmliZXIudGFnID09PSBDb250ZXh0UHJvdmlkZXIpIHtcbiAgICAgIC8vIERvbid0IHNjYW4gZGVlcGVyIGlmIHRoaXMgaXMgYSBtYXRjaGluZyBwcm92aWRlclxuICAgICAgbmV4dEZpYmVyID0gZmliZXIudHlwZSA9PT0gd29ya0luUHJvZ3Jlc3MudHlwZSA/IG51bGwgOiBmaWJlci5jaGlsZDtcbiAgICB9IGVsc2UgaWYgKGVuYWJsZVN1c3BlbnNlU2VydmVyUmVuZGVyZXIgJiYgZmliZXIudGFnID09PSBEZWh5ZHJhdGVkRnJhZ21lbnQpIHtcbiAgICAgIC8vIElmIGEgZGVoeWRyYXRlZCBzdXNwZW5zZSBib3VudWRhcnkgaXMgaW4gdGhpcyBzdWJ0cmVlLCB3ZSBkb24ndCBrbm93XG4gICAgICAvLyBpZiBpdCB3aWxsIGhhdmUgYW55IGNvbnRleHQgY29uc3VtZXJzIGluIGl0LiBUaGUgYmVzdCB3ZSBjYW4gZG8gaXNcbiAgICAgIC8vIG1hcmsgaXQgYXMgaGF2aW5nIHVwZGF0ZXMuXG4gICAgICB2YXIgcGFyZW50U3VzcGVuc2UgPSBmaWJlci5yZXR1cm47XG5cbiAgICAgIGlmICghKHBhcmVudFN1c3BlbnNlICE9PSBudWxsKSkge1xuICAgICAgICB7XG4gICAgICAgICAgdGhyb3cgRXJyb3IoXCJXZSBqdXN0IGNhbWUgZnJvbSBhIHBhcmVudCBzbyB3ZSBtdXN0IGhhdmUgaGFkIGEgcGFyZW50LiBUaGlzIGlzIGEgYnVnIGluIFJlYWN0LlwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAocGFyZW50U3VzcGVuc2UuZXhwaXJhdGlvblRpbWUgPCByZW5kZXJFeHBpcmF0aW9uVGltZSkge1xuICAgICAgICBwYXJlbnRTdXNwZW5zZS5leHBpcmF0aW9uVGltZSA9IHJlbmRlckV4cGlyYXRpb25UaW1lO1xuICAgICAgfVxuXG4gICAgICB2YXIgX2FsdGVybmF0ZSA9IHBhcmVudFN1c3BlbnNlLmFsdGVybmF0ZTtcblxuICAgICAgaWYgKF9hbHRlcm5hdGUgIT09IG51bGwgJiYgX2FsdGVybmF0ZS5leHBpcmF0aW9uVGltZSA8IHJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gICAgICAgIF9hbHRlcm5hdGUuZXhwaXJhdGlvblRpbWUgPSByZW5kZXJFeHBpcmF0aW9uVGltZTtcbiAgICAgIH0gLy8gVGhpcyBpcyBpbnRlbnRpb25hbGx5IHBhc3NpbmcgdGhpcyBmaWJlciBhcyB0aGUgcGFyZW50XG4gICAgICAvLyBiZWNhdXNlIHdlIHdhbnQgdG8gc2NoZWR1bGUgdGhpcyBmaWJlciBhcyBoYXZpbmcgd29ya1xuICAgICAgLy8gb24gaXRzIGNoaWxkcmVuLiBXZSdsbCB1c2UgdGhlIGNoaWxkRXhwaXJhdGlvblRpbWUgb25cbiAgICAgIC8vIHRoaXMgZmliZXIgdG8gaW5kaWNhdGUgdGhhdCBhIGNvbnRleHQgaGFzIGNoYW5nZWQuXG5cblxuICAgICAgc2NoZWR1bGVXb3JrT25QYXJlbnRQYXRoKHBhcmVudFN1c3BlbnNlLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gICAgICBuZXh0RmliZXIgPSBmaWJlci5zaWJsaW5nO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBUcmF2ZXJzZSBkb3duLlxuICAgICAgbmV4dEZpYmVyID0gZmliZXIuY2hpbGQ7XG4gICAgfVxuXG4gICAgaWYgKG5leHRGaWJlciAhPT0gbnVsbCkge1xuICAgICAgLy8gU2V0IHRoZSByZXR1cm4gcG9pbnRlciBvZiB0aGUgY2hpbGQgdG8gdGhlIHdvcmstaW4tcHJvZ3Jlc3MgZmliZXIuXG4gICAgICBuZXh0RmliZXIucmV0dXJuID0gZmliZXI7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE5vIGNoaWxkLiBUcmF2ZXJzZSB0byBuZXh0IHNpYmxpbmcuXG4gICAgICBuZXh0RmliZXIgPSBmaWJlcjtcblxuICAgICAgd2hpbGUgKG5leHRGaWJlciAhPT0gbnVsbCkge1xuICAgICAgICBpZiAobmV4dEZpYmVyID09PSB3b3JrSW5Qcm9ncmVzcykge1xuICAgICAgICAgIC8vIFdlJ3JlIGJhY2sgdG8gdGhlIHJvb3Qgb2YgdGhpcyBzdWJ0cmVlLiBFeGl0LlxuICAgICAgICAgIG5leHRGaWJlciA9IG51bGw7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc2libGluZyA9IG5leHRGaWJlci5zaWJsaW5nO1xuXG4gICAgICAgIGlmIChzaWJsaW5nICE9PSBudWxsKSB7XG4gICAgICAgICAgLy8gU2V0IHRoZSByZXR1cm4gcG9pbnRlciBvZiB0aGUgc2libGluZyB0byB0aGUgd29yay1pbi1wcm9ncmVzcyBmaWJlci5cbiAgICAgICAgICBzaWJsaW5nLnJldHVybiA9IG5leHRGaWJlci5yZXR1cm47XG4gICAgICAgICAgbmV4dEZpYmVyID0gc2libGluZztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfSAvLyBObyBtb3JlIHNpYmxpbmdzLiBUcmF2ZXJzZSB1cC5cblxuXG4gICAgICAgIG5leHRGaWJlciA9IG5leHRGaWJlci5yZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgZmliZXIgPSBuZXh0RmliZXI7XG4gIH1cbn1cbmZ1bmN0aW9uIHByZXBhcmVUb1JlYWRDb250ZXh0KHdvcmtJblByb2dyZXNzLCByZW5kZXJFeHBpcmF0aW9uVGltZSkge1xuICBjdXJyZW50bHlSZW5kZXJpbmdGaWJlciA9IHdvcmtJblByb2dyZXNzO1xuICBsYXN0Q29udGV4dERlcGVuZGVuY3kgPSBudWxsO1xuICBsYXN0Q29udGV4dFdpdGhBbGxCaXRzT2JzZXJ2ZWQgPSBudWxsO1xuICB2YXIgZGVwZW5kZW5jaWVzID0gd29ya0luUHJvZ3Jlc3MuZGVwZW5kZW5jaWVzO1xuXG4gIGlmIChkZXBlbmRlbmNpZXMgIT09IG51bGwpIHtcbiAgICB2YXIgZmlyc3RDb250ZXh0ID0gZGVwZW5kZW5jaWVzLmZpcnN0Q29udGV4dDtcblxuICAgIGlmIChmaXJzdENvbnRleHQgIT09IG51bGwpIHtcbiAgICAgIGlmIChkZXBlbmRlbmNpZXMuZXhwaXJhdGlvblRpbWUgPj0gcmVuZGVyRXhwaXJhdGlvblRpbWUpIHtcbiAgICAgICAgLy8gQ29udGV4dCBsaXN0IGhhcyBhIHBlbmRpbmcgdXBkYXRlLiBNYXJrIHRoYXQgdGhpcyBmaWJlciBwZXJmb3JtZWQgd29yay5cbiAgICAgICAgbWFya1dvcmtJblByb2dyZXNzUmVjZWl2ZWRVcGRhdGUoKTtcbiAgICAgIH0gLy8gUmVzZXQgdGhlIHdvcmstaW4tcHJvZ3Jlc3MgbGlzdFxuXG5cbiAgICAgIGRlcGVuZGVuY2llcy5maXJzdENvbnRleHQgPSBudWxsO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gcmVhZENvbnRleHQoY29udGV4dCwgb2JzZXJ2ZWRCaXRzKSB7XG4gIHtcbiAgICAvLyBUaGlzIHdhcm5pbmcgd291bGQgZmlyZSBpZiB5b3UgcmVhZCBjb250ZXh0IGluc2lkZSBhIEhvb2sgbGlrZSB1c2VNZW1vLlxuICAgIC8vIFVubGlrZSB0aGUgY2xhc3MgY2hlY2sgYmVsb3csIGl0J3Mgbm90IGVuZm9yY2VkIGluIHByb2R1Y3Rpb24gZm9yIHBlcmYuXG4gICAgISFpc0Rpc2FsbG93ZWRDb250ZXh0UmVhZEluREVWID8gd2FybmluZyQxKGZhbHNlLCAnQ29udGV4dCBjYW4gb25seSBiZSByZWFkIHdoaWxlIFJlYWN0IGlzIHJlbmRlcmluZy4gJyArICdJbiBjbGFzc2VzLCB5b3UgY2FuIHJlYWQgaXQgaW4gdGhlIHJlbmRlciBtZXRob2Qgb3IgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzLiAnICsgJ0luIGZ1bmN0aW9uIGNvbXBvbmVudHMsIHlvdSBjYW4gcmVhZCBpdCBkaXJlY3RseSBpbiB0aGUgZnVuY3Rpb24gYm9keSwgYnV0IG5vdCAnICsgJ2luc2lkZSBIb29rcyBsaWtlIHVzZVJlZHVjZXIoKSBvciB1c2VNZW1vKCkuJykgOiB2b2lkIDA7XG4gIH1cblxuICBpZiAobGFzdENvbnRleHRXaXRoQWxsQml0c09ic2VydmVkID09PSBjb250ZXh0KSB7Ly8gTm90aGluZyB0byBkby4gV2UgYWxyZWFkeSBvYnNlcnZlIGV2ZXJ5dGhpbmcgaW4gdGhpcyBjb250ZXh0LlxuICB9IGVsc2UgaWYgKG9ic2VydmVkQml0cyA9PT0gZmFsc2UgfHwgb2JzZXJ2ZWRCaXRzID09PSAwKSB7Ly8gRG8gbm90IG9ic2VydmUgYW55IHVwZGF0ZXMuXG4gIH0gZWxzZSB7XG4gICAgdmFyIHJlc29sdmVkT2JzZXJ2ZWRCaXRzOyAvLyBBdm9pZCBkZW9wdGluZyBvbiBvYnNlcnZhYmxlIGFyZ3VtZW50cyBvciBoZXRlcm9nZW5lb3VzIHR5cGVzLlxuXG4gICAgaWYgKHR5cGVvZiBvYnNlcnZlZEJpdHMgIT09ICdudW1iZXInIHx8IG9ic2VydmVkQml0cyA9PT0gTUFYX1NJR05FRF8zMV9CSVRfSU5UKSB7XG4gICAgICAvLyBPYnNlcnZlIGFsbCB1cGRhdGVzLlxuICAgICAgbGFzdENvbnRleHRXaXRoQWxsQml0c09ic2VydmVkID0gY29udGV4dDtcbiAgICAgIHJlc29sdmVkT2JzZXJ2ZWRCaXRzID0gTUFYX1NJR05FRF8zMV9CSVRfSU5UO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXNvbHZlZE9ic2VydmVkQml0cyA9IG9ic2VydmVkQml0cztcbiAgICB9XG5cbiAgICB2YXIgY29udGV4dEl0ZW0gPSB7XG4gICAgICBjb250ZXh0OiBjb250ZXh0LFxuICAgICAgb2JzZXJ2ZWRCaXRzOiByZXNvbHZlZE9ic2VydmVkQml0cyxcbiAgICAgIG5leHQ6IG51bGxcbiAgICB9O1xuXG4gICAgaWYgKGxhc3RDb250ZXh0RGVwZW5kZW5jeSA9PT0gbnVsbCkge1xuICAgICAgaWYgKCEoY3VycmVudGx5UmVuZGVyaW5nRmliZXIgIT09IG51bGwpKSB7XG4gICAgICAgIHtcbiAgICAgICAgICB0aHJvdyBFcnJvcihcIkNvbnRleHQgY2FuIG9ubHkgYmUgcmVhZCB3aGlsZSBSZWFjdCBpcyByZW5kZXJpbmcuIEluIGNsYXNzZXMsIHlvdSBjYW4gcmVhZCBpdCBpbiB0aGUgcmVuZGVyIG1ldGhvZCBvciBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMuIEluIGZ1bmN0aW9uIGNvbXBvbmVudHMsIHlvdSBjYW4gcmVhZCBpdCBkaXJlY3RseSBpbiB0aGUgZnVuY3Rpb24gYm9keSwgYnV0IG5vdCBpbnNpZGUgSG9va3MgbGlrZSB1c2VSZWR1Y2VyKCkgb3IgdXNlTWVtbygpLlwiKTtcbiAgICAgICAgfVxuICAgICAgfSAvLyBUaGlzIGlzIHRoZSBmaXJzdCBkZXBlbmRlbmN5IGZvciB0aGlzIGNvbXBvbmVudC4gQ3JlYXRlIGEgbmV3IGxpc3QuXG5cblxuICAgICAgbGFzdENvbnRleHREZXBlbmRlbmN5ID0gY29udGV4dEl0ZW07XG4gICAgICBjdXJyZW50bHlSZW5kZXJpbmdGaWJlci5kZXBlbmRlbmNpZXMgPSB7XG4gICAgICAgIGV4cGlyYXRpb25UaW1lOiBOb1dvcmssXG4gICAgICAgIGZpcnN0Q29udGV4dDogY29udGV4dEl0ZW0sXG4gICAgICAgIHJlc3BvbmRlcnM6IG51bGxcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEFwcGVuZCBhIG5ldyBjb250ZXh0IGl0ZW0uXG4gICAgICBsYXN0Q29udGV4dERlcGVuZGVuY3kgPSBsYXN0Q29udGV4dERlcGVuZGVuY3kubmV4dCA9IGNvbnRleHRJdGVtO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBpc1ByaW1hcnlSZW5kZXJlciA/IGNvbnRleHQuX2N1cnJlbnRWYWx1ZSA6IGNvbnRleHQuX2N1cnJlbnRWYWx1ZTI7XG59XG5cbi8vIFVwZGF0ZVF1ZXVlIGlzIGEgbGlua2VkIGxpc3Qgb2YgcHJpb3JpdGl6ZWQgdXBkYXRlcy5cbi8vXG4vLyBMaWtlIGZpYmVycywgdXBkYXRlIHF1ZXVlcyBjb21lIGluIHBhaXJzOiBhIGN1cnJlbnQgcXVldWUsIHdoaWNoIHJlcHJlc2VudHNcbi8vIHRoZSB2aXNpYmxlIHN0YXRlIG9mIHRoZSBzY3JlZW4sIGFuZCBhIHdvcmstaW4tcHJvZ3Jlc3MgcXVldWUsIHdoaWNoIGNhbiBiZVxuLy8gbXV0YXRlZCBhbmQgcHJvY2Vzc2VkIGFzeW5jaHJvbm91c2x5IGJlZm9yZSBpdCBpcyBjb21taXR0ZWQg4oCUIGEgZm9ybSBvZlxuLy8gZG91YmxlIGJ1ZmZlcmluZy4gSWYgYSB3b3JrLWluLXByb2dyZXNzIHJlbmRlciBpcyBkaXNjYXJkZWQgYmVmb3JlIGZpbmlzaGluZyxcbi8vIHdlIGNyZWF0ZSBhIG5ldyB3b3JrLWluLXByb2dyZXNzIGJ5IGNsb25pbmcgdGhlIGN1cnJlbnQgcXVldWUuXG4vL1xuLy8gQm90aCBxdWV1ZXMgc2hhcmUgYSBwZXJzaXN0ZW50LCBzaW5nbHktbGlua2VkIGxpc3Qgc3RydWN0dXJlLiBUbyBzY2hlZHVsZSBhblxuLy8gdXBkYXRlLCB3ZSBhcHBlbmQgaXQgdG8gdGhlIGVuZCBvZiBib3RoIHF1ZXVlcy4gRWFjaCBxdWV1ZSBtYWludGFpbnMgYVxuLy8gcG9pbnRlciB0byBmaXJzdCB1cGRhdGUgaW4gdGhlIHBlcnNpc3RlbnQgbGlzdCB0aGF0IGhhc24ndCBiZWVuIHByb2Nlc3NlZC5cbi8vIFRoZSB3b3JrLWluLXByb2dyZXNzIHBvaW50ZXIgYWx3YXlzIGhhcyBhIHBvc2l0aW9uIGVxdWFsIHRvIG9yIGdyZWF0ZXIgdGhhblxuLy8gdGhlIGN1cnJlbnQgcXVldWUsIHNpbmNlIHdlIGFsd2F5cyB3b3JrIG9uIHRoYXQgb25lLiBUaGUgY3VycmVudCBxdWV1ZSdzXG4vLyBwb2ludGVyIGlzIG9ubHkgdXBkYXRlZCBkdXJpbmcgdGhlIGNvbW1pdCBwaGFzZSwgd2hlbiB3ZSBzd2FwIGluIHRoZVxuLy8gd29yay1pbi1wcm9ncmVzcy5cbi8vXG4vLyBGb3IgZXhhbXBsZTpcbi8vXG4vLyAgIEN1cnJlbnQgcG9pbnRlcjogICAgICAgICAgIEEgLSBCIC0gQyAtIEQgLSBFIC0gRlxuLy8gICBXb3JrLWluLXByb2dyZXNzIHBvaW50ZXI6ICAgICAgICAgICAgICBEIC0gRSAtIEZcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXlxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUaGUgd29yay1pbi1wcm9ncmVzcyBxdWV1ZSBoYXNcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc2VkIG1vcmUgdXBkYXRlcyB0aGFuIGN1cnJlbnQuXG4vL1xuLy8gVGhlIHJlYXNvbiB3ZSBhcHBlbmQgdG8gYm90aCBxdWV1ZXMgaXMgYmVjYXVzZSBvdGhlcndpc2Ugd2UgbWlnaHQgZHJvcFxuLy8gdXBkYXRlcyB3aXRob3V0IGV2ZXIgcHJvY2Vzc2luZyB0aGVtLiBGb3IgZXhhbXBsZSwgaWYgd2Ugb25seSBhZGQgdXBkYXRlcyB0b1xuLy8gdGhlIHdvcmstaW4tcHJvZ3Jlc3MgcXVldWUsIHNvbWUgdXBkYXRlcyBjb3VsZCBiZSBsb3N0IHdoZW5ldmVyIGEgd29yay1pblxuLy8gLXByb2dyZXNzIHJlbmRlciByZXN0YXJ0cyBieSBjbG9uaW5nIGZyb20gY3VycmVudC4gU2ltaWxhcmx5LCBpZiB3ZSBvbmx5IGFkZFxuLy8gdXBkYXRlcyB0byB0aGUgY3VycmVudCBxdWV1ZSwgdGhlIHVwZGF0ZXMgd2lsbCBiZSBsb3N0IHdoZW5ldmVyIGFuIGFscmVhZHlcbi8vIGluLXByb2dyZXNzIHF1ZXVlIGNvbW1pdHMgYW5kIHN3YXBzIHdpdGggdGhlIGN1cnJlbnQgcXVldWUuIEhvd2V2ZXIsIGJ5XG4vLyBhZGRpbmcgdG8gYm90aCBxdWV1ZXMsIHdlIGd1YXJhbnRlZSB0aGF0IHRoZSB1cGRhdGUgd2lsbCBiZSBwYXJ0IG9mIHRoZSBuZXh0XG4vLyB3b3JrLWluLXByb2dyZXNzLiAoQW5kIGJlY2F1c2UgdGhlIHdvcmstaW4tcHJvZ3Jlc3MgcXVldWUgYmVjb21lcyB0aGVcbi8vIGN1cnJlbnQgcXVldWUgb25jZSBpdCBjb21taXRzLCB0aGVyZSdzIG5vIGRhbmdlciBvZiBhcHBseWluZyB0aGUgc2FtZVxuLy8gdXBkYXRlIHR3aWNlLilcbi8vXG4vLyBQcmlvcml0aXphdGlvblxuLy8gLS0tLS0tLS0tLS0tLS1cbi8vXG4vLyBVcGRhdGVzIGFyZSBub3Qgc29ydGVkIGJ5IHByaW9yaXR5LCBidXQgYnkgaW5zZXJ0aW9uOyBuZXcgdXBkYXRlcyBhcmUgYWx3YXlzXG4vLyBhcHBlbmRlZCB0byB0aGUgZW5kIG9mIHRoZSBsaXN0LlxuLy9cbi8vIFRoZSBwcmlvcml0eSBpcyBzdGlsbCBpbXBvcnRhbnQsIHRob3VnaC4gV2hlbiBwcm9jZXNzaW5nIHRoZSB1cGRhdGUgcXVldWVcbi8vIGR1cmluZyB0aGUgcmVuZGVyIHBoYXNlLCBvbmx5IHRoZSB1cGRhdGVzIHdpdGggc3VmZmljaWVudCBwcmlvcml0eSBhcmVcbi8vIGluY2x1ZGVkIGluIHRoZSByZXN1bHQuIElmIHdlIHNraXAgYW4gdXBkYXRlIGJlY2F1c2UgaXQgaGFzIGluc3VmZmljaWVudFxuLy8gcHJpb3JpdHksIGl0IHJlbWFpbnMgaW4gdGhlIHF1ZXVlIHRvIGJlIHByb2Nlc3NlZCBsYXRlciwgZHVyaW5nIGEgbG93ZXJcbi8vIHByaW9yaXR5IHJlbmRlci4gQ3J1Y2lhbGx5LCBhbGwgdXBkYXRlcyBzdWJzZXF1ZW50IHRvIGEgc2tpcHBlZCB1cGRhdGUgYWxzb1xuLy8gcmVtYWluIGluIHRoZSBxdWV1ZSAqcmVnYXJkbGVzcyBvZiB0aGVpciBwcmlvcml0eSouIFRoYXQgbWVhbnMgaGlnaCBwcmlvcml0eVxuLy8gdXBkYXRlcyBhcmUgc29tZXRpbWVzIHByb2Nlc3NlZCB0d2ljZSwgYXQgdHdvIHNlcGFyYXRlIHByaW9yaXRpZXMuIFdlIGFsc29cbi8vIGtlZXAgdHJhY2sgb2YgYSBiYXNlIHN0YXRlLCB0aGF0IHJlcHJlc2VudHMgdGhlIHN0YXRlIGJlZm9yZSB0aGUgZmlyc3Rcbi8vIHVwZGF0ZSBpbiB0aGUgcXVldWUgaXMgYXBwbGllZC5cbi8vXG4vLyBGb3IgZXhhbXBsZTpcbi8vXG4vLyAgIEdpdmVuIGEgYmFzZSBzdGF0ZSBvZiAnJywgYW5kIHRoZSBmb2xsb3dpbmcgcXVldWUgb2YgdXBkYXRlc1xuLy9cbi8vICAgICBBMSAtIEIyIC0gQzEgLSBEMlxuLy9cbi8vICAgd2hlcmUgdGhlIG51bWJlciBpbmRpY2F0ZXMgdGhlIHByaW9yaXR5LCBhbmQgdGhlIHVwZGF0ZSBpcyBhcHBsaWVkIHRvIHRoZVxuLy8gICBwcmV2aW91cyBzdGF0ZSBieSBhcHBlbmRpbmcgYSBsZXR0ZXIsIFJlYWN0IHdpbGwgcHJvY2VzcyB0aGVzZSB1cGRhdGVzIGFzXG4vLyAgIHR3byBzZXBhcmF0ZSByZW5kZXJzLCBvbmUgcGVyIGRpc3RpbmN0IHByaW9yaXR5IGxldmVsOlxuLy9cbi8vICAgRmlyc3QgcmVuZGVyLCBhdCBwcmlvcml0eSAxOlxuLy8gICAgIEJhc2Ugc3RhdGU6ICcnXG4vLyAgICAgVXBkYXRlczogW0ExLCBDMV1cbi8vICAgICBSZXN1bHQgc3RhdGU6ICdBQydcbi8vXG4vLyAgIFNlY29uZCByZW5kZXIsIGF0IHByaW9yaXR5IDI6XG4vLyAgICAgQmFzZSBzdGF0ZTogJ0EnICAgICAgICAgICAgPC0gIFRoZSBiYXNlIHN0YXRlIGRvZXMgbm90IGluY2x1ZGUgQzEsXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlY2F1c2UgQjIgd2FzIHNraXBwZWQuXG4vLyAgICAgVXBkYXRlczogW0IyLCBDMSwgRDJdICAgICAgPC0gIEMxIHdhcyByZWJhc2VkIG9uIHRvcCBvZiBCMlxuLy8gICAgIFJlc3VsdCBzdGF0ZTogJ0FCQ0QnXG4vL1xuLy8gQmVjYXVzZSB3ZSBwcm9jZXNzIHVwZGF0ZXMgaW4gaW5zZXJ0aW9uIG9yZGVyLCBhbmQgcmViYXNlIGhpZ2ggcHJpb3JpdHlcbi8vIHVwZGF0ZXMgd2hlbiBwcmVjZWRpbmcgdXBkYXRlcyBhcmUgc2tpcHBlZCwgdGhlIGZpbmFsIHJlc3VsdCBpcyBkZXRlcm1pbmlzdGljXG4vLyByZWdhcmRsZXNzIG9mIHByaW9yaXR5LiBJbnRlcm1lZGlhdGUgc3RhdGUgbWF5IHZhcnkgYWNjb3JkaW5nIHRvIHN5c3RlbVxuLy8gcmVzb3VyY2VzLCBidXQgdGhlIGZpbmFsIHN0YXRlIGlzIGFsd2F5cyB0aGUgc2FtZS5cbnZhciBVcGRhdGVTdGF0ZSA9IDA7XG52YXIgUmVwbGFjZVN0YXRlID0gMTtcbnZhciBGb3JjZVVwZGF0ZSA9IDI7XG52YXIgQ2FwdHVyZVVwZGF0ZSA9IDM7IC8vIEdsb2JhbCBzdGF0ZSB0aGF0IGlzIHJlc2V0IGF0IHRoZSBiZWdpbm5pbmcgb2YgY2FsbGluZyBgcHJvY2Vzc1VwZGF0ZVF1ZXVlYC5cbi8vIEl0IHNob3VsZCBvbmx5IGJlIHJlYWQgcmlnaHQgYWZ0ZXIgY2FsbGluZyBgcHJvY2Vzc1VwZGF0ZVF1ZXVlYCwgdmlhXG4vLyBgY2hlY2tIYXNGb3JjZVVwZGF0ZUFmdGVyUHJvY2Vzc2luZ2AuXG5cbnZhciBoYXNGb3JjZVVwZGF0ZSA9IGZhbHNlO1xudmFyIGRpZFdhcm5VcGRhdGVJbnNpZGVVcGRhdGU7XG52YXIgY3VycmVudGx5UHJvY2Vzc2luZ1F1ZXVlO1xuXG5cbntcbiAgZGlkV2FyblVwZGF0ZUluc2lkZVVwZGF0ZSA9IGZhbHNlO1xuICBjdXJyZW50bHlQcm9jZXNzaW5nUXVldWUgPSBudWxsO1xuXG4gIFxufVxuXG5mdW5jdGlvbiBjcmVhdGVVcGRhdGVRdWV1ZShiYXNlU3RhdGUpIHtcbiAgdmFyIHF1ZXVlID0ge1xuICAgIGJhc2VTdGF0ZTogYmFzZVN0YXRlLFxuICAgIGZpcnN0VXBkYXRlOiBudWxsLFxuICAgIGxhc3RVcGRhdGU6IG51bGwsXG4gICAgZmlyc3RDYXB0dXJlZFVwZGF0ZTogbnVsbCxcbiAgICBsYXN0Q2FwdHVyZWRVcGRhdGU6IG51bGwsXG4gICAgZmlyc3RFZmZlY3Q6IG51bGwsXG4gICAgbGFzdEVmZmVjdDogbnVsbCxcbiAgICBmaXJzdENhcHR1cmVkRWZmZWN0OiBudWxsLFxuICAgIGxhc3RDYXB0dXJlZEVmZmVjdDogbnVsbFxuICB9O1xuICByZXR1cm4gcXVldWU7XG59XG5cbmZ1bmN0aW9uIGNsb25lVXBkYXRlUXVldWUoY3VycmVudFF1ZXVlKSB7XG4gIHZhciBxdWV1ZSA9IHtcbiAgICBiYXNlU3RhdGU6IGN1cnJlbnRRdWV1ZS5iYXNlU3RhdGUsXG4gICAgZmlyc3RVcGRhdGU6IGN1cnJlbnRRdWV1ZS5maXJzdFVwZGF0ZSxcbiAgICBsYXN0VXBkYXRlOiBjdXJyZW50UXVldWUubGFzdFVwZGF0ZSxcbiAgICAvLyBUT0RPOiBXaXRoIHJlc3VtaW5nLCBpZiB3ZSBiYWlsIG91dCBhbmQgcmVzdXNlIHRoZSBjaGlsZCB0cmVlLCB3ZSBzaG91bGRcbiAgICAvLyBrZWVwIHRoZXNlIGVmZmVjdHMuXG4gICAgZmlyc3RDYXB0dXJlZFVwZGF0ZTogbnVsbCxcbiAgICBsYXN0Q2FwdHVyZWRVcGRhdGU6IG51bGwsXG4gICAgZmlyc3RFZmZlY3Q6IG51bGwsXG4gICAgbGFzdEVmZmVjdDogbnVsbCxcbiAgICBmaXJzdENhcHR1cmVkRWZmZWN0OiBudWxsLFxuICAgIGxhc3RDYXB0dXJlZEVmZmVjdDogbnVsbFxuICB9O1xuICByZXR1cm4gcXVldWU7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVVwZGF0ZShleHBpcmF0aW9uVGltZSwgc3VzcGVuc2VDb25maWcpIHtcbiAgdmFyIHVwZGF0ZSA9IHtcbiAgICBleHBpcmF0aW9uVGltZTogZXhwaXJhdGlvblRpbWUsXG4gICAgc3VzcGVuc2VDb25maWc6IHN1c3BlbnNlQ29uZmlnLFxuICAgIHRhZzogVXBkYXRlU3RhdGUsXG4gICAgcGF5bG9hZDogbnVsbCxcbiAgICBjYWxsYmFjazogbnVsbCxcbiAgICBuZXh0OiBudWxsLFxuICAgIG5leHRFZmZlY3Q6IG51bGxcbiAgfTtcblxuICB7XG4gICAgdXBkYXRlLnByaW9yaXR5ID0gZ2V0Q3VycmVudFByaW9yaXR5TGV2ZWwoKTtcbiAgfVxuXG4gIHJldHVybiB1cGRhdGU7XG59XG5cbmZ1bmN0aW9uIGFwcGVuZFVwZGF0ZVRvUXVldWUocXVldWUsIHVwZGF0ZSkge1xuICAvLyBBcHBlbmQgdGhlIHVwZGF0ZSB0byB0aGUgZW5kIG9mIHRoZSBsaXN0LlxuICBpZiAocXVldWUubGFzdFVwZGF0ZSA9PT0gbnVsbCkge1xuICAgIC8vIFF1ZXVlIGlzIGVtcHR5XG4gICAgcXVldWUuZmlyc3RVcGRhdGUgPSBxdWV1ZS5sYXN0VXBkYXRlID0gdXBkYXRlO1xuICB9IGVsc2Uge1xuICAgIHF1ZXVlLmxhc3RVcGRhdGUubmV4dCA9IHVwZGF0ZTtcbiAgICBxdWV1ZS5sYXN0VXBkYXRlID0gdXBkYXRlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGVucXVldWVVcGRhdGUoZmliZXIsIHVwZGF0ZSkge1xuICAvLyBVcGRhdGUgcXVldWVzIGFyZSBjcmVhdGVkIGxhemlseS5cbiAgdmFyIGFsdGVybmF0ZSA9IGZpYmVyLmFsdGVybmF0ZTtcbiAgdmFyIHF1ZXVlMTtcbiAgdmFyIHF1ZXVlMjtcblxuICBpZiAoYWx0ZXJuYXRlID09PSBudWxsKSB7XG4gICAgLy8gVGhlcmUncyBvbmx5IG9uZSBmaWJlci5cbiAgICBxdWV1ZTEgPSBmaWJlci51cGRhdGVRdWV1ZTtcbiAgICBxdWV1ZTIgPSBudWxsO1xuXG4gICAgaWYgKHF1ZXVlMSA9PT0gbnVsbCkge1xuICAgICAgcXVldWUxID0gZmliZXIudXBkYXRlUXVldWUgPSBjcmVhdGVVcGRhdGVRdWV1ZShmaWJlci5tZW1vaXplZFN0YXRlKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gVGhlcmUgYXJlIHR3byBvd25lcnMuXG4gICAgcXVldWUxID0gZmliZXIudXBkYXRlUXVldWU7XG4gICAgcXVldWUyID0gYWx0ZXJuYXRlLnVwZGF0ZVF1ZXVlO1xuXG4gICAgaWYgKHF1ZXVlMSA9PT0gbnVsbCkge1xuICAgICAgaWYgKHF1ZXVlMiA9PT0gbnVsbCkge1xuICAgICAgICAvLyBOZWl0aGVyIGZpYmVyIGhhcyBhbiB1cGRhdGUgcXVldWUuIENyZWF0ZSBuZXcgb25lcy5cbiAgICAgICAgcXVldWUxID0gZmliZXIudXBkYXRlUXVldWUgPSBjcmVhdGVVcGRhdGVRdWV1ZShmaWJlci5tZW1vaXplZFN0YXRlKTtcbiAgICAgICAgcXVldWUyID0gYWx0ZXJuYXRlLnVwZGF0ZVF1ZXVlID0gY3JlYXRlVXBkYXRlUXVldWUoYWx0ZXJuYXRlLm1lbW9pemVkU3RhdGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gT25seSBvbmUgZmliZXIgaGFzIGFuIHVwZGF0ZSBxdWV1ZS4gQ2xvbmUgdG8gY3JlYXRlIGEgbmV3IG9uZS5cbiAgICAgICAgcXVldWUxID0gZmliZXIudXBkYXRlUXVldWUgPSBjbG9uZVVwZGF0ZVF1ZXVlKHF1ZXVlMik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChxdWV1ZTIgPT09IG51bGwpIHtcbiAgICAgICAgLy8gT25seSBvbmUgZmliZXIgaGFzIGFuIHVwZGF0ZSBxdWV1ZS4gQ2xvbmUgdG8gY3JlYXRlIGEgbmV3IG9uZS5cbiAgICAgICAgcXVldWUyID0gYWx0ZXJuYXRlLnVwZGF0ZVF1ZXVlID0gY2xvbmVVcGRhdGVRdWV1ZShxdWV1ZTEpO1xuICAgICAgfSBlbHNlIHsvLyBCb3RoIG93bmVycyBoYXZlIGFuIHVwZGF0ZSBxdWV1ZS5cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAocXVldWUyID09PSBudWxsIHx8IHF1ZXVlMSA9PT0gcXVldWUyKSB7XG4gICAgLy8gVGhlcmUncyBvbmx5IGEgc2luZ2xlIHF1ZXVlLlxuICAgIGFwcGVuZFVwZGF0ZVRvUXVldWUocXVldWUxLCB1cGRhdGUpO1xuICB9IGVsc2Uge1xuICAgIC8vIFRoZXJlIGFyZSB0d28gcXVldWVzLiBXZSBuZWVkIHRvIGFwcGVuZCB0aGUgdXBkYXRlIHRvIGJvdGggcXVldWVzLFxuICAgIC8vIHdoaWxlIGFjY291bnRpbmcgZm9yIHRoZSBwZXJzaXN0ZW50IHN0cnVjdHVyZSBvZiB0aGUgbGlzdCDigJQgd2UgZG9uJ3RcbiAgICAvLyB3YW50IHRoZSBzYW1lIHVwZGF0ZSB0byBiZSBhZGRlZCBtdWx0aXBsZSB0aW1lcy5cbiAgICBpZiAocXVldWUxLmxhc3RVcGRhdGUgPT09IG51bGwgfHwgcXVldWUyLmxhc3RVcGRhdGUgPT09IG51bGwpIHtcbiAgICAgIC8vIE9uZSBvZiB0aGUgcXVldWVzIGlzIG5vdCBlbXB0eS4gV2UgbXVzdCBhZGQgdGhlIHVwZGF0ZSB0byBib3RoIHF1ZXVlcy5cbiAgICAgIGFwcGVuZFVwZGF0ZVRvUXVldWUocXVldWUxLCB1cGRhdGUpO1xuICAgICAgYXBwZW5kVXBkYXRlVG9RdWV1ZShxdWV1ZTIsIHVwZGF0ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEJvdGggcXVldWVzIGFyZSBub24tZW1wdHkuIFRoZSBsYXN0IHVwZGF0ZSBpcyB0aGUgc2FtZSBpbiBib3RoIGxpc3RzLFxuICAgICAgLy8gYmVjYXVzZSBvZiBzdHJ1Y3R1cmFsIHNoYXJpbmcuIFNvLCBvbmx5IGFwcGVuZCB0byBvbmUgb2YgdGhlIGxpc3RzLlxuICAgICAgYXBwZW5kVXBkYXRlVG9RdWV1ZShxdWV1ZTEsIHVwZGF0ZSk7IC8vIEJ1dCB3ZSBzdGlsbCBuZWVkIHRvIHVwZGF0ZSB0aGUgYGxhc3RVcGRhdGVgIHBvaW50ZXIgb2YgcXVldWUyLlxuXG4gICAgICBxdWV1ZTIubGFzdFVwZGF0ZSA9IHVwZGF0ZTtcbiAgICB9XG4gIH1cblxuICB7XG4gICAgaWYgKGZpYmVyLnRhZyA9PT0gQ2xhc3NDb21wb25lbnQgJiYgKGN1cnJlbnRseVByb2Nlc3NpbmdRdWV1ZSA9PT0gcXVldWUxIHx8IHF1ZXVlMiAhPT0gbnVsbCAmJiBjdXJyZW50bHlQcm9jZXNzaW5nUXVldWUgPT09IHF1ZXVlMikgJiYgIWRpZFdhcm5VcGRhdGVJbnNpZGVVcGRhdGUpIHtcbiAgICAgIHdhcm5pbmdXaXRob3V0U3RhY2skMShmYWxzZSwgJ0FuIHVwZGF0ZSAoc2V0U3RhdGUsIHJlcGxhY2VTdGF0ZSwgb3IgZm9yY2VVcGRhdGUpIHdhcyBzY2hlZHVsZWQgJyArICdmcm9tIGluc2lkZSBhbiB1cGRhdGUgZnVuY3Rpb24uIFVwZGF0ZSBmdW5jdGlvbnMgc2hvdWxkIGJlIHB1cmUsICcgKyAnd2l0aCB6ZXJvIHNpZGUtZWZmZWN0cy4gQ29uc2lkZXIgdXNpbmcgY29tcG9uZW50RGlkVXBkYXRlIG9yIGEgJyArICdjYWxsYmFjay4nKTtcbiAgICAgIGRpZFdhcm5VcGRhdGVJbnNpZGVVcGRhdGUgPSB0cnVlO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gZW5xdWV1ZUNhcHR1cmVkVXBkYXRlKHdvcmtJblByb2dyZXNzLCB1cGRhdGUpIHtcbiAgLy8gQ2FwdHVyZWQgdXBkYXRlcyBnbyBpbnRvIGEgc2VwYXJhdGUgbGlzdCwgYW5kIG9ubHkgb24gdGhlIHdvcmstaW4tXG4gIC8vIHByb2dyZXNzIHF1ZXVlLlxuICB2YXIgd29ya0luUHJvZ3Jlc3NRdWV1ZSA9IHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlO1xuXG4gIGlmICh3b3JrSW5Qcm9ncmVzc1F1ZXVlID09PSBudWxsKSB7XG4gICAgd29ya0luUHJvZ3Jlc3NRdWV1ZSA9IHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlID0gY3JlYXRlVXBkYXRlUXVldWUod29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSk7XG4gIH0gZWxzZSB7XG4gICAgLy8gVE9ETzogSSBwdXQgdGhpcyBoZXJlIHJhdGhlciB0aGFuIGNyZWF0ZVdvcmtJblByb2dyZXNzIHNvIHRoYXQgd2UgZG9uJ3RcbiAgICAvLyBjbG9uZSB0aGUgcXVldWUgdW5uZWNlc3NhcmlseS4gVGhlcmUncyBwcm9iYWJseSBhIGJldHRlciB3YXkgdG9cbiAgICAvLyBzdHJ1Y3R1cmUgdGhpcy5cbiAgICB3b3JrSW5Qcm9ncmVzc1F1ZXVlID0gZW5zdXJlV29ya0luUHJvZ3Jlc3NRdWV1ZUlzQUNsb25lKHdvcmtJblByb2dyZXNzLCB3b3JrSW5Qcm9ncmVzc1F1ZXVlKTtcbiAgfSAvLyBBcHBlbmQgdGhlIHVwZGF0ZSB0byB0aGUgZW5kIG9mIHRoZSBsaXN0LlxuXG5cbiAgaWYgKHdvcmtJblByb2dyZXNzUXVldWUubGFzdENhcHR1cmVkVXBkYXRlID09PSBudWxsKSB7XG4gICAgLy8gVGhpcyBpcyB0aGUgZmlyc3QgcmVuZGVyIHBoYXNlIHVwZGF0ZVxuICAgIHdvcmtJblByb2dyZXNzUXVldWUuZmlyc3RDYXB0dXJlZFVwZGF0ZSA9IHdvcmtJblByb2dyZXNzUXVldWUubGFzdENhcHR1cmVkVXBkYXRlID0gdXBkYXRlO1xuICB9IGVsc2Uge1xuICAgIHdvcmtJblByb2dyZXNzUXVldWUubGFzdENhcHR1cmVkVXBkYXRlLm5leHQgPSB1cGRhdGU7XG4gICAgd29ya0luUHJvZ3Jlc3NRdWV1ZS5sYXN0Q2FwdHVyZWRVcGRhdGUgPSB1cGRhdGU7XG4gIH1cbn1cblxuZnVuY3Rpb24gZW5zdXJlV29ya0luUHJvZ3Jlc3NRdWV1ZUlzQUNsb25lKHdvcmtJblByb2dyZXNzLCBxdWV1ZSkge1xuICB2YXIgY3VycmVudCA9IHdvcmtJblByb2dyZXNzLmFsdGVybmF0ZTtcblxuICBpZiAoY3VycmVudCAhPT0gbnVsbCkge1xuICAgIC8vIElmIHRoZSB3b3JrLWluLXByb2dyZXNzIHF1ZXVlIGlzIGVxdWFsIHRvIHRoZSBjdXJyZW50IHF1ZXVlLFxuICAgIC8vIHdlIG5lZWQgdG8gY2xvbmUgaXQgZmlyc3QuXG4gICAgaWYgKHF1ZXVlID09PSBjdXJyZW50LnVwZGF0ZVF1ZXVlKSB7XG4gICAgICBxdWV1ZSA9IHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlID0gY2xvbmVVcGRhdGVRdWV1ZShxdWV1ZSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHF1ZXVlO1xufVxuXG5mdW5jdGlvbiBnZXRTdGF0ZUZyb21VcGRhdGUod29ya0luUHJvZ3Jlc3MsIHF1ZXVlLCB1cGRhdGUsIHByZXZTdGF0ZSwgbmV4dFByb3BzLCBpbnN0YW5jZSkge1xuICBzd2l0Y2ggKHVwZGF0ZS50YWcpIHtcbiAgICBjYXNlIFJlcGxhY2VTdGF0ZTpcbiAgICAgIHtcbiAgICAgICAgdmFyIHBheWxvYWQgPSB1cGRhdGUucGF5bG9hZDtcblxuICAgICAgICBpZiAodHlwZW9mIHBheWxvYWQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAvLyBVcGRhdGVyIGZ1bmN0aW9uXG4gICAgICAgICAge1xuICAgICAgICAgICAgZW50ZXJEaXNhbGxvd2VkQ29udGV4dFJlYWRJbkRFVigpO1xuXG4gICAgICAgICAgICBpZiAoZGVidWdSZW5kZXJQaGFzZVNpZGVFZmZlY3RzRm9yU3RyaWN0TW9kZSAmJiB3b3JrSW5Qcm9ncmVzcy5tb2RlICYgU3RyaWN0TW9kZSkge1xuICAgICAgICAgICAgICBwYXlsb2FkLmNhbGwoaW5zdGFuY2UsIHByZXZTdGF0ZSwgbmV4dFByb3BzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgbmV4dFN0YXRlID0gcGF5bG9hZC5jYWxsKGluc3RhbmNlLCBwcmV2U3RhdGUsIG5leHRQcm9wcyk7XG5cbiAgICAgICAgICB7XG4gICAgICAgICAgICBleGl0RGlzYWxsb3dlZENvbnRleHRSZWFkSW5ERVYoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gbmV4dFN0YXRlO1xuICAgICAgICB9IC8vIFN0YXRlIG9iamVjdFxuXG5cbiAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgICB9XG5cbiAgICBjYXNlIENhcHR1cmVVcGRhdGU6XG4gICAgICB7XG4gICAgICAgIHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyA9IHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyAmIH5TaG91bGRDYXB0dXJlIHwgRGlkQ2FwdHVyZTtcbiAgICAgIH1cbiAgICAvLyBJbnRlbnRpb25hbCBmYWxsdGhyb3VnaFxuXG4gICAgY2FzZSBVcGRhdGVTdGF0ZTpcbiAgICAgIHtcbiAgICAgICAgdmFyIF9wYXlsb2FkID0gdXBkYXRlLnBheWxvYWQ7XG4gICAgICAgIHZhciBwYXJ0aWFsU3RhdGU7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBfcGF5bG9hZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIC8vIFVwZGF0ZXIgZnVuY3Rpb25cbiAgICAgICAgICB7XG4gICAgICAgICAgICBlbnRlckRpc2FsbG93ZWRDb250ZXh0UmVhZEluREVWKCk7XG5cbiAgICAgICAgICAgIGlmIChkZWJ1Z1JlbmRlclBoYXNlU2lkZUVmZmVjdHNGb3JTdHJpY3RNb2RlICYmIHdvcmtJblByb2dyZXNzLm1vZGUgJiBTdHJpY3RNb2RlKSB7XG4gICAgICAgICAgICAgIF9wYXlsb2FkLmNhbGwoaW5zdGFuY2UsIHByZXZTdGF0ZSwgbmV4dFByb3BzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBwYXJ0aWFsU3RhdGUgPSBfcGF5bG9hZC5jYWxsKGluc3RhbmNlLCBwcmV2U3RhdGUsIG5leHRQcm9wcyk7XG5cbiAgICAgICAgICB7XG4gICAgICAgICAgICBleGl0RGlzYWxsb3dlZENvbnRleHRSZWFkSW5ERVYoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gUGFydGlhbCBzdGF0ZSBvYmplY3RcbiAgICAgICAgICBwYXJ0aWFsU3RhdGUgPSBfcGF5bG9hZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYXJ0aWFsU3RhdGUgPT09IG51bGwgfHwgcGFydGlhbFN0YXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAvLyBOdWxsIGFuZCB1bmRlZmluZWQgYXJlIHRyZWF0ZWQgYXMgbm8tb3BzLlxuICAgICAgICAgIHJldHVybiBwcmV2U3RhdGU7XG4gICAgICAgIH0gLy8gTWVyZ2UgdGhlIHBhcnRpYWwgc3RhdGUgYW5kIHRoZSBwcmV2aW91cyBzdGF0ZS5cblxuXG4gICAgICAgIHJldHVybiBfYXNzaWduKHt9LCBwcmV2U3RhdGUsIHBhcnRpYWxTdGF0ZSk7XG4gICAgICB9XG5cbiAgICBjYXNlIEZvcmNlVXBkYXRlOlxuICAgICAge1xuICAgICAgICBoYXNGb3JjZVVwZGF0ZSA9IHRydWU7XG4gICAgICAgIHJldHVybiBwcmV2U3RhdGU7XG4gICAgICB9XG4gIH1cblxuICByZXR1cm4gcHJldlN0YXRlO1xufVxuXG5mdW5jdGlvbiBwcm9jZXNzVXBkYXRlUXVldWUod29ya0luUHJvZ3Jlc3MsIHF1ZXVlLCBwcm9wcywgaW5zdGFuY2UsIHJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gIGhhc0ZvcmNlVXBkYXRlID0gZmFsc2U7XG4gIHF1ZXVlID0gZW5zdXJlV29ya0luUHJvZ3Jlc3NRdWV1ZUlzQUNsb25lKHdvcmtJblByb2dyZXNzLCBxdWV1ZSk7XG5cbiAge1xuICAgIGN1cnJlbnRseVByb2Nlc3NpbmdRdWV1ZSA9IHF1ZXVlO1xuICB9IC8vIFRoZXNlIHZhbHVlcyBtYXkgY2hhbmdlIGFzIHdlIHByb2Nlc3MgdGhlIHF1ZXVlLlxuXG5cbiAgdmFyIG5ld0Jhc2VTdGF0ZSA9IHF1ZXVlLmJhc2VTdGF0ZTtcbiAgdmFyIG5ld0ZpcnN0VXBkYXRlID0gbnVsbDtcbiAgdmFyIG5ld0V4cGlyYXRpb25UaW1lID0gTm9Xb3JrOyAvLyBJdGVyYXRlIHRocm91Z2ggdGhlIGxpc3Qgb2YgdXBkYXRlcyB0byBjb21wdXRlIHRoZSByZXN1bHQuXG5cbiAgdmFyIHVwZGF0ZSA9IHF1ZXVlLmZpcnN0VXBkYXRlO1xuICB2YXIgcmVzdWx0U3RhdGUgPSBuZXdCYXNlU3RhdGU7XG5cbiAgd2hpbGUgKHVwZGF0ZSAhPT0gbnVsbCkge1xuICAgIHZhciB1cGRhdGVFeHBpcmF0aW9uVGltZSA9IHVwZGF0ZS5leHBpcmF0aW9uVGltZTtcblxuICAgIGlmICh1cGRhdGVFeHBpcmF0aW9uVGltZSA8IHJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gICAgICAvLyBUaGlzIHVwZGF0ZSBkb2VzIG5vdCBoYXZlIHN1ZmZpY2llbnQgcHJpb3JpdHkuIFNraXAgaXQuXG4gICAgICBpZiAobmV3Rmlyc3RVcGRhdGUgPT09IG51bGwpIHtcbiAgICAgICAgLy8gVGhpcyBpcyB0aGUgZmlyc3Qgc2tpcHBlZCB1cGRhdGUuIEl0IHdpbGwgYmUgdGhlIGZpcnN0IHVwZGF0ZSBpblxuICAgICAgICAvLyB0aGUgbmV3IGxpc3QuXG4gICAgICAgIG5ld0ZpcnN0VXBkYXRlID0gdXBkYXRlOyAvLyBTaW5jZSB0aGlzIGlzIHRoZSBmaXJzdCB1cGRhdGUgdGhhdCB3YXMgc2tpcHBlZCwgdGhlIGN1cnJlbnQgcmVzdWx0XG4gICAgICAgIC8vIGlzIHRoZSBuZXcgYmFzZSBzdGF0ZS5cblxuICAgICAgICBuZXdCYXNlU3RhdGUgPSByZXN1bHRTdGF0ZTtcbiAgICAgIH0gLy8gU2luY2UgdGhpcyB1cGRhdGUgd2lsbCByZW1haW4gaW4gdGhlIGxpc3QsIHVwZGF0ZSB0aGUgcmVtYWluaW5nXG4gICAgICAvLyBleHBpcmF0aW9uIHRpbWUuXG5cblxuICAgICAgaWYgKG5ld0V4cGlyYXRpb25UaW1lIDwgdXBkYXRlRXhwaXJhdGlvblRpbWUpIHtcbiAgICAgICAgbmV3RXhwaXJhdGlvblRpbWUgPSB1cGRhdGVFeHBpcmF0aW9uVGltZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVGhpcyB1cGRhdGUgZG9lcyBoYXZlIHN1ZmZpY2llbnQgcHJpb3JpdHkuXG4gICAgICAvLyBNYXJrIHRoZSBldmVudCB0aW1lIG9mIHRoaXMgdXBkYXRlIGFzIHJlbGV2YW50IHRvIHRoaXMgcmVuZGVyIHBhc3MuXG4gICAgICAvLyBUT0RPOiBUaGlzIHNob3VsZCBpZGVhbGx5IHVzZSB0aGUgdHJ1ZSBldmVudCB0aW1lIG9mIHRoaXMgdXBkYXRlIHJhdGhlciB0aGFuXG4gICAgICAvLyBpdHMgcHJpb3JpdHkgd2hpY2ggaXMgYSBkZXJpdmVkIGFuZCBub3QgcmV2ZXJzZWFibGUgdmFsdWUuXG4gICAgICAvLyBUT0RPOiBXZSBzaG91bGQgc2tpcCB0aGlzIHVwZGF0ZSBpZiBpdCB3YXMgYWxyZWFkeSBjb21taXR0ZWQgYnV0IGN1cnJlbnRseVxuICAgICAgLy8gd2UgaGF2ZSBubyB3YXkgb2YgZGV0ZWN0aW5nIHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gYSBjb21taXR0ZWQgYW5kIHN1c3BlbmRlZFxuICAgICAgLy8gdXBkYXRlIGhlcmUuXG4gICAgICBtYXJrUmVuZGVyRXZlbnRUaW1lQW5kQ29uZmlnKHVwZGF0ZUV4cGlyYXRpb25UaW1lLCB1cGRhdGUuc3VzcGVuc2VDb25maWcpOyAvLyBQcm9jZXNzIGl0IGFuZCBjb21wdXRlIGEgbmV3IHJlc3VsdC5cblxuICAgICAgcmVzdWx0U3RhdGUgPSBnZXRTdGF0ZUZyb21VcGRhdGUod29ya0luUHJvZ3Jlc3MsIHF1ZXVlLCB1cGRhdGUsIHJlc3VsdFN0YXRlLCBwcm9wcywgaW5zdGFuY2UpO1xuICAgICAgdmFyIGNhbGxiYWNrID0gdXBkYXRlLmNhbGxiYWNrO1xuXG4gICAgICBpZiAoY2FsbGJhY2sgIT09IG51bGwpIHtcbiAgICAgICAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnIHw9IENhbGxiYWNrOyAvLyBTZXQgdGhpcyB0byBudWxsLCBpbiBjYXNlIGl0IHdhcyBtdXRhdGVkIGR1cmluZyBhbiBhYm9ydGVkIHJlbmRlci5cblxuICAgICAgICB1cGRhdGUubmV4dEVmZmVjdCA9IG51bGw7XG5cbiAgICAgICAgaWYgKHF1ZXVlLmxhc3RFZmZlY3QgPT09IG51bGwpIHtcbiAgICAgICAgICBxdWV1ZS5maXJzdEVmZmVjdCA9IHF1ZXVlLmxhc3RFZmZlY3QgPSB1cGRhdGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcXVldWUubGFzdEVmZmVjdC5uZXh0RWZmZWN0ID0gdXBkYXRlO1xuICAgICAgICAgIHF1ZXVlLmxhc3RFZmZlY3QgPSB1cGRhdGU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IC8vIENvbnRpbnVlIHRvIHRoZSBuZXh0IHVwZGF0ZS5cblxuXG4gICAgdXBkYXRlID0gdXBkYXRlLm5leHQ7XG4gIH0gLy8gU2VwYXJhdGVseSwgaXRlcmF0ZSB0aG91Z2ggdGhlIGxpc3Qgb2YgY2FwdHVyZWQgdXBkYXRlcy5cblxuXG4gIHZhciBuZXdGaXJzdENhcHR1cmVkVXBkYXRlID0gbnVsbDtcbiAgdXBkYXRlID0gcXVldWUuZmlyc3RDYXB0dXJlZFVwZGF0ZTtcblxuICB3aGlsZSAodXBkYXRlICE9PSBudWxsKSB7XG4gICAgdmFyIF91cGRhdGVFeHBpcmF0aW9uVGltZSA9IHVwZGF0ZS5leHBpcmF0aW9uVGltZTtcblxuICAgIGlmIChfdXBkYXRlRXhwaXJhdGlvblRpbWUgPCByZW5kZXJFeHBpcmF0aW9uVGltZSkge1xuICAgICAgLy8gVGhpcyB1cGRhdGUgZG9lcyBub3QgaGF2ZSBzdWZmaWNpZW50IHByaW9yaXR5LiBTa2lwIGl0LlxuICAgICAgaWYgKG5ld0ZpcnN0Q2FwdHVyZWRVcGRhdGUgPT09IG51bGwpIHtcbiAgICAgICAgLy8gVGhpcyBpcyB0aGUgZmlyc3Qgc2tpcHBlZCBjYXB0dXJlZCB1cGRhdGUuIEl0IHdpbGwgYmUgdGhlIGZpcnN0XG4gICAgICAgIC8vIHVwZGF0ZSBpbiB0aGUgbmV3IGxpc3QuXG4gICAgICAgIG5ld0ZpcnN0Q2FwdHVyZWRVcGRhdGUgPSB1cGRhdGU7IC8vIElmIHRoaXMgaXMgdGhlIGZpcnN0IHVwZGF0ZSB0aGF0IHdhcyBza2lwcGVkLCB0aGUgY3VycmVudCByZXN1bHQgaXNcbiAgICAgICAgLy8gdGhlIG5ldyBiYXNlIHN0YXRlLlxuXG4gICAgICAgIGlmIChuZXdGaXJzdFVwZGF0ZSA9PT0gbnVsbCkge1xuICAgICAgICAgIG5ld0Jhc2VTdGF0ZSA9IHJlc3VsdFN0YXRlO1xuICAgICAgICB9XG4gICAgICB9IC8vIFNpbmNlIHRoaXMgdXBkYXRlIHdpbGwgcmVtYWluIGluIHRoZSBsaXN0LCB1cGRhdGUgdGhlIHJlbWFpbmluZ1xuICAgICAgLy8gZXhwaXJhdGlvbiB0aW1lLlxuXG5cbiAgICAgIGlmIChuZXdFeHBpcmF0aW9uVGltZSA8IF91cGRhdGVFeHBpcmF0aW9uVGltZSkge1xuICAgICAgICBuZXdFeHBpcmF0aW9uVGltZSA9IF91cGRhdGVFeHBpcmF0aW9uVGltZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVGhpcyB1cGRhdGUgZG9lcyBoYXZlIHN1ZmZpY2llbnQgcHJpb3JpdHkuIFByb2Nlc3MgaXQgYW5kIGNvbXB1dGVcbiAgICAgIC8vIGEgbmV3IHJlc3VsdC5cbiAgICAgIHJlc3VsdFN0YXRlID0gZ2V0U3RhdGVGcm9tVXBkYXRlKHdvcmtJblByb2dyZXNzLCBxdWV1ZSwgdXBkYXRlLCByZXN1bHRTdGF0ZSwgcHJvcHMsIGluc3RhbmNlKTtcbiAgICAgIHZhciBfY2FsbGJhY2sgPSB1cGRhdGUuY2FsbGJhY2s7XG5cbiAgICAgIGlmIChfY2FsbGJhY2sgIT09IG51bGwpIHtcbiAgICAgICAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnIHw9IENhbGxiYWNrOyAvLyBTZXQgdGhpcyB0byBudWxsLCBpbiBjYXNlIGl0IHdhcyBtdXRhdGVkIGR1cmluZyBhbiBhYm9ydGVkIHJlbmRlci5cblxuICAgICAgICB1cGRhdGUubmV4dEVmZmVjdCA9IG51bGw7XG5cbiAgICAgICAgaWYgKHF1ZXVlLmxhc3RDYXB0dXJlZEVmZmVjdCA9PT0gbnVsbCkge1xuICAgICAgICAgIHF1ZXVlLmZpcnN0Q2FwdHVyZWRFZmZlY3QgPSBxdWV1ZS5sYXN0Q2FwdHVyZWRFZmZlY3QgPSB1cGRhdGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcXVldWUubGFzdENhcHR1cmVkRWZmZWN0Lm5leHRFZmZlY3QgPSB1cGRhdGU7XG4gICAgICAgICAgcXVldWUubGFzdENhcHR1cmVkRWZmZWN0ID0gdXBkYXRlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlID0gdXBkYXRlLm5leHQ7XG4gIH1cblxuICBpZiAobmV3Rmlyc3RVcGRhdGUgPT09IG51bGwpIHtcbiAgICBxdWV1ZS5sYXN0VXBkYXRlID0gbnVsbDtcbiAgfVxuXG4gIGlmIChuZXdGaXJzdENhcHR1cmVkVXBkYXRlID09PSBudWxsKSB7XG4gICAgcXVldWUubGFzdENhcHR1cmVkVXBkYXRlID0gbnVsbDtcbiAgfSBlbHNlIHtcbiAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gQ2FsbGJhY2s7XG4gIH1cblxuICBpZiAobmV3Rmlyc3RVcGRhdGUgPT09IG51bGwgJiYgbmV3Rmlyc3RDYXB0dXJlZFVwZGF0ZSA9PT0gbnVsbCkge1xuICAgIC8vIFdlIHByb2Nlc3NlZCBldmVyeSB1cGRhdGUsIHdpdGhvdXQgc2tpcHBpbmcuIFRoYXQgbWVhbnMgdGhlIG5ldyBiYXNlXG4gICAgLy8gc3RhdGUgaXMgdGhlIHNhbWUgYXMgdGhlIHJlc3VsdCBzdGF0ZS5cbiAgICBuZXdCYXNlU3RhdGUgPSByZXN1bHRTdGF0ZTtcbiAgfVxuXG4gIHF1ZXVlLmJhc2VTdGF0ZSA9IG5ld0Jhc2VTdGF0ZTtcbiAgcXVldWUuZmlyc3RVcGRhdGUgPSBuZXdGaXJzdFVwZGF0ZTtcbiAgcXVldWUuZmlyc3RDYXB0dXJlZFVwZGF0ZSA9IG5ld0ZpcnN0Q2FwdHVyZWRVcGRhdGU7IC8vIFNldCB0aGUgcmVtYWluaW5nIGV4cGlyYXRpb24gdGltZSB0byBiZSB3aGF0ZXZlciBpcyByZW1haW5pbmcgaW4gdGhlIHF1ZXVlLlxuICAvLyBUaGlzIHNob3VsZCBiZSBmaW5lIGJlY2F1c2UgdGhlIG9ubHkgdHdvIG90aGVyIHRoaW5ncyB0aGF0IGNvbnRyaWJ1dGUgdG9cbiAgLy8gZXhwaXJhdGlvbiB0aW1lIGFyZSBwcm9wcyBhbmQgY29udGV4dC4gV2UncmUgYWxyZWFkeSBpbiB0aGUgbWlkZGxlIG9mIHRoZVxuICAvLyBiZWdpbiBwaGFzZSBieSB0aGUgdGltZSB3ZSBzdGFydCBwcm9jZXNzaW5nIHRoZSBxdWV1ZSwgc28gd2UndmUgYWxyZWFkeVxuICAvLyBkZWFsdCB3aXRoIHRoZSBwcm9wcy4gQ29udGV4dCBpbiBjb21wb25lbnRzIHRoYXQgc3BlY2lmeVxuICAvLyBzaG91bGRDb21wb25lbnRVcGRhdGUgaXMgdHJpY2t5OyBidXQgd2UnbGwgaGF2ZSB0byBhY2NvdW50IGZvclxuICAvLyB0aGF0IHJlZ2FyZGxlc3MuXG5cbiAgbWFya1VucHJvY2Vzc2VkVXBkYXRlVGltZShuZXdFeHBpcmF0aW9uVGltZSk7XG4gIHdvcmtJblByb2dyZXNzLmV4cGlyYXRpb25UaW1lID0gbmV3RXhwaXJhdGlvblRpbWU7XG4gIHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPSByZXN1bHRTdGF0ZTtcblxuICB7XG4gICAgY3VycmVudGx5UHJvY2Vzc2luZ1F1ZXVlID0gbnVsbDtcbiAgfVxufVxuXG5mdW5jdGlvbiBjYWxsQ2FsbGJhY2soY2FsbGJhY2ssIGNvbnRleHQpIHtcbiAgaWYgKCEodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSkge1xuICAgIHtcbiAgICAgIHRocm93IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudCBwYXNzZWQgYXMgY2FsbGJhY2suIEV4cGVjdGVkIGEgZnVuY3Rpb24uIEluc3RlYWQgcmVjZWl2ZWQ6IFwiICsgY2FsbGJhY2spO1xuICAgIH1cbiAgfVxuXG4gIGNhbGxiYWNrLmNhbGwoY29udGV4dCk7XG59XG5cbmZ1bmN0aW9uIHJlc2V0SGFzRm9yY2VVcGRhdGVCZWZvcmVQcm9jZXNzaW5nKCkge1xuICBoYXNGb3JjZVVwZGF0ZSA9IGZhbHNlO1xufVxuZnVuY3Rpb24gY2hlY2tIYXNGb3JjZVVwZGF0ZUFmdGVyUHJvY2Vzc2luZygpIHtcbiAgcmV0dXJuIGhhc0ZvcmNlVXBkYXRlO1xufVxuZnVuY3Rpb24gY29tbWl0VXBkYXRlUXVldWUoZmluaXNoZWRXb3JrLCBmaW5pc2hlZFF1ZXVlLCBpbnN0YW5jZSwgcmVuZGVyRXhwaXJhdGlvblRpbWUpIHtcbiAgLy8gSWYgdGhlIGZpbmlzaGVkIHJlbmRlciBpbmNsdWRlZCBjYXB0dXJlZCB1cGRhdGVzLCBhbmQgdGhlcmUgYXJlIHN0aWxsXG4gIC8vIGxvd2VyIHByaW9yaXR5IHVwZGF0ZXMgbGVmdCBvdmVyLCB3ZSBuZWVkIHRvIGtlZXAgdGhlIGNhcHR1cmVkIHVwZGF0ZXNcbiAgLy8gaW4gdGhlIHF1ZXVlIHNvIHRoYXQgdGhleSBhcmUgcmViYXNlZCBhbmQgbm90IGRyb3BwZWQgb25jZSB3ZSBwcm9jZXNzIHRoZVxuICAvLyBxdWV1ZSBhZ2FpbiBhdCB0aGUgbG93ZXIgcHJpb3JpdHkuXG4gIGlmIChmaW5pc2hlZFF1ZXVlLmZpcnN0Q2FwdHVyZWRVcGRhdGUgIT09IG51bGwpIHtcbiAgICAvLyBKb2luIHRoZSBjYXB0dXJlZCB1cGRhdGUgbGlzdCB0byB0aGUgZW5kIG9mIHRoZSBub3JtYWwgbGlzdC5cbiAgICBpZiAoZmluaXNoZWRRdWV1ZS5sYXN0VXBkYXRlICE9PSBudWxsKSB7XG4gICAgICBmaW5pc2hlZFF1ZXVlLmxhc3RVcGRhdGUubmV4dCA9IGZpbmlzaGVkUXVldWUuZmlyc3RDYXB0dXJlZFVwZGF0ZTtcbiAgICAgIGZpbmlzaGVkUXVldWUubGFzdFVwZGF0ZSA9IGZpbmlzaGVkUXVldWUubGFzdENhcHR1cmVkVXBkYXRlO1xuICAgIH0gLy8gQ2xlYXIgdGhlIGxpc3Qgb2YgY2FwdHVyZWQgdXBkYXRlcy5cblxuXG4gICAgZmluaXNoZWRRdWV1ZS5maXJzdENhcHR1cmVkVXBkYXRlID0gZmluaXNoZWRRdWV1ZS5sYXN0Q2FwdHVyZWRVcGRhdGUgPSBudWxsO1xuICB9IC8vIENvbW1pdCB0aGUgZWZmZWN0c1xuXG5cbiAgY29tbWl0VXBkYXRlRWZmZWN0cyhmaW5pc2hlZFF1ZXVlLmZpcnN0RWZmZWN0LCBpbnN0YW5jZSk7XG4gIGZpbmlzaGVkUXVldWUuZmlyc3RFZmZlY3QgPSBmaW5pc2hlZFF1ZXVlLmxhc3RFZmZlY3QgPSBudWxsO1xuICBjb21taXRVcGRhdGVFZmZlY3RzKGZpbmlzaGVkUXVldWUuZmlyc3RDYXB0dXJlZEVmZmVjdCwgaW5zdGFuY2UpO1xuICBmaW5pc2hlZFF1ZXVlLmZpcnN0Q2FwdHVyZWRFZmZlY3QgPSBmaW5pc2hlZFF1ZXVlLmxhc3RDYXB0dXJlZEVmZmVjdCA9IG51bGw7XG59XG5cbmZ1bmN0aW9uIGNvbW1pdFVwZGF0ZUVmZmVjdHMoZWZmZWN0LCBpbnN0YW5jZSkge1xuICB3aGlsZSAoZWZmZWN0ICE9PSBudWxsKSB7XG4gICAgdmFyIGNhbGxiYWNrID0gZWZmZWN0LmNhbGxiYWNrO1xuXG4gICAgaWYgKGNhbGxiYWNrICE9PSBudWxsKSB7XG4gICAgICBlZmZlY3QuY2FsbGJhY2sgPSBudWxsO1xuICAgICAgY2FsbENhbGxiYWNrKGNhbGxiYWNrLCBpbnN0YW5jZSk7XG4gICAgfVxuXG4gICAgZWZmZWN0ID0gZWZmZWN0Lm5leHRFZmZlY3Q7XG4gIH1cbn1cblxudmFyIFJlYWN0Q3VycmVudEJhdGNoQ29uZmlnID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuUmVhY3RDdXJyZW50QmF0Y2hDb25maWc7XG5mdW5jdGlvbiByZXF1ZXN0Q3VycmVudFN1c3BlbnNlQ29uZmlnKCkge1xuICByZXR1cm4gUmVhY3RDdXJyZW50QmF0Y2hDb25maWcuc3VzcGVuc2U7XG59XG5cbnZhciBmYWtlSW50ZXJuYWxJbnN0YW5jZSA9IHt9O1xudmFyIGlzQXJyYXkkMSA9IEFycmF5LmlzQXJyYXk7IC8vIFJlYWN0LkNvbXBvbmVudCB1c2VzIGEgc2hhcmVkIGZyb3plbiBvYmplY3QgYnkgZGVmYXVsdC5cbi8vIFdlJ2xsIHVzZSBpdCB0byBkZXRlcm1pbmUgd2hldGhlciB3ZSBuZWVkIHRvIGluaXRpYWxpemUgbGVnYWN5IHJlZnMuXG5cbnZhciBlbXB0eVJlZnNPYmplY3QgPSBuZXcgUmVhY3QuQ29tcG9uZW50KCkucmVmcztcbnZhciBkaWRXYXJuQWJvdXRTdGF0ZUFzc2lnbm1lbnRGb3JDb21wb25lbnQ7XG52YXIgZGlkV2FybkFib3V0VW5pbml0aWFsaXplZFN0YXRlO1xudmFyIGRpZFdhcm5BYm91dEdldFNuYXBzaG90QmVmb3JlVXBkYXRlV2l0aG91dERpZFVwZGF0ZTtcbnZhciBkaWRXYXJuQWJvdXRMZWdhY3lMaWZlY3ljbGVzQW5kRGVyaXZlZFN0YXRlO1xudmFyIGRpZFdhcm5BYm91dFVuZGVmaW5lZERlcml2ZWRTdGF0ZTtcbnZhciB3YXJuT25VbmRlZmluZWREZXJpdmVkU3RhdGU7XG52YXIgd2Fybk9uSW52YWxpZENhbGxiYWNrJDE7XG52YXIgZGlkV2FybkFib3V0RGlyZWN0bHlBc3NpZ25pbmdQcm9wc1RvU3RhdGU7XG52YXIgZGlkV2FybkFib3V0Q29udGV4dFR5cGVBbmRDb250ZXh0VHlwZXM7XG52YXIgZGlkV2FybkFib3V0SW52YWxpZGF0ZUNvbnRleHRUeXBlO1xuXG57XG4gIGRpZFdhcm5BYm91dFN0YXRlQXNzaWdubWVudEZvckNvbXBvbmVudCA9IG5ldyBTZXQoKTtcbiAgZGlkV2FybkFib3V0VW5pbml0aWFsaXplZFN0YXRlID0gbmV3IFNldCgpO1xuICBkaWRXYXJuQWJvdXRHZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZVdpdGhvdXREaWRVcGRhdGUgPSBuZXcgU2V0KCk7XG4gIGRpZFdhcm5BYm91dExlZ2FjeUxpZmVjeWNsZXNBbmREZXJpdmVkU3RhdGUgPSBuZXcgU2V0KCk7XG4gIGRpZFdhcm5BYm91dERpcmVjdGx5QXNzaWduaW5nUHJvcHNUb1N0YXRlID0gbmV3IFNldCgpO1xuICBkaWRXYXJuQWJvdXRVbmRlZmluZWREZXJpdmVkU3RhdGUgPSBuZXcgU2V0KCk7XG4gIGRpZFdhcm5BYm91dENvbnRleHRUeXBlQW5kQ29udGV4dFR5cGVzID0gbmV3IFNldCgpO1xuICBkaWRXYXJuQWJvdXRJbnZhbGlkYXRlQ29udGV4dFR5cGUgPSBuZXcgU2V0KCk7XG4gIHZhciBkaWRXYXJuT25JbnZhbGlkQ2FsbGJhY2sgPSBuZXcgU2V0KCk7XG5cbiAgd2Fybk9uSW52YWxpZENhbGxiYWNrJDEgPSBmdW5jdGlvbiAoY2FsbGJhY2ssIGNhbGxlck5hbWUpIHtcbiAgICBpZiAoY2FsbGJhY2sgPT09IG51bGwgfHwgdHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGtleSA9IGNhbGxlck5hbWUgKyBcIl9cIiArIGNhbGxiYWNrO1xuXG4gICAgaWYgKCFkaWRXYXJuT25JbnZhbGlkQ2FsbGJhY2suaGFzKGtleSkpIHtcbiAgICAgIGRpZFdhcm5PbkludmFsaWRDYWxsYmFjay5hZGQoa2V5KTtcbiAgICAgIHdhcm5pbmdXaXRob3V0U3RhY2skMShmYWxzZSwgJyVzKC4uLik6IEV4cGVjdGVkIHRoZSBsYXN0IG9wdGlvbmFsIGBjYWxsYmFja2AgYXJndW1lbnQgdG8gYmUgYSAnICsgJ2Z1bmN0aW9uLiBJbnN0ZWFkIHJlY2VpdmVkOiAlcy4nLCBjYWxsZXJOYW1lLCBjYWxsYmFjayk7XG4gICAgfVxuICB9O1xuXG4gIHdhcm5PblVuZGVmaW5lZERlcml2ZWRTdGF0ZSA9IGZ1bmN0aW9uICh0eXBlLCBwYXJ0aWFsU3RhdGUpIHtcbiAgICBpZiAocGFydGlhbFN0YXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHZhciBjb21wb25lbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZSh0eXBlKSB8fCAnQ29tcG9uZW50JztcblxuICAgICAgaWYgKCFkaWRXYXJuQWJvdXRVbmRlZmluZWREZXJpdmVkU3RhdGUuaGFzKGNvbXBvbmVudE5hbWUpKSB7XG4gICAgICAgIGRpZFdhcm5BYm91dFVuZGVmaW5lZERlcml2ZWRTdGF0ZS5hZGQoY29tcG9uZW50TmFtZSk7XG4gICAgICAgIHdhcm5pbmdXaXRob3V0U3RhY2skMShmYWxzZSwgJyVzLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcygpOiBBIHZhbGlkIHN0YXRlIG9iamVjdCAob3IgbnVsbCkgbXVzdCBiZSByZXR1cm5lZC4gJyArICdZb3UgaGF2ZSByZXR1cm5lZCB1bmRlZmluZWQuJywgY29tcG9uZW50TmFtZSk7XG4gICAgICB9XG4gICAgfVxuICB9OyAvLyBUaGlzIGlzIHNvIGdyb3NzIGJ1dCBpdCdzIGF0IGxlYXN0IG5vbi1jcml0aWNhbCBhbmQgY2FuIGJlIHJlbW92ZWQgaWZcbiAgLy8gaXQgY2F1c2VzIHByb2JsZW1zLiBUaGlzIGlzIG1lYW50IHRvIGdpdmUgYSBuaWNlciBlcnJvciBtZXNzYWdlIGZvclxuICAvLyBSZWFjdERPTTE1LnVuc3RhYmxlX3JlbmRlclN1YnRyZWVJbnRvQ29udGFpbmVyKHJlYWN0RE9NMTZDb21wb25lbnQsXG4gIC8vIC4uLikpIHdoaWNoIG90aGVyd2lzZSB0aHJvd3MgYSBcIl9wcm9jZXNzQ2hpbGRDb250ZXh0IGlzIG5vdCBhIGZ1bmN0aW9uXCJcbiAgLy8gZXhjZXB0aW9uLlxuXG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGZha2VJbnRlcm5hbEluc3RhbmNlLCAnX3Byb2Nlc3NDaGlsZENvbnRleHQnLCB7XG4gICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHtcbiAgICAgICAge1xuICAgICAgICAgIHRocm93IEVycm9yKFwiX3Byb2Nlc3NDaGlsZENvbnRleHQgaXMgbm90IGF2YWlsYWJsZSBpbiBSZWFjdCAxNisuIFRoaXMgbGlrZWx5IG1lYW5zIHlvdSBoYXZlIG11bHRpcGxlIGNvcGllcyBvZiBSZWFjdCBhbmQgYXJlIGF0dGVtcHRpbmcgdG8gbmVzdCBhIFJlYWN0IDE1IHRyZWUgaW5zaWRlIGEgUmVhY3QgMTYgdHJlZSB1c2luZyB1bnN0YWJsZV9yZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lciwgd2hpY2ggaXNuJ3Qgc3VwcG9ydGVkLiBUcnkgdG8gbWFrZSBzdXJlIHlvdSBoYXZlIG9ubHkgb25lIGNvcHkgb2YgUmVhY3QgKGFuZCBpZGVhbGx5LCBzd2l0Y2ggdG8gUmVhY3RET00uY3JlYXRlUG9ydGFsKS5cIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICBPYmplY3QuZnJlZXplKGZha2VJbnRlcm5hbEluc3RhbmNlKTtcbn1cblxuZnVuY3Rpb24gYXBwbHlEZXJpdmVkU3RhdGVGcm9tUHJvcHMod29ya0luUHJvZ3Jlc3MsIGN0b3IsIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcywgbmV4dFByb3BzKSB7XG4gIHZhciBwcmV2U3RhdGUgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlO1xuXG4gIHtcbiAgICBpZiAoZGVidWdSZW5kZXJQaGFzZVNpZGVFZmZlY3RzRm9yU3RyaWN0TW9kZSAmJiB3b3JrSW5Qcm9ncmVzcy5tb2RlICYgU3RyaWN0TW9kZSkge1xuICAgICAgLy8gSW52b2tlIHRoZSBmdW5jdGlvbiBhbiBleHRyYSB0aW1lIHRvIGhlbHAgZGV0ZWN0IHNpZGUtZWZmZWN0cy5cbiAgICAgIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhuZXh0UHJvcHMsIHByZXZTdGF0ZSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIHBhcnRpYWxTdGF0ZSA9IGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhuZXh0UHJvcHMsIHByZXZTdGF0ZSk7XG5cbiAge1xuICAgIHdhcm5PblVuZGVmaW5lZERlcml2ZWRTdGF0ZShjdG9yLCBwYXJ0aWFsU3RhdGUpO1xuICB9IC8vIE1lcmdlIHRoZSBwYXJ0aWFsIHN0YXRlIGFuZCB0aGUgcHJldmlvdXMgc3RhdGUuXG5cblxuICB2YXIgbWVtb2l6ZWRTdGF0ZSA9IHBhcnRpYWxTdGF0ZSA9PT0gbnVsbCB8fCBwYXJ0aWFsU3RhdGUgPT09IHVuZGVmaW5lZCA/IHByZXZTdGF0ZSA6IF9hc3NpZ24oe30sIHByZXZTdGF0ZSwgcGFydGlhbFN0YXRlKTtcbiAgd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSA9IG1lbW9pemVkU3RhdGU7IC8vIE9uY2UgdGhlIHVwZGF0ZSBxdWV1ZSBpcyBlbXB0eSwgcGVyc2lzdCB0aGUgZGVyaXZlZCBzdGF0ZSBvbnRvIHRoZVxuICAvLyBiYXNlIHN0YXRlLlxuXG4gIHZhciB1cGRhdGVRdWV1ZSA9IHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlO1xuXG4gIGlmICh1cGRhdGVRdWV1ZSAhPT0gbnVsbCAmJiB3b3JrSW5Qcm9ncmVzcy5leHBpcmF0aW9uVGltZSA9PT0gTm9Xb3JrKSB7XG4gICAgdXBkYXRlUXVldWUuYmFzZVN0YXRlID0gbWVtb2l6ZWRTdGF0ZTtcbiAgfVxufVxudmFyIGNsYXNzQ29tcG9uZW50VXBkYXRlciA9IHtcbiAgaXNNb3VudGVkOiBpc01vdW50ZWQsXG4gIGVucXVldWVTZXRTdGF0ZTogZnVuY3Rpb24gKGluc3QsIHBheWxvYWQsIGNhbGxiYWNrKSB7XG4gICAgdmFyIGZpYmVyID0gZ2V0KGluc3QpO1xuICAgIHZhciBjdXJyZW50VGltZSA9IHJlcXVlc3RDdXJyZW50VGltZUZvclVwZGF0ZSgpO1xuICAgIHZhciBzdXNwZW5zZUNvbmZpZyA9IHJlcXVlc3RDdXJyZW50U3VzcGVuc2VDb25maWcoKTtcbiAgICB2YXIgZXhwaXJhdGlvblRpbWUgPSBjb21wdXRlRXhwaXJhdGlvbkZvckZpYmVyKGN1cnJlbnRUaW1lLCBmaWJlciwgc3VzcGVuc2VDb25maWcpO1xuICAgIHZhciB1cGRhdGUgPSBjcmVhdGVVcGRhdGUoZXhwaXJhdGlvblRpbWUsIHN1c3BlbnNlQ29uZmlnKTtcbiAgICB1cGRhdGUucGF5bG9hZCA9IHBheWxvYWQ7XG5cbiAgICBpZiAoY2FsbGJhY2sgIT09IHVuZGVmaW5lZCAmJiBjYWxsYmFjayAhPT0gbnVsbCkge1xuICAgICAge1xuICAgICAgICB3YXJuT25JbnZhbGlkQ2FsbGJhY2skMShjYWxsYmFjaywgJ3NldFN0YXRlJyk7XG4gICAgICB9XG5cbiAgICAgIHVwZGF0ZS5jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgIH1cblxuICAgIGVucXVldWVVcGRhdGUoZmliZXIsIHVwZGF0ZSk7XG4gICAgc2NoZWR1bGVXb3JrKGZpYmVyLCBleHBpcmF0aW9uVGltZSk7XG4gIH0sXG4gIGVucXVldWVSZXBsYWNlU3RhdGU6IGZ1bmN0aW9uIChpbnN0LCBwYXlsb2FkLCBjYWxsYmFjaykge1xuICAgIHZhciBmaWJlciA9IGdldChpbnN0KTtcbiAgICB2YXIgY3VycmVudFRpbWUgPSByZXF1ZXN0Q3VycmVudFRpbWVGb3JVcGRhdGUoKTtcbiAgICB2YXIgc3VzcGVuc2VDb25maWcgPSByZXF1ZXN0Q3VycmVudFN1c3BlbnNlQ29uZmlnKCk7XG4gICAgdmFyIGV4cGlyYXRpb25UaW1lID0gY29tcHV0ZUV4cGlyYXRpb25Gb3JGaWJlcihjdXJyZW50VGltZSwgZmliZXIsIHN1c3BlbnNlQ29uZmlnKTtcbiAgICB2YXIgdXBkYXRlID0gY3JlYXRlVXBkYXRlKGV4cGlyYXRpb25UaW1lLCBzdXNwZW5zZUNvbmZpZyk7XG4gICAgdXBkYXRlLnRhZyA9IFJlcGxhY2VTdGF0ZTtcbiAgICB1cGRhdGUucGF5bG9hZCA9IHBheWxvYWQ7XG5cbiAgICBpZiAoY2FsbGJhY2sgIT09IHVuZGVmaW5lZCAmJiBjYWxsYmFjayAhPT0gbnVsbCkge1xuICAgICAge1xuICAgICAgICB3YXJuT25JbnZhbGlkQ2FsbGJhY2skMShjYWxsYmFjaywgJ3JlcGxhY2VTdGF0ZScpO1xuICAgICAgfVxuXG4gICAgICB1cGRhdGUuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICB9XG5cbiAgICBlbnF1ZXVlVXBkYXRlKGZpYmVyLCB1cGRhdGUpO1xuICAgIHNjaGVkdWxlV29yayhmaWJlciwgZXhwaXJhdGlvblRpbWUpO1xuICB9LFxuICBlbnF1ZXVlRm9yY2VVcGRhdGU6IGZ1bmN0aW9uIChpbnN0LCBjYWxsYmFjaykge1xuICAgIHZhciBmaWJlciA9IGdldChpbnN0KTtcbiAgICB2YXIgY3VycmVudFRpbWUgPSByZXF1ZXN0Q3VycmVudFRpbWVGb3JVcGRhdGUoKTtcbiAgICB2YXIgc3VzcGVuc2VDb25maWcgPSByZXF1ZXN0Q3VycmVudFN1c3BlbnNlQ29uZmlnKCk7XG4gICAgdmFyIGV4cGlyYXRpb25UaW1lID0gY29tcHV0ZUV4cGlyYXRpb25Gb3JGaWJlcihjdXJyZW50VGltZSwgZmliZXIsIHN1c3BlbnNlQ29uZmlnKTtcbiAgICB2YXIgdXBkYXRlID0gY3JlYXRlVXBkYXRlKGV4cGlyYXRpb25UaW1lLCBzdXNwZW5zZUNvbmZpZyk7XG4gICAgdXBkYXRlLnRhZyA9IEZvcmNlVXBkYXRlO1xuXG4gICAgaWYgKGNhbGxiYWNrICE9PSB1bmRlZmluZWQgJiYgY2FsbGJhY2sgIT09IG51bGwpIHtcbiAgICAgIHtcbiAgICAgICAgd2Fybk9uSW52YWxpZENhbGxiYWNrJDEoY2FsbGJhY2ssICdmb3JjZVVwZGF0ZScpO1xuICAgICAgfVxuXG4gICAgICB1cGRhdGUuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICB9XG5cbiAgICBlbnF1ZXVlVXBkYXRlKGZpYmVyLCB1cGRhdGUpO1xuICAgIHNjaGVkdWxlV29yayhmaWJlciwgZXhwaXJhdGlvblRpbWUpO1xuICB9XG59O1xuXG5mdW5jdGlvbiBjaGVja1Nob3VsZENvbXBvbmVudFVwZGF0ZSh3b3JrSW5Qcm9ncmVzcywgY3Rvciwgb2xkUHJvcHMsIG5ld1Byb3BzLCBvbGRTdGF0ZSwgbmV3U3RhdGUsIG5leHRDb250ZXh0KSB7XG4gIHZhciBpbnN0YW5jZSA9IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZTtcblxuICBpZiAodHlwZW9mIGluc3RhbmNlLnNob3VsZENvbXBvbmVudFVwZGF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHN0YXJ0UGhhc2VUaW1lcih3b3JrSW5Qcm9ncmVzcywgJ3Nob3VsZENvbXBvbmVudFVwZGF0ZScpO1xuICAgIHZhciBzaG91bGRVcGRhdGUgPSBpbnN0YW5jZS5zaG91bGRDb21wb25lbnRVcGRhdGUobmV3UHJvcHMsIG5ld1N0YXRlLCBuZXh0Q29udGV4dCk7XG4gICAgc3RvcFBoYXNlVGltZXIoKTtcblxuICAgIHtcbiAgICAgICEoc2hvdWxkVXBkYXRlICE9PSB1bmRlZmluZWQpID8gd2FybmluZ1dpdGhvdXRTdGFjayQxKGZhbHNlLCAnJXMuc2hvdWxkQ29tcG9uZW50VXBkYXRlKCk6IFJldHVybmVkIHVuZGVmaW5lZCBpbnN0ZWFkIG9mIGEgJyArICdib29sZWFuIHZhbHVlLiBNYWtlIHN1cmUgdG8gcmV0dXJuIHRydWUgb3IgZmFsc2UuJywgZ2V0Q29tcG9uZW50TmFtZShjdG9yKSB8fCAnQ29tcG9uZW50JykgOiB2b2lkIDA7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNob3VsZFVwZGF0ZTtcbiAgfVxuXG4gIGlmIChjdG9yLnByb3RvdHlwZSAmJiBjdG9yLnByb3RvdHlwZS5pc1B1cmVSZWFjdENvbXBvbmVudCkge1xuICAgIHJldHVybiAhc2hhbGxvd0VxdWFsKG9sZFByb3BzLCBuZXdQcm9wcykgfHwgIXNoYWxsb3dFcXVhbChvbGRTdGF0ZSwgbmV3U3RhdGUpO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGNoZWNrQ2xhc3NJbnN0YW5jZSh3b3JrSW5Qcm9ncmVzcywgY3RvciwgbmV3UHJvcHMpIHtcbiAgdmFyIGluc3RhbmNlID0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlO1xuXG4gIHtcbiAgICB2YXIgbmFtZSA9IGdldENvbXBvbmVudE5hbWUoY3RvcikgfHwgJ0NvbXBvbmVudCc7XG4gICAgdmFyIHJlbmRlclByZXNlbnQgPSBpbnN0YW5jZS5yZW5kZXI7XG5cbiAgICBpZiAoIXJlbmRlclByZXNlbnQpIHtcbiAgICAgIGlmIChjdG9yLnByb3RvdHlwZSAmJiB0eXBlb2YgY3Rvci5wcm90b3R5cGUucmVuZGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHdhcm5pbmdXaXRob3V0U3RhY2skMShmYWxzZSwgJyVzKC4uLik6IE5vIGByZW5kZXJgIG1ldGhvZCBmb3VuZCBvbiB0aGUgcmV0dXJuZWQgY29tcG9uZW50ICcgKyAnaW5zdGFuY2U6IGRpZCB5b3UgYWNjaWRlbnRhbGx5IHJldHVybiBhbiBvYmplY3QgZnJvbSB0aGUgY29uc3RydWN0b3I/JywgbmFtZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3YXJuaW5nV2l0aG91dFN0YWNrJDEoZmFsc2UsICclcyguLi4pOiBObyBgcmVuZGVyYCBtZXRob2QgZm91bmQgb24gdGhlIHJldHVybmVkIGNvbXBvbmVudCAnICsgJ2luc3RhbmNlOiB5b3UgbWF5IGhhdmUgZm9yZ290dGVuIHRvIGRlZmluZSBgcmVuZGVyYC4nLCBuYW1lKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgbm9HZXRJbml0aWFsU3RhdGVPbkVTNiA9ICFpbnN0YW5jZS5nZXRJbml0aWFsU3RhdGUgfHwgaW5zdGFuY2UuZ2V0SW5pdGlhbFN0YXRlLmlzUmVhY3RDbGFzc0FwcHJvdmVkIHx8IGluc3RhbmNlLnN0YXRlO1xuICAgICFub0dldEluaXRpYWxTdGF0ZU9uRVM2ID8gd2FybmluZ1dpdGhvdXRTdGFjayQxKGZhbHNlLCAnZ2V0SW5pdGlhbFN0YXRlIHdhcyBkZWZpbmVkIG9uICVzLCBhIHBsYWluIEphdmFTY3JpcHQgY2xhc3MuICcgKyAnVGhpcyBpcyBvbmx5IHN1cHBvcnRlZCBmb3IgY2xhc3NlcyBjcmVhdGVkIHVzaW5nIFJlYWN0LmNyZWF0ZUNsYXNzLiAnICsgJ0RpZCB5b3UgbWVhbiB0byBkZWZpbmUgYSBzdGF0ZSBwcm9wZXJ0eSBpbnN0ZWFkPycsIG5hbWUpIDogdm9pZCAwO1xuICAgIHZhciBub0dldERlZmF1bHRQcm9wc09uRVM2ID0gIWluc3RhbmNlLmdldERlZmF1bHRQcm9wcyB8fCBpbnN0YW5jZS5nZXREZWZhdWx0UHJvcHMuaXNSZWFjdENsYXNzQXBwcm92ZWQ7XG4gICAgIW5vR2V0RGVmYXVsdFByb3BzT25FUzYgPyB3YXJuaW5nV2l0aG91dFN0YWNrJDEoZmFsc2UsICdnZXREZWZhdWx0UHJvcHMgd2FzIGRlZmluZWQgb24gJXMsIGEgcGxhaW4gSmF2YVNjcmlwdCBjbGFzcy4gJyArICdUaGlzIGlzIG9ubHkgc3VwcG9ydGVkIGZvciBjbGFzc2VzIGNyZWF0ZWQgdXNpbmcgUmVhY3QuY3JlYXRlQ2xhc3MuICcgKyAnVXNlIGEgc3RhdGljIHByb3BlcnR5IHRvIGRlZmluZSBkZWZhdWx0UHJvcHMgaW5zdGVhZC4nLCBuYW1lKSA6IHZvaWQgMDtcbiAgICB2YXIgbm9JbnN0YW5jZVByb3BUeXBlcyA9ICFpbnN0YW5jZS5wcm9wVHlwZXM7XG4gICAgIW5vSW5zdGFuY2VQcm9wVHlwZXMgPyB3YXJuaW5nV2l0aG91dFN0YWNrJDEoZmFsc2UsICdwcm9wVHlwZXMgd2FzIGRlZmluZWQgYXMgYW4gaW5zdGFuY2UgcHJvcGVydHkgb24gJXMuIFVzZSBhIHN0YXRpYyAnICsgJ3Byb3BlcnR5IHRvIGRlZmluZSBwcm9wVHlwZXMgaW5zdGVhZC4nLCBuYW1lKSA6IHZvaWQgMDtcbiAgICB2YXIgbm9JbnN0YW5jZUNvbnRleHRUeXBlID0gIWluc3RhbmNlLmNvbnRleHRUeXBlO1xuICAgICFub0luc3RhbmNlQ29udGV4dFR5cGUgPyB3YXJuaW5nV2l0aG91dFN0YWNrJDEoZmFsc2UsICdjb250ZXh0VHlwZSB3YXMgZGVmaW5lZCBhcyBhbiBpbnN0YW5jZSBwcm9wZXJ0eSBvbiAlcy4gVXNlIGEgc3RhdGljICcgKyAncHJvcGVydHkgdG8gZGVmaW5lIGNvbnRleHRUeXBlIGluc3RlYWQuJywgbmFtZSkgOiB2b2lkIDA7XG5cbiAgICBpZiAoZGlzYWJsZUxlZ2FjeUNvbnRleHQpIHtcbiAgICAgIGlmIChjdG9yLmNoaWxkQ29udGV4dFR5cGVzKSB7XG4gICAgICAgIHdhcm5pbmdXaXRob3V0U3RhY2skMShmYWxzZSwgJyVzIHVzZXMgdGhlIGxlZ2FjeSBjaGlsZENvbnRleHRUeXBlcyBBUEkgd2hpY2ggaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZC4gJyArICdVc2UgUmVhY3QuY3JlYXRlQ29udGV4dCgpIGluc3RlYWQuJywgbmFtZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChjdG9yLmNvbnRleHRUeXBlcykge1xuICAgICAgICB3YXJuaW5nV2l0aG91dFN0YWNrJDEoZmFsc2UsICclcyB1c2VzIHRoZSBsZWdhY3kgY29udGV4dFR5cGVzIEFQSSB3aGljaCBpcyBubyBsb25nZXIgc3VwcG9ydGVkLiAnICsgJ1VzZSBSZWFjdC5jcmVhdGVDb250ZXh0KCkgd2l0aCBzdGF0aWMgY29udGV4dFR5cGUgaW5zdGVhZC4nLCBuYW1lKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIG5vSW5zdGFuY2VDb250ZXh0VHlwZXMgPSAhaW5zdGFuY2UuY29udGV4dFR5cGVzO1xuICAgICAgIW5vSW5zdGFuY2VDb250ZXh0VHlwZXMgPyB3YXJuaW5nV2l0aG91dFN0YWNrJDEoZmFsc2UsICdjb250ZXh0VHlwZXMgd2FzIGRlZmluZWQgYXMgYW4gaW5zdGFuY2UgcHJvcGVydHkgb24gJXMuIFVzZSBhIHN0YXRpYyAnICsgJ3Byb3BlcnR5IHRvIGRlZmluZSBjb250ZXh0VHlwZXMgaW5zdGVhZC4nLCBuYW1lKSA6IHZvaWQgMDtcblxuICAgICAgaWYgKGN0b3IuY29udGV4dFR5cGUgJiYgY3Rvci5jb250ZXh0VHlwZXMgJiYgIWRpZFdhcm5BYm91dENvbnRleHRUeXBlQW5kQ29udGV4dFR5cGVzLmhhcyhjdG9yKSkge1xuICAgICAgICBkaWRXYXJuQWJvdXRDb250ZXh0VHlwZUFuZENvbnRleHRUeXBlcy5hZGQoY3Rvcik7XG4gICAgICAgIHdhcm5pbmdXaXRob3V0U3RhY2skMShmYWxzZSwgJyVzIGRlY2xhcmVzIGJvdGggY29udGV4dFR5cGVzIGFuZCBjb250ZXh0VHlwZSBzdGF0aWMgcHJvcGVydGllcy4gJyArICdUaGUgbGVnYWN5IGNvbnRleHRUeXBlcyBwcm9wZXJ0eSB3aWxsIGJlIGlnbm9yZWQuJywgbmFtZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIG5vQ29tcG9uZW50U2hvdWxkVXBkYXRlID0gdHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudFNob3VsZFVwZGF0ZSAhPT0gJ2Z1bmN0aW9uJztcbiAgICAhbm9Db21wb25lbnRTaG91bGRVcGRhdGUgPyB3YXJuaW5nV2l0aG91dFN0YWNrJDEoZmFsc2UsICclcyBoYXMgYSBtZXRob2QgY2FsbGVkICcgKyAnY29tcG9uZW50U2hvdWxkVXBkYXRlKCkuIERpZCB5b3UgbWVhbiBzaG91bGRDb21wb25lbnRVcGRhdGUoKT8gJyArICdUaGUgbmFtZSBpcyBwaHJhc2VkIGFzIGEgcXVlc3Rpb24gYmVjYXVzZSB0aGUgZnVuY3Rpb24gaXMgJyArICdleHBlY3RlZCB0byByZXR1cm4gYSB2YWx1ZS4nLCBuYW1lKSA6IHZvaWQgMDtcblxuICAgIGlmIChjdG9yLnByb3RvdHlwZSAmJiBjdG9yLnByb3RvdHlwZS5pc1B1cmVSZWFjdENvbXBvbmVudCAmJiB0eXBlb2YgaW5zdGFuY2Uuc2hvdWxkQ29tcG9uZW50VXBkYXRlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgd2FybmluZ1dpdGhvdXRTdGFjayQxKGZhbHNlLCAnJXMgaGFzIGEgbWV0aG9kIGNhbGxlZCBzaG91bGRDb21wb25lbnRVcGRhdGUoKS4gJyArICdzaG91bGRDb21wb25lbnRVcGRhdGUgc2hvdWxkIG5vdCBiZSB1c2VkIHdoZW4gZXh0ZW5kaW5nIFJlYWN0LlB1cmVDb21wb25lbnQuICcgKyAnUGxlYXNlIGV4dGVuZCBSZWFjdC5Db21wb25lbnQgaWYgc2hvdWxkQ29tcG9uZW50VXBkYXRlIGlzIHVzZWQuJywgZ2V0Q29tcG9uZW50TmFtZShjdG9yKSB8fCAnQSBwdXJlIGNvbXBvbmVudCcpO1xuICAgIH1cblxuICAgIHZhciBub0NvbXBvbmVudERpZFVubW91bnQgPSB0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50RGlkVW5tb3VudCAhPT0gJ2Z1bmN0aW9uJztcbiAgICAhbm9Db21wb25lbnREaWRVbm1vdW50ID8gd2FybmluZ1dpdGhvdXRTdGFjayQxKGZhbHNlLCAnJXMgaGFzIGEgbWV0aG9kIGNhbGxlZCAnICsgJ2NvbXBvbmVudERpZFVubW91bnQoKS4gQnV0IHRoZXJlIGlzIG5vIHN1Y2ggbGlmZWN5Y2xlIG1ldGhvZC4gJyArICdEaWQgeW91IG1lYW4gY29tcG9uZW50V2lsbFVubW91bnQoKT8nLCBuYW1lKSA6IHZvaWQgMDtcbiAgICB2YXIgbm9Db21wb25lbnREaWRSZWNlaXZlUHJvcHMgPSB0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50RGlkUmVjZWl2ZVByb3BzICE9PSAnZnVuY3Rpb24nO1xuICAgICFub0NvbXBvbmVudERpZFJlY2VpdmVQcm9wcyA/IHdhcm5pbmdXaXRob3V0U3RhY2skMShmYWxzZSwgJyVzIGhhcyBhIG1ldGhvZCBjYWxsZWQgJyArICdjb21wb25lbnREaWRSZWNlaXZlUHJvcHMoKS4gQnV0IHRoZXJlIGlzIG5vIHN1Y2ggbGlmZWN5Y2xlIG1ldGhvZC4gJyArICdJZiB5b3UgbWVhbnQgdG8gdXBkYXRlIHRoZSBzdGF0ZSBpbiByZXNwb25zZSB0byBjaGFuZ2luZyBwcm9wcywgJyArICd1c2UgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcygpLiBJZiB5b3UgbWVhbnQgdG8gZmV0Y2ggZGF0YSBvciAnICsgJ3J1biBzaWRlLWVmZmVjdHMgb3IgbXV0YXRpb25zIGFmdGVyIFJlYWN0IGhhcyB1cGRhdGVkIHRoZSBVSSwgdXNlIGNvbXBvbmVudERpZFVwZGF0ZSgpLicsIG5hbWUpIDogdm9pZCAwO1xuICAgIHZhciBub0NvbXBvbmVudFdpbGxSZWNpZXZlUHJvcHMgPSB0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50V2lsbFJlY2lldmVQcm9wcyAhPT0gJ2Z1bmN0aW9uJztcbiAgICAhbm9Db21wb25lbnRXaWxsUmVjaWV2ZVByb3BzID8gd2FybmluZ1dpdGhvdXRTdGFjayQxKGZhbHNlLCAnJXMgaGFzIGEgbWV0aG9kIGNhbGxlZCAnICsgJ2NvbXBvbmVudFdpbGxSZWNpZXZlUHJvcHMoKS4gRGlkIHlvdSBtZWFuIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMoKT8nLCBuYW1lKSA6IHZvaWQgMDtcbiAgICB2YXIgbm9VbnNhZmVDb21wb25lbnRXaWxsUmVjaWV2ZVByb3BzID0gdHlwZW9mIGluc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsUmVjaWV2ZVByb3BzICE9PSAnZnVuY3Rpb24nO1xuICAgICFub1Vuc2FmZUNvbXBvbmVudFdpbGxSZWNpZXZlUHJvcHMgPyB3YXJuaW5nV2l0aG91dFN0YWNrJDEoZmFsc2UsICclcyBoYXMgYSBtZXRob2QgY2FsbGVkICcgKyAnVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNpZXZlUHJvcHMoKS4gRGlkIHlvdSBtZWFuIFVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKCk/JywgbmFtZSkgOiB2b2lkIDA7XG4gICAgdmFyIGhhc011dGF0ZWRQcm9wcyA9IGluc3RhbmNlLnByb3BzICE9PSBuZXdQcm9wcztcbiAgICAhKGluc3RhbmNlLnByb3BzID09PSB1bmRlZmluZWQgfHwgIWhhc011dGF0ZWRQcm9wcykgPyB3YXJuaW5nV2l0aG91dFN0YWNrJDEoZmFsc2UsICclcyguLi4pOiBXaGVuIGNhbGxpbmcgc3VwZXIoKSBpbiBgJXNgLCBtYWtlIHN1cmUgdG8gcGFzcyAnICsgXCJ1cCB0aGUgc2FtZSBwcm9wcyB0aGF0IHlvdXIgY29tcG9uZW50J3MgY29uc3RydWN0b3Igd2FzIHBhc3NlZC5cIiwgbmFtZSwgbmFtZSkgOiB2b2lkIDA7XG4gICAgdmFyIG5vSW5zdGFuY2VEZWZhdWx0UHJvcHMgPSAhaW5zdGFuY2UuZGVmYXVsdFByb3BzO1xuICAgICFub0luc3RhbmNlRGVmYXVsdFByb3BzID8gd2FybmluZ1dpdGhvdXRTdGFjayQxKGZhbHNlLCAnU2V0dGluZyBkZWZhdWx0UHJvcHMgYXMgYW4gaW5zdGFuY2UgcHJvcGVydHkgb24gJXMgaXMgbm90IHN1cHBvcnRlZCBhbmQgd2lsbCBiZSBpZ25vcmVkLicgKyAnIEluc3RlYWQsIGRlZmluZSBkZWZhdWx0UHJvcHMgYXMgYSBzdGF0aWMgcHJvcGVydHkgb24gJXMuJywgbmFtZSwgbmFtZSkgOiB2b2lkIDA7XG5cbiAgICBpZiAodHlwZW9mIGluc3RhbmNlLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnREaWRVcGRhdGUgIT09ICdmdW5jdGlvbicgJiYgIWRpZFdhcm5BYm91dEdldFNuYXBzaG90QmVmb3JlVXBkYXRlV2l0aG91dERpZFVwZGF0ZS5oYXMoY3RvcikpIHtcbiAgICAgIGRpZFdhcm5BYm91dEdldFNuYXBzaG90QmVmb3JlVXBkYXRlV2l0aG91dERpZFVwZGF0ZS5hZGQoY3Rvcik7XG4gICAgICB3YXJuaW5nV2l0aG91dFN0YWNrJDEoZmFsc2UsICclczogZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUoKSBzaG91bGQgYmUgdXNlZCB3aXRoIGNvbXBvbmVudERpZFVwZGF0ZSgpLiAnICsgJ1RoaXMgY29tcG9uZW50IGRlZmluZXMgZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUoKSBvbmx5LicsIGdldENvbXBvbmVudE5hbWUoY3RvcikpO1xuICAgIH1cblxuICAgIHZhciBub0luc3RhbmNlR2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID0gdHlwZW9mIGluc3RhbmNlLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyAhPT0gJ2Z1bmN0aW9uJztcbiAgICAhbm9JbnN0YW5jZUdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyA/IHdhcm5pbmdXaXRob3V0U3RhY2skMShmYWxzZSwgJyVzOiBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMoKSBpcyBkZWZpbmVkIGFzIGFuIGluc3RhbmNlIG1ldGhvZCAnICsgJ2FuZCB3aWxsIGJlIGlnbm9yZWQuIEluc3RlYWQsIGRlY2xhcmUgaXQgYXMgYSBzdGF0aWMgbWV0aG9kLicsIG5hbWUpIDogdm9pZCAwO1xuICAgIHZhciBub0luc3RhbmNlR2V0RGVyaXZlZFN0YXRlRnJvbUNhdGNoID0gdHlwZW9mIGluc3RhbmNlLmdldERlcml2ZWRTdGF0ZUZyb21FcnJvciAhPT0gJ2Z1bmN0aW9uJztcbiAgICAhbm9JbnN0YW5jZUdldERlcml2ZWRTdGF0ZUZyb21DYXRjaCA/IHdhcm5pbmdXaXRob3V0U3RhY2skMShmYWxzZSwgJyVzOiBnZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IoKSBpcyBkZWZpbmVkIGFzIGFuIGluc3RhbmNlIG1ldGhvZCAnICsgJ2FuZCB3aWxsIGJlIGlnbm9yZWQuIEluc3RlYWQsIGRlY2xhcmUgaXQgYXMgYSBzdGF0aWMgbWV0aG9kLicsIG5hbWUpIDogdm9pZCAwO1xuICAgIHZhciBub1N0YXRpY0dldFNuYXBzaG90QmVmb3JlVXBkYXRlID0gdHlwZW9mIGN0b3IuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUgIT09ICdmdW5jdGlvbic7XG4gICAgIW5vU3RhdGljR2V0U25hcHNob3RCZWZvcmVVcGRhdGUgPyB3YXJuaW5nV2l0aG91dFN0YWNrJDEoZmFsc2UsICclczogZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUoKSBpcyBkZWZpbmVkIGFzIGEgc3RhdGljIG1ldGhvZCAnICsgJ2FuZCB3aWxsIGJlIGlnbm9yZWQuIEluc3RlYWQsIGRlY2xhcmUgaXQgYXMgYW4gaW5zdGFuY2UgbWV0aG9kLicsIG5hbWUpIDogdm9pZCAwO1xuICAgIHZhciBfc3RhdGUgPSBpbnN0YW5jZS5zdGF0ZTtcblxuICAgIGlmIChfc3RhdGUgJiYgKHR5cGVvZiBfc3RhdGUgIT09ICdvYmplY3QnIHx8IGlzQXJyYXkkMShfc3RhdGUpKSkge1xuICAgICAgd2FybmluZ1dpdGhvdXRTdGFjayQxKGZhbHNlLCAnJXMuc3RhdGU6IG11c3QgYmUgc2V0IHRvIGFuIG9iamVjdCBvciBudWxsJywgbmFtZSk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBpbnN0YW5jZS5nZXRDaGlsZENvbnRleHQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICEodHlwZW9mIGN0b3IuY2hpbGRDb250ZXh0VHlwZXMgPT09ICdvYmplY3QnKSA/IHdhcm5pbmdXaXRob3V0U3RhY2skMShmYWxzZSwgJyVzLmdldENoaWxkQ29udGV4dCgpOiBjaGlsZENvbnRleHRUeXBlcyBtdXN0IGJlIGRlZmluZWQgaW4gb3JkZXIgdG8gJyArICd1c2UgZ2V0Q2hpbGRDb250ZXh0KCkuJywgbmFtZSkgOiB2b2lkIDA7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGFkb3B0Q2xhc3NJbnN0YW5jZSh3b3JrSW5Qcm9ncmVzcywgaW5zdGFuY2UpIHtcbiAgaW5zdGFuY2UudXBkYXRlciA9IGNsYXNzQ29tcG9uZW50VXBkYXRlcjtcbiAgd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlID0gaW5zdGFuY2U7IC8vIFRoZSBpbnN0YW5jZSBuZWVkcyBhY2Nlc3MgdG8gdGhlIGZpYmVyIHNvIHRoYXQgaXQgY2FuIHNjaGVkdWxlIHVwZGF0ZXNcblxuICBzZXQoaW5zdGFuY2UsIHdvcmtJblByb2dyZXNzKTtcblxuICB7XG4gICAgaW5zdGFuY2UuX3JlYWN0SW50ZXJuYWxJbnN0YW5jZSA9IGZha2VJbnRlcm5hbEluc3RhbmNlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNvbnN0cnVjdENsYXNzSW5zdGFuY2Uod29ya0luUHJvZ3Jlc3MsIGN0b3IsIHByb3BzLCByZW5kZXJFeHBpcmF0aW9uVGltZSkge1xuICB2YXIgaXNMZWdhY3lDb250ZXh0Q29uc3VtZXIgPSBmYWxzZTtcbiAgdmFyIHVubWFza2VkQ29udGV4dCA9IGVtcHR5Q29udGV4dE9iamVjdDtcbiAgdmFyIGNvbnRleHQgPSBlbXB0eUNvbnRleHRPYmplY3Q7XG4gIHZhciBjb250ZXh0VHlwZSA9IGN0b3IuY29udGV4dFR5cGU7XG5cbiAge1xuICAgIGlmICgnY29udGV4dFR5cGUnIGluIGN0b3IpIHtcbiAgICAgIHZhciBpc1ZhbGlkID0gLy8gQWxsb3cgbnVsbCBmb3IgY29uZGl0aW9uYWwgZGVjbGFyYXRpb25cbiAgICAgIGNvbnRleHRUeXBlID09PSBudWxsIHx8IGNvbnRleHRUeXBlICE9PSB1bmRlZmluZWQgJiYgY29udGV4dFR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0NPTlRFWFRfVFlQRSAmJiBjb250ZXh0VHlwZS5fY29udGV4dCA9PT0gdW5kZWZpbmVkOyAvLyBOb3QgYSA8Q29udGV4dC5Db25zdW1lcj5cblxuICAgICAgaWYgKCFpc1ZhbGlkICYmICFkaWRXYXJuQWJvdXRJbnZhbGlkYXRlQ29udGV4dFR5cGUuaGFzKGN0b3IpKSB7XG4gICAgICAgIGRpZFdhcm5BYm91dEludmFsaWRhdGVDb250ZXh0VHlwZS5hZGQoY3Rvcik7XG4gICAgICAgIHZhciBhZGRlbmR1bSA9ICcnO1xuXG4gICAgICAgIGlmIChjb250ZXh0VHlwZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgYWRkZW5kdW0gPSAnIEhvd2V2ZXIsIGl0IGlzIHNldCB0byB1bmRlZmluZWQuICcgKyAnVGhpcyBjYW4gYmUgY2F1c2VkIGJ5IGEgdHlwbyBvciBieSBtaXhpbmcgdXAgbmFtZWQgYW5kIGRlZmF1bHQgaW1wb3J0cy4gJyArICdUaGlzIGNhbiBhbHNvIGhhcHBlbiBkdWUgdG8gYSBjaXJjdWxhciBkZXBlbmRlbmN5LCBzbyAnICsgJ3RyeSBtb3ZpbmcgdGhlIGNyZWF0ZUNvbnRleHQoKSBjYWxsIHRvIGEgc2VwYXJhdGUgZmlsZS4nO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBjb250ZXh0VHlwZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICBhZGRlbmR1bSA9ICcgSG93ZXZlciwgaXQgaXMgc2V0IHRvIGEgJyArIHR5cGVvZiBjb250ZXh0VHlwZSArICcuJztcbiAgICAgICAgfSBlbHNlIGlmIChjb250ZXh0VHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfUFJPVklERVJfVFlQRSkge1xuICAgICAgICAgIGFkZGVuZHVtID0gJyBEaWQgeW91IGFjY2lkZW50YWxseSBwYXNzIHRoZSBDb250ZXh0LlByb3ZpZGVyIGluc3RlYWQ/JztcbiAgICAgICAgfSBlbHNlIGlmIChjb250ZXh0VHlwZS5fY29udGV4dCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgLy8gPENvbnRleHQuQ29uc3VtZXI+XG4gICAgICAgICAgYWRkZW5kdW0gPSAnIERpZCB5b3UgYWNjaWRlbnRhbGx5IHBhc3MgdGhlIENvbnRleHQuQ29uc3VtZXIgaW5zdGVhZD8nO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFkZGVuZHVtID0gJyBIb3dldmVyLCBpdCBpcyBzZXQgdG8gYW4gb2JqZWN0IHdpdGgga2V5cyB7JyArIE9iamVjdC5rZXlzKGNvbnRleHRUeXBlKS5qb2luKCcsICcpICsgJ30uJztcbiAgICAgICAgfVxuXG4gICAgICAgIHdhcm5pbmdXaXRob3V0U3RhY2skMShmYWxzZSwgJyVzIGRlZmluZXMgYW4gaW52YWxpZCBjb250ZXh0VHlwZS4gJyArICdjb250ZXh0VHlwZSBzaG91bGQgcG9pbnQgdG8gdGhlIENvbnRleHQgb2JqZWN0IHJldHVybmVkIGJ5IFJlYWN0LmNyZWF0ZUNvbnRleHQoKS4lcycsIGdldENvbXBvbmVudE5hbWUoY3RvcikgfHwgJ0NvbXBvbmVudCcsIGFkZGVuZHVtKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAodHlwZW9mIGNvbnRleHRUeXBlID09PSAnb2JqZWN0JyAmJiBjb250ZXh0VHlwZSAhPT0gbnVsbCkge1xuICAgIGNvbnRleHQgPSByZWFkQ29udGV4dChjb250ZXh0VHlwZSk7XG4gIH0gZWxzZSBpZiAoIWRpc2FibGVMZWdhY3lDb250ZXh0KSB7XG4gICAgdW5tYXNrZWRDb250ZXh0ID0gZ2V0VW5tYXNrZWRDb250ZXh0KHdvcmtJblByb2dyZXNzLCBjdG9yLCB0cnVlKTtcbiAgICB2YXIgY29udGV4dFR5cGVzID0gY3Rvci5jb250ZXh0VHlwZXM7XG4gICAgaXNMZWdhY3lDb250ZXh0Q29uc3VtZXIgPSBjb250ZXh0VHlwZXMgIT09IG51bGwgJiYgY29udGV4dFR5cGVzICE9PSB1bmRlZmluZWQ7XG4gICAgY29udGV4dCA9IGlzTGVnYWN5Q29udGV4dENvbnN1bWVyID8gZ2V0TWFza2VkQ29udGV4dCh3b3JrSW5Qcm9ncmVzcywgdW5tYXNrZWRDb250ZXh0KSA6IGVtcHR5Q29udGV4dE9iamVjdDtcbiAgfSAvLyBJbnN0YW50aWF0ZSB0d2ljZSB0byBoZWxwIGRldGVjdCBzaWRlLWVmZmVjdHMuXG5cblxuICB7XG4gICAgaWYgKGRlYnVnUmVuZGVyUGhhc2VTaWRlRWZmZWN0c0ZvclN0cmljdE1vZGUgJiYgd29ya0luUHJvZ3Jlc3MubW9kZSAmIFN0cmljdE1vZGUpIHtcbiAgICAgIG5ldyBjdG9yKHByb3BzLCBjb250ZXh0KTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZXdcbiAgICB9XG4gIH1cblxuICB2YXIgaW5zdGFuY2UgPSBuZXcgY3Rvcihwcm9wcywgY29udGV4dCk7XG4gIHZhciBzdGF0ZSA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPSBpbnN0YW5jZS5zdGF0ZSAhPT0gbnVsbCAmJiBpbnN0YW5jZS5zdGF0ZSAhPT0gdW5kZWZpbmVkID8gaW5zdGFuY2Uuc3RhdGUgOiBudWxsO1xuICBhZG9wdENsYXNzSW5zdGFuY2Uod29ya0luUHJvZ3Jlc3MsIGluc3RhbmNlKTtcblxuICB7XG4gICAgaWYgKHR5cGVvZiBjdG9yLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9PT0gJ2Z1bmN0aW9uJyAmJiBzdGF0ZSA9PT0gbnVsbCkge1xuICAgICAgdmFyIGNvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lKGN0b3IpIHx8ICdDb21wb25lbnQnO1xuXG4gICAgICBpZiAoIWRpZFdhcm5BYm91dFVuaW5pdGlhbGl6ZWRTdGF0ZS5oYXMoY29tcG9uZW50TmFtZSkpIHtcbiAgICAgICAgZGlkV2FybkFib3V0VW5pbml0aWFsaXplZFN0YXRlLmFkZChjb21wb25lbnROYW1lKTtcbiAgICAgICAgd2FybmluZ1dpdGhvdXRTdGFjayQxKGZhbHNlLCAnYCVzYCB1c2VzIGBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHNgIGJ1dCBpdHMgaW5pdGlhbCBzdGF0ZSBpcyAnICsgJyVzLiBUaGlzIGlzIG5vdCByZWNvbW1lbmRlZC4gSW5zdGVhZCwgZGVmaW5lIHRoZSBpbml0aWFsIHN0YXRlIGJ5ICcgKyAnYXNzaWduaW5nIGFuIG9iamVjdCB0byBgdGhpcy5zdGF0ZWAgaW4gdGhlIGNvbnN0cnVjdG9yIG9mIGAlc2AuICcgKyAnVGhpcyBlbnN1cmVzIHRoYXQgYGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wc2AgYXJndW1lbnRzIGhhdmUgYSBjb25zaXN0ZW50IHNoYXBlLicsIGNvbXBvbmVudE5hbWUsIGluc3RhbmNlLnN0YXRlID09PSBudWxsID8gJ251bGwnIDogJ3VuZGVmaW5lZCcsIGNvbXBvbmVudE5hbWUpO1xuICAgICAgfVxuICAgIH0gLy8gSWYgbmV3IGNvbXBvbmVudCBBUElzIGFyZSBkZWZpbmVkLCBcInVuc2FmZVwiIGxpZmVjeWNsZXMgd29uJ3QgYmUgY2FsbGVkLlxuICAgIC8vIFdhcm4gYWJvdXQgdGhlc2UgbGlmZWN5Y2xlcyBpZiB0aGV5IGFyZSBwcmVzZW50LlxuICAgIC8vIERvbid0IHdhcm4gYWJvdXQgcmVhY3QtbGlmZWN5Y2xlcy1jb21wYXQgcG9seWZpbGxlZCBtZXRob2RzIHRob3VnaC5cblxuXG4gICAgaWYgKHR5cGVvZiBjdG9yLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2YgaW5zdGFuY2UuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHZhciBmb3VuZFdpbGxNb3VudE5hbWUgPSBudWxsO1xuICAgICAgdmFyIGZvdW5kV2lsbFJlY2VpdmVQcm9wc05hbWUgPSBudWxsO1xuICAgICAgdmFyIGZvdW5kV2lsbFVwZGF0ZU5hbWUgPSBudWxsO1xuXG4gICAgICBpZiAodHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudFdpbGxNb3VudCA9PT0gJ2Z1bmN0aW9uJyAmJiBpbnN0YW5jZS5jb21wb25lbnRXaWxsTW91bnQuX19zdXBwcmVzc0RlcHJlY2F0aW9uV2FybmluZyAhPT0gdHJ1ZSkge1xuICAgICAgICBmb3VuZFdpbGxNb3VudE5hbWUgPSAnY29tcG9uZW50V2lsbE1vdW50JztcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGluc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgZm91bmRXaWxsTW91bnROYW1lID0gJ1VOU0FGRV9jb21wb25lbnRXaWxsTW91bnQnO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPT09ICdmdW5jdGlvbicgJiYgaW5zdGFuY2UuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcy5fX3N1cHByZXNzRGVwcmVjYXRpb25XYXJuaW5nICE9PSB0cnVlKSB7XG4gICAgICAgIGZvdW5kV2lsbFJlY2VpdmVQcm9wc05hbWUgPSAnY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyc7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBpbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBmb3VuZFdpbGxSZWNlaXZlUHJvcHNOYW1lID0gJ1VOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJztcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnRXaWxsVXBkYXRlID09PSAnZnVuY3Rpb24nICYmIGluc3RhbmNlLmNvbXBvbmVudFdpbGxVcGRhdGUuX19zdXBwcmVzc0RlcHJlY2F0aW9uV2FybmluZyAhPT0gdHJ1ZSkge1xuICAgICAgICBmb3VuZFdpbGxVcGRhdGVOYW1lID0gJ2NvbXBvbmVudFdpbGxVcGRhdGUnO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgZm91bmRXaWxsVXBkYXRlTmFtZSA9ICdVTlNBRkVfY29tcG9uZW50V2lsbFVwZGF0ZSc7XG4gICAgICB9XG5cbiAgICAgIGlmIChmb3VuZFdpbGxNb3VudE5hbWUgIT09IG51bGwgfHwgZm91bmRXaWxsUmVjZWl2ZVByb3BzTmFtZSAhPT0gbnVsbCB8fCBmb3VuZFdpbGxVcGRhdGVOYW1lICE9PSBudWxsKSB7XG4gICAgICAgIHZhciBfY29tcG9uZW50TmFtZSA9IGdldENvbXBvbmVudE5hbWUoY3RvcikgfHwgJ0NvbXBvbmVudCc7XG5cbiAgICAgICAgdmFyIG5ld0FwaU5hbWUgPSB0eXBlb2YgY3Rvci5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPT09ICdmdW5jdGlvbicgPyAnZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKCknIDogJ2dldFNuYXBzaG90QmVmb3JlVXBkYXRlKCknO1xuXG4gICAgICAgIGlmICghZGlkV2FybkFib3V0TGVnYWN5TGlmZWN5Y2xlc0FuZERlcml2ZWRTdGF0ZS5oYXMoX2NvbXBvbmVudE5hbWUpKSB7XG4gICAgICAgICAgZGlkV2FybkFib3V0TGVnYWN5TGlmZWN5Y2xlc0FuZERlcml2ZWRTdGF0ZS5hZGQoX2NvbXBvbmVudE5hbWUpO1xuICAgICAgICAgIHdhcm5pbmdXaXRob3V0U3RhY2skMShmYWxzZSwgJ1Vuc2FmZSBsZWdhY3kgbGlmZWN5Y2xlcyB3aWxsIG5vdCBiZSBjYWxsZWQgZm9yIGNvbXBvbmVudHMgdXNpbmcgbmV3IGNvbXBvbmVudCBBUElzLlxcblxcbicgKyAnJXMgdXNlcyAlcyBidXQgYWxzbyBjb250YWlucyB0aGUgZm9sbG93aW5nIGxlZ2FjeSBsaWZlY3ljbGVzOiVzJXMlc1xcblxcbicgKyAnVGhlIGFib3ZlIGxpZmVjeWNsZXMgc2hvdWxkIGJlIHJlbW92ZWQuIExlYXJuIG1vcmUgYWJvdXQgdGhpcyB3YXJuaW5nIGhlcmU6XFxuJyArICdodHRwczovL2ZiLm1lL3JlYWN0LXVuc2FmZS1jb21wb25lbnQtbGlmZWN5Y2xlcycsIF9jb21wb25lbnROYW1lLCBuZXdBcGlOYW1lLCBmb3VuZFdpbGxNb3VudE5hbWUgIT09IG51bGwgPyBcIlxcbiAgXCIgKyBmb3VuZFdpbGxNb3VudE5hbWUgOiAnJywgZm91bmRXaWxsUmVjZWl2ZVByb3BzTmFtZSAhPT0gbnVsbCA/IFwiXFxuICBcIiArIGZvdW5kV2lsbFJlY2VpdmVQcm9wc05hbWUgOiAnJywgZm91bmRXaWxsVXBkYXRlTmFtZSAhPT0gbnVsbCA/IFwiXFxuICBcIiArIGZvdW5kV2lsbFVwZGF0ZU5hbWUgOiAnJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0gLy8gQ2FjaGUgdW5tYXNrZWQgY29udGV4dCBzbyB3ZSBjYW4gYXZvaWQgcmVjcmVhdGluZyBtYXNrZWQgY29udGV4dCB1bmxlc3MgbmVjZXNzYXJ5LlxuICAvLyBSZWFjdEZpYmVyQ29udGV4dCB1c3VhbGx5IHVwZGF0ZXMgdGhpcyBjYWNoZSBidXQgY2FuJ3QgZm9yIG5ld2x5LWNyZWF0ZWQgaW5zdGFuY2VzLlxuXG5cbiAgaWYgKGlzTGVnYWN5Q29udGV4dENvbnN1bWVyKSB7XG4gICAgY2FjaGVDb250ZXh0KHdvcmtJblByb2dyZXNzLCB1bm1hc2tlZENvbnRleHQsIGNvbnRleHQpO1xuICB9XG5cbiAgcmV0dXJuIGluc3RhbmNlO1xufVxuXG5mdW5jdGlvbiBjYWxsQ29tcG9uZW50V2lsbE1vdW50KHdvcmtJblByb2dyZXNzLCBpbnN0YW5jZSkge1xuICBzdGFydFBoYXNlVGltZXIod29ya0luUHJvZ3Jlc3MsICdjb21wb25lbnRXaWxsTW91bnQnKTtcbiAgdmFyIG9sZFN0YXRlID0gaW5zdGFuY2Uuc3RhdGU7XG5cbiAgaWYgKHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnRXaWxsTW91bnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICBpbnN0YW5jZS5jb21wb25lbnRXaWxsTW91bnQoKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGluc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQoKTtcbiAgfVxuXG4gIHN0b3BQaGFzZVRpbWVyKCk7XG5cbiAgaWYgKG9sZFN0YXRlICE9PSBpbnN0YW5jZS5zdGF0ZSkge1xuICAgIHtcbiAgICAgIHdhcm5pbmdXaXRob3V0U3RhY2skMShmYWxzZSwgJyVzLmNvbXBvbmVudFdpbGxNb3VudCgpOiBBc3NpZ25pbmcgZGlyZWN0bHkgdG8gdGhpcy5zdGF0ZSBpcyAnICsgXCJkZXByZWNhdGVkIChleGNlcHQgaW5zaWRlIGEgY29tcG9uZW50J3MgXCIgKyAnY29uc3RydWN0b3IpLiBVc2Ugc2V0U3RhdGUgaW5zdGVhZC4nLCBnZXRDb21wb25lbnROYW1lKHdvcmtJblByb2dyZXNzLnR5cGUpIHx8ICdDb21wb25lbnQnKTtcbiAgICB9XG5cbiAgICBjbGFzc0NvbXBvbmVudFVwZGF0ZXIuZW5xdWV1ZVJlcGxhY2VTdGF0ZShpbnN0YW5jZSwgaW5zdGFuY2Uuc3RhdGUsIG51bGwpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNhbGxDb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKHdvcmtJblByb2dyZXNzLCBpbnN0YW5jZSwgbmV3UHJvcHMsIG5leHRDb250ZXh0KSB7XG4gIHZhciBvbGRTdGF0ZSA9IGluc3RhbmNlLnN0YXRlO1xuICBzdGFydFBoYXNlVGltZXIod29ya0luUHJvZ3Jlc3MsICdjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJyk7XG5cbiAgaWYgKHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgaW5zdGFuY2UuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXdQcm9wcywgbmV4dENvbnRleHQpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBpbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGluc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5ld1Byb3BzLCBuZXh0Q29udGV4dCk7XG4gIH1cblxuICBzdG9wUGhhc2VUaW1lcigpO1xuXG4gIGlmIChpbnN0YW5jZS5zdGF0ZSAhPT0gb2xkU3RhdGUpIHtcbiAgICB7XG4gICAgICB2YXIgY29tcG9uZW50TmFtZSA9IGdldENvbXBvbmVudE5hbWUod29ya0luUHJvZ3Jlc3MudHlwZSkgfHwgJ0NvbXBvbmVudCc7XG5cbiAgICAgIGlmICghZGlkV2FybkFib3V0U3RhdGVBc3NpZ25tZW50Rm9yQ29tcG9uZW50Lmhhcyhjb21wb25lbnROYW1lKSkge1xuICAgICAgICBkaWRXYXJuQWJvdXRTdGF0ZUFzc2lnbm1lbnRGb3JDb21wb25lbnQuYWRkKGNvbXBvbmVudE5hbWUpO1xuICAgICAgICB3YXJuaW5nV2l0aG91dFN0YWNrJDEoZmFsc2UsICclcy5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKCk6IEFzc2lnbmluZyBkaXJlY3RseSB0byAnICsgXCJ0aGlzLnN0YXRlIGlzIGRlcHJlY2F0ZWQgKGV4Y2VwdCBpbnNpZGUgYSBjb21wb25lbnQncyBcIiArICdjb25zdHJ1Y3RvcikuIFVzZSBzZXRTdGF0ZSBpbnN0ZWFkLicsIGNvbXBvbmVudE5hbWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNsYXNzQ29tcG9uZW50VXBkYXRlci5lbnF1ZXVlUmVwbGFjZVN0YXRlKGluc3RhbmNlLCBpbnN0YW5jZS5zdGF0ZSwgbnVsbCk7XG4gIH1cbn0gLy8gSW52b2tlcyB0aGUgbW91bnQgbGlmZS1jeWNsZXMgb24gYSBwcmV2aW91c2x5IG5ldmVyIHJlbmRlcmVkIGluc3RhbmNlLlxuXG5cbmZ1bmN0aW9uIG1vdW50Q2xhc3NJbnN0YW5jZSh3b3JrSW5Qcm9ncmVzcywgY3RvciwgbmV3UHJvcHMsIHJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gIHtcbiAgICBjaGVja0NsYXNzSW5zdGFuY2Uod29ya0luUHJvZ3Jlc3MsIGN0b3IsIG5ld1Byb3BzKTtcbiAgfVxuXG4gIHZhciBpbnN0YW5jZSA9IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZTtcbiAgaW5zdGFuY2UucHJvcHMgPSBuZXdQcm9wcztcbiAgaW5zdGFuY2Uuc3RhdGUgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlO1xuICBpbnN0YW5jZS5yZWZzID0gZW1wdHlSZWZzT2JqZWN0O1xuICB2YXIgY29udGV4dFR5cGUgPSBjdG9yLmNvbnRleHRUeXBlO1xuXG4gIGlmICh0eXBlb2YgY29udGV4dFR5cGUgPT09ICdvYmplY3QnICYmIGNvbnRleHRUeXBlICE9PSBudWxsKSB7XG4gICAgaW5zdGFuY2UuY29udGV4dCA9IHJlYWRDb250ZXh0KGNvbnRleHRUeXBlKTtcbiAgfSBlbHNlIGlmIChkaXNhYmxlTGVnYWN5Q29udGV4dCkge1xuICAgIGluc3RhbmNlLmNvbnRleHQgPSBlbXB0eUNvbnRleHRPYmplY3Q7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHVubWFza2VkQ29udGV4dCA9IGdldFVubWFza2VkQ29udGV4dCh3b3JrSW5Qcm9ncmVzcywgY3RvciwgdHJ1ZSk7XG4gICAgaW5zdGFuY2UuY29udGV4dCA9IGdldE1hc2tlZENvbnRleHQod29ya0luUHJvZ3Jlc3MsIHVubWFza2VkQ29udGV4dCk7XG4gIH1cblxuICB7XG4gICAgaWYgKGluc3RhbmNlLnN0YXRlID09PSBuZXdQcm9wcykge1xuICAgICAgdmFyIGNvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lKGN0b3IpIHx8ICdDb21wb25lbnQnO1xuXG4gICAgICBpZiAoIWRpZFdhcm5BYm91dERpcmVjdGx5QXNzaWduaW5nUHJvcHNUb1N0YXRlLmhhcyhjb21wb25lbnROYW1lKSkge1xuICAgICAgICBkaWRXYXJuQWJvdXREaXJlY3RseUFzc2lnbmluZ1Byb3BzVG9TdGF0ZS5hZGQoY29tcG9uZW50TmFtZSk7XG4gICAgICAgIHdhcm5pbmdXaXRob3V0U3RhY2skMShmYWxzZSwgJyVzOiBJdCBpcyBub3QgcmVjb21tZW5kZWQgdG8gYXNzaWduIHByb3BzIGRpcmVjdGx5IHRvIHN0YXRlICcgKyBcImJlY2F1c2UgdXBkYXRlcyB0byBwcm9wcyB3b24ndCBiZSByZWZsZWN0ZWQgaW4gc3RhdGUuIFwiICsgJ0luIG1vc3QgY2FzZXMsIGl0IGlzIGJldHRlciB0byB1c2UgcHJvcHMgZGlyZWN0bHkuJywgY29tcG9uZW50TmFtZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHdvcmtJblByb2dyZXNzLm1vZGUgJiBTdHJpY3RNb2RlKSB7XG4gICAgICBSZWFjdFN0cmljdE1vZGVXYXJuaW5ncy5yZWNvcmRMZWdhY3lDb250ZXh0V2FybmluZyh3b3JrSW5Qcm9ncmVzcywgaW5zdGFuY2UpO1xuICAgIH1cblxuICAgIGlmICh3YXJuQWJvdXREZXByZWNhdGVkTGlmZWN5Y2xlcykge1xuICAgICAgUmVhY3RTdHJpY3RNb2RlV2FybmluZ3MucmVjb3JkVW5zYWZlTGlmZWN5Y2xlV2FybmluZ3Mod29ya0luUHJvZ3Jlc3MsIGluc3RhbmNlKTtcbiAgICB9XG4gIH1cblxuICB2YXIgdXBkYXRlUXVldWUgPSB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZTtcblxuICBpZiAodXBkYXRlUXVldWUgIT09IG51bGwpIHtcbiAgICBwcm9jZXNzVXBkYXRlUXVldWUod29ya0luUHJvZ3Jlc3MsIHVwZGF0ZVF1ZXVlLCBuZXdQcm9wcywgaW5zdGFuY2UsIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgICBpbnN0YW5jZS5zdGF0ZSA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGU7XG4gIH1cblxuICB2YXIgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID0gY3Rvci5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHM7XG5cbiAgaWYgKHR5cGVvZiBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBhcHBseURlcml2ZWRTdGF0ZUZyb21Qcm9wcyh3b3JrSW5Qcm9ncmVzcywgY3RvciwgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzLCBuZXdQcm9wcyk7XG4gICAgaW5zdGFuY2Uuc3RhdGUgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlO1xuICB9IC8vIEluIG9yZGVyIHRvIHN1cHBvcnQgcmVhY3QtbGlmZWN5Y2xlcy1jb21wYXQgcG9seWZpbGxlZCBjb21wb25lbnRzLFxuICAvLyBVbnNhZmUgbGlmZWN5Y2xlcyBzaG91bGQgbm90IGJlIGludm9rZWQgZm9yIGNvbXBvbmVudHMgdXNpbmcgdGhlIG5ldyBBUElzLlxuXG5cbiAgaWYgKHR5cGVvZiBjdG9yLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyAhPT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgaW5zdGFuY2UuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUgIT09ICdmdW5jdGlvbicgJiYgKHR5cGVvZiBpbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbE1vdW50ID09PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnRXaWxsTW91bnQgPT09ICdmdW5jdGlvbicpKSB7XG4gICAgY2FsbENvbXBvbmVudFdpbGxNb3VudCh3b3JrSW5Qcm9ncmVzcywgaW5zdGFuY2UpOyAvLyBJZiB3ZSBoYWQgYWRkaXRpb25hbCBzdGF0ZSB1cGRhdGVzIGR1cmluZyB0aGlzIGxpZmUtY3ljbGUsIGxldCdzXG4gICAgLy8gcHJvY2VzcyB0aGVtIG5vdy5cblxuICAgIHVwZGF0ZVF1ZXVlID0gd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWU7XG5cbiAgICBpZiAodXBkYXRlUXVldWUgIT09IG51bGwpIHtcbiAgICAgIHByb2Nlc3NVcGRhdGVRdWV1ZSh3b3JrSW5Qcm9ncmVzcywgdXBkYXRlUXVldWUsIG5ld1Byb3BzLCBpbnN0YW5jZSwgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICAgICAgaW5zdGFuY2Uuc3RhdGUgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlO1xuICAgIH1cbiAgfVxuXG4gIGlmICh0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50RGlkTW91bnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gVXBkYXRlO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlc3VtZU1vdW50Q2xhc3NJbnN0YW5jZSh3b3JrSW5Qcm9ncmVzcywgY3RvciwgbmV3UHJvcHMsIHJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gIHZhciBpbnN0YW5jZSA9IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZTtcbiAgdmFyIG9sZFByb3BzID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRQcm9wcztcbiAgaW5zdGFuY2UucHJvcHMgPSBvbGRQcm9wcztcbiAgdmFyIG9sZENvbnRleHQgPSBpbnN0YW5jZS5jb250ZXh0O1xuICB2YXIgY29udGV4dFR5cGUgPSBjdG9yLmNvbnRleHRUeXBlO1xuICB2YXIgbmV4dENvbnRleHQgPSBlbXB0eUNvbnRleHRPYmplY3Q7XG5cbiAgaWYgKHR5cGVvZiBjb250ZXh0VHlwZSA9PT0gJ29iamVjdCcgJiYgY29udGV4dFR5cGUgIT09IG51bGwpIHtcbiAgICBuZXh0Q29udGV4dCA9IHJlYWRDb250ZXh0KGNvbnRleHRUeXBlKTtcbiAgfSBlbHNlIGlmICghZGlzYWJsZUxlZ2FjeUNvbnRleHQpIHtcbiAgICB2YXIgbmV4dExlZ2FjeVVubWFza2VkQ29udGV4dCA9IGdldFVubWFza2VkQ29udGV4dCh3b3JrSW5Qcm9ncmVzcywgY3RvciwgdHJ1ZSk7XG4gICAgbmV4dENvbnRleHQgPSBnZXRNYXNrZWRDb250ZXh0KHdvcmtJblByb2dyZXNzLCBuZXh0TGVnYWN5VW5tYXNrZWRDb250ZXh0KTtcbiAgfVxuXG4gIHZhciBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPSBjdG9yLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcztcbiAgdmFyIGhhc05ld0xpZmVjeWNsZXMgPSB0eXBlb2YgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID09PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiBpbnN0YW5jZS5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSA9PT0gJ2Z1bmN0aW9uJzsgLy8gTm90ZTogRHVyaW5nIHRoZXNlIGxpZmUtY3ljbGVzLCBpbnN0YW5jZS5wcm9wcy9pbnN0YW5jZS5zdGF0ZSBhcmUgd2hhdFxuICAvLyBldmVyIHRoZSBwcmV2aW91c2x5IGF0dGVtcHRlZCB0byByZW5kZXIgLSBub3QgdGhlIFwiY3VycmVudFwiLiBIb3dldmVyLFxuICAvLyBkdXJpbmcgY29tcG9uZW50RGlkVXBkYXRlIHdlIHBhc3MgdGhlIFwiY3VycmVudFwiIHByb3BzLlxuICAvLyBJbiBvcmRlciB0byBzdXBwb3J0IHJlYWN0LWxpZmVjeWNsZXMtY29tcGF0IHBvbHlmaWxsZWQgY29tcG9uZW50cyxcbiAgLy8gVW5zYWZlIGxpZmVjeWNsZXMgc2hvdWxkIG5vdCBiZSBpbnZva2VkIGZvciBjb21wb25lbnRzIHVzaW5nIHRoZSBuZXcgQVBJcy5cblxuICBpZiAoIWhhc05ld0xpZmVjeWNsZXMgJiYgKHR5cGVvZiBpbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9PT0gJ2Z1bmN0aW9uJykpIHtcbiAgICBpZiAob2xkUHJvcHMgIT09IG5ld1Byb3BzIHx8IG9sZENvbnRleHQgIT09IG5leHRDb250ZXh0KSB7XG4gICAgICBjYWxsQ29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyh3b3JrSW5Qcm9ncmVzcywgaW5zdGFuY2UsIG5ld1Byb3BzLCBuZXh0Q29udGV4dCk7XG4gICAgfVxuICB9XG5cbiAgcmVzZXRIYXNGb3JjZVVwZGF0ZUJlZm9yZVByb2Nlc3NpbmcoKTtcbiAgdmFyIG9sZFN0YXRlID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZTtcbiAgdmFyIG5ld1N0YXRlID0gaW5zdGFuY2Uuc3RhdGUgPSBvbGRTdGF0ZTtcbiAgdmFyIHVwZGF0ZVF1ZXVlID0gd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWU7XG5cbiAgaWYgKHVwZGF0ZVF1ZXVlICE9PSBudWxsKSB7XG4gICAgcHJvY2Vzc1VwZGF0ZVF1ZXVlKHdvcmtJblByb2dyZXNzLCB1cGRhdGVRdWV1ZSwgbmV3UHJvcHMsIGluc3RhbmNlLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gICAgbmV3U3RhdGUgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlO1xuICB9XG5cbiAgaWYgKG9sZFByb3BzID09PSBuZXdQcm9wcyAmJiBvbGRTdGF0ZSA9PT0gbmV3U3RhdGUgJiYgIWhhc0NvbnRleHRDaGFuZ2VkKCkgJiYgIWNoZWNrSGFzRm9yY2VVcGRhdGVBZnRlclByb2Nlc3NpbmcoKSkge1xuICAgIC8vIElmIGFuIHVwZGF0ZSB3YXMgYWxyZWFkeSBpbiBwcm9ncmVzcywgd2Ugc2hvdWxkIHNjaGVkdWxlIGFuIFVwZGF0ZVxuICAgIC8vIGVmZmVjdCBldmVuIHRob3VnaCB3ZSdyZSBiYWlsaW5nIG91dCwgc28gdGhhdCBjV1UvY0RVIGFyZSBjYWxsZWQuXG4gICAgaWYgKHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnREaWRNb3VudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnIHw9IFVwZGF0ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAodHlwZW9mIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGFwcGx5RGVyaXZlZFN0YXRlRnJvbVByb3BzKHdvcmtJblByb2dyZXNzLCBjdG9yLCBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMsIG5ld1Byb3BzKTtcbiAgICBuZXdTdGF0ZSA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGU7XG4gIH1cblxuICB2YXIgc2hvdWxkVXBkYXRlID0gY2hlY2tIYXNGb3JjZVVwZGF0ZUFmdGVyUHJvY2Vzc2luZygpIHx8IGNoZWNrU2hvdWxkQ29tcG9uZW50VXBkYXRlKHdvcmtJblByb2dyZXNzLCBjdG9yLCBvbGRQcm9wcywgbmV3UHJvcHMsIG9sZFN0YXRlLCBuZXdTdGF0ZSwgbmV4dENvbnRleHQpO1xuXG4gIGlmIChzaG91bGRVcGRhdGUpIHtcbiAgICAvLyBJbiBvcmRlciB0byBzdXBwb3J0IHJlYWN0LWxpZmVjeWNsZXMtY29tcGF0IHBvbHlmaWxsZWQgY29tcG9uZW50cyxcbiAgICAvLyBVbnNhZmUgbGlmZWN5Y2xlcyBzaG91bGQgbm90IGJlIGludm9rZWQgZm9yIGNvbXBvbmVudHMgdXNpbmcgdGhlIG5ldyBBUElzLlxuICAgIGlmICghaGFzTmV3TGlmZWN5Y2xlcyAmJiAodHlwZW9mIGluc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQgPT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudFdpbGxNb3VudCA9PT0gJ2Z1bmN0aW9uJykpIHtcbiAgICAgIHN0YXJ0UGhhc2VUaW1lcih3b3JrSW5Qcm9ncmVzcywgJ2NvbXBvbmVudFdpbGxNb3VudCcpO1xuXG4gICAgICBpZiAodHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudFdpbGxNb3VudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBpbnN0YW5jZS5jb21wb25lbnRXaWxsTW91bnQoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBpbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbE1vdW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGluc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQoKTtcbiAgICAgIH1cblxuICAgICAgc3RvcFBoYXNlVGltZXIoKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudERpZE1vdW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gVXBkYXRlO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBJZiBhbiB1cGRhdGUgd2FzIGFscmVhZHkgaW4gcHJvZ3Jlc3MsIHdlIHNob3VsZCBzY2hlZHVsZSBhbiBVcGRhdGVcbiAgICAvLyBlZmZlY3QgZXZlbiB0aG91Z2ggd2UncmUgYmFpbGluZyBvdXQsIHNvIHRoYXQgY1dVL2NEVSBhcmUgY2FsbGVkLlxuICAgIGlmICh0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50RGlkTW91bnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyB8PSBVcGRhdGU7XG4gICAgfSAvLyBJZiBzaG91bGRDb21wb25lbnRVcGRhdGUgcmV0dXJuZWQgZmFsc2UsIHdlIHNob3VsZCBzdGlsbCB1cGRhdGUgdGhlXG4gICAgLy8gbWVtb2l6ZWQgc3RhdGUgdG8gaW5kaWNhdGUgdGhhdCB0aGlzIHdvcmsgY2FuIGJlIHJldXNlZC5cblxuXG4gICAgd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRQcm9wcyA9IG5ld1Byb3BzO1xuICAgIHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPSBuZXdTdGF0ZTtcbiAgfSAvLyBVcGRhdGUgdGhlIGV4aXN0aW5nIGluc3RhbmNlJ3Mgc3RhdGUsIHByb3BzLCBhbmQgY29udGV4dCBwb2ludGVycyBldmVuXG4gIC8vIGlmIHNob3VsZENvbXBvbmVudFVwZGF0ZSByZXR1cm5zIGZhbHNlLlxuXG5cbiAgaW5zdGFuY2UucHJvcHMgPSBuZXdQcm9wcztcbiAgaW5zdGFuY2Uuc3RhdGUgPSBuZXdTdGF0ZTtcbiAgaW5zdGFuY2UuY29udGV4dCA9IG5leHRDb250ZXh0O1xuICByZXR1cm4gc2hvdWxkVXBkYXRlO1xufSAvLyBJbnZva2VzIHRoZSB1cGRhdGUgbGlmZS1jeWNsZXMgYW5kIHJldHVybnMgZmFsc2UgaWYgaXQgc2hvdWxkbid0IHJlcmVuZGVyLlxuXG5cbmZ1bmN0aW9uIHVwZGF0ZUNsYXNzSW5zdGFuY2UoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIGN0b3IsIG5ld1Byb3BzLCByZW5kZXJFeHBpcmF0aW9uVGltZSkge1xuICB2YXIgaW5zdGFuY2UgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGU7XG4gIHZhciBvbGRQcm9wcyA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkUHJvcHM7XG4gIGluc3RhbmNlLnByb3BzID0gd29ya0luUHJvZ3Jlc3MudHlwZSA9PT0gd29ya0luUHJvZ3Jlc3MuZWxlbWVudFR5cGUgPyBvbGRQcm9wcyA6IHJlc29sdmVEZWZhdWx0UHJvcHMod29ya0luUHJvZ3Jlc3MudHlwZSwgb2xkUHJvcHMpO1xuICB2YXIgb2xkQ29udGV4dCA9IGluc3RhbmNlLmNvbnRleHQ7XG4gIHZhciBjb250ZXh0VHlwZSA9IGN0b3IuY29udGV4dFR5cGU7XG4gIHZhciBuZXh0Q29udGV4dCA9IGVtcHR5Q29udGV4dE9iamVjdDtcblxuICBpZiAodHlwZW9mIGNvbnRleHRUeXBlID09PSAnb2JqZWN0JyAmJiBjb250ZXh0VHlwZSAhPT0gbnVsbCkge1xuICAgIG5leHRDb250ZXh0ID0gcmVhZENvbnRleHQoY29udGV4dFR5cGUpO1xuICB9IGVsc2UgaWYgKCFkaXNhYmxlTGVnYWN5Q29udGV4dCkge1xuICAgIHZhciBuZXh0VW5tYXNrZWRDb250ZXh0ID0gZ2V0VW5tYXNrZWRDb250ZXh0KHdvcmtJblByb2dyZXNzLCBjdG9yLCB0cnVlKTtcbiAgICBuZXh0Q29udGV4dCA9IGdldE1hc2tlZENvbnRleHQod29ya0luUHJvZ3Jlc3MsIG5leHRVbm1hc2tlZENvbnRleHQpO1xuICB9XG5cbiAgdmFyIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9IGN0b3IuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzO1xuICB2YXIgaGFzTmV3TGlmZWN5Y2xlcyA9IHR5cGVvZiBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIGluc3RhbmNlLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlID09PSAnZnVuY3Rpb24nOyAvLyBOb3RlOiBEdXJpbmcgdGhlc2UgbGlmZS1jeWNsZXMsIGluc3RhbmNlLnByb3BzL2luc3RhbmNlLnN0YXRlIGFyZSB3aGF0XG4gIC8vIGV2ZXIgdGhlIHByZXZpb3VzbHkgYXR0ZW1wdGVkIHRvIHJlbmRlciAtIG5vdCB0aGUgXCJjdXJyZW50XCIuIEhvd2V2ZXIsXG4gIC8vIGR1cmluZyBjb21wb25lbnREaWRVcGRhdGUgd2UgcGFzcyB0aGUgXCJjdXJyZW50XCIgcHJvcHMuXG4gIC8vIEluIG9yZGVyIHRvIHN1cHBvcnQgcmVhY3QtbGlmZWN5Y2xlcy1jb21wYXQgcG9seWZpbGxlZCBjb21wb25lbnRzLFxuICAvLyBVbnNhZmUgbGlmZWN5Y2xlcyBzaG91bGQgbm90IGJlIGludm9rZWQgZm9yIGNvbXBvbmVudHMgdXNpbmcgdGhlIG5ldyBBUElzLlxuXG4gIGlmICghaGFzTmV3TGlmZWN5Y2xlcyAmJiAodHlwZW9mIGluc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID09PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID09PSAnZnVuY3Rpb24nKSkge1xuICAgIGlmIChvbGRQcm9wcyAhPT0gbmV3UHJvcHMgfHwgb2xkQ29udGV4dCAhPT0gbmV4dENvbnRleHQpIHtcbiAgICAgIGNhbGxDb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKHdvcmtJblByb2dyZXNzLCBpbnN0YW5jZSwgbmV3UHJvcHMsIG5leHRDb250ZXh0KTtcbiAgICB9XG4gIH1cblxuICByZXNldEhhc0ZvcmNlVXBkYXRlQmVmb3JlUHJvY2Vzc2luZygpO1xuICB2YXIgb2xkU3RhdGUgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlO1xuICB2YXIgbmV3U3RhdGUgPSBpbnN0YW5jZS5zdGF0ZSA9IG9sZFN0YXRlO1xuICB2YXIgdXBkYXRlUXVldWUgPSB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZTtcblxuICBpZiAodXBkYXRlUXVldWUgIT09IG51bGwpIHtcbiAgICBwcm9jZXNzVXBkYXRlUXVldWUod29ya0luUHJvZ3Jlc3MsIHVwZGF0ZVF1ZXVlLCBuZXdQcm9wcywgaW5zdGFuY2UsIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgICBuZXdTdGF0ZSA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGU7XG4gIH1cblxuICBpZiAob2xkUHJvcHMgPT09IG5ld1Byb3BzICYmIG9sZFN0YXRlID09PSBuZXdTdGF0ZSAmJiAhaGFzQ29udGV4dENoYW5nZWQoKSAmJiAhY2hlY2tIYXNGb3JjZVVwZGF0ZUFmdGVyUHJvY2Vzc2luZygpKSB7XG4gICAgLy8gSWYgYW4gdXBkYXRlIHdhcyBhbHJlYWR5IGluIHByb2dyZXNzLCB3ZSBzaG91bGQgc2NoZWR1bGUgYW4gVXBkYXRlXG4gICAgLy8gZWZmZWN0IGV2ZW4gdGhvdWdoIHdlJ3JlIGJhaWxpbmcgb3V0LCBzbyB0aGF0IGNXVS9jRFUgYXJlIGNhbGxlZC5cbiAgICBpZiAodHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudERpZFVwZGF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgaWYgKG9sZFByb3BzICE9PSBjdXJyZW50Lm1lbW9pemVkUHJvcHMgfHwgb2xkU3RhdGUgIT09IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZSkge1xuICAgICAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gVXBkYXRlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0eXBlb2YgaW5zdGFuY2UuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGlmIChvbGRQcm9wcyAhPT0gY3VycmVudC5tZW1vaXplZFByb3BzIHx8IG9sZFN0YXRlICE9PSBjdXJyZW50Lm1lbW9pemVkU3RhdGUpIHtcbiAgICAgICAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnIHw9IFNuYXBzaG90O1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgYXBwbHlEZXJpdmVkU3RhdGVGcm9tUHJvcHMod29ya0luUHJvZ3Jlc3MsIGN0b3IsIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcywgbmV3UHJvcHMpO1xuICAgIG5ld1N0YXRlID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZTtcbiAgfVxuXG4gIHZhciBzaG91bGRVcGRhdGUgPSBjaGVja0hhc0ZvcmNlVXBkYXRlQWZ0ZXJQcm9jZXNzaW5nKCkgfHwgY2hlY2tTaG91bGRDb21wb25lbnRVcGRhdGUod29ya0luUHJvZ3Jlc3MsIGN0b3IsIG9sZFByb3BzLCBuZXdQcm9wcywgb2xkU3RhdGUsIG5ld1N0YXRlLCBuZXh0Q29udGV4dCk7XG5cbiAgaWYgKHNob3VsZFVwZGF0ZSkge1xuICAgIC8vIEluIG9yZGVyIHRvIHN1cHBvcnQgcmVhY3QtbGlmZWN5Y2xlcy1jb21wYXQgcG9seWZpbGxlZCBjb21wb25lbnRzLFxuICAgIC8vIFVuc2FmZSBsaWZlY3ljbGVzIHNob3VsZCBub3QgYmUgaW52b2tlZCBmb3IgY29tcG9uZW50cyB1c2luZyB0aGUgbmV3IEFQSXMuXG4gICAgaWYgKCFoYXNOZXdMaWZlY3ljbGVzICYmICh0eXBlb2YgaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGUgPT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudFdpbGxVcGRhdGUgPT09ICdmdW5jdGlvbicpKSB7XG4gICAgICBzdGFydFBoYXNlVGltZXIod29ya0luUHJvZ3Jlc3MsICdjb21wb25lbnRXaWxsVXBkYXRlJyk7XG5cbiAgICAgIGlmICh0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50V2lsbFVwZGF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBpbnN0YW5jZS5jb21wb25lbnRXaWxsVXBkYXRlKG5ld1Byb3BzLCBuZXdTdGF0ZSwgbmV4dENvbnRleHQpO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGluc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsVXBkYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGluc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsVXBkYXRlKG5ld1Byb3BzLCBuZXdTdGF0ZSwgbmV4dENvbnRleHQpO1xuICAgICAgfVxuXG4gICAgICBzdG9wUGhhc2VUaW1lcigpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50RGlkVXBkYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gVXBkYXRlO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgaW5zdGFuY2UuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyB8PSBTbmFwc2hvdDtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gSWYgYW4gdXBkYXRlIHdhcyBhbHJlYWR5IGluIHByb2dyZXNzLCB3ZSBzaG91bGQgc2NoZWR1bGUgYW4gVXBkYXRlXG4gICAgLy8gZWZmZWN0IGV2ZW4gdGhvdWdoIHdlJ3JlIGJhaWxpbmcgb3V0LCBzbyB0aGF0IGNXVS9jRFUgYXJlIGNhbGxlZC5cbiAgICBpZiAodHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudERpZFVwZGF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgaWYgKG9sZFByb3BzICE9PSBjdXJyZW50Lm1lbW9pemVkUHJvcHMgfHwgb2xkU3RhdGUgIT09IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZSkge1xuICAgICAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gVXBkYXRlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0eXBlb2YgaW5zdGFuY2UuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGlmIChvbGRQcm9wcyAhPT0gY3VycmVudC5tZW1vaXplZFByb3BzIHx8IG9sZFN0YXRlICE9PSBjdXJyZW50Lm1lbW9pemVkU3RhdGUpIHtcbiAgICAgICAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnIHw9IFNuYXBzaG90O1xuICAgICAgfVxuICAgIH0gLy8gSWYgc2hvdWxkQ29tcG9uZW50VXBkYXRlIHJldHVybmVkIGZhbHNlLCB3ZSBzaG91bGQgc3RpbGwgdXBkYXRlIHRoZVxuICAgIC8vIG1lbW9pemVkIHByb3BzL3N0YXRlIHRvIGluZGljYXRlIHRoYXQgdGhpcyB3b3JrIGNhbiBiZSByZXVzZWQuXG5cblxuICAgIHdvcmtJblByb2dyZXNzLm1lbW9pemVkUHJvcHMgPSBuZXdQcm9wcztcbiAgICB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID0gbmV3U3RhdGU7XG4gIH0gLy8gVXBkYXRlIHRoZSBleGlzdGluZyBpbnN0YW5jZSdzIHN0YXRlLCBwcm9wcywgYW5kIGNvbnRleHQgcG9pbnRlcnMgZXZlblxuICAvLyBpZiBzaG91bGRDb21wb25lbnRVcGRhdGUgcmV0dXJucyBmYWxzZS5cblxuXG4gIGluc3RhbmNlLnByb3BzID0gbmV3UHJvcHM7XG4gIGluc3RhbmNlLnN0YXRlID0gbmV3U3RhdGU7XG4gIGluc3RhbmNlLmNvbnRleHQgPSBuZXh0Q29udGV4dDtcbiAgcmV0dXJuIHNob3VsZFVwZGF0ZTtcbn1cblxudmFyIGRpZFdhcm5BYm91dE1hcHM7XG52YXIgZGlkV2FybkFib3V0R2VuZXJhdG9ycztcbnZhciBkaWRXYXJuQWJvdXRTdHJpbmdSZWZzO1xudmFyIG93bmVySGFzS2V5VXNlV2FybmluZztcbnZhciBvd25lckhhc0Z1bmN0aW9uVHlwZVdhcm5pbmc7XG5cbnZhciB3YXJuRm9yTWlzc2luZ0tleSA9IGZ1bmN0aW9uIChjaGlsZCkge307XG5cbntcbiAgZGlkV2FybkFib3V0TWFwcyA9IGZhbHNlO1xuICBkaWRXYXJuQWJvdXRHZW5lcmF0b3JzID0gZmFsc2U7XG4gIGRpZFdhcm5BYm91dFN0cmluZ1JlZnMgPSB7fTtcbiAgLyoqXG4gICAqIFdhcm4gaWYgdGhlcmUncyBubyBrZXkgZXhwbGljaXRseSBzZXQgb24gZHluYW1pYyBhcnJheXMgb2YgY2hpbGRyZW4gb3JcbiAgICogb2JqZWN0IGtleXMgYXJlIG5vdCB2YWxpZC4gVGhpcyBhbGxvd3MgdXMgdG8ga2VlcCB0cmFjayBvZiBjaGlsZHJlbiBiZXR3ZWVuXG4gICAqIHVwZGF0ZXMuXG4gICAqL1xuXG4gIG93bmVySGFzS2V5VXNlV2FybmluZyA9IHt9O1xuICBvd25lckhhc0Z1bmN0aW9uVHlwZVdhcm5pbmcgPSB7fTtcblxuICB3YXJuRm9yTWlzc2luZ0tleSA9IGZ1bmN0aW9uIChjaGlsZCkge1xuICAgIGlmIChjaGlsZCA9PT0gbnVsbCB8fCB0eXBlb2YgY2hpbGQgIT09ICdvYmplY3QnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCFjaGlsZC5fc3RvcmUgfHwgY2hpbGQuX3N0b3JlLnZhbGlkYXRlZCB8fCBjaGlsZC5rZXkgIT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghKHR5cGVvZiBjaGlsZC5fc3RvcmUgPT09ICdvYmplY3QnKSkge1xuICAgICAge1xuICAgICAgICB0aHJvdyBFcnJvcihcIlJlYWN0IENvbXBvbmVudCBpbiB3YXJuRm9yTWlzc2luZ0tleSBzaG91bGQgaGF2ZSBhIF9zdG9yZS4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY2hpbGQuX3N0b3JlLnZhbGlkYXRlZCA9IHRydWU7XG4gICAgdmFyIGN1cnJlbnRDb21wb25lbnRFcnJvckluZm8gPSAnRWFjaCBjaGlsZCBpbiBhIGxpc3Qgc2hvdWxkIGhhdmUgYSB1bmlxdWUgJyArICdcImtleVwiIHByb3AuIFNlZSBodHRwczovL2ZiLm1lL3JlYWN0LXdhcm5pbmcta2V5cyBmb3IgJyArICdtb3JlIGluZm9ybWF0aW9uLicgKyBnZXRDdXJyZW50RmliZXJTdGFja0luRGV2KCk7XG5cbiAgICBpZiAob3duZXJIYXNLZXlVc2VXYXJuaW5nW2N1cnJlbnRDb21wb25lbnRFcnJvckluZm9dKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgb3duZXJIYXNLZXlVc2VXYXJuaW5nW2N1cnJlbnRDb21wb25lbnRFcnJvckluZm9dID0gdHJ1ZTtcbiAgICB3YXJuaW5nJDEoZmFsc2UsICdFYWNoIGNoaWxkIGluIGEgbGlzdCBzaG91bGQgaGF2ZSBhIHVuaXF1ZSAnICsgJ1wia2V5XCIgcHJvcC4gU2VlIGh0dHBzOi8vZmIubWUvcmVhY3Qtd2FybmluZy1rZXlzIGZvciAnICsgJ21vcmUgaW5mb3JtYXRpb24uJyk7XG4gIH07XG59XG5cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcblxuZnVuY3Rpb24gY29lcmNlUmVmKHJldHVybkZpYmVyLCBjdXJyZW50JCQxLCBlbGVtZW50KSB7XG4gIHZhciBtaXhlZFJlZiA9IGVsZW1lbnQucmVmO1xuXG4gIGlmIChtaXhlZFJlZiAhPT0gbnVsbCAmJiB0eXBlb2YgbWl4ZWRSZWYgIT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIG1peGVkUmVmICE9PSAnb2JqZWN0Jykge1xuICAgIHtcbiAgICAgIC8vIFRPRE86IENsZWFuIHRoaXMgdXAgb25jZSB3ZSB0dXJuIG9uIHRoZSBzdHJpbmcgcmVmIHdhcm5pbmcgZm9yXG4gICAgICAvLyBldmVyeW9uZSwgYmVjYXVzZSB0aGUgc3RyaWN0IG1vZGUgY2FzZSB3aWxsIG5vIGxvbmdlciBiZSByZWxldmFudFxuICAgICAgaWYgKHJldHVybkZpYmVyLm1vZGUgJiBTdHJpY3RNb2RlIHx8IHdhcm5BYm91dFN0cmluZ1JlZnMpIHtcbiAgICAgICAgdmFyIGNvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lKHJldHVybkZpYmVyLnR5cGUpIHx8ICdDb21wb25lbnQnO1xuXG4gICAgICAgIGlmICghZGlkV2FybkFib3V0U3RyaW5nUmVmc1tjb21wb25lbnROYW1lXSkge1xuICAgICAgICAgIGlmICh3YXJuQWJvdXRTdHJpbmdSZWZzKSB7XG4gICAgICAgICAgICB3YXJuaW5nV2l0aG91dFN0YWNrJDEoZmFsc2UsICdDb21wb25lbnQgXCIlc1wiIGNvbnRhaW5zIHRoZSBzdHJpbmcgcmVmIFwiJXNcIi4gU3VwcG9ydCBmb3Igc3RyaW5nIHJlZnMgJyArICd3aWxsIGJlIHJlbW92ZWQgaW4gYSBmdXR1cmUgbWFqb3IgcmVsZWFzZS4gV2UgcmVjb21tZW5kIHVzaW5nICcgKyAndXNlUmVmKCkgb3IgY3JlYXRlUmVmKCkgaW5zdGVhZC4gJyArICdMZWFybiBtb3JlIGFib3V0IHVzaW5nIHJlZnMgc2FmZWx5IGhlcmU6ICcgKyAnaHR0cHM6Ly9mYi5tZS9yZWFjdC1zdHJpY3QtbW9kZS1zdHJpbmctcmVmJXMnLCBjb21wb25lbnROYW1lLCBtaXhlZFJlZiwgZ2V0U3RhY2tCeUZpYmVySW5EZXZBbmRQcm9kKHJldHVybkZpYmVyKSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHdhcm5pbmdXaXRob3V0U3RhY2skMShmYWxzZSwgJ0Egc3RyaW5nIHJlZiwgXCIlc1wiLCBoYXMgYmVlbiBmb3VuZCB3aXRoaW4gYSBzdHJpY3QgbW9kZSB0cmVlLiAnICsgJ1N0cmluZyByZWZzIGFyZSBhIHNvdXJjZSBvZiBwb3RlbnRpYWwgYnVncyBhbmQgc2hvdWxkIGJlIGF2b2lkZWQuICcgKyAnV2UgcmVjb21tZW5kIHVzaW5nIHVzZVJlZigpIG9yIGNyZWF0ZVJlZigpIGluc3RlYWQuICcgKyAnTGVhcm4gbW9yZSBhYm91dCB1c2luZyByZWZzIHNhZmVseSBoZXJlOiAnICsgJ2h0dHBzOi8vZmIubWUvcmVhY3Qtc3RyaWN0LW1vZGUtc3RyaW5nLXJlZiVzJywgbWl4ZWRSZWYsIGdldFN0YWNrQnlGaWJlckluRGV2QW5kUHJvZChyZXR1cm5GaWJlcikpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGRpZFdhcm5BYm91dFN0cmluZ1JlZnNbY29tcG9uZW50TmFtZV0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGVsZW1lbnQuX293bmVyKSB7XG4gICAgICB2YXIgb3duZXIgPSBlbGVtZW50Ll9vd25lcjtcbiAgICAgIHZhciBpbnN0O1xuXG4gICAgICBpZiAob3duZXIpIHtcbiAgICAgICAgdmFyIG93bmVyRmliZXIgPSBvd25lcjtcblxuICAgICAgICBpZiAoIShvd25lckZpYmVyLnRhZyA9PT0gQ2xhc3NDb21wb25lbnQpKSB7XG4gICAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJGdW5jdGlvbiBjb21wb25lbnRzIGNhbm5vdCBoYXZlIHJlZnMuIERpZCB5b3UgbWVhbiB0byB1c2UgUmVhY3QuZm9yd2FyZFJlZigpP1wiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpbnN0ID0gb3duZXJGaWJlci5zdGF0ZU5vZGU7XG4gICAgICB9XG5cbiAgICAgIGlmICghaW5zdCkge1xuICAgICAgICB7XG4gICAgICAgICAgdGhyb3cgRXJyb3IoXCJNaXNzaW5nIG93bmVyIGZvciBzdHJpbmcgcmVmIFwiICsgbWl4ZWRSZWYgKyBcIi4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIik7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIHN0cmluZ1JlZiA9ICcnICsgbWl4ZWRSZWY7IC8vIENoZWNrIGlmIHByZXZpb3VzIHN0cmluZyByZWYgbWF0Y2hlcyBuZXcgc3RyaW5nIHJlZlxuXG4gICAgICBpZiAoY3VycmVudCQkMSAhPT0gbnVsbCAmJiBjdXJyZW50JCQxLnJlZiAhPT0gbnVsbCAmJiB0eXBlb2YgY3VycmVudCQkMS5yZWYgPT09ICdmdW5jdGlvbicgJiYgY3VycmVudCQkMS5yZWYuX3N0cmluZ1JlZiA9PT0gc3RyaW5nUmVmKSB7XG4gICAgICAgIHJldHVybiBjdXJyZW50JCQxLnJlZjtcbiAgICAgIH1cblxuICAgICAgdmFyIHJlZiA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgcmVmcyA9IGluc3QucmVmcztcblxuICAgICAgICBpZiAocmVmcyA9PT0gZW1wdHlSZWZzT2JqZWN0KSB7XG4gICAgICAgICAgLy8gVGhpcyBpcyBhIGxhenkgcG9vbGVkIGZyb3plbiBvYmplY3QsIHNvIHdlIG5lZWQgdG8gaW5pdGlhbGl6ZS5cbiAgICAgICAgICByZWZzID0gaW5zdC5yZWZzID0ge307XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICBkZWxldGUgcmVmc1tzdHJpbmdSZWZdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlZnNbc3RyaW5nUmVmXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICByZWYuX3N0cmluZ1JlZiA9IHN0cmluZ1JlZjtcbiAgICAgIHJldHVybiByZWY7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghKHR5cGVvZiBtaXhlZFJlZiA9PT0gJ3N0cmluZycpKSB7XG4gICAgICAgIHtcbiAgICAgICAgICB0aHJvdyBFcnJvcihcIkV4cGVjdGVkIHJlZiB0byBiZSBhIGZ1bmN0aW9uLCBhIHN0cmluZywgYW4gb2JqZWN0IHJldHVybmVkIGJ5IFJlYWN0LmNyZWF0ZVJlZigpLCBvciBudWxsLlwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoIWVsZW1lbnQuX293bmVyKSB7XG4gICAgICAgIHtcbiAgICAgICAgICB0aHJvdyBFcnJvcihcIkVsZW1lbnQgcmVmIHdhcyBzcGVjaWZpZWQgYXMgYSBzdHJpbmcgKFwiICsgbWl4ZWRSZWYgKyBcIikgYnV0IG5vIG93bmVyIHdhcyBzZXQuIFRoaXMgY291bGQgaGFwcGVuIGZvciBvbmUgb2YgdGhlIGZvbGxvd2luZyByZWFzb25zOlxcbjEuIFlvdSBtYXkgYmUgYWRkaW5nIGEgcmVmIHRvIGEgZnVuY3Rpb24gY29tcG9uZW50XFxuMi4gWW91IG1heSBiZSBhZGRpbmcgYSByZWYgdG8gYSBjb21wb25lbnQgdGhhdCB3YXMgbm90IGNyZWF0ZWQgaW5zaWRlIGEgY29tcG9uZW50J3MgcmVuZGVyIG1ldGhvZFxcbjMuIFlvdSBoYXZlIG11bHRpcGxlIGNvcGllcyBvZiBSZWFjdCBsb2FkZWRcXG5TZWUgaHR0cHM6Ly9mYi5tZS9yZWFjdC1yZWZzLW11c3QtaGF2ZS1vd25lciBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gbWl4ZWRSZWY7XG59XG5cbmZ1bmN0aW9uIHRocm93T25JbnZhbGlkT2JqZWN0VHlwZShyZXR1cm5GaWJlciwgbmV3Q2hpbGQpIHtcbiAgaWYgKHJldHVybkZpYmVyLnR5cGUgIT09ICd0ZXh0YXJlYScpIHtcbiAgICB2YXIgYWRkZW5kdW0gPSAnJztcblxuICAgIHtcbiAgICAgIGFkZGVuZHVtID0gJyBJZiB5b3UgbWVhbnQgdG8gcmVuZGVyIGEgY29sbGVjdGlvbiBvZiBjaGlsZHJlbiwgdXNlIGFuIGFycmF5ICcgKyAnaW5zdGVhZC4nICsgZ2V0Q3VycmVudEZpYmVyU3RhY2tJbkRldigpO1xuICAgIH1cblxuICAgIHtcbiAgICAgIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJPYmplY3RzIGFyZSBub3QgdmFsaWQgYXMgYSBSZWFjdCBjaGlsZCAoZm91bmQ6IFwiICsgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuZXdDaGlsZCkgPT09ICdbb2JqZWN0IE9iamVjdF0nID8gJ29iamVjdCB3aXRoIGtleXMgeycgKyBPYmplY3Qua2V5cyhuZXdDaGlsZCkuam9pbignLCAnKSArICd9JyA6IG5ld0NoaWxkKSArIFwiKS5cIiArIGFkZGVuZHVtKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gd2Fybk9uRnVuY3Rpb25UeXBlKCkge1xuICB2YXIgY3VycmVudENvbXBvbmVudEVycm9ySW5mbyA9ICdGdW5jdGlvbnMgYXJlIG5vdCB2YWxpZCBhcyBhIFJlYWN0IGNoaWxkLiBUaGlzIG1heSBoYXBwZW4gaWYgJyArICd5b3UgcmV0dXJuIGEgQ29tcG9uZW50IGluc3RlYWQgb2YgPENvbXBvbmVudCAvPiBmcm9tIHJlbmRlci4gJyArICdPciBtYXliZSB5b3UgbWVhbnQgdG8gY2FsbCB0aGlzIGZ1bmN0aW9uIHJhdGhlciB0aGFuIHJldHVybiBpdC4nICsgZ2V0Q3VycmVudEZpYmVyU3RhY2tJbkRldigpO1xuXG4gIGlmIChvd25lckhhc0Z1bmN0aW9uVHlwZVdhcm5pbmdbY3VycmVudENvbXBvbmVudEVycm9ySW5mb10pIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBvd25lckhhc0Z1bmN0aW9uVHlwZVdhcm5pbmdbY3VycmVudENvbXBvbmVudEVycm9ySW5mb10gPSB0cnVlO1xuICB3YXJuaW5nJDEoZmFsc2UsICdGdW5jdGlvbnMgYXJlIG5vdCB2YWxpZCBhcyBhIFJlYWN0IGNoaWxkLiBUaGlzIG1heSBoYXBwZW4gaWYgJyArICd5b3UgcmV0dXJuIGEgQ29tcG9uZW50IGluc3RlYWQgb2YgPENvbXBvbmVudCAvPiBmcm9tIHJlbmRlci4gJyArICdPciBtYXliZSB5b3UgbWVhbnQgdG8gY2FsbCB0aGlzIGZ1bmN0aW9uIHJhdGhlciB0aGFuIHJldHVybiBpdC4nKTtcbn0gLy8gVGhpcyB3cmFwcGVyIGZ1bmN0aW9uIGV4aXN0cyBiZWNhdXNlIEkgZXhwZWN0IHRvIGNsb25lIHRoZSBjb2RlIGluIGVhY2ggcGF0aFxuLy8gdG8gYmUgYWJsZSB0byBvcHRpbWl6ZSBlYWNoIHBhdGggaW5kaXZpZHVhbGx5IGJ5IGJyYW5jaGluZyBlYXJseS4gVGhpcyBuZWVkc1xuLy8gYSBjb21waWxlciBvciB3ZSBjYW4gZG8gaXQgbWFudWFsbHkuIEhlbHBlcnMgdGhhdCBkb24ndCBuZWVkIHRoaXMgYnJhbmNoaW5nXG4vLyBsaXZlIG91dHNpZGUgb2YgdGhpcyBmdW5jdGlvbi5cblxuXG5mdW5jdGlvbiBDaGlsZFJlY29uY2lsZXIoc2hvdWxkVHJhY2tTaWRlRWZmZWN0cykge1xuICBmdW5jdGlvbiBkZWxldGVDaGlsZChyZXR1cm5GaWJlciwgY2hpbGRUb0RlbGV0ZSkge1xuICAgIGlmICghc2hvdWxkVHJhY2tTaWRlRWZmZWN0cykge1xuICAgICAgLy8gTm9vcC5cbiAgICAgIHJldHVybjtcbiAgICB9IC8vIERlbGV0aW9ucyBhcmUgYWRkZWQgaW4gcmV2ZXJzZWQgb3JkZXIgc28gd2UgYWRkIGl0IHRvIHRoZSBmcm9udC5cbiAgICAvLyBBdCB0aGlzIHBvaW50LCB0aGUgcmV0dXJuIGZpYmVyJ3MgZWZmZWN0IGxpc3QgaXMgZW1wdHkgZXhjZXB0IGZvclxuICAgIC8vIGRlbGV0aW9ucywgc28gd2UgY2FuIGp1c3QgYXBwZW5kIHRoZSBkZWxldGlvbiB0byB0aGUgbGlzdC4gVGhlIHJlbWFpbmluZ1xuICAgIC8vIGVmZmVjdHMgYXJlbid0IGFkZGVkIHVudGlsIHRoZSBjb21wbGV0ZSBwaGFzZS4gT25jZSB3ZSBpbXBsZW1lbnRcbiAgICAvLyByZXN1bWluZywgdGhpcyBtYXkgbm90IGJlIHRydWUuXG5cblxuICAgIHZhciBsYXN0ID0gcmV0dXJuRmliZXIubGFzdEVmZmVjdDtcblxuICAgIGlmIChsYXN0ICE9PSBudWxsKSB7XG4gICAgICBsYXN0Lm5leHRFZmZlY3QgPSBjaGlsZFRvRGVsZXRlO1xuICAgICAgcmV0dXJuRmliZXIubGFzdEVmZmVjdCA9IGNoaWxkVG9EZWxldGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybkZpYmVyLmZpcnN0RWZmZWN0ID0gcmV0dXJuRmliZXIubGFzdEVmZmVjdCA9IGNoaWxkVG9EZWxldGU7XG4gICAgfVxuXG4gICAgY2hpbGRUb0RlbGV0ZS5uZXh0RWZmZWN0ID0gbnVsbDtcbiAgICBjaGlsZFRvRGVsZXRlLmVmZmVjdFRhZyA9IERlbGV0aW9uO1xuICB9XG5cbiAgZnVuY3Rpb24gZGVsZXRlUmVtYWluaW5nQ2hpbGRyZW4ocmV0dXJuRmliZXIsIGN1cnJlbnRGaXJzdENoaWxkKSB7XG4gICAgaWYgKCFzaG91bGRUcmFja1NpZGVFZmZlY3RzKSB7XG4gICAgICAvLyBOb29wLlxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSAvLyBUT0RPOiBGb3IgdGhlIHNob3VsZENsb25lIGNhc2UsIHRoaXMgY291bGQgYmUgbWljcm8tb3B0aW1pemVkIGEgYml0IGJ5XG4gICAgLy8gYXNzdW1pbmcgdGhhdCBhZnRlciB0aGUgZmlyc3QgY2hpbGQgd2UndmUgYWxyZWFkeSBhZGRlZCBldmVyeXRoaW5nLlxuXG5cbiAgICB2YXIgY2hpbGRUb0RlbGV0ZSA9IGN1cnJlbnRGaXJzdENoaWxkO1xuXG4gICAgd2hpbGUgKGNoaWxkVG9EZWxldGUgIT09IG51bGwpIHtcbiAgICAgIGRlbGV0ZUNoaWxkKHJldHVybkZpYmVyLCBjaGlsZFRvRGVsZXRlKTtcbiAgICAgIGNoaWxkVG9EZWxldGUgPSBjaGlsZFRvRGVsZXRlLnNpYmxpbmc7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiBtYXBSZW1haW5pbmdDaGlsZHJlbihyZXR1cm5GaWJlciwgY3VycmVudEZpcnN0Q2hpbGQpIHtcbiAgICAvLyBBZGQgdGhlIHJlbWFpbmluZyBjaGlsZHJlbiB0byBhIHRlbXBvcmFyeSBtYXAgc28gdGhhdCB3ZSBjYW4gZmluZCB0aGVtIGJ5XG4gICAgLy8ga2V5cyBxdWlja2x5LiBJbXBsaWNpdCAobnVsbCkga2V5cyBnZXQgYWRkZWQgdG8gdGhpcyBzZXQgd2l0aCB0aGVpciBpbmRleFxuICAgIC8vIGluc3RlYWQuXG4gICAgdmFyIGV4aXN0aW5nQ2hpbGRyZW4gPSBuZXcgTWFwKCk7XG4gICAgdmFyIGV4aXN0aW5nQ2hpbGQgPSBjdXJyZW50Rmlyc3RDaGlsZDtcblxuICAgIHdoaWxlIChleGlzdGluZ0NoaWxkICE9PSBudWxsKSB7XG4gICAgICBpZiAoZXhpc3RpbmdDaGlsZC5rZXkgIT09IG51bGwpIHtcbiAgICAgICAgZXhpc3RpbmdDaGlsZHJlbi5zZXQoZXhpc3RpbmdDaGlsZC5rZXksIGV4aXN0aW5nQ2hpbGQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZXhpc3RpbmdDaGlsZHJlbi5zZXQoZXhpc3RpbmdDaGlsZC5pbmRleCwgZXhpc3RpbmdDaGlsZCk7XG4gICAgICB9XG5cbiAgICAgIGV4aXN0aW5nQ2hpbGQgPSBleGlzdGluZ0NoaWxkLnNpYmxpbmc7XG4gICAgfVxuXG4gICAgcmV0dXJuIGV4aXN0aW5nQ2hpbGRyZW47XG4gIH1cblxuICBmdW5jdGlvbiB1c2VGaWJlcihmaWJlciwgcGVuZGluZ1Byb3BzLCBleHBpcmF0aW9uVGltZSkge1xuICAgIC8vIFdlIGN1cnJlbnRseSBzZXQgc2libGluZyB0byBudWxsIGFuZCBpbmRleCB0byAwIGhlcmUgYmVjYXVzZSBpdCBpcyBlYXN5XG4gICAgLy8gdG8gZm9yZ2V0IHRvIGRvIGJlZm9yZSByZXR1cm5pbmcgaXQuIEUuZy4gZm9yIHRoZSBzaW5nbGUgY2hpbGQgY2FzZS5cbiAgICB2YXIgY2xvbmUgPSBjcmVhdGVXb3JrSW5Qcm9ncmVzcyhmaWJlciwgcGVuZGluZ1Byb3BzLCBleHBpcmF0aW9uVGltZSk7XG4gICAgY2xvbmUuaW5kZXggPSAwO1xuICAgIGNsb25lLnNpYmxpbmcgPSBudWxsO1xuICAgIHJldHVybiBjbG9uZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBsYWNlQ2hpbGQobmV3RmliZXIsIGxhc3RQbGFjZWRJbmRleCwgbmV3SW5kZXgpIHtcbiAgICBuZXdGaWJlci5pbmRleCA9IG5ld0luZGV4O1xuXG4gICAgaWYgKCFzaG91bGRUcmFja1NpZGVFZmZlY3RzKSB7XG4gICAgICAvLyBOb29wLlxuICAgICAgcmV0dXJuIGxhc3RQbGFjZWRJbmRleDtcbiAgICB9XG5cbiAgICB2YXIgY3VycmVudCQkMSA9IG5ld0ZpYmVyLmFsdGVybmF0ZTtcblxuICAgIGlmIChjdXJyZW50JCQxICE9PSBudWxsKSB7XG4gICAgICB2YXIgb2xkSW5kZXggPSBjdXJyZW50JCQxLmluZGV4O1xuXG4gICAgICBpZiAob2xkSW5kZXggPCBsYXN0UGxhY2VkSW5kZXgpIHtcbiAgICAgICAgLy8gVGhpcyBpcyBhIG1vdmUuXG4gICAgICAgIG5ld0ZpYmVyLmVmZmVjdFRhZyA9IFBsYWNlbWVudDtcbiAgICAgICAgcmV0dXJuIGxhc3RQbGFjZWRJbmRleDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFRoaXMgaXRlbSBjYW4gc3RheSBpbiBwbGFjZS5cbiAgICAgICAgcmV0dXJuIG9sZEluZGV4O1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBUaGlzIGlzIGFuIGluc2VydGlvbi5cbiAgICAgIG5ld0ZpYmVyLmVmZmVjdFRhZyA9IFBsYWNlbWVudDtcbiAgICAgIHJldHVybiBsYXN0UGxhY2VkSW5kZXg7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcGxhY2VTaW5nbGVDaGlsZChuZXdGaWJlcikge1xuICAgIC8vIFRoaXMgaXMgc2ltcGxlciBmb3IgdGhlIHNpbmdsZSBjaGlsZCBjYXNlLiBXZSBvbmx5IG5lZWQgdG8gZG8gYVxuICAgIC8vIHBsYWNlbWVudCBmb3IgaW5zZXJ0aW5nIG5ldyBjaGlsZHJlbi5cbiAgICBpZiAoc2hvdWxkVHJhY2tTaWRlRWZmZWN0cyAmJiBuZXdGaWJlci5hbHRlcm5hdGUgPT09IG51bGwpIHtcbiAgICAgIG5ld0ZpYmVyLmVmZmVjdFRhZyA9IFBsYWNlbWVudDtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3RmliZXI7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVUZXh0Tm9kZShyZXR1cm5GaWJlciwgY3VycmVudCQkMSwgdGV4dENvbnRlbnQsIGV4cGlyYXRpb25UaW1lKSB7XG4gICAgaWYgKGN1cnJlbnQkJDEgPT09IG51bGwgfHwgY3VycmVudCQkMS50YWcgIT09IEhvc3RUZXh0KSB7XG4gICAgICAvLyBJbnNlcnRcbiAgICAgIHZhciBjcmVhdGVkID0gY3JlYXRlRmliZXJGcm9tVGV4dCh0ZXh0Q29udGVudCwgcmV0dXJuRmliZXIubW9kZSwgZXhwaXJhdGlvblRpbWUpO1xuICAgICAgY3JlYXRlZC5yZXR1cm4gPSByZXR1cm5GaWJlcjtcbiAgICAgIHJldHVybiBjcmVhdGVkO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBVcGRhdGVcbiAgICAgIHZhciBleGlzdGluZyA9IHVzZUZpYmVyKGN1cnJlbnQkJDEsIHRleHRDb250ZW50LCBleHBpcmF0aW9uVGltZSk7XG4gICAgICBleGlzdGluZy5yZXR1cm4gPSByZXR1cm5GaWJlcjtcbiAgICAgIHJldHVybiBleGlzdGluZztcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVFbGVtZW50KHJldHVybkZpYmVyLCBjdXJyZW50JCQxLCBlbGVtZW50LCBleHBpcmF0aW9uVGltZSkge1xuICAgIGlmIChjdXJyZW50JCQxICE9PSBudWxsICYmIChjdXJyZW50JCQxLmVsZW1lbnRUeXBlID09PSBlbGVtZW50LnR5cGUgfHwgKCAvLyBLZWVwIHRoaXMgY2hlY2sgaW5saW5lIHNvIGl0IG9ubHkgcnVucyBvbiB0aGUgZmFsc2UgcGF0aDpcbiAgICBpc0NvbXBhdGlibGVGYW1pbHlGb3JIb3RSZWxvYWRpbmcoY3VycmVudCQkMSwgZWxlbWVudCkpKSkge1xuICAgICAgLy8gTW92ZSBiYXNlZCBvbiBpbmRleFxuICAgICAgdmFyIGV4aXN0aW5nID0gdXNlRmliZXIoY3VycmVudCQkMSwgZWxlbWVudC5wcm9wcywgZXhwaXJhdGlvblRpbWUpO1xuICAgICAgZXhpc3RpbmcucmVmID0gY29lcmNlUmVmKHJldHVybkZpYmVyLCBjdXJyZW50JCQxLCBlbGVtZW50KTtcbiAgICAgIGV4aXN0aW5nLnJldHVybiA9IHJldHVybkZpYmVyO1xuXG4gICAgICB7XG4gICAgICAgIGV4aXN0aW5nLl9kZWJ1Z1NvdXJjZSA9IGVsZW1lbnQuX3NvdXJjZTtcbiAgICAgICAgZXhpc3RpbmcuX2RlYnVnT3duZXIgPSBlbGVtZW50Ll9vd25lcjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGV4aXN0aW5nO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBJbnNlcnRcbiAgICAgIHZhciBjcmVhdGVkID0gY3JlYXRlRmliZXJGcm9tRWxlbWVudChlbGVtZW50LCByZXR1cm5GaWJlci5tb2RlLCBleHBpcmF0aW9uVGltZSk7XG4gICAgICBjcmVhdGVkLnJlZiA9IGNvZXJjZVJlZihyZXR1cm5GaWJlciwgY3VycmVudCQkMSwgZWxlbWVudCk7XG4gICAgICBjcmVhdGVkLnJldHVybiA9IHJldHVybkZpYmVyO1xuICAgICAgcmV0dXJuIGNyZWF0ZWQ7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlUG9ydGFsKHJldHVybkZpYmVyLCBjdXJyZW50JCQxLCBwb3J0YWwsIGV4cGlyYXRpb25UaW1lKSB7XG4gICAgaWYgKGN1cnJlbnQkJDEgPT09IG51bGwgfHwgY3VycmVudCQkMS50YWcgIT09IEhvc3RQb3J0YWwgfHwgY3VycmVudCQkMS5zdGF0ZU5vZGUuY29udGFpbmVySW5mbyAhPT0gcG9ydGFsLmNvbnRhaW5lckluZm8gfHwgY3VycmVudCQkMS5zdGF0ZU5vZGUuaW1wbGVtZW50YXRpb24gIT09IHBvcnRhbC5pbXBsZW1lbnRhdGlvbikge1xuICAgICAgLy8gSW5zZXJ0XG4gICAgICB2YXIgY3JlYXRlZCA9IGNyZWF0ZUZpYmVyRnJvbVBvcnRhbChwb3J0YWwsIHJldHVybkZpYmVyLm1vZGUsIGV4cGlyYXRpb25UaW1lKTtcbiAgICAgIGNyZWF0ZWQucmV0dXJuID0gcmV0dXJuRmliZXI7XG4gICAgICByZXR1cm4gY3JlYXRlZDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVXBkYXRlXG4gICAgICB2YXIgZXhpc3RpbmcgPSB1c2VGaWJlcihjdXJyZW50JCQxLCBwb3J0YWwuY2hpbGRyZW4gfHwgW10sIGV4cGlyYXRpb25UaW1lKTtcbiAgICAgIGV4aXN0aW5nLnJldHVybiA9IHJldHVybkZpYmVyO1xuICAgICAgcmV0dXJuIGV4aXN0aW5nO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZUZyYWdtZW50KHJldHVybkZpYmVyLCBjdXJyZW50JCQxLCBmcmFnbWVudCwgZXhwaXJhdGlvblRpbWUsIGtleSkge1xuICAgIGlmIChjdXJyZW50JCQxID09PSBudWxsIHx8IGN1cnJlbnQkJDEudGFnICE9PSBGcmFnbWVudCkge1xuICAgICAgLy8gSW5zZXJ0XG4gICAgICB2YXIgY3JlYXRlZCA9IGNyZWF0ZUZpYmVyRnJvbUZyYWdtZW50KGZyYWdtZW50LCByZXR1cm5GaWJlci5tb2RlLCBleHBpcmF0aW9uVGltZSwga2V5KTtcbiAgICAgIGNyZWF0ZWQucmV0dXJuID0gcmV0dXJuRmliZXI7XG4gICAgICByZXR1cm4gY3JlYXRlZDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVXBkYXRlXG4gICAgICB2YXIgZXhpc3RpbmcgPSB1c2VGaWJlcihjdXJyZW50JCQxLCBmcmFnbWVudCwgZXhwaXJhdGlvblRpbWUpO1xuICAgICAgZXhpc3RpbmcucmV0dXJuID0gcmV0dXJuRmliZXI7XG4gICAgICByZXR1cm4gZXhpc3Rpbmc7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlQ2hpbGQocmV0dXJuRmliZXIsIG5ld0NoaWxkLCBleHBpcmF0aW9uVGltZSkge1xuICAgIGlmICh0eXBlb2YgbmV3Q2hpbGQgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBuZXdDaGlsZCA9PT0gJ251bWJlcicpIHtcbiAgICAgIC8vIFRleHQgbm9kZXMgZG9uJ3QgaGF2ZSBrZXlzLiBJZiB0aGUgcHJldmlvdXMgbm9kZSBpcyBpbXBsaWNpdGx5IGtleWVkXG4gICAgICAvLyB3ZSBjYW4gY29udGludWUgdG8gcmVwbGFjZSBpdCB3aXRob3V0IGFib3J0aW5nIGV2ZW4gaWYgaXQgaXMgbm90IGEgdGV4dFxuICAgICAgLy8gbm9kZS5cbiAgICAgIHZhciBjcmVhdGVkID0gY3JlYXRlRmliZXJGcm9tVGV4dCgnJyArIG5ld0NoaWxkLCByZXR1cm5GaWJlci5tb2RlLCBleHBpcmF0aW9uVGltZSk7XG4gICAgICBjcmVhdGVkLnJldHVybiA9IHJldHVybkZpYmVyO1xuICAgICAgcmV0dXJuIGNyZWF0ZWQ7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBuZXdDaGlsZCA9PT0gJ29iamVjdCcgJiYgbmV3Q2hpbGQgIT09IG51bGwpIHtcbiAgICAgIHN3aXRjaCAobmV3Q2hpbGQuJCR0eXBlb2YpIHtcbiAgICAgICAgY2FzZSBSRUFDVF9FTEVNRU5UX1RZUEU6XG4gICAgICAgICAge1xuICAgICAgICAgICAgdmFyIF9jcmVhdGVkID0gY3JlYXRlRmliZXJGcm9tRWxlbWVudChuZXdDaGlsZCwgcmV0dXJuRmliZXIubW9kZSwgZXhwaXJhdGlvblRpbWUpO1xuXG4gICAgICAgICAgICBfY3JlYXRlZC5yZWYgPSBjb2VyY2VSZWYocmV0dXJuRmliZXIsIG51bGwsIG5ld0NoaWxkKTtcbiAgICAgICAgICAgIF9jcmVhdGVkLnJldHVybiA9IHJldHVybkZpYmVyO1xuICAgICAgICAgICAgcmV0dXJuIF9jcmVhdGVkO1xuICAgICAgICAgIH1cblxuICAgICAgICBjYXNlIFJFQUNUX1BPUlRBTF9UWVBFOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHZhciBfY3JlYXRlZDIgPSBjcmVhdGVGaWJlckZyb21Qb3J0YWwobmV3Q2hpbGQsIHJldHVybkZpYmVyLm1vZGUsIGV4cGlyYXRpb25UaW1lKTtcblxuICAgICAgICAgICAgX2NyZWF0ZWQyLnJldHVybiA9IHJldHVybkZpYmVyO1xuICAgICAgICAgICAgcmV0dXJuIF9jcmVhdGVkMjtcbiAgICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0FycmF5KG5ld0NoaWxkKSB8fCBnZXRJdGVyYXRvckZuKG5ld0NoaWxkKSkge1xuICAgICAgICB2YXIgX2NyZWF0ZWQzID0gY3JlYXRlRmliZXJGcm9tRnJhZ21lbnQobmV3Q2hpbGQsIHJldHVybkZpYmVyLm1vZGUsIGV4cGlyYXRpb25UaW1lLCBudWxsKTtcblxuICAgICAgICBfY3JlYXRlZDMucmV0dXJuID0gcmV0dXJuRmliZXI7XG4gICAgICAgIHJldHVybiBfY3JlYXRlZDM7XG4gICAgICB9XG5cbiAgICAgIHRocm93T25JbnZhbGlkT2JqZWN0VHlwZShyZXR1cm5GaWJlciwgbmV3Q2hpbGQpO1xuICAgIH1cblxuICAgIHtcbiAgICAgIGlmICh0eXBlb2YgbmV3Q2hpbGQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgd2Fybk9uRnVuY3Rpb25UeXBlKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVTbG90KHJldHVybkZpYmVyLCBvbGRGaWJlciwgbmV3Q2hpbGQsIGV4cGlyYXRpb25UaW1lKSB7XG4gICAgLy8gVXBkYXRlIHRoZSBmaWJlciBpZiB0aGUga2V5cyBtYXRjaCwgb3RoZXJ3aXNlIHJldHVybiBudWxsLlxuICAgIHZhciBrZXkgPSBvbGRGaWJlciAhPT0gbnVsbCA/IG9sZEZpYmVyLmtleSA6IG51bGw7XG5cbiAgICBpZiAodHlwZW9mIG5ld0NoaWxkID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgbmV3Q2hpbGQgPT09ICdudW1iZXInKSB7XG4gICAgICAvLyBUZXh0IG5vZGVzIGRvbid0IGhhdmUga2V5cy4gSWYgdGhlIHByZXZpb3VzIG5vZGUgaXMgaW1wbGljaXRseSBrZXllZFxuICAgICAgLy8gd2UgY2FuIGNvbnRpbnVlIHRvIHJlcGxhY2UgaXQgd2l0aG91dCBhYm9ydGluZyBldmVuIGlmIGl0IGlzIG5vdCBhIHRleHRcbiAgICAgIC8vIG5vZGUuXG4gICAgICBpZiAoa2V5ICE9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdXBkYXRlVGV4dE5vZGUocmV0dXJuRmliZXIsIG9sZEZpYmVyLCAnJyArIG5ld0NoaWxkLCBleHBpcmF0aW9uVGltZSk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBuZXdDaGlsZCA9PT0gJ29iamVjdCcgJiYgbmV3Q2hpbGQgIT09IG51bGwpIHtcbiAgICAgIHN3aXRjaCAobmV3Q2hpbGQuJCR0eXBlb2YpIHtcbiAgICAgICAgY2FzZSBSRUFDVF9FTEVNRU5UX1RZUEU6XG4gICAgICAgICAge1xuICAgICAgICAgICAgaWYgKG5ld0NoaWxkLmtleSA9PT0ga2V5KSB7XG4gICAgICAgICAgICAgIGlmIChuZXdDaGlsZC50eXBlID09PSBSRUFDVF9GUkFHTUVOVF9UWVBFKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZUZyYWdtZW50KHJldHVybkZpYmVyLCBvbGRGaWJlciwgbmV3Q2hpbGQucHJvcHMuY2hpbGRyZW4sIGV4cGlyYXRpb25UaW1lLCBrZXkpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZUVsZW1lbnQocmV0dXJuRmliZXIsIG9sZEZpYmVyLCBuZXdDaGlsZCwgZXhwaXJhdGlvblRpbWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgIGNhc2UgUkVBQ1RfUE9SVEFMX1RZUEU6XG4gICAgICAgICAge1xuICAgICAgICAgICAgaWYgKG5ld0NoaWxkLmtleSA9PT0ga2V5KSB7XG4gICAgICAgICAgICAgIHJldHVybiB1cGRhdGVQb3J0YWwocmV0dXJuRmliZXIsIG9sZEZpYmVyLCBuZXdDaGlsZCwgZXhwaXJhdGlvblRpbWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoaXNBcnJheShuZXdDaGlsZCkgfHwgZ2V0SXRlcmF0b3JGbihuZXdDaGlsZCkpIHtcbiAgICAgICAgaWYgKGtleSAhPT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHVwZGF0ZUZyYWdtZW50KHJldHVybkZpYmVyLCBvbGRGaWJlciwgbmV3Q2hpbGQsIGV4cGlyYXRpb25UaW1lLCBudWxsKTtcbiAgICAgIH1cblxuICAgICAgdGhyb3dPbkludmFsaWRPYmplY3RUeXBlKHJldHVybkZpYmVyLCBuZXdDaGlsZCk7XG4gICAgfVxuXG4gICAge1xuICAgICAgaWYgKHR5cGVvZiBuZXdDaGlsZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB3YXJuT25GdW5jdGlvblR5cGUoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZUZyb21NYXAoZXhpc3RpbmdDaGlsZHJlbiwgcmV0dXJuRmliZXIsIG5ld0lkeCwgbmV3Q2hpbGQsIGV4cGlyYXRpb25UaW1lKSB7XG4gICAgaWYgKHR5cGVvZiBuZXdDaGlsZCA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIG5ld0NoaWxkID09PSAnbnVtYmVyJykge1xuICAgICAgLy8gVGV4dCBub2RlcyBkb24ndCBoYXZlIGtleXMsIHNvIHdlIG5laXRoZXIgaGF2ZSB0byBjaGVjayB0aGUgb2xkIG5vclxuICAgICAgLy8gbmV3IG5vZGUgZm9yIHRoZSBrZXkuIElmIGJvdGggYXJlIHRleHQgbm9kZXMsIHRoZXkgbWF0Y2guXG4gICAgICB2YXIgbWF0Y2hlZEZpYmVyID0gZXhpc3RpbmdDaGlsZHJlbi5nZXQobmV3SWR4KSB8fCBudWxsO1xuICAgICAgcmV0dXJuIHVwZGF0ZVRleHROb2RlKHJldHVybkZpYmVyLCBtYXRjaGVkRmliZXIsICcnICsgbmV3Q2hpbGQsIGV4cGlyYXRpb25UaW1lKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG5ld0NoaWxkID09PSAnb2JqZWN0JyAmJiBuZXdDaGlsZCAhPT0gbnVsbCkge1xuICAgICAgc3dpdGNoIChuZXdDaGlsZC4kJHR5cGVvZikge1xuICAgICAgICBjYXNlIFJFQUNUX0VMRU1FTlRfVFlQRTpcbiAgICAgICAgICB7XG4gICAgICAgICAgICB2YXIgX21hdGNoZWRGaWJlciA9IGV4aXN0aW5nQ2hpbGRyZW4uZ2V0KG5ld0NoaWxkLmtleSA9PT0gbnVsbCA/IG5ld0lkeCA6IG5ld0NoaWxkLmtleSkgfHwgbnVsbDtcblxuICAgICAgICAgICAgaWYgKG5ld0NoaWxkLnR5cGUgPT09IFJFQUNUX0ZSQUdNRU5UX1RZUEUpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZUZyYWdtZW50KHJldHVybkZpYmVyLCBfbWF0Y2hlZEZpYmVyLCBuZXdDaGlsZC5wcm9wcy5jaGlsZHJlbiwgZXhwaXJhdGlvblRpbWUsIG5ld0NoaWxkLmtleSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB1cGRhdGVFbGVtZW50KHJldHVybkZpYmVyLCBfbWF0Y2hlZEZpYmVyLCBuZXdDaGlsZCwgZXhwaXJhdGlvblRpbWUpO1xuICAgICAgICAgIH1cblxuICAgICAgICBjYXNlIFJFQUNUX1BPUlRBTF9UWVBFOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHZhciBfbWF0Y2hlZEZpYmVyMiA9IGV4aXN0aW5nQ2hpbGRyZW4uZ2V0KG5ld0NoaWxkLmtleSA9PT0gbnVsbCA/IG5ld0lkeCA6IG5ld0NoaWxkLmtleSkgfHwgbnVsbDtcblxuICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZVBvcnRhbChyZXR1cm5GaWJlciwgX21hdGNoZWRGaWJlcjIsIG5ld0NoaWxkLCBleHBpcmF0aW9uVGltZSk7XG4gICAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoaXNBcnJheShuZXdDaGlsZCkgfHwgZ2V0SXRlcmF0b3JGbihuZXdDaGlsZCkpIHtcbiAgICAgICAgdmFyIF9tYXRjaGVkRmliZXIzID0gZXhpc3RpbmdDaGlsZHJlbi5nZXQobmV3SWR4KSB8fCBudWxsO1xuXG4gICAgICAgIHJldHVybiB1cGRhdGVGcmFnbWVudChyZXR1cm5GaWJlciwgX21hdGNoZWRGaWJlcjMsIG5ld0NoaWxkLCBleHBpcmF0aW9uVGltZSwgbnVsbCk7XG4gICAgICB9XG5cbiAgICAgIHRocm93T25JbnZhbGlkT2JqZWN0VHlwZShyZXR1cm5GaWJlciwgbmV3Q2hpbGQpO1xuICAgIH1cblxuICAgIHtcbiAgICAgIGlmICh0eXBlb2YgbmV3Q2hpbGQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgd2Fybk9uRnVuY3Rpb25UeXBlKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgLyoqXG4gICAqIFdhcm5zIGlmIHRoZXJlIGlzIGEgZHVwbGljYXRlIG9yIG1pc3Npbmcga2V5XG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gd2Fybk9uSW52YWxpZEtleShjaGlsZCwga25vd25LZXlzKSB7XG4gICAge1xuICAgICAgaWYgKHR5cGVvZiBjaGlsZCAhPT0gJ29iamVjdCcgfHwgY2hpbGQgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGtub3duS2V5cztcbiAgICAgIH1cblxuICAgICAgc3dpdGNoIChjaGlsZC4kJHR5cGVvZikge1xuICAgICAgICBjYXNlIFJFQUNUX0VMRU1FTlRfVFlQRTpcbiAgICAgICAgY2FzZSBSRUFDVF9QT1JUQUxfVFlQRTpcbiAgICAgICAgICB3YXJuRm9yTWlzc2luZ0tleShjaGlsZCk7XG4gICAgICAgICAgdmFyIGtleSA9IGNoaWxkLmtleTtcblxuICAgICAgICAgIGlmICh0eXBlb2Yga2V5ICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGtub3duS2V5cyA9PT0gbnVsbCkge1xuICAgICAgICAgICAga25vd25LZXlzID0gbmV3IFNldCgpO1xuICAgICAgICAgICAga25vd25LZXlzLmFkZChrZXkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCFrbm93bktleXMuaGFzKGtleSkpIHtcbiAgICAgICAgICAgIGtub3duS2V5cy5hZGQoa2V5KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHdhcm5pbmckMShmYWxzZSwgJ0VuY291bnRlcmVkIHR3byBjaGlsZHJlbiB3aXRoIHRoZSBzYW1lIGtleSwgYCVzYC4gJyArICdLZXlzIHNob3VsZCBiZSB1bmlxdWUgc28gdGhhdCBjb21wb25lbnRzIG1haW50YWluIHRoZWlyIGlkZW50aXR5ICcgKyAnYWNyb3NzIHVwZGF0ZXMuIE5vbi11bmlxdWUga2V5cyBtYXkgY2F1c2UgY2hpbGRyZW4gdG8gYmUgJyArICdkdXBsaWNhdGVkIGFuZC9vciBvbWl0dGVkIOKAlCB0aGUgYmVoYXZpb3IgaXMgdW5zdXBwb3J0ZWQgYW5kICcgKyAnY291bGQgY2hhbmdlIGluIGEgZnV0dXJlIHZlcnNpb24uJywga2V5KTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBrbm93bktleXM7XG4gIH1cblxuICBmdW5jdGlvbiByZWNvbmNpbGVDaGlsZHJlbkFycmF5KHJldHVybkZpYmVyLCBjdXJyZW50Rmlyc3RDaGlsZCwgbmV3Q2hpbGRyZW4sIGV4cGlyYXRpb25UaW1lKSB7XG4gICAgLy8gVGhpcyBhbGdvcml0aG0gY2FuJ3Qgb3B0aW1pemUgYnkgc2VhcmNoaW5nIGZyb20gYm90aCBlbmRzIHNpbmNlIHdlXG4gICAgLy8gZG9uJ3QgaGF2ZSBiYWNrcG9pbnRlcnMgb24gZmliZXJzLiBJJ20gdHJ5aW5nIHRvIHNlZSBob3cgZmFyIHdlIGNhbiBnZXRcbiAgICAvLyB3aXRoIHRoYXQgbW9kZWwuIElmIGl0IGVuZHMgdXAgbm90IGJlaW5nIHdvcnRoIHRoZSB0cmFkZW9mZnMsIHdlIGNhblxuICAgIC8vIGFkZCBpdCBsYXRlci5cbiAgICAvLyBFdmVuIHdpdGggYSB0d28gZW5kZWQgb3B0aW1pemF0aW9uLCB3ZSdkIHdhbnQgdG8gb3B0aW1pemUgZm9yIHRoZSBjYXNlXG4gICAgLy8gd2hlcmUgdGhlcmUgYXJlIGZldyBjaGFuZ2VzIGFuZCBicnV0ZSBmb3JjZSB0aGUgY29tcGFyaXNvbiBpbnN0ZWFkIG9mXG4gICAgLy8gZ29pbmcgZm9yIHRoZSBNYXAuIEl0J2QgbGlrZSB0byBleHBsb3JlIGhpdHRpbmcgdGhhdCBwYXRoIGZpcnN0IGluXG4gICAgLy8gZm9yd2FyZC1vbmx5IG1vZGUgYW5kIG9ubHkgZ28gZm9yIHRoZSBNYXAgb25jZSB3ZSBub3RpY2UgdGhhdCB3ZSBuZWVkXG4gICAgLy8gbG90cyBvZiBsb29rIGFoZWFkLiBUaGlzIGRvZXNuJ3QgaGFuZGxlIHJldmVyc2FsIGFzIHdlbGwgYXMgdHdvIGVuZGVkXG4gICAgLy8gc2VhcmNoIGJ1dCB0aGF0J3MgdW51c3VhbC4gQmVzaWRlcywgZm9yIHRoZSB0d28gZW5kZWQgb3B0aW1pemF0aW9uIHRvXG4gICAgLy8gd29yayBvbiBJdGVyYWJsZXMsIHdlJ2QgbmVlZCB0byBjb3B5IHRoZSB3aG9sZSBzZXQuXG4gICAgLy8gSW4gdGhpcyBmaXJzdCBpdGVyYXRpb24sIHdlJ2xsIGp1c3QgbGl2ZSB3aXRoIGhpdHRpbmcgdGhlIGJhZCBjYXNlXG4gICAgLy8gKGFkZGluZyBldmVyeXRoaW5nIHRvIGEgTWFwKSBpbiBmb3IgZXZlcnkgaW5zZXJ0L21vdmUuXG4gICAgLy8gSWYgeW91IGNoYW5nZSB0aGlzIGNvZGUsIGFsc28gdXBkYXRlIHJlY29uY2lsZUNoaWxkcmVuSXRlcmF0b3IoKSB3aGljaFxuICAgIC8vIHVzZXMgdGhlIHNhbWUgYWxnb3JpdGhtLlxuICAgIHtcbiAgICAgIC8vIEZpcnN0LCB2YWxpZGF0ZSBrZXlzLlxuICAgICAgdmFyIGtub3duS2V5cyA9IG51bGw7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmV3Q2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGNoaWxkID0gbmV3Q2hpbGRyZW5baV07XG4gICAgICAgIGtub3duS2V5cyA9IHdhcm5PbkludmFsaWRLZXkoY2hpbGQsIGtub3duS2V5cyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHJlc3VsdGluZ0ZpcnN0Q2hpbGQgPSBudWxsO1xuICAgIHZhciBwcmV2aW91c05ld0ZpYmVyID0gbnVsbDtcbiAgICB2YXIgb2xkRmliZXIgPSBjdXJyZW50Rmlyc3RDaGlsZDtcbiAgICB2YXIgbGFzdFBsYWNlZEluZGV4ID0gMDtcbiAgICB2YXIgbmV3SWR4ID0gMDtcbiAgICB2YXIgbmV4dE9sZEZpYmVyID0gbnVsbDtcblxuICAgIGZvciAoOyBvbGRGaWJlciAhPT0gbnVsbCAmJiBuZXdJZHggPCBuZXdDaGlsZHJlbi5sZW5ndGg7IG5ld0lkeCsrKSB7XG4gICAgICBpZiAob2xkRmliZXIuaW5kZXggPiBuZXdJZHgpIHtcbiAgICAgICAgbmV4dE9sZEZpYmVyID0gb2xkRmliZXI7XG4gICAgICAgIG9sZEZpYmVyID0gbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5leHRPbGRGaWJlciA9IG9sZEZpYmVyLnNpYmxpbmc7XG4gICAgICB9XG5cbiAgICAgIHZhciBuZXdGaWJlciA9IHVwZGF0ZVNsb3QocmV0dXJuRmliZXIsIG9sZEZpYmVyLCBuZXdDaGlsZHJlbltuZXdJZHhdLCBleHBpcmF0aW9uVGltZSk7XG5cbiAgICAgIGlmIChuZXdGaWJlciA9PT0gbnVsbCkge1xuICAgICAgICAvLyBUT0RPOiBUaGlzIGJyZWFrcyBvbiBlbXB0eSBzbG90cyBsaWtlIG51bGwgY2hpbGRyZW4uIFRoYXQnc1xuICAgICAgICAvLyB1bmZvcnR1bmF0ZSBiZWNhdXNlIGl0IHRyaWdnZXJzIHRoZSBzbG93IHBhdGggYWxsIHRoZSB0aW1lLiBXZSBuZWVkXG4gICAgICAgIC8vIGEgYmV0dGVyIHdheSB0byBjb21tdW5pY2F0ZSB3aGV0aGVyIHRoaXMgd2FzIGEgbWlzcyBvciBudWxsLFxuICAgICAgICAvLyBib29sZWFuLCB1bmRlZmluZWQsIGV0Yy5cbiAgICAgICAgaWYgKG9sZEZpYmVyID09PSBudWxsKSB7XG4gICAgICAgICAgb2xkRmliZXIgPSBuZXh0T2xkRmliZXI7XG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgaWYgKHNob3VsZFRyYWNrU2lkZUVmZmVjdHMpIHtcbiAgICAgICAgaWYgKG9sZEZpYmVyICYmIG5ld0ZpYmVyLmFsdGVybmF0ZSA9PT0gbnVsbCkge1xuICAgICAgICAgIC8vIFdlIG1hdGNoZWQgdGhlIHNsb3QsIGJ1dCB3ZSBkaWRuJ3QgcmV1c2UgdGhlIGV4aXN0aW5nIGZpYmVyLCBzbyB3ZVxuICAgICAgICAgIC8vIG5lZWQgdG8gZGVsZXRlIHRoZSBleGlzdGluZyBjaGlsZC5cbiAgICAgICAgICBkZWxldGVDaGlsZChyZXR1cm5GaWJlciwgb2xkRmliZXIpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGxhc3RQbGFjZWRJbmRleCA9IHBsYWNlQ2hpbGQobmV3RmliZXIsIGxhc3RQbGFjZWRJbmRleCwgbmV3SWR4KTtcblxuICAgICAgaWYgKHByZXZpb3VzTmV3RmliZXIgPT09IG51bGwpIHtcbiAgICAgICAgLy8gVE9ETzogTW92ZSBvdXQgb2YgdGhlIGxvb3AuIFRoaXMgb25seSBoYXBwZW5zIGZvciB0aGUgZmlyc3QgcnVuLlxuICAgICAgICByZXN1bHRpbmdGaXJzdENoaWxkID0gbmV3RmliZXI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBUT0RPOiBEZWZlciBzaWJsaW5ncyBpZiB3ZSdyZSBub3QgYXQgdGhlIHJpZ2h0IGluZGV4IGZvciB0aGlzIHNsb3QuXG4gICAgICAgIC8vIEkuZS4gaWYgd2UgaGFkIG51bGwgdmFsdWVzIGJlZm9yZSwgdGhlbiB3ZSB3YW50IHRvIGRlZmVyIHRoaXNcbiAgICAgICAgLy8gZm9yIGVhY2ggbnVsbCB2YWx1ZS4gSG93ZXZlciwgd2UgYWxzbyBkb24ndCB3YW50IHRvIGNhbGwgdXBkYXRlU2xvdFxuICAgICAgICAvLyB3aXRoIHRoZSBwcmV2aW91cyBvbmUuXG4gICAgICAgIHByZXZpb3VzTmV3RmliZXIuc2libGluZyA9IG5ld0ZpYmVyO1xuICAgICAgfVxuXG4gICAgICBwcmV2aW91c05ld0ZpYmVyID0gbmV3RmliZXI7XG4gICAgICBvbGRGaWJlciA9IG5leHRPbGRGaWJlcjtcbiAgICB9XG5cbiAgICBpZiAobmV3SWR4ID09PSBuZXdDaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgIC8vIFdlJ3ZlIHJlYWNoZWQgdGhlIGVuZCBvZiB0aGUgbmV3IGNoaWxkcmVuLiBXZSBjYW4gZGVsZXRlIHRoZSByZXN0LlxuICAgICAgZGVsZXRlUmVtYWluaW5nQ2hpbGRyZW4ocmV0dXJuRmliZXIsIG9sZEZpYmVyKTtcbiAgICAgIHJldHVybiByZXN1bHRpbmdGaXJzdENoaWxkO1xuICAgIH1cblxuICAgIGlmIChvbGRGaWJlciA9PT0gbnVsbCkge1xuICAgICAgLy8gSWYgd2UgZG9uJ3QgaGF2ZSBhbnkgbW9yZSBleGlzdGluZyBjaGlsZHJlbiB3ZSBjYW4gY2hvb3NlIGEgZmFzdCBwYXRoXG4gICAgICAvLyBzaW5jZSB0aGUgcmVzdCB3aWxsIGFsbCBiZSBpbnNlcnRpb25zLlxuICAgICAgZm9yICg7IG5ld0lkeCA8IG5ld0NoaWxkcmVuLmxlbmd0aDsgbmV3SWR4KyspIHtcbiAgICAgICAgdmFyIF9uZXdGaWJlciA9IGNyZWF0ZUNoaWxkKHJldHVybkZpYmVyLCBuZXdDaGlsZHJlbltuZXdJZHhdLCBleHBpcmF0aW9uVGltZSk7XG5cbiAgICAgICAgaWYgKF9uZXdGaWJlciA9PT0gbnVsbCkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgbGFzdFBsYWNlZEluZGV4ID0gcGxhY2VDaGlsZChfbmV3RmliZXIsIGxhc3RQbGFjZWRJbmRleCwgbmV3SWR4KTtcblxuICAgICAgICBpZiAocHJldmlvdXNOZXdGaWJlciA9PT0gbnVsbCkge1xuICAgICAgICAgIC8vIFRPRE86IE1vdmUgb3V0IG9mIHRoZSBsb29wLiBUaGlzIG9ubHkgaGFwcGVucyBmb3IgdGhlIGZpcnN0IHJ1bi5cbiAgICAgICAgICByZXN1bHRpbmdGaXJzdENoaWxkID0gX25ld0ZpYmVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHByZXZpb3VzTmV3RmliZXIuc2libGluZyA9IF9uZXdGaWJlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHByZXZpb3VzTmV3RmliZXIgPSBfbmV3RmliZXI7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXN1bHRpbmdGaXJzdENoaWxkO1xuICAgIH0gLy8gQWRkIGFsbCBjaGlsZHJlbiB0byBhIGtleSBtYXAgZm9yIHF1aWNrIGxvb2t1cHMuXG5cblxuICAgIHZhciBleGlzdGluZ0NoaWxkcmVuID0gbWFwUmVtYWluaW5nQ2hpbGRyZW4ocmV0dXJuRmliZXIsIG9sZEZpYmVyKTsgLy8gS2VlcCBzY2FubmluZyBhbmQgdXNlIHRoZSBtYXAgdG8gcmVzdG9yZSBkZWxldGVkIGl0ZW1zIGFzIG1vdmVzLlxuXG4gICAgZm9yICg7IG5ld0lkeCA8IG5ld0NoaWxkcmVuLmxlbmd0aDsgbmV3SWR4KyspIHtcbiAgICAgIHZhciBfbmV3RmliZXIyID0gdXBkYXRlRnJvbU1hcChleGlzdGluZ0NoaWxkcmVuLCByZXR1cm5GaWJlciwgbmV3SWR4LCBuZXdDaGlsZHJlbltuZXdJZHhdLCBleHBpcmF0aW9uVGltZSk7XG5cbiAgICAgIGlmIChfbmV3RmliZXIyICE9PSBudWxsKSB7XG4gICAgICAgIGlmIChzaG91bGRUcmFja1NpZGVFZmZlY3RzKSB7XG4gICAgICAgICAgaWYgKF9uZXdGaWJlcjIuYWx0ZXJuYXRlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBUaGUgbmV3IGZpYmVyIGlzIGEgd29yayBpbiBwcm9ncmVzcywgYnV0IGlmIHRoZXJlIGV4aXN0cyBhXG4gICAgICAgICAgICAvLyBjdXJyZW50LCB0aGF0IG1lYW5zIHRoYXQgd2UgcmV1c2VkIHRoZSBmaWJlci4gV2UgbmVlZCB0byBkZWxldGVcbiAgICAgICAgICAgIC8vIGl0IGZyb20gdGhlIGNoaWxkIGxpc3Qgc28gdGhhdCB3ZSBkb24ndCBhZGQgaXQgdG8gdGhlIGRlbGV0aW9uXG4gICAgICAgICAgICAvLyBsaXN0LlxuICAgICAgICAgICAgZXhpc3RpbmdDaGlsZHJlbi5kZWxldGUoX25ld0ZpYmVyMi5rZXkgPT09IG51bGwgPyBuZXdJZHggOiBfbmV3RmliZXIyLmtleSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGFzdFBsYWNlZEluZGV4ID0gcGxhY2VDaGlsZChfbmV3RmliZXIyLCBsYXN0UGxhY2VkSW5kZXgsIG5ld0lkeCk7XG5cbiAgICAgICAgaWYgKHByZXZpb3VzTmV3RmliZXIgPT09IG51bGwpIHtcbiAgICAgICAgICByZXN1bHRpbmdGaXJzdENoaWxkID0gX25ld0ZpYmVyMjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwcmV2aW91c05ld0ZpYmVyLnNpYmxpbmcgPSBfbmV3RmliZXIyO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJldmlvdXNOZXdGaWJlciA9IF9uZXdGaWJlcjI7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHNob3VsZFRyYWNrU2lkZUVmZmVjdHMpIHtcbiAgICAgIC8vIEFueSBleGlzdGluZyBjaGlsZHJlbiB0aGF0IHdlcmVuJ3QgY29uc3VtZWQgYWJvdmUgd2VyZSBkZWxldGVkLiBXZSBuZWVkXG4gICAgICAvLyB0byBhZGQgdGhlbSB0byB0aGUgZGVsZXRpb24gbGlzdC5cbiAgICAgIGV4aXN0aW5nQ2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgcmV0dXJuIGRlbGV0ZUNoaWxkKHJldHVybkZpYmVyLCBjaGlsZCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0aW5nRmlyc3RDaGlsZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlY29uY2lsZUNoaWxkcmVuSXRlcmF0b3IocmV0dXJuRmliZXIsIGN1cnJlbnRGaXJzdENoaWxkLCBuZXdDaGlsZHJlbkl0ZXJhYmxlLCBleHBpcmF0aW9uVGltZSkge1xuICAgIC8vIFRoaXMgaXMgdGhlIHNhbWUgaW1wbGVtZW50YXRpb24gYXMgcmVjb25jaWxlQ2hpbGRyZW5BcnJheSgpLFxuICAgIC8vIGJ1dCB1c2luZyB0aGUgaXRlcmF0b3IgaW5zdGVhZC5cbiAgICB2YXIgaXRlcmF0b3JGbiA9IGdldEl0ZXJhdG9yRm4obmV3Q2hpbGRyZW5JdGVyYWJsZSk7XG5cbiAgICBpZiAoISh0eXBlb2YgaXRlcmF0b3JGbiA9PT0gJ2Z1bmN0aW9uJykpIHtcbiAgICAgIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJBbiBvYmplY3QgaXMgbm90IGFuIGl0ZXJhYmxlLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB7XG4gICAgICAvLyBXZSBkb24ndCBzdXBwb3J0IHJlbmRlcmluZyBHZW5lcmF0b3JzIGJlY2F1c2UgaXQncyBhIG11dGF0aW9uLlxuICAgICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvMTI5OTVcbiAgICAgIGlmICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIC8vICRGbG93Rml4TWUgRmxvdyBkb2Vzbid0IGtub3cgYWJvdXQgdG9TdHJpbmdUYWdcbiAgICAgIG5ld0NoaWxkcmVuSXRlcmFibGVbU3ltYm9sLnRvU3RyaW5nVGFnXSA9PT0gJ0dlbmVyYXRvcicpIHtcbiAgICAgICAgIWRpZFdhcm5BYm91dEdlbmVyYXRvcnMgPyB3YXJuaW5nJDEoZmFsc2UsICdVc2luZyBHZW5lcmF0b3JzIGFzIGNoaWxkcmVuIGlzIHVuc3VwcG9ydGVkIGFuZCB3aWxsIGxpa2VseSB5aWVsZCAnICsgJ3VuZXhwZWN0ZWQgcmVzdWx0cyBiZWNhdXNlIGVudW1lcmF0aW5nIGEgZ2VuZXJhdG9yIG11dGF0ZXMgaXQuICcgKyAnWW91IG1heSBjb252ZXJ0IGl0IHRvIGFuIGFycmF5IHdpdGggYEFycmF5LmZyb20oKWAgb3IgdGhlICcgKyAnYFsuLi5zcHJlYWRdYCBvcGVyYXRvciBiZWZvcmUgcmVuZGVyaW5nLiBLZWVwIGluIG1pbmQgJyArICd5b3UgbWlnaHQgbmVlZCB0byBwb2x5ZmlsbCB0aGVzZSBmZWF0dXJlcyBmb3Igb2xkZXIgYnJvd3NlcnMuJykgOiB2b2lkIDA7XG4gICAgICAgIGRpZFdhcm5BYm91dEdlbmVyYXRvcnMgPSB0cnVlO1xuICAgICAgfSAvLyBXYXJuIGFib3V0IHVzaW5nIE1hcHMgYXMgY2hpbGRyZW5cblxuXG4gICAgICBpZiAobmV3Q2hpbGRyZW5JdGVyYWJsZS5lbnRyaWVzID09PSBpdGVyYXRvckZuKSB7XG4gICAgICAgICFkaWRXYXJuQWJvdXRNYXBzID8gd2FybmluZyQxKGZhbHNlLCAnVXNpbmcgTWFwcyBhcyBjaGlsZHJlbiBpcyB1bnN1cHBvcnRlZCBhbmQgd2lsbCBsaWtlbHkgeWllbGQgJyArICd1bmV4cGVjdGVkIHJlc3VsdHMuIENvbnZlcnQgaXQgdG8gYSBzZXF1ZW5jZS9pdGVyYWJsZSBvZiBrZXllZCAnICsgJ1JlYWN0RWxlbWVudHMgaW5zdGVhZC4nKSA6IHZvaWQgMDtcbiAgICAgICAgZGlkV2FybkFib3V0TWFwcyA9IHRydWU7XG4gICAgICB9IC8vIEZpcnN0LCB2YWxpZGF0ZSBrZXlzLlxuICAgICAgLy8gV2UnbGwgZ2V0IGEgZGlmZmVyZW50IGl0ZXJhdG9yIGxhdGVyIGZvciB0aGUgbWFpbiBwYXNzLlxuXG5cbiAgICAgIHZhciBfbmV3Q2hpbGRyZW4gPSBpdGVyYXRvckZuLmNhbGwobmV3Q2hpbGRyZW5JdGVyYWJsZSk7XG5cbiAgICAgIGlmIChfbmV3Q2hpbGRyZW4pIHtcbiAgICAgICAgdmFyIGtub3duS2V5cyA9IG51bGw7XG5cbiAgICAgICAgdmFyIF9zdGVwID0gX25ld0NoaWxkcmVuLm5leHQoKTtcblxuICAgICAgICBmb3IgKDsgIV9zdGVwLmRvbmU7IF9zdGVwID0gX25ld0NoaWxkcmVuLm5leHQoKSkge1xuICAgICAgICAgIHZhciBjaGlsZCA9IF9zdGVwLnZhbHVlO1xuICAgICAgICAgIGtub3duS2V5cyA9IHdhcm5PbkludmFsaWRLZXkoY2hpbGQsIGtub3duS2V5cyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgbmV3Q2hpbGRyZW4gPSBpdGVyYXRvckZuLmNhbGwobmV3Q2hpbGRyZW5JdGVyYWJsZSk7XG5cbiAgICBpZiAoIShuZXdDaGlsZHJlbiAhPSBudWxsKSkge1xuICAgICAge1xuICAgICAgICB0aHJvdyBFcnJvcihcIkFuIGl0ZXJhYmxlIG9iamVjdCBwcm92aWRlZCBubyBpdGVyYXRvci5cIik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHJlc3VsdGluZ0ZpcnN0Q2hpbGQgPSBudWxsO1xuICAgIHZhciBwcmV2aW91c05ld0ZpYmVyID0gbnVsbDtcbiAgICB2YXIgb2xkRmliZXIgPSBjdXJyZW50Rmlyc3RDaGlsZDtcbiAgICB2YXIgbGFzdFBsYWNlZEluZGV4ID0gMDtcbiAgICB2YXIgbmV3SWR4ID0gMDtcbiAgICB2YXIgbmV4dE9sZEZpYmVyID0gbnVsbDtcbiAgICB2YXIgc3RlcCA9IG5ld0NoaWxkcmVuLm5leHQoKTtcblxuICAgIGZvciAoOyBvbGRGaWJlciAhPT0gbnVsbCAmJiAhc3RlcC5kb25lOyBuZXdJZHgrKywgc3RlcCA9IG5ld0NoaWxkcmVuLm5leHQoKSkge1xuICAgICAgaWYgKG9sZEZpYmVyLmluZGV4ID4gbmV3SWR4KSB7XG4gICAgICAgIG5leHRPbGRGaWJlciA9IG9sZEZpYmVyO1xuICAgICAgICBvbGRGaWJlciA9IG51bGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXh0T2xkRmliZXIgPSBvbGRGaWJlci5zaWJsaW5nO1xuICAgICAgfVxuXG4gICAgICB2YXIgbmV3RmliZXIgPSB1cGRhdGVTbG90KHJldHVybkZpYmVyLCBvbGRGaWJlciwgc3RlcC52YWx1ZSwgZXhwaXJhdGlvblRpbWUpO1xuXG4gICAgICBpZiAobmV3RmliZXIgPT09IG51bGwpIHtcbiAgICAgICAgLy8gVE9ETzogVGhpcyBicmVha3Mgb24gZW1wdHkgc2xvdHMgbGlrZSBudWxsIGNoaWxkcmVuLiBUaGF0J3NcbiAgICAgICAgLy8gdW5mb3J0dW5hdGUgYmVjYXVzZSBpdCB0cmlnZ2VycyB0aGUgc2xvdyBwYXRoIGFsbCB0aGUgdGltZS4gV2UgbmVlZFxuICAgICAgICAvLyBhIGJldHRlciB3YXkgdG8gY29tbXVuaWNhdGUgd2hldGhlciB0aGlzIHdhcyBhIG1pc3Mgb3IgbnVsbCxcbiAgICAgICAgLy8gYm9vbGVhbiwgdW5kZWZpbmVkLCBldGMuXG4gICAgICAgIGlmIChvbGRGaWJlciA9PT0gbnVsbCkge1xuICAgICAgICAgIG9sZEZpYmVyID0gbmV4dE9sZEZpYmVyO1xuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGlmIChzaG91bGRUcmFja1NpZGVFZmZlY3RzKSB7XG4gICAgICAgIGlmIChvbGRGaWJlciAmJiBuZXdGaWJlci5hbHRlcm5hdGUgPT09IG51bGwpIHtcbiAgICAgICAgICAvLyBXZSBtYXRjaGVkIHRoZSBzbG90LCBidXQgd2UgZGlkbid0IHJldXNlIHRoZSBleGlzdGluZyBmaWJlciwgc28gd2VcbiAgICAgICAgICAvLyBuZWVkIHRvIGRlbGV0ZSB0aGUgZXhpc3RpbmcgY2hpbGQuXG4gICAgICAgICAgZGVsZXRlQ2hpbGQocmV0dXJuRmliZXIsIG9sZEZpYmVyKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBsYXN0UGxhY2VkSW5kZXggPSBwbGFjZUNoaWxkKG5ld0ZpYmVyLCBsYXN0UGxhY2VkSW5kZXgsIG5ld0lkeCk7XG5cbiAgICAgIGlmIChwcmV2aW91c05ld0ZpYmVyID09PSBudWxsKSB7XG4gICAgICAgIC8vIFRPRE86IE1vdmUgb3V0IG9mIHRoZSBsb29wLiBUaGlzIG9ubHkgaGFwcGVucyBmb3IgdGhlIGZpcnN0IHJ1bi5cbiAgICAgICAgcmVzdWx0aW5nRmlyc3RDaGlsZCA9IG5ld0ZpYmVyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gVE9ETzogRGVmZXIgc2libGluZ3MgaWYgd2UncmUgbm90IGF0IHRoZSByaWdodCBpbmRleCBmb3IgdGhpcyBzbG90LlxuICAgICAgICAvLyBJLmUuIGlmIHdlIGhhZCBudWxsIHZhbHVlcyBiZWZvcmUsIHRoZW4gd2Ugd2FudCB0byBkZWZlciB0aGlzXG4gICAgICAgIC8vIGZvciBlYWNoIG51bGwgdmFsdWUuIEhvd2V2ZXIsIHdlIGFsc28gZG9uJ3Qgd2FudCB0byBjYWxsIHVwZGF0ZVNsb3RcbiAgICAgICAgLy8gd2l0aCB0aGUgcHJldmlvdXMgb25lLlxuICAgICAgICBwcmV2aW91c05ld0ZpYmVyLnNpYmxpbmcgPSBuZXdGaWJlcjtcbiAgICAgIH1cblxuICAgICAgcHJldmlvdXNOZXdGaWJlciA9IG5ld0ZpYmVyO1xuICAgICAgb2xkRmliZXIgPSBuZXh0T2xkRmliZXI7XG4gICAgfVxuXG4gICAgaWYgKHN0ZXAuZG9uZSkge1xuICAgICAgLy8gV2UndmUgcmVhY2hlZCB0aGUgZW5kIG9mIHRoZSBuZXcgY2hpbGRyZW4uIFdlIGNhbiBkZWxldGUgdGhlIHJlc3QuXG4gICAgICBkZWxldGVSZW1haW5pbmdDaGlsZHJlbihyZXR1cm5GaWJlciwgb2xkRmliZXIpO1xuICAgICAgcmV0dXJuIHJlc3VsdGluZ0ZpcnN0Q2hpbGQ7XG4gICAgfVxuXG4gICAgaWYgKG9sZEZpYmVyID09PSBudWxsKSB7XG4gICAgICAvLyBJZiB3ZSBkb24ndCBoYXZlIGFueSBtb3JlIGV4aXN0aW5nIGNoaWxkcmVuIHdlIGNhbiBjaG9vc2UgYSBmYXN0IHBhdGhcbiAgICAgIC8vIHNpbmNlIHRoZSByZXN0IHdpbGwgYWxsIGJlIGluc2VydGlvbnMuXG4gICAgICBmb3IgKDsgIXN0ZXAuZG9uZTsgbmV3SWR4KyssIHN0ZXAgPSBuZXdDaGlsZHJlbi5uZXh0KCkpIHtcbiAgICAgICAgdmFyIF9uZXdGaWJlcjMgPSBjcmVhdGVDaGlsZChyZXR1cm5GaWJlciwgc3RlcC52YWx1ZSwgZXhwaXJhdGlvblRpbWUpO1xuXG4gICAgICAgIGlmIChfbmV3RmliZXIzID09PSBudWxsKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBsYXN0UGxhY2VkSW5kZXggPSBwbGFjZUNoaWxkKF9uZXdGaWJlcjMsIGxhc3RQbGFjZWRJbmRleCwgbmV3SWR4KTtcblxuICAgICAgICBpZiAocHJldmlvdXNOZXdGaWJlciA9PT0gbnVsbCkge1xuICAgICAgICAgIC8vIFRPRE86IE1vdmUgb3V0IG9mIHRoZSBsb29wLiBUaGlzIG9ubHkgaGFwcGVucyBmb3IgdGhlIGZpcnN0IHJ1bi5cbiAgICAgICAgICByZXN1bHRpbmdGaXJzdENoaWxkID0gX25ld0ZpYmVyMztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwcmV2aW91c05ld0ZpYmVyLnNpYmxpbmcgPSBfbmV3RmliZXIzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJldmlvdXNOZXdGaWJlciA9IF9uZXdGaWJlcjM7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXN1bHRpbmdGaXJzdENoaWxkO1xuICAgIH0gLy8gQWRkIGFsbCBjaGlsZHJlbiB0byBhIGtleSBtYXAgZm9yIHF1aWNrIGxvb2t1cHMuXG5cblxuICAgIHZhciBleGlzdGluZ0NoaWxkcmVuID0gbWFwUmVtYWluaW5nQ2hpbGRyZW4ocmV0dXJuRmliZXIsIG9sZEZpYmVyKTsgLy8gS2VlcCBzY2FubmluZyBhbmQgdXNlIHRoZSBtYXAgdG8gcmVzdG9yZSBkZWxldGVkIGl0ZW1zIGFzIG1vdmVzLlxuXG4gICAgZm9yICg7ICFzdGVwLmRvbmU7IG5ld0lkeCsrLCBzdGVwID0gbmV3Q2hpbGRyZW4ubmV4dCgpKSB7XG4gICAgICB2YXIgX25ld0ZpYmVyNCA9IHVwZGF0ZUZyb21NYXAoZXhpc3RpbmdDaGlsZHJlbiwgcmV0dXJuRmliZXIsIG5ld0lkeCwgc3RlcC52YWx1ZSwgZXhwaXJhdGlvblRpbWUpO1xuXG4gICAgICBpZiAoX25ld0ZpYmVyNCAhPT0gbnVsbCkge1xuICAgICAgICBpZiAoc2hvdWxkVHJhY2tTaWRlRWZmZWN0cykge1xuICAgICAgICAgIGlmIChfbmV3RmliZXI0LmFsdGVybmF0ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gVGhlIG5ldyBmaWJlciBpcyBhIHdvcmsgaW4gcHJvZ3Jlc3MsIGJ1dCBpZiB0aGVyZSBleGlzdHMgYVxuICAgICAgICAgICAgLy8gY3VycmVudCwgdGhhdCBtZWFucyB0aGF0IHdlIHJldXNlZCB0aGUgZmliZXIuIFdlIG5lZWQgdG8gZGVsZXRlXG4gICAgICAgICAgICAvLyBpdCBmcm9tIHRoZSBjaGlsZCBsaXN0IHNvIHRoYXQgd2UgZG9uJ3QgYWRkIGl0IHRvIHRoZSBkZWxldGlvblxuICAgICAgICAgICAgLy8gbGlzdC5cbiAgICAgICAgICAgIGV4aXN0aW5nQ2hpbGRyZW4uZGVsZXRlKF9uZXdGaWJlcjQua2V5ID09PSBudWxsID8gbmV3SWR4IDogX25ld0ZpYmVyNC5rZXkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxhc3RQbGFjZWRJbmRleCA9IHBsYWNlQ2hpbGQoX25ld0ZpYmVyNCwgbGFzdFBsYWNlZEluZGV4LCBuZXdJZHgpO1xuXG4gICAgICAgIGlmIChwcmV2aW91c05ld0ZpYmVyID09PSBudWxsKSB7XG4gICAgICAgICAgcmVzdWx0aW5nRmlyc3RDaGlsZCA9IF9uZXdGaWJlcjQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcHJldmlvdXNOZXdGaWJlci5zaWJsaW5nID0gX25ld0ZpYmVyNDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByZXZpb3VzTmV3RmliZXIgPSBfbmV3RmliZXI0O1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzaG91bGRUcmFja1NpZGVFZmZlY3RzKSB7XG4gICAgICAvLyBBbnkgZXhpc3RpbmcgY2hpbGRyZW4gdGhhdCB3ZXJlbid0IGNvbnN1bWVkIGFib3ZlIHdlcmUgZGVsZXRlZC4gV2UgbmVlZFxuICAgICAgLy8gdG8gYWRkIHRoZW0gdG8gdGhlIGRlbGV0aW9uIGxpc3QuXG4gICAgICBleGlzdGluZ0NoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgIHJldHVybiBkZWxldGVDaGlsZChyZXR1cm5GaWJlciwgY2hpbGQpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdGluZ0ZpcnN0Q2hpbGQ7XG4gIH1cblxuICBmdW5jdGlvbiByZWNvbmNpbGVTaW5nbGVUZXh0Tm9kZShyZXR1cm5GaWJlciwgY3VycmVudEZpcnN0Q2hpbGQsIHRleHRDb250ZW50LCBleHBpcmF0aW9uVGltZSkge1xuICAgIC8vIFRoZXJlJ3Mgbm8gbmVlZCB0byBjaGVjayBmb3Iga2V5cyBvbiB0ZXh0IG5vZGVzIHNpbmNlIHdlIGRvbid0IGhhdmUgYVxuICAgIC8vIHdheSB0byBkZWZpbmUgdGhlbS5cbiAgICBpZiAoY3VycmVudEZpcnN0Q2hpbGQgIT09IG51bGwgJiYgY3VycmVudEZpcnN0Q2hpbGQudGFnID09PSBIb3N0VGV4dCkge1xuICAgICAgLy8gV2UgYWxyZWFkeSBoYXZlIGFuIGV4aXN0aW5nIG5vZGUgc28gbGV0J3MganVzdCB1cGRhdGUgaXQgYW5kIGRlbGV0ZVxuICAgICAgLy8gdGhlIHJlc3QuXG4gICAgICBkZWxldGVSZW1haW5pbmdDaGlsZHJlbihyZXR1cm5GaWJlciwgY3VycmVudEZpcnN0Q2hpbGQuc2libGluZyk7XG4gICAgICB2YXIgZXhpc3RpbmcgPSB1c2VGaWJlcihjdXJyZW50Rmlyc3RDaGlsZCwgdGV4dENvbnRlbnQsIGV4cGlyYXRpb25UaW1lKTtcbiAgICAgIGV4aXN0aW5nLnJldHVybiA9IHJldHVybkZpYmVyO1xuICAgICAgcmV0dXJuIGV4aXN0aW5nO1xuICAgIH0gLy8gVGhlIGV4aXN0aW5nIGZpcnN0IGNoaWxkIGlzIG5vdCBhIHRleHQgbm9kZSBzbyB3ZSBuZWVkIHRvIGNyZWF0ZSBvbmVcbiAgICAvLyBhbmQgZGVsZXRlIHRoZSBleGlzdGluZyBvbmVzLlxuXG5cbiAgICBkZWxldGVSZW1haW5pbmdDaGlsZHJlbihyZXR1cm5GaWJlciwgY3VycmVudEZpcnN0Q2hpbGQpO1xuICAgIHZhciBjcmVhdGVkID0gY3JlYXRlRmliZXJGcm9tVGV4dCh0ZXh0Q29udGVudCwgcmV0dXJuRmliZXIubW9kZSwgZXhwaXJhdGlvblRpbWUpO1xuICAgIGNyZWF0ZWQucmV0dXJuID0gcmV0dXJuRmliZXI7XG4gICAgcmV0dXJuIGNyZWF0ZWQ7XG4gIH1cblxuICBmdW5jdGlvbiByZWNvbmNpbGVTaW5nbGVFbGVtZW50KHJldHVybkZpYmVyLCBjdXJyZW50Rmlyc3RDaGlsZCwgZWxlbWVudCwgZXhwaXJhdGlvblRpbWUpIHtcbiAgICB2YXIga2V5ID0gZWxlbWVudC5rZXk7XG4gICAgdmFyIGNoaWxkID0gY3VycmVudEZpcnN0Q2hpbGQ7XG5cbiAgICB3aGlsZSAoY2hpbGQgIT09IG51bGwpIHtcbiAgICAgIC8vIFRPRE86IElmIGtleSA9PT0gbnVsbCBhbmQgY2hpbGQua2V5ID09PSBudWxsLCB0aGVuIHRoaXMgb25seSBhcHBsaWVzIHRvXG4gICAgICAvLyB0aGUgZmlyc3QgaXRlbSBpbiB0aGUgbGlzdC5cbiAgICAgIGlmIChjaGlsZC5rZXkgPT09IGtleSkge1xuICAgICAgICBpZiAoY2hpbGQudGFnID09PSBGcmFnbWVudCA/IGVsZW1lbnQudHlwZSA9PT0gUkVBQ1RfRlJBR01FTlRfVFlQRSA6IGNoaWxkLmVsZW1lbnRUeXBlID09PSBlbGVtZW50LnR5cGUgfHwgKCAvLyBLZWVwIHRoaXMgY2hlY2sgaW5saW5lIHNvIGl0IG9ubHkgcnVucyBvbiB0aGUgZmFsc2UgcGF0aDpcbiAgICAgICAgaXNDb21wYXRpYmxlRmFtaWx5Rm9ySG90UmVsb2FkaW5nKGNoaWxkLCBlbGVtZW50KSkpIHtcbiAgICAgICAgICBkZWxldGVSZW1haW5pbmdDaGlsZHJlbihyZXR1cm5GaWJlciwgY2hpbGQuc2libGluZyk7XG4gICAgICAgICAgdmFyIGV4aXN0aW5nID0gdXNlRmliZXIoY2hpbGQsIGVsZW1lbnQudHlwZSA9PT0gUkVBQ1RfRlJBR01FTlRfVFlQRSA/IGVsZW1lbnQucHJvcHMuY2hpbGRyZW4gOiBlbGVtZW50LnByb3BzLCBleHBpcmF0aW9uVGltZSk7XG4gICAgICAgICAgZXhpc3RpbmcucmVmID0gY29lcmNlUmVmKHJldHVybkZpYmVyLCBjaGlsZCwgZWxlbWVudCk7XG4gICAgICAgICAgZXhpc3RpbmcucmV0dXJuID0gcmV0dXJuRmliZXI7XG5cbiAgICAgICAgICB7XG4gICAgICAgICAgICBleGlzdGluZy5fZGVidWdTb3VyY2UgPSBlbGVtZW50Ll9zb3VyY2U7XG4gICAgICAgICAgICBleGlzdGluZy5fZGVidWdPd25lciA9IGVsZW1lbnQuX293bmVyO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBleGlzdGluZztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZWxldGVSZW1haW5pbmdDaGlsZHJlbihyZXR1cm5GaWJlciwgY2hpbGQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZWxldGVDaGlsZChyZXR1cm5GaWJlciwgY2hpbGQpO1xuICAgICAgfVxuXG4gICAgICBjaGlsZCA9IGNoaWxkLnNpYmxpbmc7XG4gICAgfVxuXG4gICAgaWYgKGVsZW1lbnQudHlwZSA9PT0gUkVBQ1RfRlJBR01FTlRfVFlQRSkge1xuICAgICAgdmFyIGNyZWF0ZWQgPSBjcmVhdGVGaWJlckZyb21GcmFnbWVudChlbGVtZW50LnByb3BzLmNoaWxkcmVuLCByZXR1cm5GaWJlci5tb2RlLCBleHBpcmF0aW9uVGltZSwgZWxlbWVudC5rZXkpO1xuICAgICAgY3JlYXRlZC5yZXR1cm4gPSByZXR1cm5GaWJlcjtcbiAgICAgIHJldHVybiBjcmVhdGVkO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgX2NyZWF0ZWQ0ID0gY3JlYXRlRmliZXJGcm9tRWxlbWVudChlbGVtZW50LCByZXR1cm5GaWJlci5tb2RlLCBleHBpcmF0aW9uVGltZSk7XG5cbiAgICAgIF9jcmVhdGVkNC5yZWYgPSBjb2VyY2VSZWYocmV0dXJuRmliZXIsIGN1cnJlbnRGaXJzdENoaWxkLCBlbGVtZW50KTtcbiAgICAgIF9jcmVhdGVkNC5yZXR1cm4gPSByZXR1cm5GaWJlcjtcbiAgICAgIHJldHVybiBfY3JlYXRlZDQ7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVjb25jaWxlU2luZ2xlUG9ydGFsKHJldHVybkZpYmVyLCBjdXJyZW50Rmlyc3RDaGlsZCwgcG9ydGFsLCBleHBpcmF0aW9uVGltZSkge1xuICAgIHZhciBrZXkgPSBwb3J0YWwua2V5O1xuICAgIHZhciBjaGlsZCA9IGN1cnJlbnRGaXJzdENoaWxkO1xuXG4gICAgd2hpbGUgKGNoaWxkICE9PSBudWxsKSB7XG4gICAgICAvLyBUT0RPOiBJZiBrZXkgPT09IG51bGwgYW5kIGNoaWxkLmtleSA9PT0gbnVsbCwgdGhlbiB0aGlzIG9ubHkgYXBwbGllcyB0b1xuICAgICAgLy8gdGhlIGZpcnN0IGl0ZW0gaW4gdGhlIGxpc3QuXG4gICAgICBpZiAoY2hpbGQua2V5ID09PSBrZXkpIHtcbiAgICAgICAgaWYgKGNoaWxkLnRhZyA9PT0gSG9zdFBvcnRhbCAmJiBjaGlsZC5zdGF0ZU5vZGUuY29udGFpbmVySW5mbyA9PT0gcG9ydGFsLmNvbnRhaW5lckluZm8gJiYgY2hpbGQuc3RhdGVOb2RlLmltcGxlbWVudGF0aW9uID09PSBwb3J0YWwuaW1wbGVtZW50YXRpb24pIHtcbiAgICAgICAgICBkZWxldGVSZW1haW5pbmdDaGlsZHJlbihyZXR1cm5GaWJlciwgY2hpbGQuc2libGluZyk7XG4gICAgICAgICAgdmFyIGV4aXN0aW5nID0gdXNlRmliZXIoY2hpbGQsIHBvcnRhbC5jaGlsZHJlbiB8fCBbXSwgZXhwaXJhdGlvblRpbWUpO1xuICAgICAgICAgIGV4aXN0aW5nLnJldHVybiA9IHJldHVybkZpYmVyO1xuICAgICAgICAgIHJldHVybiBleGlzdGluZztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZWxldGVSZW1haW5pbmdDaGlsZHJlbihyZXR1cm5GaWJlciwgY2hpbGQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZWxldGVDaGlsZChyZXR1cm5GaWJlciwgY2hpbGQpO1xuICAgICAgfVxuXG4gICAgICBjaGlsZCA9IGNoaWxkLnNpYmxpbmc7XG4gICAgfVxuXG4gICAgdmFyIGNyZWF0ZWQgPSBjcmVhdGVGaWJlckZyb21Qb3J0YWwocG9ydGFsLCByZXR1cm5GaWJlci5tb2RlLCBleHBpcmF0aW9uVGltZSk7XG4gICAgY3JlYXRlZC5yZXR1cm4gPSByZXR1cm5GaWJlcjtcbiAgICByZXR1cm4gY3JlYXRlZDtcbiAgfSAvLyBUaGlzIEFQSSB3aWxsIHRhZyB0aGUgY2hpbGRyZW4gd2l0aCB0aGUgc2lkZS1lZmZlY3Qgb2YgdGhlIHJlY29uY2lsaWF0aW9uXG4gIC8vIGl0c2VsZi4gVGhleSB3aWxsIGJlIGFkZGVkIHRvIHRoZSBzaWRlLWVmZmVjdCBsaXN0IGFzIHdlIHBhc3MgdGhyb3VnaCB0aGVcbiAgLy8gY2hpbGRyZW4gYW5kIHRoZSBwYXJlbnQuXG5cblxuICBmdW5jdGlvbiByZWNvbmNpbGVDaGlsZEZpYmVycyhyZXR1cm5GaWJlciwgY3VycmVudEZpcnN0Q2hpbGQsIG5ld0NoaWxkLCBleHBpcmF0aW9uVGltZSkge1xuICAgIC8vIFRoaXMgZnVuY3Rpb24gaXMgbm90IHJlY3Vyc2l2ZS5cbiAgICAvLyBJZiB0aGUgdG9wIGxldmVsIGl0ZW0gaXMgYW4gYXJyYXksIHdlIHRyZWF0IGl0IGFzIGEgc2V0IG9mIGNoaWxkcmVuLFxuICAgIC8vIG5vdCBhcyBhIGZyYWdtZW50LiBOZXN0ZWQgYXJyYXlzIG9uIHRoZSBvdGhlciBoYW5kIHdpbGwgYmUgdHJlYXRlZCBhc1xuICAgIC8vIGZyYWdtZW50IG5vZGVzLiBSZWN1cnNpb24gaGFwcGVucyBhdCB0aGUgbm9ybWFsIGZsb3cuXG4gICAgLy8gSGFuZGxlIHRvcCBsZXZlbCB1bmtleWVkIGZyYWdtZW50cyBhcyBpZiB0aGV5IHdlcmUgYXJyYXlzLlxuICAgIC8vIFRoaXMgbGVhZHMgdG8gYW4gYW1iaWd1aXR5IGJldHdlZW4gPD57Wy4uLl19PC8+IGFuZCA8Pi4uLjwvPi5cbiAgICAvLyBXZSB0cmVhdCB0aGUgYW1iaWd1b3VzIGNhc2VzIGFib3ZlIHRoZSBzYW1lLlxuICAgIHZhciBpc1Vua2V5ZWRUb3BMZXZlbEZyYWdtZW50ID0gdHlwZW9mIG5ld0NoaWxkID09PSAnb2JqZWN0JyAmJiBuZXdDaGlsZCAhPT0gbnVsbCAmJiBuZXdDaGlsZC50eXBlID09PSBSRUFDVF9GUkFHTUVOVF9UWVBFICYmIG5ld0NoaWxkLmtleSA9PT0gbnVsbDtcblxuICAgIGlmIChpc1Vua2V5ZWRUb3BMZXZlbEZyYWdtZW50KSB7XG4gICAgICBuZXdDaGlsZCA9IG5ld0NoaWxkLnByb3BzLmNoaWxkcmVuO1xuICAgIH0gLy8gSGFuZGxlIG9iamVjdCB0eXBlc1xuXG5cbiAgICB2YXIgaXNPYmplY3QgPSB0eXBlb2YgbmV3Q2hpbGQgPT09ICdvYmplY3QnICYmIG5ld0NoaWxkICE9PSBudWxsO1xuXG4gICAgaWYgKGlzT2JqZWN0KSB7XG4gICAgICBzd2l0Y2ggKG5ld0NoaWxkLiQkdHlwZW9mKSB7XG4gICAgICAgIGNhc2UgUkVBQ1RfRUxFTUVOVF9UWVBFOlxuICAgICAgICAgIHJldHVybiBwbGFjZVNpbmdsZUNoaWxkKHJlY29uY2lsZVNpbmdsZUVsZW1lbnQocmV0dXJuRmliZXIsIGN1cnJlbnRGaXJzdENoaWxkLCBuZXdDaGlsZCwgZXhwaXJhdGlvblRpbWUpKTtcblxuICAgICAgICBjYXNlIFJFQUNUX1BPUlRBTF9UWVBFOlxuICAgICAgICAgIHJldHVybiBwbGFjZVNpbmdsZUNoaWxkKHJlY29uY2lsZVNpbmdsZVBvcnRhbChyZXR1cm5GaWJlciwgY3VycmVudEZpcnN0Q2hpbGQsIG5ld0NoaWxkLCBleHBpcmF0aW9uVGltZSkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0eXBlb2YgbmV3Q2hpbGQgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBuZXdDaGlsZCA9PT0gJ251bWJlcicpIHtcbiAgICAgIHJldHVybiBwbGFjZVNpbmdsZUNoaWxkKHJlY29uY2lsZVNpbmdsZVRleHROb2RlKHJldHVybkZpYmVyLCBjdXJyZW50Rmlyc3RDaGlsZCwgJycgKyBuZXdDaGlsZCwgZXhwaXJhdGlvblRpbWUpKTtcbiAgICB9XG5cbiAgICBpZiAoaXNBcnJheShuZXdDaGlsZCkpIHtcbiAgICAgIHJldHVybiByZWNvbmNpbGVDaGlsZHJlbkFycmF5KHJldHVybkZpYmVyLCBjdXJyZW50Rmlyc3RDaGlsZCwgbmV3Q2hpbGQsIGV4cGlyYXRpb25UaW1lKTtcbiAgICB9XG5cbiAgICBpZiAoZ2V0SXRlcmF0b3JGbihuZXdDaGlsZCkpIHtcbiAgICAgIHJldHVybiByZWNvbmNpbGVDaGlsZHJlbkl0ZXJhdG9yKHJldHVybkZpYmVyLCBjdXJyZW50Rmlyc3RDaGlsZCwgbmV3Q2hpbGQsIGV4cGlyYXRpb25UaW1lKTtcbiAgICB9XG5cbiAgICBpZiAoaXNPYmplY3QpIHtcbiAgICAgIHRocm93T25JbnZhbGlkT2JqZWN0VHlwZShyZXR1cm5GaWJlciwgbmV3Q2hpbGQpO1xuICAgIH1cblxuICAgIHtcbiAgICAgIGlmICh0eXBlb2YgbmV3Q2hpbGQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgd2Fybk9uRnVuY3Rpb25UeXBlKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBuZXdDaGlsZCA9PT0gJ3VuZGVmaW5lZCcgJiYgIWlzVW5rZXllZFRvcExldmVsRnJhZ21lbnQpIHtcbiAgICAgIC8vIElmIHRoZSBuZXcgY2hpbGQgaXMgdW5kZWZpbmVkLCBhbmQgdGhlIHJldHVybiBmaWJlciBpcyBhIGNvbXBvc2l0ZVxuICAgICAgLy8gY29tcG9uZW50LCB0aHJvdyBhbiBlcnJvci4gSWYgRmliZXIgcmV0dXJuIHR5cGVzIGFyZSBkaXNhYmxlZCxcbiAgICAgIC8vIHdlIGFscmVhZHkgdGhyZXcgYWJvdmUuXG4gICAgICBzd2l0Y2ggKHJldHVybkZpYmVyLnRhZykge1xuICAgICAgICBjYXNlIENsYXNzQ29tcG9uZW50OlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdmFyIGluc3RhbmNlID0gcmV0dXJuRmliZXIuc3RhdGVOb2RlO1xuXG4gICAgICAgICAgICAgIGlmIChpbnN0YW5jZS5yZW5kZXIuX2lzTW9ja0Z1bmN0aW9uKSB7XG4gICAgICAgICAgICAgICAgLy8gV2UgYWxsb3cgYXV0by1tb2NrcyB0byBwcm9jZWVkIGFzIGlmIHRoZXkncmUgcmV0dXJuaW5nIG51bGwuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIC8vIEludGVudGlvbmFsbHkgZmFsbCB0aHJvdWdoIHRvIHRoZSBuZXh0IGNhc2UsIHdoaWNoIGhhbmRsZXMgYm90aFxuICAgICAgICAvLyBmdW5jdGlvbnMgYW5kIGNsYXNzZXNcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lZCBuby1mYWxsdGhyb3VnaFxuXG4gICAgICAgIGNhc2UgRnVuY3Rpb25Db21wb25lbnQ6XG4gICAgICAgICAge1xuICAgICAgICAgICAgdmFyIENvbXBvbmVudCA9IHJldHVybkZpYmVyLnR5cGU7XG5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKChDb21wb25lbnQuZGlzcGxheU5hbWUgfHwgQ29tcG9uZW50Lm5hbWUgfHwgJ0NvbXBvbmVudCcpICsgXCIoLi4uKTogTm90aGluZyB3YXMgcmV0dXJuZWQgZnJvbSByZW5kZXIuIFRoaXMgdXN1YWxseSBtZWFucyBhIHJldHVybiBzdGF0ZW1lbnQgaXMgbWlzc2luZy4gT3IsIHRvIHJlbmRlciBub3RoaW5nLCByZXR1cm4gbnVsbC5cIik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgfSAvLyBSZW1haW5pbmcgY2FzZXMgYXJlIGFsbCB0cmVhdGVkIGFzIGVtcHR5LlxuXG5cbiAgICByZXR1cm4gZGVsZXRlUmVtYWluaW5nQ2hpbGRyZW4ocmV0dXJuRmliZXIsIGN1cnJlbnRGaXJzdENoaWxkKTtcbiAgfVxuXG4gIHJldHVybiByZWNvbmNpbGVDaGlsZEZpYmVycztcbn1cblxudmFyIHJlY29uY2lsZUNoaWxkRmliZXJzID0gQ2hpbGRSZWNvbmNpbGVyKHRydWUpO1xudmFyIG1vdW50Q2hpbGRGaWJlcnMgPSBDaGlsZFJlY29uY2lsZXIoZmFsc2UpO1xuZnVuY3Rpb24gY2xvbmVDaGlsZEZpYmVycyhjdXJyZW50JCQxLCB3b3JrSW5Qcm9ncmVzcykge1xuICBpZiAoIShjdXJyZW50JCQxID09PSBudWxsIHx8IHdvcmtJblByb2dyZXNzLmNoaWxkID09PSBjdXJyZW50JCQxLmNoaWxkKSkge1xuICAgIHtcbiAgICAgIHRocm93IEVycm9yKFwiUmVzdW1pbmcgd29yayBub3QgeWV0IGltcGxlbWVudGVkLlwiKTtcbiAgICB9XG4gIH1cblxuICBpZiAod29ya0luUHJvZ3Jlc3MuY2hpbGQgPT09IG51bGwpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgY3VycmVudENoaWxkID0gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG4gIHZhciBuZXdDaGlsZCA9IGNyZWF0ZVdvcmtJblByb2dyZXNzKGN1cnJlbnRDaGlsZCwgY3VycmVudENoaWxkLnBlbmRpbmdQcm9wcywgY3VycmVudENoaWxkLmV4cGlyYXRpb25UaW1lKTtcbiAgd29ya0luUHJvZ3Jlc3MuY2hpbGQgPSBuZXdDaGlsZDtcbiAgbmV3Q2hpbGQucmV0dXJuID0gd29ya0luUHJvZ3Jlc3M7XG5cbiAgd2hpbGUgKGN1cnJlbnRDaGlsZC5zaWJsaW5nICE9PSBudWxsKSB7XG4gICAgY3VycmVudENoaWxkID0gY3VycmVudENoaWxkLnNpYmxpbmc7XG4gICAgbmV3Q2hpbGQgPSBuZXdDaGlsZC5zaWJsaW5nID0gY3JlYXRlV29ya0luUHJvZ3Jlc3MoY3VycmVudENoaWxkLCBjdXJyZW50Q2hpbGQucGVuZGluZ1Byb3BzLCBjdXJyZW50Q2hpbGQuZXhwaXJhdGlvblRpbWUpO1xuICAgIG5ld0NoaWxkLnJldHVybiA9IHdvcmtJblByb2dyZXNzO1xuICB9XG5cbiAgbmV3Q2hpbGQuc2libGluZyA9IG51bGw7XG59IC8vIFJlc2V0IGEgd29ya0luUHJvZ3Jlc3MgY2hpbGQgc2V0IHRvIHByZXBhcmUgaXQgZm9yIGEgc2Vjb25kIHBhc3MuXG5cbmZ1bmN0aW9uIHJlc2V0Q2hpbGRGaWJlcnMod29ya0luUHJvZ3Jlc3MsIHJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gIHZhciBjaGlsZCA9IHdvcmtJblByb2dyZXNzLmNoaWxkO1xuXG4gIHdoaWxlIChjaGlsZCAhPT0gbnVsbCkge1xuICAgIHJlc2V0V29ya0luUHJvZ3Jlc3MoY2hpbGQsIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgICBjaGlsZCA9IGNoaWxkLnNpYmxpbmc7XG4gIH1cbn1cblxudmFyIE5PX0NPTlRFWFQgPSB7fTtcbnZhciBjb250ZXh0U3RhY2tDdXJzb3IkMSA9IGNyZWF0ZUN1cnNvcihOT19DT05URVhUKTtcbnZhciBjb250ZXh0RmliZXJTdGFja0N1cnNvciA9IGNyZWF0ZUN1cnNvcihOT19DT05URVhUKTtcbnZhciByb290SW5zdGFuY2VTdGFja0N1cnNvciA9IGNyZWF0ZUN1cnNvcihOT19DT05URVhUKTtcblxuZnVuY3Rpb24gcmVxdWlyZWRDb250ZXh0KGMpIHtcbiAgaWYgKCEoYyAhPT0gTk9fQ09OVEVYVCkpIHtcbiAgICB7XG4gICAgICB0aHJvdyBFcnJvcihcIkV4cGVjdGVkIGhvc3QgY29udGV4dCB0byBleGlzdC4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIik7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGM7XG59XG5cbmZ1bmN0aW9uIGdldFJvb3RIb3N0Q29udGFpbmVyKCkge1xuICB2YXIgcm9vdEluc3RhbmNlID0gcmVxdWlyZWRDb250ZXh0KHJvb3RJbnN0YW5jZVN0YWNrQ3Vyc29yLmN1cnJlbnQpO1xuICByZXR1cm4gcm9vdEluc3RhbmNlO1xufVxuXG5mdW5jdGlvbiBwdXNoSG9zdENvbnRhaW5lcihmaWJlciwgbmV4dFJvb3RJbnN0YW5jZSkge1xuICAvLyBQdXNoIGN1cnJlbnQgcm9vdCBpbnN0YW5jZSBvbnRvIHRoZSBzdGFjaztcbiAgLy8gVGhpcyBhbGxvd3MgdXMgdG8gcmVzZXQgcm9vdCB3aGVuIHBvcnRhbHMgYXJlIHBvcHBlZC5cbiAgcHVzaChyb290SW5zdGFuY2VTdGFja0N1cnNvciwgbmV4dFJvb3RJbnN0YW5jZSwgZmliZXIpOyAvLyBUcmFjayB0aGUgY29udGV4dCBhbmQgdGhlIEZpYmVyIHRoYXQgcHJvdmlkZWQgaXQuXG4gIC8vIFRoaXMgZW5hYmxlcyB1cyB0byBwb3Agb25seSBGaWJlcnMgdGhhdCBwcm92aWRlIHVuaXF1ZSBjb250ZXh0cy5cblxuICBwdXNoKGNvbnRleHRGaWJlclN0YWNrQ3Vyc29yLCBmaWJlciwgZmliZXIpOyAvLyBGaW5hbGx5LCB3ZSBuZWVkIHRvIHB1c2ggdGhlIGhvc3QgY29udGV4dCB0byB0aGUgc3RhY2suXG4gIC8vIEhvd2V2ZXIsIHdlIGNhbid0IGp1c3QgY2FsbCBnZXRSb290SG9zdENvbnRleHQoKSBhbmQgcHVzaCBpdCBiZWNhdXNlXG4gIC8vIHdlJ2QgaGF2ZSBhIGRpZmZlcmVudCBudW1iZXIgb2YgZW50cmllcyBvbiB0aGUgc3RhY2sgZGVwZW5kaW5nIG9uXG4gIC8vIHdoZXRoZXIgZ2V0Um9vdEhvc3RDb250ZXh0KCkgdGhyb3dzIHNvbWV3aGVyZSBpbiByZW5kZXJlciBjb2RlIG9yIG5vdC5cbiAgLy8gU28gd2UgcHVzaCBhbiBlbXB0eSB2YWx1ZSBmaXJzdC4gVGhpcyBsZXRzIHVzIHNhZmVseSB1bndpbmQgb24gZXJyb3JzLlxuXG4gIHB1c2goY29udGV4dFN0YWNrQ3Vyc29yJDEsIE5PX0NPTlRFWFQsIGZpYmVyKTtcbiAgdmFyIG5leHRSb290Q29udGV4dCA9IGdldFJvb3RIb3N0Q29udGV4dChuZXh0Um9vdEluc3RhbmNlKTsgLy8gTm93IHRoYXQgd2Uga25vdyB0aGlzIGZ1bmN0aW9uIGRvZXNuJ3QgdGhyb3csIHJlcGxhY2UgaXQuXG5cbiAgcG9wKGNvbnRleHRTdGFja0N1cnNvciQxLCBmaWJlcik7XG4gIHB1c2goY29udGV4dFN0YWNrQ3Vyc29yJDEsIG5leHRSb290Q29udGV4dCwgZmliZXIpO1xufVxuXG5mdW5jdGlvbiBwb3BIb3N0Q29udGFpbmVyKGZpYmVyKSB7XG4gIHBvcChjb250ZXh0U3RhY2tDdXJzb3IkMSwgZmliZXIpO1xuICBwb3AoY29udGV4dEZpYmVyU3RhY2tDdXJzb3IsIGZpYmVyKTtcbiAgcG9wKHJvb3RJbnN0YW5jZVN0YWNrQ3Vyc29yLCBmaWJlcik7XG59XG5cbmZ1bmN0aW9uIGdldEhvc3RDb250ZXh0KCkge1xuICB2YXIgY29udGV4dCA9IHJlcXVpcmVkQ29udGV4dChjb250ZXh0U3RhY2tDdXJzb3IkMS5jdXJyZW50KTtcbiAgcmV0dXJuIGNvbnRleHQ7XG59XG5cbmZ1bmN0aW9uIHB1c2hIb3N0Q29udGV4dChmaWJlcikge1xuICB2YXIgcm9vdEluc3RhbmNlID0gcmVxdWlyZWRDb250ZXh0KHJvb3RJbnN0YW5jZVN0YWNrQ3Vyc29yLmN1cnJlbnQpO1xuICB2YXIgY29udGV4dCA9IHJlcXVpcmVkQ29udGV4dChjb250ZXh0U3RhY2tDdXJzb3IkMS5jdXJyZW50KTtcbiAgdmFyIG5leHRDb250ZXh0ID0gZ2V0Q2hpbGRIb3N0Q29udGV4dChjb250ZXh0LCBmaWJlci50eXBlLCByb290SW5zdGFuY2UpOyAvLyBEb24ndCBwdXNoIHRoaXMgRmliZXIncyBjb250ZXh0IHVubGVzcyBpdCdzIHVuaXF1ZS5cblxuICBpZiAoY29udGV4dCA9PT0gbmV4dENvbnRleHQpIHtcbiAgICByZXR1cm47XG4gIH0gLy8gVHJhY2sgdGhlIGNvbnRleHQgYW5kIHRoZSBGaWJlciB0aGF0IHByb3ZpZGVkIGl0LlxuICAvLyBUaGlzIGVuYWJsZXMgdXMgdG8gcG9wIG9ubHkgRmliZXJzIHRoYXQgcHJvdmlkZSB1bmlxdWUgY29udGV4dHMuXG5cblxuICBwdXNoKGNvbnRleHRGaWJlclN0YWNrQ3Vyc29yLCBmaWJlciwgZmliZXIpO1xuICBwdXNoKGNvbnRleHRTdGFja0N1cnNvciQxLCBuZXh0Q29udGV4dCwgZmliZXIpO1xufVxuXG5mdW5jdGlvbiBwb3BIb3N0Q29udGV4dChmaWJlcikge1xuICAvLyBEbyBub3QgcG9wIHVubGVzcyB0aGlzIEZpYmVyIHByb3ZpZGVkIHRoZSBjdXJyZW50IGNvbnRleHQuXG4gIC8vIHB1c2hIb3N0Q29udGV4dCgpIG9ubHkgcHVzaGVzIEZpYmVycyB0aGF0IHByb3ZpZGUgdW5pcXVlIGNvbnRleHRzLlxuICBpZiAoY29udGV4dEZpYmVyU3RhY2tDdXJzb3IuY3VycmVudCAhPT0gZmliZXIpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBwb3AoY29udGV4dFN0YWNrQ3Vyc29yJDEsIGZpYmVyKTtcbiAgcG9wKGNvbnRleHRGaWJlclN0YWNrQ3Vyc29yLCBmaWJlcik7XG59XG5cbnZhciBEZWZhdWx0U3VzcGVuc2VDb250ZXh0ID0gMDsgLy8gVGhlIFN1c3BlbnNlIENvbnRleHQgaXMgc3BsaXQgaW50byB0d28gcGFydHMuIFRoZSBsb3dlciBiaXRzIGlzXG4vLyBpbmhlcml0ZWQgZGVlcGx5IGRvd24gdGhlIHN1YnRyZWUuIFRoZSB1cHBlciBiaXRzIG9ubHkgYWZmZWN0XG4vLyB0aGlzIGltbWVkaWF0ZSBzdXNwZW5zZSBib3VuZGFyeSBhbmQgZ2V0cyByZXNldCBlYWNoIG5ld1xuLy8gYm91bmRhcnkgb3Igc3VzcGVuc2UgbGlzdC5cblxudmFyIFN1YnRyZWVTdXNwZW5zZUNvbnRleHRNYXNrID0gMTsgLy8gU3VidHJlZSBGbGFnczpcbi8vIEludmlzaWJsZVBhcmVudFN1c3BlbnNlQ29udGV4dCBpbmRpY2F0ZXMgdGhhdCBvbmUgb2Ygb3VyIHBhcmVudCBTdXNwZW5zZVxuLy8gYm91bmRhcmllcyBpcyBub3QgY3VycmVudGx5IHNob3dpbmcgdmlzaWJsZSBtYWluIGNvbnRlbnQuXG4vLyBFaXRoZXIgYmVjYXVzZSBpdCBpcyBhbHJlYWR5IHNob3dpbmcgYSBmYWxsYmFjayBvciBpcyBub3QgbW91bnRlZCBhdCBhbGwuXG4vLyBXZSBjYW4gdXNlIHRoaXMgdG8gZGV0ZXJtaW5lIGlmIGl0IGlzIGRlc2lyYWJsZSB0byB0cmlnZ2VyIGEgZmFsbGJhY2sgYXRcbi8vIHRoZSBwYXJlbnQuIElmIG5vdCwgdGhlbiB3ZSBtaWdodCBuZWVkIHRvIHRyaWdnZXIgdW5kZXNpcmFibGUgYm91bmRhcmllc1xuLy8gYW5kL29yIHN1c3BlbmQgdGhlIGNvbW1pdCB0byBhdm9pZCBoaWRpbmcgdGhlIHBhcmVudCBjb250ZW50LlxuXG52YXIgSW52aXNpYmxlUGFyZW50U3VzcGVuc2VDb250ZXh0ID0gMTsgLy8gU2hhbGxvdyBGbGFnczpcbi8vIEZvcmNlU3VzcGVuc2VGYWxsYmFjayBjYW4gYmUgdXNlZCBieSBTdXNwZW5zZUxpc3QgdG8gZm9yY2UgbmV3bHkgYWRkZWRcbi8vIGl0ZW1zIGludG8gdGhlaXIgZmFsbGJhY2sgc3RhdGUgZHVyaW5nIG9uZSBvZiB0aGUgcmVuZGVyIHBhc3Nlcy5cblxudmFyIEZvcmNlU3VzcGVuc2VGYWxsYmFjayA9IDI7XG52YXIgc3VzcGVuc2VTdGFja0N1cnNvciA9IGNyZWF0ZUN1cnNvcihEZWZhdWx0U3VzcGVuc2VDb250ZXh0KTtcbmZ1bmN0aW9uIGhhc1N1c3BlbnNlQ29udGV4dChwYXJlbnRDb250ZXh0LCBmbGFnKSB7XG4gIHJldHVybiAocGFyZW50Q29udGV4dCAmIGZsYWcpICE9PSAwO1xufVxuZnVuY3Rpb24gc2V0RGVmYXVsdFNoYWxsb3dTdXNwZW5zZUNvbnRleHQocGFyZW50Q29udGV4dCkge1xuICByZXR1cm4gcGFyZW50Q29udGV4dCAmIFN1YnRyZWVTdXNwZW5zZUNvbnRleHRNYXNrO1xufVxuZnVuY3Rpb24gc2V0U2hhbGxvd1N1c3BlbnNlQ29udGV4dChwYXJlbnRDb250ZXh0LCBzaGFsbG93Q29udGV4dCkge1xuICByZXR1cm4gcGFyZW50Q29udGV4dCAmIFN1YnRyZWVTdXNwZW5zZUNvbnRleHRNYXNrIHwgc2hhbGxvd0NvbnRleHQ7XG59XG5mdW5jdGlvbiBhZGRTdWJ0cmVlU3VzcGVuc2VDb250ZXh0KHBhcmVudENvbnRleHQsIHN1YnRyZWVDb250ZXh0KSB7XG4gIHJldHVybiBwYXJlbnRDb250ZXh0IHwgc3VidHJlZUNvbnRleHQ7XG59XG5mdW5jdGlvbiBwdXNoU3VzcGVuc2VDb250ZXh0KGZpYmVyLCBuZXdDb250ZXh0KSB7XG4gIHB1c2goc3VzcGVuc2VTdGFja0N1cnNvciwgbmV3Q29udGV4dCwgZmliZXIpO1xufVxuZnVuY3Rpb24gcG9wU3VzcGVuc2VDb250ZXh0KGZpYmVyKSB7XG4gIHBvcChzdXNwZW5zZVN0YWNrQ3Vyc29yLCBmaWJlcik7XG59XG5cbmZ1bmN0aW9uIHNob3VsZENhcHR1cmVTdXNwZW5zZSh3b3JrSW5Qcm9ncmVzcywgaGFzSW52aXNpYmxlUGFyZW50KSB7XG4gIC8vIElmIGl0IHdhcyB0aGUgcHJpbWFyeSBjaGlsZHJlbiB0aGF0IGp1c3Qgc3VzcGVuZGVkLCBjYXB0dXJlIGFuZCByZW5kZXIgdGhlXG4gIC8vIGZhbGxiYWNrLiBPdGhlcndpc2UsIGRvbid0IGNhcHR1cmUgYW5kIGJ1YmJsZSB0byB0aGUgbmV4dCBib3VuZGFyeS5cbiAgdmFyIG5leHRTdGF0ZSA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGU7XG5cbiAgaWYgKG5leHRTdGF0ZSAhPT0gbnVsbCkge1xuICAgIGlmIChuZXh0U3RhdGUuZGVoeWRyYXRlZCAhPT0gbnVsbCkge1xuICAgICAgLy8gQSBkZWh5ZHJhdGVkIGJvdW5kYXJ5IGFsd2F5cyBjYXB0dXJlcy5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciBwcm9wcyA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkUHJvcHM7IC8vIEluIG9yZGVyIHRvIGNhcHR1cmUsIHRoZSBTdXNwZW5zZSBjb21wb25lbnQgbXVzdCBoYXZlIGEgZmFsbGJhY2sgcHJvcC5cblxuICBpZiAocHJvcHMuZmFsbGJhY2sgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSAvLyBSZWd1bGFyIGJvdW5kYXJpZXMgYWx3YXlzIGNhcHR1cmUuXG5cblxuICBpZiAocHJvcHMudW5zdGFibGVfYXZvaWRUaGlzRmFsbGJhY2sgIT09IHRydWUpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSAvLyBJZiBpdCdzIGEgYm91bmRhcnkgd2Ugc2hvdWxkIGF2b2lkLCB0aGVuIHdlIHByZWZlciB0byBidWJibGUgdXAgdG8gdGhlXG4gIC8vIHBhcmVudCBib3VuZGFyeSBpZiBpdCBpcyBjdXJyZW50bHkgaW52aXNpYmxlLlxuXG5cbiAgaWYgKGhhc0ludmlzaWJsZVBhcmVudCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSAvLyBJZiB0aGUgcGFyZW50IGlzIG5vdCBhYmxlIHRvIGhhbmRsZSBpdCwgd2UgbXVzdCBoYW5kbGUgaXQuXG5cblxuICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIGZpbmRGaXJzdFN1c3BlbmRlZChyb3cpIHtcbiAgdmFyIG5vZGUgPSByb3c7XG5cbiAgd2hpbGUgKG5vZGUgIT09IG51bGwpIHtcbiAgICBpZiAobm9kZS50YWcgPT09IFN1c3BlbnNlQ29tcG9uZW50KSB7XG4gICAgICB2YXIgc3RhdGUgPSBub2RlLm1lbW9pemVkU3RhdGU7XG5cbiAgICAgIGlmIChzdGF0ZSAhPT0gbnVsbCkge1xuICAgICAgICB2YXIgZGVoeWRyYXRlZCA9IHN0YXRlLmRlaHlkcmF0ZWQ7XG5cbiAgICAgICAgaWYgKGRlaHlkcmF0ZWQgPT09IG51bGwgfHwgaXNTdXNwZW5zZUluc3RhbmNlUGVuZGluZyhkZWh5ZHJhdGVkKSB8fCBpc1N1c3BlbnNlSW5zdGFuY2VGYWxsYmFjayhkZWh5ZHJhdGVkKSkge1xuICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChub2RlLnRhZyA9PT0gU3VzcGVuc2VMaXN0Q29tcG9uZW50ICYmIC8vIHJldmVhbE9yZGVyIHVuZGVmaW5lZCBjYW4ndCBiZSB0cnVzdGVkIGJlY2F1c2UgaXQgZG9uJ3RcbiAgICAvLyBrZWVwIHRyYWNrIG9mIHdoZXRoZXIgaXQgc3VzcGVuZGVkIG9yIG5vdC5cbiAgICBub2RlLm1lbW9pemVkUHJvcHMucmV2ZWFsT3JkZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdmFyIGRpZFN1c3BlbmQgPSAobm9kZS5lZmZlY3RUYWcgJiBEaWRDYXB0dXJlKSAhPT0gTm9FZmZlY3Q7XG5cbiAgICAgIGlmIChkaWRTdXNwZW5kKSB7XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAobm9kZS5jaGlsZCAhPT0gbnVsbCkge1xuICAgICAgbm9kZS5jaGlsZC5yZXR1cm4gPSBub2RlO1xuICAgICAgbm9kZSA9IG5vZGUuY2hpbGQ7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBpZiAobm9kZSA9PT0gcm93KSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB3aGlsZSAobm9kZS5zaWJsaW5nID09PSBudWxsKSB7XG4gICAgICBpZiAobm9kZS5yZXR1cm4gPT09IG51bGwgfHwgbm9kZS5yZXR1cm4gPT09IHJvdykge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgbm9kZSA9IG5vZGUucmV0dXJuO1xuICAgIH1cblxuICAgIG5vZGUuc2libGluZy5yZXR1cm4gPSBub2RlLnJldHVybjtcbiAgICBub2RlID0gbm9kZS5zaWJsaW5nO1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbnZhciBlbXB0eU9iamVjdCA9IHt9O1xudmFyIGlzQXJyYXkkMiA9IEFycmF5LmlzQXJyYXk7XG5mdW5jdGlvbiBjcmVhdGVSZXNwb25kZXJJbnN0YW5jZShyZXNwb25kZXIsIHJlc3BvbmRlclByb3BzLCByZXNwb25kZXJTdGF0ZSwgZmliZXIpIHtcbiAgcmV0dXJuIHtcbiAgICBmaWJlcjogZmliZXIsXG4gICAgcHJvcHM6IHJlc3BvbmRlclByb3BzLFxuICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLFxuICAgIHJvb3RFdmVudFR5cGVzOiBudWxsLFxuICAgIHN0YXRlOiByZXNwb25kZXJTdGF0ZVxuICB9O1xufVxuXG5mdW5jdGlvbiBtb3VudEV2ZW50UmVzcG9uZGVyJDEocmVzcG9uZGVyLCByZXNwb25kZXJQcm9wcywgZmliZXIsIHJlc3BvbmRlcnNNYXAsIHJvb3RDb250YWluZXJJbnN0YW5jZSkge1xuICB2YXIgcmVzcG9uZGVyU3RhdGUgPSBlbXB0eU9iamVjdDtcbiAgdmFyIGdldEluaXRpYWxTdGF0ZSA9IHJlc3BvbmRlci5nZXRJbml0aWFsU3RhdGU7XG5cbiAgaWYgKGdldEluaXRpYWxTdGF0ZSAhPT0gbnVsbCkge1xuICAgIHJlc3BvbmRlclN0YXRlID0gZ2V0SW5pdGlhbFN0YXRlKHJlc3BvbmRlclByb3BzKTtcbiAgfVxuXG4gIHZhciByZXNwb25kZXJJbnN0YW5jZSA9IGNyZWF0ZVJlc3BvbmRlckluc3RhbmNlKHJlc3BvbmRlciwgcmVzcG9uZGVyUHJvcHMsIHJlc3BvbmRlclN0YXRlLCBmaWJlcik7XG5cbiAgaWYgKCFyb290Q29udGFpbmVySW5zdGFuY2UpIHtcbiAgICB2YXIgbm9kZSA9IGZpYmVyO1xuXG4gICAgd2hpbGUgKG5vZGUgIT09IG51bGwpIHtcbiAgICAgIHZhciB0YWcgPSBub2RlLnRhZztcblxuICAgICAgaWYgKHRhZyA9PT0gSG9zdENvbXBvbmVudCkge1xuICAgICAgICByb290Q29udGFpbmVySW5zdGFuY2UgPSBub2RlLnN0YXRlTm9kZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9IGVsc2UgaWYgKHRhZyA9PT0gSG9zdFJvb3QpIHtcbiAgICAgICAgcm9vdENvbnRhaW5lckluc3RhbmNlID0gbm9kZS5zdGF0ZU5vZGUuY29udGFpbmVySW5mbztcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIG5vZGUgPSBub2RlLnJldHVybjtcbiAgICB9XG4gIH1cblxuICBtb3VudFJlc3BvbmRlckluc3RhbmNlKHJlc3BvbmRlciwgcmVzcG9uZGVySW5zdGFuY2UsIHJlc3BvbmRlclByb3BzLCByZXNwb25kZXJTdGF0ZSwgcm9vdENvbnRhaW5lckluc3RhbmNlKTtcbiAgcmVzcG9uZGVyc01hcC5zZXQocmVzcG9uZGVyLCByZXNwb25kZXJJbnN0YW5jZSk7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUV2ZW50TGlzdGVuZXIobGlzdGVuZXIsIGZpYmVyLCB2aXNpc3RlZFJlc3BvbmRlcnMsIHJlc3BvbmRlcnNNYXAsIHJvb3RDb250YWluZXJJbnN0YW5jZSkge1xuICB2YXIgcmVzcG9uZGVyO1xuICB2YXIgcHJvcHM7XG5cbiAgaWYgKGxpc3RlbmVyKSB7XG4gICAgcmVzcG9uZGVyID0gbGlzdGVuZXIucmVzcG9uZGVyO1xuICAgIHByb3BzID0gbGlzdGVuZXIucHJvcHM7XG4gIH1cblxuICBpZiAoIShyZXNwb25kZXIgJiYgcmVzcG9uZGVyLiQkdHlwZW9mID09PSBSRUFDVF9SRVNQT05ERVJfVFlQRSkpIHtcbiAgICB7XG4gICAgICB0aHJvdyBFcnJvcihcIkFuIGludmFsaWQgdmFsdWUgd2FzIHVzZWQgYXMgYW4gZXZlbnQgbGlzdGVuZXIuIEV4cGVjdCBvbmUgb3IgbWFueSBldmVudCBsaXN0ZW5lcnMgY3JlYXRlZCB2aWEgUmVhY3QudW5zdGFibGVfdXNlUmVzcG9uZGVyKCkuXCIpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBsaXN0ZW5lclByb3BzID0gcHJvcHM7XG5cbiAgaWYgKHZpc2lzdGVkUmVzcG9uZGVycy5oYXMocmVzcG9uZGVyKSkge1xuICAgIC8vIHNob3cgd2FybmluZ1xuICAgIHtcbiAgICAgIHdhcm5pbmckMShmYWxzZSwgJ0R1cGxpY2F0ZSBldmVudCByZXNwb25kZXIgXCIlc1wiIGZvdW5kIGluIGV2ZW50IGxpc3RlbmVycy4gJyArICdFdmVudCBsaXN0ZW5lcnMgcGFzc2VkIHRvIGVsZW1lbnRzIGNhbm5vdCB1c2UgdGhlIHNhbWUgZXZlbnQgcmVzcG9uZGVyIG1vcmUgdGhhbiBvbmNlLicsIHJlc3BvbmRlci5kaXNwbGF5TmFtZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmlzaXN0ZWRSZXNwb25kZXJzLmFkZChyZXNwb25kZXIpO1xuICB2YXIgcmVzcG9uZGVySW5zdGFuY2UgPSByZXNwb25kZXJzTWFwLmdldChyZXNwb25kZXIpO1xuXG4gIGlmIChyZXNwb25kZXJJbnN0YW5jZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gTW91bnQgKGhhcHBlbnMgaW4gZWl0aGVyIGNvbXBsZXRlIG9yIGNvbW1pdCBwaGFzZSlcbiAgICBtb3VudEV2ZW50UmVzcG9uZGVyJDEocmVzcG9uZGVyLCBsaXN0ZW5lclByb3BzLCBmaWJlciwgcmVzcG9uZGVyc01hcCwgcm9vdENvbnRhaW5lckluc3RhbmNlKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBVcGRhdGUgKGhhcHBlbnMgZHVyaW5nIGNvbW1pdCBwaGFzZSBvbmx5KVxuICAgIHJlc3BvbmRlckluc3RhbmNlLnByb3BzID0gbGlzdGVuZXJQcm9wcztcbiAgICByZXNwb25kZXJJbnN0YW5jZS5maWJlciA9IGZpYmVyO1xuICB9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUV2ZW50TGlzdGVuZXJzKGxpc3RlbmVycywgZmliZXIsIHJvb3RDb250YWluZXJJbnN0YW5jZSkge1xuICB2YXIgdmlzaXN0ZWRSZXNwb25kZXJzID0gbmV3IFNldCgpO1xuICB2YXIgZGVwZW5kZW5jaWVzID0gZmliZXIuZGVwZW5kZW5jaWVzO1xuXG4gIGlmIChsaXN0ZW5lcnMgIT0gbnVsbCkge1xuICAgIGlmIChkZXBlbmRlbmNpZXMgPT09IG51bGwpIHtcbiAgICAgIGRlcGVuZGVuY2llcyA9IGZpYmVyLmRlcGVuZGVuY2llcyA9IHtcbiAgICAgICAgZXhwaXJhdGlvblRpbWU6IE5vV29yayxcbiAgICAgICAgZmlyc3RDb250ZXh0OiBudWxsLFxuICAgICAgICByZXNwb25kZXJzOiBuZXcgTWFwKClcbiAgICAgIH07XG4gICAgfVxuXG4gICAgdmFyIHJlc3BvbmRlcnNNYXAgPSBkZXBlbmRlbmNpZXMucmVzcG9uZGVycztcblxuICAgIGlmIChyZXNwb25kZXJzTWFwID09PSBudWxsKSB7XG4gICAgICByZXNwb25kZXJzTWFwID0gbmV3IE1hcCgpO1xuICAgIH1cblxuICAgIGlmIChpc0FycmF5JDIobGlzdGVuZXJzKSkge1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGxpc3RlbmVycy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgbGlzdGVuZXIgPSBsaXN0ZW5lcnNbaV07XG4gICAgICAgIHVwZGF0ZUV2ZW50TGlzdGVuZXIobGlzdGVuZXIsIGZpYmVyLCB2aXNpc3RlZFJlc3BvbmRlcnMsIHJlc3BvbmRlcnNNYXAsIHJvb3RDb250YWluZXJJbnN0YW5jZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHVwZGF0ZUV2ZW50TGlzdGVuZXIobGlzdGVuZXJzLCBmaWJlciwgdmlzaXN0ZWRSZXNwb25kZXJzLCByZXNwb25kZXJzTWFwLCByb290Q29udGFpbmVySW5zdGFuY2UpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChkZXBlbmRlbmNpZXMgIT09IG51bGwpIHtcbiAgICB2YXIgX3Jlc3BvbmRlcnNNYXAgPSBkZXBlbmRlbmNpZXMucmVzcG9uZGVycztcblxuICAgIGlmIChfcmVzcG9uZGVyc01hcCAhPT0gbnVsbCkge1xuICAgICAgLy8gVW5tb3VudFxuICAgICAgdmFyIG1vdW50ZWRSZXNwb25kZXJzID0gQXJyYXkuZnJvbShfcmVzcG9uZGVyc01hcC5rZXlzKCkpO1xuXG4gICAgICBmb3IgKHZhciBfaSA9IDAsIF9sZW5ndGggPSBtb3VudGVkUmVzcG9uZGVycy5sZW5ndGg7IF9pIDwgX2xlbmd0aDsgX2krKykge1xuICAgICAgICB2YXIgbW91bnRlZFJlc3BvbmRlciA9IG1vdW50ZWRSZXNwb25kZXJzW19pXTtcblxuICAgICAgICBpZiAoIXZpc2lzdGVkUmVzcG9uZGVycy5oYXMobW91bnRlZFJlc3BvbmRlcikpIHtcbiAgICAgICAgICB2YXIgcmVzcG9uZGVySW5zdGFuY2UgPSBfcmVzcG9uZGVyc01hcC5nZXQobW91bnRlZFJlc3BvbmRlcik7XG5cbiAgICAgICAgICB1bm1vdW50UmVzcG9uZGVySW5zdGFuY2UocmVzcG9uZGVySW5zdGFuY2UpO1xuXG4gICAgICAgICAgX3Jlc3BvbmRlcnNNYXAuZGVsZXRlKG1vdW50ZWRSZXNwb25kZXIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBjcmVhdGVSZXNwb25kZXJMaXN0ZW5lcihyZXNwb25kZXIsIHByb3BzKSB7XG4gIHZhciBldmVudFJlc3BvbmRlckxpc3RlbmVyID0ge1xuICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLFxuICAgIHByb3BzOiBwcm9wc1xuICB9O1xuXG4gIHtcbiAgICBPYmplY3QuZnJlZXplKGV2ZW50UmVzcG9uZGVyTGlzdGVuZXIpO1xuICB9XG5cbiAgcmV0dXJuIGV2ZW50UmVzcG9uZGVyTGlzdGVuZXI7XG59XG5cbnZhciBOb0VmZmVjdCQxID1cbi8qICAgICAgICAgICAgICovXG4wO1xudmFyIFVubW91bnRTbmFwc2hvdCA9XG4vKiAgICAgICovXG4yO1xudmFyIFVubW91bnRNdXRhdGlvbiA9XG4vKiAgICAgICovXG40O1xudmFyIE1vdW50TXV0YXRpb24gPVxuLyogICAgICAgICovXG44O1xudmFyIFVubW91bnRMYXlvdXQgPVxuLyogICAgICAgICovXG4xNjtcbnZhciBNb3VudExheW91dCA9XG4vKiAgICAgICAgICAqL1xuMzI7XG52YXIgTW91bnRQYXNzaXZlID1cbi8qICAgICAgICAgKi9cbjY0O1xudmFyIFVubW91bnRQYXNzaXZlID1cbi8qICAgICAgICovXG4xMjg7XG5cbnZhciBSZWFjdEN1cnJlbnREaXNwYXRjaGVyJDEgPSBSZWFjdFNoYXJlZEludGVybmFscy5SZWFjdEN1cnJlbnREaXNwYXRjaGVyO1xudmFyIFJlYWN0Q3VycmVudEJhdGNoQ29uZmlnJDEgPSBSZWFjdFNoYXJlZEludGVybmFscy5SZWFjdEN1cnJlbnRCYXRjaENvbmZpZztcbnZhciBkaWRXYXJuQWJvdXRNaXNtYXRjaGVkSG9va3NGb3JDb21wb25lbnQ7XG5cbntcbiAgZGlkV2FybkFib3V0TWlzbWF0Y2hlZEhvb2tzRm9yQ29tcG9uZW50ID0gbmV3IFNldCgpO1xufVxuXG4vLyBUaGVzZSBhcmUgc2V0IHJpZ2h0IGJlZm9yZSBjYWxsaW5nIHRoZSBjb21wb25lbnQuXG52YXIgcmVuZGVyRXhwaXJhdGlvblRpbWUkMSA9IE5vV29yazsgLy8gVGhlIHdvcmstaW4tcHJvZ3Jlc3MgZmliZXIuIEkndmUgbmFtZWQgaXQgZGlmZmVyZW50bHkgdG8gZGlzdGluZ3Vpc2ggaXQgZnJvbVxuLy8gdGhlIHdvcmstaW4tcHJvZ3Jlc3MgaG9vay5cblxudmFyIGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEgPSBudWxsOyAvLyBIb29rcyBhcmUgc3RvcmVkIGFzIGEgbGlua2VkIGxpc3Qgb24gdGhlIGZpYmVyJ3MgbWVtb2l6ZWRTdGF0ZSBmaWVsZC4gVGhlXG4vLyBjdXJyZW50IGhvb2sgbGlzdCBpcyB0aGUgbGlzdCB0aGF0IGJlbG9uZ3MgdG8gdGhlIGN1cnJlbnQgZmliZXIuIFRoZVxuLy8gd29yay1pbi1wcm9ncmVzcyBob29rIGxpc3QgaXMgYSBuZXcgbGlzdCB0aGF0IHdpbGwgYmUgYWRkZWQgdG8gdGhlXG4vLyB3b3JrLWluLXByb2dyZXNzIGZpYmVyLlxuXG52YXIgY3VycmVudEhvb2sgPSBudWxsO1xudmFyIG5leHRDdXJyZW50SG9vayA9IG51bGw7XG52YXIgZmlyc3RXb3JrSW5Qcm9ncmVzc0hvb2sgPSBudWxsO1xudmFyIHdvcmtJblByb2dyZXNzSG9vayA9IG51bGw7XG52YXIgbmV4dFdvcmtJblByb2dyZXNzSG9vayA9IG51bGw7XG52YXIgcmVtYWluaW5nRXhwaXJhdGlvblRpbWUgPSBOb1dvcms7XG52YXIgY29tcG9uZW50VXBkYXRlUXVldWUgPSBudWxsO1xudmFyIHNpZGVFZmZlY3RUYWcgPSAwOyAvLyBVcGRhdGVzIHNjaGVkdWxlZCBkdXJpbmcgcmVuZGVyIHdpbGwgdHJpZ2dlciBhbiBpbW1lZGlhdGUgcmUtcmVuZGVyIGF0IHRoZVxuLy8gZW5kIG9mIHRoZSBjdXJyZW50IHBhc3MuIFdlIGNhbid0IHN0b3JlIHRoZXNlIHVwZGF0ZXMgb24gdGhlIG5vcm1hbCBxdWV1ZSxcbi8vIGJlY2F1c2UgaWYgdGhlIHdvcmsgaXMgYWJvcnRlZCwgdGhleSBzaG91bGQgYmUgZGlzY2FyZGVkLiBCZWNhdXNlIHRoaXMgaXNcbi8vIGEgcmVsYXRpdmVseSByYXJlIGNhc2UsIHdlIGFsc28gZG9uJ3Qgd2FudCB0byBhZGQgYW4gYWRkaXRpb25hbCBmaWVsZCB0b1xuLy8gZWl0aGVyIHRoZSBob29rIG9yIHF1ZXVlIG9iamVjdCB0eXBlcy4gU28gd2Ugc3RvcmUgdGhlbSBpbiBhIGxhemlseSBjcmVhdGVcbi8vIG1hcCBvZiBxdWV1ZSAtPiByZW5kZXItcGhhc2UgdXBkYXRlcywgd2hpY2ggYXJlIGRpc2NhcmRlZCBvbmNlIHRoZSBjb21wb25lbnRcbi8vIGNvbXBsZXRlcyB3aXRob3V0IHJlLXJlbmRlcmluZy5cbi8vIFdoZXRoZXIgYW4gdXBkYXRlIHdhcyBzY2hlZHVsZWQgZHVyaW5nIHRoZSBjdXJyZW50bHkgZXhlY3V0aW5nIHJlbmRlciBwYXNzLlxuXG52YXIgZGlkU2NoZWR1bGVSZW5kZXJQaGFzZVVwZGF0ZSA9IGZhbHNlOyAvLyBMYXppbHkgY3JlYXRlZCBtYXAgb2YgcmVuZGVyLXBoYXNlIHVwZGF0ZXNcblxudmFyIHJlbmRlclBoYXNlVXBkYXRlcyA9IG51bGw7IC8vIENvdW50ZXIgdG8gcHJldmVudCBpbmZpbml0ZSBsb29wcy5cblxudmFyIG51bWJlck9mUmVSZW5kZXJzID0gMDtcbnZhciBSRV9SRU5ERVJfTElNSVQgPSAyNTsgLy8gSW4gREVWLCB0aGlzIGlzIHRoZSBuYW1lIG9mIHRoZSBjdXJyZW50bHkgZXhlY3V0aW5nIHByaW1pdGl2ZSBob29rXG5cbnZhciBjdXJyZW50SG9va05hbWVJbkRldiA9IG51bGw7IC8vIEluIERFViwgdGhpcyBsaXN0IGVuc3VyZXMgdGhhdCBob29rcyBhcmUgY2FsbGVkIGluIHRoZSBzYW1lIG9yZGVyIGJldHdlZW4gcmVuZGVycy5cbi8vIFRoZSBsaXN0IHN0b3JlcyB0aGUgb3JkZXIgb2YgaG9va3MgdXNlZCBkdXJpbmcgdGhlIGluaXRpYWwgcmVuZGVyIChtb3VudCkuXG4vLyBTdWJzZXF1ZW50IHJlbmRlcnMgKHVwZGF0ZXMpIHJlZmVyZW5jZSB0aGlzIGxpc3QuXG5cbnZhciBob29rVHlwZXNEZXYgPSBudWxsO1xudmFyIGhvb2tUeXBlc1VwZGF0ZUluZGV4RGV2ID0gLTE7IC8vIEluIERFViwgdGhpcyB0cmFja3Mgd2hldGhlciBjdXJyZW50bHkgcmVuZGVyaW5nIGNvbXBvbmVudCBuZWVkcyB0byBpZ25vcmVcbi8vIHRoZSBkZXBlbmRlbmNpZXMgZm9yIEhvb2tzIHRoYXQgbmVlZCB0aGVtIChlLmcuIHVzZUVmZmVjdCBvciB1c2VNZW1vKS5cbi8vIFdoZW4gdHJ1ZSwgc3VjaCBIb29rcyB3aWxsIGFsd2F5cyBiZSBcInJlbW91bnRlZFwiLiBPbmx5IHVzZWQgZHVyaW5nIGhvdCByZWxvYWQuXG5cbnZhciBpZ25vcmVQcmV2aW91c0RlcGVuZGVuY2llcyA9IGZhbHNlO1xuXG5mdW5jdGlvbiBtb3VudEhvb2tUeXBlc0RldigpIHtcbiAge1xuICAgIHZhciBob29rTmFtZSA9IGN1cnJlbnRIb29rTmFtZUluRGV2O1xuXG4gICAgaWYgKGhvb2tUeXBlc0RldiA9PT0gbnVsbCkge1xuICAgICAgaG9va1R5cGVzRGV2ID0gW2hvb2tOYW1lXTtcbiAgICB9IGVsc2Uge1xuICAgICAgaG9va1R5cGVzRGV2LnB1c2goaG9va05hbWUpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiB1cGRhdGVIb29rVHlwZXNEZXYoKSB7XG4gIHtcbiAgICB2YXIgaG9va05hbWUgPSBjdXJyZW50SG9va05hbWVJbkRldjtcblxuICAgIGlmIChob29rVHlwZXNEZXYgIT09IG51bGwpIHtcbiAgICAgIGhvb2tUeXBlc1VwZGF0ZUluZGV4RGV2Kys7XG5cbiAgICAgIGlmIChob29rVHlwZXNEZXZbaG9va1R5cGVzVXBkYXRlSW5kZXhEZXZdICE9PSBob29rTmFtZSkge1xuICAgICAgICB3YXJuT25Ib29rTWlzbWF0Y2hJbkRldihob29rTmFtZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGNoZWNrRGVwc0FyZUFycmF5RGV2KGRlcHMpIHtcbiAge1xuICAgIGlmIChkZXBzICE9PSB1bmRlZmluZWQgJiYgZGVwcyAhPT0gbnVsbCAmJiAhQXJyYXkuaXNBcnJheShkZXBzKSkge1xuICAgICAgLy8gVmVyaWZ5IGRlcHMsIGJ1dCBvbmx5IG9uIG1vdW50IHRvIGF2b2lkIGV4dHJhIGNoZWNrcy5cbiAgICAgIC8vIEl0J3MgdW5saWtlbHkgdGhlaXIgdHlwZSB3b3VsZCBjaGFuZ2UgYXMgdXN1YWxseSB5b3UgZGVmaW5lIHRoZW0gaW5saW5lLlxuICAgICAgd2FybmluZyQxKGZhbHNlLCAnJXMgcmVjZWl2ZWQgYSBmaW5hbCBhcmd1bWVudCB0aGF0IGlzIG5vdCBhbiBhcnJheSAoaW5zdGVhZCwgcmVjZWl2ZWQgYCVzYCkuIFdoZW4gJyArICdzcGVjaWZpZWQsIHRoZSBmaW5hbCBhcmd1bWVudCBtdXN0IGJlIGFuIGFycmF5LicsIGN1cnJlbnRIb29rTmFtZUluRGV2LCB0eXBlb2YgZGVwcyk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHdhcm5Pbkhvb2tNaXNtYXRjaEluRGV2KGN1cnJlbnRIb29rTmFtZSkge1xuICB7XG4gICAgdmFyIGNvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lKGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEudHlwZSk7XG5cbiAgICBpZiAoIWRpZFdhcm5BYm91dE1pc21hdGNoZWRIb29rc0ZvckNvbXBvbmVudC5oYXMoY29tcG9uZW50TmFtZSkpIHtcbiAgICAgIGRpZFdhcm5BYm91dE1pc21hdGNoZWRIb29rc0ZvckNvbXBvbmVudC5hZGQoY29tcG9uZW50TmFtZSk7XG5cbiAgICAgIGlmIChob29rVHlwZXNEZXYgIT09IG51bGwpIHtcbiAgICAgICAgdmFyIHRhYmxlID0gJyc7XG4gICAgICAgIHZhciBzZWNvbmRDb2x1bW5TdGFydCA9IDMwO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDw9IGhvb2tUeXBlc1VwZGF0ZUluZGV4RGV2OyBpKyspIHtcbiAgICAgICAgICB2YXIgb2xkSG9va05hbWUgPSBob29rVHlwZXNEZXZbaV07XG4gICAgICAgICAgdmFyIG5ld0hvb2tOYW1lID0gaSA9PT0gaG9va1R5cGVzVXBkYXRlSW5kZXhEZXYgPyBjdXJyZW50SG9va05hbWUgOiBvbGRIb29rTmFtZTtcbiAgICAgICAgICB2YXIgcm93ID0gaSArIDEgKyBcIi4gXCIgKyBvbGRIb29rTmFtZTsgLy8gRXh0cmEgc3BhY2Ugc28gc2Vjb25kIGNvbHVtbiBsaW5lcyB1cFxuICAgICAgICAgIC8vIGxvbCBAIElFIG5vdCBzdXBwb3J0aW5nIFN0cmluZyNyZXBlYXRcblxuICAgICAgICAgIHdoaWxlIChyb3cubGVuZ3RoIDwgc2Vjb25kQ29sdW1uU3RhcnQpIHtcbiAgICAgICAgICAgIHJvdyArPSAnICc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcm93ICs9IG5ld0hvb2tOYW1lICsgJ1xcbic7XG4gICAgICAgICAgdGFibGUgKz0gcm93O1xuICAgICAgICB9XG5cbiAgICAgICAgd2FybmluZyQxKGZhbHNlLCAnUmVhY3QgaGFzIGRldGVjdGVkIGEgY2hhbmdlIGluIHRoZSBvcmRlciBvZiBIb29rcyBjYWxsZWQgYnkgJXMuICcgKyAnVGhpcyB3aWxsIGxlYWQgdG8gYnVncyBhbmQgZXJyb3JzIGlmIG5vdCBmaXhlZC4gJyArICdGb3IgbW9yZSBpbmZvcm1hdGlvbiwgcmVhZCB0aGUgUnVsZXMgb2YgSG9va3M6IGh0dHBzOi8vZmIubWUvcnVsZXMtb2YtaG9va3NcXG5cXG4nICsgJyAgIFByZXZpb3VzIHJlbmRlciAgICAgICAgICAgIE5leHQgcmVuZGVyXFxuJyArICcgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cXG4nICsgJyVzJyArICcgICBeXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5cXG4nLCBjb21wb25lbnROYW1lLCB0YWJsZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHRocm93SW52YWxpZEhvb2tFcnJvcigpIHtcbiAge1xuICAgIHtcbiAgICAgIHRocm93IEVycm9yKFwiSW52YWxpZCBob29rIGNhbGwuIEhvb2tzIGNhbiBvbmx5IGJlIGNhbGxlZCBpbnNpZGUgb2YgdGhlIGJvZHkgb2YgYSBmdW5jdGlvbiBjb21wb25lbnQuIFRoaXMgY291bGQgaGFwcGVuIGZvciBvbmUgb2YgdGhlIGZvbGxvd2luZyByZWFzb25zOlxcbjEuIFlvdSBtaWdodCBoYXZlIG1pc21hdGNoaW5nIHZlcnNpb25zIG9mIFJlYWN0IGFuZCB0aGUgcmVuZGVyZXIgKHN1Y2ggYXMgUmVhY3QgRE9NKVxcbjIuIFlvdSBtaWdodCBiZSBicmVha2luZyB0aGUgUnVsZXMgb2YgSG9va3NcXG4zLiBZb3UgbWlnaHQgaGF2ZSBtb3JlIHRoYW4gb25lIGNvcHkgb2YgUmVhY3QgaW4gdGhlIHNhbWUgYXBwXFxuU2VlIGh0dHBzOi8vZmIubWUvcmVhY3QtaW52YWxpZC1ob29rLWNhbGwgZm9yIHRpcHMgYWJvdXQgaG93IHRvIGRlYnVnIGFuZCBmaXggdGhpcyBwcm9ibGVtLlwiKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gYXJlSG9va0lucHV0c0VxdWFsKG5leHREZXBzLCBwcmV2RGVwcykge1xuICB7XG4gICAgaWYgKGlnbm9yZVByZXZpb3VzRGVwZW5kZW5jaWVzKSB7XG4gICAgICAvLyBPbmx5IHRydWUgd2hlbiB0aGlzIGNvbXBvbmVudCBpcyBiZWluZyBob3QgcmVsb2FkZWQuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgaWYgKHByZXZEZXBzID09PSBudWxsKSB7XG4gICAge1xuICAgICAgd2FybmluZyQxKGZhbHNlLCAnJXMgcmVjZWl2ZWQgYSBmaW5hbCBhcmd1bWVudCBkdXJpbmcgdGhpcyByZW5kZXIsIGJ1dCBub3QgZHVyaW5nICcgKyAndGhlIHByZXZpb3VzIHJlbmRlci4gRXZlbiB0aG91Z2ggdGhlIGZpbmFsIGFyZ3VtZW50IGlzIG9wdGlvbmFsLCAnICsgJ2l0cyB0eXBlIGNhbm5vdCBjaGFuZ2UgYmV0d2VlbiByZW5kZXJzLicsIGN1cnJlbnRIb29rTmFtZUluRGV2KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB7XG4gICAgLy8gRG9uJ3QgYm90aGVyIGNvbXBhcmluZyBsZW5ndGhzIGluIHByb2QgYmVjYXVzZSB0aGVzZSBhcnJheXMgc2hvdWxkIGJlXG4gICAgLy8gcGFzc2VkIGlubGluZS5cbiAgICBpZiAobmV4dERlcHMubGVuZ3RoICE9PSBwcmV2RGVwcy5sZW5ndGgpIHtcbiAgICAgIHdhcm5pbmckMShmYWxzZSwgJ1RoZSBmaW5hbCBhcmd1bWVudCBwYXNzZWQgdG8gJXMgY2hhbmdlZCBzaXplIGJldHdlZW4gcmVuZGVycy4gVGhlICcgKyAnb3JkZXIgYW5kIHNpemUgb2YgdGhpcyBhcnJheSBtdXN0IHJlbWFpbiBjb25zdGFudC5cXG5cXG4nICsgJ1ByZXZpb3VzOiAlc1xcbicgKyAnSW5jb21pbmc6ICVzJywgY3VycmVudEhvb2tOYW1lSW5EZXYsIFwiW1wiICsgcHJldkRlcHMuam9pbignLCAnKSArIFwiXVwiLCBcIltcIiArIG5leHREZXBzLmpvaW4oJywgJykgKyBcIl1cIik7XG4gICAgfVxuICB9XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcmV2RGVwcy5sZW5ndGggJiYgaSA8IG5leHREZXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGlzJDEobmV4dERlcHNbaV0sIHByZXZEZXBzW2ldKSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIHJlbmRlcldpdGhIb29rcyhjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgQ29tcG9uZW50LCBwcm9wcywgcmVmT3JDb250ZXh0LCBuZXh0UmVuZGVyRXhwaXJhdGlvblRpbWUpIHtcbiAgcmVuZGVyRXhwaXJhdGlvblRpbWUkMSA9IG5leHRSZW5kZXJFeHBpcmF0aW9uVGltZTtcbiAgY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMSA9IHdvcmtJblByb2dyZXNzO1xuICBuZXh0Q3VycmVudEhvb2sgPSBjdXJyZW50ICE9PSBudWxsID8gY3VycmVudC5tZW1vaXplZFN0YXRlIDogbnVsbDtcblxuICB7XG4gICAgaG9va1R5cGVzRGV2ID0gY3VycmVudCAhPT0gbnVsbCA/IGN1cnJlbnQuX2RlYnVnSG9va1R5cGVzIDogbnVsbDtcbiAgICBob29rVHlwZXNVcGRhdGVJbmRleERldiA9IC0xOyAvLyBVc2VkIGZvciBob3QgcmVsb2FkaW5nOlxuXG4gICAgaWdub3JlUHJldmlvdXNEZXBlbmRlbmNpZXMgPSBjdXJyZW50ICE9PSBudWxsICYmIGN1cnJlbnQudHlwZSAhPT0gd29ya0luUHJvZ3Jlc3MudHlwZTtcbiAgfSAvLyBUaGUgZm9sbG93aW5nIHNob3VsZCBoYXZlIGFscmVhZHkgYmVlbiByZXNldFxuICAvLyBjdXJyZW50SG9vayA9IG51bGw7XG4gIC8vIHdvcmtJblByb2dyZXNzSG9vayA9IG51bGw7XG4gIC8vIHJlbWFpbmluZ0V4cGlyYXRpb25UaW1lID0gTm9Xb3JrO1xuICAvLyBjb21wb25lbnRVcGRhdGVRdWV1ZSA9IG51bGw7XG4gIC8vIGRpZFNjaGVkdWxlUmVuZGVyUGhhc2VVcGRhdGUgPSBmYWxzZTtcbiAgLy8gcmVuZGVyUGhhc2VVcGRhdGVzID0gbnVsbDtcbiAgLy8gbnVtYmVyT2ZSZVJlbmRlcnMgPSAwO1xuICAvLyBzaWRlRWZmZWN0VGFnID0gMDtcbiAgLy8gVE9ETyBXYXJuIGlmIG5vIGhvb2tzIGFyZSB1c2VkIGF0IGFsbCBkdXJpbmcgbW91bnQsIHRoZW4gc29tZSBhcmUgdXNlZCBkdXJpbmcgdXBkYXRlLlxuICAvLyBDdXJyZW50bHkgd2Ugd2lsbCBpZGVudGlmeSB0aGUgdXBkYXRlIHJlbmRlciBhcyBhIG1vdW50IGJlY2F1c2UgbmV4dEN1cnJlbnRIb29rID09PSBudWxsLlxuICAvLyBUaGlzIGlzIHRyaWNreSBiZWNhdXNlIGl0J3MgdmFsaWQgZm9yIGNlcnRhaW4gdHlwZXMgb2YgY29tcG9uZW50cyAoZS5nLiBSZWFjdC5sYXp5KVxuICAvLyBVc2luZyBuZXh0Q3VycmVudEhvb2sgdG8gZGlmZmVyZW50aWF0ZSBiZXR3ZWVuIG1vdW50L3VwZGF0ZSBvbmx5IHdvcmtzIGlmIGF0IGxlYXN0IG9uZSBzdGF0ZWZ1bCBob29rIGlzIHVzZWQuXG4gIC8vIE5vbi1zdGF0ZWZ1bCBob29rcyAoZS5nLiBjb250ZXh0KSBkb24ndCBnZXQgYWRkZWQgdG8gbWVtb2l6ZWRTdGF0ZSxcbiAgLy8gc28gbmV4dEN1cnJlbnRIb29rIHdvdWxkIGJlIG51bGwgZHVyaW5nIHVwZGF0ZXMgYW5kIG1vdW50cy5cblxuXG4gIHtcbiAgICBpZiAobmV4dEN1cnJlbnRIb29rICE9PSBudWxsKSB7XG4gICAgICBSZWFjdEN1cnJlbnREaXNwYXRjaGVyJDEuY3VycmVudCA9IEhvb2tzRGlzcGF0Y2hlck9uVXBkYXRlSW5ERVY7XG4gICAgfSBlbHNlIGlmIChob29rVHlwZXNEZXYgIT09IG51bGwpIHtcbiAgICAgIC8vIFRoaXMgZGlzcGF0Y2hlciBoYW5kbGVzIGFuIGVkZ2UgY2FzZSB3aGVyZSBhIGNvbXBvbmVudCBpcyB1cGRhdGluZyxcbiAgICAgIC8vIGJ1dCBubyBzdGF0ZWZ1bCBob29rcyBoYXZlIGJlZW4gdXNlZC5cbiAgICAgIC8vIFdlIHdhbnQgdG8gbWF0Y2ggdGhlIHByb2R1Y3Rpb24gY29kZSBiZWhhdmlvciAod2hpY2ggd2lsbCB1c2UgSG9va3NEaXNwYXRjaGVyT25Nb3VudCksXG4gICAgICAvLyBidXQgd2l0aCB0aGUgZXh0cmEgREVWIHZhbGlkYXRpb24gdG8gZW5zdXJlIGhvb2tzIG9yZGVyaW5nIGhhc24ndCBjaGFuZ2VkLlxuICAgICAgLy8gVGhpcyBkaXNwYXRjaGVyIGRvZXMgdGhhdC5cbiAgICAgIFJlYWN0Q3VycmVudERpc3BhdGNoZXIkMS5jdXJyZW50ID0gSG9va3NEaXNwYXRjaGVyT25Nb3VudFdpdGhIb29rVHlwZXNJbkRFVjtcbiAgICB9IGVsc2Uge1xuICAgICAgUmVhY3RDdXJyZW50RGlzcGF0Y2hlciQxLmN1cnJlbnQgPSBIb29rc0Rpc3BhdGNoZXJPbk1vdW50SW5ERVY7XG4gICAgfVxuICB9XG5cbiAgdmFyIGNoaWxkcmVuID0gQ29tcG9uZW50KHByb3BzLCByZWZPckNvbnRleHQpO1xuXG4gIGlmIChkaWRTY2hlZHVsZVJlbmRlclBoYXNlVXBkYXRlKSB7XG4gICAgZG8ge1xuICAgICAgZGlkU2NoZWR1bGVSZW5kZXJQaGFzZVVwZGF0ZSA9IGZhbHNlO1xuICAgICAgbnVtYmVyT2ZSZVJlbmRlcnMgKz0gMTtcblxuICAgICAge1xuICAgICAgICAvLyBFdmVuIHdoZW4gaG90IHJlbG9hZGluZywgYWxsb3cgZGVwZW5kZW5jaWVzIHRvIHN0YWJpbGl6ZVxuICAgICAgICAvLyBhZnRlciBmaXJzdCByZW5kZXIgdG8gcHJldmVudCBpbmZpbml0ZSByZW5kZXIgcGhhc2UgdXBkYXRlcy5cbiAgICAgICAgaWdub3JlUHJldmlvdXNEZXBlbmRlbmNpZXMgPSBmYWxzZTtcbiAgICAgIH0gLy8gU3RhcnQgb3ZlciBmcm9tIHRoZSBiZWdpbm5pbmcgb2YgdGhlIGxpc3RcblxuXG4gICAgICBuZXh0Q3VycmVudEhvb2sgPSBjdXJyZW50ICE9PSBudWxsID8gY3VycmVudC5tZW1vaXplZFN0YXRlIDogbnVsbDtcbiAgICAgIG5leHRXb3JrSW5Qcm9ncmVzc0hvb2sgPSBmaXJzdFdvcmtJblByb2dyZXNzSG9vaztcbiAgICAgIGN1cnJlbnRIb29rID0gbnVsbDtcbiAgICAgIHdvcmtJblByb2dyZXNzSG9vayA9IG51bGw7XG4gICAgICBjb21wb25lbnRVcGRhdGVRdWV1ZSA9IG51bGw7XG5cbiAgICAgIHtcbiAgICAgICAgLy8gQWxzbyB2YWxpZGF0ZSBob29rIG9yZGVyIGZvciBjYXNjYWRpbmcgdXBkYXRlcy5cbiAgICAgICAgaG9va1R5cGVzVXBkYXRlSW5kZXhEZXYgPSAtMTtcbiAgICAgIH1cblxuICAgICAgUmVhY3RDdXJyZW50RGlzcGF0Y2hlciQxLmN1cnJlbnQgPSBIb29rc0Rpc3BhdGNoZXJPblVwZGF0ZUluREVWO1xuICAgICAgY2hpbGRyZW4gPSBDb21wb25lbnQocHJvcHMsIHJlZk9yQ29udGV4dCk7XG4gICAgfSB3aGlsZSAoZGlkU2NoZWR1bGVSZW5kZXJQaGFzZVVwZGF0ZSk7XG5cbiAgICByZW5kZXJQaGFzZVVwZGF0ZXMgPSBudWxsO1xuICAgIG51bWJlck9mUmVSZW5kZXJzID0gMDtcbiAgfSAvLyBXZSBjYW4gYXNzdW1lIHRoZSBwcmV2aW91cyBkaXNwYXRjaGVyIGlzIGFsd2F5cyB0aGlzIG9uZSwgc2luY2Ugd2Ugc2V0IGl0XG4gIC8vIGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhlIHJlbmRlciBwaGFzZSBhbmQgdGhlcmUncyBubyByZS1lbnRyYW5jeS5cblxuXG4gIFJlYWN0Q3VycmVudERpc3BhdGNoZXIkMS5jdXJyZW50ID0gQ29udGV4dE9ubHlEaXNwYXRjaGVyO1xuICB2YXIgcmVuZGVyZWRXb3JrID0gY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMTtcbiAgcmVuZGVyZWRXb3JrLm1lbW9pemVkU3RhdGUgPSBmaXJzdFdvcmtJblByb2dyZXNzSG9vaztcbiAgcmVuZGVyZWRXb3JrLmV4cGlyYXRpb25UaW1lID0gcmVtYWluaW5nRXhwaXJhdGlvblRpbWU7XG4gIHJlbmRlcmVkV29yay51cGRhdGVRdWV1ZSA9IGNvbXBvbmVudFVwZGF0ZVF1ZXVlO1xuICByZW5kZXJlZFdvcmsuZWZmZWN0VGFnIHw9IHNpZGVFZmZlY3RUYWc7XG5cbiAge1xuICAgIHJlbmRlcmVkV29yay5fZGVidWdIb29rVHlwZXMgPSBob29rVHlwZXNEZXY7XG4gIH0gLy8gVGhpcyBjaGVjayB1c2VzIGN1cnJlbnRIb29rIHNvIHRoYXQgaXQgd29ya3MgdGhlIHNhbWUgaW4gREVWIGFuZCBwcm9kIGJ1bmRsZXMuXG4gIC8vIGhvb2tUeXBlc0RldiBjb3VsZCBjYXRjaCBtb3JlIGNhc2VzIChlLmcuIGNvbnRleHQpIGJ1dCBvbmx5IGluIERFViBidW5kbGVzLlxuXG5cbiAgdmFyIGRpZFJlbmRlclRvb0Zld0hvb2tzID0gY3VycmVudEhvb2sgIT09IG51bGwgJiYgY3VycmVudEhvb2submV4dCAhPT0gbnVsbDtcbiAgcmVuZGVyRXhwaXJhdGlvblRpbWUkMSA9IE5vV29yaztcbiAgY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMSA9IG51bGw7XG4gIGN1cnJlbnRIb29rID0gbnVsbDtcbiAgbmV4dEN1cnJlbnRIb29rID0gbnVsbDtcbiAgZmlyc3RXb3JrSW5Qcm9ncmVzc0hvb2sgPSBudWxsO1xuICB3b3JrSW5Qcm9ncmVzc0hvb2sgPSBudWxsO1xuICBuZXh0V29ya0luUHJvZ3Jlc3NIb29rID0gbnVsbDtcblxuICB7XG4gICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBudWxsO1xuICAgIGhvb2tUeXBlc0RldiA9IG51bGw7XG4gICAgaG9va1R5cGVzVXBkYXRlSW5kZXhEZXYgPSAtMTtcbiAgfVxuXG4gIHJlbWFpbmluZ0V4cGlyYXRpb25UaW1lID0gTm9Xb3JrO1xuICBjb21wb25lbnRVcGRhdGVRdWV1ZSA9IG51bGw7XG4gIHNpZGVFZmZlY3RUYWcgPSAwOyAvLyBUaGVzZSB3ZXJlIHJlc2V0IGFib3ZlXG4gIC8vIGRpZFNjaGVkdWxlUmVuZGVyUGhhc2VVcGRhdGUgPSBmYWxzZTtcbiAgLy8gcmVuZGVyUGhhc2VVcGRhdGVzID0gbnVsbDtcbiAgLy8gbnVtYmVyT2ZSZVJlbmRlcnMgPSAwO1xuXG4gIGlmICghIWRpZFJlbmRlclRvb0Zld0hvb2tzKSB7XG4gICAge1xuICAgICAgdGhyb3cgRXJyb3IoXCJSZW5kZXJlZCBmZXdlciBob29rcyB0aGFuIGV4cGVjdGVkLiBUaGlzIG1heSBiZSBjYXVzZWQgYnkgYW4gYWNjaWRlbnRhbCBlYXJseSByZXR1cm4gc3RhdGVtZW50LlwiKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gY2hpbGRyZW47XG59XG5mdW5jdGlvbiBiYWlsb3V0SG9va3MoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIGV4cGlyYXRpb25UaW1lKSB7XG4gIHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlID0gY3VycmVudC51cGRhdGVRdWV1ZTtcbiAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnICY9IH4oUGFzc2l2ZSB8IFVwZGF0ZSk7XG5cbiAgaWYgKGN1cnJlbnQuZXhwaXJhdGlvblRpbWUgPD0gZXhwaXJhdGlvblRpbWUpIHtcbiAgICBjdXJyZW50LmV4cGlyYXRpb25UaW1lID0gTm9Xb3JrO1xuICB9XG59XG5mdW5jdGlvbiByZXNldEhvb2tzKCkge1xuICAvLyBXZSBjYW4gYXNzdW1lIHRoZSBwcmV2aW91cyBkaXNwYXRjaGVyIGlzIGFsd2F5cyB0aGlzIG9uZSwgc2luY2Ugd2Ugc2V0IGl0XG4gIC8vIGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhlIHJlbmRlciBwaGFzZSBhbmQgdGhlcmUncyBubyByZS1lbnRyYW5jeS5cbiAgUmVhY3RDdXJyZW50RGlzcGF0Y2hlciQxLmN1cnJlbnQgPSBDb250ZXh0T25seURpc3BhdGNoZXI7IC8vIFRoaXMgaXMgdXNlZCB0byByZXNldCB0aGUgc3RhdGUgb2YgdGhpcyBtb2R1bGUgd2hlbiBhIGNvbXBvbmVudCB0aHJvd3MuXG4gIC8vIEl0J3MgYWxzbyBjYWxsZWQgaW5zaWRlIG1vdW50SW5kZXRlcm1pbmF0ZUNvbXBvbmVudCBpZiB3ZSBkZXRlcm1pbmUgdGhlXG4gIC8vIGNvbXBvbmVudCBpcyBhIG1vZHVsZS1zdHlsZSBjb21wb25lbnQuXG5cbiAgcmVuZGVyRXhwaXJhdGlvblRpbWUkMSA9IE5vV29yaztcbiAgY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMSA9IG51bGw7XG4gIGN1cnJlbnRIb29rID0gbnVsbDtcbiAgbmV4dEN1cnJlbnRIb29rID0gbnVsbDtcbiAgZmlyc3RXb3JrSW5Qcm9ncmVzc0hvb2sgPSBudWxsO1xuICB3b3JrSW5Qcm9ncmVzc0hvb2sgPSBudWxsO1xuICBuZXh0V29ya0luUHJvZ3Jlc3NIb29rID0gbnVsbDtcblxuICB7XG4gICAgaG9va1R5cGVzRGV2ID0gbnVsbDtcbiAgICBob29rVHlwZXNVcGRhdGVJbmRleERldiA9IC0xO1xuICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gbnVsbDtcbiAgfVxuXG4gIHJlbWFpbmluZ0V4cGlyYXRpb25UaW1lID0gTm9Xb3JrO1xuICBjb21wb25lbnRVcGRhdGVRdWV1ZSA9IG51bGw7XG4gIHNpZGVFZmZlY3RUYWcgPSAwO1xuICBkaWRTY2hlZHVsZVJlbmRlclBoYXNlVXBkYXRlID0gZmFsc2U7XG4gIHJlbmRlclBoYXNlVXBkYXRlcyA9IG51bGw7XG4gIG51bWJlck9mUmVSZW5kZXJzID0gMDtcbn1cblxuZnVuY3Rpb24gbW91bnRXb3JrSW5Qcm9ncmVzc0hvb2soKSB7XG4gIHZhciBob29rID0ge1xuICAgIG1lbW9pemVkU3RhdGU6IG51bGwsXG4gICAgYmFzZVN0YXRlOiBudWxsLFxuICAgIHF1ZXVlOiBudWxsLFxuICAgIGJhc2VVcGRhdGU6IG51bGwsXG4gICAgbmV4dDogbnVsbFxuICB9O1xuXG4gIGlmICh3b3JrSW5Qcm9ncmVzc0hvb2sgPT09IG51bGwpIHtcbiAgICAvLyBUaGlzIGlzIHRoZSBmaXJzdCBob29rIGluIHRoZSBsaXN0XG4gICAgZmlyc3RXb3JrSW5Qcm9ncmVzc0hvb2sgPSB3b3JrSW5Qcm9ncmVzc0hvb2sgPSBob29rO1xuICB9IGVsc2Uge1xuICAgIC8vIEFwcGVuZCB0byB0aGUgZW5kIG9mIHRoZSBsaXN0XG4gICAgd29ya0luUHJvZ3Jlc3NIb29rID0gd29ya0luUHJvZ3Jlc3NIb29rLm5leHQgPSBob29rO1xuICB9XG5cbiAgcmV0dXJuIHdvcmtJblByb2dyZXNzSG9vaztcbn1cblxuZnVuY3Rpb24gdXBkYXRlV29ya0luUHJvZ3Jlc3NIb29rKCkge1xuICAvLyBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgYm90aCBmb3IgdXBkYXRlcyBhbmQgZm9yIHJlLXJlbmRlcnMgdHJpZ2dlcmVkIGJ5IGFcbiAgLy8gcmVuZGVyIHBoYXNlIHVwZGF0ZS4gSXQgYXNzdW1lcyB0aGVyZSBpcyBlaXRoZXIgYSBjdXJyZW50IGhvb2sgd2UgY2FuXG4gIC8vIGNsb25lLCBvciBhIHdvcmstaW4tcHJvZ3Jlc3MgaG9vayBmcm9tIGEgcHJldmlvdXMgcmVuZGVyIHBhc3MgdGhhdCB3ZSBjYW5cbiAgLy8gdXNlIGFzIGEgYmFzZS4gV2hlbiB3ZSByZWFjaCB0aGUgZW5kIG9mIHRoZSBiYXNlIGxpc3QsIHdlIG11c3Qgc3dpdGNoIHRvXG4gIC8vIHRoZSBkaXNwYXRjaGVyIHVzZWQgZm9yIG1vdW50cy5cbiAgaWYgKG5leHRXb3JrSW5Qcm9ncmVzc0hvb2sgIT09IG51bGwpIHtcbiAgICAvLyBUaGVyZSdzIGFscmVhZHkgYSB3b3JrLWluLXByb2dyZXNzLiBSZXVzZSBpdC5cbiAgICB3b3JrSW5Qcm9ncmVzc0hvb2sgPSBuZXh0V29ya0luUHJvZ3Jlc3NIb29rO1xuICAgIG5leHRXb3JrSW5Qcm9ncmVzc0hvb2sgPSB3b3JrSW5Qcm9ncmVzc0hvb2submV4dDtcbiAgICBjdXJyZW50SG9vayA9IG5leHRDdXJyZW50SG9vaztcbiAgICBuZXh0Q3VycmVudEhvb2sgPSBjdXJyZW50SG9vayAhPT0gbnVsbCA/IGN1cnJlbnRIb29rLm5leHQgOiBudWxsO1xuICB9IGVsc2Uge1xuICAgIC8vIENsb25lIGZyb20gdGhlIGN1cnJlbnQgaG9vay5cbiAgICBpZiAoIShuZXh0Q3VycmVudEhvb2sgIT09IG51bGwpKSB7XG4gICAgICB7XG4gICAgICAgIHRocm93IEVycm9yKFwiUmVuZGVyZWQgbW9yZSBob29rcyB0aGFuIGR1cmluZyB0aGUgcHJldmlvdXMgcmVuZGVyLlwiKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjdXJyZW50SG9vayA9IG5leHRDdXJyZW50SG9vaztcbiAgICB2YXIgbmV3SG9vayA9IHtcbiAgICAgIG1lbW9pemVkU3RhdGU6IGN1cnJlbnRIb29rLm1lbW9pemVkU3RhdGUsXG4gICAgICBiYXNlU3RhdGU6IGN1cnJlbnRIb29rLmJhc2VTdGF0ZSxcbiAgICAgIHF1ZXVlOiBjdXJyZW50SG9vay5xdWV1ZSxcbiAgICAgIGJhc2VVcGRhdGU6IGN1cnJlbnRIb29rLmJhc2VVcGRhdGUsXG4gICAgICBuZXh0OiBudWxsXG4gICAgfTtcblxuICAgIGlmICh3b3JrSW5Qcm9ncmVzc0hvb2sgPT09IG51bGwpIHtcbiAgICAgIC8vIFRoaXMgaXMgdGhlIGZpcnN0IGhvb2sgaW4gdGhlIGxpc3QuXG4gICAgICB3b3JrSW5Qcm9ncmVzc0hvb2sgPSBmaXJzdFdvcmtJblByb2dyZXNzSG9vayA9IG5ld0hvb2s7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEFwcGVuZCB0byB0aGUgZW5kIG9mIHRoZSBsaXN0LlxuICAgICAgd29ya0luUHJvZ3Jlc3NIb29rID0gd29ya0luUHJvZ3Jlc3NIb29rLm5leHQgPSBuZXdIb29rO1xuICAgIH1cblxuICAgIG5leHRDdXJyZW50SG9vayA9IGN1cnJlbnRIb29rLm5leHQ7XG4gIH1cblxuICByZXR1cm4gd29ya0luUHJvZ3Jlc3NIb29rO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVGdW5jdGlvbkNvbXBvbmVudFVwZGF0ZVF1ZXVlKCkge1xuICByZXR1cm4ge1xuICAgIGxhc3RFZmZlY3Q6IG51bGxcbiAgfTtcbn1cblxuZnVuY3Rpb24gYmFzaWNTdGF0ZVJlZHVjZXIoc3RhdGUsIGFjdGlvbikge1xuICByZXR1cm4gdHlwZW9mIGFjdGlvbiA9PT0gJ2Z1bmN0aW9uJyA/IGFjdGlvbihzdGF0ZSkgOiBhY3Rpb247XG59XG5cbmZ1bmN0aW9uIG1vdW50UmVkdWNlcihyZWR1Y2VyLCBpbml0aWFsQXJnLCBpbml0KSB7XG4gIHZhciBob29rID0gbW91bnRXb3JrSW5Qcm9ncmVzc0hvb2soKTtcbiAgdmFyIGluaXRpYWxTdGF0ZTtcblxuICBpZiAoaW5pdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgaW5pdGlhbFN0YXRlID0gaW5pdChpbml0aWFsQXJnKTtcbiAgfSBlbHNlIHtcbiAgICBpbml0aWFsU3RhdGUgPSBpbml0aWFsQXJnO1xuICB9XG5cbiAgaG9vay5tZW1vaXplZFN0YXRlID0gaG9vay5iYXNlU3RhdGUgPSBpbml0aWFsU3RhdGU7XG4gIHZhciBxdWV1ZSA9IGhvb2sucXVldWUgPSB7XG4gICAgbGFzdDogbnVsbCxcbiAgICBkaXNwYXRjaDogbnVsbCxcbiAgICBsYXN0UmVuZGVyZWRSZWR1Y2VyOiByZWR1Y2VyLFxuICAgIGxhc3RSZW5kZXJlZFN0YXRlOiBpbml0aWFsU3RhdGVcbiAgfTtcbiAgdmFyIGRpc3BhdGNoID0gcXVldWUuZGlzcGF0Y2ggPSBkaXNwYXRjaEFjdGlvbi5iaW5kKG51bGwsIC8vIEZsb3cgZG9lc24ndCBrbm93IHRoaXMgaXMgbm9uLW51bGwsIGJ1dCB3ZSBkby5cbiAgY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMSwgcXVldWUpO1xuICByZXR1cm4gW2hvb2subWVtb2l6ZWRTdGF0ZSwgZGlzcGF0Y2hdO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVSZWR1Y2VyKHJlZHVjZXIsIGluaXRpYWxBcmcsIGluaXQpIHtcbiAgdmFyIGhvb2sgPSB1cGRhdGVXb3JrSW5Qcm9ncmVzc0hvb2soKTtcbiAgdmFyIHF1ZXVlID0gaG9vay5xdWV1ZTtcblxuICBpZiAoIShxdWV1ZSAhPT0gbnVsbCkpIHtcbiAgICB7XG4gICAgICB0aHJvdyBFcnJvcihcIlNob3VsZCBoYXZlIGEgcXVldWUuIFRoaXMgaXMgbGlrZWx5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIik7XG4gICAgfVxuICB9XG5cbiAgcXVldWUubGFzdFJlbmRlcmVkUmVkdWNlciA9IHJlZHVjZXI7XG5cbiAgaWYgKG51bWJlck9mUmVSZW5kZXJzID4gMCkge1xuICAgIC8vIFRoaXMgaXMgYSByZS1yZW5kZXIuIEFwcGx5IHRoZSBuZXcgcmVuZGVyIHBoYXNlIHVwZGF0ZXMgdG8gdGhlIHByZXZpb3VzXG4gICAgLy8gd29yay1pbi1wcm9ncmVzcyBob29rLlxuICAgIHZhciBfZGlzcGF0Y2ggPSBxdWV1ZS5kaXNwYXRjaDtcblxuICAgIGlmIChyZW5kZXJQaGFzZVVwZGF0ZXMgIT09IG51bGwpIHtcbiAgICAgIC8vIFJlbmRlciBwaGFzZSB1cGRhdGVzIGFyZSBzdG9yZWQgaW4gYSBtYXAgb2YgcXVldWUgLT4gbGlua2VkIGxpc3RcbiAgICAgIHZhciBmaXJzdFJlbmRlclBoYXNlVXBkYXRlID0gcmVuZGVyUGhhc2VVcGRhdGVzLmdldChxdWV1ZSk7XG5cbiAgICAgIGlmIChmaXJzdFJlbmRlclBoYXNlVXBkYXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmVuZGVyUGhhc2VVcGRhdGVzLmRlbGV0ZShxdWV1ZSk7XG4gICAgICAgIHZhciBuZXdTdGF0ZSA9IGhvb2subWVtb2l6ZWRTdGF0ZTtcbiAgICAgICAgdmFyIHVwZGF0ZSA9IGZpcnN0UmVuZGVyUGhhc2VVcGRhdGU7XG5cbiAgICAgICAgZG8ge1xuICAgICAgICAgIC8vIFByb2Nlc3MgdGhpcyByZW5kZXIgcGhhc2UgdXBkYXRlLiBXZSBkb24ndCBoYXZlIHRvIGNoZWNrIHRoZVxuICAgICAgICAgIC8vIHByaW9yaXR5IGJlY2F1c2UgaXQgd2lsbCBhbHdheXMgYmUgdGhlIHNhbWUgYXMgdGhlIGN1cnJlbnRcbiAgICAgICAgICAvLyByZW5kZXIncy5cbiAgICAgICAgICB2YXIgYWN0aW9uID0gdXBkYXRlLmFjdGlvbjtcbiAgICAgICAgICBuZXdTdGF0ZSA9IHJlZHVjZXIobmV3U3RhdGUsIGFjdGlvbik7XG4gICAgICAgICAgdXBkYXRlID0gdXBkYXRlLm5leHQ7XG4gICAgICAgIH0gd2hpbGUgKHVwZGF0ZSAhPT0gbnVsbCk7IC8vIE1hcmsgdGhhdCB0aGUgZmliZXIgcGVyZm9ybWVkIHdvcmssIGJ1dCBvbmx5IGlmIHRoZSBuZXcgc3RhdGUgaXNcbiAgICAgICAgLy8gZGlmZmVyZW50IGZyb20gdGhlIGN1cnJlbnQgc3RhdGUuXG5cblxuICAgICAgICBpZiAoIWlzJDEobmV3U3RhdGUsIGhvb2subWVtb2l6ZWRTdGF0ZSkpIHtcbiAgICAgICAgICBtYXJrV29ya0luUHJvZ3Jlc3NSZWNlaXZlZFVwZGF0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaG9vay5tZW1vaXplZFN0YXRlID0gbmV3U3RhdGU7IC8vIERvbid0IHBlcnNpc3QgdGhlIHN0YXRlIGFjY3VtdWxhdGVkIGZyb20gdGhlIHJlbmRlciBwaGFzZSB1cGRhdGVzIHRvXG4gICAgICAgIC8vIHRoZSBiYXNlIHN0YXRlIHVubGVzcyB0aGUgcXVldWUgaXMgZW1wdHkuXG4gICAgICAgIC8vIFRPRE86IE5vdCBzdXJlIGlmIHRoaXMgaXMgdGhlIGRlc2lyZWQgc2VtYW50aWNzLCBidXQgaXQncyB3aGF0IHdlXG4gICAgICAgIC8vIGRvIGZvciBnRFNGUC4gSSBjYW4ndCByZW1lbWJlciB3aHkuXG5cbiAgICAgICAgaWYgKGhvb2suYmFzZVVwZGF0ZSA9PT0gcXVldWUubGFzdCkge1xuICAgICAgICAgIGhvb2suYmFzZVN0YXRlID0gbmV3U3RhdGU7XG4gICAgICAgIH1cblxuICAgICAgICBxdWV1ZS5sYXN0UmVuZGVyZWRTdGF0ZSA9IG5ld1N0YXRlO1xuICAgICAgICByZXR1cm4gW25ld1N0YXRlLCBfZGlzcGF0Y2hdO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBbaG9vay5tZW1vaXplZFN0YXRlLCBfZGlzcGF0Y2hdO1xuICB9IC8vIFRoZSBsYXN0IHVwZGF0ZSBpbiB0aGUgZW50aXJlIHF1ZXVlXG5cblxuICB2YXIgbGFzdCA9IHF1ZXVlLmxhc3Q7IC8vIFRoZSBsYXN0IHVwZGF0ZSB0aGF0IGlzIHBhcnQgb2YgdGhlIGJhc2Ugc3RhdGUuXG5cbiAgdmFyIGJhc2VVcGRhdGUgPSBob29rLmJhc2VVcGRhdGU7XG4gIHZhciBiYXNlU3RhdGUgPSBob29rLmJhc2VTdGF0ZTsgLy8gRmluZCB0aGUgZmlyc3QgdW5wcm9jZXNzZWQgdXBkYXRlLlxuXG4gIHZhciBmaXJzdDtcblxuICBpZiAoYmFzZVVwZGF0ZSAhPT0gbnVsbCkge1xuICAgIGlmIChsYXN0ICE9PSBudWxsKSB7XG4gICAgICAvLyBGb3IgdGhlIGZpcnN0IHVwZGF0ZSwgdGhlIHF1ZXVlIGlzIGEgY2lyY3VsYXIgbGlua2VkIGxpc3Qgd2hlcmVcbiAgICAgIC8vIGBxdWV1ZS5sYXN0Lm5leHQgPSBxdWV1ZS5maXJzdGAuIE9uY2UgdGhlIGZpcnN0IHVwZGF0ZSBjb21taXRzLCBhbmRcbiAgICAgIC8vIHRoZSBgYmFzZVVwZGF0ZWAgaXMgbm8gbG9uZ2VyIGVtcHR5LCB3ZSBjYW4gdW5yYXZlbCB0aGUgbGlzdC5cbiAgICAgIGxhc3QubmV4dCA9IG51bGw7XG4gICAgfVxuXG4gICAgZmlyc3QgPSBiYXNlVXBkYXRlLm5leHQ7XG4gIH0gZWxzZSB7XG4gICAgZmlyc3QgPSBsYXN0ICE9PSBudWxsID8gbGFzdC5uZXh0IDogbnVsbDtcbiAgfVxuXG4gIGlmIChmaXJzdCAhPT0gbnVsbCkge1xuICAgIHZhciBfbmV3U3RhdGUgPSBiYXNlU3RhdGU7XG4gICAgdmFyIG5ld0Jhc2VTdGF0ZSA9IG51bGw7XG4gICAgdmFyIG5ld0Jhc2VVcGRhdGUgPSBudWxsO1xuICAgIHZhciBwcmV2VXBkYXRlID0gYmFzZVVwZGF0ZTtcbiAgICB2YXIgX3VwZGF0ZSA9IGZpcnN0O1xuICAgIHZhciBkaWRTa2lwID0gZmFsc2U7XG5cbiAgICBkbyB7XG4gICAgICB2YXIgdXBkYXRlRXhwaXJhdGlvblRpbWUgPSBfdXBkYXRlLmV4cGlyYXRpb25UaW1lO1xuXG4gICAgICBpZiAodXBkYXRlRXhwaXJhdGlvblRpbWUgPCByZW5kZXJFeHBpcmF0aW9uVGltZSQxKSB7XG4gICAgICAgIC8vIFByaW9yaXR5IGlzIGluc3VmZmljaWVudC4gU2tpcCB0aGlzIHVwZGF0ZS4gSWYgdGhpcyBpcyB0aGUgZmlyc3RcbiAgICAgICAgLy8gc2tpcHBlZCB1cGRhdGUsIHRoZSBwcmV2aW91cyB1cGRhdGUvc3RhdGUgaXMgdGhlIG5ldyBiYXNlXG4gICAgICAgIC8vIHVwZGF0ZS9zdGF0ZS5cbiAgICAgICAgaWYgKCFkaWRTa2lwKSB7XG4gICAgICAgICAgZGlkU2tpcCA9IHRydWU7XG4gICAgICAgICAgbmV3QmFzZVVwZGF0ZSA9IHByZXZVcGRhdGU7XG4gICAgICAgICAgbmV3QmFzZVN0YXRlID0gX25ld1N0YXRlO1xuICAgICAgICB9IC8vIFVwZGF0ZSB0aGUgcmVtYWluaW5nIHByaW9yaXR5IGluIHRoZSBxdWV1ZS5cblxuXG4gICAgICAgIGlmICh1cGRhdGVFeHBpcmF0aW9uVGltZSA+IHJlbWFpbmluZ0V4cGlyYXRpb25UaW1lKSB7XG4gICAgICAgICAgcmVtYWluaW5nRXhwaXJhdGlvblRpbWUgPSB1cGRhdGVFeHBpcmF0aW9uVGltZTtcbiAgICAgICAgICBtYXJrVW5wcm9jZXNzZWRVcGRhdGVUaW1lKHJlbWFpbmluZ0V4cGlyYXRpb25UaW1lKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gVGhpcyB1cGRhdGUgZG9lcyBoYXZlIHN1ZmZpY2llbnQgcHJpb3JpdHkuXG4gICAgICAgIC8vIE1hcmsgdGhlIGV2ZW50IHRpbWUgb2YgdGhpcyB1cGRhdGUgYXMgcmVsZXZhbnQgdG8gdGhpcyByZW5kZXIgcGFzcy5cbiAgICAgICAgLy8gVE9ETzogVGhpcyBzaG91bGQgaWRlYWxseSB1c2UgdGhlIHRydWUgZXZlbnQgdGltZSBvZiB0aGlzIHVwZGF0ZSByYXRoZXIgdGhhblxuICAgICAgICAvLyBpdHMgcHJpb3JpdHkgd2hpY2ggaXMgYSBkZXJpdmVkIGFuZCBub3QgcmV2ZXJzZWFibGUgdmFsdWUuXG4gICAgICAgIC8vIFRPRE86IFdlIHNob3VsZCBza2lwIHRoaXMgdXBkYXRlIGlmIGl0IHdhcyBhbHJlYWR5IGNvbW1pdHRlZCBidXQgY3VycmVudGx5XG4gICAgICAgIC8vIHdlIGhhdmUgbm8gd2F5IG9mIGRldGVjdGluZyB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIGEgY29tbWl0dGVkIGFuZCBzdXNwZW5kZWRcbiAgICAgICAgLy8gdXBkYXRlIGhlcmUuXG4gICAgICAgIG1hcmtSZW5kZXJFdmVudFRpbWVBbmRDb25maWcodXBkYXRlRXhwaXJhdGlvblRpbWUsIF91cGRhdGUuc3VzcGVuc2VDb25maWcpOyAvLyBQcm9jZXNzIHRoaXMgdXBkYXRlLlxuXG4gICAgICAgIGlmIChfdXBkYXRlLmVhZ2VyUmVkdWNlciA9PT0gcmVkdWNlcikge1xuICAgICAgICAgIC8vIElmIHRoaXMgdXBkYXRlIHdhcyBwcm9jZXNzZWQgZWFnZXJseSwgYW5kIGl0cyByZWR1Y2VyIG1hdGNoZXMgdGhlXG4gICAgICAgICAgLy8gY3VycmVudCByZWR1Y2VyLCB3ZSBjYW4gdXNlIHRoZSBlYWdlcmx5IGNvbXB1dGVkIHN0YXRlLlxuICAgICAgICAgIF9uZXdTdGF0ZSA9IF91cGRhdGUuZWFnZXJTdGF0ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgX2FjdGlvbiA9IF91cGRhdGUuYWN0aW9uO1xuICAgICAgICAgIF9uZXdTdGF0ZSA9IHJlZHVjZXIoX25ld1N0YXRlLCBfYWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBwcmV2VXBkYXRlID0gX3VwZGF0ZTtcbiAgICAgIF91cGRhdGUgPSBfdXBkYXRlLm5leHQ7XG4gICAgfSB3aGlsZSAoX3VwZGF0ZSAhPT0gbnVsbCAmJiBfdXBkYXRlICE9PSBmaXJzdCk7XG5cbiAgICBpZiAoIWRpZFNraXApIHtcbiAgICAgIG5ld0Jhc2VVcGRhdGUgPSBwcmV2VXBkYXRlO1xuICAgICAgbmV3QmFzZVN0YXRlID0gX25ld1N0YXRlO1xuICAgIH0gLy8gTWFyayB0aGF0IHRoZSBmaWJlciBwZXJmb3JtZWQgd29yaywgYnV0IG9ubHkgaWYgdGhlIG5ldyBzdGF0ZSBpc1xuICAgIC8vIGRpZmZlcmVudCBmcm9tIHRoZSBjdXJyZW50IHN0YXRlLlxuXG5cbiAgICBpZiAoIWlzJDEoX25ld1N0YXRlLCBob29rLm1lbW9pemVkU3RhdGUpKSB7XG4gICAgICBtYXJrV29ya0luUHJvZ3Jlc3NSZWNlaXZlZFVwZGF0ZSgpO1xuICAgIH1cblxuICAgIGhvb2subWVtb2l6ZWRTdGF0ZSA9IF9uZXdTdGF0ZTtcbiAgICBob29rLmJhc2VVcGRhdGUgPSBuZXdCYXNlVXBkYXRlO1xuICAgIGhvb2suYmFzZVN0YXRlID0gbmV3QmFzZVN0YXRlO1xuICAgIHF1ZXVlLmxhc3RSZW5kZXJlZFN0YXRlID0gX25ld1N0YXRlO1xuICB9XG5cbiAgdmFyIGRpc3BhdGNoID0gcXVldWUuZGlzcGF0Y2g7XG4gIHJldHVybiBbaG9vay5tZW1vaXplZFN0YXRlLCBkaXNwYXRjaF07XG59XG5cbmZ1bmN0aW9uIG1vdW50U3RhdGUoaW5pdGlhbFN0YXRlKSB7XG4gIHZhciBob29rID0gbW91bnRXb3JrSW5Qcm9ncmVzc0hvb2soKTtcblxuICBpZiAodHlwZW9mIGluaXRpYWxTdGF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGluaXRpYWxTdGF0ZSA9IGluaXRpYWxTdGF0ZSgpO1xuICB9XG5cbiAgaG9vay5tZW1vaXplZFN0YXRlID0gaG9vay5iYXNlU3RhdGUgPSBpbml0aWFsU3RhdGU7XG4gIHZhciBxdWV1ZSA9IGhvb2sucXVldWUgPSB7XG4gICAgbGFzdDogbnVsbCxcbiAgICBkaXNwYXRjaDogbnVsbCxcbiAgICBsYXN0UmVuZGVyZWRSZWR1Y2VyOiBiYXNpY1N0YXRlUmVkdWNlcixcbiAgICBsYXN0UmVuZGVyZWRTdGF0ZTogaW5pdGlhbFN0YXRlXG4gIH07XG4gIHZhciBkaXNwYXRjaCA9IHF1ZXVlLmRpc3BhdGNoID0gZGlzcGF0Y2hBY3Rpb24uYmluZChudWxsLCAvLyBGbG93IGRvZXNuJ3Qga25vdyB0aGlzIGlzIG5vbi1udWxsLCBidXQgd2UgZG8uXG4gIGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEsIHF1ZXVlKTtcbiAgcmV0dXJuIFtob29rLm1lbW9pemVkU3RhdGUsIGRpc3BhdGNoXTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlU3RhdGUoaW5pdGlhbFN0YXRlKSB7XG4gIHJldHVybiB1cGRhdGVSZWR1Y2VyKGJhc2ljU3RhdGVSZWR1Y2VyLCBpbml0aWFsU3RhdGUpO1xufVxuXG5mdW5jdGlvbiBwdXNoRWZmZWN0KHRhZywgY3JlYXRlLCBkZXN0cm95LCBkZXBzKSB7XG4gIHZhciBlZmZlY3QgPSB7XG4gICAgdGFnOiB0YWcsXG4gICAgY3JlYXRlOiBjcmVhdGUsXG4gICAgZGVzdHJveTogZGVzdHJveSxcbiAgICBkZXBzOiBkZXBzLFxuICAgIC8vIENpcmN1bGFyXG4gICAgbmV4dDogbnVsbFxuICB9O1xuXG4gIGlmIChjb21wb25lbnRVcGRhdGVRdWV1ZSA9PT0gbnVsbCkge1xuICAgIGNvbXBvbmVudFVwZGF0ZVF1ZXVlID0gY3JlYXRlRnVuY3Rpb25Db21wb25lbnRVcGRhdGVRdWV1ZSgpO1xuICAgIGNvbXBvbmVudFVwZGF0ZVF1ZXVlLmxhc3RFZmZlY3QgPSBlZmZlY3QubmV4dCA9IGVmZmVjdDtcbiAgfSBlbHNlIHtcbiAgICB2YXIgbGFzdEVmZmVjdCA9IGNvbXBvbmVudFVwZGF0ZVF1ZXVlLmxhc3RFZmZlY3Q7XG5cbiAgICBpZiAobGFzdEVmZmVjdCA9PT0gbnVsbCkge1xuICAgICAgY29tcG9uZW50VXBkYXRlUXVldWUubGFzdEVmZmVjdCA9IGVmZmVjdC5uZXh0ID0gZWZmZWN0O1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgZmlyc3RFZmZlY3QgPSBsYXN0RWZmZWN0Lm5leHQ7XG4gICAgICBsYXN0RWZmZWN0Lm5leHQgPSBlZmZlY3Q7XG4gICAgICBlZmZlY3QubmV4dCA9IGZpcnN0RWZmZWN0O1xuICAgICAgY29tcG9uZW50VXBkYXRlUXVldWUubGFzdEVmZmVjdCA9IGVmZmVjdDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZWZmZWN0O1xufVxuXG5mdW5jdGlvbiBtb3VudFJlZihpbml0aWFsVmFsdWUpIHtcbiAgdmFyIGhvb2sgPSBtb3VudFdvcmtJblByb2dyZXNzSG9vaygpO1xuICB2YXIgcmVmID0ge1xuICAgIGN1cnJlbnQ6IGluaXRpYWxWYWx1ZVxuICB9O1xuXG4gIHtcbiAgICBPYmplY3Quc2VhbChyZWYpO1xuICB9XG5cbiAgaG9vay5tZW1vaXplZFN0YXRlID0gcmVmO1xuICByZXR1cm4gcmVmO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVSZWYoaW5pdGlhbFZhbHVlKSB7XG4gIHZhciBob29rID0gdXBkYXRlV29ya0luUHJvZ3Jlc3NIb29rKCk7XG4gIHJldHVybiBob29rLm1lbW9pemVkU3RhdGU7XG59XG5cbmZ1bmN0aW9uIG1vdW50RWZmZWN0SW1wbChmaWJlckVmZmVjdFRhZywgaG9va0VmZmVjdFRhZywgY3JlYXRlLCBkZXBzKSB7XG4gIHZhciBob29rID0gbW91bnRXb3JrSW5Qcm9ncmVzc0hvb2soKTtcbiAgdmFyIG5leHREZXBzID0gZGVwcyA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGRlcHM7XG4gIHNpZGVFZmZlY3RUYWcgfD0gZmliZXJFZmZlY3RUYWc7XG4gIGhvb2subWVtb2l6ZWRTdGF0ZSA9IHB1c2hFZmZlY3QoaG9va0VmZmVjdFRhZywgY3JlYXRlLCB1bmRlZmluZWQsIG5leHREZXBzKTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlRWZmZWN0SW1wbChmaWJlckVmZmVjdFRhZywgaG9va0VmZmVjdFRhZywgY3JlYXRlLCBkZXBzKSB7XG4gIHZhciBob29rID0gdXBkYXRlV29ya0luUHJvZ3Jlc3NIb29rKCk7XG4gIHZhciBuZXh0RGVwcyA9IGRlcHMgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBkZXBzO1xuICB2YXIgZGVzdHJveSA9IHVuZGVmaW5lZDtcblxuICBpZiAoY3VycmVudEhvb2sgIT09IG51bGwpIHtcbiAgICB2YXIgcHJldkVmZmVjdCA9IGN1cnJlbnRIb29rLm1lbW9pemVkU3RhdGU7XG4gICAgZGVzdHJveSA9IHByZXZFZmZlY3QuZGVzdHJveTtcblxuICAgIGlmIChuZXh0RGVwcyAhPT0gbnVsbCkge1xuICAgICAgdmFyIHByZXZEZXBzID0gcHJldkVmZmVjdC5kZXBzO1xuXG4gICAgICBpZiAoYXJlSG9va0lucHV0c0VxdWFsKG5leHREZXBzLCBwcmV2RGVwcykpIHtcbiAgICAgICAgcHVzaEVmZmVjdChOb0VmZmVjdCQxLCBjcmVhdGUsIGRlc3Ryb3ksIG5leHREZXBzKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHNpZGVFZmZlY3RUYWcgfD0gZmliZXJFZmZlY3RUYWc7XG4gIGhvb2subWVtb2l6ZWRTdGF0ZSA9IHB1c2hFZmZlY3QoaG9va0VmZmVjdFRhZywgY3JlYXRlLCBkZXN0cm95LCBuZXh0RGVwcyk7XG59XG5cbmZ1bmN0aW9uIG1vdW50RWZmZWN0KGNyZWF0ZSwgZGVwcykge1xuICB7XG4gICAgLy8gJEZsb3dFeHBlY3RlZEVycm9yIC0gamVzdCBpc24ndCBhIGdsb2JhbCwgYW5kIGlzbid0IHJlY29nbml6ZWQgb3V0c2lkZSBvZiB0ZXN0c1xuICAgIGlmICgndW5kZWZpbmVkJyAhPT0gdHlwZW9mIGplc3QpIHtcbiAgICAgIHdhcm5JZk5vdEN1cnJlbnRseUFjdGluZ0VmZmVjdHNJbkRFVihjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbW91bnRFZmZlY3RJbXBsKFVwZGF0ZSB8IFBhc3NpdmUsIFVubW91bnRQYXNzaXZlIHwgTW91bnRQYXNzaXZlLCBjcmVhdGUsIGRlcHMpO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVFZmZlY3QoY3JlYXRlLCBkZXBzKSB7XG4gIHtcbiAgICAvLyAkRmxvd0V4cGVjdGVkRXJyb3IgLSBqZXN0IGlzbid0IGEgZ2xvYmFsLCBhbmQgaXNuJ3QgcmVjb2duaXplZCBvdXRzaWRlIG9mIHRlc3RzXG4gICAgaWYgKCd1bmRlZmluZWQnICE9PSB0eXBlb2YgamVzdCkge1xuICAgICAgd2FybklmTm90Q3VycmVudGx5QWN0aW5nRWZmZWN0c0luREVWKGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB1cGRhdGVFZmZlY3RJbXBsKFVwZGF0ZSB8IFBhc3NpdmUsIFVubW91bnRQYXNzaXZlIHwgTW91bnRQYXNzaXZlLCBjcmVhdGUsIGRlcHMpO1xufVxuXG5mdW5jdGlvbiBtb3VudExheW91dEVmZmVjdChjcmVhdGUsIGRlcHMpIHtcbiAgcmV0dXJuIG1vdW50RWZmZWN0SW1wbChVcGRhdGUsIFVubW91bnRNdXRhdGlvbiB8IE1vdW50TGF5b3V0LCBjcmVhdGUsIGRlcHMpO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVMYXlvdXRFZmZlY3QoY3JlYXRlLCBkZXBzKSB7XG4gIHJldHVybiB1cGRhdGVFZmZlY3RJbXBsKFVwZGF0ZSwgVW5tb3VudE11dGF0aW9uIHwgTW91bnRMYXlvdXQsIGNyZWF0ZSwgZGVwcyk7XG59XG5cbmZ1bmN0aW9uIGltcGVyYXRpdmVIYW5kbGVFZmZlY3QoY3JlYXRlLCByZWYpIHtcbiAgaWYgKHR5cGVvZiByZWYgPT09ICdmdW5jdGlvbicpIHtcbiAgICB2YXIgcmVmQ2FsbGJhY2sgPSByZWY7XG5cbiAgICB2YXIgX2luc3QgPSBjcmVhdGUoKTtcblxuICAgIHJlZkNhbGxiYWNrKF9pbnN0KTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgcmVmQ2FsbGJhY2sobnVsbCk7XG4gICAgfTtcbiAgfSBlbHNlIGlmIChyZWYgIT09IG51bGwgJiYgcmVmICE9PSB1bmRlZmluZWQpIHtcbiAgICB2YXIgcmVmT2JqZWN0ID0gcmVmO1xuXG4gICAge1xuICAgICAgIXJlZk9iamVjdC5oYXNPd25Qcm9wZXJ0eSgnY3VycmVudCcpID8gd2FybmluZyQxKGZhbHNlLCAnRXhwZWN0ZWQgdXNlSW1wZXJhdGl2ZUhhbmRsZSgpIGZpcnN0IGFyZ3VtZW50IHRvIGVpdGhlciBiZSBhICcgKyAncmVmIGNhbGxiYWNrIG9yIFJlYWN0LmNyZWF0ZVJlZigpIG9iamVjdC4gSW5zdGVhZCByZWNlaXZlZDogJXMuJywgJ2FuIG9iamVjdCB3aXRoIGtleXMgeycgKyBPYmplY3Qua2V5cyhyZWZPYmplY3QpLmpvaW4oJywgJykgKyAnfScpIDogdm9pZCAwO1xuICAgIH1cblxuICAgIHZhciBfaW5zdDIgPSBjcmVhdGUoKTtcblxuICAgIHJlZk9iamVjdC5jdXJyZW50ID0gX2luc3QyO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICByZWZPYmplY3QuY3VycmVudCA9IG51bGw7XG4gICAgfTtcbiAgfVxufVxuXG5mdW5jdGlvbiBtb3VudEltcGVyYXRpdmVIYW5kbGUocmVmLCBjcmVhdGUsIGRlcHMpIHtcbiAge1xuICAgICEodHlwZW9mIGNyZWF0ZSA9PT0gJ2Z1bmN0aW9uJykgPyB3YXJuaW5nJDEoZmFsc2UsICdFeHBlY3RlZCB1c2VJbXBlcmF0aXZlSGFuZGxlKCkgc2Vjb25kIGFyZ3VtZW50IHRvIGJlIGEgZnVuY3Rpb24gJyArICd0aGF0IGNyZWF0ZXMgYSBoYW5kbGUuIEluc3RlYWQgcmVjZWl2ZWQ6ICVzLicsIGNyZWF0ZSAhPT0gbnVsbCA/IHR5cGVvZiBjcmVhdGUgOiAnbnVsbCcpIDogdm9pZCAwO1xuICB9IC8vIFRPRE86IElmIGRlcHMgYXJlIHByb3ZpZGVkLCBzaG91bGQgd2Ugc2tpcCBjb21wYXJpbmcgdGhlIHJlZiBpdHNlbGY/XG5cblxuICB2YXIgZWZmZWN0RGVwcyA9IGRlcHMgIT09IG51bGwgJiYgZGVwcyAhPT0gdW5kZWZpbmVkID8gZGVwcy5jb25jYXQoW3JlZl0pIDogbnVsbDtcbiAgcmV0dXJuIG1vdW50RWZmZWN0SW1wbChVcGRhdGUsIFVubW91bnRNdXRhdGlvbiB8IE1vdW50TGF5b3V0LCBpbXBlcmF0aXZlSGFuZGxlRWZmZWN0LmJpbmQobnVsbCwgY3JlYXRlLCByZWYpLCBlZmZlY3REZXBzKTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlSW1wZXJhdGl2ZUhhbmRsZShyZWYsIGNyZWF0ZSwgZGVwcykge1xuICB7XG4gICAgISh0eXBlb2YgY3JlYXRlID09PSAnZnVuY3Rpb24nKSA/IHdhcm5pbmckMShmYWxzZSwgJ0V4cGVjdGVkIHVzZUltcGVyYXRpdmVIYW5kbGUoKSBzZWNvbmQgYXJndW1lbnQgdG8gYmUgYSBmdW5jdGlvbiAnICsgJ3RoYXQgY3JlYXRlcyBhIGhhbmRsZS4gSW5zdGVhZCByZWNlaXZlZDogJXMuJywgY3JlYXRlICE9PSBudWxsID8gdHlwZW9mIGNyZWF0ZSA6ICdudWxsJykgOiB2b2lkIDA7XG4gIH0gLy8gVE9ETzogSWYgZGVwcyBhcmUgcHJvdmlkZWQsIHNob3VsZCB3ZSBza2lwIGNvbXBhcmluZyB0aGUgcmVmIGl0c2VsZj9cblxuXG4gIHZhciBlZmZlY3REZXBzID0gZGVwcyAhPT0gbnVsbCAmJiBkZXBzICE9PSB1bmRlZmluZWQgPyBkZXBzLmNvbmNhdChbcmVmXSkgOiBudWxsO1xuICByZXR1cm4gdXBkYXRlRWZmZWN0SW1wbChVcGRhdGUsIFVubW91bnRNdXRhdGlvbiB8IE1vdW50TGF5b3V0LCBpbXBlcmF0aXZlSGFuZGxlRWZmZWN0LmJpbmQobnVsbCwgY3JlYXRlLCByZWYpLCBlZmZlY3REZXBzKTtcbn1cblxuZnVuY3Rpb24gbW91bnREZWJ1Z1ZhbHVlKHZhbHVlLCBmb3JtYXR0ZXJGbikgey8vIFRoaXMgaG9vayBpcyBub3JtYWxseSBhIG5vLW9wLlxuICAvLyBUaGUgcmVhY3QtZGVidWctaG9va3MgcGFja2FnZSBpbmplY3RzIGl0cyBvd24gaW1wbGVtZW50YXRpb25cbiAgLy8gc28gdGhhdCBlLmcuIERldlRvb2xzIGNhbiBkaXNwbGF5IGN1c3RvbSBob29rIHZhbHVlcy5cbn1cblxudmFyIHVwZGF0ZURlYnVnVmFsdWUgPSBtb3VudERlYnVnVmFsdWU7XG5cbmZ1bmN0aW9uIG1vdW50Q2FsbGJhY2soY2FsbGJhY2ssIGRlcHMpIHtcbiAgdmFyIGhvb2sgPSBtb3VudFdvcmtJblByb2dyZXNzSG9vaygpO1xuICB2YXIgbmV4dERlcHMgPSBkZXBzID09PSB1bmRlZmluZWQgPyBudWxsIDogZGVwcztcbiAgaG9vay5tZW1vaXplZFN0YXRlID0gW2NhbGxiYWNrLCBuZXh0RGVwc107XG4gIHJldHVybiBjYWxsYmFjaztcbn1cblxuZnVuY3Rpb24gdXBkYXRlQ2FsbGJhY2soY2FsbGJhY2ssIGRlcHMpIHtcbiAgdmFyIGhvb2sgPSB1cGRhdGVXb3JrSW5Qcm9ncmVzc0hvb2soKTtcbiAgdmFyIG5leHREZXBzID0gZGVwcyA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGRlcHM7XG4gIHZhciBwcmV2U3RhdGUgPSBob29rLm1lbW9pemVkU3RhdGU7XG5cbiAgaWYgKHByZXZTdGF0ZSAhPT0gbnVsbCkge1xuICAgIGlmIChuZXh0RGVwcyAhPT0gbnVsbCkge1xuICAgICAgdmFyIHByZXZEZXBzID0gcHJldlN0YXRlWzFdO1xuXG4gICAgICBpZiAoYXJlSG9va0lucHV0c0VxdWFsKG5leHREZXBzLCBwcmV2RGVwcykpIHtcbiAgICAgICAgcmV0dXJuIHByZXZTdGF0ZVswXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBob29rLm1lbW9pemVkU3RhdGUgPSBbY2FsbGJhY2ssIG5leHREZXBzXTtcbiAgcmV0dXJuIGNhbGxiYWNrO1xufVxuXG5mdW5jdGlvbiBtb3VudE1lbW8obmV4dENyZWF0ZSwgZGVwcykge1xuICB2YXIgaG9vayA9IG1vdW50V29ya0luUHJvZ3Jlc3NIb29rKCk7XG4gIHZhciBuZXh0RGVwcyA9IGRlcHMgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBkZXBzO1xuICB2YXIgbmV4dFZhbHVlID0gbmV4dENyZWF0ZSgpO1xuICBob29rLm1lbW9pemVkU3RhdGUgPSBbbmV4dFZhbHVlLCBuZXh0RGVwc107XG4gIHJldHVybiBuZXh0VmFsdWU7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZU1lbW8obmV4dENyZWF0ZSwgZGVwcykge1xuICB2YXIgaG9vayA9IHVwZGF0ZVdvcmtJblByb2dyZXNzSG9vaygpO1xuICB2YXIgbmV4dERlcHMgPSBkZXBzID09PSB1bmRlZmluZWQgPyBudWxsIDogZGVwcztcbiAgdmFyIHByZXZTdGF0ZSA9IGhvb2subWVtb2l6ZWRTdGF0ZTtcblxuICBpZiAocHJldlN0YXRlICE9PSBudWxsKSB7XG4gICAgLy8gQXNzdW1lIHRoZXNlIGFyZSBkZWZpbmVkLiBJZiB0aGV5J3JlIG5vdCwgYXJlSG9va0lucHV0c0VxdWFsIHdpbGwgd2Fybi5cbiAgICBpZiAobmV4dERlcHMgIT09IG51bGwpIHtcbiAgICAgIHZhciBwcmV2RGVwcyA9IHByZXZTdGF0ZVsxXTtcblxuICAgICAgaWYgKGFyZUhvb2tJbnB1dHNFcXVhbChuZXh0RGVwcywgcHJldkRlcHMpKSB7XG4gICAgICAgIHJldHVybiBwcmV2U3RhdGVbMF07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgdmFyIG5leHRWYWx1ZSA9IG5leHRDcmVhdGUoKTtcbiAgaG9vay5tZW1vaXplZFN0YXRlID0gW25leHRWYWx1ZSwgbmV4dERlcHNdO1xuICByZXR1cm4gbmV4dFZhbHVlO1xufVxuXG5mdW5jdGlvbiBtb3VudERlZmVycmVkVmFsdWUodmFsdWUsIGNvbmZpZykge1xuICB2YXIgX21vdW50U3RhdGUgPSBtb3VudFN0YXRlKHZhbHVlKSxcbiAgICAgIHByZXZWYWx1ZSA9IF9tb3VudFN0YXRlWzBdLFxuICAgICAgc2V0VmFsdWUgPSBfbW91bnRTdGF0ZVsxXTtcblxuICBtb3VudEVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgU2NoZWR1bGVyLnVuc3RhYmxlX25leHQoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHByZXZpb3VzQ29uZmlnID0gUmVhY3RDdXJyZW50QmF0Y2hDb25maWckMS5zdXNwZW5zZTtcbiAgICAgIFJlYWN0Q3VycmVudEJhdGNoQ29uZmlnJDEuc3VzcGVuc2UgPSBjb25maWcgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBjb25maWc7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHNldFZhbHVlKHZhbHVlKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIFJlYWN0Q3VycmVudEJhdGNoQ29uZmlnJDEuc3VzcGVuc2UgPSBwcmV2aW91c0NvbmZpZztcbiAgICAgIH1cbiAgICB9KTtcbiAgfSwgW3ZhbHVlLCBjb25maWddKTtcbiAgcmV0dXJuIHByZXZWYWx1ZTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlRGVmZXJyZWRWYWx1ZSh2YWx1ZSwgY29uZmlnKSB7XG4gIHZhciBfdXBkYXRlU3RhdGUgPSB1cGRhdGVTdGF0ZSh2YWx1ZSksXG4gICAgICBwcmV2VmFsdWUgPSBfdXBkYXRlU3RhdGVbMF0sXG4gICAgICBzZXRWYWx1ZSA9IF91cGRhdGVTdGF0ZVsxXTtcblxuICB1cGRhdGVFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIFNjaGVkdWxlci51bnN0YWJsZV9uZXh0KGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBwcmV2aW91c0NvbmZpZyA9IFJlYWN0Q3VycmVudEJhdGNoQ29uZmlnJDEuc3VzcGVuc2U7XG4gICAgICBSZWFjdEN1cnJlbnRCYXRjaENvbmZpZyQxLnN1c3BlbnNlID0gY29uZmlnID09PSB1bmRlZmluZWQgPyBudWxsIDogY29uZmlnO1xuXG4gICAgICB0cnkge1xuICAgICAgICBzZXRWYWx1ZSh2YWx1ZSk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBSZWFjdEN1cnJlbnRCYXRjaENvbmZpZyQxLnN1c3BlbnNlID0gcHJldmlvdXNDb25maWc7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sIFt2YWx1ZSwgY29uZmlnXSk7XG4gIHJldHVybiBwcmV2VmFsdWU7XG59XG5cbmZ1bmN0aW9uIG1vdW50VHJhbnNpdGlvbihjb25maWcpIHtcbiAgdmFyIF9tb3VudFN0YXRlMiA9IG1vdW50U3RhdGUoZmFsc2UpLFxuICAgICAgaXNQZW5kaW5nID0gX21vdW50U3RhdGUyWzBdLFxuICAgICAgc2V0UGVuZGluZyA9IF9tb3VudFN0YXRlMlsxXTtcblxuICB2YXIgc3RhcnRUcmFuc2l0aW9uID0gbW91bnRDYWxsYmFjayhmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICBzZXRQZW5kaW5nKHRydWUpO1xuICAgIFNjaGVkdWxlci51bnN0YWJsZV9uZXh0KGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBwcmV2aW91c0NvbmZpZyA9IFJlYWN0Q3VycmVudEJhdGNoQ29uZmlnJDEuc3VzcGVuc2U7XG4gICAgICBSZWFjdEN1cnJlbnRCYXRjaENvbmZpZyQxLnN1c3BlbnNlID0gY29uZmlnID09PSB1bmRlZmluZWQgPyBudWxsIDogY29uZmlnO1xuXG4gICAgICB0cnkge1xuICAgICAgICBzZXRQZW5kaW5nKGZhbHNlKTtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIFJlYWN0Q3VycmVudEJhdGNoQ29uZmlnJDEuc3VzcGVuc2UgPSBwcmV2aW91c0NvbmZpZztcbiAgICAgIH1cbiAgICB9KTtcbiAgfSwgW2NvbmZpZywgaXNQZW5kaW5nXSk7XG4gIHJldHVybiBbc3RhcnRUcmFuc2l0aW9uLCBpc1BlbmRpbmddO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVUcmFuc2l0aW9uKGNvbmZpZykge1xuICB2YXIgX3VwZGF0ZVN0YXRlMiA9IHVwZGF0ZVN0YXRlKGZhbHNlKSxcbiAgICAgIGlzUGVuZGluZyA9IF91cGRhdGVTdGF0ZTJbMF0sXG4gICAgICBzZXRQZW5kaW5nID0gX3VwZGF0ZVN0YXRlMlsxXTtcblxuICB2YXIgc3RhcnRUcmFuc2l0aW9uID0gdXBkYXRlQ2FsbGJhY2soZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgc2V0UGVuZGluZyh0cnVlKTtcbiAgICBTY2hlZHVsZXIudW5zdGFibGVfbmV4dChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgcHJldmlvdXNDb25maWcgPSBSZWFjdEN1cnJlbnRCYXRjaENvbmZpZyQxLnN1c3BlbnNlO1xuICAgICAgUmVhY3RDdXJyZW50QmF0Y2hDb25maWckMS5zdXNwZW5zZSA9IGNvbmZpZyA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGNvbmZpZztcblxuICAgICAgdHJ5IHtcbiAgICAgICAgc2V0UGVuZGluZyhmYWxzZSk7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBSZWFjdEN1cnJlbnRCYXRjaENvbmZpZyQxLnN1c3BlbnNlID0gcHJldmlvdXNDb25maWc7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sIFtjb25maWcsIGlzUGVuZGluZ10pO1xuICByZXR1cm4gW3N0YXJ0VHJhbnNpdGlvbiwgaXNQZW5kaW5nXTtcbn1cblxuZnVuY3Rpb24gZGlzcGF0Y2hBY3Rpb24oZmliZXIsIHF1ZXVlLCBhY3Rpb24pIHtcbiAgaWYgKCEobnVtYmVyT2ZSZVJlbmRlcnMgPCBSRV9SRU5ERVJfTElNSVQpKSB7XG4gICAge1xuICAgICAgdGhyb3cgRXJyb3IoXCJUb28gbWFueSByZS1yZW5kZXJzLiBSZWFjdCBsaW1pdHMgdGhlIG51bWJlciBvZiByZW5kZXJzIHRvIHByZXZlbnQgYW4gaW5maW5pdGUgbG9vcC5cIik7XG4gICAgfVxuICB9XG5cbiAge1xuICAgICEodHlwZW9mIGFyZ3VtZW50c1szXSAhPT0gJ2Z1bmN0aW9uJykgPyB3YXJuaW5nJDEoZmFsc2UsIFwiU3RhdGUgdXBkYXRlcyBmcm9tIHRoZSB1c2VTdGF0ZSgpIGFuZCB1c2VSZWR1Y2VyKCkgSG9va3MgZG9uJ3Qgc3VwcG9ydCB0aGUgXCIgKyAnc2Vjb25kIGNhbGxiYWNrIGFyZ3VtZW50LiBUbyBleGVjdXRlIGEgc2lkZSBlZmZlY3QgYWZ0ZXIgJyArICdyZW5kZXJpbmcsIGRlY2xhcmUgaXQgaW4gdGhlIGNvbXBvbmVudCBib2R5IHdpdGggdXNlRWZmZWN0KCkuJykgOiB2b2lkIDA7XG4gIH1cblxuICB2YXIgYWx0ZXJuYXRlID0gZmliZXIuYWx0ZXJuYXRlO1xuXG4gIGlmIChmaWJlciA9PT0gY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMSB8fCBhbHRlcm5hdGUgIT09IG51bGwgJiYgYWx0ZXJuYXRlID09PSBjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxKSB7XG4gICAgLy8gVGhpcyBpcyBhIHJlbmRlciBwaGFzZSB1cGRhdGUuIFN0YXNoIGl0IGluIGEgbGF6aWx5LWNyZWF0ZWQgbWFwIG9mXG4gICAgLy8gcXVldWUgLT4gbGlua2VkIGxpc3Qgb2YgdXBkYXRlcy4gQWZ0ZXIgdGhpcyByZW5kZXIgcGFzcywgd2UnbGwgcmVzdGFydFxuICAgIC8vIGFuZCBhcHBseSB0aGUgc3Rhc2hlZCB1cGRhdGVzIG9uIHRvcCBvZiB0aGUgd29yay1pbi1wcm9ncmVzcyBob29rLlxuICAgIGRpZFNjaGVkdWxlUmVuZGVyUGhhc2VVcGRhdGUgPSB0cnVlO1xuICAgIHZhciB1cGRhdGUgPSB7XG4gICAgICBleHBpcmF0aW9uVGltZTogcmVuZGVyRXhwaXJhdGlvblRpbWUkMSxcbiAgICAgIHN1c3BlbnNlQ29uZmlnOiBudWxsLFxuICAgICAgYWN0aW9uOiBhY3Rpb24sXG4gICAgICBlYWdlclJlZHVjZXI6IG51bGwsXG4gICAgICBlYWdlclN0YXRlOiBudWxsLFxuICAgICAgbmV4dDogbnVsbFxuICAgIH07XG5cbiAgICB7XG4gICAgICB1cGRhdGUucHJpb3JpdHkgPSBnZXRDdXJyZW50UHJpb3JpdHlMZXZlbCgpO1xuICAgIH1cblxuICAgIGlmIChyZW5kZXJQaGFzZVVwZGF0ZXMgPT09IG51bGwpIHtcbiAgICAgIHJlbmRlclBoYXNlVXBkYXRlcyA9IG5ldyBNYXAoKTtcbiAgICB9XG5cbiAgICB2YXIgZmlyc3RSZW5kZXJQaGFzZVVwZGF0ZSA9IHJlbmRlclBoYXNlVXBkYXRlcy5nZXQocXVldWUpO1xuXG4gICAgaWYgKGZpcnN0UmVuZGVyUGhhc2VVcGRhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmVuZGVyUGhhc2VVcGRhdGVzLnNldChxdWV1ZSwgdXBkYXRlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQXBwZW5kIHRoZSB1cGRhdGUgdG8gdGhlIGVuZCBvZiB0aGUgbGlzdC5cbiAgICAgIHZhciBsYXN0UmVuZGVyUGhhc2VVcGRhdGUgPSBmaXJzdFJlbmRlclBoYXNlVXBkYXRlO1xuXG4gICAgICB3aGlsZSAobGFzdFJlbmRlclBoYXNlVXBkYXRlLm5leHQgIT09IG51bGwpIHtcbiAgICAgICAgbGFzdFJlbmRlclBoYXNlVXBkYXRlID0gbGFzdFJlbmRlclBoYXNlVXBkYXRlLm5leHQ7XG4gICAgICB9XG5cbiAgICAgIGxhc3RSZW5kZXJQaGFzZVVwZGF0ZS5uZXh0ID0gdXBkYXRlO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB2YXIgY3VycmVudFRpbWUgPSByZXF1ZXN0Q3VycmVudFRpbWVGb3JVcGRhdGUoKTtcbiAgICB2YXIgc3VzcGVuc2VDb25maWcgPSByZXF1ZXN0Q3VycmVudFN1c3BlbnNlQ29uZmlnKCk7XG4gICAgdmFyIGV4cGlyYXRpb25UaW1lID0gY29tcHV0ZUV4cGlyYXRpb25Gb3JGaWJlcihjdXJyZW50VGltZSwgZmliZXIsIHN1c3BlbnNlQ29uZmlnKTtcbiAgICB2YXIgX3VwZGF0ZTIgPSB7XG4gICAgICBleHBpcmF0aW9uVGltZTogZXhwaXJhdGlvblRpbWUsXG4gICAgICBzdXNwZW5zZUNvbmZpZzogc3VzcGVuc2VDb25maWcsXG4gICAgICBhY3Rpb246IGFjdGlvbixcbiAgICAgIGVhZ2VyUmVkdWNlcjogbnVsbCxcbiAgICAgIGVhZ2VyU3RhdGU6IG51bGwsXG4gICAgICBuZXh0OiBudWxsXG4gICAgfTtcblxuICAgIHtcbiAgICAgIF91cGRhdGUyLnByaW9yaXR5ID0gZ2V0Q3VycmVudFByaW9yaXR5TGV2ZWwoKTtcbiAgICB9IC8vIEFwcGVuZCB0aGUgdXBkYXRlIHRvIHRoZSBlbmQgb2YgdGhlIGxpc3QuXG5cblxuICAgIHZhciBsYXN0ID0gcXVldWUubGFzdDtcblxuICAgIGlmIChsYXN0ID09PSBudWxsKSB7XG4gICAgICAvLyBUaGlzIGlzIHRoZSBmaXJzdCB1cGRhdGUuIENyZWF0ZSBhIGNpcmN1bGFyIGxpc3QuXG4gICAgICBfdXBkYXRlMi5uZXh0ID0gX3VwZGF0ZTI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBmaXJzdCA9IGxhc3QubmV4dDtcblxuICAgICAgaWYgKGZpcnN0ICE9PSBudWxsKSB7XG4gICAgICAgIC8vIFN0aWxsIGNpcmN1bGFyLlxuICAgICAgICBfdXBkYXRlMi5uZXh0ID0gZmlyc3Q7XG4gICAgICB9XG5cbiAgICAgIGxhc3QubmV4dCA9IF91cGRhdGUyO1xuICAgIH1cblxuICAgIHF1ZXVlLmxhc3QgPSBfdXBkYXRlMjtcblxuICAgIGlmIChmaWJlci5leHBpcmF0aW9uVGltZSA9PT0gTm9Xb3JrICYmIChhbHRlcm5hdGUgPT09IG51bGwgfHwgYWx0ZXJuYXRlLmV4cGlyYXRpb25UaW1lID09PSBOb1dvcmspKSB7XG4gICAgICAvLyBUaGUgcXVldWUgaXMgY3VycmVudGx5IGVtcHR5LCB3aGljaCBtZWFucyB3ZSBjYW4gZWFnZXJseSBjb21wdXRlIHRoZVxuICAgICAgLy8gbmV4dCBzdGF0ZSBiZWZvcmUgZW50ZXJpbmcgdGhlIHJlbmRlciBwaGFzZS4gSWYgdGhlIG5ldyBzdGF0ZSBpcyB0aGVcbiAgICAgIC8vIHNhbWUgYXMgdGhlIGN1cnJlbnQgc3RhdGUsIHdlIG1heSBiZSBhYmxlIHRvIGJhaWwgb3V0IGVudGlyZWx5LlxuICAgICAgdmFyIGxhc3RSZW5kZXJlZFJlZHVjZXIgPSBxdWV1ZS5sYXN0UmVuZGVyZWRSZWR1Y2VyO1xuXG4gICAgICBpZiAobGFzdFJlbmRlcmVkUmVkdWNlciAhPT0gbnVsbCkge1xuICAgICAgICB2YXIgcHJldkRpc3BhdGNoZXI7XG5cbiAgICAgICAge1xuICAgICAgICAgIHByZXZEaXNwYXRjaGVyID0gUmVhY3RDdXJyZW50RGlzcGF0Y2hlciQxLmN1cnJlbnQ7XG4gICAgICAgICAgUmVhY3RDdXJyZW50RGlzcGF0Y2hlciQxLmN1cnJlbnQgPSBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25VcGRhdGVJbkRFVjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdmFyIGN1cnJlbnRTdGF0ZSA9IHF1ZXVlLmxhc3RSZW5kZXJlZFN0YXRlO1xuICAgICAgICAgIHZhciBlYWdlclN0YXRlID0gbGFzdFJlbmRlcmVkUmVkdWNlcihjdXJyZW50U3RhdGUsIGFjdGlvbik7IC8vIFN0YXNoIHRoZSBlYWdlcmx5IGNvbXB1dGVkIHN0YXRlLCBhbmQgdGhlIHJlZHVjZXIgdXNlZCB0byBjb21wdXRlXG4gICAgICAgICAgLy8gaXQsIG9uIHRoZSB1cGRhdGUgb2JqZWN0LiBJZiB0aGUgcmVkdWNlciBoYXNuJ3QgY2hhbmdlZCBieSB0aGVcbiAgICAgICAgICAvLyB0aW1lIHdlIGVudGVyIHRoZSByZW5kZXIgcGhhc2UsIHRoZW4gdGhlIGVhZ2VyIHN0YXRlIGNhbiBiZSB1c2VkXG4gICAgICAgICAgLy8gd2l0aG91dCBjYWxsaW5nIHRoZSByZWR1Y2VyIGFnYWluLlxuXG4gICAgICAgICAgX3VwZGF0ZTIuZWFnZXJSZWR1Y2VyID0gbGFzdFJlbmRlcmVkUmVkdWNlcjtcbiAgICAgICAgICBfdXBkYXRlMi5lYWdlclN0YXRlID0gZWFnZXJTdGF0ZTtcblxuICAgICAgICAgIGlmIChpcyQxKGVhZ2VyU3RhdGUsIGN1cnJlbnRTdGF0ZSkpIHtcbiAgICAgICAgICAgIC8vIEZhc3QgcGF0aC4gV2UgY2FuIGJhaWwgb3V0IHdpdGhvdXQgc2NoZWR1bGluZyBSZWFjdCB0byByZS1yZW5kZXIuXG4gICAgICAgICAgICAvLyBJdCdzIHN0aWxsIHBvc3NpYmxlIHRoYXQgd2UnbGwgbmVlZCB0byByZWJhc2UgdGhpcyB1cGRhdGUgbGF0ZXIsXG4gICAgICAgICAgICAvLyBpZiB0aGUgY29tcG9uZW50IHJlLXJlbmRlcnMgZm9yIGEgZGlmZmVyZW50IHJlYXNvbiBhbmQgYnkgdGhhdFxuICAgICAgICAgICAgLy8gdGltZSB0aGUgcmVkdWNlciBoYXMgY2hhbmdlZC5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7Ly8gU3VwcHJlc3MgdGhlIGVycm9yLiBJdCB3aWxsIHRocm93IGFnYWluIGluIHRoZSByZW5kZXIgcGhhc2UuXG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAge1xuICAgICAgICAgICAgUmVhY3RDdXJyZW50RGlzcGF0Y2hlciQxLmN1cnJlbnQgPSBwcmV2RGlzcGF0Y2hlcjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB7XG4gICAgICAvLyAkRmxvd0V4cGVjdGVkRXJyb3IgLSBqZXN0IGlzbid0IGEgZ2xvYmFsLCBhbmQgaXNuJ3QgcmVjb2duaXplZCBvdXRzaWRlIG9mIHRlc3RzXG4gICAgICBpZiAoJ3VuZGVmaW5lZCcgIT09IHR5cGVvZiBqZXN0KSB7XG4gICAgICAgIHdhcm5JZk5vdFNjb3BlZFdpdGhNYXRjaGluZ0FjdChmaWJlcik7XG4gICAgICAgIHdhcm5JZk5vdEN1cnJlbnRseUFjdGluZ1VwZGF0ZXNJbkRldihmaWJlcik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgc2NoZWR1bGVXb3JrKGZpYmVyLCBleHBpcmF0aW9uVGltZSk7XG4gIH1cbn1cblxudmFyIENvbnRleHRPbmx5RGlzcGF0Y2hlciA9IHtcbiAgcmVhZENvbnRleHQ6IHJlYWRDb250ZXh0LFxuICB1c2VDYWxsYmFjazogdGhyb3dJbnZhbGlkSG9va0Vycm9yLFxuICB1c2VDb250ZXh0OiB0aHJvd0ludmFsaWRIb29rRXJyb3IsXG4gIHVzZUVmZmVjdDogdGhyb3dJbnZhbGlkSG9va0Vycm9yLFxuICB1c2VJbXBlcmF0aXZlSGFuZGxlOiB0aHJvd0ludmFsaWRIb29rRXJyb3IsXG4gIHVzZUxheW91dEVmZmVjdDogdGhyb3dJbnZhbGlkSG9va0Vycm9yLFxuICB1c2VNZW1vOiB0aHJvd0ludmFsaWRIb29rRXJyb3IsXG4gIHVzZVJlZHVjZXI6IHRocm93SW52YWxpZEhvb2tFcnJvcixcbiAgdXNlUmVmOiB0aHJvd0ludmFsaWRIb29rRXJyb3IsXG4gIHVzZVN0YXRlOiB0aHJvd0ludmFsaWRIb29rRXJyb3IsXG4gIHVzZURlYnVnVmFsdWU6IHRocm93SW52YWxpZEhvb2tFcnJvcixcbiAgdXNlUmVzcG9uZGVyOiB0aHJvd0ludmFsaWRIb29rRXJyb3IsXG4gIHVzZURlZmVycmVkVmFsdWU6IHRocm93SW52YWxpZEhvb2tFcnJvcixcbiAgdXNlVHJhbnNpdGlvbjogdGhyb3dJbnZhbGlkSG9va0Vycm9yXG59O1xudmFyIEhvb2tzRGlzcGF0Y2hlck9uTW91bnRJbkRFViA9IG51bGw7XG52YXIgSG9va3NEaXNwYXRjaGVyT25Nb3VudFdpdGhIb29rVHlwZXNJbkRFViA9IG51bGw7XG52YXIgSG9va3NEaXNwYXRjaGVyT25VcGRhdGVJbkRFViA9IG51bGw7XG52YXIgSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uTW91bnRJbkRFViA9IG51bGw7XG52YXIgSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uVXBkYXRlSW5ERVYgPSBudWxsO1xuXG57XG4gIHZhciB3YXJuSW52YWxpZENvbnRleHRBY2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgd2FybmluZyQxKGZhbHNlLCAnQ29udGV4dCBjYW4gb25seSBiZSByZWFkIHdoaWxlIFJlYWN0IGlzIHJlbmRlcmluZy4gJyArICdJbiBjbGFzc2VzLCB5b3UgY2FuIHJlYWQgaXQgaW4gdGhlIHJlbmRlciBtZXRob2Qgb3IgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzLiAnICsgJ0luIGZ1bmN0aW9uIGNvbXBvbmVudHMsIHlvdSBjYW4gcmVhZCBpdCBkaXJlY3RseSBpbiB0aGUgZnVuY3Rpb24gYm9keSwgYnV0IG5vdCAnICsgJ2luc2lkZSBIb29rcyBsaWtlIHVzZVJlZHVjZXIoKSBvciB1c2VNZW1vKCkuJyk7XG4gIH07XG5cbiAgdmFyIHdhcm5JbnZhbGlkSG9va0FjY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICB3YXJuaW5nJDEoZmFsc2UsICdEbyBub3QgY2FsbCBIb29rcyBpbnNpZGUgdXNlRWZmZWN0KC4uLiksIHVzZU1lbW8oLi4uKSwgb3Igb3RoZXIgYnVpbHQtaW4gSG9va3MuICcgKyAnWW91IGNhbiBvbmx5IGNhbGwgSG9va3MgYXQgdGhlIHRvcCBsZXZlbCBvZiB5b3VyIFJlYWN0IGZ1bmN0aW9uLiAnICsgJ0ZvciBtb3JlIGluZm9ybWF0aW9uLCBzZWUgJyArICdodHRwczovL2ZiLm1lL3J1bGVzLW9mLWhvb2tzJyk7XG4gIH07XG5cbiAgSG9va3NEaXNwYXRjaGVyT25Nb3VudEluREVWID0ge1xuICAgIHJlYWRDb250ZXh0OiBmdW5jdGlvbiAoY29udGV4dCwgb2JzZXJ2ZWRCaXRzKSB7XG4gICAgICByZXR1cm4gcmVhZENvbnRleHQoY29udGV4dCwgb2JzZXJ2ZWRCaXRzKTtcbiAgICB9LFxuICAgIHVzZUNhbGxiYWNrOiBmdW5jdGlvbiAoY2FsbGJhY2ssIGRlcHMpIHtcbiAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gJ3VzZUNhbGxiYWNrJztcbiAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICBjaGVja0RlcHNBcmVBcnJheURldihkZXBzKTtcbiAgICAgIHJldHVybiBtb3VudENhbGxiYWNrKGNhbGxiYWNrLCBkZXBzKTtcbiAgICB9LFxuICAgIHVzZUNvbnRleHQ6IGZ1bmN0aW9uIChjb250ZXh0LCBvYnNlcnZlZEJpdHMpIHtcbiAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gJ3VzZUNvbnRleHQnO1xuICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgIHJldHVybiByZWFkQ29udGV4dChjb250ZXh0LCBvYnNlcnZlZEJpdHMpO1xuICAgIH0sXG4gICAgdXNlRWZmZWN0OiBmdW5jdGlvbiAoY3JlYXRlLCBkZXBzKSB7XG4gICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9ICd1c2VFZmZlY3QnO1xuICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgIGNoZWNrRGVwc0FyZUFycmF5RGV2KGRlcHMpO1xuICAgICAgcmV0dXJuIG1vdW50RWZmZWN0KGNyZWF0ZSwgZGVwcyk7XG4gICAgfSxcbiAgICB1c2VJbXBlcmF0aXZlSGFuZGxlOiBmdW5jdGlvbiAocmVmLCBjcmVhdGUsIGRlcHMpIHtcbiAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gJ3VzZUltcGVyYXRpdmVIYW5kbGUnO1xuICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgIGNoZWNrRGVwc0FyZUFycmF5RGV2KGRlcHMpO1xuICAgICAgcmV0dXJuIG1vdW50SW1wZXJhdGl2ZUhhbmRsZShyZWYsIGNyZWF0ZSwgZGVwcyk7XG4gICAgfSxcbiAgICB1c2VMYXlvdXRFZmZlY3Q6IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gJ3VzZUxheW91dEVmZmVjdCc7XG4gICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgY2hlY2tEZXBzQXJlQXJyYXlEZXYoZGVwcyk7XG4gICAgICByZXR1cm4gbW91bnRMYXlvdXRFZmZlY3QoY3JlYXRlLCBkZXBzKTtcbiAgICB9LFxuICAgIHVzZU1lbW86IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gJ3VzZU1lbW8nO1xuICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgIGNoZWNrRGVwc0FyZUFycmF5RGV2KGRlcHMpO1xuICAgICAgdmFyIHByZXZEaXNwYXRjaGVyID0gUmVhY3RDdXJyZW50RGlzcGF0Y2hlciQxLmN1cnJlbnQ7XG4gICAgICBSZWFjdEN1cnJlbnREaXNwYXRjaGVyJDEuY3VycmVudCA9IEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPbk1vdW50SW5ERVY7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBtb3VudE1lbW8oY3JlYXRlLCBkZXBzKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIFJlYWN0Q3VycmVudERpc3BhdGNoZXIkMS5jdXJyZW50ID0gcHJldkRpc3BhdGNoZXI7XG4gICAgICB9XG4gICAgfSxcbiAgICB1c2VSZWR1Y2VyOiBmdW5jdGlvbiAocmVkdWNlciwgaW5pdGlhbEFyZywgaW5pdCkge1xuICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSAndXNlUmVkdWNlcic7XG4gICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgdmFyIHByZXZEaXNwYXRjaGVyID0gUmVhY3RDdXJyZW50RGlzcGF0Y2hlciQxLmN1cnJlbnQ7XG4gICAgICBSZWFjdEN1cnJlbnREaXNwYXRjaGVyJDEuY3VycmVudCA9IEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPbk1vdW50SW5ERVY7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBtb3VudFJlZHVjZXIocmVkdWNlciwgaW5pdGlhbEFyZywgaW5pdCk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBSZWFjdEN1cnJlbnREaXNwYXRjaGVyJDEuY3VycmVudCA9IHByZXZEaXNwYXRjaGVyO1xuICAgICAgfVxuICAgIH0sXG4gICAgdXNlUmVmOiBmdW5jdGlvbiAoaW5pdGlhbFZhbHVlKSB7XG4gICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9ICd1c2VSZWYnO1xuICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgIHJldHVybiBtb3VudFJlZihpbml0aWFsVmFsdWUpO1xuICAgIH0sXG4gICAgdXNlU3RhdGU6IGZ1bmN0aW9uIChpbml0aWFsU3RhdGUpIHtcbiAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gJ3VzZVN0YXRlJztcbiAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICB2YXIgcHJldkRpc3BhdGNoZXIgPSBSZWFjdEN1cnJlbnREaXNwYXRjaGVyJDEuY3VycmVudDtcbiAgICAgIFJlYWN0Q3VycmVudERpc3BhdGNoZXIkMS5jdXJyZW50ID0gSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uTW91bnRJbkRFVjtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIG1vdW50U3RhdGUoaW5pdGlhbFN0YXRlKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIFJlYWN0Q3VycmVudERpc3BhdGNoZXIkMS5jdXJyZW50ID0gcHJldkRpc3BhdGNoZXI7XG4gICAgICB9XG4gICAgfSxcbiAgICB1c2VEZWJ1Z1ZhbHVlOiBmdW5jdGlvbiAodmFsdWUsIGZvcm1hdHRlckZuKSB7XG4gICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9ICd1c2VEZWJ1Z1ZhbHVlJztcbiAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICByZXR1cm4gbW91bnREZWJ1Z1ZhbHVlKHZhbHVlLCBmb3JtYXR0ZXJGbik7XG4gICAgfSxcbiAgICB1c2VSZXNwb25kZXI6IGZ1bmN0aW9uIChyZXNwb25kZXIsIHByb3BzKSB7XG4gICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9ICd1c2VSZXNwb25kZXInO1xuICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgIHJldHVybiBjcmVhdGVSZXNwb25kZXJMaXN0ZW5lcihyZXNwb25kZXIsIHByb3BzKTtcbiAgICB9LFxuICAgIHVzZURlZmVycmVkVmFsdWU6IGZ1bmN0aW9uICh2YWx1ZSwgY29uZmlnKSB7XG4gICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9ICd1c2VEZWZlcnJlZFZhbHVlJztcbiAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICByZXR1cm4gbW91bnREZWZlcnJlZFZhbHVlKHZhbHVlLCBjb25maWcpO1xuICAgIH0sXG4gICAgdXNlVHJhbnNpdGlvbjogZnVuY3Rpb24gKGNvbmZpZykge1xuICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSAndXNlVHJhbnNpdGlvbic7XG4gICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgcmV0dXJuIG1vdW50VHJhbnNpdGlvbihjb25maWcpO1xuICAgIH1cbiAgfTtcbiAgSG9va3NEaXNwYXRjaGVyT25Nb3VudFdpdGhIb29rVHlwZXNJbkRFViA9IHtcbiAgICByZWFkQ29udGV4dDogZnVuY3Rpb24gKGNvbnRleHQsIG9ic2VydmVkQml0cykge1xuICAgICAgcmV0dXJuIHJlYWRDb250ZXh0KGNvbnRleHQsIG9ic2VydmVkQml0cyk7XG4gICAgfSxcbiAgICB1c2VDYWxsYmFjazogZnVuY3Rpb24gKGNhbGxiYWNrLCBkZXBzKSB7XG4gICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9ICd1c2VDYWxsYmFjayc7XG4gICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgIHJldHVybiBtb3VudENhbGxiYWNrKGNhbGxiYWNrLCBkZXBzKTtcbiAgICB9LFxuICAgIHVzZUNvbnRleHQ6IGZ1bmN0aW9uIChjb250ZXh0LCBvYnNlcnZlZEJpdHMpIHtcbiAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gJ3VzZUNvbnRleHQnO1xuICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICByZXR1cm4gcmVhZENvbnRleHQoY29udGV4dCwgb2JzZXJ2ZWRCaXRzKTtcbiAgICB9LFxuICAgIHVzZUVmZmVjdDogZnVuY3Rpb24gKGNyZWF0ZSwgZGVwcykge1xuICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSAndXNlRWZmZWN0JztcbiAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgcmV0dXJuIG1vdW50RWZmZWN0KGNyZWF0ZSwgZGVwcyk7XG4gICAgfSxcbiAgICB1c2VJbXBlcmF0aXZlSGFuZGxlOiBmdW5jdGlvbiAocmVmLCBjcmVhdGUsIGRlcHMpIHtcbiAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gJ3VzZUltcGVyYXRpdmVIYW5kbGUnO1xuICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICByZXR1cm4gbW91bnRJbXBlcmF0aXZlSGFuZGxlKHJlZiwgY3JlYXRlLCBkZXBzKTtcbiAgICB9LFxuICAgIHVzZUxheW91dEVmZmVjdDogZnVuY3Rpb24gKGNyZWF0ZSwgZGVwcykge1xuICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSAndXNlTGF5b3V0RWZmZWN0JztcbiAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgcmV0dXJuIG1vdW50TGF5b3V0RWZmZWN0KGNyZWF0ZSwgZGVwcyk7XG4gICAgfSxcbiAgICB1c2VNZW1vOiBmdW5jdGlvbiAoY3JlYXRlLCBkZXBzKSB7XG4gICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9ICd1c2VNZW1vJztcbiAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgdmFyIHByZXZEaXNwYXRjaGVyID0gUmVhY3RDdXJyZW50RGlzcGF0Y2hlciQxLmN1cnJlbnQ7XG4gICAgICBSZWFjdEN1cnJlbnREaXNwYXRjaGVyJDEuY3VycmVudCA9IEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPbk1vdW50SW5ERVY7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBtb3VudE1lbW8oY3JlYXRlLCBkZXBzKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIFJlYWN0Q3VycmVudERpc3BhdGNoZXIkMS5jdXJyZW50ID0gcHJldkRpc3BhdGNoZXI7XG4gICAgICB9XG4gICAgfSxcbiAgICB1c2VSZWR1Y2VyOiBmdW5jdGlvbiAocmVkdWNlciwgaW5pdGlhbEFyZywgaW5pdCkge1xuICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSAndXNlUmVkdWNlcic7XG4gICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgIHZhciBwcmV2RGlzcGF0Y2hlciA9IFJlYWN0Q3VycmVudERpc3BhdGNoZXIkMS5jdXJyZW50O1xuICAgICAgUmVhY3RDdXJyZW50RGlzcGF0Y2hlciQxLmN1cnJlbnQgPSBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25Nb3VudEluREVWO1xuXG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gbW91bnRSZWR1Y2VyKHJlZHVjZXIsIGluaXRpYWxBcmcsIGluaXQpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgUmVhY3RDdXJyZW50RGlzcGF0Y2hlciQxLmN1cnJlbnQgPSBwcmV2RGlzcGF0Y2hlcjtcbiAgICAgIH1cbiAgICB9LFxuICAgIHVzZVJlZjogZnVuY3Rpb24gKGluaXRpYWxWYWx1ZSkge1xuICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSAndXNlUmVmJztcbiAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgcmV0dXJuIG1vdW50UmVmKGluaXRpYWxWYWx1ZSk7XG4gICAgfSxcbiAgICB1c2VTdGF0ZTogZnVuY3Rpb24gKGluaXRpYWxTdGF0ZSkge1xuICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSAndXNlU3RhdGUnO1xuICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICB2YXIgcHJldkRpc3BhdGNoZXIgPSBSZWFjdEN1cnJlbnREaXNwYXRjaGVyJDEuY3VycmVudDtcbiAgICAgIFJlYWN0Q3VycmVudERpc3BhdGNoZXIkMS5jdXJyZW50ID0gSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uTW91bnRJbkRFVjtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIG1vdW50U3RhdGUoaW5pdGlhbFN0YXRlKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIFJlYWN0Q3VycmVudERpc3BhdGNoZXIkMS5jdXJyZW50ID0gcHJldkRpc3BhdGNoZXI7XG4gICAgICB9XG4gICAgfSxcbiAgICB1c2VEZWJ1Z1ZhbHVlOiBmdW5jdGlvbiAodmFsdWUsIGZvcm1hdHRlckZuKSB7XG4gICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9ICd1c2VEZWJ1Z1ZhbHVlJztcbiAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgcmV0dXJuIG1vdW50RGVidWdWYWx1ZSh2YWx1ZSwgZm9ybWF0dGVyRm4pO1xuICAgIH0sXG4gICAgdXNlUmVzcG9uZGVyOiBmdW5jdGlvbiAocmVzcG9uZGVyLCBwcm9wcykge1xuICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSAndXNlUmVzcG9uZGVyJztcbiAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgcmV0dXJuIGNyZWF0ZVJlc3BvbmRlckxpc3RlbmVyKHJlc3BvbmRlciwgcHJvcHMpO1xuICAgIH0sXG4gICAgdXNlRGVmZXJyZWRWYWx1ZTogZnVuY3Rpb24gKHZhbHVlLCBjb25maWcpIHtcbiAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gJ3VzZURlZmVycmVkVmFsdWUnO1xuICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICByZXR1cm4gbW91bnREZWZlcnJlZFZhbHVlKHZhbHVlLCBjb25maWcpO1xuICAgIH0sXG4gICAgdXNlVHJhbnNpdGlvbjogZnVuY3Rpb24gKGNvbmZpZykge1xuICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSAndXNlVHJhbnNpdGlvbic7XG4gICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgIHJldHVybiBtb3VudFRyYW5zaXRpb24oY29uZmlnKTtcbiAgICB9XG4gIH07XG4gIEhvb2tzRGlzcGF0Y2hlck9uVXBkYXRlSW5ERVYgPSB7XG4gICAgcmVhZENvbnRleHQ6IGZ1bmN0aW9uIChjb250ZXh0LCBvYnNlcnZlZEJpdHMpIHtcbiAgICAgIHJldHVybiByZWFkQ29udGV4dChjb250ZXh0LCBvYnNlcnZlZEJpdHMpO1xuICAgIH0sXG4gICAgdXNlQ2FsbGJhY2s6IGZ1bmN0aW9uIChjYWxsYmFjaywgZGVwcykge1xuICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSAndXNlQ2FsbGJhY2snO1xuICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICByZXR1cm4gdXBkYXRlQ2FsbGJhY2soY2FsbGJhY2ssIGRlcHMpO1xuICAgIH0sXG4gICAgdXNlQ29udGV4dDogZnVuY3Rpb24gKGNvbnRleHQsIG9ic2VydmVkQml0cykge1xuICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSAndXNlQ29udGV4dCc7XG4gICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgIHJldHVybiByZWFkQ29udGV4dChjb250ZXh0LCBvYnNlcnZlZEJpdHMpO1xuICAgIH0sXG4gICAgdXNlRWZmZWN0OiBmdW5jdGlvbiAoY3JlYXRlLCBkZXBzKSB7XG4gICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9ICd1c2VFZmZlY3QnO1xuICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICByZXR1cm4gdXBkYXRlRWZmZWN0KGNyZWF0ZSwgZGVwcyk7XG4gICAgfSxcbiAgICB1c2VJbXBlcmF0aXZlSGFuZGxlOiBmdW5jdGlvbiAocmVmLCBjcmVhdGUsIGRlcHMpIHtcbiAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gJ3VzZUltcGVyYXRpdmVIYW5kbGUnO1xuICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICByZXR1cm4gdXBkYXRlSW1wZXJhdGl2ZUhhbmRsZShyZWYsIGNyZWF0ZSwgZGVwcyk7XG4gICAgfSxcbiAgICB1c2VMYXlvdXRFZmZlY3Q6IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gJ3VzZUxheW91dEVmZmVjdCc7XG4gICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgIHJldHVybiB1cGRhdGVMYXlvdXRFZmZlY3QoY3JlYXRlLCBkZXBzKTtcbiAgICB9LFxuICAgIHVzZU1lbW86IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gJ3VzZU1lbW8nO1xuICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICB2YXIgcHJldkRpc3BhdGNoZXIgPSBSZWFjdEN1cnJlbnREaXNwYXRjaGVyJDEuY3VycmVudDtcbiAgICAgIFJlYWN0Q3VycmVudERpc3BhdGNoZXIkMS5jdXJyZW50ID0gSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uVXBkYXRlSW5ERVY7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiB1cGRhdGVNZW1vKGNyZWF0ZSwgZGVwcyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBSZWFjdEN1cnJlbnREaXNwYXRjaGVyJDEuY3VycmVudCA9IHByZXZEaXNwYXRjaGVyO1xuICAgICAgfVxuICAgIH0sXG4gICAgdXNlUmVkdWNlcjogZnVuY3Rpb24gKHJlZHVjZXIsIGluaXRpYWxBcmcsIGluaXQpIHtcbiAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gJ3VzZVJlZHVjZXInO1xuICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICB2YXIgcHJldkRpc3BhdGNoZXIgPSBSZWFjdEN1cnJlbnREaXNwYXRjaGVyJDEuY3VycmVudDtcbiAgICAgIFJlYWN0Q3VycmVudERpc3BhdGNoZXIkMS5jdXJyZW50ID0gSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uVXBkYXRlSW5ERVY7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiB1cGRhdGVSZWR1Y2VyKHJlZHVjZXIsIGluaXRpYWxBcmcsIGluaXQpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgUmVhY3RDdXJyZW50RGlzcGF0Y2hlciQxLmN1cnJlbnQgPSBwcmV2RGlzcGF0Y2hlcjtcbiAgICAgIH1cbiAgICB9LFxuICAgIHVzZVJlZjogZnVuY3Rpb24gKGluaXRpYWxWYWx1ZSkge1xuICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSAndXNlUmVmJztcbiAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgcmV0dXJuIHVwZGF0ZVJlZihpbml0aWFsVmFsdWUpO1xuICAgIH0sXG4gICAgdXNlU3RhdGU6IGZ1bmN0aW9uIChpbml0aWFsU3RhdGUpIHtcbiAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gJ3VzZVN0YXRlJztcbiAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgdmFyIHByZXZEaXNwYXRjaGVyID0gUmVhY3RDdXJyZW50RGlzcGF0Y2hlciQxLmN1cnJlbnQ7XG4gICAgICBSZWFjdEN1cnJlbnREaXNwYXRjaGVyJDEuY3VycmVudCA9IEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPblVwZGF0ZUluREVWO1xuXG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gdXBkYXRlU3RhdGUoaW5pdGlhbFN0YXRlKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIFJlYWN0Q3VycmVudERpc3BhdGNoZXIkMS5jdXJyZW50ID0gcHJldkRpc3BhdGNoZXI7XG4gICAgICB9XG4gICAgfSxcbiAgICB1c2VEZWJ1Z1ZhbHVlOiBmdW5jdGlvbiAodmFsdWUsIGZvcm1hdHRlckZuKSB7XG4gICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9ICd1c2VEZWJ1Z1ZhbHVlJztcbiAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgcmV0dXJuIHVwZGF0ZURlYnVnVmFsdWUodmFsdWUsIGZvcm1hdHRlckZuKTtcbiAgICB9LFxuICAgIHVzZVJlc3BvbmRlcjogZnVuY3Rpb24gKHJlc3BvbmRlciwgcHJvcHMpIHtcbiAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gJ3VzZVJlc3BvbmRlcic7XG4gICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgIHJldHVybiBjcmVhdGVSZXNwb25kZXJMaXN0ZW5lcihyZXNwb25kZXIsIHByb3BzKTtcbiAgICB9LFxuICAgIHVzZURlZmVycmVkVmFsdWU6IGZ1bmN0aW9uICh2YWx1ZSwgY29uZmlnKSB7XG4gICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9ICd1c2VEZWZlcnJlZFZhbHVlJztcbiAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgcmV0dXJuIHVwZGF0ZURlZmVycmVkVmFsdWUodmFsdWUsIGNvbmZpZyk7XG4gICAgfSxcbiAgICB1c2VUcmFuc2l0aW9uOiBmdW5jdGlvbiAoY29uZmlnKSB7XG4gICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9ICd1c2VUcmFuc2l0aW9uJztcbiAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgcmV0dXJuIHVwZGF0ZVRyYW5zaXRpb24oY29uZmlnKTtcbiAgICB9XG4gIH07XG4gIEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPbk1vdW50SW5ERVYgPSB7XG4gICAgcmVhZENvbnRleHQ6IGZ1bmN0aW9uIChjb250ZXh0LCBvYnNlcnZlZEJpdHMpIHtcbiAgICAgIHdhcm5JbnZhbGlkQ29udGV4dEFjY2VzcygpO1xuICAgICAgcmV0dXJuIHJlYWRDb250ZXh0KGNvbnRleHQsIG9ic2VydmVkQml0cyk7XG4gICAgfSxcbiAgICB1c2VDYWxsYmFjazogZnVuY3Rpb24gKGNhbGxiYWNrLCBkZXBzKSB7XG4gICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9ICd1c2VDYWxsYmFjayc7XG4gICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICByZXR1cm4gbW91bnRDYWxsYmFjayhjYWxsYmFjaywgZGVwcyk7XG4gICAgfSxcbiAgICB1c2VDb250ZXh0OiBmdW5jdGlvbiAoY29udGV4dCwgb2JzZXJ2ZWRCaXRzKSB7XG4gICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9ICd1c2VDb250ZXh0JztcbiAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgIHJldHVybiByZWFkQ29udGV4dChjb250ZXh0LCBvYnNlcnZlZEJpdHMpO1xuICAgIH0sXG4gICAgdXNlRWZmZWN0OiBmdW5jdGlvbiAoY3JlYXRlLCBkZXBzKSB7XG4gICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9ICd1c2VFZmZlY3QnO1xuICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgcmV0dXJuIG1vdW50RWZmZWN0KGNyZWF0ZSwgZGVwcyk7XG4gICAgfSxcbiAgICB1c2VJbXBlcmF0aXZlSGFuZGxlOiBmdW5jdGlvbiAocmVmLCBjcmVhdGUsIGRlcHMpIHtcbiAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gJ3VzZUltcGVyYXRpdmVIYW5kbGUnO1xuICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgcmV0dXJuIG1vdW50SW1wZXJhdGl2ZUhhbmRsZShyZWYsIGNyZWF0ZSwgZGVwcyk7XG4gICAgfSxcbiAgICB1c2VMYXlvdXRFZmZlY3Q6IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gJ3VzZUxheW91dEVmZmVjdCc7XG4gICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICByZXR1cm4gbW91bnRMYXlvdXRFZmZlY3QoY3JlYXRlLCBkZXBzKTtcbiAgICB9LFxuICAgIHVzZU1lbW86IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gJ3VzZU1lbW8nO1xuICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgdmFyIHByZXZEaXNwYXRjaGVyID0gUmVhY3RDdXJyZW50RGlzcGF0Y2hlciQxLmN1cnJlbnQ7XG4gICAgICBSZWFjdEN1cnJlbnREaXNwYXRjaGVyJDEuY3VycmVudCA9IEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPbk1vdW50SW5ERVY7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBtb3VudE1lbW8oY3JlYXRlLCBkZXBzKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIFJlYWN0Q3VycmVudERpc3BhdGNoZXIkMS5jdXJyZW50ID0gcHJldkRpc3BhdGNoZXI7XG4gICAgICB9XG4gICAgfSxcbiAgICB1c2VSZWR1Y2VyOiBmdW5jdGlvbiAocmVkdWNlciwgaW5pdGlhbEFyZywgaW5pdCkge1xuICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSAndXNlUmVkdWNlcic7XG4gICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICB2YXIgcHJldkRpc3BhdGNoZXIgPSBSZWFjdEN1cnJlbnREaXNwYXRjaGVyJDEuY3VycmVudDtcbiAgICAgIFJlYWN0Q3VycmVudERpc3BhdGNoZXIkMS5jdXJyZW50ID0gSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uTW91bnRJbkRFVjtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIG1vdW50UmVkdWNlcihyZWR1Y2VyLCBpbml0aWFsQXJnLCBpbml0KTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIFJlYWN0Q3VycmVudERpc3BhdGNoZXIkMS5jdXJyZW50ID0gcHJldkRpc3BhdGNoZXI7XG4gICAgICB9XG4gICAgfSxcbiAgICB1c2VSZWY6IGZ1bmN0aW9uIChpbml0aWFsVmFsdWUpIHtcbiAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gJ3VzZVJlZic7XG4gICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICByZXR1cm4gbW91bnRSZWYoaW5pdGlhbFZhbHVlKTtcbiAgICB9LFxuICAgIHVzZVN0YXRlOiBmdW5jdGlvbiAoaW5pdGlhbFN0YXRlKSB7XG4gICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9ICd1c2VTdGF0ZSc7XG4gICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICB2YXIgcHJldkRpc3BhdGNoZXIgPSBSZWFjdEN1cnJlbnREaXNwYXRjaGVyJDEuY3VycmVudDtcbiAgICAgIFJlYWN0Q3VycmVudERpc3BhdGNoZXIkMS5jdXJyZW50ID0gSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uTW91bnRJbkRFVjtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIG1vdW50U3RhdGUoaW5pdGlhbFN0YXRlKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIFJlYWN0Q3VycmVudERpc3BhdGNoZXIkMS5jdXJyZW50ID0gcHJldkRpc3BhdGNoZXI7XG4gICAgICB9XG4gICAgfSxcbiAgICB1c2VEZWJ1Z1ZhbHVlOiBmdW5jdGlvbiAodmFsdWUsIGZvcm1hdHRlckZuKSB7XG4gICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9ICd1c2VEZWJ1Z1ZhbHVlJztcbiAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgIHJldHVybiBtb3VudERlYnVnVmFsdWUodmFsdWUsIGZvcm1hdHRlckZuKTtcbiAgICB9LFxuICAgIHVzZVJlc3BvbmRlcjogZnVuY3Rpb24gKHJlc3BvbmRlciwgcHJvcHMpIHtcbiAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gJ3VzZVJlc3BvbmRlcic7XG4gICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICByZXR1cm4gY3JlYXRlUmVzcG9uZGVyTGlzdGVuZXIocmVzcG9uZGVyLCBwcm9wcyk7XG4gICAgfSxcbiAgICB1c2VEZWZlcnJlZFZhbHVlOiBmdW5jdGlvbiAodmFsdWUsIGNvbmZpZykge1xuICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSAndXNlRGVmZXJyZWRWYWx1ZSc7XG4gICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICByZXR1cm4gbW91bnREZWZlcnJlZFZhbHVlKHZhbHVlLCBjb25maWcpO1xuICAgIH0sXG4gICAgdXNlVHJhbnNpdGlvbjogZnVuY3Rpb24gKGNvbmZpZykge1xuICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSAndXNlVHJhbnNpdGlvbic7XG4gICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICByZXR1cm4gbW91bnRUcmFuc2l0aW9uKGNvbmZpZyk7XG4gICAgfVxuICB9O1xuICBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25VcGRhdGVJbkRFViA9IHtcbiAgICByZWFkQ29udGV4dDogZnVuY3Rpb24gKGNvbnRleHQsIG9ic2VydmVkQml0cykge1xuICAgICAgd2FybkludmFsaWRDb250ZXh0QWNjZXNzKCk7XG4gICAgICByZXR1cm4gcmVhZENvbnRleHQoY29udGV4dCwgb2JzZXJ2ZWRCaXRzKTtcbiAgICB9LFxuICAgIHVzZUNhbGxiYWNrOiBmdW5jdGlvbiAoY2FsbGJhY2ssIGRlcHMpIHtcbiAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gJ3VzZUNhbGxiYWNrJztcbiAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICByZXR1cm4gdXBkYXRlQ2FsbGJhY2soY2FsbGJhY2ssIGRlcHMpO1xuICAgIH0sXG4gICAgdXNlQ29udGV4dDogZnVuY3Rpb24gKGNvbnRleHQsIG9ic2VydmVkQml0cykge1xuICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSAndXNlQ29udGV4dCc7XG4gICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgcmV0dXJuIHJlYWRDb250ZXh0KGNvbnRleHQsIG9ic2VydmVkQml0cyk7XG4gICAgfSxcbiAgICB1c2VFZmZlY3Q6IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gJ3VzZUVmZmVjdCc7XG4gICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgcmV0dXJuIHVwZGF0ZUVmZmVjdChjcmVhdGUsIGRlcHMpO1xuICAgIH0sXG4gICAgdXNlSW1wZXJhdGl2ZUhhbmRsZTogZnVuY3Rpb24gKHJlZiwgY3JlYXRlLCBkZXBzKSB7XG4gICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9ICd1c2VJbXBlcmF0aXZlSGFuZGxlJztcbiAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICByZXR1cm4gdXBkYXRlSW1wZXJhdGl2ZUhhbmRsZShyZWYsIGNyZWF0ZSwgZGVwcyk7XG4gICAgfSxcbiAgICB1c2VMYXlvdXRFZmZlY3Q6IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gJ3VzZUxheW91dEVmZmVjdCc7XG4gICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgcmV0dXJuIHVwZGF0ZUxheW91dEVmZmVjdChjcmVhdGUsIGRlcHMpO1xuICAgIH0sXG4gICAgdXNlTWVtbzogZnVuY3Rpb24gKGNyZWF0ZSwgZGVwcykge1xuICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSAndXNlTWVtbyc7XG4gICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgdmFyIHByZXZEaXNwYXRjaGVyID0gUmVhY3RDdXJyZW50RGlzcGF0Y2hlciQxLmN1cnJlbnQ7XG4gICAgICBSZWFjdEN1cnJlbnREaXNwYXRjaGVyJDEuY3VycmVudCA9IEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPblVwZGF0ZUluREVWO1xuXG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gdXBkYXRlTWVtbyhjcmVhdGUsIGRlcHMpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgUmVhY3RDdXJyZW50RGlzcGF0Y2hlciQxLmN1cnJlbnQgPSBwcmV2RGlzcGF0Y2hlcjtcbiAgICAgIH1cbiAgICB9LFxuICAgIHVzZVJlZHVjZXI6IGZ1bmN0aW9uIChyZWR1Y2VyLCBpbml0aWFsQXJnLCBpbml0KSB7XG4gICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9ICd1c2VSZWR1Y2VyJztcbiAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICB2YXIgcHJldkRpc3BhdGNoZXIgPSBSZWFjdEN1cnJlbnREaXNwYXRjaGVyJDEuY3VycmVudDtcbiAgICAgIFJlYWN0Q3VycmVudERpc3BhdGNoZXIkMS5jdXJyZW50ID0gSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uVXBkYXRlSW5ERVY7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiB1cGRhdGVSZWR1Y2VyKHJlZHVjZXIsIGluaXRpYWxBcmcsIGluaXQpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgUmVhY3RDdXJyZW50RGlzcGF0Y2hlciQxLmN1cnJlbnQgPSBwcmV2RGlzcGF0Y2hlcjtcbiAgICAgIH1cbiAgICB9LFxuICAgIHVzZVJlZjogZnVuY3Rpb24gKGluaXRpYWxWYWx1ZSkge1xuICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSAndXNlUmVmJztcbiAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICByZXR1cm4gdXBkYXRlUmVmKGluaXRpYWxWYWx1ZSk7XG4gICAgfSxcbiAgICB1c2VTdGF0ZTogZnVuY3Rpb24gKGluaXRpYWxTdGF0ZSkge1xuICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSAndXNlU3RhdGUnO1xuICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgIHZhciBwcmV2RGlzcGF0Y2hlciA9IFJlYWN0Q3VycmVudERpc3BhdGNoZXIkMS5jdXJyZW50O1xuICAgICAgUmVhY3RDdXJyZW50RGlzcGF0Y2hlciQxLmN1cnJlbnQgPSBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25VcGRhdGVJbkRFVjtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZVN0YXRlKGluaXRpYWxTdGF0ZSk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBSZWFjdEN1cnJlbnREaXNwYXRjaGVyJDEuY3VycmVudCA9IHByZXZEaXNwYXRjaGVyO1xuICAgICAgfVxuICAgIH0sXG4gICAgdXNlRGVidWdWYWx1ZTogZnVuY3Rpb24gKHZhbHVlLCBmb3JtYXR0ZXJGbikge1xuICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSAndXNlRGVidWdWYWx1ZSc7XG4gICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgcmV0dXJuIHVwZGF0ZURlYnVnVmFsdWUodmFsdWUsIGZvcm1hdHRlckZuKTtcbiAgICB9LFxuICAgIHVzZVJlc3BvbmRlcjogZnVuY3Rpb24gKHJlc3BvbmRlciwgcHJvcHMpIHtcbiAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gJ3VzZVJlc3BvbmRlcic7XG4gICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgcmV0dXJuIGNyZWF0ZVJlc3BvbmRlckxpc3RlbmVyKHJlc3BvbmRlciwgcHJvcHMpO1xuICAgIH0sXG4gICAgdXNlRGVmZXJyZWRWYWx1ZTogZnVuY3Rpb24gKHZhbHVlLCBjb25maWcpIHtcbiAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gJ3VzZURlZmVycmVkVmFsdWUnO1xuICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgIHJldHVybiB1cGRhdGVEZWZlcnJlZFZhbHVlKHZhbHVlLCBjb25maWcpO1xuICAgIH0sXG4gICAgdXNlVHJhbnNpdGlvbjogZnVuY3Rpb24gKGNvbmZpZykge1xuICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSAndXNlVHJhbnNpdGlvbic7XG4gICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgcmV0dXJuIHVwZGF0ZVRyYW5zaXRpb24oY29uZmlnKTtcbiAgICB9XG4gIH07XG59XG5cbi8vIENvbW1vbkpTIGludGVyb3AgbmFtZWQgaW1wb3J0cy5cblxudmFyIG5vdyQxID0gU2NoZWR1bGVyLnVuc3RhYmxlX25vdztcbnZhciBjb21taXRUaW1lID0gMDtcbnZhciBwcm9maWxlclN0YXJ0VGltZSA9IC0xO1xuXG5mdW5jdGlvbiBnZXRDb21taXRUaW1lKCkge1xuICByZXR1cm4gY29tbWl0VGltZTtcbn1cblxuZnVuY3Rpb24gcmVjb3JkQ29tbWl0VGltZSgpIHtcbiAgaWYgKCFlbmFibGVQcm9maWxlclRpbWVyKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29tbWl0VGltZSA9IG5vdyQxKCk7XG59XG5cbmZ1bmN0aW9uIHN0YXJ0UHJvZmlsZXJUaW1lcihmaWJlcikge1xuICBpZiAoIWVuYWJsZVByb2ZpbGVyVGltZXIpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBwcm9maWxlclN0YXJ0VGltZSA9IG5vdyQxKCk7XG5cbiAgaWYgKGZpYmVyLmFjdHVhbFN0YXJ0VGltZSA8IDApIHtcbiAgICBmaWJlci5hY3R1YWxTdGFydFRpbWUgPSBub3ckMSgpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHN0b3BQcm9maWxlclRpbWVySWZSdW5uaW5nKGZpYmVyKSB7XG4gIGlmICghZW5hYmxlUHJvZmlsZXJUaW1lcikge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHByb2ZpbGVyU3RhcnRUaW1lID0gLTE7XG59XG5cbmZ1bmN0aW9uIHN0b3BQcm9maWxlclRpbWVySWZSdW5uaW5nQW5kUmVjb3JkRGVsdGEoZmliZXIsIG92ZXJyaWRlQmFzZVRpbWUpIHtcbiAgaWYgKCFlbmFibGVQcm9maWxlclRpbWVyKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKHByb2ZpbGVyU3RhcnRUaW1lID49IDApIHtcbiAgICB2YXIgZWxhcHNlZFRpbWUgPSBub3ckMSgpIC0gcHJvZmlsZXJTdGFydFRpbWU7XG4gICAgZmliZXIuYWN0dWFsRHVyYXRpb24gKz0gZWxhcHNlZFRpbWU7XG5cbiAgICBpZiAob3ZlcnJpZGVCYXNlVGltZSkge1xuICAgICAgZmliZXIuc2VsZkJhc2VEdXJhdGlvbiA9IGVsYXBzZWRUaW1lO1xuICAgIH1cblxuICAgIHByb2ZpbGVyU3RhcnRUaW1lID0gLTE7XG4gIH1cbn1cblxuLy8gVGhpcyBtYXkgaGF2ZSBiZWVuIGFuIGluc2VydGlvbiBvciBhIGh5ZHJhdGlvbi5cblxudmFyIGh5ZHJhdGlvblBhcmVudEZpYmVyID0gbnVsbDtcbnZhciBuZXh0SHlkcmF0YWJsZUluc3RhbmNlID0gbnVsbDtcbnZhciBpc0h5ZHJhdGluZyA9IGZhbHNlO1xuXG5mdW5jdGlvbiB3YXJuSWZIeWRyYXRpbmcoKSB7XG4gIHtcbiAgICAhIWlzSHlkcmF0aW5nID8gd2FybmluZyQxKGZhbHNlLCAnV2Ugc2hvdWxkIG5vdCBiZSBoeWRyYXRpbmcgaGVyZS4gVGhpcyBpcyBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYSBidWcuJykgOiB2b2lkIDA7XG4gIH1cbn1cblxuZnVuY3Rpb24gZW50ZXJIeWRyYXRpb25TdGF0ZShmaWJlcikge1xuICBpZiAoIXN1cHBvcnRzSHlkcmF0aW9uKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIHBhcmVudEluc3RhbmNlID0gZmliZXIuc3RhdGVOb2RlLmNvbnRhaW5lckluZm87XG4gIG5leHRIeWRyYXRhYmxlSW5zdGFuY2UgPSBnZXRGaXJzdEh5ZHJhdGFibGVDaGlsZChwYXJlbnRJbnN0YW5jZSk7XG4gIGh5ZHJhdGlvblBhcmVudEZpYmVyID0gZmliZXI7XG4gIGlzSHlkcmF0aW5nID0gdHJ1ZTtcbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIHJlZW50ZXJIeWRyYXRpb25TdGF0ZUZyb21EZWh5ZHJhdGVkU3VzcGVuc2VJbnN0YW5jZShmaWJlciwgc3VzcGVuc2VJbnN0YW5jZSkge1xuICBpZiAoIXN1cHBvcnRzSHlkcmF0aW9uKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgbmV4dEh5ZHJhdGFibGVJbnN0YW5jZSA9IGdldE5leHRIeWRyYXRhYmxlU2libGluZyhzdXNwZW5zZUluc3RhbmNlKTtcbiAgcG9wVG9OZXh0SG9zdFBhcmVudChmaWJlcik7XG4gIGlzSHlkcmF0aW5nID0gdHJ1ZTtcbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGRlbGV0ZUh5ZHJhdGFibGVJbnN0YW5jZShyZXR1cm5GaWJlciwgaW5zdGFuY2UpIHtcbiAge1xuICAgIHN3aXRjaCAocmV0dXJuRmliZXIudGFnKSB7XG4gICAgICBjYXNlIEhvc3RSb290OlxuICAgICAgICBkaWROb3RIeWRyYXRlQ29udGFpbmVySW5zdGFuY2UocmV0dXJuRmliZXIuc3RhdGVOb2RlLmNvbnRhaW5lckluZm8sIGluc3RhbmNlKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgSG9zdENvbXBvbmVudDpcbiAgICAgICAgZGlkTm90SHlkcmF0ZUluc3RhbmNlKHJldHVybkZpYmVyLnR5cGUsIHJldHVybkZpYmVyLm1lbW9pemVkUHJvcHMsIHJldHVybkZpYmVyLnN0YXRlTm9kZSwgaW5zdGFuY2UpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICB2YXIgY2hpbGRUb0RlbGV0ZSA9IGNyZWF0ZUZpYmVyRnJvbUhvc3RJbnN0YW5jZUZvckRlbGV0aW9uKCk7XG4gIGNoaWxkVG9EZWxldGUuc3RhdGVOb2RlID0gaW5zdGFuY2U7XG4gIGNoaWxkVG9EZWxldGUucmV0dXJuID0gcmV0dXJuRmliZXI7XG4gIGNoaWxkVG9EZWxldGUuZWZmZWN0VGFnID0gRGVsZXRpb247IC8vIFRoaXMgbWlnaHQgc2VlbSBsaWtlIGl0IGJlbG9uZ3Mgb24gcHJvZ3Jlc3NlZEZpcnN0RGVsZXRpb24uIEhvd2V2ZXIsXG4gIC8vIHRoZXNlIGNoaWxkcmVuIGFyZSBub3QgcGFydCBvZiB0aGUgcmVjb25jaWxpYXRpb24gbGlzdCBvZiBjaGlsZHJlbi5cbiAgLy8gRXZlbiBpZiB3ZSBhYm9ydCBhbmQgcmVyZWNvbmNpbGUgdGhlIGNoaWxkcmVuLCB0aGF0IHdpbGwgdHJ5IHRvIGh5ZHJhdGVcbiAgLy8gYWdhaW4gYW5kIHRoZSBub2RlcyBhcmUgc3RpbGwgaW4gdGhlIGhvc3QgdHJlZSBzbyB0aGVzZSB3aWxsIGJlXG4gIC8vIHJlY3JlYXRlZC5cblxuICBpZiAocmV0dXJuRmliZXIubGFzdEVmZmVjdCAhPT0gbnVsbCkge1xuICAgIHJldHVybkZpYmVyLmxhc3RFZmZlY3QubmV4dEVmZmVjdCA9IGNoaWxkVG9EZWxldGU7XG4gICAgcmV0dXJuRmliZXIubGFzdEVmZmVjdCA9IGNoaWxkVG9EZWxldGU7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuRmliZXIuZmlyc3RFZmZlY3QgPSByZXR1cm5GaWJlci5sYXN0RWZmZWN0ID0gY2hpbGRUb0RlbGV0ZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpbnNlcnROb25IeWRyYXRlZEluc3RhbmNlKHJldHVybkZpYmVyLCBmaWJlcikge1xuICBmaWJlci5lZmZlY3RUYWcgPSBmaWJlci5lZmZlY3RUYWcgJiB+SHlkcmF0aW5nIHwgUGxhY2VtZW50O1xuXG4gIHtcbiAgICBzd2l0Y2ggKHJldHVybkZpYmVyLnRhZykge1xuICAgICAgY2FzZSBIb3N0Um9vdDpcbiAgICAgICAge1xuICAgICAgICAgIHZhciBwYXJlbnRDb250YWluZXIgPSByZXR1cm5GaWJlci5zdGF0ZU5vZGUuY29udGFpbmVySW5mbztcblxuICAgICAgICAgIHN3aXRjaCAoZmliZXIudGFnKSB7XG4gICAgICAgICAgICBjYXNlIEhvc3RDb21wb25lbnQ6XG4gICAgICAgICAgICAgIHZhciB0eXBlID0gZmliZXIudHlwZTtcbiAgICAgICAgICAgICAgdmFyIHByb3BzID0gZmliZXIucGVuZGluZ1Byb3BzO1xuICAgICAgICAgICAgICBkaWROb3RGaW5kSHlkcmF0YWJsZUNvbnRhaW5lckluc3RhbmNlKHBhcmVudENvbnRhaW5lciwgdHlwZSwgcHJvcHMpO1xuICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBIb3N0VGV4dDpcbiAgICAgICAgICAgICAgdmFyIHRleHQgPSBmaWJlci5wZW5kaW5nUHJvcHM7XG4gICAgICAgICAgICAgIGRpZE5vdEZpbmRIeWRyYXRhYmxlQ29udGFpbmVyVGV4dEluc3RhbmNlKHBhcmVudENvbnRhaW5lciwgdGV4dCk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIFN1c3BlbnNlQ29tcG9uZW50OlxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgY2FzZSBIb3N0Q29tcG9uZW50OlxuICAgICAgICB7XG4gICAgICAgICAgdmFyIHBhcmVudFR5cGUgPSByZXR1cm5GaWJlci50eXBlO1xuICAgICAgICAgIHZhciBwYXJlbnRQcm9wcyA9IHJldHVybkZpYmVyLm1lbW9pemVkUHJvcHM7XG4gICAgICAgICAgdmFyIHBhcmVudEluc3RhbmNlID0gcmV0dXJuRmliZXIuc3RhdGVOb2RlO1xuXG4gICAgICAgICAgc3dpdGNoIChmaWJlci50YWcpIHtcbiAgICAgICAgICAgIGNhc2UgSG9zdENvbXBvbmVudDpcbiAgICAgICAgICAgICAgdmFyIF90eXBlID0gZmliZXIudHlwZTtcbiAgICAgICAgICAgICAgdmFyIF9wcm9wcyA9IGZpYmVyLnBlbmRpbmdQcm9wcztcbiAgICAgICAgICAgICAgZGlkTm90RmluZEh5ZHJhdGFibGVJbnN0YW5jZShwYXJlbnRUeXBlLCBwYXJlbnRQcm9wcywgcGFyZW50SW5zdGFuY2UsIF90eXBlLCBfcHJvcHMpO1xuICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBIb3N0VGV4dDpcbiAgICAgICAgICAgICAgdmFyIF90ZXh0ID0gZmliZXIucGVuZGluZ1Byb3BzO1xuICAgICAgICAgICAgICBkaWROb3RGaW5kSHlkcmF0YWJsZVRleHRJbnN0YW5jZShwYXJlbnRUeXBlLCBwYXJlbnRQcm9wcywgcGFyZW50SW5zdGFuY2UsIF90ZXh0KTtcbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgU3VzcGVuc2VDb21wb25lbnQ6XG4gICAgICAgICAgICAgIGRpZE5vdEZpbmRIeWRyYXRhYmxlU3VzcGVuc2VJbnN0YW5jZShwYXJlbnRUeXBlLCBwYXJlbnRQcm9wcywgcGFyZW50SW5zdGFuY2UpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm47XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHRyeUh5ZHJhdGUoZmliZXIsIG5leHRJbnN0YW5jZSkge1xuICBzd2l0Y2ggKGZpYmVyLnRhZykge1xuICAgIGNhc2UgSG9zdENvbXBvbmVudDpcbiAgICAgIHtcbiAgICAgICAgdmFyIHR5cGUgPSBmaWJlci50eXBlO1xuICAgICAgICB2YXIgcHJvcHMgPSBmaWJlci5wZW5kaW5nUHJvcHM7XG4gICAgICAgIHZhciBpbnN0YW5jZSA9IGNhbkh5ZHJhdGVJbnN0YW5jZShuZXh0SW5zdGFuY2UsIHR5cGUsIHByb3BzKTtcblxuICAgICAgICBpZiAoaW5zdGFuY2UgIT09IG51bGwpIHtcbiAgICAgICAgICBmaWJlci5zdGF0ZU5vZGUgPSBpbnN0YW5jZTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgIGNhc2UgSG9zdFRleHQ6XG4gICAgICB7XG4gICAgICAgIHZhciB0ZXh0ID0gZmliZXIucGVuZGluZ1Byb3BzO1xuICAgICAgICB2YXIgdGV4dEluc3RhbmNlID0gY2FuSHlkcmF0ZVRleHRJbnN0YW5jZShuZXh0SW5zdGFuY2UsIHRleHQpO1xuXG4gICAgICAgIGlmICh0ZXh0SW5zdGFuY2UgIT09IG51bGwpIHtcbiAgICAgICAgICBmaWJlci5zdGF0ZU5vZGUgPSB0ZXh0SW5zdGFuY2U7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICBjYXNlIFN1c3BlbnNlQ29tcG9uZW50OlxuICAgICAge1xuICAgICAgICBpZiAoZW5hYmxlU3VzcGVuc2VTZXJ2ZXJSZW5kZXJlcikge1xuICAgICAgICAgIHZhciBzdXNwZW5zZUluc3RhbmNlID0gY2FuSHlkcmF0ZVN1c3BlbnNlSW5zdGFuY2UobmV4dEluc3RhbmNlKTtcblxuICAgICAgICAgIGlmIChzdXNwZW5zZUluc3RhbmNlICE9PSBudWxsKSB7XG4gICAgICAgICAgICB2YXIgc3VzcGVuc2VTdGF0ZSA9IHtcbiAgICAgICAgICAgICAgZGVoeWRyYXRlZDogc3VzcGVuc2VJbnN0YW5jZSxcbiAgICAgICAgICAgICAgcmV0cnlUaW1lOiBOZXZlclxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGZpYmVyLm1lbW9pemVkU3RhdGUgPSBzdXNwZW5zZVN0YXRlOyAvLyBTdG9yZSB0aGUgZGVoeWRyYXRlZCBmcmFnbWVudCBhcyBhIGNoaWxkIGZpYmVyLlxuICAgICAgICAgICAgLy8gVGhpcyBzaW1wbGlmaWVzIHRoZSBjb2RlIGZvciBnZXRIb3N0U2libGluZyBhbmQgZGVsZXRpbmcgbm9kZXMsXG4gICAgICAgICAgICAvLyBzaW5jZSBpdCBkb2Vzbid0IGhhdmUgdG8gY29uc2lkZXIgYWxsIFN1c3BlbnNlIGJvdW5kYXJpZXMgYW5kXG4gICAgICAgICAgICAvLyBjaGVjayBpZiB0aGV5J3JlIGRlaHlkcmF0ZWQgb25lcyBvciBub3QuXG5cbiAgICAgICAgICAgIHZhciBkZWh5ZHJhdGVkRnJhZ21lbnQgPSBjcmVhdGVGaWJlckZyb21EZWh5ZHJhdGVkRnJhZ21lbnQoc3VzcGVuc2VJbnN0YW5jZSk7XG4gICAgICAgICAgICBkZWh5ZHJhdGVkRnJhZ21lbnQucmV0dXJuID0gZmliZXI7XG4gICAgICAgICAgICBmaWJlci5jaGlsZCA9IGRlaHlkcmF0ZWRGcmFnbWVudDtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuZnVuY3Rpb24gdHJ5VG9DbGFpbU5leHRIeWRyYXRhYmxlSW5zdGFuY2UoZmliZXIpIHtcbiAgaWYgKCFpc0h5ZHJhdGluZykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBuZXh0SW5zdGFuY2UgPSBuZXh0SHlkcmF0YWJsZUluc3RhbmNlO1xuXG4gIGlmICghbmV4dEluc3RhbmNlKSB7XG4gICAgLy8gTm90aGluZyB0byBoeWRyYXRlLiBNYWtlIGl0IGFuIGluc2VydGlvbi5cbiAgICBpbnNlcnROb25IeWRyYXRlZEluc3RhbmNlKGh5ZHJhdGlvblBhcmVudEZpYmVyLCBmaWJlcik7XG4gICAgaXNIeWRyYXRpbmcgPSBmYWxzZTtcbiAgICBoeWRyYXRpb25QYXJlbnRGaWJlciA9IGZpYmVyO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBmaXJzdEF0dGVtcHRlZEluc3RhbmNlID0gbmV4dEluc3RhbmNlO1xuXG4gIGlmICghdHJ5SHlkcmF0ZShmaWJlciwgbmV4dEluc3RhbmNlKSkge1xuICAgIC8vIElmIHdlIGNhbid0IGh5ZHJhdGUgdGhpcyBpbnN0YW5jZSBsZXQncyB0cnkgdGhlIG5leHQgb25lLlxuICAgIC8vIFdlIHVzZSB0aGlzIGFzIGEgaGV1cmlzdGljLiBJdCdzIGJhc2VkIG9uIGludHVpdGlvbiBhbmQgbm90IGRhdGEgc28gaXRcbiAgICAvLyBtaWdodCBiZSBmbGF3ZWQgb3IgdW5uZWNlc3NhcnkuXG4gICAgbmV4dEluc3RhbmNlID0gZ2V0TmV4dEh5ZHJhdGFibGVTaWJsaW5nKGZpcnN0QXR0ZW1wdGVkSW5zdGFuY2UpO1xuXG4gICAgaWYgKCFuZXh0SW5zdGFuY2UgfHwgIXRyeUh5ZHJhdGUoZmliZXIsIG5leHRJbnN0YW5jZSkpIHtcbiAgICAgIC8vIE5vdGhpbmcgdG8gaHlkcmF0ZS4gTWFrZSBpdCBhbiBpbnNlcnRpb24uXG4gICAgICBpbnNlcnROb25IeWRyYXRlZEluc3RhbmNlKGh5ZHJhdGlvblBhcmVudEZpYmVyLCBmaWJlcik7XG4gICAgICBpc0h5ZHJhdGluZyA9IGZhbHNlO1xuICAgICAgaHlkcmF0aW9uUGFyZW50RmliZXIgPSBmaWJlcjtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vIFdlIG1hdGNoZWQgdGhlIG5leHQgb25lLCB3ZSdsbCBub3cgYXNzdW1lIHRoYXQgdGhlIGZpcnN0IG9uZSB3YXNcbiAgICAvLyBzdXBlcmZsdW91cyBhbmQgd2UnbGwgZGVsZXRlIGl0LiBTaW5jZSB3ZSBjYW4ndCBlYWdlcmx5IGRlbGV0ZSBpdFxuICAgIC8vIHdlJ2xsIGhhdmUgdG8gc2NoZWR1bGUgYSBkZWxldGlvbi4gVG8gZG8gdGhhdCwgdGhpcyBub2RlIG5lZWRzIGEgZHVtbXlcbiAgICAvLyBmaWJlciBhc3NvY2lhdGVkIHdpdGggaXQuXG5cblxuICAgIGRlbGV0ZUh5ZHJhdGFibGVJbnN0YW5jZShoeWRyYXRpb25QYXJlbnRGaWJlciwgZmlyc3RBdHRlbXB0ZWRJbnN0YW5jZSk7XG4gIH1cblxuICBoeWRyYXRpb25QYXJlbnRGaWJlciA9IGZpYmVyO1xuICBuZXh0SHlkcmF0YWJsZUluc3RhbmNlID0gZ2V0Rmlyc3RIeWRyYXRhYmxlQ2hpbGQobmV4dEluc3RhbmNlKTtcbn1cblxuZnVuY3Rpb24gcHJlcGFyZVRvSHlkcmF0ZUhvc3RJbnN0YW5jZShmaWJlciwgcm9vdENvbnRhaW5lckluc3RhbmNlLCBob3N0Q29udGV4dCkge1xuICBpZiAoIXN1cHBvcnRzSHlkcmF0aW9uKSB7XG4gICAge1xuICAgICAge1xuICAgICAgICB0aHJvdyBFcnJvcihcIkV4cGVjdGVkIHByZXBhcmVUb0h5ZHJhdGVIb3N0SW5zdGFuY2UoKSB0byBuZXZlciBiZSBjYWxsZWQuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHZhciBpbnN0YW5jZSA9IGZpYmVyLnN0YXRlTm9kZTtcbiAgdmFyIHVwZGF0ZVBheWxvYWQgPSBoeWRyYXRlSW5zdGFuY2UoaW5zdGFuY2UsIGZpYmVyLnR5cGUsIGZpYmVyLm1lbW9pemVkUHJvcHMsIHJvb3RDb250YWluZXJJbnN0YW5jZSwgaG9zdENvbnRleHQsIGZpYmVyKTsgLy8gVE9ETzogVHlwZSB0aGlzIHNwZWNpZmljIHRvIHRoaXMgdHlwZSBvZiBjb21wb25lbnQuXG5cbiAgZmliZXIudXBkYXRlUXVldWUgPSB1cGRhdGVQYXlsb2FkOyAvLyBJZiB0aGUgdXBkYXRlIHBheWxvYWQgaW5kaWNhdGVzIHRoYXQgdGhlcmUgaXMgYSBjaGFuZ2Ugb3IgaWYgdGhlcmVcbiAgLy8gaXMgYSBuZXcgcmVmIHdlIG1hcmsgdGhpcyBhcyBhbiB1cGRhdGUuXG5cbiAgaWYgKHVwZGF0ZVBheWxvYWQgIT09IG51bGwpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gcHJlcGFyZVRvSHlkcmF0ZUhvc3RUZXh0SW5zdGFuY2UoZmliZXIpIHtcbiAgaWYgKCFzdXBwb3J0c0h5ZHJhdGlvbikge1xuICAgIHtcbiAgICAgIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJFeHBlY3RlZCBwcmVwYXJlVG9IeWRyYXRlSG9zdFRleHRJbnN0YW5jZSgpIHRvIG5ldmVyIGJlIGNhbGxlZC4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgdmFyIHRleHRJbnN0YW5jZSA9IGZpYmVyLnN0YXRlTm9kZTtcbiAgdmFyIHRleHRDb250ZW50ID0gZmliZXIubWVtb2l6ZWRQcm9wcztcbiAgdmFyIHNob3VsZFVwZGF0ZSA9IGh5ZHJhdGVUZXh0SW5zdGFuY2UodGV4dEluc3RhbmNlLCB0ZXh0Q29udGVudCwgZmliZXIpO1xuXG4gIHtcbiAgICBpZiAoc2hvdWxkVXBkYXRlKSB7XG4gICAgICAvLyBXZSBhc3N1bWUgdGhhdCBwcmVwYXJlVG9IeWRyYXRlSG9zdFRleHRJbnN0YW5jZSBpcyBjYWxsZWQgaW4gYSBjb250ZXh0IHdoZXJlIHRoZVxuICAgICAgLy8gaHlkcmF0aW9uIHBhcmVudCBpcyB0aGUgcGFyZW50IGhvc3QgY29tcG9uZW50IG9mIHRoaXMgaG9zdCB0ZXh0LlxuICAgICAgdmFyIHJldHVybkZpYmVyID0gaHlkcmF0aW9uUGFyZW50RmliZXI7XG5cbiAgICAgIGlmIChyZXR1cm5GaWJlciAhPT0gbnVsbCkge1xuICAgICAgICBzd2l0Y2ggKHJldHVybkZpYmVyLnRhZykge1xuICAgICAgICAgIGNhc2UgSG9zdFJvb3Q6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHZhciBwYXJlbnRDb250YWluZXIgPSByZXR1cm5GaWJlci5zdGF0ZU5vZGUuY29udGFpbmVySW5mbztcbiAgICAgICAgICAgICAgZGlkTm90TWF0Y2hIeWRyYXRlZENvbnRhaW5lclRleHRJbnN0YW5jZShwYXJlbnRDb250YWluZXIsIHRleHRJbnN0YW5jZSwgdGV4dENvbnRlbnQpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIGNhc2UgSG9zdENvbXBvbmVudDpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdmFyIHBhcmVudFR5cGUgPSByZXR1cm5GaWJlci50eXBlO1xuICAgICAgICAgICAgICB2YXIgcGFyZW50UHJvcHMgPSByZXR1cm5GaWJlci5tZW1vaXplZFByb3BzO1xuICAgICAgICAgICAgICB2YXIgcGFyZW50SW5zdGFuY2UgPSByZXR1cm5GaWJlci5zdGF0ZU5vZGU7XG4gICAgICAgICAgICAgIGRpZE5vdE1hdGNoSHlkcmF0ZWRUZXh0SW5zdGFuY2UocGFyZW50VHlwZSwgcGFyZW50UHJvcHMsIHBhcmVudEluc3RhbmNlLCB0ZXh0SW5zdGFuY2UsIHRleHRDb250ZW50KTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gc2hvdWxkVXBkYXRlO1xufVxuXG5mdW5jdGlvbiBwcmVwYXJlVG9IeWRyYXRlSG9zdFN1c3BlbnNlSW5zdGFuY2UoZmliZXIpIHtcbiAgaWYgKCFzdXBwb3J0c0h5ZHJhdGlvbikge1xuICAgIHtcbiAgICAgIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJFeHBlY3RlZCBwcmVwYXJlVG9IeWRyYXRlSG9zdFN1c3BlbnNlSW5zdGFuY2UoKSB0byBuZXZlciBiZSBjYWxsZWQuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHZhciBzdXNwZW5zZVN0YXRlID0gZmliZXIubWVtb2l6ZWRTdGF0ZTtcbiAgdmFyIHN1c3BlbnNlSW5zdGFuY2UgPSBzdXNwZW5zZVN0YXRlICE9PSBudWxsID8gc3VzcGVuc2VTdGF0ZS5kZWh5ZHJhdGVkIDogbnVsbDtcblxuICBpZiAoIXN1c3BlbnNlSW5zdGFuY2UpIHtcbiAgICB7XG4gICAgICB0aHJvdyBFcnJvcihcIkV4cGVjdGVkIHRvIGhhdmUgYSBoeWRyYXRlZCBzdXNwZW5zZSBpbnN0YW5jZS4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIik7XG4gICAgfVxuICB9XG5cbiAgaHlkcmF0ZVN1c3BlbnNlSW5zdGFuY2Uoc3VzcGVuc2VJbnN0YW5jZSwgZmliZXIpO1xufVxuXG5mdW5jdGlvbiBza2lwUGFzdERlaHlkcmF0ZWRTdXNwZW5zZUluc3RhbmNlKGZpYmVyKSB7XG4gIGlmICghc3VwcG9ydHNIeWRyYXRpb24pIHtcbiAgICB7XG4gICAgICB7XG4gICAgICAgIHRocm93IEVycm9yKFwiRXhwZWN0ZWQgc2tpcFBhc3REZWh5ZHJhdGVkU3VzcGVuc2VJbnN0YW5jZSgpIHRvIG5ldmVyIGJlIGNhbGxlZC4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgdmFyIHN1c3BlbnNlU3RhdGUgPSBmaWJlci5tZW1vaXplZFN0YXRlO1xuICB2YXIgc3VzcGVuc2VJbnN0YW5jZSA9IHN1c3BlbnNlU3RhdGUgIT09IG51bGwgPyBzdXNwZW5zZVN0YXRlLmRlaHlkcmF0ZWQgOiBudWxsO1xuXG4gIGlmICghc3VzcGVuc2VJbnN0YW5jZSkge1xuICAgIHtcbiAgICAgIHRocm93IEVycm9yKFwiRXhwZWN0ZWQgdG8gaGF2ZSBhIGh5ZHJhdGVkIHN1c3BlbnNlIGluc3RhbmNlLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZ2V0TmV4dEh5ZHJhdGFibGVJbnN0YW5jZUFmdGVyU3VzcGVuc2VJbnN0YW5jZShzdXNwZW5zZUluc3RhbmNlKTtcbn1cblxuZnVuY3Rpb24gcG9wVG9OZXh0SG9zdFBhcmVudChmaWJlcikge1xuICB2YXIgcGFyZW50ID0gZmliZXIucmV0dXJuO1xuXG4gIHdoaWxlIChwYXJlbnQgIT09IG51bGwgJiYgcGFyZW50LnRhZyAhPT0gSG9zdENvbXBvbmVudCAmJiBwYXJlbnQudGFnICE9PSBIb3N0Um9vdCAmJiBwYXJlbnQudGFnICE9PSBTdXNwZW5zZUNvbXBvbmVudCkge1xuICAgIHBhcmVudCA9IHBhcmVudC5yZXR1cm47XG4gIH1cblxuICBoeWRyYXRpb25QYXJlbnRGaWJlciA9IHBhcmVudDtcbn1cblxuZnVuY3Rpb24gcG9wSHlkcmF0aW9uU3RhdGUoZmliZXIpIHtcbiAgaWYgKCFzdXBwb3J0c0h5ZHJhdGlvbikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmIChmaWJlciAhPT0gaHlkcmF0aW9uUGFyZW50RmliZXIpIHtcbiAgICAvLyBXZSdyZSBkZWVwZXIgdGhhbiB0aGUgY3VycmVudCBoeWRyYXRpb24gY29udGV4dCwgaW5zaWRlIGFuIGluc2VydGVkXG4gICAgLy8gdHJlZS5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAoIWlzSHlkcmF0aW5nKSB7XG4gICAgLy8gSWYgd2UncmUgbm90IGN1cnJlbnRseSBoeWRyYXRpbmcgYnV0IHdlJ3JlIGluIGEgaHlkcmF0aW9uIGNvbnRleHQsIHRoZW5cbiAgICAvLyB3ZSB3ZXJlIGFuIGluc2VydGlvbiBhbmQgbm93IG5lZWQgdG8gcG9wIHVwIHJlZW50ZXIgaHlkcmF0aW9uIG9mIG91clxuICAgIC8vIHNpYmxpbmdzLlxuICAgIHBvcFRvTmV4dEhvc3RQYXJlbnQoZmliZXIpO1xuICAgIGlzSHlkcmF0aW5nID0gdHJ1ZTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB2YXIgdHlwZSA9IGZpYmVyLnR5cGU7IC8vIElmIHdlIGhhdmUgYW55IHJlbWFpbmluZyBoeWRyYXRhYmxlIG5vZGVzLCB3ZSBuZWVkIHRvIGRlbGV0ZSB0aGVtIG5vdy5cbiAgLy8gV2Ugb25seSBkbyB0aGlzIGRlZXBlciB0aGFuIGhlYWQgYW5kIGJvZHkgc2luY2UgdGhleSB0ZW5kIHRvIGhhdmUgcmFuZG9tXG4gIC8vIG90aGVyIG5vZGVzIGluIHRoZW0uIFdlIGFsc28gaWdub3JlIGNvbXBvbmVudHMgd2l0aCBwdXJlIHRleHQgY29udGVudCBpblxuICAvLyBzaWRlIG9mIHRoZW0uXG4gIC8vIFRPRE86IEJldHRlciBoZXVyaXN0aWMuXG5cbiAgaWYgKGZpYmVyLnRhZyAhPT0gSG9zdENvbXBvbmVudCB8fCB0eXBlICE9PSAnaGVhZCcgJiYgdHlwZSAhPT0gJ2JvZHknICYmICFzaG91bGRTZXRUZXh0Q29udGVudCh0eXBlLCBmaWJlci5tZW1vaXplZFByb3BzKSkge1xuICAgIHZhciBuZXh0SW5zdGFuY2UgPSBuZXh0SHlkcmF0YWJsZUluc3RhbmNlO1xuXG4gICAgd2hpbGUgKG5leHRJbnN0YW5jZSkge1xuICAgICAgZGVsZXRlSHlkcmF0YWJsZUluc3RhbmNlKGZpYmVyLCBuZXh0SW5zdGFuY2UpO1xuICAgICAgbmV4dEluc3RhbmNlID0gZ2V0TmV4dEh5ZHJhdGFibGVTaWJsaW5nKG5leHRJbnN0YW5jZSk7XG4gICAgfVxuICB9XG5cbiAgcG9wVG9OZXh0SG9zdFBhcmVudChmaWJlcik7XG5cbiAgaWYgKGZpYmVyLnRhZyA9PT0gU3VzcGVuc2VDb21wb25lbnQpIHtcbiAgICBuZXh0SHlkcmF0YWJsZUluc3RhbmNlID0gc2tpcFBhc3REZWh5ZHJhdGVkU3VzcGVuc2VJbnN0YW5jZShmaWJlcik7XG4gIH0gZWxzZSB7XG4gICAgbmV4dEh5ZHJhdGFibGVJbnN0YW5jZSA9IGh5ZHJhdGlvblBhcmVudEZpYmVyID8gZ2V0TmV4dEh5ZHJhdGFibGVTaWJsaW5nKGZpYmVyLnN0YXRlTm9kZSkgOiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIHJlc2V0SHlkcmF0aW9uU3RhdGUoKSB7XG4gIGlmICghc3VwcG9ydHNIeWRyYXRpb24pIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBoeWRyYXRpb25QYXJlbnRGaWJlciA9IG51bGw7XG4gIG5leHRIeWRyYXRhYmxlSW5zdGFuY2UgPSBudWxsO1xuICBpc0h5ZHJhdGluZyA9IGZhbHNlO1xufVxuXG52YXIgUmVhY3RDdXJyZW50T3duZXIkMyA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLlJlYWN0Q3VycmVudE93bmVyO1xudmFyIGRpZFJlY2VpdmVVcGRhdGUgPSBmYWxzZTtcbnZhciBkaWRXYXJuQWJvdXRCYWRDbGFzcztcbnZhciBkaWRXYXJuQWJvdXRNb2R1bGVQYXR0ZXJuQ29tcG9uZW50O1xudmFyIGRpZFdhcm5BYm91dENvbnRleHRUeXBlT25GdW5jdGlvbkNvbXBvbmVudDtcbnZhciBkaWRXYXJuQWJvdXRHZXREZXJpdmVkU3RhdGVPbkZ1bmN0aW9uQ29tcG9uZW50O1xudmFyIGRpZFdhcm5BYm91dEZ1bmN0aW9uUmVmcztcbnZhciBkaWRXYXJuQWJvdXRSZWFzc2lnbmluZ1Byb3BzO1xudmFyIGRpZFdhcm5BYm91dE1heER1cmF0aW9uO1xudmFyIGRpZFdhcm5BYm91dFJldmVhbE9yZGVyO1xudmFyIGRpZFdhcm5BYm91dFRhaWxPcHRpb25zO1xudmFyIGRpZFdhcm5BYm91dERlZmF1bHRQcm9wc09uRnVuY3Rpb25Db21wb25lbnQ7XG5cbntcbiAgZGlkV2FybkFib3V0QmFkQ2xhc3MgPSB7fTtcbiAgZGlkV2FybkFib3V0TW9kdWxlUGF0dGVybkNvbXBvbmVudCA9IHt9O1xuICBkaWRXYXJuQWJvdXRDb250ZXh0VHlwZU9uRnVuY3Rpb25Db21wb25lbnQgPSB7fTtcbiAgZGlkV2FybkFib3V0R2V0RGVyaXZlZFN0YXRlT25GdW5jdGlvbkNvbXBvbmVudCA9IHt9O1xuICBkaWRXYXJuQWJvdXRGdW5jdGlvblJlZnMgPSB7fTtcbiAgZGlkV2FybkFib3V0UmVhc3NpZ25pbmdQcm9wcyA9IGZhbHNlO1xuICBkaWRXYXJuQWJvdXRNYXhEdXJhdGlvbiA9IGZhbHNlO1xuICBkaWRXYXJuQWJvdXRSZXZlYWxPcmRlciA9IHt9O1xuICBkaWRXYXJuQWJvdXRUYWlsT3B0aW9ucyA9IHt9O1xuICBkaWRXYXJuQWJvdXREZWZhdWx0UHJvcHNPbkZ1bmN0aW9uQ29tcG9uZW50ID0ge307XG59XG5cbmZ1bmN0aW9uIHJlY29uY2lsZUNoaWxkcmVuKGN1cnJlbnQkJDEsIHdvcmtJblByb2dyZXNzLCBuZXh0Q2hpbGRyZW4sIHJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gIGlmIChjdXJyZW50JCQxID09PSBudWxsKSB7XG4gICAgLy8gSWYgdGhpcyBpcyBhIGZyZXNoIG5ldyBjb21wb25lbnQgdGhhdCBoYXNuJ3QgYmVlbiByZW5kZXJlZCB5ZXQsIHdlXG4gICAgLy8gd29uJ3QgdXBkYXRlIGl0cyBjaGlsZCBzZXQgYnkgYXBwbHlpbmcgbWluaW1hbCBzaWRlLWVmZmVjdHMuIEluc3RlYWQsXG4gICAgLy8gd2Ugd2lsbCBhZGQgdGhlbSBhbGwgdG8gdGhlIGNoaWxkIGJlZm9yZSBpdCBnZXRzIHJlbmRlcmVkLiBUaGF0IG1lYW5zXG4gICAgLy8gd2UgY2FuIG9wdGltaXplIHRoaXMgcmVjb25jaWxpYXRpb24gcGFzcyBieSBub3QgdHJhY2tpbmcgc2lkZS1lZmZlY3RzLlxuICAgIHdvcmtJblByb2dyZXNzLmNoaWxkID0gbW91bnRDaGlsZEZpYmVycyh3b3JrSW5Qcm9ncmVzcywgbnVsbCwgbmV4dENoaWxkcmVuLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gIH0gZWxzZSB7XG4gICAgLy8gSWYgdGhlIGN1cnJlbnQgY2hpbGQgaXMgdGhlIHNhbWUgYXMgdGhlIHdvcmsgaW4gcHJvZ3Jlc3MsIGl0IG1lYW5zIHRoYXRcbiAgICAvLyB3ZSBoYXZlbid0IHlldCBzdGFydGVkIGFueSB3b3JrIG9uIHRoZXNlIGNoaWxkcmVuLiBUaGVyZWZvcmUsIHdlIHVzZVxuICAgIC8vIHRoZSBjbG9uZSBhbGdvcml0aG0gdG8gY3JlYXRlIGEgY29weSBvZiBhbGwgdGhlIGN1cnJlbnQgY2hpbGRyZW4uXG4gICAgLy8gSWYgd2UgaGFkIGFueSBwcm9ncmVzc2VkIHdvcmsgYWxyZWFkeSwgdGhhdCBpcyBpbnZhbGlkIGF0IHRoaXMgcG9pbnQgc29cbiAgICAvLyBsZXQncyB0aHJvdyBpdCBvdXQuXG4gICAgd29ya0luUHJvZ3Jlc3MuY2hpbGQgPSByZWNvbmNpbGVDaGlsZEZpYmVycyh3b3JrSW5Qcm9ncmVzcywgY3VycmVudCQkMS5jaGlsZCwgbmV4dENoaWxkcmVuLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZm9yY2VVbm1vdW50Q3VycmVudEFuZFJlY29uY2lsZShjdXJyZW50JCQxLCB3b3JrSW5Qcm9ncmVzcywgbmV4dENoaWxkcmVuLCByZW5kZXJFeHBpcmF0aW9uVGltZSkge1xuICAvLyBUaGlzIGZ1bmN0aW9uIGlzIGZvcmsgb2YgcmVjb25jaWxlQ2hpbGRyZW4uIEl0J3MgdXNlZCBpbiBjYXNlcyB3aGVyZSB3ZVxuICAvLyB3YW50IHRvIHJlY29uY2lsZSB3aXRob3V0IG1hdGNoaW5nIGFnYWluc3QgdGhlIGV4aXN0aW5nIHNldC4gVGhpcyBoYXMgdGhlXG4gIC8vIGVmZmVjdCBvZiBhbGwgY3VycmVudCBjaGlsZHJlbiBiZWluZyB1bm1vdW50ZWQ7IGV2ZW4gaWYgdGhlIHR5cGUgYW5kIGtleVxuICAvLyBhcmUgdGhlIHNhbWUsIHRoZSBvbGQgY2hpbGQgaXMgdW5tb3VudGVkIGFuZCBhIG5ldyBjaGlsZCBpcyBjcmVhdGVkLlxuICAvL1xuICAvLyBUbyBkbyB0aGlzLCB3ZSdyZSBnb2luZyB0byBnbyB0aHJvdWdoIHRoZSByZWNvbmNpbGUgYWxnb3JpdGhtIHR3aWNlLiBJblxuICAvLyB0aGUgZmlyc3QgcGFzcywgd2Ugc2NoZWR1bGUgYSBkZWxldGlvbiBmb3IgYWxsIHRoZSBjdXJyZW50IGNoaWxkcmVuIGJ5XG4gIC8vIHBhc3NpbmcgbnVsbC5cbiAgd29ya0luUHJvZ3Jlc3MuY2hpbGQgPSByZWNvbmNpbGVDaGlsZEZpYmVycyh3b3JrSW5Qcm9ncmVzcywgY3VycmVudCQkMS5jaGlsZCwgbnVsbCwgcmVuZGVyRXhwaXJhdGlvblRpbWUpOyAvLyBJbiB0aGUgc2Vjb25kIHBhc3MsIHdlIG1vdW50IHRoZSBuZXcgY2hpbGRyZW4uIFRoZSB0cmljayBoZXJlIGlzIHRoYXQgd2VcbiAgLy8gcGFzcyBudWxsIGluIHBsYWNlIG9mIHdoZXJlIHdlIHVzdWFsbHkgcGFzcyB0aGUgY3VycmVudCBjaGlsZCBzZXQuIFRoaXMgaGFzXG4gIC8vIHRoZSBlZmZlY3Qgb2YgcmVtb3VudGluZyBhbGwgY2hpbGRyZW4gcmVnYXJkbGVzcyBvZiB3aGV0aGVyIHRoZWlyIHRoZWlyXG4gIC8vIGlkZW50aXR5IG1hdGNoZXMuXG5cbiAgd29ya0luUHJvZ3Jlc3MuY2hpbGQgPSByZWNvbmNpbGVDaGlsZEZpYmVycyh3b3JrSW5Qcm9ncmVzcywgbnVsbCwgbmV4dENoaWxkcmVuLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUZvcndhcmRSZWYoY3VycmVudCQkMSwgd29ya0luUHJvZ3Jlc3MsIENvbXBvbmVudCwgbmV4dFByb3BzLCByZW5kZXJFeHBpcmF0aW9uVGltZSkge1xuICAvLyBUT0RPOiBjdXJyZW50IGNhbiBiZSBub24tbnVsbCBoZXJlIGV2ZW4gaWYgdGhlIGNvbXBvbmVudFxuICAvLyBoYXNuJ3QgeWV0IG1vdW50ZWQuIFRoaXMgaGFwcGVucyBhZnRlciB0aGUgZmlyc3QgcmVuZGVyIHN1c3BlbmRzLlxuICAvLyBXZSdsbCBuZWVkIHRvIGZpZ3VyZSBvdXQgaWYgdGhpcyBpcyBmaW5lIG9yIGNhbiBjYXVzZSBpc3N1ZXMuXG4gIHtcbiAgICBpZiAod29ya0luUHJvZ3Jlc3MudHlwZSAhPT0gd29ya0luUHJvZ3Jlc3MuZWxlbWVudFR5cGUpIHtcbiAgICAgIC8vIExhenkgY29tcG9uZW50IHByb3BzIGNhbid0IGJlIHZhbGlkYXRlZCBpbiBjcmVhdGVFbGVtZW50XG4gICAgICAvLyBiZWNhdXNlIHRoZXkncmUgb25seSBndWFyYW50ZWVkIHRvIGJlIHJlc29sdmVkIGhlcmUuXG4gICAgICB2YXIgaW5uZXJQcm9wVHlwZXMgPSBDb21wb25lbnQucHJvcFR5cGVzO1xuXG4gICAgICBpZiAoaW5uZXJQcm9wVHlwZXMpIHtcbiAgICAgICAgY2hlY2tQcm9wVHlwZXMoaW5uZXJQcm9wVHlwZXMsIG5leHRQcm9wcywgLy8gUmVzb2x2ZWQgcHJvcHNcbiAgICAgICAgJ3Byb3AnLCBnZXRDb21wb25lbnROYW1lKENvbXBvbmVudCksIGdldEN1cnJlbnRGaWJlclN0YWNrSW5EZXYpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHZhciByZW5kZXIgPSBDb21wb25lbnQucmVuZGVyO1xuICB2YXIgcmVmID0gd29ya0luUHJvZ3Jlc3MucmVmOyAvLyBUaGUgcmVzdCBpcyBhIGZvcmsgb2YgdXBkYXRlRnVuY3Rpb25Db21wb25lbnRcblxuICB2YXIgbmV4dENoaWxkcmVuO1xuICBwcmVwYXJlVG9SZWFkQ29udGV4dCh3b3JrSW5Qcm9ncmVzcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuXG4gIHtcbiAgICBSZWFjdEN1cnJlbnRPd25lciQzLmN1cnJlbnQgPSB3b3JrSW5Qcm9ncmVzcztcbiAgICBzZXRDdXJyZW50UGhhc2UoJ3JlbmRlcicpO1xuICAgIG5leHRDaGlsZHJlbiA9IHJlbmRlcldpdGhIb29rcyhjdXJyZW50JCQxLCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyLCBuZXh0UHJvcHMsIHJlZiwgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuXG4gICAgaWYgKGRlYnVnUmVuZGVyUGhhc2VTaWRlRWZmZWN0c0ZvclN0cmljdE1vZGUgJiYgd29ya0luUHJvZ3Jlc3MubW9kZSAmIFN0cmljdE1vZGUpIHtcbiAgICAgIC8vIE9ubHkgZG91YmxlLXJlbmRlciBjb21wb25lbnRzIHdpdGggSG9va3NcbiAgICAgIGlmICh3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlICE9PSBudWxsKSB7XG4gICAgICAgIG5leHRDaGlsZHJlbiA9IHJlbmRlcldpdGhIb29rcyhjdXJyZW50JCQxLCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyLCBuZXh0UHJvcHMsIHJlZiwgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHNldEN1cnJlbnRQaGFzZShudWxsKTtcbiAgfVxuXG4gIGlmIChjdXJyZW50JCQxICE9PSBudWxsICYmICFkaWRSZWNlaXZlVXBkYXRlKSB7XG4gICAgYmFpbG91dEhvb2tzKGN1cnJlbnQkJDEsIHdvcmtJblByb2dyZXNzLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gICAgcmV0dXJuIGJhaWxvdXRPbkFscmVhZHlGaW5pc2hlZFdvcmsoY3VycmVudCQkMSwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgfSAvLyBSZWFjdCBEZXZUb29scyByZWFkcyB0aGlzIGZsYWcuXG5cblxuICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gUGVyZm9ybWVkV29yaztcbiAgcmVjb25jaWxlQ2hpbGRyZW4oY3VycmVudCQkMSwgd29ya0luUHJvZ3Jlc3MsIG5leHRDaGlsZHJlbiwgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICByZXR1cm4gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZU1lbW9Db21wb25lbnQoY3VycmVudCQkMSwgd29ya0luUHJvZ3Jlc3MsIENvbXBvbmVudCwgbmV4dFByb3BzLCB1cGRhdGVFeHBpcmF0aW9uVGltZSwgcmVuZGVyRXhwaXJhdGlvblRpbWUpIHtcbiAgaWYgKGN1cnJlbnQkJDEgPT09IG51bGwpIHtcbiAgICB2YXIgdHlwZSA9IENvbXBvbmVudC50eXBlO1xuXG4gICAgaWYgKGlzU2ltcGxlRnVuY3Rpb25Db21wb25lbnQodHlwZSkgJiYgQ29tcG9uZW50LmNvbXBhcmUgPT09IG51bGwgJiYgLy8gU2ltcGxlTWVtb0NvbXBvbmVudCBjb2RlcGF0aCBkb2Vzbid0IHJlc29sdmUgb3V0ZXIgcHJvcHMgZWl0aGVyLlxuICAgIENvbXBvbmVudC5kZWZhdWx0UHJvcHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdmFyIHJlc29sdmVkVHlwZSA9IHR5cGU7XG5cbiAgICAgIHtcbiAgICAgICAgcmVzb2x2ZWRUeXBlID0gcmVzb2x2ZUZ1bmN0aW9uRm9ySG90UmVsb2FkaW5nKHR5cGUpO1xuICAgICAgfSAvLyBJZiB0aGlzIGlzIGEgcGxhaW4gZnVuY3Rpb24gY29tcG9uZW50IHdpdGhvdXQgZGVmYXVsdCBwcm9wcyxcbiAgICAgIC8vIGFuZCB3aXRoIG9ubHkgdGhlIGRlZmF1bHQgc2hhbGxvdyBjb21wYXJpc29uLCB3ZSB1cGdyYWRlIGl0XG4gICAgICAvLyB0byBhIFNpbXBsZU1lbW9Db21wb25lbnQgdG8gYWxsb3cgZmFzdCBwYXRoIHVwZGF0ZXMuXG5cblxuICAgICAgd29ya0luUHJvZ3Jlc3MudGFnID0gU2ltcGxlTWVtb0NvbXBvbmVudDtcbiAgICAgIHdvcmtJblByb2dyZXNzLnR5cGUgPSByZXNvbHZlZFR5cGU7XG5cbiAgICAgIHtcbiAgICAgICAgdmFsaWRhdGVGdW5jdGlvbkNvbXBvbmVudEluRGV2KHdvcmtJblByb2dyZXNzLCB0eXBlKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHVwZGF0ZVNpbXBsZU1lbW9Db21wb25lbnQoY3VycmVudCQkMSwgd29ya0luUHJvZ3Jlc3MsIHJlc29sdmVkVHlwZSwgbmV4dFByb3BzLCB1cGRhdGVFeHBpcmF0aW9uVGltZSwgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICAgIH1cblxuICAgIHtcbiAgICAgIHZhciBpbm5lclByb3BUeXBlcyA9IHR5cGUucHJvcFR5cGVzO1xuXG4gICAgICBpZiAoaW5uZXJQcm9wVHlwZXMpIHtcbiAgICAgICAgLy8gSW5uZXIgbWVtbyBjb21wb25lbnQgcHJvcHMgYXJlbid0IGN1cnJlbnRseSB2YWxpZGF0ZWQgaW4gY3JlYXRlRWxlbWVudC5cbiAgICAgICAgLy8gV2UgY291bGQgbW92ZSBpdCB0aGVyZSwgYnV0IHdlJ2Qgc3RpbGwgbmVlZCB0aGlzIGZvciBsYXp5IGNvZGUgcGF0aC5cbiAgICAgICAgY2hlY2tQcm9wVHlwZXMoaW5uZXJQcm9wVHlwZXMsIG5leHRQcm9wcywgLy8gUmVzb2x2ZWQgcHJvcHNcbiAgICAgICAgJ3Byb3AnLCBnZXRDb21wb25lbnROYW1lKHR5cGUpLCBnZXRDdXJyZW50RmliZXJTdGFja0luRGV2KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgY2hpbGQgPSBjcmVhdGVGaWJlckZyb21UeXBlQW5kUHJvcHMoQ29tcG9uZW50LnR5cGUsIG51bGwsIG5leHRQcm9wcywgbnVsbCwgd29ya0luUHJvZ3Jlc3MubW9kZSwgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICAgIGNoaWxkLnJlZiA9IHdvcmtJblByb2dyZXNzLnJlZjtcbiAgICBjaGlsZC5yZXR1cm4gPSB3b3JrSW5Qcm9ncmVzcztcbiAgICB3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IGNoaWxkO1xuICAgIHJldHVybiBjaGlsZDtcbiAgfVxuXG4gIHtcbiAgICB2YXIgX3R5cGUgPSBDb21wb25lbnQudHlwZTtcbiAgICB2YXIgX2lubmVyUHJvcFR5cGVzID0gX3R5cGUucHJvcFR5cGVzO1xuXG4gICAgaWYgKF9pbm5lclByb3BUeXBlcykge1xuICAgICAgLy8gSW5uZXIgbWVtbyBjb21wb25lbnQgcHJvcHMgYXJlbid0IGN1cnJlbnRseSB2YWxpZGF0ZWQgaW4gY3JlYXRlRWxlbWVudC5cbiAgICAgIC8vIFdlIGNvdWxkIG1vdmUgaXQgdGhlcmUsIGJ1dCB3ZSdkIHN0aWxsIG5lZWQgdGhpcyBmb3IgbGF6eSBjb2RlIHBhdGguXG4gICAgICBjaGVja1Byb3BUeXBlcyhfaW5uZXJQcm9wVHlwZXMsIG5leHRQcm9wcywgLy8gUmVzb2x2ZWQgcHJvcHNcbiAgICAgICdwcm9wJywgZ2V0Q29tcG9uZW50TmFtZShfdHlwZSksIGdldEN1cnJlbnRGaWJlclN0YWNrSW5EZXYpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBjdXJyZW50Q2hpbGQgPSBjdXJyZW50JCQxLmNoaWxkOyAvLyBUaGlzIGlzIGFsd2F5cyBleGFjdGx5IG9uZSBjaGlsZFxuXG4gIGlmICh1cGRhdGVFeHBpcmF0aW9uVGltZSA8IHJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gICAgLy8gVGhpcyB3aWxsIGJlIHRoZSBwcm9wcyB3aXRoIHJlc29sdmVkIGRlZmF1bHRQcm9wcyxcbiAgICAvLyB1bmxpa2UgY3VycmVudC5tZW1vaXplZFByb3BzIHdoaWNoIHdpbGwgYmUgdGhlIHVucmVzb2x2ZWQgb25lcy5cbiAgICB2YXIgcHJldlByb3BzID0gY3VycmVudENoaWxkLm1lbW9pemVkUHJvcHM7IC8vIERlZmF1bHQgdG8gc2hhbGxvdyBjb21wYXJpc29uXG5cbiAgICB2YXIgY29tcGFyZSA9IENvbXBvbmVudC5jb21wYXJlO1xuICAgIGNvbXBhcmUgPSBjb21wYXJlICE9PSBudWxsID8gY29tcGFyZSA6IHNoYWxsb3dFcXVhbDtcblxuICAgIGlmIChjb21wYXJlKHByZXZQcm9wcywgbmV4dFByb3BzKSAmJiBjdXJyZW50JCQxLnJlZiA9PT0gd29ya0luUHJvZ3Jlc3MucmVmKSB7XG4gICAgICByZXR1cm4gYmFpbG91dE9uQWxyZWFkeUZpbmlzaGVkV29yayhjdXJyZW50JCQxLCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICAgIH1cbiAgfSAvLyBSZWFjdCBEZXZUb29scyByZWFkcyB0aGlzIGZsYWcuXG5cblxuICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gUGVyZm9ybWVkV29yaztcbiAgdmFyIG5ld0NoaWxkID0gY3JlYXRlV29ya0luUHJvZ3Jlc3MoY3VycmVudENoaWxkLCBuZXh0UHJvcHMsIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgbmV3Q2hpbGQucmVmID0gd29ya0luUHJvZ3Jlc3MucmVmO1xuICBuZXdDaGlsZC5yZXR1cm4gPSB3b3JrSW5Qcm9ncmVzcztcbiAgd29ya0luUHJvZ3Jlc3MuY2hpbGQgPSBuZXdDaGlsZDtcbiAgcmV0dXJuIG5ld0NoaWxkO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVTaW1wbGVNZW1vQ29tcG9uZW50KGN1cnJlbnQkJDEsIHdvcmtJblByb2dyZXNzLCBDb21wb25lbnQsIG5leHRQcm9wcywgdXBkYXRlRXhwaXJhdGlvblRpbWUsIHJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gIC8vIFRPRE86IGN1cnJlbnQgY2FuIGJlIG5vbi1udWxsIGhlcmUgZXZlbiBpZiB0aGUgY29tcG9uZW50XG4gIC8vIGhhc24ndCB5ZXQgbW91bnRlZC4gVGhpcyBoYXBwZW5zIHdoZW4gdGhlIGlubmVyIHJlbmRlciBzdXNwZW5kcy5cbiAgLy8gV2UnbGwgbmVlZCB0byBmaWd1cmUgb3V0IGlmIHRoaXMgaXMgZmluZSBvciBjYW4gY2F1c2UgaXNzdWVzLlxuICB7XG4gICAgaWYgKHdvcmtJblByb2dyZXNzLnR5cGUgIT09IHdvcmtJblByb2dyZXNzLmVsZW1lbnRUeXBlKSB7XG4gICAgICAvLyBMYXp5IGNvbXBvbmVudCBwcm9wcyBjYW4ndCBiZSB2YWxpZGF0ZWQgaW4gY3JlYXRlRWxlbWVudFxuICAgICAgLy8gYmVjYXVzZSB0aGV5J3JlIG9ubHkgZ3VhcmFudGVlZCB0byBiZSByZXNvbHZlZCBoZXJlLlxuICAgICAgdmFyIG91dGVyTWVtb1R5cGUgPSB3b3JrSW5Qcm9ncmVzcy5lbGVtZW50VHlwZTtcblxuICAgICAgaWYgKG91dGVyTWVtb1R5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0xBWllfVFlQRSkge1xuICAgICAgICAvLyBXZSB3YXJuIHdoZW4geW91IGRlZmluZSBwcm9wVHlwZXMgb24gbGF6eSgpXG4gICAgICAgIC8vIHNvIGxldCdzIGp1c3Qgc2tpcCBvdmVyIGl0IHRvIGZpbmQgbWVtbygpIG91dGVyIHdyYXBwZXIuXG4gICAgICAgIC8vIElubmVyIHByb3BzIGZvciBtZW1vIGFyZSB2YWxpZGF0ZWQgbGF0ZXIuXG4gICAgICAgIG91dGVyTWVtb1R5cGUgPSByZWZpbmVSZXNvbHZlZExhenlDb21wb25lbnQob3V0ZXJNZW1vVHlwZSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBvdXRlclByb3BUeXBlcyA9IG91dGVyTWVtb1R5cGUgJiYgb3V0ZXJNZW1vVHlwZS5wcm9wVHlwZXM7XG5cbiAgICAgIGlmIChvdXRlclByb3BUeXBlcykge1xuICAgICAgICBjaGVja1Byb3BUeXBlcyhvdXRlclByb3BUeXBlcywgbmV4dFByb3BzLCAvLyBSZXNvbHZlZCAoU2ltcGxlTWVtb0NvbXBvbmVudCBoYXMgbm8gZGVmYXVsdFByb3BzKVxuICAgICAgICAncHJvcCcsIGdldENvbXBvbmVudE5hbWUob3V0ZXJNZW1vVHlwZSksIGdldEN1cnJlbnRGaWJlclN0YWNrSW5EZXYpO1xuICAgICAgfSAvLyBJbm5lciBwcm9wVHlwZXMgd2lsbCBiZSB2YWxpZGF0ZWQgaW4gdGhlIGZ1bmN0aW9uIGNvbXBvbmVudCBwYXRoLlxuXG4gICAgfVxuICB9XG5cbiAgaWYgKGN1cnJlbnQkJDEgIT09IG51bGwpIHtcbiAgICB2YXIgcHJldlByb3BzID0gY3VycmVudCQkMS5tZW1vaXplZFByb3BzO1xuXG4gICAgaWYgKHNoYWxsb3dFcXVhbChwcmV2UHJvcHMsIG5leHRQcm9wcykgJiYgY3VycmVudCQkMS5yZWYgPT09IHdvcmtJblByb2dyZXNzLnJlZiAmJiAoIC8vIFByZXZlbnQgYmFpbG91dCBpZiB0aGUgaW1wbGVtZW50YXRpb24gY2hhbmdlZCBkdWUgdG8gaG90IHJlbG9hZDpcbiAgICB3b3JrSW5Qcm9ncmVzcy50eXBlID09PSBjdXJyZW50JCQxLnR5cGUpKSB7XG4gICAgICBkaWRSZWNlaXZlVXBkYXRlID0gZmFsc2U7XG5cbiAgICAgIGlmICh1cGRhdGVFeHBpcmF0aW9uVGltZSA8IHJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gICAgICAgIHJldHVybiBiYWlsb3V0T25BbHJlYWR5RmluaXNoZWRXb3JrKGN1cnJlbnQkJDEsIHdvcmtJblByb2dyZXNzLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHVwZGF0ZUZ1bmN0aW9uQ29tcG9uZW50KGN1cnJlbnQkJDEsIHdvcmtJblByb2dyZXNzLCBDb21wb25lbnQsIG5leHRQcm9wcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVGcmFnbWVudChjdXJyZW50JCQxLCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpIHtcbiAgdmFyIG5leHRDaGlsZHJlbiA9IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcztcbiAgcmVjb25jaWxlQ2hpbGRyZW4oY3VycmVudCQkMSwgd29ya0luUHJvZ3Jlc3MsIG5leHRDaGlsZHJlbiwgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICByZXR1cm4gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZU1vZGUoY3VycmVudCQkMSwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gIHZhciBuZXh0Q2hpbGRyZW4gPSB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHMuY2hpbGRyZW47XG4gIHJlY29uY2lsZUNoaWxkcmVuKGN1cnJlbnQkJDEsIHdvcmtJblByb2dyZXNzLCBuZXh0Q2hpbGRyZW4sIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgcmV0dXJuIHdvcmtJblByb2dyZXNzLmNoaWxkO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVQcm9maWxlcihjdXJyZW50JCQxLCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpIHtcbiAgaWYgKGVuYWJsZVByb2ZpbGVyVGltZXIpIHtcbiAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gVXBkYXRlO1xuICB9XG5cbiAgdmFyIG5leHRQcm9wcyA9IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcztcbiAgdmFyIG5leHRDaGlsZHJlbiA9IG5leHRQcm9wcy5jaGlsZHJlbjtcbiAgcmVjb25jaWxlQ2hpbGRyZW4oY3VycmVudCQkMSwgd29ya0luUHJvZ3Jlc3MsIG5leHRDaGlsZHJlbiwgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICByZXR1cm4gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG59XG5cbmZ1bmN0aW9uIG1hcmtSZWYoY3VycmVudCQkMSwgd29ya0luUHJvZ3Jlc3MpIHtcbiAgdmFyIHJlZiA9IHdvcmtJblByb2dyZXNzLnJlZjtcblxuICBpZiAoY3VycmVudCQkMSA9PT0gbnVsbCAmJiByZWYgIT09IG51bGwgfHwgY3VycmVudCQkMSAhPT0gbnVsbCAmJiBjdXJyZW50JCQxLnJlZiAhPT0gcmVmKSB7XG4gICAgLy8gU2NoZWR1bGUgYSBSZWYgZWZmZWN0XG4gICAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnIHw9IFJlZjtcbiAgfVxufVxuXG5mdW5jdGlvbiB1cGRhdGVGdW5jdGlvbkNvbXBvbmVudChjdXJyZW50JCQxLCB3b3JrSW5Qcm9ncmVzcywgQ29tcG9uZW50LCBuZXh0UHJvcHMsIHJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gIHtcbiAgICBpZiAod29ya0luUHJvZ3Jlc3MudHlwZSAhPT0gd29ya0luUHJvZ3Jlc3MuZWxlbWVudFR5cGUpIHtcbiAgICAgIC8vIExhenkgY29tcG9uZW50IHByb3BzIGNhbid0IGJlIHZhbGlkYXRlZCBpbiBjcmVhdGVFbGVtZW50XG4gICAgICAvLyBiZWNhdXNlIHRoZXkncmUgb25seSBndWFyYW50ZWVkIHRvIGJlIHJlc29sdmVkIGhlcmUuXG4gICAgICB2YXIgaW5uZXJQcm9wVHlwZXMgPSBDb21wb25lbnQucHJvcFR5cGVzO1xuXG4gICAgICBpZiAoaW5uZXJQcm9wVHlwZXMpIHtcbiAgICAgICAgY2hlY2tQcm9wVHlwZXMoaW5uZXJQcm9wVHlwZXMsIG5leHRQcm9wcywgLy8gUmVzb2x2ZWQgcHJvcHNcbiAgICAgICAgJ3Byb3AnLCBnZXRDb21wb25lbnROYW1lKENvbXBvbmVudCksIGdldEN1cnJlbnRGaWJlclN0YWNrSW5EZXYpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHZhciBjb250ZXh0O1xuXG4gIGlmICghZGlzYWJsZUxlZ2FjeUNvbnRleHQpIHtcbiAgICB2YXIgdW5tYXNrZWRDb250ZXh0ID0gZ2V0VW5tYXNrZWRDb250ZXh0KHdvcmtJblByb2dyZXNzLCBDb21wb25lbnQsIHRydWUpO1xuICAgIGNvbnRleHQgPSBnZXRNYXNrZWRDb250ZXh0KHdvcmtJblByb2dyZXNzLCB1bm1hc2tlZENvbnRleHQpO1xuICB9XG5cbiAgdmFyIG5leHRDaGlsZHJlbjtcbiAgcHJlcGFyZVRvUmVhZENvbnRleHQod29ya0luUHJvZ3Jlc3MsIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcblxuICB7XG4gICAgUmVhY3RDdXJyZW50T3duZXIkMy5jdXJyZW50ID0gd29ya0luUHJvZ3Jlc3M7XG4gICAgc2V0Q3VycmVudFBoYXNlKCdyZW5kZXInKTtcbiAgICBuZXh0Q2hpbGRyZW4gPSByZW5kZXJXaXRoSG9va3MoY3VycmVudCQkMSwgd29ya0luUHJvZ3Jlc3MsIENvbXBvbmVudCwgbmV4dFByb3BzLCBjb250ZXh0LCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG5cbiAgICBpZiAoZGVidWdSZW5kZXJQaGFzZVNpZGVFZmZlY3RzRm9yU3RyaWN0TW9kZSAmJiB3b3JrSW5Qcm9ncmVzcy5tb2RlICYgU3RyaWN0TW9kZSkge1xuICAgICAgLy8gT25seSBkb3VibGUtcmVuZGVyIGNvbXBvbmVudHMgd2l0aCBIb29rc1xuICAgICAgaWYgKHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgIT09IG51bGwpIHtcbiAgICAgICAgbmV4dENoaWxkcmVuID0gcmVuZGVyV2l0aEhvb2tzKGN1cnJlbnQkJDEsIHdvcmtJblByb2dyZXNzLCBDb21wb25lbnQsIG5leHRQcm9wcywgY29udGV4dCwgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHNldEN1cnJlbnRQaGFzZShudWxsKTtcbiAgfVxuXG4gIGlmIChjdXJyZW50JCQxICE9PSBudWxsICYmICFkaWRSZWNlaXZlVXBkYXRlKSB7XG4gICAgYmFpbG91dEhvb2tzKGN1cnJlbnQkJDEsIHdvcmtJblByb2dyZXNzLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gICAgcmV0dXJuIGJhaWxvdXRPbkFscmVhZHlGaW5pc2hlZFdvcmsoY3VycmVudCQkMSwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgfSAvLyBSZWFjdCBEZXZUb29scyByZWFkcyB0aGlzIGZsYWcuXG5cblxuICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gUGVyZm9ybWVkV29yaztcbiAgcmVjb25jaWxlQ2hpbGRyZW4oY3VycmVudCQkMSwgd29ya0luUHJvZ3Jlc3MsIG5leHRDaGlsZHJlbiwgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICByZXR1cm4gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUNsYXNzQ29tcG9uZW50KGN1cnJlbnQkJDEsIHdvcmtJblByb2dyZXNzLCBDb21wb25lbnQsIG5leHRQcm9wcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpIHtcbiAge1xuICAgIGlmICh3b3JrSW5Qcm9ncmVzcy50eXBlICE9PSB3b3JrSW5Qcm9ncmVzcy5lbGVtZW50VHlwZSkge1xuICAgICAgLy8gTGF6eSBjb21wb25lbnQgcHJvcHMgY2FuJ3QgYmUgdmFsaWRhdGVkIGluIGNyZWF0ZUVsZW1lbnRcbiAgICAgIC8vIGJlY2F1c2UgdGhleSdyZSBvbmx5IGd1YXJhbnRlZWQgdG8gYmUgcmVzb2x2ZWQgaGVyZS5cbiAgICAgIHZhciBpbm5lclByb3BUeXBlcyA9IENvbXBvbmVudC5wcm9wVHlwZXM7XG5cbiAgICAgIGlmIChpbm5lclByb3BUeXBlcykge1xuICAgICAgICBjaGVja1Byb3BUeXBlcyhpbm5lclByb3BUeXBlcywgbmV4dFByb3BzLCAvLyBSZXNvbHZlZCBwcm9wc1xuICAgICAgICAncHJvcCcsIGdldENvbXBvbmVudE5hbWUoQ29tcG9uZW50KSwgZ2V0Q3VycmVudEZpYmVyU3RhY2tJbkRldik7XG4gICAgICB9XG4gICAgfVxuICB9IC8vIFB1c2ggY29udGV4dCBwcm92aWRlcnMgZWFybHkgdG8gcHJldmVudCBjb250ZXh0IHN0YWNrIG1pc21hdGNoZXMuXG4gIC8vIER1cmluZyBtb3VudGluZyB3ZSBkb24ndCBrbm93IHRoZSBjaGlsZCBjb250ZXh0IHlldCBhcyB0aGUgaW5zdGFuY2UgZG9lc24ndCBleGlzdC5cbiAgLy8gV2Ugd2lsbCBpbnZhbGlkYXRlIHRoZSBjaGlsZCBjb250ZXh0IGluIGZpbmlzaENsYXNzQ29tcG9uZW50KCkgcmlnaHQgYWZ0ZXIgcmVuZGVyaW5nLlxuXG5cbiAgdmFyIGhhc0NvbnRleHQ7XG5cbiAgaWYgKGlzQ29udGV4dFByb3ZpZGVyKENvbXBvbmVudCkpIHtcbiAgICBoYXNDb250ZXh0ID0gdHJ1ZTtcbiAgICBwdXNoQ29udGV4dFByb3ZpZGVyKHdvcmtJblByb2dyZXNzKTtcbiAgfSBlbHNlIHtcbiAgICBoYXNDb250ZXh0ID0gZmFsc2U7XG4gIH1cblxuICBwcmVwYXJlVG9SZWFkQ29udGV4dCh3b3JrSW5Qcm9ncmVzcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICB2YXIgaW5zdGFuY2UgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGU7XG4gIHZhciBzaG91bGRVcGRhdGU7XG5cbiAgaWYgKGluc3RhbmNlID09PSBudWxsKSB7XG4gICAgaWYgKGN1cnJlbnQkJDEgIT09IG51bGwpIHtcbiAgICAgIC8vIEFuIGNsYXNzIGNvbXBvbmVudCB3aXRob3V0IGFuIGluc3RhbmNlIG9ubHkgbW91bnRzIGlmIGl0IHN1c3BlbmRlZFxuICAgICAgLy8gaW5zaWRlIGEgbm9uLSBjb25jdXJyZW50IHRyZWUsIGluIGFuIGluY29uc2lzdGVudCBzdGF0ZS4gV2Ugd2FudCB0b1xuICAgICAgLy8gdHJlZSBpdCBsaWtlIGEgbmV3IG1vdW50LCBldmVuIHRob3VnaCBhbiBlbXB0eSB2ZXJzaW9uIG9mIGl0IGFscmVhZHlcbiAgICAgIC8vIGNvbW1pdHRlZC4gRGlzY29ubmVjdCB0aGUgYWx0ZXJuYXRlIHBvaW50ZXJzLlxuICAgICAgY3VycmVudCQkMS5hbHRlcm5hdGUgPSBudWxsO1xuICAgICAgd29ya0luUHJvZ3Jlc3MuYWx0ZXJuYXRlID0gbnVsbDsgLy8gU2luY2UgdGhpcyBpcyBjb25jZXB0dWFsbHkgYSBuZXcgZmliZXIsIHNjaGVkdWxlIGEgUGxhY2VtZW50IGVmZmVjdFxuXG4gICAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gUGxhY2VtZW50O1xuICAgIH0gLy8gSW4gdGhlIGluaXRpYWwgcGFzcyB3ZSBtaWdodCBuZWVkIHRvIGNvbnN0cnVjdCB0aGUgaW5zdGFuY2UuXG5cblxuICAgIGNvbnN0cnVjdENsYXNzSW5zdGFuY2Uod29ya0luUHJvZ3Jlc3MsIENvbXBvbmVudCwgbmV4dFByb3BzLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gICAgbW91bnRDbGFzc0luc3RhbmNlKHdvcmtJblByb2dyZXNzLCBDb21wb25lbnQsIG5leHRQcm9wcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICAgIHNob3VsZFVwZGF0ZSA9IHRydWU7XG4gIH0gZWxzZSBpZiAoY3VycmVudCQkMSA9PT0gbnVsbCkge1xuICAgIC8vIEluIGEgcmVzdW1lLCB3ZSdsbCBhbHJlYWR5IGhhdmUgYW4gaW5zdGFuY2Ugd2UgY2FuIHJldXNlLlxuICAgIHNob3VsZFVwZGF0ZSA9IHJlc3VtZU1vdW50Q2xhc3NJbnN0YW5jZSh3b3JrSW5Qcm9ncmVzcywgQ29tcG9uZW50LCBuZXh0UHJvcHMsIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgfSBlbHNlIHtcbiAgICBzaG91bGRVcGRhdGUgPSB1cGRhdGVDbGFzc0luc3RhbmNlKGN1cnJlbnQkJDEsIHdvcmtJblByb2dyZXNzLCBDb21wb25lbnQsIG5leHRQcm9wcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICB9XG5cbiAgdmFyIG5leHRVbml0T2ZXb3JrID0gZmluaXNoQ2xhc3NDb21wb25lbnQoY3VycmVudCQkMSwgd29ya0luUHJvZ3Jlc3MsIENvbXBvbmVudCwgc2hvdWxkVXBkYXRlLCBoYXNDb250ZXh0LCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG5cbiAge1xuICAgIHZhciBpbnN0ID0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlO1xuXG4gICAgaWYgKGluc3QucHJvcHMgIT09IG5leHRQcm9wcykge1xuICAgICAgIWRpZFdhcm5BYm91dFJlYXNzaWduaW5nUHJvcHMgPyB3YXJuaW5nJDEoZmFsc2UsICdJdCBsb29rcyBsaWtlICVzIGlzIHJlYXNzaWduaW5nIGl0cyBvd24gYHRoaXMucHJvcHNgIHdoaWxlIHJlbmRlcmluZy4gJyArICdUaGlzIGlzIG5vdCBzdXBwb3J0ZWQgYW5kIGNhbiBsZWFkIHRvIGNvbmZ1c2luZyBidWdzLicsIGdldENvbXBvbmVudE5hbWUod29ya0luUHJvZ3Jlc3MudHlwZSkgfHwgJ2EgY29tcG9uZW50JykgOiB2b2lkIDA7XG4gICAgICBkaWRXYXJuQWJvdXRSZWFzc2lnbmluZ1Byb3BzID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmV4dFVuaXRPZldvcms7XG59XG5cbmZ1bmN0aW9uIGZpbmlzaENsYXNzQ29tcG9uZW50KGN1cnJlbnQkJDEsIHdvcmtJblByb2dyZXNzLCBDb21wb25lbnQsIHNob3VsZFVwZGF0ZSwgaGFzQ29udGV4dCwgcmVuZGVyRXhwaXJhdGlvblRpbWUpIHtcbiAgLy8gUmVmcyBzaG91bGQgdXBkYXRlIGV2ZW4gaWYgc2hvdWxkQ29tcG9uZW50VXBkYXRlIHJldHVybnMgZmFsc2VcbiAgbWFya1JlZihjdXJyZW50JCQxLCB3b3JrSW5Qcm9ncmVzcyk7XG4gIHZhciBkaWRDYXB0dXJlRXJyb3IgPSAod29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnICYgRGlkQ2FwdHVyZSkgIT09IE5vRWZmZWN0O1xuXG4gIGlmICghc2hvdWxkVXBkYXRlICYmICFkaWRDYXB0dXJlRXJyb3IpIHtcbiAgICAvLyBDb250ZXh0IHByb3ZpZGVycyBzaG91bGQgZGVmZXIgdG8gc0NVIGZvciByZW5kZXJpbmdcbiAgICBpZiAoaGFzQ29udGV4dCkge1xuICAgICAgaW52YWxpZGF0ZUNvbnRleHRQcm92aWRlcih3b3JrSW5Qcm9ncmVzcywgQ29tcG9uZW50LCBmYWxzZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGJhaWxvdXRPbkFscmVhZHlGaW5pc2hlZFdvcmsoY3VycmVudCQkMSwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgfVxuXG4gIHZhciBpbnN0YW5jZSA9IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZTsgLy8gUmVyZW5kZXJcblxuICBSZWFjdEN1cnJlbnRPd25lciQzLmN1cnJlbnQgPSB3b3JrSW5Qcm9ncmVzcztcbiAgdmFyIG5leHRDaGlsZHJlbjtcblxuICBpZiAoZGlkQ2FwdHVyZUVycm9yICYmIHR5cGVvZiBDb21wb25lbnQuZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgLy8gSWYgd2UgY2FwdHVyZWQgYW4gZXJyb3IsIGJ1dCBnZXREZXJpdmVkU3RhdGVGcm9tIGNhdGNoIGlzIG5vdCBkZWZpbmVkLFxuICAgIC8vIHVubW91bnQgYWxsIHRoZSBjaGlsZHJlbi4gY29tcG9uZW50RGlkQ2F0Y2ggd2lsbCBzY2hlZHVsZSBhbiB1cGRhdGUgdG9cbiAgICAvLyByZS1yZW5kZXIgYSBmYWxsYmFjay4gVGhpcyBpcyB0ZW1wb3JhcnkgdW50aWwgd2UgbWlncmF0ZSBldmVyeW9uZSB0b1xuICAgIC8vIHRoZSBuZXcgQVBJLlxuICAgIC8vIFRPRE86IFdhcm4gaW4gYSBmdXR1cmUgcmVsZWFzZS5cbiAgICBuZXh0Q2hpbGRyZW4gPSBudWxsO1xuXG4gICAgaWYgKGVuYWJsZVByb2ZpbGVyVGltZXIpIHtcbiAgICAgIHN0b3BQcm9maWxlclRpbWVySWZSdW5uaW5nKHdvcmtJblByb2dyZXNzKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAge1xuICAgICAgc2V0Q3VycmVudFBoYXNlKCdyZW5kZXInKTtcbiAgICAgIG5leHRDaGlsZHJlbiA9IGluc3RhbmNlLnJlbmRlcigpO1xuXG4gICAgICBpZiAoZGVidWdSZW5kZXJQaGFzZVNpZGVFZmZlY3RzRm9yU3RyaWN0TW9kZSAmJiB3b3JrSW5Qcm9ncmVzcy5tb2RlICYgU3RyaWN0TW9kZSkge1xuICAgICAgICBpbnN0YW5jZS5yZW5kZXIoKTtcbiAgICAgIH1cblxuICAgICAgc2V0Q3VycmVudFBoYXNlKG51bGwpO1xuICAgIH1cbiAgfSAvLyBSZWFjdCBEZXZUb29scyByZWFkcyB0aGlzIGZsYWcuXG5cblxuICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gUGVyZm9ybWVkV29yaztcblxuICBpZiAoY3VycmVudCQkMSAhPT0gbnVsbCAmJiBkaWRDYXB0dXJlRXJyb3IpIHtcbiAgICAvLyBJZiB3ZSdyZSByZWNvdmVyaW5nIGZyb20gYW4gZXJyb3IsIHJlY29uY2lsZSB3aXRob3V0IHJldXNpbmcgYW55IG9mXG4gICAgLy8gdGhlIGV4aXN0aW5nIGNoaWxkcmVuLiBDb25jZXB0dWFsbHksIHRoZSBub3JtYWwgY2hpbGRyZW4gYW5kIHRoZSBjaGlsZHJlblxuICAgIC8vIHRoYXQgYXJlIHNob3duIG9uIGVycm9yIGFyZSB0d28gZGlmZmVyZW50IHNldHMsIHNvIHdlIHNob3VsZG4ndCByZXVzZVxuICAgIC8vIG5vcm1hbCBjaGlsZHJlbiBldmVuIGlmIHRoZWlyIGlkZW50aXRpZXMgbWF0Y2guXG4gICAgZm9yY2VVbm1vdW50Q3VycmVudEFuZFJlY29uY2lsZShjdXJyZW50JCQxLCB3b3JrSW5Qcm9ncmVzcywgbmV4dENoaWxkcmVuLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gIH0gZWxzZSB7XG4gICAgcmVjb25jaWxlQ2hpbGRyZW4oY3VycmVudCQkMSwgd29ya0luUHJvZ3Jlc3MsIG5leHRDaGlsZHJlbiwgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICB9IC8vIE1lbW9pemUgc3RhdGUgdXNpbmcgdGhlIHZhbHVlcyB3ZSBqdXN0IHVzZWQgdG8gcmVuZGVyLlxuICAvLyBUT0RPOiBSZXN0cnVjdHVyZSBzbyB3ZSBuZXZlciByZWFkIHZhbHVlcyBmcm9tIHRoZSBpbnN0YW5jZS5cblxuXG4gIHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPSBpbnN0YW5jZS5zdGF0ZTsgLy8gVGhlIGNvbnRleHQgbWlnaHQgaGF2ZSBjaGFuZ2VkIHNvIHdlIG5lZWQgdG8gcmVjYWxjdWxhdGUgaXQuXG5cbiAgaWYgKGhhc0NvbnRleHQpIHtcbiAgICBpbnZhbGlkYXRlQ29udGV4dFByb3ZpZGVyKHdvcmtJblByb2dyZXNzLCBDb21wb25lbnQsIHRydWUpO1xuICB9XG5cbiAgcmV0dXJuIHdvcmtJblByb2dyZXNzLmNoaWxkO1xufVxuXG5mdW5jdGlvbiBwdXNoSG9zdFJvb3RDb250ZXh0KHdvcmtJblByb2dyZXNzKSB7XG4gIHZhciByb290ID0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlO1xuXG4gIGlmIChyb290LnBlbmRpbmdDb250ZXh0KSB7XG4gICAgcHVzaFRvcExldmVsQ29udGV4dE9iamVjdCh3b3JrSW5Qcm9ncmVzcywgcm9vdC5wZW5kaW5nQ29udGV4dCwgcm9vdC5wZW5kaW5nQ29udGV4dCAhPT0gcm9vdC5jb250ZXh0KTtcbiAgfSBlbHNlIGlmIChyb290LmNvbnRleHQpIHtcbiAgICAvLyBTaG91bGQgYWx3YXlzIGJlIHNldFxuICAgIHB1c2hUb3BMZXZlbENvbnRleHRPYmplY3Qod29ya0luUHJvZ3Jlc3MsIHJvb3QuY29udGV4dCwgZmFsc2UpO1xuICB9XG5cbiAgcHVzaEhvc3RDb250YWluZXIod29ya0luUHJvZ3Jlc3MsIHJvb3QuY29udGFpbmVySW5mbyk7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUhvc3RSb290KGN1cnJlbnQkJDEsIHdvcmtJblByb2dyZXNzLCByZW5kZXJFeHBpcmF0aW9uVGltZSkge1xuICBwdXNoSG9zdFJvb3RDb250ZXh0KHdvcmtJblByb2dyZXNzKTtcbiAgdmFyIHVwZGF0ZVF1ZXVlID0gd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWU7XG5cbiAgaWYgKCEodXBkYXRlUXVldWUgIT09IG51bGwpKSB7XG4gICAge1xuICAgICAgdGhyb3cgRXJyb3IoXCJJZiB0aGUgcm9vdCBkb2VzIG5vdCBoYXZlIGFuIHVwZGF0ZVF1ZXVlLCB3ZSBzaG91bGQgaGF2ZSBhbHJlYWR5IGJhaWxlZCBvdXQuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCIpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBuZXh0UHJvcHMgPSB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHM7XG4gIHZhciBwcmV2U3RhdGUgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlO1xuICB2YXIgcHJldkNoaWxkcmVuID0gcHJldlN0YXRlICE9PSBudWxsID8gcHJldlN0YXRlLmVsZW1lbnQgOiBudWxsO1xuICBwcm9jZXNzVXBkYXRlUXVldWUod29ya0luUHJvZ3Jlc3MsIHVwZGF0ZVF1ZXVlLCBuZXh0UHJvcHMsIG51bGwsIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgdmFyIG5leHRTdGF0ZSA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGU7IC8vIENhdXRpb246IFJlYWN0IERldlRvb2xzIGN1cnJlbnRseSBkZXBlbmRzIG9uIHRoaXMgcHJvcGVydHlcbiAgLy8gYmVpbmcgY2FsbGVkIFwiZWxlbWVudFwiLlxuXG4gIHZhciBuZXh0Q2hpbGRyZW4gPSBuZXh0U3RhdGUuZWxlbWVudDtcblxuICBpZiAobmV4dENoaWxkcmVuID09PSBwcmV2Q2hpbGRyZW4pIHtcbiAgICAvLyBJZiB0aGUgc3RhdGUgaXMgdGhlIHNhbWUgYXMgYmVmb3JlLCB0aGF0J3MgYSBiYWlsb3V0IGJlY2F1c2Ugd2UgaGFkXG4gICAgLy8gbm8gd29yayB0aGF0IGV4cGlyZXMgYXQgdGhpcyB0aW1lLlxuICAgIHJlc2V0SHlkcmF0aW9uU3RhdGUoKTtcbiAgICByZXR1cm4gYmFpbG91dE9uQWxyZWFkeUZpbmlzaGVkV29yayhjdXJyZW50JCQxLCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICB9XG5cbiAgdmFyIHJvb3QgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGU7XG5cbiAgaWYgKHJvb3QuaHlkcmF0ZSAmJiBlbnRlckh5ZHJhdGlvblN0YXRlKHdvcmtJblByb2dyZXNzKSkge1xuICAgIC8vIElmIHdlIGRvbid0IGhhdmUgYW55IGN1cnJlbnQgY2hpbGRyZW4gdGhpcyBtaWdodCBiZSB0aGUgZmlyc3QgcGFzcy5cbiAgICAvLyBXZSBhbHdheXMgdHJ5IHRvIGh5ZHJhdGUuIElmIHRoaXMgaXNuJ3QgYSBoeWRyYXRpb24gcGFzcyB0aGVyZSB3b24ndFxuICAgIC8vIGJlIGFueSBjaGlsZHJlbiB0byBoeWRyYXRlIHdoaWNoIGlzIGVmZmVjdGl2ZWx5IHRoZSBzYW1lIHRoaW5nIGFzXG4gICAgLy8gbm90IGh5ZHJhdGluZy5cbiAgICB2YXIgY2hpbGQgPSBtb3VudENoaWxkRmliZXJzKHdvcmtJblByb2dyZXNzLCBudWxsLCBuZXh0Q2hpbGRyZW4sIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgICB3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IGNoaWxkO1xuICAgIHZhciBub2RlID0gY2hpbGQ7XG5cbiAgICB3aGlsZSAobm9kZSkge1xuICAgICAgLy8gTWFyayBlYWNoIGNoaWxkIGFzIGh5ZHJhdGluZy4gVGhpcyBpcyBhIGZhc3QgcGF0aCB0byBrbm93IHdoZXRoZXIgdGhpc1xuICAgICAgLy8gdHJlZSBpcyBwYXJ0IG9mIGEgaHlkcmF0aW5nIHRyZWUuIFRoaXMgaXMgdXNlZCB0byBkZXRlcm1pbmUgaWYgYSBjaGlsZFxuICAgICAgLy8gbm9kZSBoYXMgZnVsbHkgbW91bnRlZCB5ZXQsIGFuZCBmb3Igc2NoZWR1bGluZyBldmVudCByZXBsYXlpbmcuXG4gICAgICAvLyBDb25jZXB0dWFsbHkgdGhpcyBpcyBzaW1pbGFyIHRvIFBsYWNlbWVudCBpbiB0aGF0IGEgbmV3IHN1YnRyZWUgaXNcbiAgICAgIC8vIGluc2VydGVkIGludG8gdGhlIFJlYWN0IHRyZWUgaGVyZS4gSXQganVzdCBoYXBwZW5zIHRvIG5vdCBuZWVkIERPTVxuICAgICAgLy8gbXV0YXRpb25zIGJlY2F1c2UgaXQgYWxyZWFkeSBleGlzdHMuXG4gICAgICBub2RlLmVmZmVjdFRhZyA9IG5vZGUuZWZmZWN0VGFnICYgflBsYWNlbWVudCB8IEh5ZHJhdGluZztcbiAgICAgIG5vZGUgPSBub2RlLnNpYmxpbmc7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIE90aGVyd2lzZSByZXNldCBoeWRyYXRpb24gc3RhdGUgaW4gY2FzZSB3ZSBhYm9ydGVkIGFuZCByZXN1bWVkIGFub3RoZXJcbiAgICAvLyByb290LlxuICAgIHJlY29uY2lsZUNoaWxkcmVuKGN1cnJlbnQkJDEsIHdvcmtJblByb2dyZXNzLCBuZXh0Q2hpbGRyZW4sIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgICByZXNldEh5ZHJhdGlvblN0YXRlKCk7XG4gIH1cblxuICByZXR1cm4gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUhvc3RDb21wb25lbnQoY3VycmVudCQkMSwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gIHB1c2hIb3N0Q29udGV4dCh3b3JrSW5Qcm9ncmVzcyk7XG5cbiAgaWYgKGN1cnJlbnQkJDEgPT09IG51bGwpIHtcbiAgICB0cnlUb0NsYWltTmV4dEh5ZHJhdGFibGVJbnN0YW5jZSh3b3JrSW5Qcm9ncmVzcyk7XG4gIH1cblxuICB2YXIgdHlwZSA9IHdvcmtJblByb2dyZXNzLnR5cGU7XG4gIHZhciBuZXh0UHJvcHMgPSB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHM7XG4gIHZhciBwcmV2UHJvcHMgPSBjdXJyZW50JCQxICE9PSBudWxsID8gY3VycmVudCQkMS5tZW1vaXplZFByb3BzIDogbnVsbDtcbiAgdmFyIG5leHRDaGlsZHJlbiA9IG5leHRQcm9wcy5jaGlsZHJlbjtcbiAgdmFyIGlzRGlyZWN0VGV4dENoaWxkID0gc2hvdWxkU2V0VGV4dENvbnRlbnQodHlwZSwgbmV4dFByb3BzKTtcblxuICBpZiAoaXNEaXJlY3RUZXh0Q2hpbGQpIHtcbiAgICAvLyBXZSBzcGVjaWFsIGNhc2UgYSBkaXJlY3QgdGV4dCBjaGlsZCBvZiBhIGhvc3Qgbm9kZS4gVGhpcyBpcyBhIGNvbW1vblxuICAgIC8vIGNhc2UuIFdlIHdvbid0IGhhbmRsZSBpdCBhcyBhIHJlaWZpZWQgY2hpbGQuIFdlIHdpbGwgaW5zdGVhZCBoYW5kbGVcbiAgICAvLyB0aGlzIGluIHRoZSBob3N0IGVudmlyb25tZW50IHRoYXQgYWxzbyBoYXZlIGFjY2VzcyB0byB0aGlzIHByb3AuIFRoYXRcbiAgICAvLyBhdm9pZHMgYWxsb2NhdGluZyBhbm90aGVyIEhvc3RUZXh0IGZpYmVyIGFuZCB0cmF2ZXJzaW5nIGl0LlxuICAgIG5leHRDaGlsZHJlbiA9IG51bGw7XG4gIH0gZWxzZSBpZiAocHJldlByb3BzICE9PSBudWxsICYmIHNob3VsZFNldFRleHRDb250ZW50KHR5cGUsIHByZXZQcm9wcykpIHtcbiAgICAvLyBJZiB3ZSdyZSBzd2l0Y2hpbmcgZnJvbSBhIGRpcmVjdCB0ZXh0IGNoaWxkIHRvIGEgbm9ybWFsIGNoaWxkLCBvciB0b1xuICAgIC8vIGVtcHR5LCB3ZSBuZWVkIHRvIHNjaGVkdWxlIHRoZSB0ZXh0IGNvbnRlbnQgdG8gYmUgcmVzZXQuXG4gICAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnIHw9IENvbnRlbnRSZXNldDtcbiAgfVxuXG4gIG1hcmtSZWYoY3VycmVudCQkMSwgd29ya0luUHJvZ3Jlc3MpOyAvLyBDaGVjayB0aGUgaG9zdCBjb25maWcgdG8gc2VlIGlmIHRoZSBjaGlsZHJlbiBhcmUgb2Zmc2NyZWVuL2hpZGRlbi5cblxuICBpZiAod29ya0luUHJvZ3Jlc3MubW9kZSAmIENvbmN1cnJlbnRNb2RlICYmIHJlbmRlckV4cGlyYXRpb25UaW1lICE9PSBOZXZlciAmJiBzaG91bGREZXByaW9yaXRpemVTdWJ0cmVlKHR5cGUsIG5leHRQcm9wcykpIHtcbiAgICBpZiAoZW5hYmxlU2NoZWR1bGVyVHJhY2luZykge1xuICAgICAgbWFya1NwYXduZWRXb3JrKE5ldmVyKTtcbiAgICB9IC8vIFNjaGVkdWxlIHRoaXMgZmliZXIgdG8gcmUtcmVuZGVyIGF0IG9mZnNjcmVlbiBwcmlvcml0eS4gVGhlbiBiYWlsb3V0LlxuXG5cbiAgICB3b3JrSW5Qcm9ncmVzcy5leHBpcmF0aW9uVGltZSA9IHdvcmtJblByb2dyZXNzLmNoaWxkRXhwaXJhdGlvblRpbWUgPSBOZXZlcjtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJlY29uY2lsZUNoaWxkcmVuKGN1cnJlbnQkJDEsIHdvcmtJblByb2dyZXNzLCBuZXh0Q2hpbGRyZW4sIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgcmV0dXJuIHdvcmtJblByb2dyZXNzLmNoaWxkO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVIb3N0VGV4dChjdXJyZW50JCQxLCB3b3JrSW5Qcm9ncmVzcykge1xuICBpZiAoY3VycmVudCQkMSA9PT0gbnVsbCkge1xuICAgIHRyeVRvQ2xhaW1OZXh0SHlkcmF0YWJsZUluc3RhbmNlKHdvcmtJblByb2dyZXNzKTtcbiAgfSAvLyBOb3RoaW5nIHRvIGRvIGhlcmUuIFRoaXMgaXMgdGVybWluYWwuIFdlJ2xsIGRvIHRoZSBjb21wbGV0aW9uIHN0ZXBcbiAgLy8gaW1tZWRpYXRlbHkgYWZ0ZXIuXG5cblxuICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gbW91bnRMYXp5Q29tcG9uZW50KF9jdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgZWxlbWVudFR5cGUsIHVwZGF0ZUV4cGlyYXRpb25UaW1lLCByZW5kZXJFeHBpcmF0aW9uVGltZSkge1xuICBpZiAoX2N1cnJlbnQgIT09IG51bGwpIHtcbiAgICAvLyBBbiBsYXp5IGNvbXBvbmVudCBvbmx5IG1vdW50cyBpZiBpdCBzdXNwZW5kZWQgaW5zaWRlIGEgbm9uLVxuICAgIC8vIGNvbmN1cnJlbnQgdHJlZSwgaW4gYW4gaW5jb25zaXN0ZW50IHN0YXRlLiBXZSB3YW50IHRvIHRyZWF0IGl0IGxpa2VcbiAgICAvLyBhIG5ldyBtb3VudCwgZXZlbiB0aG91Z2ggYW4gZW1wdHkgdmVyc2lvbiBvZiBpdCBhbHJlYWR5IGNvbW1pdHRlZC5cbiAgICAvLyBEaXNjb25uZWN0IHRoZSBhbHRlcm5hdGUgcG9pbnRlcnMuXG4gICAgX2N1cnJlbnQuYWx0ZXJuYXRlID0gbnVsbDtcbiAgICB3b3JrSW5Qcm9ncmVzcy5hbHRlcm5hdGUgPSBudWxsOyAvLyBTaW5jZSB0aGlzIGlzIGNvbmNlcHR1YWxseSBhIG5ldyBmaWJlciwgc2NoZWR1bGUgYSBQbGFjZW1lbnQgZWZmZWN0XG5cbiAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gUGxhY2VtZW50O1xuICB9XG5cbiAgdmFyIHByb3BzID0gd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzOyAvLyBXZSBjYW4ndCBzdGFydCBhIFVzZXIgVGltaW5nIG1lYXN1cmVtZW50IHdpdGggY29ycmVjdCBsYWJlbCB5ZXQuXG4gIC8vIENhbmNlbCBhbmQgcmVzdW1lIHJpZ2h0IGFmdGVyIHdlIGtub3cgdGhlIHRhZy5cblxuICBjYW5jZWxXb3JrVGltZXIod29ya0luUHJvZ3Jlc3MpO1xuICB2YXIgQ29tcG9uZW50ID0gcmVhZExhenlDb21wb25lbnRUeXBlKGVsZW1lbnRUeXBlKTsgLy8gU3RvcmUgdGhlIHVud3JhcHBlZCBjb21wb25lbnQgaW4gdGhlIHR5cGUuXG5cbiAgd29ya0luUHJvZ3Jlc3MudHlwZSA9IENvbXBvbmVudDtcbiAgdmFyIHJlc29sdmVkVGFnID0gd29ya0luUHJvZ3Jlc3MudGFnID0gcmVzb2x2ZUxhenlDb21wb25lbnRUYWcoQ29tcG9uZW50KTtcbiAgc3RhcnRXb3JrVGltZXIod29ya0luUHJvZ3Jlc3MpO1xuICB2YXIgcmVzb2x2ZWRQcm9wcyA9IHJlc29sdmVEZWZhdWx0UHJvcHMoQ29tcG9uZW50LCBwcm9wcyk7XG4gIHZhciBjaGlsZDtcblxuICBzd2l0Y2ggKHJlc29sdmVkVGFnKSB7XG4gICAgY2FzZSBGdW5jdGlvbkNvbXBvbmVudDpcbiAgICAgIHtcbiAgICAgICAge1xuICAgICAgICAgIHZhbGlkYXRlRnVuY3Rpb25Db21wb25lbnRJbkRldih3b3JrSW5Qcm9ncmVzcywgQ29tcG9uZW50KTtcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy50eXBlID0gQ29tcG9uZW50ID0gcmVzb2x2ZUZ1bmN0aW9uRm9ySG90UmVsb2FkaW5nKENvbXBvbmVudCk7XG4gICAgICAgIH1cblxuICAgICAgICBjaGlsZCA9IHVwZGF0ZUZ1bmN0aW9uQ29tcG9uZW50KG51bGwsIHdvcmtJblByb2dyZXNzLCBDb21wb25lbnQsIHJlc29sdmVkUHJvcHMsIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICBjYXNlIENsYXNzQ29tcG9uZW50OlxuICAgICAge1xuICAgICAgICB7XG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MudHlwZSA9IENvbXBvbmVudCA9IHJlc29sdmVDbGFzc0ZvckhvdFJlbG9hZGluZyhDb21wb25lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgY2hpbGQgPSB1cGRhdGVDbGFzc0NvbXBvbmVudChudWxsLCB3b3JrSW5Qcm9ncmVzcywgQ29tcG9uZW50LCByZXNvbHZlZFByb3BzLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgY2FzZSBGb3J3YXJkUmVmOlxuICAgICAge1xuICAgICAgICB7XG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MudHlwZSA9IENvbXBvbmVudCA9IHJlc29sdmVGb3J3YXJkUmVmRm9ySG90UmVsb2FkaW5nKENvbXBvbmVudCk7XG4gICAgICAgIH1cblxuICAgICAgICBjaGlsZCA9IHVwZGF0ZUZvcndhcmRSZWYobnVsbCwgd29ya0luUHJvZ3Jlc3MsIENvbXBvbmVudCwgcmVzb2x2ZWRQcm9wcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgIGNhc2UgTWVtb0NvbXBvbmVudDpcbiAgICAgIHtcbiAgICAgICAge1xuICAgICAgICAgIGlmICh3b3JrSW5Qcm9ncmVzcy50eXBlICE9PSB3b3JrSW5Qcm9ncmVzcy5lbGVtZW50VHlwZSkge1xuICAgICAgICAgICAgdmFyIG91dGVyUHJvcFR5cGVzID0gQ29tcG9uZW50LnByb3BUeXBlcztcblxuICAgICAgICAgICAgaWYgKG91dGVyUHJvcFR5cGVzKSB7XG4gICAgICAgICAgICAgIGNoZWNrUHJvcFR5cGVzKG91dGVyUHJvcFR5cGVzLCByZXNvbHZlZFByb3BzLCAvLyBSZXNvbHZlZCBmb3Igb3V0ZXIgb25seVxuICAgICAgICAgICAgICAncHJvcCcsIGdldENvbXBvbmVudE5hbWUoQ29tcG9uZW50KSwgZ2V0Q3VycmVudEZpYmVyU3RhY2tJbkRldik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY2hpbGQgPSB1cGRhdGVNZW1vQ29tcG9uZW50KG51bGwsIHdvcmtJblByb2dyZXNzLCBDb21wb25lbnQsIHJlc29sdmVEZWZhdWx0UHJvcHMoQ29tcG9uZW50LnR5cGUsIHJlc29sdmVkUHJvcHMpLCAvLyBUaGUgaW5uZXIgdHlwZSBjYW4gaGF2ZSBkZWZhdWx0cyB0b29cbiAgICAgICAgdXBkYXRlRXhwaXJhdGlvblRpbWUsIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICBkZWZhdWx0OlxuICAgICAge1xuICAgICAgICB2YXIgaGludCA9ICcnO1xuXG4gICAgICAgIHtcbiAgICAgICAgICBpZiAoQ29tcG9uZW50ICE9PSBudWxsICYmIHR5cGVvZiBDb21wb25lbnQgPT09ICdvYmplY3QnICYmIENvbXBvbmVudC4kJHR5cGVvZiA9PT0gUkVBQ1RfTEFaWV9UWVBFKSB7XG4gICAgICAgICAgICBoaW50ID0gJyBEaWQgeW91IHdyYXAgYSBjb21wb25lbnQgaW4gUmVhY3QubGF6eSgpIG1vcmUgdGhhbiBvbmNlPyc7XG4gICAgICAgICAgfVxuICAgICAgICB9IC8vIFRoaXMgbWVzc2FnZSBpbnRlbnRpb25hbGx5IGRvZXNuJ3QgbWVudGlvbiBGb3J3YXJkUmVmIG9yIE1lbW9Db21wb25lbnRcbiAgICAgICAgLy8gYmVjYXVzZSB0aGUgZmFjdCB0aGF0IGl0J3MgYSBzZXBhcmF0ZSB0eXBlIG9mIHdvcmsgaXMgYW5cbiAgICAgICAgLy8gaW1wbGVtZW50YXRpb24gZGV0YWlsLlxuXG5cbiAgICAgICAge1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKFwiRWxlbWVudCB0eXBlIGlzIGludmFsaWQuIFJlY2VpdmVkIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvOiBcIiArIENvbXBvbmVudCArIFwiLiBMYXp5IGVsZW1lbnQgdHlwZSBtdXN0IHJlc29sdmUgdG8gYSBjbGFzcyBvciBmdW5jdGlvbi5cIiArIGhpbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICB9XG5cbiAgcmV0dXJuIGNoaWxkO1xufVxuXG5mdW5jdGlvbiBtb3VudEluY29tcGxldGVDbGFzc0NvbXBvbmVudChfY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIENvbXBvbmVudCwgbmV4dFByb3BzLCByZW5kZXJFeHBpcmF0aW9uVGltZSkge1xuICBpZiAoX2N1cnJlbnQgIT09IG51bGwpIHtcbiAgICAvLyBBbiBpbmNvbXBsZXRlIGNvbXBvbmVudCBvbmx5IG1vdW50cyBpZiBpdCBzdXNwZW5kZWQgaW5zaWRlIGEgbm9uLVxuICAgIC8vIGNvbmN1cnJlbnQgdHJlZSwgaW4gYW4gaW5jb25zaXN0ZW50IHN0YXRlLiBXZSB3YW50IHRvIHRyZWF0IGl0IGxpa2VcbiAgICAvLyBhIG5ldyBtb3VudCwgZXZlbiB0aG91Z2ggYW4gZW1wdHkgdmVyc2lvbiBvZiBpdCBhbHJlYWR5IGNvbW1pdHRlZC5cbiAgICAvLyBEaXNjb25uZWN0IHRoZSBhbHRlcm5hdGUgcG9pbnRlcnMuXG4gICAgX2N1cnJlbnQuYWx0ZXJuYXRlID0gbnVsbDtcbiAgICB3b3JrSW5Qcm9ncmVzcy5hbHRlcm5hdGUgPSBudWxsOyAvLyBTaW5jZSB0aGlzIGlzIGNvbmNlcHR1YWxseSBhIG5ldyBmaWJlciwgc2NoZWR1bGUgYSBQbGFjZW1lbnQgZWZmZWN0XG5cbiAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gUGxhY2VtZW50O1xuICB9IC8vIFByb21vdGUgdGhlIGZpYmVyIHRvIGEgY2xhc3MgYW5kIHRyeSByZW5kZXJpbmcgYWdhaW4uXG5cblxuICB3b3JrSW5Qcm9ncmVzcy50YWcgPSBDbGFzc0NvbXBvbmVudDsgLy8gVGhlIHJlc3Qgb2YgdGhpcyBmdW5jdGlvbiBpcyBhIGZvcmsgb2YgYHVwZGF0ZUNsYXNzQ29tcG9uZW50YFxuICAvLyBQdXNoIGNvbnRleHQgcHJvdmlkZXJzIGVhcmx5IHRvIHByZXZlbnQgY29udGV4dCBzdGFjayBtaXNtYXRjaGVzLlxuICAvLyBEdXJpbmcgbW91bnRpbmcgd2UgZG9uJ3Qga25vdyB0aGUgY2hpbGQgY29udGV4dCB5ZXQgYXMgdGhlIGluc3RhbmNlIGRvZXNuJ3QgZXhpc3QuXG4gIC8vIFdlIHdpbGwgaW52YWxpZGF0ZSB0aGUgY2hpbGQgY29udGV4dCBpbiBmaW5pc2hDbGFzc0NvbXBvbmVudCgpIHJpZ2h0IGFmdGVyIHJlbmRlcmluZy5cblxuICB2YXIgaGFzQ29udGV4dDtcblxuICBpZiAoaXNDb250ZXh0UHJvdmlkZXIoQ29tcG9uZW50KSkge1xuICAgIGhhc0NvbnRleHQgPSB0cnVlO1xuICAgIHB1c2hDb250ZXh0UHJvdmlkZXIod29ya0luUHJvZ3Jlc3MpO1xuICB9IGVsc2Uge1xuICAgIGhhc0NvbnRleHQgPSBmYWxzZTtcbiAgfVxuXG4gIHByZXBhcmVUb1JlYWRDb250ZXh0KHdvcmtJblByb2dyZXNzLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gIGNvbnN0cnVjdENsYXNzSW5zdGFuY2Uod29ya0luUHJvZ3Jlc3MsIENvbXBvbmVudCwgbmV4dFByb3BzLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gIG1vdW50Q2xhc3NJbnN0YW5jZSh3b3JrSW5Qcm9ncmVzcywgQ29tcG9uZW50LCBuZXh0UHJvcHMsIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgcmV0dXJuIGZpbmlzaENsYXNzQ29tcG9uZW50KG51bGwsIHdvcmtJblByb2dyZXNzLCBDb21wb25lbnQsIHRydWUsIGhhc0NvbnRleHQsIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbn1cblxuZnVuY3Rpb24gbW91bnRJbmRldGVybWluYXRlQ29tcG9uZW50KF9jdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgQ29tcG9uZW50LCByZW5kZXJFeHBpcmF0aW9uVGltZSkge1xuICBpZiAoX2N1cnJlbnQgIT09IG51bGwpIHtcbiAgICAvLyBBbiBpbmRldGVybWluYXRlIGNvbXBvbmVudCBvbmx5IG1vdW50cyBpZiBpdCBzdXNwZW5kZWQgaW5zaWRlIGEgbm9uLVxuICAgIC8vIGNvbmN1cnJlbnQgdHJlZSwgaW4gYW4gaW5jb25zaXN0ZW50IHN0YXRlLiBXZSB3YW50IHRvIHRyZWF0IGl0IGxpa2VcbiAgICAvLyBhIG5ldyBtb3VudCwgZXZlbiB0aG91Z2ggYW4gZW1wdHkgdmVyc2lvbiBvZiBpdCBhbHJlYWR5IGNvbW1pdHRlZC5cbiAgICAvLyBEaXNjb25uZWN0IHRoZSBhbHRlcm5hdGUgcG9pbnRlcnMuXG4gICAgX2N1cnJlbnQuYWx0ZXJuYXRlID0gbnVsbDtcbiAgICB3b3JrSW5Qcm9ncmVzcy5hbHRlcm5hdGUgPSBudWxsOyAvLyBTaW5jZSB0aGlzIGlzIGNvbmNlcHR1YWxseSBhIG5ldyBmaWJlciwgc2NoZWR1bGUgYSBQbGFjZW1lbnQgZWZmZWN0XG5cbiAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gUGxhY2VtZW50O1xuICB9XG5cbiAgdmFyIHByb3BzID0gd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzO1xuICB2YXIgY29udGV4dDtcblxuICBpZiAoIWRpc2FibGVMZWdhY3lDb250ZXh0KSB7XG4gICAgdmFyIHVubWFza2VkQ29udGV4dCA9IGdldFVubWFza2VkQ29udGV4dCh3b3JrSW5Qcm9ncmVzcywgQ29tcG9uZW50LCBmYWxzZSk7XG4gICAgY29udGV4dCA9IGdldE1hc2tlZENvbnRleHQod29ya0luUHJvZ3Jlc3MsIHVubWFza2VkQ29udGV4dCk7XG4gIH1cblxuICBwcmVwYXJlVG9SZWFkQ29udGV4dCh3b3JrSW5Qcm9ncmVzcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICB2YXIgdmFsdWU7XG5cbiAge1xuICAgIGlmIChDb21wb25lbnQucHJvdG90eXBlICYmIHR5cGVvZiBDb21wb25lbnQucHJvdG90eXBlLnJlbmRlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdmFyIGNvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lKENvbXBvbmVudCkgfHwgJ1Vua25vd24nO1xuXG4gICAgICBpZiAoIWRpZFdhcm5BYm91dEJhZENsYXNzW2NvbXBvbmVudE5hbWVdKSB7XG4gICAgICAgIHdhcm5pbmdXaXRob3V0U3RhY2skMShmYWxzZSwgXCJUaGUgPCVzIC8+IGNvbXBvbmVudCBhcHBlYXJzIHRvIGhhdmUgYSByZW5kZXIgbWV0aG9kLCBidXQgZG9lc24ndCBleHRlbmQgUmVhY3QuQ29tcG9uZW50LiBcIiArICdUaGlzIGlzIGxpa2VseSB0byBjYXVzZSBlcnJvcnMuIENoYW5nZSAlcyB0byBleHRlbmQgUmVhY3QuQ29tcG9uZW50IGluc3RlYWQuJywgY29tcG9uZW50TmFtZSwgY29tcG9uZW50TmFtZSk7XG4gICAgICAgIGRpZFdhcm5BYm91dEJhZENsYXNzW2NvbXBvbmVudE5hbWVdID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAod29ya0luUHJvZ3Jlc3MubW9kZSAmIFN0cmljdE1vZGUpIHtcbiAgICAgIFJlYWN0U3RyaWN0TW9kZVdhcm5pbmdzLnJlY29yZExlZ2FjeUNvbnRleHRXYXJuaW5nKHdvcmtJblByb2dyZXNzLCBudWxsKTtcbiAgICB9XG5cbiAgICBSZWFjdEN1cnJlbnRPd25lciQzLmN1cnJlbnQgPSB3b3JrSW5Qcm9ncmVzcztcbiAgICB2YWx1ZSA9IHJlbmRlcldpdGhIb29rcyhudWxsLCB3b3JrSW5Qcm9ncmVzcywgQ29tcG9uZW50LCBwcm9wcywgY29udGV4dCwgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICB9IC8vIFJlYWN0IERldlRvb2xzIHJlYWRzIHRoaXMgZmxhZy5cblxuXG4gIHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyB8PSBQZXJmb3JtZWRXb3JrO1xuXG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICE9PSBudWxsICYmIHR5cGVvZiB2YWx1ZS5yZW5kZXIgPT09ICdmdW5jdGlvbicgJiYgdmFsdWUuJCR0eXBlb2YgPT09IHVuZGVmaW5lZCkge1xuICAgIHtcbiAgICAgIHZhciBfY29tcG9uZW50TmFtZSA9IGdldENvbXBvbmVudE5hbWUoQ29tcG9uZW50KSB8fCAnVW5rbm93bic7XG5cbiAgICAgIGlmICghZGlkV2FybkFib3V0TW9kdWxlUGF0dGVybkNvbXBvbmVudFtfY29tcG9uZW50TmFtZV0pIHtcbiAgICAgICAgd2FybmluZ1dpdGhvdXRTdGFjayQxKGZhbHNlLCAnVGhlIDwlcyAvPiBjb21wb25lbnQgYXBwZWFycyB0byBiZSBhIGZ1bmN0aW9uIGNvbXBvbmVudCB0aGF0IHJldHVybnMgYSBjbGFzcyBpbnN0YW5jZS4gJyArICdDaGFuZ2UgJXMgdG8gYSBjbGFzcyB0aGF0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IGluc3RlYWQuICcgKyBcIklmIHlvdSBjYW4ndCB1c2UgYSBjbGFzcyB0cnkgYXNzaWduaW5nIHRoZSBwcm90b3R5cGUgb24gdGhlIGZ1bmN0aW9uIGFzIGEgd29ya2Fyb3VuZC4gXCIgKyBcImAlcy5wcm90b3R5cGUgPSBSZWFjdC5Db21wb25lbnQucHJvdG90eXBlYC4gRG9uJ3QgdXNlIGFuIGFycm93IGZ1bmN0aW9uIHNpbmNlIGl0IFwiICsgJ2Nhbm5vdCBiZSBjYWxsZWQgd2l0aCBgbmV3YCBieSBSZWFjdC4nLCBfY29tcG9uZW50TmFtZSwgX2NvbXBvbmVudE5hbWUsIF9jb21wb25lbnROYW1lKTtcbiAgICAgICAgZGlkV2FybkFib3V0TW9kdWxlUGF0dGVybkNvbXBvbmVudFtfY29tcG9uZW50TmFtZV0gPSB0cnVlO1xuICAgICAgfVxuICAgIH0gLy8gUHJvY2VlZCB1bmRlciB0aGUgYXNzdW1wdGlvbiB0aGF0IHRoaXMgaXMgYSBjbGFzcyBpbnN0YW5jZVxuXG5cbiAgICB3b3JrSW5Qcm9ncmVzcy50YWcgPSBDbGFzc0NvbXBvbmVudDsgLy8gVGhyb3cgb3V0IGFueSBob29rcyB0aGF0IHdlcmUgdXNlZC5cblxuICAgIHJlc2V0SG9va3MoKTsgLy8gUHVzaCBjb250ZXh0IHByb3ZpZGVycyBlYXJseSB0byBwcmV2ZW50IGNvbnRleHQgc3RhY2sgbWlzbWF0Y2hlcy5cbiAgICAvLyBEdXJpbmcgbW91bnRpbmcgd2UgZG9uJ3Qga25vdyB0aGUgY2hpbGQgY29udGV4dCB5ZXQgYXMgdGhlIGluc3RhbmNlIGRvZXNuJ3QgZXhpc3QuXG4gICAgLy8gV2Ugd2lsbCBpbnZhbGlkYXRlIHRoZSBjaGlsZCBjb250ZXh0IGluIGZpbmlzaENsYXNzQ29tcG9uZW50KCkgcmlnaHQgYWZ0ZXIgcmVuZGVyaW5nLlxuXG4gICAgdmFyIGhhc0NvbnRleHQgPSBmYWxzZTtcblxuICAgIGlmIChpc0NvbnRleHRQcm92aWRlcihDb21wb25lbnQpKSB7XG4gICAgICBoYXNDb250ZXh0ID0gdHJ1ZTtcbiAgICAgIHB1c2hDb250ZXh0UHJvdmlkZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgIH0gZWxzZSB7XG4gICAgICBoYXNDb250ZXh0ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSA9IHZhbHVlLnN0YXRlICE9PSBudWxsICYmIHZhbHVlLnN0YXRlICE9PSB1bmRlZmluZWQgPyB2YWx1ZS5zdGF0ZSA6IG51bGw7XG4gICAgdmFyIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9IENvbXBvbmVudC5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHM7XG5cbiAgICBpZiAodHlwZW9mIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgYXBwbHlEZXJpdmVkU3RhdGVGcm9tUHJvcHMod29ya0luUHJvZ3Jlc3MsIENvbXBvbmVudCwgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzLCBwcm9wcyk7XG4gICAgfVxuXG4gICAgYWRvcHRDbGFzc0luc3RhbmNlKHdvcmtJblByb2dyZXNzLCB2YWx1ZSk7XG4gICAgbW91bnRDbGFzc0luc3RhbmNlKHdvcmtJblByb2dyZXNzLCBDb21wb25lbnQsIHByb3BzLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gICAgcmV0dXJuIGZpbmlzaENsYXNzQ29tcG9uZW50KG51bGwsIHdvcmtJblByb2dyZXNzLCBDb21wb25lbnQsIHRydWUsIGhhc0NvbnRleHQsIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBQcm9jZWVkIHVuZGVyIHRoZSBhc3N1bXB0aW9uIHRoYXQgdGhpcyBpcyBhIGZ1bmN0aW9uIGNvbXBvbmVudFxuICAgIHdvcmtJblByb2dyZXNzLnRhZyA9IEZ1bmN0aW9uQ29tcG9uZW50O1xuXG4gICAge1xuICAgICAgaWYgKGRpc2FibGVMZWdhY3lDb250ZXh0ICYmIENvbXBvbmVudC5jb250ZXh0VHlwZXMpIHtcbiAgICAgICAgd2FybmluZ1dpdGhvdXRTdGFjayQxKGZhbHNlLCAnJXMgdXNlcyB0aGUgbGVnYWN5IGNvbnRleHRUeXBlcyBBUEkgd2hpY2ggaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZC4gJyArICdVc2UgUmVhY3QuY3JlYXRlQ29udGV4dCgpIHdpdGggUmVhY3QudXNlQ29udGV4dCgpIGluc3RlYWQuJywgZ2V0Q29tcG9uZW50TmFtZShDb21wb25lbnQpIHx8ICdVbmtub3duJyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChkZWJ1Z1JlbmRlclBoYXNlU2lkZUVmZmVjdHNGb3JTdHJpY3RNb2RlICYmIHdvcmtJblByb2dyZXNzLm1vZGUgJiBTdHJpY3RNb2RlKSB7XG4gICAgICAgIC8vIE9ubHkgZG91YmxlLXJlbmRlciBjb21wb25lbnRzIHdpdGggSG9va3NcbiAgICAgICAgaWYgKHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgIT09IG51bGwpIHtcbiAgICAgICAgICB2YWx1ZSA9IHJlbmRlcldpdGhIb29rcyhudWxsLCB3b3JrSW5Qcm9ncmVzcywgQ29tcG9uZW50LCBwcm9wcywgY29udGV4dCwgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmVjb25jaWxlQ2hpbGRyZW4obnVsbCwgd29ya0luUHJvZ3Jlc3MsIHZhbHVlLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG5cbiAgICB7XG4gICAgICB2YWxpZGF0ZUZ1bmN0aW9uQ29tcG9uZW50SW5EZXYod29ya0luUHJvZ3Jlc3MsIENvbXBvbmVudCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHdvcmtJblByb2dyZXNzLmNoaWxkO1xuICB9XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlRnVuY3Rpb25Db21wb25lbnRJbkRldih3b3JrSW5Qcm9ncmVzcywgQ29tcG9uZW50KSB7XG4gIGlmIChDb21wb25lbnQpIHtcbiAgICAhIUNvbXBvbmVudC5jaGlsZENvbnRleHRUeXBlcyA/IHdhcm5pbmdXaXRob3V0U3RhY2skMShmYWxzZSwgJyVzKC4uLik6IGNoaWxkQ29udGV4dFR5cGVzIGNhbm5vdCBiZSBkZWZpbmVkIG9uIGEgZnVuY3Rpb24gY29tcG9uZW50LicsIENvbXBvbmVudC5kaXNwbGF5TmFtZSB8fCBDb21wb25lbnQubmFtZSB8fCAnQ29tcG9uZW50JykgOiB2b2lkIDA7XG4gIH1cblxuICBpZiAod29ya0luUHJvZ3Jlc3MucmVmICE9PSBudWxsKSB7XG4gICAgdmFyIGluZm8gPSAnJztcbiAgICB2YXIgb3duZXJOYW1lID0gZ2V0Q3VycmVudEZpYmVyT3duZXJOYW1lSW5EZXZPck51bGwoKTtcblxuICAgIGlmIChvd25lck5hbWUpIHtcbiAgICAgIGluZm8gKz0gJ1xcblxcbkNoZWNrIHRoZSByZW5kZXIgbWV0aG9kIG9mIGAnICsgb3duZXJOYW1lICsgJ2AuJztcbiAgICB9XG5cbiAgICB2YXIgd2FybmluZ0tleSA9IG93bmVyTmFtZSB8fCB3b3JrSW5Qcm9ncmVzcy5fZGVidWdJRCB8fCAnJztcbiAgICB2YXIgZGVidWdTb3VyY2UgPSB3b3JrSW5Qcm9ncmVzcy5fZGVidWdTb3VyY2U7XG5cbiAgICBpZiAoZGVidWdTb3VyY2UpIHtcbiAgICAgIHdhcm5pbmdLZXkgPSBkZWJ1Z1NvdXJjZS5maWxlTmFtZSArICc6JyArIGRlYnVnU291cmNlLmxpbmVOdW1iZXI7XG4gICAgfVxuXG4gICAgaWYgKCFkaWRXYXJuQWJvdXRGdW5jdGlvblJlZnNbd2FybmluZ0tleV0pIHtcbiAgICAgIGRpZFdhcm5BYm91dEZ1bmN0aW9uUmVmc1t3YXJuaW5nS2V5XSA9IHRydWU7XG4gICAgICB3YXJuaW5nJDEoZmFsc2UsICdGdW5jdGlvbiBjb21wb25lbnRzIGNhbm5vdCBiZSBnaXZlbiByZWZzLiAnICsgJ0F0dGVtcHRzIHRvIGFjY2VzcyB0aGlzIHJlZiB3aWxsIGZhaWwuICcgKyAnRGlkIHlvdSBtZWFuIHRvIHVzZSBSZWFjdC5mb3J3YXJkUmVmKCk/JXMnLCBpbmZvKTtcbiAgICB9XG4gIH1cblxuICBpZiAod2FybkFib3V0RGVmYXVsdFByb3BzT25GdW5jdGlvbkNvbXBvbmVudHMgJiYgQ29tcG9uZW50LmRlZmF1bHRQcm9wcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdmFyIGNvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lKENvbXBvbmVudCkgfHwgJ1Vua25vd24nO1xuXG4gICAgaWYgKCFkaWRXYXJuQWJvdXREZWZhdWx0UHJvcHNPbkZ1bmN0aW9uQ29tcG9uZW50W2NvbXBvbmVudE5hbWVdKSB7XG4gICAgICB3YXJuaW5nV2l0aG91dFN0YWNrJDEoZmFsc2UsICclczogU3VwcG9ydCBmb3IgZGVmYXVsdFByb3BzIHdpbGwgYmUgcmVtb3ZlZCBmcm9tIGZ1bmN0aW9uIGNvbXBvbmVudHMgJyArICdpbiBhIGZ1dHVyZSBtYWpvciByZWxlYXNlLiBVc2UgSmF2YVNjcmlwdCBkZWZhdWx0IHBhcmFtZXRlcnMgaW5zdGVhZC4nLCBjb21wb25lbnROYW1lKTtcbiAgICAgIGRpZFdhcm5BYm91dERlZmF1bHRQcm9wc09uRnVuY3Rpb25Db21wb25lbnRbY29tcG9uZW50TmFtZV0gPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIGlmICh0eXBlb2YgQ29tcG9uZW50LmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHZhciBfY29tcG9uZW50TmFtZTIgPSBnZXRDb21wb25lbnROYW1lKENvbXBvbmVudCkgfHwgJ1Vua25vd24nO1xuXG4gICAgaWYgKCFkaWRXYXJuQWJvdXRHZXREZXJpdmVkU3RhdGVPbkZ1bmN0aW9uQ29tcG9uZW50W19jb21wb25lbnROYW1lMl0pIHtcbiAgICAgIHdhcm5pbmdXaXRob3V0U3RhY2skMShmYWxzZSwgJyVzOiBGdW5jdGlvbiBjb21wb25lbnRzIGRvIG5vdCBzdXBwb3J0IGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcy4nLCBfY29tcG9uZW50TmFtZTIpO1xuICAgICAgZGlkV2FybkFib3V0R2V0RGVyaXZlZFN0YXRlT25GdW5jdGlvbkNvbXBvbmVudFtfY29tcG9uZW50TmFtZTJdID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBpZiAodHlwZW9mIENvbXBvbmVudC5jb250ZXh0VHlwZSA9PT0gJ29iamVjdCcgJiYgQ29tcG9uZW50LmNvbnRleHRUeXBlICE9PSBudWxsKSB7XG4gICAgdmFyIF9jb21wb25lbnROYW1lMyA9IGdldENvbXBvbmVudE5hbWUoQ29tcG9uZW50KSB8fCAnVW5rbm93bic7XG5cbiAgICBpZiAoIWRpZFdhcm5BYm91dENvbnRleHRUeXBlT25GdW5jdGlvbkNvbXBvbmVudFtfY29tcG9uZW50TmFtZTNdKSB7XG4gICAgICB3YXJuaW5nV2l0aG91dFN0YWNrJDEoZmFsc2UsICclczogRnVuY3Rpb24gY29tcG9uZW50cyBkbyBub3Qgc3VwcG9ydCBjb250ZXh0VHlwZS4nLCBfY29tcG9uZW50TmFtZTMpO1xuICAgICAgZGlkV2FybkFib3V0Q29udGV4dFR5cGVPbkZ1bmN0aW9uQ29tcG9uZW50W19jb21wb25lbnROYW1lM10gPSB0cnVlO1xuICAgIH1cbiAgfVxufVxuXG52YXIgU1VTUEVOREVEX01BUktFUiA9IHtcbiAgZGVoeWRyYXRlZDogbnVsbCxcbiAgcmV0cnlUaW1lOiBOb1dvcmtcbn07XG5cbmZ1bmN0aW9uIHNob3VsZFJlbWFpbk9uRmFsbGJhY2soc3VzcGVuc2VDb250ZXh0LCBjdXJyZW50JCQxLCB3b3JrSW5Qcm9ncmVzcykge1xuICAvLyBJZiB0aGUgY29udGV4dCBpcyB0ZWxsaW5nIHVzIHRoYXQgd2Ugc2hvdWxkIHNob3cgYSBmYWxsYmFjaywgYW5kIHdlJ3JlIG5vdFxuICAvLyBhbHJlYWR5IHNob3dpbmcgY29udGVudCwgdGhlbiB3ZSBzaG91bGQgc2hvdyB0aGUgZmFsbGJhY2sgaW5zdGVhZC5cbiAgcmV0dXJuIGhhc1N1c3BlbnNlQ29udGV4dChzdXNwZW5zZUNvbnRleHQsIEZvcmNlU3VzcGVuc2VGYWxsYmFjaykgJiYgKGN1cnJlbnQkJDEgPT09IG51bGwgfHwgY3VycmVudCQkMS5tZW1vaXplZFN0YXRlICE9PSBudWxsKTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlU3VzcGVuc2VDb21wb25lbnQoY3VycmVudCQkMSwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gIHZhciBtb2RlID0gd29ya0luUHJvZ3Jlc3MubW9kZTtcbiAgdmFyIG5leHRQcm9wcyA9IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wczsgLy8gVGhpcyBpcyB1c2VkIGJ5IERldlRvb2xzIHRvIGZvcmNlIGEgYm91bmRhcnkgdG8gc3VzcGVuZC5cblxuICB7XG4gICAgaWYgKHNob3VsZFN1c3BlbmQod29ya0luUHJvZ3Jlc3MpKSB7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gRGlkQ2FwdHVyZTtcbiAgICB9XG4gIH1cblxuICB2YXIgc3VzcGVuc2VDb250ZXh0ID0gc3VzcGVuc2VTdGFja0N1cnNvci5jdXJyZW50O1xuICB2YXIgbmV4dERpZFRpbWVvdXQgPSBmYWxzZTtcbiAgdmFyIGRpZFN1c3BlbmQgPSAod29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnICYgRGlkQ2FwdHVyZSkgIT09IE5vRWZmZWN0O1xuXG4gIGlmIChkaWRTdXNwZW5kIHx8IHNob3VsZFJlbWFpbk9uRmFsbGJhY2soc3VzcGVuc2VDb250ZXh0LCBjdXJyZW50JCQxLCB3b3JrSW5Qcm9ncmVzcykpIHtcbiAgICAvLyBTb21ldGhpbmcgaW4gdGhpcyBib3VuZGFyeSdzIHN1YnRyZWUgYWxyZWFkeSBzdXNwZW5kZWQuIFN3aXRjaCB0b1xuICAgIC8vIHJlbmRlcmluZyB0aGUgZmFsbGJhY2sgY2hpbGRyZW4uXG4gICAgbmV4dERpZFRpbWVvdXQgPSB0cnVlO1xuICAgIHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyAmPSB+RGlkQ2FwdHVyZTtcbiAgfSBlbHNlIHtcbiAgICAvLyBBdHRlbXB0aW5nIHRoZSBtYWluIGNvbnRlbnRcbiAgICBpZiAoY3VycmVudCQkMSA9PT0gbnVsbCB8fCBjdXJyZW50JCQxLm1lbW9pemVkU3RhdGUgIT09IG51bGwpIHtcbiAgICAgIC8vIFRoaXMgaXMgYSBuZXcgbW91bnQgb3IgdGhpcyBib3VuZGFyeSBpcyBhbHJlYWR5IHNob3dpbmcgYSBmYWxsYmFjayBzdGF0ZS5cbiAgICAgIC8vIE1hcmsgdGhpcyBzdWJ0cmVlIGNvbnRleHQgYXMgaGF2aW5nIGF0IGxlYXN0IG9uZSBpbnZpc2libGUgcGFyZW50IHRoYXQgY291bGRcbiAgICAgIC8vIGhhbmRsZSB0aGUgZmFsbGJhY2sgc3RhdGUuXG4gICAgICAvLyBCb3VuZGFyaWVzIHdpdGhvdXQgZmFsbGJhY2tzIG9yIHNob3VsZCBiZSBhdm9pZGVkIGFyZSBub3QgY29uc2lkZXJlZCBzaW5jZVxuICAgICAgLy8gdGhleSBjYW5ub3QgaGFuZGxlIHByZWZlcnJlZCBmYWxsYmFjayBzdGF0ZXMuXG4gICAgICBpZiAobmV4dFByb3BzLmZhbGxiYWNrICE9PSB1bmRlZmluZWQgJiYgbmV4dFByb3BzLnVuc3RhYmxlX2F2b2lkVGhpc0ZhbGxiYWNrICE9PSB0cnVlKSB7XG4gICAgICAgIHN1c3BlbnNlQ29udGV4dCA9IGFkZFN1YnRyZWVTdXNwZW5zZUNvbnRleHQoc3VzcGVuc2VDb250ZXh0LCBJbnZpc2libGVQYXJlbnRTdXNwZW5zZUNvbnRleHQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHN1c3BlbnNlQ29udGV4dCA9IHNldERlZmF1bHRTaGFsbG93U3VzcGVuc2VDb250ZXh0KHN1c3BlbnNlQ29udGV4dCk7XG4gIHB1c2hTdXNwZW5zZUNvbnRleHQod29ya0luUHJvZ3Jlc3MsIHN1c3BlbnNlQ29udGV4dCk7XG5cbiAge1xuICAgIGlmICgnbWF4RHVyYXRpb24nIGluIG5leHRQcm9wcykge1xuICAgICAgaWYgKCFkaWRXYXJuQWJvdXRNYXhEdXJhdGlvbikge1xuICAgICAgICBkaWRXYXJuQWJvdXRNYXhEdXJhdGlvbiA9IHRydWU7XG4gICAgICAgIHdhcm5pbmckMShmYWxzZSwgJ21heER1cmF0aW9uIGhhcyBiZWVuIHJlbW92ZWQgZnJvbSBSZWFjdC4gJyArICdSZW1vdmUgdGhlIG1heER1cmF0aW9uIHByb3AuJyk7XG4gICAgICB9XG4gICAgfVxuICB9IC8vIFRoaXMgbmV4dCBwYXJ0IGlzIGEgYml0IGNvbmZ1c2luZy4gSWYgdGhlIGNoaWxkcmVuIHRpbWVvdXQsIHdlIHN3aXRjaCB0b1xuICAvLyBzaG93aW5nIHRoZSBmYWxsYmFjayBjaGlsZHJlbiBpbiBwbGFjZSBvZiB0aGUgXCJwcmltYXJ5XCIgY2hpbGRyZW4uXG4gIC8vIEhvd2V2ZXIsIHdlIGRvbid0IHdhbnQgdG8gZGVsZXRlIHRoZSBwcmltYXJ5IGNoaWxkcmVuIGJlY2F1c2UgdGhlbiB0aGVpclxuICAvLyBzdGF0ZSB3aWxsIGJlIGxvc3QgKGJvdGggdGhlIFJlYWN0IHN0YXRlIGFuZCB0aGUgaG9zdCBzdGF0ZSwgZS5nLlxuICAvLyB1bmNvbnRyb2xsZWQgZm9ybSBpbnB1dHMpLiBJbnN0ZWFkIHdlIGtlZXAgdGhlbSBtb3VudGVkIGFuZCBoaWRlIHRoZW0uXG4gIC8vIEJvdGggdGhlIGZhbGxiYWNrIGNoaWxkcmVuIEFORCB0aGUgcHJpbWFyeSBjaGlsZHJlbiBhcmUgcmVuZGVyZWQgYXQgdGhlXG4gIC8vIHNhbWUgdGltZS4gT25jZSB0aGUgcHJpbWFyeSBjaGlsZHJlbiBhcmUgdW4tc3VzcGVuZGVkLCB3ZSBjYW4gZGVsZXRlXG4gIC8vIHRoZSBmYWxsYmFjayBjaGlsZHJlbiDigJQgZG9uJ3QgbmVlZCB0byBwcmVzZXJ2ZSB0aGVpciBzdGF0ZS5cbiAgLy9cbiAgLy8gVGhlIHR3byBzZXRzIG9mIGNoaWxkcmVuIGFyZSBzaWJsaW5ncyBpbiB0aGUgaG9zdCBlbnZpcm9ubWVudCwgYnV0XG4gIC8vIHNlbWFudGljYWxseSwgZm9yIHB1cnBvc2VzIG9mIHJlY29uY2lsaWF0aW9uLCB0aGV5IGFyZSB0d28gc2VwYXJhdGUgc2V0cy5cbiAgLy8gU28gd2Ugc3RvcmUgdGhlbSB1c2luZyB0d28gZnJhZ21lbnQgZmliZXJzLlxuICAvL1xuICAvLyBIb3dldmVyLCB3ZSB3YW50IHRvIGF2b2lkIGFsbG9jYXRpbmcgZXh0cmEgZmliZXJzIGZvciBldmVyeSBwbGFjZWhvbGRlci5cbiAgLy8gVGhleSdyZSBvbmx5IG5lY2Vzc2FyeSB3aGVuIHRoZSBjaGlsZHJlbiB0aW1lIG91dCwgYmVjYXVzZSB0aGF0J3MgdGhlXG4gIC8vIG9ubHkgdGltZSB3aGVuIGJvdGggc2V0cyBhcmUgbW91bnRlZC5cbiAgLy9cbiAgLy8gU28sIHRoZSBleHRyYSBmcmFnbWVudCBmaWJlcnMgYXJlIG9ubHkgdXNlZCBpZiB0aGUgY2hpbGRyZW4gdGltZSBvdXQuXG4gIC8vIE90aGVyd2lzZSwgd2UgcmVuZGVyIHRoZSBwcmltYXJ5IGNoaWxkcmVuIGRpcmVjdGx5LiBUaGlzIHJlcXVpcmVzIHNvbWVcbiAgLy8gY3VzdG9tIHJlY29uY2lsaWF0aW9uIGxvZ2ljIHRvIHByZXNlcnZlIHRoZSBzdGF0ZSBvZiB0aGUgcHJpbWFyeVxuICAvLyBjaGlsZHJlbi4gSXQncyBlc3NlbnRpYWxseSBhIHZlcnkgYmFzaWMgZm9ybSBvZiByZS1wYXJlbnRpbmcuXG5cblxuICBpZiAoY3VycmVudCQkMSA9PT0gbnVsbCkge1xuICAgIC8vIElmIHdlJ3JlIGN1cnJlbnRseSBoeWRyYXRpbmcsIHRyeSB0byBoeWRyYXRlIHRoaXMgYm91bmRhcnkuXG4gICAgLy8gQnV0IG9ubHkgaWYgdGhpcyBoYXMgYSBmYWxsYmFjay5cbiAgICBpZiAobmV4dFByb3BzLmZhbGxiYWNrICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRyeVRvQ2xhaW1OZXh0SHlkcmF0YWJsZUluc3RhbmNlKHdvcmtJblByb2dyZXNzKTsgLy8gVGhpcyBjb3VsZCd2ZSBiZWVuIGEgZGVoeWRyYXRlZCBzdXNwZW5zZSBjb21wb25lbnQuXG5cbiAgICAgIGlmIChlbmFibGVTdXNwZW5zZVNlcnZlclJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBzdXNwZW5zZVN0YXRlID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZTtcblxuICAgICAgICBpZiAoc3VzcGVuc2VTdGF0ZSAhPT0gbnVsbCkge1xuICAgICAgICAgIHZhciBkZWh5ZHJhdGVkID0gc3VzcGVuc2VTdGF0ZS5kZWh5ZHJhdGVkO1xuXG4gICAgICAgICAgaWYgKGRlaHlkcmF0ZWQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBtb3VudERlaHlkcmF0ZWRTdXNwZW5zZUNvbXBvbmVudCh3b3JrSW5Qcm9ncmVzcywgZGVoeWRyYXRlZCwgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy8gVGhpcyBpcyB0aGUgaW5pdGlhbCBtb3VudC4gVGhpcyBicmFuY2ggaXMgcHJldHR5IHNpbXBsZSBiZWNhdXNlIHRoZXJlJ3NcbiAgICAvLyBubyBwcmV2aW91cyBzdGF0ZSB0aGF0IG5lZWRzIHRvIGJlIHByZXNlcnZlZC5cblxuXG4gICAgaWYgKG5leHREaWRUaW1lb3V0KSB7XG4gICAgICAvLyBNb3VudCBzZXBhcmF0ZSBmcmFnbWVudHMgZm9yIHByaW1hcnkgYW5kIGZhbGxiYWNrIGNoaWxkcmVuLlxuICAgICAgdmFyIG5leHRGYWxsYmFja0NoaWxkcmVuID0gbmV4dFByb3BzLmZhbGxiYWNrO1xuICAgICAgdmFyIHByaW1hcnlDaGlsZEZyYWdtZW50ID0gY3JlYXRlRmliZXJGcm9tRnJhZ21lbnQobnVsbCwgbW9kZSwgTm9Xb3JrLCBudWxsKTtcbiAgICAgIHByaW1hcnlDaGlsZEZyYWdtZW50LnJldHVybiA9IHdvcmtJblByb2dyZXNzO1xuXG4gICAgICBpZiAoKHdvcmtJblByb2dyZXNzLm1vZGUgJiBCbG9ja2luZ01vZGUpID09PSBOb01vZGUpIHtcbiAgICAgICAgLy8gT3V0c2lkZSBvZiBibG9ja2luZyBtb2RlLCB3ZSBjb21taXQgdGhlIGVmZmVjdHMgZnJvbSB0aGVcbiAgICAgICAgLy8gcGFydGlhbGx5IGNvbXBsZXRlZCwgdGltZWQtb3V0IHRyZWUsIHRvby5cbiAgICAgICAgdmFyIHByb2dyZXNzZWRTdGF0ZSA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGU7XG4gICAgICAgIHZhciBwcm9ncmVzc2VkUHJpbWFyeUNoaWxkID0gcHJvZ3Jlc3NlZFN0YXRlICE9PSBudWxsID8gd29ya0luUHJvZ3Jlc3MuY2hpbGQuY2hpbGQgOiB3b3JrSW5Qcm9ncmVzcy5jaGlsZDtcbiAgICAgICAgcHJpbWFyeUNoaWxkRnJhZ21lbnQuY2hpbGQgPSBwcm9ncmVzc2VkUHJpbWFyeUNoaWxkO1xuICAgICAgICB2YXIgcHJvZ3Jlc3NlZENoaWxkID0gcHJvZ3Jlc3NlZFByaW1hcnlDaGlsZDtcblxuICAgICAgICB3aGlsZSAocHJvZ3Jlc3NlZENoaWxkICE9PSBudWxsKSB7XG4gICAgICAgICAgcHJvZ3Jlc3NlZENoaWxkLnJldHVybiA9IHByaW1hcnlDaGlsZEZyYWdtZW50O1xuICAgICAgICAgIHByb2dyZXNzZWRDaGlsZCA9IHByb2dyZXNzZWRDaGlsZC5zaWJsaW5nO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBmYWxsYmFja0NoaWxkRnJhZ21lbnQgPSBjcmVhdGVGaWJlckZyb21GcmFnbWVudChuZXh0RmFsbGJhY2tDaGlsZHJlbiwgbW9kZSwgcmVuZGVyRXhwaXJhdGlvblRpbWUsIG51bGwpO1xuICAgICAgZmFsbGJhY2tDaGlsZEZyYWdtZW50LnJldHVybiA9IHdvcmtJblByb2dyZXNzO1xuICAgICAgcHJpbWFyeUNoaWxkRnJhZ21lbnQuc2libGluZyA9IGZhbGxiYWNrQ2hpbGRGcmFnbWVudDsgLy8gU2tpcCB0aGUgcHJpbWFyeSBjaGlsZHJlbiwgYW5kIGNvbnRpbnVlIHdvcmtpbmcgb24gdGhlXG4gICAgICAvLyBmYWxsYmFjayBjaGlsZHJlbi5cblxuICAgICAgd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSA9IFNVU1BFTkRFRF9NQVJLRVI7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IHByaW1hcnlDaGlsZEZyYWdtZW50O1xuICAgICAgcmV0dXJuIGZhbGxiYWNrQ2hpbGRGcmFnbWVudDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gTW91bnQgdGhlIHByaW1hcnkgY2hpbGRyZW4gd2l0aG91dCBhbiBpbnRlcm1lZGlhdGUgZnJhZ21lbnQgZmliZXIuXG4gICAgICB2YXIgbmV4dFByaW1hcnlDaGlsZHJlbiA9IG5leHRQcm9wcy5jaGlsZHJlbjtcbiAgICAgIHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPSBudWxsO1xuICAgICAgcmV0dXJuIHdvcmtJblByb2dyZXNzLmNoaWxkID0gbW91bnRDaGlsZEZpYmVycyh3b3JrSW5Qcm9ncmVzcywgbnVsbCwgbmV4dFByaW1hcnlDaGlsZHJlbiwgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBUaGlzIGlzIGFuIHVwZGF0ZS4gVGhpcyBicmFuY2ggaXMgbW9yZSBjb21wbGljYXRlZCBiZWNhdXNlIHdlIG5lZWQgdG9cbiAgICAvLyBlbnN1cmUgdGhlIHN0YXRlIG9mIHRoZSBwcmltYXJ5IGNoaWxkcmVuIGlzIHByZXNlcnZlZC5cbiAgICB2YXIgcHJldlN0YXRlID0gY3VycmVudCQkMS5tZW1vaXplZFN0YXRlO1xuXG4gICAgaWYgKHByZXZTdGF0ZSAhPT0gbnVsbCkge1xuICAgICAgaWYgKGVuYWJsZVN1c3BlbnNlU2VydmVyUmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIF9kZWh5ZHJhdGVkID0gcHJldlN0YXRlLmRlaHlkcmF0ZWQ7XG5cbiAgICAgICAgaWYgKF9kZWh5ZHJhdGVkICE9PSBudWxsKSB7XG4gICAgICAgICAgaWYgKCFkaWRTdXNwZW5kKSB7XG4gICAgICAgICAgICByZXR1cm4gdXBkYXRlRGVoeWRyYXRlZFN1c3BlbnNlQ29tcG9uZW50KGN1cnJlbnQkJDEsIHdvcmtJblByb2dyZXNzLCBfZGVoeWRyYXRlZCwgcHJldlN0YXRlLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gICAgICAgICAgfSBlbHNlIGlmICh3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBTb21ldGhpbmcgc3VzcGVuZGVkIGFuZCB3ZSBzaG91bGQgc3RpbGwgYmUgaW4gZGVoeWRyYXRlZCBtb2RlLlxuICAgICAgICAgICAgLy8gTGVhdmUgdGhlIGV4aXN0aW5nIGNoaWxkIGluIHBsYWNlLlxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MuY2hpbGQgPSBjdXJyZW50JCQxLmNoaWxkOyAvLyBUaGUgZGVoeWRyYXRlZCBjb21wbGV0aW9uIHBhc3MgZXhwZWN0cyB0aGlzIGZsYWcgdG8gYmUgdGhlcmVcbiAgICAgICAgICAgIC8vIGJ1dCB0aGUgbm9ybWFsIHN1c3BlbnNlIHBhc3MgZG9lc24ndC5cblxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnIHw9IERpZENhcHR1cmU7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gU3VzcGVuZGVkIGJ1dCB3ZSBzaG91bGQgbm8gbG9uZ2VyIGJlIGluIGRlaHlkcmF0ZWQgbW9kZS5cbiAgICAgICAgICAgIC8vIFRoZXJlZm9yZSB3ZSBub3cgaGF2ZSB0byByZW5kZXIgdGhlIGZhbGxiYWNrLiBXcmFwIHRoZSBjaGlsZHJlblxuICAgICAgICAgICAgLy8gaW4gYSBmcmFnbWVudCBmaWJlciB0byBrZWVwIHRoZW0gc2VwYXJhdGUgZnJvbSB0aGUgZmFsbGJhY2tcbiAgICAgICAgICAgIC8vIGNoaWxkcmVuLlxuICAgICAgICAgICAgdmFyIF9uZXh0RmFsbGJhY2tDaGlsZHJlbiA9IG5leHRQcm9wcy5mYWxsYmFjaztcblxuICAgICAgICAgICAgdmFyIF9wcmltYXJ5Q2hpbGRGcmFnbWVudCA9IGNyZWF0ZUZpYmVyRnJvbUZyYWdtZW50KCAvLyBJdCBzaG91bGRuJ3QgbWF0dGVyIHdoYXQgdGhlIHBlbmRpbmcgcHJvcHMgYXJlIGJlY2F1c2Ugd2UgYXJlbid0XG4gICAgICAgICAgICAvLyBnb2luZyB0byByZW5kZXIgdGhpcyBmcmFnbWVudC5cbiAgICAgICAgICAgIG51bGwsIG1vZGUsIE5vV29yaywgbnVsbCk7XG5cbiAgICAgICAgICAgIF9wcmltYXJ5Q2hpbGRGcmFnbWVudC5yZXR1cm4gPSB3b3JrSW5Qcm9ncmVzczsgLy8gVGhpcyBpcyBhbHdheXMgbnVsbCBzaW5jZSB3ZSBuZXZlciB3YW50IHRoZSBwcmV2aW91cyBjaGlsZFxuICAgICAgICAgICAgLy8gdGhhdCB3ZSdyZSBub3QgZ29pbmcgdG8gaHlkcmF0ZS5cblxuICAgICAgICAgICAgX3ByaW1hcnlDaGlsZEZyYWdtZW50LmNoaWxkID0gbnVsbDtcblxuICAgICAgICAgICAgaWYgKCh3b3JrSW5Qcm9ncmVzcy5tb2RlICYgQmxvY2tpbmdNb2RlKSA9PT0gTm9Nb2RlKSB7XG4gICAgICAgICAgICAgIC8vIE91dHNpZGUgb2YgYmxvY2tpbmcgbW9kZSwgd2UgY29tbWl0IHRoZSBlZmZlY3RzIGZyb20gdGhlXG4gICAgICAgICAgICAgIC8vIHBhcnRpYWxseSBjb21wbGV0ZWQsIHRpbWVkLW91dCB0cmVlLCB0b28uXG4gICAgICAgICAgICAgIHZhciBfcHJvZ3Jlc3NlZENoaWxkID0gX3ByaW1hcnlDaGlsZEZyYWdtZW50LmNoaWxkID0gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG5cbiAgICAgICAgICAgICAgd2hpbGUgKF9wcm9ncmVzc2VkQ2hpbGQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBfcHJvZ3Jlc3NlZENoaWxkLnJldHVybiA9IF9wcmltYXJ5Q2hpbGRGcmFnbWVudDtcbiAgICAgICAgICAgICAgICBfcHJvZ3Jlc3NlZENoaWxkID0gX3Byb2dyZXNzZWRDaGlsZC5zaWJsaW5nO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBXZSB3aWxsIGhhdmUgZHJvcHBlZCB0aGUgZWZmZWN0IGxpc3Qgd2hpY2ggY29udGFpbnMgdGhlIGRlbGV0aW9uLlxuICAgICAgICAgICAgICAvLyBXZSBuZWVkIHRvIHJlY29uY2lsZSB0byBkZWxldGUgdGhlIGN1cnJlbnQgY2hpbGQuXG4gICAgICAgICAgICAgIHJlY29uY2lsZUNoaWxkRmliZXJzKHdvcmtJblByb2dyZXNzLCBjdXJyZW50JCQxLmNoaWxkLCBudWxsLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gICAgICAgICAgICB9IC8vIEJlY2F1c2UgcHJpbWFyeUNoaWxkRnJhZ21lbnQgaXMgYSBuZXcgZmliZXIgdGhhdCB3ZSdyZSBpbnNlcnRpbmcgYXMgdGhlXG4gICAgICAgICAgICAvLyBwYXJlbnQgb2YgYSBuZXcgdHJlZSwgd2UgbmVlZCB0byBzZXQgaXRzIHRyZWVCYXNlRHVyYXRpb24uXG5cblxuICAgICAgICAgICAgaWYgKGVuYWJsZVByb2ZpbGVyVGltZXIgJiYgd29ya0luUHJvZ3Jlc3MubW9kZSAmIFByb2ZpbGVNb2RlKSB7XG4gICAgICAgICAgICAgIC8vIHRyZWVCYXNlRHVyYXRpb24gaXMgdGhlIHN1bSBvZiBhbGwgdGhlIGNoaWxkIHRyZWUgYmFzZSBkdXJhdGlvbnMuXG4gICAgICAgICAgICAgIHZhciB0cmVlQmFzZUR1cmF0aW9uID0gMDtcbiAgICAgICAgICAgICAgdmFyIGhpZGRlbkNoaWxkID0gX3ByaW1hcnlDaGlsZEZyYWdtZW50LmNoaWxkO1xuXG4gICAgICAgICAgICAgIHdoaWxlIChoaWRkZW5DaGlsZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRyZWVCYXNlRHVyYXRpb24gKz0gaGlkZGVuQ2hpbGQudHJlZUJhc2VEdXJhdGlvbjtcbiAgICAgICAgICAgICAgICBoaWRkZW5DaGlsZCA9IGhpZGRlbkNoaWxkLnNpYmxpbmc7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBfcHJpbWFyeUNoaWxkRnJhZ21lbnQudHJlZUJhc2VEdXJhdGlvbiA9IHRyZWVCYXNlRHVyYXRpb247XG4gICAgICAgICAgICB9IC8vIENyZWF0ZSBhIGZyYWdtZW50IGZyb20gdGhlIGZhbGxiYWNrIGNoaWxkcmVuLCB0b28uXG5cblxuICAgICAgICAgICAgdmFyIF9mYWxsYmFja0NoaWxkRnJhZ21lbnQgPSBjcmVhdGVGaWJlckZyb21GcmFnbWVudChfbmV4dEZhbGxiYWNrQ2hpbGRyZW4sIG1vZGUsIHJlbmRlckV4cGlyYXRpb25UaW1lLCBudWxsKTtcblxuICAgICAgICAgICAgX2ZhbGxiYWNrQ2hpbGRGcmFnbWVudC5yZXR1cm4gPSB3b3JrSW5Qcm9ncmVzcztcbiAgICAgICAgICAgIF9wcmltYXJ5Q2hpbGRGcmFnbWVudC5zaWJsaW5nID0gX2ZhbGxiYWNrQ2hpbGRGcmFnbWVudDtcbiAgICAgICAgICAgIF9mYWxsYmFja0NoaWxkRnJhZ21lbnQuZWZmZWN0VGFnIHw9IFBsYWNlbWVudDtcbiAgICAgICAgICAgIF9wcmltYXJ5Q2hpbGRGcmFnbWVudC5jaGlsZEV4cGlyYXRpb25UaW1lID0gTm9Xb3JrO1xuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSA9IFNVU1BFTkRFRF9NQVJLRVI7XG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IF9wcmltYXJ5Q2hpbGRGcmFnbWVudDsgLy8gU2tpcCB0aGUgcHJpbWFyeSBjaGlsZHJlbiwgYW5kIGNvbnRpbnVlIHdvcmtpbmcgb24gdGhlXG4gICAgICAgICAgICAvLyBmYWxsYmFjayBjaGlsZHJlbi5cblxuICAgICAgICAgICAgcmV0dXJuIF9mYWxsYmFja0NoaWxkRnJhZ21lbnQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IC8vIFRoZSBjdXJyZW50IHRyZWUgYWxyZWFkeSB0aW1lZCBvdXQuIFRoYXQgbWVhbnMgZWFjaCBjaGlsZCBzZXQgaXNcbiAgICAgIC8vIHdyYXBwZWQgaW4gYSBmcmFnbWVudCBmaWJlci5cblxuXG4gICAgICB2YXIgY3VycmVudFByaW1hcnlDaGlsZEZyYWdtZW50ID0gY3VycmVudCQkMS5jaGlsZDtcbiAgICAgIHZhciBjdXJyZW50RmFsbGJhY2tDaGlsZEZyYWdtZW50ID0gY3VycmVudFByaW1hcnlDaGlsZEZyYWdtZW50LnNpYmxpbmc7XG5cbiAgICAgIGlmIChuZXh0RGlkVGltZW91dCkge1xuICAgICAgICAvLyBTdGlsbCB0aW1lZCBvdXQuIFJldXNlIHRoZSBjdXJyZW50IHByaW1hcnkgY2hpbGRyZW4gYnkgY2xvbmluZ1xuICAgICAgICAvLyBpdHMgZnJhZ21lbnQuIFdlJ3JlIGdvaW5nIHRvIHNraXAgb3ZlciB0aGVzZSBlbnRpcmVseS5cbiAgICAgICAgdmFyIF9uZXh0RmFsbGJhY2tDaGlsZHJlbjIgPSBuZXh0UHJvcHMuZmFsbGJhY2s7XG5cbiAgICAgICAgdmFyIF9wcmltYXJ5Q2hpbGRGcmFnbWVudDIgPSBjcmVhdGVXb3JrSW5Qcm9ncmVzcyhjdXJyZW50UHJpbWFyeUNoaWxkRnJhZ21lbnQsIGN1cnJlbnRQcmltYXJ5Q2hpbGRGcmFnbWVudC5wZW5kaW5nUHJvcHMsIE5vV29yayk7XG5cbiAgICAgICAgX3ByaW1hcnlDaGlsZEZyYWdtZW50Mi5yZXR1cm4gPSB3b3JrSW5Qcm9ncmVzcztcblxuICAgICAgICBpZiAoKHdvcmtJblByb2dyZXNzLm1vZGUgJiBCbG9ja2luZ01vZGUpID09PSBOb01vZGUpIHtcbiAgICAgICAgICAvLyBPdXRzaWRlIG9mIGJsb2NraW5nIG1vZGUsIHdlIGNvbW1pdCB0aGUgZWZmZWN0cyBmcm9tIHRoZVxuICAgICAgICAgIC8vIHBhcnRpYWxseSBjb21wbGV0ZWQsIHRpbWVkLW91dCB0cmVlLCB0b28uXG4gICAgICAgICAgdmFyIF9wcm9ncmVzc2VkU3RhdGUgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlO1xuXG4gICAgICAgICAgdmFyIF9wcm9ncmVzc2VkUHJpbWFyeUNoaWxkID0gX3Byb2dyZXNzZWRTdGF0ZSAhPT0gbnVsbCA/IHdvcmtJblByb2dyZXNzLmNoaWxkLmNoaWxkIDogd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG5cbiAgICAgICAgICBpZiAoX3Byb2dyZXNzZWRQcmltYXJ5Q2hpbGQgIT09IGN1cnJlbnRQcmltYXJ5Q2hpbGRGcmFnbWVudC5jaGlsZCkge1xuICAgICAgICAgICAgX3ByaW1hcnlDaGlsZEZyYWdtZW50Mi5jaGlsZCA9IF9wcm9ncmVzc2VkUHJpbWFyeUNoaWxkO1xuICAgICAgICAgICAgdmFyIF9wcm9ncmVzc2VkQ2hpbGQyID0gX3Byb2dyZXNzZWRQcmltYXJ5Q2hpbGQ7XG5cbiAgICAgICAgICAgIHdoaWxlIChfcHJvZ3Jlc3NlZENoaWxkMiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICBfcHJvZ3Jlc3NlZENoaWxkMi5yZXR1cm4gPSBfcHJpbWFyeUNoaWxkRnJhZ21lbnQyO1xuICAgICAgICAgICAgICBfcHJvZ3Jlc3NlZENoaWxkMiA9IF9wcm9ncmVzc2VkQ2hpbGQyLnNpYmxpbmc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IC8vIEJlY2F1c2UgcHJpbWFyeUNoaWxkRnJhZ21lbnQgaXMgYSBuZXcgZmliZXIgdGhhdCB3ZSdyZSBpbnNlcnRpbmcgYXMgdGhlXG4gICAgICAgIC8vIHBhcmVudCBvZiBhIG5ldyB0cmVlLCB3ZSBuZWVkIHRvIHNldCBpdHMgdHJlZUJhc2VEdXJhdGlvbi5cblxuXG4gICAgICAgIGlmIChlbmFibGVQcm9maWxlclRpbWVyICYmIHdvcmtJblByb2dyZXNzLm1vZGUgJiBQcm9maWxlTW9kZSkge1xuICAgICAgICAgIC8vIHRyZWVCYXNlRHVyYXRpb24gaXMgdGhlIHN1bSBvZiBhbGwgdGhlIGNoaWxkIHRyZWUgYmFzZSBkdXJhdGlvbnMuXG4gICAgICAgICAgdmFyIF90cmVlQmFzZUR1cmF0aW9uID0gMDtcbiAgICAgICAgICB2YXIgX2hpZGRlbkNoaWxkID0gX3ByaW1hcnlDaGlsZEZyYWdtZW50Mi5jaGlsZDtcblxuICAgICAgICAgIHdoaWxlIChfaGlkZGVuQ2hpbGQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIF90cmVlQmFzZUR1cmF0aW9uICs9IF9oaWRkZW5DaGlsZC50cmVlQmFzZUR1cmF0aW9uO1xuICAgICAgICAgICAgX2hpZGRlbkNoaWxkID0gX2hpZGRlbkNoaWxkLnNpYmxpbmc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgX3ByaW1hcnlDaGlsZEZyYWdtZW50Mi50cmVlQmFzZUR1cmF0aW9uID0gX3RyZWVCYXNlRHVyYXRpb247XG4gICAgICAgIH0gLy8gQ2xvbmUgdGhlIGZhbGxiYWNrIGNoaWxkIGZyYWdtZW50LCB0b28uIFRoZXNlIHdlJ2xsIGNvbnRpbnVlXG4gICAgICAgIC8vIHdvcmtpbmcgb24uXG5cblxuICAgICAgICB2YXIgX2ZhbGxiYWNrQ2hpbGRGcmFnbWVudDIgPSBjcmVhdGVXb3JrSW5Qcm9ncmVzcyhjdXJyZW50RmFsbGJhY2tDaGlsZEZyYWdtZW50LCBfbmV4dEZhbGxiYWNrQ2hpbGRyZW4yLCBjdXJyZW50RmFsbGJhY2tDaGlsZEZyYWdtZW50LmV4cGlyYXRpb25UaW1lKTtcblxuICAgICAgICBfZmFsbGJhY2tDaGlsZEZyYWdtZW50Mi5yZXR1cm4gPSB3b3JrSW5Qcm9ncmVzcztcbiAgICAgICAgX3ByaW1hcnlDaGlsZEZyYWdtZW50Mi5zaWJsaW5nID0gX2ZhbGxiYWNrQ2hpbGRGcmFnbWVudDI7XG4gICAgICAgIF9wcmltYXJ5Q2hpbGRGcmFnbWVudDIuY2hpbGRFeHBpcmF0aW9uVGltZSA9IE5vV29yazsgLy8gU2tpcCB0aGUgcHJpbWFyeSBjaGlsZHJlbiwgYW5kIGNvbnRpbnVlIHdvcmtpbmcgb24gdGhlXG4gICAgICAgIC8vIGZhbGxiYWNrIGNoaWxkcmVuLlxuXG4gICAgICAgIHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPSBTVVNQRU5ERURfTUFSS0VSO1xuICAgICAgICB3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IF9wcmltYXJ5Q2hpbGRGcmFnbWVudDI7XG4gICAgICAgIHJldHVybiBfZmFsbGJhY2tDaGlsZEZyYWdtZW50MjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIE5vIGxvbmdlciBzdXNwZW5kZWQuIFN3aXRjaCBiYWNrIHRvIHNob3dpbmcgdGhlIHByaW1hcnkgY2hpbGRyZW4sXG4gICAgICAgIC8vIGFuZCByZW1vdmUgdGhlIGludGVybWVkaWF0ZSBmcmFnbWVudCBmaWJlci5cbiAgICAgICAgdmFyIF9uZXh0UHJpbWFyeUNoaWxkcmVuID0gbmV4dFByb3BzLmNoaWxkcmVuO1xuICAgICAgICB2YXIgY3VycmVudFByaW1hcnlDaGlsZCA9IGN1cnJlbnRQcmltYXJ5Q2hpbGRGcmFnbWVudC5jaGlsZDtcbiAgICAgICAgdmFyIHByaW1hcnlDaGlsZCA9IHJlY29uY2lsZUNoaWxkRmliZXJzKHdvcmtJblByb2dyZXNzLCBjdXJyZW50UHJpbWFyeUNoaWxkLCBfbmV4dFByaW1hcnlDaGlsZHJlbiwgcmVuZGVyRXhwaXJhdGlvblRpbWUpOyAvLyBJZiB0aGlzIHJlbmRlciBkb2Vzbid0IHN1c3BlbmQsIHdlIG5lZWQgdG8gZGVsZXRlIHRoZSBmYWxsYmFja1xuICAgICAgICAvLyBjaGlsZHJlbi4gV2FpdCB1bnRpbCB0aGUgY29tcGxldGUgcGhhc2UsIGFmdGVyIHdlJ3ZlIGNvbmZpcm1lZCB0aGVcbiAgICAgICAgLy8gZmFsbGJhY2sgaXMgbm8gbG9uZ2VyIG5lZWRlZC5cbiAgICAgICAgLy8gVE9ETzogV291bGQgaXQgYmUgYmV0dGVyIHRvIHN0b3JlIHRoZSBmYWxsYmFjayBmcmFnbWVudCBvblxuICAgICAgICAvLyB0aGUgc3RhdGVOb2RlP1xuICAgICAgICAvLyBDb250aW51ZSByZW5kZXJpbmcgdGhlIGNoaWxkcmVuLCBsaWtlIHdlIG5vcm1hbGx5IGRvLlxuXG4gICAgICAgIHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPSBudWxsO1xuICAgICAgICByZXR1cm4gd29ya0luUHJvZ3Jlc3MuY2hpbGQgPSBwcmltYXJ5Q2hpbGQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRoZSBjdXJyZW50IHRyZWUgaGFzIG5vdCBhbHJlYWR5IHRpbWVkIG91dC4gVGhhdCBtZWFucyB0aGUgcHJpbWFyeVxuICAgICAgLy8gY2hpbGRyZW4gYXJlIG5vdCB3cmFwcGVkIGluIGEgZnJhZ21lbnQgZmliZXIuXG4gICAgICB2YXIgX2N1cnJlbnRQcmltYXJ5Q2hpbGQgPSBjdXJyZW50JCQxLmNoaWxkO1xuXG4gICAgICBpZiAobmV4dERpZFRpbWVvdXQpIHtcbiAgICAgICAgLy8gVGltZWQgb3V0LiBXcmFwIHRoZSBjaGlsZHJlbiBpbiBhIGZyYWdtZW50IGZpYmVyIHRvIGtlZXAgdGhlbVxuICAgICAgICAvLyBzZXBhcmF0ZSBmcm9tIHRoZSBmYWxsYmFjayBjaGlsZHJlbi5cbiAgICAgICAgdmFyIF9uZXh0RmFsbGJhY2tDaGlsZHJlbjMgPSBuZXh0UHJvcHMuZmFsbGJhY2s7XG5cbiAgICAgICAgdmFyIF9wcmltYXJ5Q2hpbGRGcmFnbWVudDMgPSBjcmVhdGVGaWJlckZyb21GcmFnbWVudCggLy8gSXQgc2hvdWxkbid0IG1hdHRlciB3aGF0IHRoZSBwZW5kaW5nIHByb3BzIGFyZSBiZWNhdXNlIHdlIGFyZW4ndFxuICAgICAgICAvLyBnb2luZyB0byByZW5kZXIgdGhpcyBmcmFnbWVudC5cbiAgICAgICAgbnVsbCwgbW9kZSwgTm9Xb3JrLCBudWxsKTtcblxuICAgICAgICBfcHJpbWFyeUNoaWxkRnJhZ21lbnQzLnJldHVybiA9IHdvcmtJblByb2dyZXNzO1xuICAgICAgICBfcHJpbWFyeUNoaWxkRnJhZ21lbnQzLmNoaWxkID0gX2N1cnJlbnRQcmltYXJ5Q2hpbGQ7XG5cbiAgICAgICAgaWYgKF9jdXJyZW50UHJpbWFyeUNoaWxkICE9PSBudWxsKSB7XG4gICAgICAgICAgX2N1cnJlbnRQcmltYXJ5Q2hpbGQucmV0dXJuID0gX3ByaW1hcnlDaGlsZEZyYWdtZW50MztcbiAgICAgICAgfSAvLyBFdmVuIHRob3VnaCB3ZSdyZSBjcmVhdGluZyBhIG5ldyBmaWJlciwgdGhlcmUgYXJlIG5vIG5ldyBjaGlsZHJlbixcbiAgICAgICAgLy8gYmVjYXVzZSB3ZSdyZSByZXVzaW5nIGFuIGFscmVhZHkgbW91bnRlZCB0cmVlLiBTbyB3ZSBkb24ndCBuZWVkIHRvXG4gICAgICAgIC8vIHNjaGVkdWxlIGEgcGxhY2VtZW50LlxuICAgICAgICAvLyBwcmltYXJ5Q2hpbGRGcmFnbWVudC5lZmZlY3RUYWcgfD0gUGxhY2VtZW50O1xuXG5cbiAgICAgICAgaWYgKCh3b3JrSW5Qcm9ncmVzcy5tb2RlICYgQmxvY2tpbmdNb2RlKSA9PT0gTm9Nb2RlKSB7XG4gICAgICAgICAgLy8gT3V0c2lkZSBvZiBibG9ja2luZyBtb2RlLCB3ZSBjb21taXQgdGhlIGVmZmVjdHMgZnJvbSB0aGVcbiAgICAgICAgICAvLyBwYXJ0aWFsbHkgY29tcGxldGVkLCB0aW1lZC1vdXQgdHJlZSwgdG9vLlxuICAgICAgICAgIHZhciBfcHJvZ3Jlc3NlZFN0YXRlMiA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGU7XG5cbiAgICAgICAgICB2YXIgX3Byb2dyZXNzZWRQcmltYXJ5Q2hpbGQyID0gX3Byb2dyZXNzZWRTdGF0ZTIgIT09IG51bGwgPyB3b3JrSW5Qcm9ncmVzcy5jaGlsZC5jaGlsZCA6IHdvcmtJblByb2dyZXNzLmNoaWxkO1xuXG4gICAgICAgICAgX3ByaW1hcnlDaGlsZEZyYWdtZW50My5jaGlsZCA9IF9wcm9ncmVzc2VkUHJpbWFyeUNoaWxkMjtcbiAgICAgICAgICB2YXIgX3Byb2dyZXNzZWRDaGlsZDMgPSBfcHJvZ3Jlc3NlZFByaW1hcnlDaGlsZDI7XG5cbiAgICAgICAgICB3aGlsZSAoX3Byb2dyZXNzZWRDaGlsZDMgIT09IG51bGwpIHtcbiAgICAgICAgICAgIF9wcm9ncmVzc2VkQ2hpbGQzLnJldHVybiA9IF9wcmltYXJ5Q2hpbGRGcmFnbWVudDM7XG4gICAgICAgICAgICBfcHJvZ3Jlc3NlZENoaWxkMyA9IF9wcm9ncmVzc2VkQ2hpbGQzLnNpYmxpbmc7XG4gICAgICAgICAgfVxuICAgICAgICB9IC8vIEJlY2F1c2UgcHJpbWFyeUNoaWxkRnJhZ21lbnQgaXMgYSBuZXcgZmliZXIgdGhhdCB3ZSdyZSBpbnNlcnRpbmcgYXMgdGhlXG4gICAgICAgIC8vIHBhcmVudCBvZiBhIG5ldyB0cmVlLCB3ZSBuZWVkIHRvIHNldCBpdHMgdHJlZUJhc2VEdXJhdGlvbi5cblxuXG4gICAgICAgIGlmIChlbmFibGVQcm9maWxlclRpbWVyICYmIHdvcmtJblByb2dyZXNzLm1vZGUgJiBQcm9maWxlTW9kZSkge1xuICAgICAgICAgIC8vIHRyZWVCYXNlRHVyYXRpb24gaXMgdGhlIHN1bSBvZiBhbGwgdGhlIGNoaWxkIHRyZWUgYmFzZSBkdXJhdGlvbnMuXG4gICAgICAgICAgdmFyIF90cmVlQmFzZUR1cmF0aW9uMiA9IDA7XG4gICAgICAgICAgdmFyIF9oaWRkZW5DaGlsZDIgPSBfcHJpbWFyeUNoaWxkRnJhZ21lbnQzLmNoaWxkO1xuXG4gICAgICAgICAgd2hpbGUgKF9oaWRkZW5DaGlsZDIgIT09IG51bGwpIHtcbiAgICAgICAgICAgIF90cmVlQmFzZUR1cmF0aW9uMiArPSBfaGlkZGVuQ2hpbGQyLnRyZWVCYXNlRHVyYXRpb247XG4gICAgICAgICAgICBfaGlkZGVuQ2hpbGQyID0gX2hpZGRlbkNoaWxkMi5zaWJsaW5nO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIF9wcmltYXJ5Q2hpbGRGcmFnbWVudDMudHJlZUJhc2VEdXJhdGlvbiA9IF90cmVlQmFzZUR1cmF0aW9uMjtcbiAgICAgICAgfSAvLyBDcmVhdGUgYSBmcmFnbWVudCBmcm9tIHRoZSBmYWxsYmFjayBjaGlsZHJlbiwgdG9vLlxuXG5cbiAgICAgICAgdmFyIF9mYWxsYmFja0NoaWxkRnJhZ21lbnQzID0gY3JlYXRlRmliZXJGcm9tRnJhZ21lbnQoX25leHRGYWxsYmFja0NoaWxkcmVuMywgbW9kZSwgcmVuZGVyRXhwaXJhdGlvblRpbWUsIG51bGwpO1xuXG4gICAgICAgIF9mYWxsYmFja0NoaWxkRnJhZ21lbnQzLnJldHVybiA9IHdvcmtJblByb2dyZXNzO1xuICAgICAgICBfcHJpbWFyeUNoaWxkRnJhZ21lbnQzLnNpYmxpbmcgPSBfZmFsbGJhY2tDaGlsZEZyYWdtZW50MztcbiAgICAgICAgX2ZhbGxiYWNrQ2hpbGRGcmFnbWVudDMuZWZmZWN0VGFnIHw9IFBsYWNlbWVudDtcbiAgICAgICAgX3ByaW1hcnlDaGlsZEZyYWdtZW50My5jaGlsZEV4cGlyYXRpb25UaW1lID0gTm9Xb3JrOyAvLyBTa2lwIHRoZSBwcmltYXJ5IGNoaWxkcmVuLCBhbmQgY29udGludWUgd29ya2luZyBvbiB0aGVcbiAgICAgICAgLy8gZmFsbGJhY2sgY2hpbGRyZW4uXG5cbiAgICAgICAgd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSA9IFNVU1BFTkRFRF9NQVJLRVI7XG4gICAgICAgIHdvcmtJblByb2dyZXNzLmNoaWxkID0gX3ByaW1hcnlDaGlsZEZyYWdtZW50MztcbiAgICAgICAgcmV0dXJuIF9mYWxsYmFja0NoaWxkRnJhZ21lbnQzO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gU3RpbGwgaGF2ZW4ndCB0aW1lZCBvdXQuICBDb250aW51ZSByZW5kZXJpbmcgdGhlIGNoaWxkcmVuLCBsaWtlIHdlXG4gICAgICAgIC8vIG5vcm1hbGx5IGRvLlxuICAgICAgICB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID0gbnVsbDtcbiAgICAgICAgdmFyIF9uZXh0UHJpbWFyeUNoaWxkcmVuMiA9IG5leHRQcm9wcy5jaGlsZHJlbjtcbiAgICAgICAgcmV0dXJuIHdvcmtJblByb2dyZXNzLmNoaWxkID0gcmVjb25jaWxlQ2hpbGRGaWJlcnMod29ya0luUHJvZ3Jlc3MsIF9jdXJyZW50UHJpbWFyeUNoaWxkLCBfbmV4dFByaW1hcnlDaGlsZHJlbjIsIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gcmV0cnlTdXNwZW5zZUNvbXBvbmVudFdpdGhvdXRIeWRyYXRpbmcoY3VycmVudCQkMSwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gIC8vIFdlJ3JlIG5vdyBub3Qgc3VzcGVuZGVkIG5vciBkZWh5ZHJhdGVkLlxuICB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID0gbnVsbDsgLy8gUmV0cnkgd2l0aCB0aGUgZnVsbCBjaGlsZHJlbi5cblxuICB2YXIgbmV4dFByb3BzID0gd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzO1xuICB2YXIgbmV4dENoaWxkcmVuID0gbmV4dFByb3BzLmNoaWxkcmVuOyAvLyBUaGlzIHdpbGwgZW5zdXJlIHRoYXQgdGhlIGNoaWxkcmVuIGdldCBQbGFjZW1lbnQgZWZmZWN0cyBhbmRcbiAgLy8gdGhhdCB0aGUgb2xkIGNoaWxkIGdldHMgYSBEZWxldGlvbiBlZmZlY3QuXG4gIC8vIFdlIGNvdWxkIGFsc28gY2FsbCBmb3JjZVVubW91bnRDdXJyZW50QW5kUmVjb25jaWxlLlxuXG4gIHJlY29uY2lsZUNoaWxkcmVuKGN1cnJlbnQkJDEsIHdvcmtJblByb2dyZXNzLCBuZXh0Q2hpbGRyZW4sIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgcmV0dXJuIHdvcmtJblByb2dyZXNzLmNoaWxkO1xufVxuXG5mdW5jdGlvbiBtb3VudERlaHlkcmF0ZWRTdXNwZW5zZUNvbXBvbmVudCh3b3JrSW5Qcm9ncmVzcywgc3VzcGVuc2VJbnN0YW5jZSwgcmVuZGVyRXhwaXJhdGlvblRpbWUpIHtcbiAgLy8gRHVyaW5nIHRoZSBmaXJzdCBwYXNzLCB3ZSdsbCBiYWlsIG91dCBhbmQgbm90IGRyaWxsIGludG8gdGhlIGNoaWxkcmVuLlxuICAvLyBJbnN0ZWFkLCB3ZSdsbCBsZWF2ZSB0aGUgY29udGVudCBpbiBwbGFjZSBhbmQgdHJ5IHRvIGh5ZHJhdGUgaXQgbGF0ZXIuXG4gIGlmICgod29ya0luUHJvZ3Jlc3MubW9kZSAmIEJsb2NraW5nTW9kZSkgPT09IE5vTW9kZSkge1xuICAgIHtcbiAgICAgIHdhcm5pbmckMShmYWxzZSwgJ0Nhbm5vdCBoeWRyYXRlIFN1c3BlbnNlIGluIGxlZ2FjeSBtb2RlLiBTd2l0Y2ggZnJvbSAnICsgJ1JlYWN0RE9NLmh5ZHJhdGUoZWxlbWVudCwgY29udGFpbmVyKSB0byAnICsgJ1JlYWN0RE9NLmNyZWF0ZUJsb2NraW5nUm9vdChjb250YWluZXIsIHsgaHlkcmF0ZTogdHJ1ZSB9KScgKyAnLnJlbmRlcihlbGVtZW50KSBvciByZW1vdmUgdGhlIFN1c3BlbnNlIGNvbXBvbmVudHMgZnJvbSAnICsgJ3RoZSBzZXJ2ZXIgcmVuZGVyZWQgY29tcG9uZW50cy4nKTtcbiAgICB9XG5cbiAgICB3b3JrSW5Qcm9ncmVzcy5leHBpcmF0aW9uVGltZSA9IFN5bmM7XG4gIH0gZWxzZSBpZiAoaXNTdXNwZW5zZUluc3RhbmNlRmFsbGJhY2soc3VzcGVuc2VJbnN0YW5jZSkpIHtcbiAgICAvLyBUaGlzIGlzIGEgY2xpZW50LW9ubHkgYm91bmRhcnkuIFNpbmNlIHdlIHdvbid0IGdldCBhbnkgY29udGVudCBmcm9tIHRoZSBzZXJ2ZXJcbiAgICAvLyBmb3IgdGhpcywgd2UgbmVlZCB0byBzY2hlZHVsZSB0aGF0IGF0IGEgaGlnaGVyIHByaW9yaXR5IGJhc2VkIG9uIHdoZW4gaXQgd291bGRcbiAgICAvLyBoYXZlIHRpbWVkIG91dC4gSW4gdGhlb3J5IHdlIGNvdWxkIHJlbmRlciBpdCBpbiB0aGlzIHBhc3MgYnV0IGl0IHdvdWxkIGhhdmUgdGhlXG4gICAgLy8gd3JvbmcgcHJpb3JpdHkgYXNzb2NpYXRlZCB3aXRoIGl0IGFuZCB3aWxsIHByZXZlbnQgaHlkcmF0aW9uIG9mIHBhcmVudCBwYXRoLlxuICAgIC8vIEluc3RlYWQsIHdlJ2xsIGxlYXZlIHdvcmsgbGVmdCBvbiBpdCB0byByZW5kZXIgaXQgaW4gYSBzZXBhcmF0ZSBjb21taXQuXG4gICAgLy8gVE9ETyBUaGlzIHRpbWUgc2hvdWxkIGJlIHRoZSB0aW1lIGF0IHdoaWNoIHRoZSBzZXJ2ZXIgcmVuZGVyZWQgcmVzcG9uc2UgdGhhdCBpc1xuICAgIC8vIGEgcGFyZW50IHRvIHRoaXMgYm91bmRhcnkgd2FzIGRpc3BsYXllZC4gSG93ZXZlciwgc2luY2Ugd2UgY3VycmVudGx5IGRvbid0IGhhdmVcbiAgICAvLyBhIHByb3RvY29sIHRvIHRyYW5zZmVyIHRoYXQgdGltZSwgd2UnbGwganVzdCBlc3RpbWF0ZSBpdCBieSB1c2luZyB0aGUgY3VycmVudFxuICAgIC8vIHRpbWUuIFRoaXMgd2lsbCBtZWFuIHRoYXQgU3VzcGVuc2UgdGltZW91dHMgYXJlIHNsaWdodGx5IHNoaWZ0ZWQgdG8gbGF0ZXIgdGhhblxuICAgIC8vIHRoZXkgc2hvdWxkIGJlLlxuICAgIHZhciBzZXJ2ZXJEaXNwbGF5VGltZSA9IHJlcXVlc3RDdXJyZW50VGltZUZvclVwZGF0ZSgpOyAvLyBTY2hlZHVsZSBhIG5vcm1hbCBwcmkgdXBkYXRlIHRvIHJlbmRlciB0aGlzIGNvbnRlbnQuXG5cbiAgICB2YXIgbmV3RXhwaXJhdGlvblRpbWUgPSBjb21wdXRlQXN5bmNFeHBpcmF0aW9uKHNlcnZlckRpc3BsYXlUaW1lKTtcblxuICAgIGlmIChlbmFibGVTY2hlZHVsZXJUcmFjaW5nKSB7XG4gICAgICBtYXJrU3Bhd25lZFdvcmsobmV3RXhwaXJhdGlvblRpbWUpO1xuICAgIH1cblxuICAgIHdvcmtJblByb2dyZXNzLmV4cGlyYXRpb25UaW1lID0gbmV3RXhwaXJhdGlvblRpbWU7XG4gIH0gZWxzZSB7XG4gICAgLy8gV2UnbGwgY29udGludWUgaHlkcmF0aW5nIHRoZSByZXN0IGF0IG9mZnNjcmVlbiBwcmlvcml0eSBzaW5jZSB3ZSdsbCBhbHJlYWR5XG4gICAgLy8gYmUgc2hvd2luZyB0aGUgcmlnaHQgY29udGVudCBjb21pbmcgZnJvbSB0aGUgc2VydmVyLCBpdCBpcyBubyBydXNoLlxuICAgIHdvcmtJblByb2dyZXNzLmV4cGlyYXRpb25UaW1lID0gTmV2ZXI7XG5cbiAgICBpZiAoZW5hYmxlU2NoZWR1bGVyVHJhY2luZykge1xuICAgICAgbWFya1NwYXduZWRXb3JrKE5ldmVyKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gdXBkYXRlRGVoeWRyYXRlZFN1c3BlbnNlQ29tcG9uZW50KGN1cnJlbnQkJDEsIHdvcmtJblByb2dyZXNzLCBzdXNwZW5zZUluc3RhbmNlLCBzdXNwZW5zZVN0YXRlLCByZW5kZXJFeHBpcmF0aW9uVGltZSkge1xuICAvLyBXZSBzaG91bGQgbmV2ZXIgYmUgaHlkcmF0aW5nIGF0IHRoaXMgcG9pbnQgYmVjYXVzZSBpdCBpcyB0aGUgZmlyc3QgcGFzcyxcbiAgLy8gYnV0IGFmdGVyIHdlJ3ZlIGFscmVhZHkgY29tbWl0dGVkIG9uY2UuXG4gIHdhcm5JZkh5ZHJhdGluZygpO1xuXG4gIGlmICgod29ya0luUHJvZ3Jlc3MubW9kZSAmIEJsb2NraW5nTW9kZSkgPT09IE5vTW9kZSkge1xuICAgIHJldHVybiByZXRyeVN1c3BlbnNlQ29tcG9uZW50V2l0aG91dEh5ZHJhdGluZyhjdXJyZW50JCQxLCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICB9XG5cbiAgaWYgKGlzU3VzcGVuc2VJbnN0YW5jZUZhbGxiYWNrKHN1c3BlbnNlSW5zdGFuY2UpKSB7XG4gICAgLy8gVGhpcyBib3VuZGFyeSBpcyBpbiBhIHBlcm1hbmVudCBmYWxsYmFjayBzdGF0ZS4gSW4gdGhpcyBjYXNlLCB3ZSdsbCBuZXZlclxuICAgIC8vIGdldCBhbiB1cGRhdGUgYW5kIHdlJ2xsIG5ldmVyIGJlIGFibGUgdG8gaHlkcmF0ZSB0aGUgZmluYWwgY29udGVudC4gTGV0J3MganVzdCB0cnkgdGhlXG4gICAgLy8gY2xpZW50IHNpZGUgcmVuZGVyIGluc3RlYWQuXG4gICAgcmV0dXJuIHJldHJ5U3VzcGVuc2VDb21wb25lbnRXaXRob3V0SHlkcmF0aW5nKGN1cnJlbnQkJDEsIHdvcmtJblByb2dyZXNzLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gIH0gLy8gV2UgdXNlIGNoaWxkRXhwaXJhdGlvblRpbWUgdG8gaW5kaWNhdGUgdGhhdCBhIGNoaWxkIG1pZ2h0IGRlcGVuZCBvbiBjb250ZXh0LCBzbyBpZlxuICAvLyBhbnkgY29udGV4dCBoYXMgY2hhbmdlZCwgd2UgbmVlZCB0byB0cmVhdCBpcyBhcyBpZiB0aGUgaW5wdXQgbWlnaHQgaGF2ZSBjaGFuZ2VkLlxuXG5cbiAgdmFyIGhhc0NvbnRleHRDaGFuZ2VkJCQxID0gY3VycmVudCQkMS5jaGlsZEV4cGlyYXRpb25UaW1lID49IHJlbmRlckV4cGlyYXRpb25UaW1lO1xuXG4gIGlmIChkaWRSZWNlaXZlVXBkYXRlIHx8IGhhc0NvbnRleHRDaGFuZ2VkJCQxKSB7XG4gICAgLy8gVGhpcyBib3VuZGFyeSBoYXMgY2hhbmdlZCBzaW5jZSB0aGUgZmlyc3QgcmVuZGVyLiBUaGlzIG1lYW5zIHRoYXQgd2UgYXJlIG5vdyB1bmFibGUgdG9cbiAgICAvLyBoeWRyYXRlIGl0LiBXZSBtaWdodCBzdGlsbCBiZSBhYmxlIHRvIGh5ZHJhdGUgaXQgdXNpbmcgYW4gZWFybGllciBleHBpcmF0aW9uIHRpbWUsIGlmXG4gICAgLy8gd2UgYXJlIHJlbmRlcmluZyBhdCBsb3dlciBleHBpcmF0aW9uIHRoYW4gc3luYy5cbiAgICBpZiAocmVuZGVyRXhwaXJhdGlvblRpbWUgPCBTeW5jKSB7XG4gICAgICBpZiAoc3VzcGVuc2VTdGF0ZS5yZXRyeVRpbWUgPD0gcmVuZGVyRXhwaXJhdGlvblRpbWUpIHtcbiAgICAgICAgLy8gVGhpcyByZW5kZXIgaXMgZXZlbiBoaWdoZXIgcHJpIHRoYW4gd2UndmUgc2VlbiBiZWZvcmUsIGxldCdzIHRyeSBhZ2FpblxuICAgICAgICAvLyBhdCBldmVuIGhpZ2hlciBwcmkuXG4gICAgICAgIHZhciBhdHRlbXB0SHlkcmF0aW9uQXRFeHBpcmF0aW9uVGltZSA9IHJlbmRlckV4cGlyYXRpb25UaW1lICsgMTtcbiAgICAgICAgc3VzcGVuc2VTdGF0ZS5yZXRyeVRpbWUgPSBhdHRlbXB0SHlkcmF0aW9uQXRFeHBpcmF0aW9uVGltZTtcbiAgICAgICAgc2NoZWR1bGVXb3JrKGN1cnJlbnQkJDEsIGF0dGVtcHRIeWRyYXRpb25BdEV4cGlyYXRpb25UaW1lKTsgLy8gVE9ETzogRWFybHkgYWJvcnQgdGhpcyByZW5kZXIuXG4gICAgICB9IGVsc2Ugey8vIFdlIGhhdmUgYWxyZWFkeSB0cmllZCB0byBwaW5nIGF0IGEgaGlnaGVyIHByaW9yaXR5IHRoYW4gd2UncmUgcmVuZGVyaW5nIHdpdGhcbiAgICAgICAgICAvLyBzbyBpZiB3ZSBnb3QgaGVyZSwgd2UgbXVzdCBoYXZlIGZhaWxlZCB0byBoeWRyYXRlIGF0IHRob3NlIGxldmVscy4gV2UgbXVzdFxuICAgICAgICAgIC8vIG5vdyBnaXZlIHVwLiBJbnN0ZWFkLCB3ZSdyZSBnb2luZyB0byBkZWxldGUgdGhlIHdob2xlIHN1YnRyZWUgYW5kIGluc3RlYWQgaW5qZWN0XG4gICAgICAgICAgLy8gYSBuZXcgcmVhbCBTdXNwZW5zZSBib3VuZGFyeSB0byB0YWtlIGl0cyBwbGFjZSwgd2hpY2ggbWF5IHJlbmRlciBjb250ZW50XG4gICAgICAgICAgLy8gb3IgZmFsbGJhY2suIFRoaXMgbWlnaHQgc3VzcGVuZCBmb3IgYSB3aGlsZSBhbmQgaWYgaXQgZG9lcyB3ZSBtaWdodCBzdGlsbCBoYXZlXG4gICAgICAgICAgLy8gYW4gb3Bwb3J0dW5pdHkgdG8gaHlkcmF0ZSBiZWZvcmUgdGhpcyBwYXNzIGNvbW1pdHMuXG4gICAgICAgIH1cbiAgICB9IC8vIElmIHdlIGhhdmUgc2NoZWR1bGVkIGhpZ2hlciBwcmkgd29yayBhYm92ZSwgdGhpcyB3aWxsIHByb2JhYmx5IGp1c3QgYWJvcnQgdGhlIHJlbmRlclxuICAgIC8vIHNpbmNlIHdlIG5vdyBoYXZlIGhpZ2hlciBwcmlvcml0eSB3b3JrLCBidXQgaW4gY2FzZSBpdCBkb2Vzbid0LCB3ZSBuZWVkIHRvIHByZXBhcmUgdG9cbiAgICAvLyByZW5kZXIgc29tZXRoaW5nLCBpZiB3ZSB0aW1lIG91dC4gRXZlbiBpZiB0aGF0IHJlcXVpcmVzIHVzIHRvIGRlbGV0ZSBldmVyeXRoaW5nIGFuZFxuICAgIC8vIHNraXAgaHlkcmF0aW9uLlxuICAgIC8vIERlbGF5IGhhdmluZyB0byBkbyB0aGlzIGFzIGxvbmcgYXMgdGhlIHN1c3BlbnNlIHRpbWVvdXQgYWxsb3dzIHVzLlxuXG5cbiAgICByZW5kZXJEaWRTdXNwZW5kRGVsYXlJZlBvc3NpYmxlKCk7XG4gICAgcmV0dXJuIHJldHJ5U3VzcGVuc2VDb21wb25lbnRXaXRob3V0SHlkcmF0aW5nKGN1cnJlbnQkJDEsIHdvcmtJblByb2dyZXNzLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gIH0gZWxzZSBpZiAoaXNTdXNwZW5zZUluc3RhbmNlUGVuZGluZyhzdXNwZW5zZUluc3RhbmNlKSkge1xuICAgIC8vIFRoaXMgY29tcG9uZW50IGlzIHN0aWxsIHBlbmRpbmcgbW9yZSBkYXRhIGZyb20gdGhlIHNlcnZlciwgc28gd2UgY2FuJ3QgaHlkcmF0ZSBpdHNcbiAgICAvLyBjb250ZW50LiBXZSB0cmVhdCBpdCBhcyBpZiB0aGlzIGNvbXBvbmVudCBzdXNwZW5kZWQgaXRzZWxmLiBJdCBtaWdodCBzZWVtIGFzIGlmXG4gICAgLy8gd2UgY291bGQganVzdCB0cnkgdG8gcmVuZGVyIGl0IGNsaWVudC1zaWRlIGluc3RlYWQuIEhvd2V2ZXIsIHRoaXMgd2lsbCBwZXJmb3JtIGFcbiAgICAvLyBsb3Qgb2YgdW5uZWNlc3Nhcnkgd29yayBhbmQgaXMgdW5saWtlbHkgdG8gY29tcGxldGUgc2luY2UgaXQgb2Z0ZW4gd2lsbCBzdXNwZW5kXG4gICAgLy8gb24gbWlzc2luZyBkYXRhIGFueXdheS4gQWRkaXRpb25hbGx5LCB0aGUgc2VydmVyIG1pZ2h0IGJlIGFibGUgdG8gcmVuZGVyIG1vcmVcbiAgICAvLyB0aGFuIHdlIGNhbiBvbiB0aGUgY2xpZW50IHlldC4gSW4gdGhhdCBjYXNlIHdlJ2QgZW5kIHVwIHdpdGggbW9yZSBmYWxsYmFjayBzdGF0ZXNcbiAgICAvLyBvbiB0aGUgY2xpZW50IHRoYW4gaWYgd2UganVzdCBsZWF2ZSBpdCBhbG9uZS4gSWYgdGhlIHNlcnZlciB0aW1lcyBvdXQgb3IgZXJyb3JzXG4gICAgLy8gdGhlc2Ugc2hvdWxkIHVwZGF0ZSB0aGlzIGJvdW5kYXJ5IHRvIHRoZSBwZXJtYW5lbnQgRmFsbGJhY2sgc3RhdGUgaW5zdGVhZC5cbiAgICAvLyBNYXJrIGl0IGFzIGhhdmluZyBjYXB0dXJlZCAoaS5lLiBzdXNwZW5kZWQpLlxuICAgIHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyB8PSBEaWRDYXB0dXJlOyAvLyBMZWF2ZSB0aGUgY2hpbGQgaW4gcGxhY2UuIEkuZS4gdGhlIGRlaHlkcmF0ZWQgZnJhZ21lbnQuXG5cbiAgICB3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IGN1cnJlbnQkJDEuY2hpbGQ7IC8vIFJlZ2lzdGVyIGEgY2FsbGJhY2sgdG8gcmV0cnkgdGhpcyBib3VuZGFyeSBvbmNlIHRoZSBzZXJ2ZXIgaGFzIHNlbnQgdGhlIHJlc3VsdC5cblxuICAgIHJlZ2lzdGVyU3VzcGVuc2VJbnN0YW5jZVJldHJ5KHN1c3BlbnNlSW5zdGFuY2UsIHJldHJ5RGVoeWRyYXRlZFN1c3BlbnNlQm91bmRhcnkuYmluZChudWxsLCBjdXJyZW50JCQxKSk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH0gZWxzZSB7XG4gICAgLy8gVGhpcyBpcyB0aGUgZmlyc3QgYXR0ZW1wdC5cbiAgICByZWVudGVySHlkcmF0aW9uU3RhdGVGcm9tRGVoeWRyYXRlZFN1c3BlbnNlSW5zdGFuY2Uod29ya0luUHJvZ3Jlc3MsIHN1c3BlbnNlSW5zdGFuY2UpO1xuICAgIHZhciBuZXh0UHJvcHMgPSB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHM7XG4gICAgdmFyIG5leHRDaGlsZHJlbiA9IG5leHRQcm9wcy5jaGlsZHJlbjtcbiAgICB2YXIgY2hpbGQgPSBtb3VudENoaWxkRmliZXJzKHdvcmtJblByb2dyZXNzLCBudWxsLCBuZXh0Q2hpbGRyZW4sIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgICB2YXIgbm9kZSA9IGNoaWxkO1xuXG4gICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgIC8vIE1hcmsgZWFjaCBjaGlsZCBhcyBoeWRyYXRpbmcuIFRoaXMgaXMgYSBmYXN0IHBhdGggdG8ga25vdyB3aGV0aGVyIHRoaXNcbiAgICAgIC8vIHRyZWUgaXMgcGFydCBvZiBhIGh5ZHJhdGluZyB0cmVlLiBUaGlzIGlzIHVzZWQgdG8gZGV0ZXJtaW5lIGlmIGEgY2hpbGRcbiAgICAgIC8vIG5vZGUgaGFzIGZ1bGx5IG1vdW50ZWQgeWV0LCBhbmQgZm9yIHNjaGVkdWxpbmcgZXZlbnQgcmVwbGF5aW5nLlxuICAgICAgLy8gQ29uY2VwdHVhbGx5IHRoaXMgaXMgc2ltaWxhciB0byBQbGFjZW1lbnQgaW4gdGhhdCBhIG5ldyBzdWJ0cmVlIGlzXG4gICAgICAvLyBpbnNlcnRlZCBpbnRvIHRoZSBSZWFjdCB0cmVlIGhlcmUuIEl0IGp1c3QgaGFwcGVucyB0byBub3QgbmVlZCBET01cbiAgICAgIC8vIG11dGF0aW9ucyBiZWNhdXNlIGl0IGFscmVhZHkgZXhpc3RzLlxuICAgICAgbm9kZS5lZmZlY3RUYWcgfD0gSHlkcmF0aW5nO1xuICAgICAgbm9kZSA9IG5vZGUuc2libGluZztcbiAgICB9XG5cbiAgICB3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IGNoaWxkO1xuICAgIHJldHVybiB3b3JrSW5Qcm9ncmVzcy5jaGlsZDtcbiAgfVxufVxuXG5mdW5jdGlvbiBzY2hlZHVsZVdvcmtPbkZpYmVyKGZpYmVyLCByZW5kZXJFeHBpcmF0aW9uVGltZSkge1xuICBpZiAoZmliZXIuZXhwaXJhdGlvblRpbWUgPCByZW5kZXJFeHBpcmF0aW9uVGltZSkge1xuICAgIGZpYmVyLmV4cGlyYXRpb25UaW1lID0gcmVuZGVyRXhwaXJhdGlvblRpbWU7XG4gIH1cblxuICB2YXIgYWx0ZXJuYXRlID0gZmliZXIuYWx0ZXJuYXRlO1xuXG4gIGlmIChhbHRlcm5hdGUgIT09IG51bGwgJiYgYWx0ZXJuYXRlLmV4cGlyYXRpb25UaW1lIDwgcmVuZGVyRXhwaXJhdGlvblRpbWUpIHtcbiAgICBhbHRlcm5hdGUuZXhwaXJhdGlvblRpbWUgPSByZW5kZXJFeHBpcmF0aW9uVGltZTtcbiAgfVxuXG4gIHNjaGVkdWxlV29ya09uUGFyZW50UGF0aChmaWJlci5yZXR1cm4sIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbn1cblxuZnVuY3Rpb24gcHJvcGFnYXRlU3VzcGVuc2VDb250ZXh0Q2hhbmdlKHdvcmtJblByb2dyZXNzLCBmaXJzdENoaWxkLCByZW5kZXJFeHBpcmF0aW9uVGltZSkge1xuICAvLyBNYXJrIGFueSBTdXNwZW5zZSBib3VuZGFyaWVzIHdpdGggZmFsbGJhY2tzIGFzIGhhdmluZyB3b3JrIHRvIGRvLlxuICAvLyBJZiB0aGV5IHdlcmUgcHJldmlvdXNseSBmb3JjZWQgaW50byBmYWxsYmFja3MsIHRoZXkgbWF5IG5vdyBiZSBhYmxlXG4gIC8vIHRvIHVuYmxvY2suXG4gIHZhciBub2RlID0gZmlyc3RDaGlsZDtcblxuICB3aGlsZSAobm9kZSAhPT0gbnVsbCkge1xuICAgIGlmIChub2RlLnRhZyA9PT0gU3VzcGVuc2VDb21wb25lbnQpIHtcbiAgICAgIHZhciBzdGF0ZSA9IG5vZGUubWVtb2l6ZWRTdGF0ZTtcblxuICAgICAgaWYgKHN0YXRlICE9PSBudWxsKSB7XG4gICAgICAgIHNjaGVkdWxlV29ya09uRmliZXIobm9kZSwgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAobm9kZS50YWcgPT09IFN1c3BlbnNlTGlzdENvbXBvbmVudCkge1xuICAgICAgLy8gSWYgdGhlIHRhaWwgaXMgaGlkZGVuIHRoZXJlIG1pZ2h0IG5vdCBiZSBhbiBTdXNwZW5zZSBib3VuZGFyaWVzXG4gICAgICAvLyB0byBzY2hlZHVsZSB3b3JrIG9uLiBJbiB0aGlzIGNhc2Ugd2UgaGF2ZSB0byBzY2hlZHVsZSBpdCBvbiB0aGVcbiAgICAgIC8vIGxpc3QgaXRzZWxmLlxuICAgICAgLy8gV2UgZG9uJ3QgaGF2ZSB0byB0cmF2ZXJzZSB0byB0aGUgY2hpbGRyZW4gb2YgdGhlIGxpc3Qgc2luY2VcbiAgICAgIC8vIHRoZSBsaXN0IHdpbGwgcHJvcGFnYXRlIHRoZSBjaGFuZ2Ugd2hlbiBpdCByZXJlbmRlcnMuXG4gICAgICBzY2hlZHVsZVdvcmtPbkZpYmVyKG5vZGUsIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgICB9IGVsc2UgaWYgKG5vZGUuY2hpbGQgIT09IG51bGwpIHtcbiAgICAgIG5vZGUuY2hpbGQucmV0dXJuID0gbm9kZTtcbiAgICAgIG5vZGUgPSBub2RlLmNoaWxkO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKG5vZGUgPT09IHdvcmtJblByb2dyZXNzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgd2hpbGUgKG5vZGUuc2libGluZyA9PT0gbnVsbCkge1xuICAgICAgaWYgKG5vZGUucmV0dXJuID09PSBudWxsIHx8IG5vZGUucmV0dXJuID09PSB3b3JrSW5Qcm9ncmVzcykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIG5vZGUgPSBub2RlLnJldHVybjtcbiAgICB9XG5cbiAgICBub2RlLnNpYmxpbmcucmV0dXJuID0gbm9kZS5yZXR1cm47XG4gICAgbm9kZSA9IG5vZGUuc2libGluZztcbiAgfVxufVxuXG5mdW5jdGlvbiBmaW5kTGFzdENvbnRlbnRSb3coZmlyc3RDaGlsZCkge1xuICAvLyBUaGlzIGlzIGdvaW5nIHRvIGZpbmQgdGhlIGxhc3Qgcm93IGFtb25nIHRoZXNlIGNoaWxkcmVuIHRoYXQgaXMgYWxyZWFkeVxuICAvLyBzaG93aW5nIGNvbnRlbnQgb24gdGhlIHNjcmVlbiwgYXMgb3Bwb3NlZCB0byBiZWluZyBpbiBmYWxsYmFjayBzdGF0ZSBvclxuICAvLyBuZXcuIElmIGEgcm93IGhhcyBtdWx0aXBsZSBTdXNwZW5zZSBib3VuZGFyaWVzLCBhbnkgb2YgdGhlbSBiZWluZyBpbiB0aGVcbiAgLy8gZmFsbGJhY2sgc3RhdGUsIGNvdW50cyBhcyB0aGUgd2hvbGUgcm93IGJlaW5nIGluIGEgZmFsbGJhY2sgc3RhdGUuXG4gIC8vIE5vdGUgdGhhdCB0aGUgXCJyb3dzXCIgd2lsbCBiZSB3b3JrSW5Qcm9ncmVzcywgYnV0IGFueSBuZXN0ZWQgY2hpbGRyZW5cbiAgLy8gd2lsbCBzdGlsbCBiZSBjdXJyZW50IHNpbmNlIHdlIGhhdmVuJ3QgcmVuZGVyZWQgdGhlbSB5ZXQuIFRoZSBtb3VudGVkXG4gIC8vIG9yZGVyIG1heSBub3QgYmUgdGhlIHNhbWUgYXMgdGhlIG5ldyBvcmRlci4gV2UgdXNlIHRoZSBuZXcgb3JkZXIuXG4gIHZhciByb3cgPSBmaXJzdENoaWxkO1xuICB2YXIgbGFzdENvbnRlbnRSb3cgPSBudWxsO1xuXG4gIHdoaWxlIChyb3cgIT09IG51bGwpIHtcbiAgICB2YXIgY3VycmVudFJvdyA9IHJvdy5hbHRlcm5hdGU7IC8vIE5ldyByb3dzIGNhbid0IGJlIGNvbnRlbnQgcm93cy5cblxuICAgIGlmIChjdXJyZW50Um93ICE9PSBudWxsICYmIGZpbmRGaXJzdFN1c3BlbmRlZChjdXJyZW50Um93KSA9PT0gbnVsbCkge1xuICAgICAgbGFzdENvbnRlbnRSb3cgPSByb3c7XG4gICAgfVxuXG4gICAgcm93ID0gcm93LnNpYmxpbmc7XG4gIH1cblxuICByZXR1cm4gbGFzdENvbnRlbnRSb3c7XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlUmV2ZWFsT3JkZXIocmV2ZWFsT3JkZXIpIHtcbiAge1xuICAgIGlmIChyZXZlYWxPcmRlciAhPT0gdW5kZWZpbmVkICYmIHJldmVhbE9yZGVyICE9PSAnZm9yd2FyZHMnICYmIHJldmVhbE9yZGVyICE9PSAnYmFja3dhcmRzJyAmJiByZXZlYWxPcmRlciAhPT0gJ3RvZ2V0aGVyJyAmJiAhZGlkV2FybkFib3V0UmV2ZWFsT3JkZXJbcmV2ZWFsT3JkZXJdKSB7XG4gICAgICBkaWRXYXJuQWJvdXRSZXZlYWxPcmRlcltyZXZlYWxPcmRlcl0gPSB0cnVlO1xuXG4gICAgICBpZiAodHlwZW9mIHJldmVhbE9yZGVyID09PSAnc3RyaW5nJykge1xuICAgICAgICBzd2l0Y2ggKHJldmVhbE9yZGVyLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgICBjYXNlICd0b2dldGhlcic6XG4gICAgICAgICAgY2FzZSAnZm9yd2FyZHMnOlxuICAgICAgICAgIGNhc2UgJ2JhY2t3YXJkcyc6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHdhcm5pbmckMShmYWxzZSwgJ1wiJXNcIiBpcyBub3QgYSB2YWxpZCB2YWx1ZSBmb3IgcmV2ZWFsT3JkZXIgb24gPFN1c3BlbnNlTGlzdCAvPi4gJyArICdVc2UgbG93ZXJjYXNlIFwiJXNcIiBpbnN0ZWFkLicsIHJldmVhbE9yZGVyLCByZXZlYWxPcmRlci50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlICdmb3J3YXJkJzpcbiAgICAgICAgICBjYXNlICdiYWNrd2FyZCc6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHdhcm5pbmckMShmYWxzZSwgJ1wiJXNcIiBpcyBub3QgYSB2YWxpZCB2YWx1ZSBmb3IgcmV2ZWFsT3JkZXIgb24gPFN1c3BlbnNlTGlzdCAvPi4gJyArICdSZWFjdCB1c2VzIHRoZSAtcyBzdWZmaXggaW4gdGhlIHNwZWxsaW5nLiBVc2UgXCIlc3NcIiBpbnN0ZWFkLicsIHJldmVhbE9yZGVyLCByZXZlYWxPcmRlci50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgd2FybmluZyQxKGZhbHNlLCAnXCIlc1wiIGlzIG5vdCBhIHN1cHBvcnRlZCByZXZlYWxPcmRlciBvbiA8U3VzcGVuc2VMaXN0IC8+LiAnICsgJ0RpZCB5b3UgbWVhbiBcInRvZ2V0aGVyXCIsIFwiZm9yd2FyZHNcIiBvciBcImJhY2t3YXJkc1wiPycsIHJldmVhbE9yZGVyKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3YXJuaW5nJDEoZmFsc2UsICclcyBpcyBub3QgYSBzdXBwb3J0ZWQgdmFsdWUgZm9yIHJldmVhbE9yZGVyIG9uIDxTdXNwZW5zZUxpc3QgLz4uICcgKyAnRGlkIHlvdSBtZWFuIFwidG9nZXRoZXJcIiwgXCJmb3J3YXJkc1wiIG9yIFwiYmFja3dhcmRzXCI/JywgcmV2ZWFsT3JkZXIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZVRhaWxPcHRpb25zKHRhaWxNb2RlLCByZXZlYWxPcmRlcikge1xuICB7XG4gICAgaWYgKHRhaWxNb2RlICE9PSB1bmRlZmluZWQgJiYgIWRpZFdhcm5BYm91dFRhaWxPcHRpb25zW3RhaWxNb2RlXSkge1xuICAgICAgaWYgKHRhaWxNb2RlICE9PSAnY29sbGFwc2VkJyAmJiB0YWlsTW9kZSAhPT0gJ2hpZGRlbicpIHtcbiAgICAgICAgZGlkV2FybkFib3V0VGFpbE9wdGlvbnNbdGFpbE1vZGVdID0gdHJ1ZTtcbiAgICAgICAgd2FybmluZyQxKGZhbHNlLCAnXCIlc1wiIGlzIG5vdCBhIHN1cHBvcnRlZCB2YWx1ZSBmb3IgdGFpbCBvbiA8U3VzcGVuc2VMaXN0IC8+LiAnICsgJ0RpZCB5b3UgbWVhbiBcImNvbGxhcHNlZFwiIG9yIFwiaGlkZGVuXCI/JywgdGFpbE1vZGUpO1xuICAgICAgfSBlbHNlIGlmIChyZXZlYWxPcmRlciAhPT0gJ2ZvcndhcmRzJyAmJiByZXZlYWxPcmRlciAhPT0gJ2JhY2t3YXJkcycpIHtcbiAgICAgICAgZGlkV2FybkFib3V0VGFpbE9wdGlvbnNbdGFpbE1vZGVdID0gdHJ1ZTtcbiAgICAgICAgd2FybmluZyQxKGZhbHNlLCAnPFN1c3BlbnNlTGlzdCB0YWlsPVwiJXNcIiAvPiBpcyBvbmx5IHZhbGlkIGlmIHJldmVhbE9yZGVyIGlzICcgKyAnXCJmb3J3YXJkc1wiIG9yIFwiYmFja3dhcmRzXCIuICcgKyAnRGlkIHlvdSBtZWFuIHRvIHNwZWNpZnkgcmV2ZWFsT3JkZXI9XCJmb3J3YXJkc1wiPycsIHRhaWxNb2RlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVTdXNwZW5zZUxpc3ROZXN0ZWRDaGlsZChjaGlsZFNsb3QsIGluZGV4KSB7XG4gIHtcbiAgICB2YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkoY2hpbGRTbG90KTtcbiAgICB2YXIgaXNJdGVyYWJsZSA9ICFpc0FycmF5ICYmIHR5cGVvZiBnZXRJdGVyYXRvckZuKGNoaWxkU2xvdCkgPT09ICdmdW5jdGlvbic7XG5cbiAgICBpZiAoaXNBcnJheSB8fCBpc0l0ZXJhYmxlKSB7XG4gICAgICB2YXIgdHlwZSA9IGlzQXJyYXkgPyAnYXJyYXknIDogJ2l0ZXJhYmxlJztcbiAgICAgIHdhcm5pbmckMShmYWxzZSwgJ0EgbmVzdGVkICVzIHdhcyBwYXNzZWQgdG8gcm93ICMlcyBpbiA8U3VzcGVuc2VMaXN0IC8+LiBXcmFwIGl0IGluICcgKyAnYW4gYWRkaXRpb25hbCBTdXNwZW5zZUxpc3QgdG8gY29uZmlndXJlIGl0cyByZXZlYWxPcmRlcjogJyArICc8U3VzcGVuc2VMaXN0IHJldmVhbE9yZGVyPS4uLj4gLi4uICcgKyAnPFN1c3BlbnNlTGlzdCByZXZlYWxPcmRlcj0uLi4+eyVzfTwvU3VzcGVuc2VMaXN0PiAuLi4gJyArICc8L1N1c3BlbnNlTGlzdD4nLCB0eXBlLCBpbmRleCwgdHlwZSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlU3VzcGVuc2VMaXN0Q2hpbGRyZW4oY2hpbGRyZW4sIHJldmVhbE9yZGVyKSB7XG4gIHtcbiAgICBpZiAoKHJldmVhbE9yZGVyID09PSAnZm9yd2FyZHMnIHx8IHJldmVhbE9yZGVyID09PSAnYmFja3dhcmRzJykgJiYgY2hpbGRyZW4gIT09IHVuZGVmaW5lZCAmJiBjaGlsZHJlbiAhPT0gbnVsbCAmJiBjaGlsZHJlbiAhPT0gZmFsc2UpIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGNoaWxkcmVuKSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKCF2YWxpZGF0ZVN1c3BlbnNlTGlzdE5lc3RlZENoaWxkKGNoaWxkcmVuW2ldLCBpKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGl0ZXJhdG9yRm4gPSBnZXRJdGVyYXRvckZuKGNoaWxkcmVuKTtcblxuICAgICAgICBpZiAodHlwZW9mIGl0ZXJhdG9yRm4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB2YXIgY2hpbGRyZW5JdGVyYXRvciA9IGl0ZXJhdG9yRm4uY2FsbChjaGlsZHJlbik7XG5cbiAgICAgICAgICBpZiAoY2hpbGRyZW5JdGVyYXRvcikge1xuICAgICAgICAgICAgdmFyIHN0ZXAgPSBjaGlsZHJlbkl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgICAgIHZhciBfaSA9IDA7XG5cbiAgICAgICAgICAgIGZvciAoOyAhc3RlcC5kb25lOyBzdGVwID0gY2hpbGRyZW5JdGVyYXRvci5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgaWYgKCF2YWxpZGF0ZVN1c3BlbnNlTGlzdE5lc3RlZENoaWxkKHN0ZXAudmFsdWUsIF9pKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIF9pKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHdhcm5pbmckMShmYWxzZSwgJ0Egc2luZ2xlIHJvdyB3YXMgcGFzc2VkIHRvIGEgPFN1c3BlbnNlTGlzdCByZXZlYWxPcmRlcj1cIiVzXCIgLz4uICcgKyAnVGhpcyBpcyBub3QgdXNlZnVsIHNpbmNlIGl0IG5lZWRzIG11bHRpcGxlIHJvd3MuICcgKyAnRGlkIHlvdSBtZWFuIHRvIHBhc3MgbXVsdGlwbGUgY2hpbGRyZW4gb3IgYW4gYXJyYXk/JywgcmV2ZWFsT3JkZXIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGluaXRTdXNwZW5zZUxpc3RSZW5kZXJTdGF0ZSh3b3JrSW5Qcm9ncmVzcywgaXNCYWNrd2FyZHMsIHRhaWwsIGxhc3RDb250ZW50Um93LCB0YWlsTW9kZSwgbGFzdEVmZmVjdEJlZm9yZVJlbmRlcmluZykge1xuICB2YXIgcmVuZGVyU3RhdGUgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlO1xuXG4gIGlmIChyZW5kZXJTdGF0ZSA9PT0gbnVsbCkge1xuICAgIHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPSB7XG4gICAgICBpc0JhY2t3YXJkczogaXNCYWNrd2FyZHMsXG4gICAgICByZW5kZXJpbmc6IG51bGwsXG4gICAgICBsYXN0OiBsYXN0Q29udGVudFJvdyxcbiAgICAgIHRhaWw6IHRhaWwsXG4gICAgICB0YWlsRXhwaXJhdGlvbjogMCxcbiAgICAgIHRhaWxNb2RlOiB0YWlsTW9kZSxcbiAgICAgIGxhc3RFZmZlY3Q6IGxhc3RFZmZlY3RCZWZvcmVSZW5kZXJpbmdcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIC8vIFdlIGNhbiByZXVzZSB0aGUgZXhpc3Rpbmcgb2JqZWN0IGZyb20gcHJldmlvdXMgcmVuZGVycy5cbiAgICByZW5kZXJTdGF0ZS5pc0JhY2t3YXJkcyA9IGlzQmFja3dhcmRzO1xuICAgIHJlbmRlclN0YXRlLnJlbmRlcmluZyA9IG51bGw7XG4gICAgcmVuZGVyU3RhdGUubGFzdCA9IGxhc3RDb250ZW50Um93O1xuICAgIHJlbmRlclN0YXRlLnRhaWwgPSB0YWlsO1xuICAgIHJlbmRlclN0YXRlLnRhaWxFeHBpcmF0aW9uID0gMDtcbiAgICByZW5kZXJTdGF0ZS50YWlsTW9kZSA9IHRhaWxNb2RlO1xuICAgIHJlbmRlclN0YXRlLmxhc3RFZmZlY3QgPSBsYXN0RWZmZWN0QmVmb3JlUmVuZGVyaW5nO1xuICB9XG59IC8vIFRoaXMgY2FuIGVuZCB1cCByZW5kZXJpbmcgdGhpcyBjb21wb25lbnQgbXVsdGlwbGUgcGFzc2VzLlxuLy8gVGhlIGZpcnN0IHBhc3Mgc3BsaXRzIHRoZSBjaGlsZHJlbiBmaWJlcnMgaW50byB0d28gc2V0cy4gQSBoZWFkIGFuZCB0YWlsLlxuLy8gV2UgZmlyc3QgcmVuZGVyIHRoZSBoZWFkLiBJZiBhbnl0aGluZyBpcyBpbiBmYWxsYmFjayBzdGF0ZSwgd2UgZG8gYW5vdGhlclxuLy8gcGFzcyB0aHJvdWdoIGJlZ2luV29yayB0byByZXJlbmRlciBhbGwgY2hpbGRyZW4gKGluY2x1ZGluZyB0aGUgdGFpbCkgd2l0aFxuLy8gdGhlIGZvcmNlIHN1c3BlbmQgY29udGV4dC4gSWYgdGhlIGZpcnN0IHJlbmRlciBkaWRuJ3QgaGF2ZSBhbnl0aGluZyBpblxuLy8gaW4gZmFsbGJhY2sgc3RhdGUuIFRoZW4gd2UgcmVuZGVyIGVhY2ggcm93IGluIHRoZSB0YWlsIG9uZS1ieS1vbmUuXG4vLyBUaGF0IGhhcHBlbnMgaW4gdGhlIGNvbXBsZXRlV29yayBwaGFzZSB3aXRob3V0IGdvaW5nIGJhY2sgdG8gYmVnaW5Xb3JrLlxuXG5cbmZ1bmN0aW9uIHVwZGF0ZVN1c3BlbnNlTGlzdENvbXBvbmVudChjdXJyZW50JCQxLCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpIHtcbiAgdmFyIG5leHRQcm9wcyA9IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcztcbiAgdmFyIHJldmVhbE9yZGVyID0gbmV4dFByb3BzLnJldmVhbE9yZGVyO1xuICB2YXIgdGFpbE1vZGUgPSBuZXh0UHJvcHMudGFpbDtcbiAgdmFyIG5ld0NoaWxkcmVuID0gbmV4dFByb3BzLmNoaWxkcmVuO1xuICB2YWxpZGF0ZVJldmVhbE9yZGVyKHJldmVhbE9yZGVyKTtcbiAgdmFsaWRhdGVUYWlsT3B0aW9ucyh0YWlsTW9kZSwgcmV2ZWFsT3JkZXIpO1xuICB2YWxpZGF0ZVN1c3BlbnNlTGlzdENoaWxkcmVuKG5ld0NoaWxkcmVuLCByZXZlYWxPcmRlcik7XG4gIHJlY29uY2lsZUNoaWxkcmVuKGN1cnJlbnQkJDEsIHdvcmtJblByb2dyZXNzLCBuZXdDaGlsZHJlbiwgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICB2YXIgc3VzcGVuc2VDb250ZXh0ID0gc3VzcGVuc2VTdGFja0N1cnNvci5jdXJyZW50O1xuICB2YXIgc2hvdWxkRm9yY2VGYWxsYmFjayA9IGhhc1N1c3BlbnNlQ29udGV4dChzdXNwZW5zZUNvbnRleHQsIEZvcmNlU3VzcGVuc2VGYWxsYmFjayk7XG5cbiAgaWYgKHNob3VsZEZvcmNlRmFsbGJhY2spIHtcbiAgICBzdXNwZW5zZUNvbnRleHQgPSBzZXRTaGFsbG93U3VzcGVuc2VDb250ZXh0KHN1c3BlbnNlQ29udGV4dCwgRm9yY2VTdXNwZW5zZUZhbGxiYWNrKTtcbiAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gRGlkQ2FwdHVyZTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgZGlkU3VzcGVuZEJlZm9yZSA9IGN1cnJlbnQkJDEgIT09IG51bGwgJiYgKGN1cnJlbnQkJDEuZWZmZWN0VGFnICYgRGlkQ2FwdHVyZSkgIT09IE5vRWZmZWN0O1xuXG4gICAgaWYgKGRpZFN1c3BlbmRCZWZvcmUpIHtcbiAgICAgIC8vIElmIHdlIHByZXZpb3VzbHkgZm9yY2VkIGEgZmFsbGJhY2ssIHdlIG5lZWQgdG8gc2NoZWR1bGUgd29ya1xuICAgICAgLy8gb24gYW55IG5lc3RlZCBib3VuZGFyaWVzIHRvIGxldCB0aGVtIGtub3cgdG8gdHJ5IHRvIHJlbmRlclxuICAgICAgLy8gYWdhaW4uIFRoaXMgaXMgdGhlIHNhbWUgYXMgY29udGV4dCB1cGRhdGluZy5cbiAgICAgIHByb3BhZ2F0ZVN1c3BlbnNlQ29udGV4dENoYW5nZSh3b3JrSW5Qcm9ncmVzcywgd29ya0luUHJvZ3Jlc3MuY2hpbGQsIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgICB9XG5cbiAgICBzdXNwZW5zZUNvbnRleHQgPSBzZXREZWZhdWx0U2hhbGxvd1N1c3BlbnNlQ29udGV4dChzdXNwZW5zZUNvbnRleHQpO1xuICB9XG5cbiAgcHVzaFN1c3BlbnNlQ29udGV4dCh3b3JrSW5Qcm9ncmVzcywgc3VzcGVuc2VDb250ZXh0KTtcblxuICBpZiAoKHdvcmtJblByb2dyZXNzLm1vZGUgJiBCbG9ja2luZ01vZGUpID09PSBOb01vZGUpIHtcbiAgICAvLyBPdXRzaWRlIG9mIGJsb2NraW5nIG1vZGUsIFN1c3BlbnNlTGlzdCBkb2Vzbid0IHdvcmsgc28gd2UganVzdFxuICAgIC8vIHVzZSBtYWtlIGl0IGEgbm9vcCBieSB0cmVhdGluZyBpdCBhcyB0aGUgZGVmYXVsdCByZXZlYWxPcmRlci5cbiAgICB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID0gbnVsbDtcbiAgfSBlbHNlIHtcbiAgICBzd2l0Y2ggKHJldmVhbE9yZGVyKSB7XG4gICAgICBjYXNlICdmb3J3YXJkcyc6XG4gICAgICAgIHtcbiAgICAgICAgICB2YXIgbGFzdENvbnRlbnRSb3cgPSBmaW5kTGFzdENvbnRlbnRSb3cod29ya0luUHJvZ3Jlc3MuY2hpbGQpO1xuICAgICAgICAgIHZhciB0YWlsO1xuXG4gICAgICAgICAgaWYgKGxhc3RDb250ZW50Um93ID09PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBUaGUgd2hvbGUgbGlzdCBpcyBwYXJ0IG9mIHRoZSB0YWlsLlxuICAgICAgICAgICAgLy8gVE9ETzogV2UgY291bGQgZmFzdCBwYXRoIGJ5IGp1c3QgcmVuZGVyaW5nIHRoZSB0YWlsIG5vdy5cbiAgICAgICAgICAgIHRhaWwgPSB3b3JrSW5Qcm9ncmVzcy5jaGlsZDtcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLmNoaWxkID0gbnVsbDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gRGlzY29ubmVjdCB0aGUgdGFpbCByb3dzIGFmdGVyIHRoZSBjb250ZW50IHJvdy5cbiAgICAgICAgICAgIC8vIFdlJ3JlIGdvaW5nIHRvIHJlbmRlciB0aGVtIHNlcGFyYXRlbHkgbGF0ZXIuXG4gICAgICAgICAgICB0YWlsID0gbGFzdENvbnRlbnRSb3cuc2libGluZztcbiAgICAgICAgICAgIGxhc3RDb250ZW50Um93LnNpYmxpbmcgPSBudWxsO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGluaXRTdXNwZW5zZUxpc3RSZW5kZXJTdGF0ZSh3b3JrSW5Qcm9ncmVzcywgZmFsc2UsIC8vIGlzQmFja3dhcmRzXG4gICAgICAgICAgdGFpbCwgbGFzdENvbnRlbnRSb3csIHRhaWxNb2RlLCB3b3JrSW5Qcm9ncmVzcy5sYXN0RWZmZWN0KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICBjYXNlICdiYWNrd2FyZHMnOlxuICAgICAgICB7XG4gICAgICAgICAgLy8gV2UncmUgZ29pbmcgdG8gZmluZCB0aGUgZmlyc3Qgcm93IHRoYXQgaGFzIGV4aXN0aW5nIGNvbnRlbnQuXG4gICAgICAgICAgLy8gQXQgdGhlIHNhbWUgdGltZSB3ZSdyZSBnb2luZyB0byByZXZlcnNlIHRoZSBsaXN0IG9mIGV2ZXJ5dGhpbmdcbiAgICAgICAgICAvLyB3ZSBwYXNzIGluIHRoZSBtZWFudGltZS4gVGhhdCdzIGdvaW5nIHRvIGJlIG91ciB0YWlsIGluIHJldmVyc2VcbiAgICAgICAgICAvLyBvcmRlci5cbiAgICAgICAgICB2YXIgX3RhaWwgPSBudWxsO1xuICAgICAgICAgIHZhciByb3cgPSB3b3JrSW5Qcm9ncmVzcy5jaGlsZDtcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IG51bGw7XG5cbiAgICAgICAgICB3aGlsZSAocm93ICE9PSBudWxsKSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudFJvdyA9IHJvdy5hbHRlcm5hdGU7IC8vIE5ldyByb3dzIGNhbid0IGJlIGNvbnRlbnQgcm93cy5cblxuICAgICAgICAgICAgaWYgKGN1cnJlbnRSb3cgIT09IG51bGwgJiYgZmluZEZpcnN0U3VzcGVuZGVkKGN1cnJlbnRSb3cpID09PSBudWxsKSB7XG4gICAgICAgICAgICAgIC8vIFRoaXMgaXMgdGhlIGJlZ2lubmluZyBvZiB0aGUgbWFpbiBjb250ZW50LlxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IHJvdztcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBuZXh0Um93ID0gcm93LnNpYmxpbmc7XG4gICAgICAgICAgICByb3cuc2libGluZyA9IF90YWlsO1xuICAgICAgICAgICAgX3RhaWwgPSByb3c7XG4gICAgICAgICAgICByb3cgPSBuZXh0Um93O1xuICAgICAgICAgIH0gLy8gVE9ETzogSWYgd29ya0luUHJvZ3Jlc3MuY2hpbGQgaXMgbnVsbCwgd2UgY2FuIGNvbnRpbnVlIG9uIHRoZSB0YWlsIGltbWVkaWF0ZWx5LlxuXG5cbiAgICAgICAgICBpbml0U3VzcGVuc2VMaXN0UmVuZGVyU3RhdGUod29ya0luUHJvZ3Jlc3MsIHRydWUsIC8vIGlzQmFja3dhcmRzXG4gICAgICAgICAgX3RhaWwsIG51bGwsIC8vIGxhc3RcbiAgICAgICAgICB0YWlsTW9kZSwgd29ya0luUHJvZ3Jlc3MubGFzdEVmZmVjdCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgY2FzZSAndG9nZXRoZXInOlxuICAgICAgICB7XG4gICAgICAgICAgaW5pdFN1c3BlbnNlTGlzdFJlbmRlclN0YXRlKHdvcmtJblByb2dyZXNzLCBmYWxzZSwgLy8gaXNCYWNrd2FyZHNcbiAgICAgICAgICBudWxsLCAvLyB0YWlsXG4gICAgICAgICAgbnVsbCwgLy8gbGFzdFxuICAgICAgICAgIHVuZGVmaW5lZCwgd29ya0luUHJvZ3Jlc3MubGFzdEVmZmVjdCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAge1xuICAgICAgICAgIC8vIFRoZSBkZWZhdWx0IHJldmVhbCBvcmRlciBpcyB0aGUgc2FtZSBhcyBub3QgaGF2aW5nXG4gICAgICAgICAgLy8gYSBib3VuZGFyeS5cbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB3b3JrSW5Qcm9ncmVzcy5jaGlsZDtcbn1cblxuZnVuY3Rpb24gdXBkYXRlUG9ydGFsQ29tcG9uZW50KGN1cnJlbnQkJDEsIHdvcmtJblByb2dyZXNzLCByZW5kZXJFeHBpcmF0aW9uVGltZSkge1xuICBwdXNoSG9zdENvbnRhaW5lcih3b3JrSW5Qcm9ncmVzcywgd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlLmNvbnRhaW5lckluZm8pO1xuICB2YXIgbmV4dENoaWxkcmVuID0gd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzO1xuXG4gIGlmIChjdXJyZW50JCQxID09PSBudWxsKSB7XG4gICAgLy8gUG9ydGFscyBhcmUgc3BlY2lhbCBiZWNhdXNlIHdlIGRvbid0IGFwcGVuZCB0aGUgY2hpbGRyZW4gZHVyaW5nIG1vdW50XG4gICAgLy8gYnV0IGF0IGNvbW1pdC4gVGhlcmVmb3JlIHdlIG5lZWQgdG8gdHJhY2sgaW5zZXJ0aW9ucyB3aGljaCB0aGUgbm9ybWFsXG4gICAgLy8gZmxvdyBkb2Vzbid0IGRvIGR1cmluZyBtb3VudC4gVGhpcyBkb2Vzbid0IGhhcHBlbiBhdCB0aGUgcm9vdCBiZWNhdXNlXG4gICAgLy8gdGhlIHJvb3QgYWx3YXlzIHN0YXJ0cyB3aXRoIGEgXCJjdXJyZW50XCIgd2l0aCBhIG51bGwgY2hpbGQuXG4gICAgLy8gVE9ETzogQ29uc2lkZXIgdW5pZnlpbmcgdGhpcyB3aXRoIGhvdyB0aGUgcm9vdCB3b3Jrcy5cbiAgICB3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IHJlY29uY2lsZUNoaWxkRmliZXJzKHdvcmtJblByb2dyZXNzLCBudWxsLCBuZXh0Q2hpbGRyZW4sIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgfSBlbHNlIHtcbiAgICByZWNvbmNpbGVDaGlsZHJlbihjdXJyZW50JCQxLCB3b3JrSW5Qcm9ncmVzcywgbmV4dENoaWxkcmVuLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gIH1cblxuICByZXR1cm4gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUNvbnRleHRQcm92aWRlcihjdXJyZW50JCQxLCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpIHtcbiAgdmFyIHByb3ZpZGVyVHlwZSA9IHdvcmtJblByb2dyZXNzLnR5cGU7XG4gIHZhciBjb250ZXh0ID0gcHJvdmlkZXJUeXBlLl9jb250ZXh0O1xuICB2YXIgbmV3UHJvcHMgPSB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHM7XG4gIHZhciBvbGRQcm9wcyA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkUHJvcHM7XG4gIHZhciBuZXdWYWx1ZSA9IG5ld1Byb3BzLnZhbHVlO1xuXG4gIHtcbiAgICB2YXIgcHJvdmlkZXJQcm9wVHlwZXMgPSB3b3JrSW5Qcm9ncmVzcy50eXBlLnByb3BUeXBlcztcblxuICAgIGlmIChwcm92aWRlclByb3BUeXBlcykge1xuICAgICAgY2hlY2tQcm9wVHlwZXMocHJvdmlkZXJQcm9wVHlwZXMsIG5ld1Byb3BzLCAncHJvcCcsICdDb250ZXh0LlByb3ZpZGVyJywgZ2V0Q3VycmVudEZpYmVyU3RhY2tJbkRldik7XG4gICAgfVxuICB9XG5cbiAgcHVzaFByb3ZpZGVyKHdvcmtJblByb2dyZXNzLCBuZXdWYWx1ZSk7XG5cbiAgaWYgKG9sZFByb3BzICE9PSBudWxsKSB7XG4gICAgdmFyIG9sZFZhbHVlID0gb2xkUHJvcHMudmFsdWU7XG4gICAgdmFyIGNoYW5nZWRCaXRzID0gY2FsY3VsYXRlQ2hhbmdlZEJpdHMoY29udGV4dCwgbmV3VmFsdWUsIG9sZFZhbHVlKTtcblxuICAgIGlmIChjaGFuZ2VkQml0cyA9PT0gMCkge1xuICAgICAgLy8gTm8gY2hhbmdlLiBCYWlsb3V0IGVhcmx5IGlmIGNoaWxkcmVuIGFyZSB0aGUgc2FtZS5cbiAgICAgIGlmIChvbGRQcm9wcy5jaGlsZHJlbiA9PT0gbmV3UHJvcHMuY2hpbGRyZW4gJiYgIWhhc0NvbnRleHRDaGFuZ2VkKCkpIHtcbiAgICAgICAgcmV0dXJuIGJhaWxvdXRPbkFscmVhZHlGaW5pc2hlZFdvcmsoY3VycmVudCQkMSwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVGhlIGNvbnRleHQgdmFsdWUgY2hhbmdlZC4gU2VhcmNoIGZvciBtYXRjaGluZyBjb25zdW1lcnMgYW5kIHNjaGVkdWxlXG4gICAgICAvLyB0aGVtIHRvIHVwZGF0ZS5cbiAgICAgIHByb3BhZ2F0ZUNvbnRleHRDaGFuZ2Uod29ya0luUHJvZ3Jlc3MsIGNvbnRleHQsIGNoYW5nZWRCaXRzLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIG5ld0NoaWxkcmVuID0gbmV3UHJvcHMuY2hpbGRyZW47XG4gIHJlY29uY2lsZUNoaWxkcmVuKGN1cnJlbnQkJDEsIHdvcmtJblByb2dyZXNzLCBuZXdDaGlsZHJlbiwgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICByZXR1cm4gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG59XG5cbnZhciBoYXNXYXJuZWRBYm91dFVzaW5nQ29udGV4dEFzQ29uc3VtZXIgPSBmYWxzZTtcblxuZnVuY3Rpb24gdXBkYXRlQ29udGV4dENvbnN1bWVyKGN1cnJlbnQkJDEsIHdvcmtJblByb2dyZXNzLCByZW5kZXJFeHBpcmF0aW9uVGltZSkge1xuICB2YXIgY29udGV4dCA9IHdvcmtJblByb2dyZXNzLnR5cGU7IC8vIFRoZSBsb2dpYyBiZWxvdyBmb3IgQ29udGV4dCBkaWZmZXJzIGRlcGVuZGluZyBvbiBQUk9EIG9yIERFViBtb2RlLiBJblxuICAvLyBERVYgbW9kZSwgd2UgY3JlYXRlIGEgc2VwYXJhdGUgb2JqZWN0IGZvciBDb250ZXh0LkNvbnN1bWVyIHRoYXQgYWN0c1xuICAvLyBsaWtlIGEgcHJveHkgdG8gQ29udGV4dC4gVGhpcyBwcm94eSBvYmplY3QgYWRkcyB1bm5lY2Vzc2FyeSBjb2RlIGluIFBST0RcbiAgLy8gc28gd2UgdXNlIHRoZSBvbGQgYmVoYXZpb3VyIChDb250ZXh0LkNvbnN1bWVyIHJlZmVyZW5jZXMgQ29udGV4dCkgdG9cbiAgLy8gcmVkdWNlIHNpemUgYW5kIG92ZXJoZWFkLiBUaGUgc2VwYXJhdGUgb2JqZWN0IHJlZmVyZW5jZXMgY29udGV4dCB2aWFcbiAgLy8gYSBwcm9wZXJ0eSBjYWxsZWQgXCJfY29udGV4dFwiLCB3aGljaCBhbHNvIGdpdmVzIHVzIHRoZSBhYmlsaXR5IHRvIGNoZWNrXG4gIC8vIGluIERFViBtb2RlIGlmIHRoaXMgcHJvcGVydHkgZXhpc3RzIG9yIG5vdCBhbmQgd2FybiBpZiBpdCBkb2VzIG5vdC5cblxuICB7XG4gICAgaWYgKGNvbnRleHQuX2NvbnRleHQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gVGhpcyBtYXkgYmUgYmVjYXVzZSBpdCdzIGEgQ29udGV4dCAocmF0aGVyIHRoYW4gYSBDb25zdW1lcikuXG4gICAgICAvLyBPciBpdCBtYXkgYmUgYmVjYXVzZSBpdCdzIG9sZGVyIFJlYWN0IHdoZXJlIHRoZXkncmUgdGhlIHNhbWUgdGhpbmcuXG4gICAgICAvLyBXZSBvbmx5IHdhbnQgdG8gd2FybiBpZiB3ZSdyZSBzdXJlIGl0J3MgYSBuZXcgUmVhY3QuXG4gICAgICBpZiAoY29udGV4dCAhPT0gY29udGV4dC5Db25zdW1lcikge1xuICAgICAgICBpZiAoIWhhc1dhcm5lZEFib3V0VXNpbmdDb250ZXh0QXNDb25zdW1lcikge1xuICAgICAgICAgIGhhc1dhcm5lZEFib3V0VXNpbmdDb250ZXh0QXNDb25zdW1lciA9IHRydWU7XG4gICAgICAgICAgd2FybmluZyQxKGZhbHNlLCAnUmVuZGVyaW5nIDxDb250ZXh0PiBkaXJlY3RseSBpcyBub3Qgc3VwcG9ydGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gJyArICdhIGZ1dHVyZSBtYWpvciByZWxlYXNlLiBEaWQgeW91IG1lYW4gdG8gcmVuZGVyIDxDb250ZXh0LkNvbnN1bWVyPiBpbnN0ZWFkPycpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnRleHQgPSBjb250ZXh0Ll9jb250ZXh0O1xuICAgIH1cbiAgfVxuXG4gIHZhciBuZXdQcm9wcyA9IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcztcbiAgdmFyIHJlbmRlciA9IG5ld1Byb3BzLmNoaWxkcmVuO1xuXG4gIHtcbiAgICAhKHR5cGVvZiByZW5kZXIgPT09ICdmdW5jdGlvbicpID8gd2FybmluZ1dpdGhvdXRTdGFjayQxKGZhbHNlLCAnQSBjb250ZXh0IGNvbnN1bWVyIHdhcyByZW5kZXJlZCB3aXRoIG11bHRpcGxlIGNoaWxkcmVuLCBvciBhIGNoaWxkICcgKyBcInRoYXQgaXNuJ3QgYSBmdW5jdGlvbi4gQSBjb250ZXh0IGNvbnN1bWVyIGV4cGVjdHMgYSBzaW5nbGUgY2hpbGQgXCIgKyAndGhhdCBpcyBhIGZ1bmN0aW9uLiBJZiB5b3UgZGlkIHBhc3MgYSBmdW5jdGlvbiwgbWFrZSBzdXJlIHRoZXJlICcgKyAnaXMgbm8gdHJhaWxpbmcgb3IgbGVhZGluZyB3aGl0ZXNwYWNlIGFyb3VuZCBpdC4nKSA6IHZvaWQgMDtcbiAgfVxuXG4gIHByZXBhcmVUb1JlYWRDb250ZXh0KHdvcmtJblByb2dyZXNzLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gIHZhciBuZXdWYWx1ZSA9IHJlYWRDb250ZXh0KGNvbnRleHQsIG5ld1Byb3BzLnVuc3RhYmxlX29ic2VydmVkQml0cyk7XG4gIHZhciBuZXdDaGlsZHJlbjtcblxuICB7XG4gICAgUmVhY3RDdXJyZW50T3duZXIkMy5jdXJyZW50ID0gd29ya0luUHJvZ3Jlc3M7XG4gICAgc2V0Q3VycmVudFBoYXNlKCdyZW5kZXInKTtcbiAgICBuZXdDaGlsZHJlbiA9IHJlbmRlcihuZXdWYWx1ZSk7XG4gICAgc2V0Q3VycmVudFBoYXNlKG51bGwpO1xuICB9IC8vIFJlYWN0IERldlRvb2xzIHJlYWRzIHRoaXMgZmxhZy5cblxuXG4gIHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyB8PSBQZXJmb3JtZWRXb3JrO1xuICByZWNvbmNpbGVDaGlsZHJlbihjdXJyZW50JCQxLCB3b3JrSW5Qcm9ncmVzcywgbmV3Q2hpbGRyZW4sIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgcmV0dXJuIHdvcmtJblByb2dyZXNzLmNoaWxkO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVGdW5kYW1lbnRhbENvbXBvbmVudCQxKGN1cnJlbnQkJDEsIHdvcmtJblByb2dyZXNzLCByZW5kZXJFeHBpcmF0aW9uVGltZSkge1xuICB2YXIgZnVuZGFtZW50YWxJbXBsID0gd29ya0luUHJvZ3Jlc3MudHlwZS5pbXBsO1xuXG4gIGlmIChmdW5kYW1lbnRhbEltcGwucmVjb25jaWxlQ2hpbGRyZW4gPT09IGZhbHNlKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICB2YXIgbmV4dFByb3BzID0gd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzO1xuICB2YXIgbmV4dENoaWxkcmVuID0gbmV4dFByb3BzLmNoaWxkcmVuO1xuICByZWNvbmNpbGVDaGlsZHJlbihjdXJyZW50JCQxLCB3b3JrSW5Qcm9ncmVzcywgbmV4dENoaWxkcmVuLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gIHJldHVybiB3b3JrSW5Qcm9ncmVzcy5jaGlsZDtcbn1cblxuZnVuY3Rpb24gdXBkYXRlU2NvcGVDb21wb25lbnQoY3VycmVudCQkMSwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gIHZhciBuZXh0UHJvcHMgPSB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHM7XG4gIHZhciBuZXh0Q2hpbGRyZW4gPSBuZXh0UHJvcHMuY2hpbGRyZW47XG4gIHJlY29uY2lsZUNoaWxkcmVuKGN1cnJlbnQkJDEsIHdvcmtJblByb2dyZXNzLCBuZXh0Q2hpbGRyZW4sIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgcmV0dXJuIHdvcmtJblByb2dyZXNzLmNoaWxkO1xufVxuXG5mdW5jdGlvbiBtYXJrV29ya0luUHJvZ3Jlc3NSZWNlaXZlZFVwZGF0ZSgpIHtcbiAgZGlkUmVjZWl2ZVVwZGF0ZSA9IHRydWU7XG59XG5cbmZ1bmN0aW9uIGJhaWxvdXRPbkFscmVhZHlGaW5pc2hlZFdvcmsoY3VycmVudCQkMSwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gIGNhbmNlbFdvcmtUaW1lcih3b3JrSW5Qcm9ncmVzcyk7XG5cbiAgaWYgKGN1cnJlbnQkJDEgIT09IG51bGwpIHtcbiAgICAvLyBSZXVzZSBwcmV2aW91cyBkZXBlbmRlbmNpZXNcbiAgICB3b3JrSW5Qcm9ncmVzcy5kZXBlbmRlbmNpZXMgPSBjdXJyZW50JCQxLmRlcGVuZGVuY2llcztcbiAgfVxuXG4gIGlmIChlbmFibGVQcm9maWxlclRpbWVyKSB7XG4gICAgLy8gRG9uJ3QgdXBkYXRlIFwiYmFzZVwiIHJlbmRlciB0aW1lcyBmb3IgYmFpbG91dHMuXG4gICAgc3RvcFByb2ZpbGVyVGltZXJJZlJ1bm5pbmcod29ya0luUHJvZ3Jlc3MpO1xuICB9XG5cbiAgdmFyIHVwZGF0ZUV4cGlyYXRpb25UaW1lID0gd29ya0luUHJvZ3Jlc3MuZXhwaXJhdGlvblRpbWU7XG5cbiAgaWYgKHVwZGF0ZUV4cGlyYXRpb25UaW1lICE9PSBOb1dvcmspIHtcbiAgICBtYXJrVW5wcm9jZXNzZWRVcGRhdGVUaW1lKHVwZGF0ZUV4cGlyYXRpb25UaW1lKTtcbiAgfSAvLyBDaGVjayBpZiB0aGUgY2hpbGRyZW4gaGF2ZSBhbnkgcGVuZGluZyB3b3JrLlxuXG5cbiAgdmFyIGNoaWxkRXhwaXJhdGlvblRpbWUgPSB3b3JrSW5Qcm9ncmVzcy5jaGlsZEV4cGlyYXRpb25UaW1lO1xuXG4gIGlmIChjaGlsZEV4cGlyYXRpb25UaW1lIDwgcmVuZGVyRXhwaXJhdGlvblRpbWUpIHtcbiAgICAvLyBUaGUgY2hpbGRyZW4gZG9uJ3QgaGF2ZSBhbnkgd29yayBlaXRoZXIuIFdlIGNhbiBza2lwIHRoZW0uXG4gICAgLy8gVE9ETzogT25jZSB3ZSBhZGQgYmFjayByZXN1bWluZywgd2Ugc2hvdWxkIGNoZWNrIGlmIHRoZSBjaGlsZHJlbiBhcmVcbiAgICAvLyBhIHdvcmstaW4tcHJvZ3Jlc3Mgc2V0LiBJZiBzbywgd2UgbmVlZCB0byB0cmFuc2ZlciB0aGVpciBlZmZlY3RzLlxuICAgIHJldHVybiBudWxsO1xuICB9IGVsc2Uge1xuICAgIC8vIFRoaXMgZmliZXIgZG9lc24ndCBoYXZlIHdvcmssIGJ1dCBpdHMgc3VidHJlZSBkb2VzLiBDbG9uZSB0aGUgY2hpbGRcbiAgICAvLyBmaWJlcnMgYW5kIGNvbnRpbnVlLlxuICAgIGNsb25lQ2hpbGRGaWJlcnMoY3VycmVudCQkMSwgd29ya0luUHJvZ3Jlc3MpO1xuICAgIHJldHVybiB3b3JrSW5Qcm9ncmVzcy5jaGlsZDtcbiAgfVxufVxuXG5mdW5jdGlvbiByZW1vdW50RmliZXIoY3VycmVudCQkMSwgb2xkV29ya0luUHJvZ3Jlc3MsIG5ld1dvcmtJblByb2dyZXNzKSB7XG4gIHtcbiAgICB2YXIgcmV0dXJuRmliZXIgPSBvbGRXb3JrSW5Qcm9ncmVzcy5yZXR1cm47XG5cbiAgICBpZiAocmV0dXJuRmliZXIgPT09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IHN3YXAgdGhlIHJvb3QgZmliZXIuJyk7XG4gICAgfSAvLyBEaXNjb25uZWN0IGZyb20gdGhlIG9sZCBjdXJyZW50LlxuICAgIC8vIEl0IHdpbGwgZ2V0IGRlbGV0ZWQuXG5cblxuICAgIGN1cnJlbnQkJDEuYWx0ZXJuYXRlID0gbnVsbDtcbiAgICBvbGRXb3JrSW5Qcm9ncmVzcy5hbHRlcm5hdGUgPSBudWxsOyAvLyBDb25uZWN0IHRvIHRoZSBuZXcgdHJlZS5cblxuICAgIG5ld1dvcmtJblByb2dyZXNzLmluZGV4ID0gb2xkV29ya0luUHJvZ3Jlc3MuaW5kZXg7XG4gICAgbmV3V29ya0luUHJvZ3Jlc3Muc2libGluZyA9IG9sZFdvcmtJblByb2dyZXNzLnNpYmxpbmc7XG4gICAgbmV3V29ya0luUHJvZ3Jlc3MucmV0dXJuID0gb2xkV29ya0luUHJvZ3Jlc3MucmV0dXJuO1xuICAgIG5ld1dvcmtJblByb2dyZXNzLnJlZiA9IG9sZFdvcmtJblByb2dyZXNzLnJlZjsgLy8gUmVwbGFjZSB0aGUgY2hpbGQvc2libGluZyBwb2ludGVycyBhYm92ZSBpdC5cblxuICAgIGlmIChvbGRXb3JrSW5Qcm9ncmVzcyA9PT0gcmV0dXJuRmliZXIuY2hpbGQpIHtcbiAgICAgIHJldHVybkZpYmVyLmNoaWxkID0gbmV3V29ya0luUHJvZ3Jlc3M7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBwcmV2U2libGluZyA9IHJldHVybkZpYmVyLmNoaWxkO1xuXG4gICAgICBpZiAocHJldlNpYmxpbmcgPT09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCBwYXJlbnQgdG8gaGF2ZSBhIGNoaWxkLicpO1xuICAgICAgfVxuXG4gICAgICB3aGlsZSAocHJldlNpYmxpbmcuc2libGluZyAhPT0gb2xkV29ya0luUHJvZ3Jlc3MpIHtcbiAgICAgICAgcHJldlNpYmxpbmcgPSBwcmV2U2libGluZy5zaWJsaW5nO1xuXG4gICAgICAgIGlmIChwcmV2U2libGluZyA9PT0gbnVsbCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgdG8gZmluZCB0aGUgcHJldmlvdXMgc2libGluZy4nKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBwcmV2U2libGluZy5zaWJsaW5nID0gbmV3V29ya0luUHJvZ3Jlc3M7XG4gICAgfSAvLyBEZWxldGUgdGhlIG9sZCBmaWJlciBhbmQgcGxhY2UgdGhlIG5ldyBvbmUuXG4gICAgLy8gU2luY2UgdGhlIG9sZCBmaWJlciBpcyBkaXNjb25uZWN0ZWQsIHdlIGhhdmUgdG8gc2NoZWR1bGUgaXQgbWFudWFsbHkuXG5cblxuICAgIHZhciBsYXN0ID0gcmV0dXJuRmliZXIubGFzdEVmZmVjdDtcblxuICAgIGlmIChsYXN0ICE9PSBudWxsKSB7XG4gICAgICBsYXN0Lm5leHRFZmZlY3QgPSBjdXJyZW50JCQxO1xuICAgICAgcmV0dXJuRmliZXIubGFzdEVmZmVjdCA9IGN1cnJlbnQkJDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybkZpYmVyLmZpcnN0RWZmZWN0ID0gcmV0dXJuRmliZXIubGFzdEVmZmVjdCA9IGN1cnJlbnQkJDE7XG4gICAgfVxuXG4gICAgY3VycmVudCQkMS5uZXh0RWZmZWN0ID0gbnVsbDtcbiAgICBjdXJyZW50JCQxLmVmZmVjdFRhZyA9IERlbGV0aW9uO1xuICAgIG5ld1dvcmtJblByb2dyZXNzLmVmZmVjdFRhZyB8PSBQbGFjZW1lbnQ7IC8vIFJlc3RhcnQgd29yayBmcm9tIHRoZSBuZXcgZmliZXIuXG5cbiAgICByZXR1cm4gbmV3V29ya0luUHJvZ3Jlc3M7XG4gIH1cbn1cblxuZnVuY3Rpb24gYmVnaW5Xb3JrJDEoY3VycmVudCQkMSwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gIHZhciB1cGRhdGVFeHBpcmF0aW9uVGltZSA9IHdvcmtJblByb2dyZXNzLmV4cGlyYXRpb25UaW1lO1xuXG4gIHtcbiAgICBpZiAod29ya0luUHJvZ3Jlc3MuX2RlYnVnTmVlZHNSZW1vdW50ICYmIGN1cnJlbnQkJDEgIT09IG51bGwpIHtcbiAgICAgIC8vIFRoaXMgd2lsbCByZXN0YXJ0IHRoZSBiZWdpbiBwaGFzZSB3aXRoIGEgbmV3IGZpYmVyLlxuICAgICAgcmV0dXJuIHJlbW91bnRGaWJlcihjdXJyZW50JCQxLCB3b3JrSW5Qcm9ncmVzcywgY3JlYXRlRmliZXJGcm9tVHlwZUFuZFByb3BzKHdvcmtJblByb2dyZXNzLnR5cGUsIHdvcmtJblByb2dyZXNzLmtleSwgd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzLCB3b3JrSW5Qcm9ncmVzcy5fZGVidWdPd25lciB8fCBudWxsLCB3b3JrSW5Qcm9ncmVzcy5tb2RlLCB3b3JrSW5Qcm9ncmVzcy5leHBpcmF0aW9uVGltZSkpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChjdXJyZW50JCQxICE9PSBudWxsKSB7XG4gICAgdmFyIG9sZFByb3BzID0gY3VycmVudCQkMS5tZW1vaXplZFByb3BzO1xuICAgIHZhciBuZXdQcm9wcyA9IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcztcblxuICAgIGlmIChvbGRQcm9wcyAhPT0gbmV3UHJvcHMgfHwgaGFzQ29udGV4dENoYW5nZWQoKSB8fCAoIC8vIEZvcmNlIGEgcmUtcmVuZGVyIGlmIHRoZSBpbXBsZW1lbnRhdGlvbiBjaGFuZ2VkIGR1ZSB0byBob3QgcmVsb2FkOlxuICAgIHdvcmtJblByb2dyZXNzLnR5cGUgIT09IGN1cnJlbnQkJDEudHlwZSkpIHtcbiAgICAgIC8vIElmIHByb3BzIG9yIGNvbnRleHQgY2hhbmdlZCwgbWFyayB0aGUgZmliZXIgYXMgaGF2aW5nIHBlcmZvcm1lZCB3b3JrLlxuICAgICAgLy8gVGhpcyBtYXkgYmUgdW5zZXQgaWYgdGhlIHByb3BzIGFyZSBkZXRlcm1pbmVkIHRvIGJlIGVxdWFsIGxhdGVyIChtZW1vKS5cbiAgICAgIGRpZFJlY2VpdmVVcGRhdGUgPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAodXBkYXRlRXhwaXJhdGlvblRpbWUgPCByZW5kZXJFeHBpcmF0aW9uVGltZSkge1xuICAgICAgZGlkUmVjZWl2ZVVwZGF0ZSA9IGZhbHNlOyAvLyBUaGlzIGZpYmVyIGRvZXMgbm90IGhhdmUgYW55IHBlbmRpbmcgd29yay4gQmFpbG91dCB3aXRob3V0IGVudGVyaW5nXG4gICAgICAvLyB0aGUgYmVnaW4gcGhhc2UuIFRoZXJlJ3Mgc3RpbGwgc29tZSBib29ra2VlcGluZyB3ZSB0aGF0IG5lZWRzIHRvIGJlIGRvbmVcbiAgICAgIC8vIGluIHRoaXMgb3B0aW1pemVkIHBhdGgsIG1vc3RseSBwdXNoaW5nIHN0dWZmIG9udG8gdGhlIHN0YWNrLlxuXG4gICAgICBzd2l0Y2ggKHdvcmtJblByb2dyZXNzLnRhZykge1xuICAgICAgICBjYXNlIEhvc3RSb290OlxuICAgICAgICAgIHB1c2hIb3N0Um9vdENvbnRleHQod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgIHJlc2V0SHlkcmF0aW9uU3RhdGUoKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIEhvc3RDb21wb25lbnQ6XG4gICAgICAgICAgcHVzaEhvc3RDb250ZXh0KHdvcmtJblByb2dyZXNzKTtcblxuICAgICAgICAgIGlmICh3b3JrSW5Qcm9ncmVzcy5tb2RlICYgQ29uY3VycmVudE1vZGUgJiYgcmVuZGVyRXhwaXJhdGlvblRpbWUgIT09IE5ldmVyICYmIHNob3VsZERlcHJpb3JpdGl6ZVN1YnRyZWUod29ya0luUHJvZ3Jlc3MudHlwZSwgbmV3UHJvcHMpKSB7XG4gICAgICAgICAgICBpZiAoZW5hYmxlU2NoZWR1bGVyVHJhY2luZykge1xuICAgICAgICAgICAgICBtYXJrU3Bhd25lZFdvcmsoTmV2ZXIpO1xuICAgICAgICAgICAgfSAvLyBTY2hlZHVsZSB0aGlzIGZpYmVyIHRvIHJlLXJlbmRlciBhdCBvZmZzY3JlZW4gcHJpb3JpdHkuIFRoZW4gYmFpbG91dC5cblxuXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5leHBpcmF0aW9uVGltZSA9IHdvcmtJblByb2dyZXNzLmNoaWxkRXhwaXJhdGlvblRpbWUgPSBOZXZlcjtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgQ2xhc3NDb21wb25lbnQ6XG4gICAgICAgICAge1xuICAgICAgICAgICAgdmFyIENvbXBvbmVudCA9IHdvcmtJblByb2dyZXNzLnR5cGU7XG5cbiAgICAgICAgICAgIGlmIChpc0NvbnRleHRQcm92aWRlcihDb21wb25lbnQpKSB7XG4gICAgICAgICAgICAgIHB1c2hDb250ZXh0UHJvdmlkZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgY2FzZSBIb3N0UG9ydGFsOlxuICAgICAgICAgIHB1c2hIb3N0Q29udGFpbmVyKHdvcmtJblByb2dyZXNzLCB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUuY29udGFpbmVySW5mbyk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBDb250ZXh0UHJvdmlkZXI6XG4gICAgICAgICAge1xuICAgICAgICAgICAgdmFyIG5ld1ZhbHVlID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRQcm9wcy52YWx1ZTtcbiAgICAgICAgICAgIHB1c2hQcm92aWRlcih3b3JrSW5Qcm9ncmVzcywgbmV3VmFsdWUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgIGNhc2UgUHJvZmlsZXI6XG4gICAgICAgICAgaWYgKGVuYWJsZVByb2ZpbGVyVGltZXIpIHtcbiAgICAgICAgICAgIC8vIFByb2ZpbGVyIHNob3VsZCBvbmx5IGNhbGwgb25SZW5kZXIgd2hlbiBvbmUgb2YgaXRzIGRlc2NlbmRhbnRzIGFjdHVhbGx5IHJlbmRlcmVkLlxuICAgICAgICAgICAgdmFyIGhhc0NoaWxkV29yayA9IHdvcmtJblByb2dyZXNzLmNoaWxkRXhwaXJhdGlvblRpbWUgPj0gcmVuZGVyRXhwaXJhdGlvblRpbWU7XG5cbiAgICAgICAgICAgIGlmIChoYXNDaGlsZFdvcmspIHtcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnIHw9IFVwZGF0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIFN1c3BlbnNlQ29tcG9uZW50OlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHZhciBzdGF0ZSA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGU7XG5cbiAgICAgICAgICAgIGlmIChzdGF0ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICBpZiAoZW5hYmxlU3VzcGVuc2VTZXJ2ZXJSZW5kZXJlcikge1xuICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5kZWh5ZHJhdGVkICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICBwdXNoU3VzcGVuc2VDb250ZXh0KHdvcmtJblByb2dyZXNzLCBzZXREZWZhdWx0U2hhbGxvd1N1c3BlbnNlQ29udGV4dChzdXNwZW5zZVN0YWNrQ3Vyc29yLmN1cnJlbnQpKTsgLy8gV2Uga25vdyB0aGF0IHRoaXMgY29tcG9uZW50IHdpbGwgc3VzcGVuZCBhZ2FpbiBiZWNhdXNlIGlmIGl0IGhhc1xuICAgICAgICAgICAgICAgICAgLy8gYmVlbiB1bnN1c3BlbmRlZCBpdCBoYXMgY29tbWl0dGVkIGFzIGEgcmVzb2x2ZWQgU3VzcGVuc2UgY29tcG9uZW50LlxuICAgICAgICAgICAgICAgICAgLy8gSWYgaXQgbmVlZHMgdG8gYmUgcmV0cmllZCwgaXQgc2hvdWxkIGhhdmUgd29yayBzY2hlZHVsZWQgb24gaXQuXG5cbiAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyB8PSBEaWRDYXB0dXJlO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IC8vIElmIHRoaXMgYm91bmRhcnkgaXMgY3VycmVudGx5IHRpbWVkIG91dCwgd2UgbmVlZCB0byBkZWNpZGVcbiAgICAgICAgICAgICAgLy8gd2hldGhlciB0byByZXRyeSB0aGUgcHJpbWFyeSBjaGlsZHJlbiwgb3IgdG8gc2tpcCBvdmVyIGl0IGFuZFxuICAgICAgICAgICAgICAvLyBnbyBzdHJhaWdodCB0byB0aGUgZmFsbGJhY2suIENoZWNrIHRoZSBwcmlvcml0eSBvZiB0aGUgcHJpbWFyeVxuICAgICAgICAgICAgICAvLyBjaGlsZCBmcmFnbWVudC5cblxuXG4gICAgICAgICAgICAgIHZhciBwcmltYXJ5Q2hpbGRGcmFnbWVudCA9IHdvcmtJblByb2dyZXNzLmNoaWxkO1xuICAgICAgICAgICAgICB2YXIgcHJpbWFyeUNoaWxkRXhwaXJhdGlvblRpbWUgPSBwcmltYXJ5Q2hpbGRGcmFnbWVudC5jaGlsZEV4cGlyYXRpb25UaW1lO1xuXG4gICAgICAgICAgICAgIGlmIChwcmltYXJ5Q2hpbGRFeHBpcmF0aW9uVGltZSAhPT0gTm9Xb3JrICYmIHByaW1hcnlDaGlsZEV4cGlyYXRpb25UaW1lID49IHJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gICAgICAgICAgICAgICAgLy8gVGhlIHByaW1hcnkgY2hpbGRyZW4gaGF2ZSBwZW5kaW5nIHdvcmsuIFVzZSB0aGUgbm9ybWFsIHBhdGhcbiAgICAgICAgICAgICAgICAvLyB0byBhdHRlbXB0IHRvIHJlbmRlciB0aGUgcHJpbWFyeSBjaGlsZHJlbiBhZ2Fpbi5cbiAgICAgICAgICAgICAgICByZXR1cm4gdXBkYXRlU3VzcGVuc2VDb21wb25lbnQoY3VycmVudCQkMSwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwdXNoU3VzcGVuc2VDb250ZXh0KHdvcmtJblByb2dyZXNzLCBzZXREZWZhdWx0U2hhbGxvd1N1c3BlbnNlQ29udGV4dChzdXNwZW5zZVN0YWNrQ3Vyc29yLmN1cnJlbnQpKTsgLy8gVGhlIHByaW1hcnkgY2hpbGRyZW4gZG8gbm90IGhhdmUgcGVuZGluZyB3b3JrIHdpdGggc3VmZmljaWVudFxuICAgICAgICAgICAgICAgIC8vIHByaW9yaXR5LiBCYWlsb3V0LlxuXG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkID0gYmFpbG91dE9uQWxyZWFkeUZpbmlzaGVkV29yayhjdXJyZW50JCQxLCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAvLyBUaGUgZmFsbGJhY2sgY2hpbGRyZW4gaGF2ZSBwZW5kaW5nIHdvcmsuIFNraXAgb3ZlciB0aGVcbiAgICAgICAgICAgICAgICAgIC8vIHByaW1hcnkgY2hpbGRyZW4gYW5kIHdvcmsgb24gdGhlIGZhbGxiYWNrLlxuICAgICAgICAgICAgICAgICAgcmV0dXJuIGNoaWxkLnNpYmxpbmc7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcHVzaFN1c3BlbnNlQ29udGV4dCh3b3JrSW5Qcm9ncmVzcywgc2V0RGVmYXVsdFNoYWxsb3dTdXNwZW5zZUNvbnRleHQoc3VzcGVuc2VTdGFja0N1cnNvci5jdXJyZW50KSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICBjYXNlIFN1c3BlbnNlTGlzdENvbXBvbmVudDpcbiAgICAgICAgICB7XG4gICAgICAgICAgICB2YXIgZGlkU3VzcGVuZEJlZm9yZSA9IChjdXJyZW50JCQxLmVmZmVjdFRhZyAmIERpZENhcHR1cmUpICE9PSBOb0VmZmVjdDtcblxuICAgICAgICAgICAgdmFyIF9oYXNDaGlsZFdvcmsgPSB3b3JrSW5Qcm9ncmVzcy5jaGlsZEV4cGlyYXRpb25UaW1lID49IHJlbmRlckV4cGlyYXRpb25UaW1lO1xuXG4gICAgICAgICAgICBpZiAoZGlkU3VzcGVuZEJlZm9yZSkge1xuICAgICAgICAgICAgICBpZiAoX2hhc0NoaWxkV29yaykge1xuICAgICAgICAgICAgICAgIC8vIElmIHNvbWV0aGluZyB3YXMgaW4gZmFsbGJhY2sgc3RhdGUgbGFzdCB0aW1lLCBhbmQgd2UgaGF2ZSBhbGwgdGhlXG4gICAgICAgICAgICAgICAgLy8gc2FtZSBjaGlsZHJlbiB0aGVuIHdlJ3JlIHN0aWxsIGluIHByb2dyZXNzaXZlIGxvYWRpbmcgc3RhdGUuXG4gICAgICAgICAgICAgICAgLy8gU29tZXRoaW5nIG1pZ2h0IGdldCB1bmJsb2NrZWQgYnkgc3RhdGUgdXBkYXRlcyBvciByZXRyaWVzIGluIHRoZVxuICAgICAgICAgICAgICAgIC8vIHRyZWUgd2hpY2ggd2lsbCBhZmZlY3QgdGhlIHRhaWwuIFNvIHdlIG5lZWQgdG8gdXNlIHRoZSBub3JtYWxcbiAgICAgICAgICAgICAgICAvLyBwYXRoIHRvIGNvbXB1dGUgdGhlIGNvcnJlY3QgdGFpbC5cbiAgICAgICAgICAgICAgICByZXR1cm4gdXBkYXRlU3VzcGVuc2VMaXN0Q29tcG9uZW50KGN1cnJlbnQkJDEsIHdvcmtJblByb2dyZXNzLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gICAgICAgICAgICAgIH0gLy8gSWYgbm9uZSBvZiB0aGUgY2hpbGRyZW4gaGFkIGFueSB3b3JrLCB0aGF0IG1lYW5zIHRoYXQgbm9uZSBvZlxuICAgICAgICAgICAgICAvLyB0aGVtIGdvdCByZXRyaWVkIHNvIHRoZXknbGwgc3RpbGwgYmUgYmxvY2tlZCBpbiB0aGUgc2FtZSB3YXlcbiAgICAgICAgICAgICAgLy8gYXMgYmVmb3JlLiBXZSBjYW4gZmFzdCBiYWlsIG91dC5cblxuXG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyB8PSBEaWRDYXB0dXJlO1xuICAgICAgICAgICAgfSAvLyBJZiBub3RoaW5nIHN1c3BlbmRlZCBiZWZvcmUgYW5kIHdlJ3JlIHJlbmRlcmluZyB0aGUgc2FtZSBjaGlsZHJlbixcbiAgICAgICAgICAgIC8vIHRoZW4gdGhlIHRhaWwgZG9lc24ndCBtYXR0ZXIuIEFueXRoaW5nIG5ldyB0aGF0IHN1c3BlbmRzIHdpbGwgd29ya1xuICAgICAgICAgICAgLy8gaW4gdGhlIFwidG9nZXRoZXJcIiBtb2RlLCBzbyB3ZSBjYW4gY29udGludWUgZnJvbSB0aGUgc3RhdGUgd2UgaGFkLlxuXG5cbiAgICAgICAgICAgIHZhciByZW5kZXJTdGF0ZSA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGU7XG5cbiAgICAgICAgICAgIGlmIChyZW5kZXJTdGF0ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAvLyBSZXNldCB0byB0aGUgXCJ0b2dldGhlclwiIG1vZGUgaW4gY2FzZSB3ZSd2ZSBzdGFydGVkIGEgZGlmZmVyZW50XG4gICAgICAgICAgICAgIC8vIHVwZGF0ZSBpbiB0aGUgcGFzdCBidXQgZGlkbid0IGNvbXBsZXRlIGl0LlxuICAgICAgICAgICAgICByZW5kZXJTdGF0ZS5yZW5kZXJpbmcgPSBudWxsO1xuICAgICAgICAgICAgICByZW5kZXJTdGF0ZS50YWlsID0gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcHVzaFN1c3BlbnNlQ29udGV4dCh3b3JrSW5Qcm9ncmVzcywgc3VzcGVuc2VTdGFja0N1cnNvci5jdXJyZW50KTtcblxuICAgICAgICAgICAgaWYgKF9oYXNDaGlsZFdvcmspIHtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBJZiBub25lIG9mIHRoZSBjaGlsZHJlbiBoYWQgYW55IHdvcmssIHRoYXQgbWVhbnMgdGhhdCBub25lIG9mXG4gICAgICAgICAgICAgIC8vIHRoZW0gZ290IHJldHJpZWQgc28gdGhleSdsbCBzdGlsbCBiZSBibG9ja2VkIGluIHRoZSBzYW1lIHdheVxuICAgICAgICAgICAgICAvLyBhcyBiZWZvcmUuIFdlIGNhbiBmYXN0IGJhaWwgb3V0LlxuICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBiYWlsb3V0T25BbHJlYWR5RmluaXNoZWRXb3JrKGN1cnJlbnQkJDEsIHdvcmtJblByb2dyZXNzLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEFuIHVwZGF0ZSB3YXMgc2NoZWR1bGVkIG9uIHRoaXMgZmliZXIsIGJ1dCB0aGVyZSBhcmUgbm8gbmV3IHByb3BzXG4gICAgICAvLyBub3IgbGVnYWN5IGNvbnRleHQuIFNldCB0aGlzIHRvIGZhbHNlLiBJZiBhbiB1cGRhdGUgcXVldWUgb3IgY29udGV4dFxuICAgICAgLy8gY29uc3VtZXIgcHJvZHVjZXMgYSBjaGFuZ2VkIHZhbHVlLCBpdCB3aWxsIHNldCB0aGlzIHRvIHRydWUuIE90aGVyd2lzZSxcbiAgICAgIC8vIHRoZSBjb21wb25lbnQgd2lsbCBhc3N1bWUgdGhlIGNoaWxkcmVuIGhhdmUgbm90IGNoYW5nZWQgYW5kIGJhaWwgb3V0LlxuICAgICAgZGlkUmVjZWl2ZVVwZGF0ZSA9IGZhbHNlO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBkaWRSZWNlaXZlVXBkYXRlID0gZmFsc2U7XG4gIH0gLy8gQmVmb3JlIGVudGVyaW5nIHRoZSBiZWdpbiBwaGFzZSwgY2xlYXIgdGhlIGV4cGlyYXRpb24gdGltZS5cblxuXG4gIHdvcmtJblByb2dyZXNzLmV4cGlyYXRpb25UaW1lID0gTm9Xb3JrO1xuXG4gIHN3aXRjaCAod29ya0luUHJvZ3Jlc3MudGFnKSB7XG4gICAgY2FzZSBJbmRldGVybWluYXRlQ29tcG9uZW50OlxuICAgICAge1xuICAgICAgICByZXR1cm4gbW91bnRJbmRldGVybWluYXRlQ29tcG9uZW50KGN1cnJlbnQkJDEsIHdvcmtJblByb2dyZXNzLCB3b3JrSW5Qcm9ncmVzcy50eXBlLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gICAgICB9XG5cbiAgICBjYXNlIExhenlDb21wb25lbnQ6XG4gICAgICB7XG4gICAgICAgIHZhciBlbGVtZW50VHlwZSA9IHdvcmtJblByb2dyZXNzLmVsZW1lbnRUeXBlO1xuICAgICAgICByZXR1cm4gbW91bnRMYXp5Q29tcG9uZW50KGN1cnJlbnQkJDEsIHdvcmtJblByb2dyZXNzLCBlbGVtZW50VHlwZSwgdXBkYXRlRXhwaXJhdGlvblRpbWUsIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgICAgIH1cblxuICAgIGNhc2UgRnVuY3Rpb25Db21wb25lbnQ6XG4gICAgICB7XG4gICAgICAgIHZhciBfQ29tcG9uZW50ID0gd29ya0luUHJvZ3Jlc3MudHlwZTtcbiAgICAgICAgdmFyIHVucmVzb2x2ZWRQcm9wcyA9IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcztcbiAgICAgICAgdmFyIHJlc29sdmVkUHJvcHMgPSB3b3JrSW5Qcm9ncmVzcy5lbGVtZW50VHlwZSA9PT0gX0NvbXBvbmVudCA/IHVucmVzb2x2ZWRQcm9wcyA6IHJlc29sdmVEZWZhdWx0UHJvcHMoX0NvbXBvbmVudCwgdW5yZXNvbHZlZFByb3BzKTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZUZ1bmN0aW9uQ29tcG9uZW50KGN1cnJlbnQkJDEsIHdvcmtJblByb2dyZXNzLCBfQ29tcG9uZW50LCByZXNvbHZlZFByb3BzLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gICAgICB9XG5cbiAgICBjYXNlIENsYXNzQ29tcG9uZW50OlxuICAgICAge1xuICAgICAgICB2YXIgX0NvbXBvbmVudDIgPSB3b3JrSW5Qcm9ncmVzcy50eXBlO1xuICAgICAgICB2YXIgX3VucmVzb2x2ZWRQcm9wcyA9IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcztcblxuICAgICAgICB2YXIgX3Jlc29sdmVkUHJvcHMgPSB3b3JrSW5Qcm9ncmVzcy5lbGVtZW50VHlwZSA9PT0gX0NvbXBvbmVudDIgPyBfdW5yZXNvbHZlZFByb3BzIDogcmVzb2x2ZURlZmF1bHRQcm9wcyhfQ29tcG9uZW50MiwgX3VucmVzb2x2ZWRQcm9wcyk7XG5cbiAgICAgICAgcmV0dXJuIHVwZGF0ZUNsYXNzQ29tcG9uZW50KGN1cnJlbnQkJDEsIHdvcmtJblByb2dyZXNzLCBfQ29tcG9uZW50MiwgX3Jlc29sdmVkUHJvcHMsIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgICAgIH1cblxuICAgIGNhc2UgSG9zdFJvb3Q6XG4gICAgICByZXR1cm4gdXBkYXRlSG9zdFJvb3QoY3VycmVudCQkMSwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcblxuICAgIGNhc2UgSG9zdENvbXBvbmVudDpcbiAgICAgIHJldHVybiB1cGRhdGVIb3N0Q29tcG9uZW50KGN1cnJlbnQkJDEsIHdvcmtJblByb2dyZXNzLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG5cbiAgICBjYXNlIEhvc3RUZXh0OlxuICAgICAgcmV0dXJuIHVwZGF0ZUhvc3RUZXh0KGN1cnJlbnQkJDEsIHdvcmtJblByb2dyZXNzKTtcblxuICAgIGNhc2UgU3VzcGVuc2VDb21wb25lbnQ6XG4gICAgICByZXR1cm4gdXBkYXRlU3VzcGVuc2VDb21wb25lbnQoY3VycmVudCQkMSwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcblxuICAgIGNhc2UgSG9zdFBvcnRhbDpcbiAgICAgIHJldHVybiB1cGRhdGVQb3J0YWxDb21wb25lbnQoY3VycmVudCQkMSwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcblxuICAgIGNhc2UgRm9yd2FyZFJlZjpcbiAgICAgIHtcbiAgICAgICAgdmFyIHR5cGUgPSB3b3JrSW5Qcm9ncmVzcy50eXBlO1xuICAgICAgICB2YXIgX3VucmVzb2x2ZWRQcm9wczIgPSB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHM7XG5cbiAgICAgICAgdmFyIF9yZXNvbHZlZFByb3BzMiA9IHdvcmtJblByb2dyZXNzLmVsZW1lbnRUeXBlID09PSB0eXBlID8gX3VucmVzb2x2ZWRQcm9wczIgOiByZXNvbHZlRGVmYXVsdFByb3BzKHR5cGUsIF91bnJlc29sdmVkUHJvcHMyKTtcblxuICAgICAgICByZXR1cm4gdXBkYXRlRm9yd2FyZFJlZihjdXJyZW50JCQxLCB3b3JrSW5Qcm9ncmVzcywgdHlwZSwgX3Jlc29sdmVkUHJvcHMyLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gICAgICB9XG5cbiAgICBjYXNlIEZyYWdtZW50OlxuICAgICAgcmV0dXJuIHVwZGF0ZUZyYWdtZW50KGN1cnJlbnQkJDEsIHdvcmtJblByb2dyZXNzLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG5cbiAgICBjYXNlIE1vZGU6XG4gICAgICByZXR1cm4gdXBkYXRlTW9kZShjdXJyZW50JCQxLCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuXG4gICAgY2FzZSBQcm9maWxlcjpcbiAgICAgIHJldHVybiB1cGRhdGVQcm9maWxlcihjdXJyZW50JCQxLCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuXG4gICAgY2FzZSBDb250ZXh0UHJvdmlkZXI6XG4gICAgICByZXR1cm4gdXBkYXRlQ29udGV4dFByb3ZpZGVyKGN1cnJlbnQkJDEsIHdvcmtJblByb2dyZXNzLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG5cbiAgICBjYXNlIENvbnRleHRDb25zdW1lcjpcbiAgICAgIHJldHVybiB1cGRhdGVDb250ZXh0Q29uc3VtZXIoY3VycmVudCQkMSwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcblxuICAgIGNhc2UgTWVtb0NvbXBvbmVudDpcbiAgICAgIHtcbiAgICAgICAgdmFyIF90eXBlMiA9IHdvcmtJblByb2dyZXNzLnR5cGU7XG4gICAgICAgIHZhciBfdW5yZXNvbHZlZFByb3BzMyA9IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wczsgLy8gUmVzb2x2ZSBvdXRlciBwcm9wcyBmaXJzdCwgdGhlbiByZXNvbHZlIGlubmVyIHByb3BzLlxuXG4gICAgICAgIHZhciBfcmVzb2x2ZWRQcm9wczMgPSByZXNvbHZlRGVmYXVsdFByb3BzKF90eXBlMiwgX3VucmVzb2x2ZWRQcm9wczMpO1xuXG4gICAgICAgIHtcbiAgICAgICAgICBpZiAod29ya0luUHJvZ3Jlc3MudHlwZSAhPT0gd29ya0luUHJvZ3Jlc3MuZWxlbWVudFR5cGUpIHtcbiAgICAgICAgICAgIHZhciBvdXRlclByb3BUeXBlcyA9IF90eXBlMi5wcm9wVHlwZXM7XG5cbiAgICAgICAgICAgIGlmIChvdXRlclByb3BUeXBlcykge1xuICAgICAgICAgICAgICBjaGVja1Byb3BUeXBlcyhvdXRlclByb3BUeXBlcywgX3Jlc29sdmVkUHJvcHMzLCAvLyBSZXNvbHZlZCBmb3Igb3V0ZXIgb25seVxuICAgICAgICAgICAgICAncHJvcCcsIGdldENvbXBvbmVudE5hbWUoX3R5cGUyKSwgZ2V0Q3VycmVudEZpYmVyU3RhY2tJbkRldik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgX3Jlc29sdmVkUHJvcHMzID0gcmVzb2x2ZURlZmF1bHRQcm9wcyhfdHlwZTIudHlwZSwgX3Jlc29sdmVkUHJvcHMzKTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZU1lbW9Db21wb25lbnQoY3VycmVudCQkMSwgd29ya0luUHJvZ3Jlc3MsIF90eXBlMiwgX3Jlc29sdmVkUHJvcHMzLCB1cGRhdGVFeHBpcmF0aW9uVGltZSwgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICAgICAgfVxuXG4gICAgY2FzZSBTaW1wbGVNZW1vQ29tcG9uZW50OlxuICAgICAge1xuICAgICAgICByZXR1cm4gdXBkYXRlU2ltcGxlTWVtb0NvbXBvbmVudChjdXJyZW50JCQxLCB3b3JrSW5Qcm9ncmVzcywgd29ya0luUHJvZ3Jlc3MudHlwZSwgd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzLCB1cGRhdGVFeHBpcmF0aW9uVGltZSwgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICAgICAgfVxuXG4gICAgY2FzZSBJbmNvbXBsZXRlQ2xhc3NDb21wb25lbnQ6XG4gICAgICB7XG4gICAgICAgIHZhciBfQ29tcG9uZW50MyA9IHdvcmtJblByb2dyZXNzLnR5cGU7XG4gICAgICAgIHZhciBfdW5yZXNvbHZlZFByb3BzNCA9IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcztcblxuICAgICAgICB2YXIgX3Jlc29sdmVkUHJvcHM0ID0gd29ya0luUHJvZ3Jlc3MuZWxlbWVudFR5cGUgPT09IF9Db21wb25lbnQzID8gX3VucmVzb2x2ZWRQcm9wczQgOiByZXNvbHZlRGVmYXVsdFByb3BzKF9Db21wb25lbnQzLCBfdW5yZXNvbHZlZFByb3BzNCk7XG5cbiAgICAgICAgcmV0dXJuIG1vdW50SW5jb21wbGV0ZUNsYXNzQ29tcG9uZW50KGN1cnJlbnQkJDEsIHdvcmtJblByb2dyZXNzLCBfQ29tcG9uZW50MywgX3Jlc29sdmVkUHJvcHM0LCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gICAgICB9XG5cbiAgICBjYXNlIFN1c3BlbnNlTGlzdENvbXBvbmVudDpcbiAgICAgIHtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZVN1c3BlbnNlTGlzdENvbXBvbmVudChjdXJyZW50JCQxLCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICAgICAgfVxuXG4gICAgY2FzZSBGdW5kYW1lbnRhbENvbXBvbmVudDpcbiAgICAgIHtcbiAgICAgICAgaWYgKGVuYWJsZUZ1bmRhbWVudGFsQVBJKSB7XG4gICAgICAgICAgcmV0dXJuIHVwZGF0ZUZ1bmRhbWVudGFsQ29tcG9uZW50JDEoY3VycmVudCQkMSwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgY2FzZSBTY29wZUNvbXBvbmVudDpcbiAgICAgIHtcbiAgICAgICAgaWYgKGVuYWJsZVNjb3BlQVBJKSB7XG4gICAgICAgICAgcmV0dXJuIHVwZGF0ZVNjb3BlQ29tcG9uZW50KGN1cnJlbnQkJDEsIHdvcmtJblByb2dyZXNzLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgfVxuXG4gIHtcbiAgICB7XG4gICAgICB0aHJvdyBFcnJvcihcIlVua25vd24gdW5pdCBvZiB3b3JrIHRhZyAoXCIgKyB3b3JrSW5Qcm9ncmVzcy50YWcgKyBcIikuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCIpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVGdW5kYW1lbnRhbFN0YXRlSW5zdGFuY2UoY3VycmVudEZpYmVyLCBwcm9wcywgaW1wbCwgc3RhdGUpIHtcbiAgcmV0dXJuIHtcbiAgICBjdXJyZW50RmliZXI6IGN1cnJlbnRGaWJlcixcbiAgICBpbXBsOiBpbXBsLFxuICAgIGluc3RhbmNlOiBudWxsLFxuICAgIHByZXZQcm9wczogbnVsbCxcbiAgICBwcm9wczogcHJvcHMsXG4gICAgc3RhdGU6IHN0YXRlXG4gIH07XG59XG5cbmZ1bmN0aW9uIGlzRmliZXJTdXNwZW5zZUFuZFRpbWVkT3V0KGZpYmVyKSB7XG4gIHJldHVybiBmaWJlci50YWcgPT09IFN1c3BlbnNlQ29tcG9uZW50ICYmIGZpYmVyLm1lbW9pemVkU3RhdGUgIT09IG51bGw7XG59XG5cbmZ1bmN0aW9uIGdldFN1c3BlbnNlRmFsbGJhY2tDaGlsZChmaWJlcikge1xuICByZXR1cm4gZmliZXIuY2hpbGQuc2libGluZy5jaGlsZDtcbn1cblxudmFyIGVtcHR5T2JqZWN0JDEgPSB7fTtcblxuZnVuY3Rpb24gY29sbGVjdFNjb3BlZE5vZGVzKG5vZGUsIGZuLCBzY29wZWROb2Rlcykge1xuICBpZiAoZW5hYmxlU2NvcGVBUEkpIHtcbiAgICBpZiAobm9kZS50YWcgPT09IEhvc3RDb21wb25lbnQpIHtcbiAgICAgIHZhciBfdHlwZSA9IG5vZGUudHlwZSxcbiAgICAgICAgICBtZW1vaXplZFByb3BzID0gbm9kZS5tZW1vaXplZFByb3BzLFxuICAgICAgICAgIHN0YXRlTm9kZSA9IG5vZGUuc3RhdGVOb2RlO1xuXG4gICAgICB2YXIgX2luc3RhbmNlID0gZ2V0UHVibGljSW5zdGFuY2Uoc3RhdGVOb2RlKTtcblxuICAgICAgaWYgKF9pbnN0YW5jZSAhPT0gbnVsbCAmJiBmbihfdHlwZSwgbWVtb2l6ZWRQcm9wcyB8fCBlbXB0eU9iamVjdCQxLCBfaW5zdGFuY2UpID09PSB0cnVlKSB7XG4gICAgICAgIHNjb3BlZE5vZGVzLnB1c2goX2luc3RhbmNlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgY2hpbGQgPSBub2RlLmNoaWxkO1xuXG4gICAgaWYgKGlzRmliZXJTdXNwZW5zZUFuZFRpbWVkT3V0KG5vZGUpKSB7XG4gICAgICBjaGlsZCA9IGdldFN1c3BlbnNlRmFsbGJhY2tDaGlsZChub2RlKTtcbiAgICB9XG5cbiAgICBpZiAoY2hpbGQgIT09IG51bGwpIHtcbiAgICAgIGNvbGxlY3RTY29wZWROb2Rlc0Zyb21DaGlsZHJlbihjaGlsZCwgZm4sIHNjb3BlZE5vZGVzKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gY29sbGVjdEZpcnN0U2NvcGVkTm9kZShub2RlLCBmbikge1xuICBpZiAoZW5hYmxlU2NvcGVBUEkpIHtcbiAgICBpZiAobm9kZS50YWcgPT09IEhvc3RDb21wb25lbnQpIHtcbiAgICAgIHZhciBfdHlwZTIgPSBub2RlLnR5cGUsXG4gICAgICAgICAgbWVtb2l6ZWRQcm9wcyA9IG5vZGUubWVtb2l6ZWRQcm9wcyxcbiAgICAgICAgICBzdGF0ZU5vZGUgPSBub2RlLnN0YXRlTm9kZTtcblxuICAgICAgdmFyIF9pbnN0YW5jZTIgPSBnZXRQdWJsaWNJbnN0YW5jZShzdGF0ZU5vZGUpO1xuXG4gICAgICBpZiAoX2luc3RhbmNlMiAhPT0gbnVsbCAmJiBmbihfdHlwZTIsIG1lbW9pemVkUHJvcHMsIF9pbnN0YW5jZTIpID09PSB0cnVlKSB7XG4gICAgICAgIHJldHVybiBfaW5zdGFuY2UyO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBjaGlsZCA9IG5vZGUuY2hpbGQ7XG5cbiAgICBpZiAoaXNGaWJlclN1c3BlbnNlQW5kVGltZWRPdXQobm9kZSkpIHtcbiAgICAgIGNoaWxkID0gZ2V0U3VzcGVuc2VGYWxsYmFja0NoaWxkKG5vZGUpO1xuICAgIH1cblxuICAgIGlmIChjaGlsZCAhPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGNvbGxlY3RGaXJzdFNjb3BlZE5vZGVGcm9tQ2hpbGRyZW4oY2hpbGQsIGZuKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gY29sbGVjdFNjb3BlZE5vZGVzRnJvbUNoaWxkcmVuKHN0YXJ0aW5nQ2hpbGQsIGZuLCBzY29wZWROb2Rlcykge1xuICB2YXIgY2hpbGQgPSBzdGFydGluZ0NoaWxkO1xuXG4gIHdoaWxlIChjaGlsZCAhPT0gbnVsbCkge1xuICAgIGNvbGxlY3RTY29wZWROb2RlcyhjaGlsZCwgZm4sIHNjb3BlZE5vZGVzKTtcbiAgICBjaGlsZCA9IGNoaWxkLnNpYmxpbmc7XG4gIH1cbn1cblxuZnVuY3Rpb24gY29sbGVjdEZpcnN0U2NvcGVkTm9kZUZyb21DaGlsZHJlbihzdGFydGluZ0NoaWxkLCBmbikge1xuICB2YXIgY2hpbGQgPSBzdGFydGluZ0NoaWxkO1xuXG4gIHdoaWxlIChjaGlsZCAhPT0gbnVsbCkge1xuICAgIHZhciBzY29wZWROb2RlID0gY29sbGVjdEZpcnN0U2NvcGVkTm9kZShjaGlsZCwgZm4pO1xuXG4gICAgaWYgKHNjb3BlZE5vZGUgIT09IG51bGwpIHtcbiAgICAgIHJldHVybiBzY29wZWROb2RlO1xuICAgIH1cblxuICAgIGNoaWxkID0gY2hpbGQuc2libGluZztcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBjb2xsZWN0TmVhcmVzdFNjb3BlTWV0aG9kcyhub2RlLCBzY29wZSwgY2hpbGRyZW5TY29wZXMpIHtcbiAgaWYgKGlzVmFsaWRTY29wZU5vZGUobm9kZSwgc2NvcGUpKSB7XG4gICAgY2hpbGRyZW5TY29wZXMucHVzaChub2RlLnN0YXRlTm9kZS5tZXRob2RzKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgY2hpbGQgPSBub2RlLmNoaWxkO1xuXG4gICAgaWYgKGlzRmliZXJTdXNwZW5zZUFuZFRpbWVkT3V0KG5vZGUpKSB7XG4gICAgICBjaGlsZCA9IGdldFN1c3BlbnNlRmFsbGJhY2tDaGlsZChub2RlKTtcbiAgICB9XG5cbiAgICBpZiAoY2hpbGQgIT09IG51bGwpIHtcbiAgICAgIGNvbGxlY3ROZWFyZXN0Q2hpbGRTY29wZU1ldGhvZHMoY2hpbGQsIHNjb3BlLCBjaGlsZHJlblNjb3Blcyk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGNvbGxlY3ROZWFyZXN0Q2hpbGRTY29wZU1ldGhvZHMoc3RhcnRpbmdDaGlsZCwgc2NvcGUsIGNoaWxkcmVuU2NvcGVzKSB7XG4gIHZhciBjaGlsZCA9IHN0YXJ0aW5nQ2hpbGQ7XG5cbiAgd2hpbGUgKGNoaWxkICE9PSBudWxsKSB7XG4gICAgY29sbGVjdE5lYXJlc3RTY29wZU1ldGhvZHMoY2hpbGQsIHNjb3BlLCBjaGlsZHJlblNjb3Blcyk7XG4gICAgY2hpbGQgPSBjaGlsZC5zaWJsaW5nO1xuICB9XG59XG5cbmZ1bmN0aW9uIGlzVmFsaWRTY29wZU5vZGUobm9kZSwgc2NvcGUpIHtcbiAgcmV0dXJuIG5vZGUudGFnID09PSBTY29wZUNvbXBvbmVudCAmJiBub2RlLnR5cGUgPT09IHNjb3BlICYmIG5vZGUuc3RhdGVOb2RlICE9PSBudWxsO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVTY29wZU1ldGhvZHMoc2NvcGUsIGluc3RhbmNlKSB7XG4gIHJldHVybiB7XG4gICAgZ2V0Q2hpbGRyZW46IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBjdXJyZW50RmliZXIgPSBpbnN0YW5jZS5maWJlcjtcbiAgICAgIHZhciBjaGlsZCA9IGN1cnJlbnRGaWJlci5jaGlsZDtcbiAgICAgIHZhciBjaGlsZHJlblNjb3BlcyA9IFtdO1xuXG4gICAgICBpZiAoY2hpbGQgIT09IG51bGwpIHtcbiAgICAgICAgY29sbGVjdE5lYXJlc3RDaGlsZFNjb3BlTWV0aG9kcyhjaGlsZCwgc2NvcGUsIGNoaWxkcmVuU2NvcGVzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNoaWxkcmVuU2NvcGVzLmxlbmd0aCA9PT0gMCA/IG51bGwgOiBjaGlsZHJlblNjb3BlcztcbiAgICB9LFxuICAgIGdldENoaWxkcmVuRnJvbVJvb3Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBjdXJyZW50RmliZXIgPSBpbnN0YW5jZS5maWJlcjtcbiAgICAgIHZhciBub2RlID0gY3VycmVudEZpYmVyO1xuXG4gICAgICB3aGlsZSAobm9kZSAhPT0gbnVsbCkge1xuICAgICAgICB2YXIgcGFyZW50ID0gbm9kZS5yZXR1cm47XG5cbiAgICAgICAgaWYgKHBhcmVudCA9PT0gbnVsbCkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgbm9kZSA9IHBhcmVudDtcblxuICAgICAgICBpZiAobm9kZS50YWcgPT09IFNjb3BlQ29tcG9uZW50ICYmIG5vZGUudHlwZSA9PT0gc2NvcGUpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgY2hpbGRyZW5TY29wZXMgPSBbXTtcbiAgICAgIGNvbGxlY3ROZWFyZXN0Q2hpbGRTY29wZU1ldGhvZHMobm9kZS5jaGlsZCwgc2NvcGUsIGNoaWxkcmVuU2NvcGVzKTtcbiAgICAgIHJldHVybiBjaGlsZHJlblNjb3Blcy5sZW5ndGggPT09IDAgPyBudWxsIDogY2hpbGRyZW5TY29wZXM7XG4gICAgfSxcbiAgICBnZXRQYXJlbnQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBub2RlID0gaW5zdGFuY2UuZmliZXIucmV0dXJuO1xuXG4gICAgICB3aGlsZSAobm9kZSAhPT0gbnVsbCkge1xuICAgICAgICBpZiAobm9kZS50YWcgPT09IFNjb3BlQ29tcG9uZW50ICYmIG5vZGUudHlwZSA9PT0gc2NvcGUpIHtcbiAgICAgICAgICByZXR1cm4gbm9kZS5zdGF0ZU5vZGUubWV0aG9kcztcbiAgICAgICAgfVxuXG4gICAgICAgIG5vZGUgPSBub2RlLnJldHVybjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSxcbiAgICBnZXRQcm9wczogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGN1cnJlbnRGaWJlciA9IGluc3RhbmNlLmZpYmVyO1xuICAgICAgcmV0dXJuIGN1cnJlbnRGaWJlci5tZW1vaXplZFByb3BzO1xuICAgIH0sXG4gICAgcXVlcnlBbGxOb2RlczogZnVuY3Rpb24gKGZuKSB7XG4gICAgICB2YXIgY3VycmVudEZpYmVyID0gaW5zdGFuY2UuZmliZXI7XG4gICAgICB2YXIgY2hpbGQgPSBjdXJyZW50RmliZXIuY2hpbGQ7XG4gICAgICB2YXIgc2NvcGVkTm9kZXMgPSBbXTtcblxuICAgICAgaWYgKGNoaWxkICE9PSBudWxsKSB7XG4gICAgICAgIGNvbGxlY3RTY29wZWROb2Rlc0Zyb21DaGlsZHJlbihjaGlsZCwgZm4sIHNjb3BlZE5vZGVzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNjb3BlZE5vZGVzLmxlbmd0aCA9PT0gMCA/IG51bGwgOiBzY29wZWROb2RlcztcbiAgICB9LFxuICAgIHF1ZXJ5Rmlyc3ROb2RlOiBmdW5jdGlvbiAoZm4pIHtcbiAgICAgIHZhciBjdXJyZW50RmliZXIgPSBpbnN0YW5jZS5maWJlcjtcbiAgICAgIHZhciBjaGlsZCA9IGN1cnJlbnRGaWJlci5jaGlsZDtcblxuICAgICAgaWYgKGNoaWxkICE9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBjb2xsZWN0Rmlyc3RTY29wZWROb2RlRnJvbUNoaWxkcmVuKGNoaWxkLCBmbik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0sXG4gICAgY29udGFpbnNOb2RlOiBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgdmFyIGZpYmVyID0gZ2V0SW5zdGFuY2VGcm9tTm9kZSQyKG5vZGUpO1xuXG4gICAgICB3aGlsZSAoZmliZXIgIT09IG51bGwpIHtcbiAgICAgICAgaWYgKGZpYmVyLnRhZyA9PT0gU2NvcGVDb21wb25lbnQgJiYgZmliZXIudHlwZSA9PT0gc2NvcGUgJiYgZmliZXIuc3RhdGVOb2RlID09PSBpbnN0YW5jZSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgZmliZXIgPSBmaWJlci5yZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIG1hcmtVcGRhdGUod29ya0luUHJvZ3Jlc3MpIHtcbiAgLy8gVGFnIHRoZSBmaWJlciB3aXRoIGFuIHVwZGF0ZSBlZmZlY3QuIFRoaXMgdHVybnMgYSBQbGFjZW1lbnQgaW50b1xuICAvLyBhIFBsYWNlbWVudEFuZFVwZGF0ZS5cbiAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnIHw9IFVwZGF0ZTtcbn1cblxuZnVuY3Rpb24gbWFya1JlZiQxKHdvcmtJblByb2dyZXNzKSB7XG4gIHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyB8PSBSZWY7XG59XG5cbnZhciBhcHBlbmRBbGxDaGlsZHJlbjtcbnZhciB1cGRhdGVIb3N0Q29udGFpbmVyO1xudmFyIHVwZGF0ZUhvc3RDb21wb25lbnQkMTtcbnZhciB1cGRhdGVIb3N0VGV4dCQxO1xuXG5pZiAoc3VwcG9ydHNNdXRhdGlvbikge1xuICAvLyBNdXRhdGlvbiBtb2RlXG4gIGFwcGVuZEFsbENoaWxkcmVuID0gZnVuY3Rpb24gKHBhcmVudCwgd29ya0luUHJvZ3Jlc3MsIG5lZWRzVmlzaWJpbGl0eVRvZ2dsZSwgaXNIaWRkZW4pIHtcbiAgICAvLyBXZSBvbmx5IGhhdmUgdGhlIHRvcCBGaWJlciB0aGF0IHdhcyBjcmVhdGVkIGJ1dCB3ZSBuZWVkIHJlY3Vyc2UgZG93biBpdHNcbiAgICAvLyBjaGlsZHJlbiB0byBmaW5kIGFsbCB0aGUgdGVybWluYWwgbm9kZXMuXG4gICAgdmFyIG5vZGUgPSB3b3JrSW5Qcm9ncmVzcy5jaGlsZDtcblxuICAgIHdoaWxlIChub2RlICE9PSBudWxsKSB7XG4gICAgICBpZiAobm9kZS50YWcgPT09IEhvc3RDb21wb25lbnQgfHwgbm9kZS50YWcgPT09IEhvc3RUZXh0KSB7XG4gICAgICAgIGFwcGVuZEluaXRpYWxDaGlsZChwYXJlbnQsIG5vZGUuc3RhdGVOb2RlKTtcbiAgICAgIH0gZWxzZSBpZiAoZW5hYmxlRnVuZGFtZW50YWxBUEkgJiYgbm9kZS50YWcgPT09IEZ1bmRhbWVudGFsQ29tcG9uZW50KSB7XG4gICAgICAgIGFwcGVuZEluaXRpYWxDaGlsZChwYXJlbnQsIG5vZGUuc3RhdGVOb2RlLmluc3RhbmNlKTtcbiAgICAgIH0gZWxzZSBpZiAobm9kZS50YWcgPT09IEhvc3RQb3J0YWwpIHsvLyBJZiB3ZSBoYXZlIGEgcG9ydGFsIGNoaWxkLCB0aGVuIHdlIGRvbid0IHdhbnQgdG8gdHJhdmVyc2VcbiAgICAgICAgLy8gZG93biBpdHMgY2hpbGRyZW4uIEluc3RlYWQsIHdlJ2xsIGdldCBpbnNlcnRpb25zIGZyb20gZWFjaCBjaGlsZCBpblxuICAgICAgICAvLyB0aGUgcG9ydGFsIGRpcmVjdGx5LlxuICAgICAgfSBlbHNlIGlmIChub2RlLmNoaWxkICE9PSBudWxsKSB7XG4gICAgICAgIG5vZGUuY2hpbGQucmV0dXJuID0gbm9kZTtcbiAgICAgICAgbm9kZSA9IG5vZGUuY2hpbGQ7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAobm9kZSA9PT0gd29ya0luUHJvZ3Jlc3MpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB3aGlsZSAobm9kZS5zaWJsaW5nID09PSBudWxsKSB7XG4gICAgICAgIGlmIChub2RlLnJldHVybiA9PT0gbnVsbCB8fCBub2RlLnJldHVybiA9PT0gd29ya0luUHJvZ3Jlc3MpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBub2RlID0gbm9kZS5yZXR1cm47XG4gICAgICB9XG5cbiAgICAgIG5vZGUuc2libGluZy5yZXR1cm4gPSBub2RlLnJldHVybjtcbiAgICAgIG5vZGUgPSBub2RlLnNpYmxpbmc7XG4gICAgfVxuICB9O1xuXG4gIHVwZGF0ZUhvc3RDb250YWluZXIgPSBmdW5jdGlvbiAod29ya0luUHJvZ3Jlc3MpIHsvLyBOb29wXG4gIH07XG5cbiAgdXBkYXRlSG9zdENvbXBvbmVudCQxID0gZnVuY3Rpb24gKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCB0eXBlLCBuZXdQcm9wcywgcm9vdENvbnRhaW5lckluc3RhbmNlKSB7XG4gICAgLy8gSWYgd2UgaGF2ZSBhbiBhbHRlcm5hdGUsIHRoYXQgbWVhbnMgdGhpcyBpcyBhbiB1cGRhdGUgYW5kIHdlIG5lZWQgdG9cbiAgICAvLyBzY2hlZHVsZSBhIHNpZGUtZWZmZWN0IHRvIGRvIHRoZSB1cGRhdGVzLlxuICAgIHZhciBvbGRQcm9wcyA9IGN1cnJlbnQubWVtb2l6ZWRQcm9wcztcblxuICAgIGlmIChvbGRQcm9wcyA9PT0gbmV3UHJvcHMpIHtcbiAgICAgIC8vIEluIG11dGF0aW9uIG1vZGUsIHRoaXMgaXMgc3VmZmljaWVudCBmb3IgYSBiYWlsb3V0IGJlY2F1c2VcbiAgICAgIC8vIHdlIHdvbid0IHRvdWNoIHRoaXMgbm9kZSBldmVuIGlmIGNoaWxkcmVuIGNoYW5nZWQuXG4gICAgICByZXR1cm47XG4gICAgfSAvLyBJZiB3ZSBnZXQgdXBkYXRlZCBiZWNhdXNlIG9uZSBvZiBvdXIgY2hpbGRyZW4gdXBkYXRlZCwgd2UgZG9uJ3RcbiAgICAvLyBoYXZlIG5ld1Byb3BzIHNvIHdlJ2xsIGhhdmUgdG8gcmV1c2UgdGhlbS5cbiAgICAvLyBUT0RPOiBTcGxpdCB0aGUgdXBkYXRlIEFQSSBhcyBzZXBhcmF0ZSBmb3IgdGhlIHByb3BzIHZzLiBjaGlsZHJlbi5cbiAgICAvLyBFdmVuIGJldHRlciB3b3VsZCBiZSBpZiBjaGlsZHJlbiB3ZXJlbid0IHNwZWNpYWwgY2FzZWQgYXQgYWxsIHRoby5cblxuXG4gICAgdmFyIGluc3RhbmNlID0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlO1xuICAgIHZhciBjdXJyZW50SG9zdENvbnRleHQgPSBnZXRIb3N0Q29udGV4dCgpOyAvLyBUT0RPOiBFeHBlcmllbmNpbmcgYW4gZXJyb3Igd2hlcmUgb2xkUHJvcHMgaXMgbnVsbC4gU3VnZ2VzdHMgYSBob3N0XG4gICAgLy8gY29tcG9uZW50IGlzIGhpdHRpbmcgdGhlIHJlc3VtZSBwYXRoLiBGaWd1cmUgb3V0IHdoeS4gUG9zc2libHlcbiAgICAvLyByZWxhdGVkIHRvIGBoaWRkZW5gLlxuXG4gICAgdmFyIHVwZGF0ZVBheWxvYWQgPSBwcmVwYXJlVXBkYXRlKGluc3RhbmNlLCB0eXBlLCBvbGRQcm9wcywgbmV3UHJvcHMsIHJvb3RDb250YWluZXJJbnN0YW5jZSwgY3VycmVudEhvc3RDb250ZXh0KTsgLy8gVE9ETzogVHlwZSB0aGlzIHNwZWNpZmljIHRvIHRoaXMgdHlwZSBvZiBjb21wb25lbnQuXG5cbiAgICB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZSA9IHVwZGF0ZVBheWxvYWQ7IC8vIElmIHRoZSB1cGRhdGUgcGF5bG9hZCBpbmRpY2F0ZXMgdGhhdCB0aGVyZSBpcyBhIGNoYW5nZSBvciBpZiB0aGVyZVxuICAgIC8vIGlzIGEgbmV3IHJlZiB3ZSBtYXJrIHRoaXMgYXMgYW4gdXBkYXRlLiBBbGwgdGhlIHdvcmsgaXMgZG9uZSBpbiBjb21taXRXb3JrLlxuXG4gICAgaWYgKHVwZGF0ZVBheWxvYWQpIHtcbiAgICAgIG1hcmtVcGRhdGUod29ya0luUHJvZ3Jlc3MpO1xuICAgIH1cbiAgfTtcblxuICB1cGRhdGVIb3N0VGV4dCQxID0gZnVuY3Rpb24gKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCBvbGRUZXh0LCBuZXdUZXh0KSB7XG4gICAgLy8gSWYgdGhlIHRleHQgZGlmZmVycywgbWFyayBpdCBhcyBhbiB1cGRhdGUuIEFsbCB0aGUgd29yayBpbiBkb25lIGluIGNvbW1pdFdvcmsuXG4gICAgaWYgKG9sZFRleHQgIT09IG5ld1RleHQpIHtcbiAgICAgIG1hcmtVcGRhdGUod29ya0luUHJvZ3Jlc3MpO1xuICAgIH1cbiAgfTtcbn0gZWxzZSBpZiAoc3VwcG9ydHNQZXJzaXN0ZW5jZSkge1xuICAvLyBQZXJzaXN0ZW50IGhvc3QgdHJlZSBtb2RlXG4gIGFwcGVuZEFsbENoaWxkcmVuID0gZnVuY3Rpb24gKHBhcmVudCwgd29ya0luUHJvZ3Jlc3MsIG5lZWRzVmlzaWJpbGl0eVRvZ2dsZSwgaXNIaWRkZW4pIHtcbiAgICAvLyBXZSBvbmx5IGhhdmUgdGhlIHRvcCBGaWJlciB0aGF0IHdhcyBjcmVhdGVkIGJ1dCB3ZSBuZWVkIHJlY3Vyc2UgZG93biBpdHNcbiAgICAvLyBjaGlsZHJlbiB0byBmaW5kIGFsbCB0aGUgdGVybWluYWwgbm9kZXMuXG4gICAgdmFyIG5vZGUgPSB3b3JrSW5Qcm9ncmVzcy5jaGlsZDtcblxuICAgIHdoaWxlIChub2RlICE9PSBudWxsKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbGFiZWxzXG4gICAgICBicmFuY2hlczogaWYgKG5vZGUudGFnID09PSBIb3N0Q29tcG9uZW50KSB7XG4gICAgICAgIHZhciBpbnN0YW5jZSA9IG5vZGUuc3RhdGVOb2RlO1xuXG4gICAgICAgIGlmIChuZWVkc1Zpc2liaWxpdHlUb2dnbGUgJiYgaXNIaWRkZW4pIHtcbiAgICAgICAgICAvLyBUaGlzIGNoaWxkIGlzIGluc2lkZSBhIHRpbWVkIG91dCB0cmVlLiBIaWRlIGl0LlxuICAgICAgICAgIHZhciBwcm9wcyA9IG5vZGUubWVtb2l6ZWRQcm9wcztcbiAgICAgICAgICB2YXIgdHlwZSA9IG5vZGUudHlwZTtcbiAgICAgICAgICBpbnN0YW5jZSA9IGNsb25lSGlkZGVuSW5zdGFuY2UoaW5zdGFuY2UsIHR5cGUsIHByb3BzLCBub2RlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGFwcGVuZEluaXRpYWxDaGlsZChwYXJlbnQsIGluc3RhbmNlKTtcbiAgICAgIH0gZWxzZSBpZiAobm9kZS50YWcgPT09IEhvc3RUZXh0KSB7XG4gICAgICAgIHZhciBfaW5zdGFuY2UgPSBub2RlLnN0YXRlTm9kZTtcblxuICAgICAgICBpZiAobmVlZHNWaXNpYmlsaXR5VG9nZ2xlICYmIGlzSGlkZGVuKSB7XG4gICAgICAgICAgLy8gVGhpcyBjaGlsZCBpcyBpbnNpZGUgYSB0aW1lZCBvdXQgdHJlZS4gSGlkZSBpdC5cbiAgICAgICAgICB2YXIgdGV4dCA9IG5vZGUubWVtb2l6ZWRQcm9wcztcbiAgICAgICAgICBfaW5zdGFuY2UgPSBjbG9uZUhpZGRlblRleHRJbnN0YW5jZShfaW5zdGFuY2UsIHRleHQsIG5vZGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgYXBwZW5kSW5pdGlhbENoaWxkKHBhcmVudCwgX2luc3RhbmNlKTtcbiAgICAgIH0gZWxzZSBpZiAoZW5hYmxlRnVuZGFtZW50YWxBUEkgJiYgbm9kZS50YWcgPT09IEZ1bmRhbWVudGFsQ29tcG9uZW50KSB7XG4gICAgICAgIHZhciBfaW5zdGFuY2UyID0gbm9kZS5zdGF0ZU5vZGUuaW5zdGFuY2U7XG5cbiAgICAgICAgaWYgKG5lZWRzVmlzaWJpbGl0eVRvZ2dsZSAmJiBpc0hpZGRlbikge1xuICAgICAgICAgIC8vIFRoaXMgY2hpbGQgaXMgaW5zaWRlIGEgdGltZWQgb3V0IHRyZWUuIEhpZGUgaXQuXG4gICAgICAgICAgdmFyIF9wcm9wcyA9IG5vZGUubWVtb2l6ZWRQcm9wcztcbiAgICAgICAgICB2YXIgX3R5cGUgPSBub2RlLnR5cGU7XG4gICAgICAgICAgX2luc3RhbmNlMiA9IGNsb25lSGlkZGVuSW5zdGFuY2UoX2luc3RhbmNlMiwgX3R5cGUsIF9wcm9wcywgbm9kZSk7XG4gICAgICAgIH1cblxuICAgICAgICBhcHBlbmRJbml0aWFsQ2hpbGQocGFyZW50LCBfaW5zdGFuY2UyKTtcbiAgICAgIH0gZWxzZSBpZiAobm9kZS50YWcgPT09IEhvc3RQb3J0YWwpIHsvLyBJZiB3ZSBoYXZlIGEgcG9ydGFsIGNoaWxkLCB0aGVuIHdlIGRvbid0IHdhbnQgdG8gdHJhdmVyc2VcbiAgICAgICAgLy8gZG93biBpdHMgY2hpbGRyZW4uIEluc3RlYWQsIHdlJ2xsIGdldCBpbnNlcnRpb25zIGZyb20gZWFjaCBjaGlsZCBpblxuICAgICAgICAvLyB0aGUgcG9ydGFsIGRpcmVjdGx5LlxuICAgICAgfSBlbHNlIGlmIChub2RlLnRhZyA9PT0gU3VzcGVuc2VDb21wb25lbnQpIHtcbiAgICAgICAgaWYgKChub2RlLmVmZmVjdFRhZyAmIFVwZGF0ZSkgIT09IE5vRWZmZWN0KSB7XG4gICAgICAgICAgLy8gTmVlZCB0byB0b2dnbGUgdGhlIHZpc2liaWxpdHkgb2YgdGhlIHByaW1hcnkgY2hpbGRyZW4uXG4gICAgICAgICAgdmFyIG5ld0lzSGlkZGVuID0gbm9kZS5tZW1vaXplZFN0YXRlICE9PSBudWxsO1xuXG4gICAgICAgICAgaWYgKG5ld0lzSGlkZGVuKSB7XG4gICAgICAgICAgICB2YXIgcHJpbWFyeUNoaWxkUGFyZW50ID0gbm9kZS5jaGlsZDtcblxuICAgICAgICAgICAgaWYgKHByaW1hcnlDaGlsZFBhcmVudCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICBpZiAocHJpbWFyeUNoaWxkUGFyZW50LmNoaWxkICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcHJpbWFyeUNoaWxkUGFyZW50LmNoaWxkLnJldHVybiA9IHByaW1hcnlDaGlsZFBhcmVudDtcbiAgICAgICAgICAgICAgICBhcHBlbmRBbGxDaGlsZHJlbihwYXJlbnQsIHByaW1hcnlDaGlsZFBhcmVudCwgdHJ1ZSwgbmV3SXNIaWRkZW4pO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgdmFyIGZhbGxiYWNrQ2hpbGRQYXJlbnQgPSBwcmltYXJ5Q2hpbGRQYXJlbnQuc2libGluZztcblxuICAgICAgICAgICAgICBpZiAoZmFsbGJhY2tDaGlsZFBhcmVudCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGZhbGxiYWNrQ2hpbGRQYXJlbnQucmV0dXJuID0gbm9kZTtcbiAgICAgICAgICAgICAgICBub2RlID0gZmFsbGJhY2tDaGlsZFBhcmVudDtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChub2RlLmNoaWxkICE9PSBudWxsKSB7XG4gICAgICAgICAgLy8gQ29udGludWUgdHJhdmVyc2luZyBsaWtlIG5vcm1hbFxuICAgICAgICAgIG5vZGUuY2hpbGQucmV0dXJuID0gbm9kZTtcbiAgICAgICAgICBub2RlID0gbm9kZS5jaGlsZDtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChub2RlLmNoaWxkICE9PSBudWxsKSB7XG4gICAgICAgIG5vZGUuY2hpbGQucmV0dXJuID0gbm9kZTtcbiAgICAgICAgbm9kZSA9IG5vZGUuY2hpbGQ7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfSAvLyAkRmxvd0ZpeE1lIFRoaXMgaXMgY29ycmVjdCBidXQgRmxvdyBpcyBjb25mdXNlZCBieSB0aGUgbGFiZWxlZCBicmVhay5cblxuXG4gICAgICBub2RlID0gbm9kZTtcblxuICAgICAgaWYgKG5vZGUgPT09IHdvcmtJblByb2dyZXNzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgd2hpbGUgKG5vZGUuc2libGluZyA9PT0gbnVsbCkge1xuICAgICAgICBpZiAobm9kZS5yZXR1cm4gPT09IG51bGwgfHwgbm9kZS5yZXR1cm4gPT09IHdvcmtJblByb2dyZXNzKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbm9kZSA9IG5vZGUucmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBub2RlLnNpYmxpbmcucmV0dXJuID0gbm9kZS5yZXR1cm47XG4gICAgICBub2RlID0gbm9kZS5zaWJsaW5nO1xuICAgIH1cbiAgfTsgLy8gQW4gdW5mb3J0dW5hdGUgZm9yayBvZiBhcHBlbmRBbGxDaGlsZHJlbiBiZWNhdXNlIHdlIGhhdmUgdHdvIGRpZmZlcmVudCBwYXJlbnQgdHlwZXMuXG5cblxuICB2YXIgYXBwZW5kQWxsQ2hpbGRyZW5Ub0NvbnRhaW5lciA9IGZ1bmN0aW9uIChjb250YWluZXJDaGlsZFNldCwgd29ya0luUHJvZ3Jlc3MsIG5lZWRzVmlzaWJpbGl0eVRvZ2dsZSwgaXNIaWRkZW4pIHtcbiAgICAvLyBXZSBvbmx5IGhhdmUgdGhlIHRvcCBGaWJlciB0aGF0IHdhcyBjcmVhdGVkIGJ1dCB3ZSBuZWVkIHJlY3Vyc2UgZG93biBpdHNcbiAgICAvLyBjaGlsZHJlbiB0byBmaW5kIGFsbCB0aGUgdGVybWluYWwgbm9kZXMuXG4gICAgdmFyIG5vZGUgPSB3b3JrSW5Qcm9ncmVzcy5jaGlsZDtcblxuICAgIHdoaWxlIChub2RlICE9PSBudWxsKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbGFiZWxzXG4gICAgICBicmFuY2hlczogaWYgKG5vZGUudGFnID09PSBIb3N0Q29tcG9uZW50KSB7XG4gICAgICAgIHZhciBpbnN0YW5jZSA9IG5vZGUuc3RhdGVOb2RlO1xuXG4gICAgICAgIGlmIChuZWVkc1Zpc2liaWxpdHlUb2dnbGUgJiYgaXNIaWRkZW4pIHtcbiAgICAgICAgICAvLyBUaGlzIGNoaWxkIGlzIGluc2lkZSBhIHRpbWVkIG91dCB0cmVlLiBIaWRlIGl0LlxuICAgICAgICAgIHZhciBwcm9wcyA9IG5vZGUubWVtb2l6ZWRQcm9wcztcbiAgICAgICAgICB2YXIgdHlwZSA9IG5vZGUudHlwZTtcbiAgICAgICAgICBpbnN0YW5jZSA9IGNsb25lSGlkZGVuSW5zdGFuY2UoaW5zdGFuY2UsIHR5cGUsIHByb3BzLCBub2RlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGFwcGVuZENoaWxkVG9Db250YWluZXJDaGlsZFNldChjb250YWluZXJDaGlsZFNldCwgaW5zdGFuY2UpO1xuICAgICAgfSBlbHNlIGlmIChub2RlLnRhZyA9PT0gSG9zdFRleHQpIHtcbiAgICAgICAgdmFyIF9pbnN0YW5jZTMgPSBub2RlLnN0YXRlTm9kZTtcblxuICAgICAgICBpZiAobmVlZHNWaXNpYmlsaXR5VG9nZ2xlICYmIGlzSGlkZGVuKSB7XG4gICAgICAgICAgLy8gVGhpcyBjaGlsZCBpcyBpbnNpZGUgYSB0aW1lZCBvdXQgdHJlZS4gSGlkZSBpdC5cbiAgICAgICAgICB2YXIgdGV4dCA9IG5vZGUubWVtb2l6ZWRQcm9wcztcbiAgICAgICAgICBfaW5zdGFuY2UzID0gY2xvbmVIaWRkZW5UZXh0SW5zdGFuY2UoX2luc3RhbmNlMywgdGV4dCwgbm9kZSk7XG4gICAgICAgIH1cblxuICAgICAgICBhcHBlbmRDaGlsZFRvQ29udGFpbmVyQ2hpbGRTZXQoY29udGFpbmVyQ2hpbGRTZXQsIF9pbnN0YW5jZTMpO1xuICAgICAgfSBlbHNlIGlmIChlbmFibGVGdW5kYW1lbnRhbEFQSSAmJiBub2RlLnRhZyA9PT0gRnVuZGFtZW50YWxDb21wb25lbnQpIHtcbiAgICAgICAgdmFyIF9pbnN0YW5jZTQgPSBub2RlLnN0YXRlTm9kZS5pbnN0YW5jZTtcblxuICAgICAgICBpZiAobmVlZHNWaXNpYmlsaXR5VG9nZ2xlICYmIGlzSGlkZGVuKSB7XG4gICAgICAgICAgLy8gVGhpcyBjaGlsZCBpcyBpbnNpZGUgYSB0aW1lZCBvdXQgdHJlZS4gSGlkZSBpdC5cbiAgICAgICAgICB2YXIgX3Byb3BzMiA9IG5vZGUubWVtb2l6ZWRQcm9wcztcbiAgICAgICAgICB2YXIgX3R5cGUyID0gbm9kZS50eXBlO1xuICAgICAgICAgIF9pbnN0YW5jZTQgPSBjbG9uZUhpZGRlbkluc3RhbmNlKF9pbnN0YW5jZTQsIF90eXBlMiwgX3Byb3BzMiwgbm9kZSk7XG4gICAgICAgIH1cblxuICAgICAgICBhcHBlbmRDaGlsZFRvQ29udGFpbmVyQ2hpbGRTZXQoY29udGFpbmVyQ2hpbGRTZXQsIF9pbnN0YW5jZTQpO1xuICAgICAgfSBlbHNlIGlmIChub2RlLnRhZyA9PT0gSG9zdFBvcnRhbCkgey8vIElmIHdlIGhhdmUgYSBwb3J0YWwgY2hpbGQsIHRoZW4gd2UgZG9uJ3Qgd2FudCB0byB0cmF2ZXJzZVxuICAgICAgICAvLyBkb3duIGl0cyBjaGlsZHJlbi4gSW5zdGVhZCwgd2UnbGwgZ2V0IGluc2VydGlvbnMgZnJvbSBlYWNoIGNoaWxkIGluXG4gICAgICAgIC8vIHRoZSBwb3J0YWwgZGlyZWN0bHkuXG4gICAgICB9IGVsc2UgaWYgKG5vZGUudGFnID09PSBTdXNwZW5zZUNvbXBvbmVudCkge1xuICAgICAgICBpZiAoKG5vZGUuZWZmZWN0VGFnICYgVXBkYXRlKSAhPT0gTm9FZmZlY3QpIHtcbiAgICAgICAgICAvLyBOZWVkIHRvIHRvZ2dsZSB0aGUgdmlzaWJpbGl0eSBvZiB0aGUgcHJpbWFyeSBjaGlsZHJlbi5cbiAgICAgICAgICB2YXIgbmV3SXNIaWRkZW4gPSBub2RlLm1lbW9pemVkU3RhdGUgIT09IG51bGw7XG5cbiAgICAgICAgICBpZiAobmV3SXNIaWRkZW4pIHtcbiAgICAgICAgICAgIHZhciBwcmltYXJ5Q2hpbGRQYXJlbnQgPSBub2RlLmNoaWxkO1xuXG4gICAgICAgICAgICBpZiAocHJpbWFyeUNoaWxkUGFyZW50ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgIGlmIChwcmltYXJ5Q2hpbGRQYXJlbnQuY2hpbGQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBwcmltYXJ5Q2hpbGRQYXJlbnQuY2hpbGQucmV0dXJuID0gcHJpbWFyeUNoaWxkUGFyZW50O1xuICAgICAgICAgICAgICAgIGFwcGVuZEFsbENoaWxkcmVuVG9Db250YWluZXIoY29udGFpbmVyQ2hpbGRTZXQsIHByaW1hcnlDaGlsZFBhcmVudCwgdHJ1ZSwgbmV3SXNIaWRkZW4pO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgdmFyIGZhbGxiYWNrQ2hpbGRQYXJlbnQgPSBwcmltYXJ5Q2hpbGRQYXJlbnQuc2libGluZztcblxuICAgICAgICAgICAgICBpZiAoZmFsbGJhY2tDaGlsZFBhcmVudCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGZhbGxiYWNrQ2hpbGRQYXJlbnQucmV0dXJuID0gbm9kZTtcbiAgICAgICAgICAgICAgICBub2RlID0gZmFsbGJhY2tDaGlsZFBhcmVudDtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChub2RlLmNoaWxkICE9PSBudWxsKSB7XG4gICAgICAgICAgLy8gQ29udGludWUgdHJhdmVyc2luZyBsaWtlIG5vcm1hbFxuICAgICAgICAgIG5vZGUuY2hpbGQucmV0dXJuID0gbm9kZTtcbiAgICAgICAgICBub2RlID0gbm9kZS5jaGlsZDtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChub2RlLmNoaWxkICE9PSBudWxsKSB7XG4gICAgICAgIG5vZGUuY2hpbGQucmV0dXJuID0gbm9kZTtcbiAgICAgICAgbm9kZSA9IG5vZGUuY2hpbGQ7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfSAvLyAkRmxvd0ZpeE1lIFRoaXMgaXMgY29ycmVjdCBidXQgRmxvdyBpcyBjb25mdXNlZCBieSB0aGUgbGFiZWxlZCBicmVhay5cblxuXG4gICAgICBub2RlID0gbm9kZTtcblxuICAgICAgaWYgKG5vZGUgPT09IHdvcmtJblByb2dyZXNzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgd2hpbGUgKG5vZGUuc2libGluZyA9PT0gbnVsbCkge1xuICAgICAgICBpZiAobm9kZS5yZXR1cm4gPT09IG51bGwgfHwgbm9kZS5yZXR1cm4gPT09IHdvcmtJblByb2dyZXNzKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbm9kZSA9IG5vZGUucmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBub2RlLnNpYmxpbmcucmV0dXJuID0gbm9kZS5yZXR1cm47XG4gICAgICBub2RlID0gbm9kZS5zaWJsaW5nO1xuICAgIH1cbiAgfTtcblxuICB1cGRhdGVIb3N0Q29udGFpbmVyID0gZnVuY3Rpb24gKHdvcmtJblByb2dyZXNzKSB7XG4gICAgdmFyIHBvcnRhbE9yUm9vdCA9IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZTtcbiAgICB2YXIgY2hpbGRyZW5VbmNoYW5nZWQgPSB3b3JrSW5Qcm9ncmVzcy5maXJzdEVmZmVjdCA9PT0gbnVsbDtcblxuICAgIGlmIChjaGlsZHJlblVuY2hhbmdlZCkgey8vIE5vIGNoYW5nZXMsIGp1c3QgcmV1c2UgdGhlIGV4aXN0aW5nIGluc3RhbmNlLlxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgY29udGFpbmVyID0gcG9ydGFsT3JSb290LmNvbnRhaW5lckluZm87XG4gICAgICB2YXIgbmV3Q2hpbGRTZXQgPSBjcmVhdGVDb250YWluZXJDaGlsZFNldChjb250YWluZXIpOyAvLyBJZiBjaGlsZHJlbiBtaWdodCBoYXZlIGNoYW5nZWQsIHdlIGhhdmUgdG8gYWRkIHRoZW0gYWxsIHRvIHRoZSBzZXQuXG5cbiAgICAgIGFwcGVuZEFsbENoaWxkcmVuVG9Db250YWluZXIobmV3Q2hpbGRTZXQsIHdvcmtJblByb2dyZXNzLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgcG9ydGFsT3JSb290LnBlbmRpbmdDaGlsZHJlbiA9IG5ld0NoaWxkU2V0OyAvLyBTY2hlZHVsZSBhbiB1cGRhdGUgb24gdGhlIGNvbnRhaW5lciB0byBzd2FwIG91dCB0aGUgY29udGFpbmVyLlxuXG4gICAgICBtYXJrVXBkYXRlKHdvcmtJblByb2dyZXNzKTtcbiAgICAgIGZpbmFsaXplQ29udGFpbmVyQ2hpbGRyZW4oY29udGFpbmVyLCBuZXdDaGlsZFNldCk7XG4gICAgfVxuICB9O1xuXG4gIHVwZGF0ZUhvc3RDb21wb25lbnQkMSA9IGZ1bmN0aW9uIChjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgdHlwZSwgbmV3UHJvcHMsIHJvb3RDb250YWluZXJJbnN0YW5jZSkge1xuICAgIHZhciBjdXJyZW50SW5zdGFuY2UgPSBjdXJyZW50LnN0YXRlTm9kZTtcbiAgICB2YXIgb2xkUHJvcHMgPSBjdXJyZW50Lm1lbW9pemVkUHJvcHM7IC8vIElmIHRoZXJlIGFyZSBubyBlZmZlY3RzIGFzc29jaWF0ZWQgd2l0aCB0aGlzIG5vZGUsIHRoZW4gbm9uZSBvZiBvdXIgY2hpbGRyZW4gaGFkIGFueSB1cGRhdGVzLlxuICAgIC8vIFRoaXMgZ3VhcmFudGVlcyB0aGF0IHdlIGNhbiByZXVzZSBhbGwgb2YgdGhlbS5cblxuICAgIHZhciBjaGlsZHJlblVuY2hhbmdlZCA9IHdvcmtJblByb2dyZXNzLmZpcnN0RWZmZWN0ID09PSBudWxsO1xuXG4gICAgaWYgKGNoaWxkcmVuVW5jaGFuZ2VkICYmIG9sZFByb3BzID09PSBuZXdQcm9wcykge1xuICAgICAgLy8gTm8gY2hhbmdlcywganVzdCByZXVzZSB0aGUgZXhpc3RpbmcgaW5zdGFuY2UuXG4gICAgICAvLyBOb3RlIHRoYXQgdGhpcyBtaWdodCByZWxlYXNlIGEgcHJldmlvdXMgY2xvbmUuXG4gICAgICB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUgPSBjdXJyZW50SW5zdGFuY2U7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHJlY3ljbGFibGVJbnN0YW5jZSA9IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZTtcbiAgICB2YXIgY3VycmVudEhvc3RDb250ZXh0ID0gZ2V0SG9zdENvbnRleHQoKTtcbiAgICB2YXIgdXBkYXRlUGF5bG9hZCA9IG51bGw7XG5cbiAgICBpZiAob2xkUHJvcHMgIT09IG5ld1Byb3BzKSB7XG4gICAgICB1cGRhdGVQYXlsb2FkID0gcHJlcGFyZVVwZGF0ZShyZWN5Y2xhYmxlSW5zdGFuY2UsIHR5cGUsIG9sZFByb3BzLCBuZXdQcm9wcywgcm9vdENvbnRhaW5lckluc3RhbmNlLCBjdXJyZW50SG9zdENvbnRleHQpO1xuICAgIH1cblxuICAgIGlmIChjaGlsZHJlblVuY2hhbmdlZCAmJiB1cGRhdGVQYXlsb2FkID09PSBudWxsKSB7XG4gICAgICAvLyBObyBjaGFuZ2VzLCBqdXN0IHJldXNlIHRoZSBleGlzdGluZyBpbnN0YW5jZS5cbiAgICAgIC8vIE5vdGUgdGhhdCB0aGlzIG1pZ2h0IHJlbGVhc2UgYSBwcmV2aW91cyBjbG9uZS5cbiAgICAgIHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSA9IGN1cnJlbnRJbnN0YW5jZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgbmV3SW5zdGFuY2UgPSBjbG9uZUluc3RhbmNlKGN1cnJlbnRJbnN0YW5jZSwgdXBkYXRlUGF5bG9hZCwgdHlwZSwgb2xkUHJvcHMsIG5ld1Byb3BzLCB3b3JrSW5Qcm9ncmVzcywgY2hpbGRyZW5VbmNoYW5nZWQsIHJlY3ljbGFibGVJbnN0YW5jZSk7XG5cbiAgICBpZiAoZmluYWxpemVJbml0aWFsQ2hpbGRyZW4obmV3SW5zdGFuY2UsIHR5cGUsIG5ld1Byb3BzLCByb290Q29udGFpbmVySW5zdGFuY2UsIGN1cnJlbnRIb3N0Q29udGV4dCkpIHtcbiAgICAgIG1hcmtVcGRhdGUod29ya0luUHJvZ3Jlc3MpO1xuICAgIH1cblxuICAgIHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSA9IG5ld0luc3RhbmNlO1xuXG4gICAgaWYgKGNoaWxkcmVuVW5jaGFuZ2VkKSB7XG4gICAgICAvLyBJZiB0aGVyZSBhcmUgbm8gb3RoZXIgZWZmZWN0cyBpbiB0aGlzIHRyZWUsIHdlIG5lZWQgdG8gZmxhZyB0aGlzIG5vZGUgYXMgaGF2aW5nIG9uZS5cbiAgICAgIC8vIEV2ZW4gdGhvdWdoIHdlJ3JlIG5vdCBnb2luZyB0byB1c2UgaXQgZm9yIGFueXRoaW5nLlxuICAgICAgLy8gT3RoZXJ3aXNlIHBhcmVudHMgd29uJ3Qga25vdyB0aGF0IHRoZXJlIGFyZSBuZXcgY2hpbGRyZW4gdG8gcHJvcGFnYXRlIHVwd2FyZHMuXG4gICAgICBtYXJrVXBkYXRlKHdvcmtJblByb2dyZXNzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gSWYgY2hpbGRyZW4gbWlnaHQgaGF2ZSBjaGFuZ2VkLCB3ZSBoYXZlIHRvIGFkZCB0aGVtIGFsbCB0byB0aGUgc2V0LlxuICAgICAgYXBwZW5kQWxsQ2hpbGRyZW4obmV3SW5zdGFuY2UsIHdvcmtJblByb2dyZXNzLCBmYWxzZSwgZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICB1cGRhdGVIb3N0VGV4dCQxID0gZnVuY3Rpb24gKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCBvbGRUZXh0LCBuZXdUZXh0KSB7XG4gICAgaWYgKG9sZFRleHQgIT09IG5ld1RleHQpIHtcbiAgICAgIC8vIElmIHRoZSB0ZXh0IGNvbnRlbnQgZGlmZmVycywgd2UnbGwgY3JlYXRlIGEgbmV3IHRleHQgaW5zdGFuY2UgZm9yIGl0LlxuICAgICAgdmFyIHJvb3RDb250YWluZXJJbnN0YW5jZSA9IGdldFJvb3RIb3N0Q29udGFpbmVyKCk7XG4gICAgICB2YXIgY3VycmVudEhvc3RDb250ZXh0ID0gZ2V0SG9zdENvbnRleHQoKTtcbiAgICAgIHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSA9IGNyZWF0ZVRleHRJbnN0YW5jZShuZXdUZXh0LCByb290Q29udGFpbmVySW5zdGFuY2UsIGN1cnJlbnRIb3N0Q29udGV4dCwgd29ya0luUHJvZ3Jlc3MpOyAvLyBXZSdsbCBoYXZlIHRvIG1hcmsgaXQgYXMgaGF2aW5nIGFuIGVmZmVjdCwgZXZlbiB0aG91Z2ggd2Ugd29uJ3QgdXNlIHRoZSBlZmZlY3QgZm9yIGFueXRoaW5nLlxuICAgICAgLy8gVGhpcyBsZXRzIHRoZSBwYXJlbnRzIGtub3cgdGhhdCBhdCBsZWFzdCBvbmUgb2YgdGhlaXIgY2hpbGRyZW4gaGFzIGNoYW5nZWQuXG5cbiAgICAgIG1hcmtVcGRhdGUod29ya0luUHJvZ3Jlc3MpO1xuICAgIH1cbiAgfTtcbn0gZWxzZSB7XG4gIC8vIE5vIGhvc3Qgb3BlcmF0aW9uc1xuICB1cGRhdGVIb3N0Q29udGFpbmVyID0gZnVuY3Rpb24gKHdvcmtJblByb2dyZXNzKSB7Ly8gTm9vcFxuICB9O1xuXG4gIHVwZGF0ZUhvc3RDb21wb25lbnQkMSA9IGZ1bmN0aW9uIChjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgdHlwZSwgbmV3UHJvcHMsIHJvb3RDb250YWluZXJJbnN0YW5jZSkgey8vIE5vb3BcbiAgfTtcblxuICB1cGRhdGVIb3N0VGV4dCQxID0gZnVuY3Rpb24gKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCBvbGRUZXh0LCBuZXdUZXh0KSB7Ly8gTm9vcFxuICB9O1xufVxuXG5mdW5jdGlvbiBjdXRPZmZUYWlsSWZOZWVkZWQocmVuZGVyU3RhdGUsIGhhc1JlbmRlcmVkQVRhaWxGYWxsYmFjaykge1xuICBzd2l0Y2ggKHJlbmRlclN0YXRlLnRhaWxNb2RlKSB7XG4gICAgY2FzZSAnaGlkZGVuJzpcbiAgICAgIHtcbiAgICAgICAgLy8gQW55IGluc2VydGlvbnMgYXQgdGhlIGVuZCBvZiB0aGUgdGFpbCBsaXN0IGFmdGVyIHRoaXMgcG9pbnRcbiAgICAgICAgLy8gc2hvdWxkIGJlIGludmlzaWJsZS4gSWYgdGhlcmUgYXJlIGFscmVhZHkgbW91bnRlZCBib3VuZGFyaWVzXG4gICAgICAgIC8vIGFueXRoaW5nIGJlZm9yZSB0aGVtIGFyZSBub3QgY29uc2lkZXJlZCBmb3IgY29sbGFwc2luZy5cbiAgICAgICAgLy8gVGhlcmVmb3JlIHdlIG5lZWQgdG8gZ28gdGhyb3VnaCB0aGUgd2hvbGUgdGFpbCB0byBmaW5kIGlmXG4gICAgICAgIC8vIHRoZXJlIGFyZSBhbnkuXG4gICAgICAgIHZhciB0YWlsTm9kZSA9IHJlbmRlclN0YXRlLnRhaWw7XG4gICAgICAgIHZhciBsYXN0VGFpbE5vZGUgPSBudWxsO1xuXG4gICAgICAgIHdoaWxlICh0YWlsTm9kZSAhPT0gbnVsbCkge1xuICAgICAgICAgIGlmICh0YWlsTm9kZS5hbHRlcm5hdGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGxhc3RUYWlsTm9kZSA9IHRhaWxOb2RlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRhaWxOb2RlID0gdGFpbE5vZGUuc2libGluZztcbiAgICAgICAgfSAvLyBOZXh0IHdlJ3JlIHNpbXBseSBnb2luZyB0byBkZWxldGUgYWxsIGluc2VydGlvbnMgYWZ0ZXIgdGhlXG4gICAgICAgIC8vIGxhc3QgcmVuZGVyZWQgaXRlbS5cblxuXG4gICAgICAgIGlmIChsYXN0VGFpbE5vZGUgPT09IG51bGwpIHtcbiAgICAgICAgICAvLyBBbGwgcmVtYWluaW5nIGl0ZW1zIGluIHRoZSB0YWlsIGFyZSBpbnNlcnRpb25zLlxuICAgICAgICAgIHJlbmRlclN0YXRlLnRhaWwgPSBudWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIERldGFjaCB0aGUgaW5zZXJ0aW9uIGFmdGVyIHRoZSBsYXN0IG5vZGUgdGhhdCB3YXMgYWxyZWFkeVxuICAgICAgICAgIC8vIGluc2VydGVkLlxuICAgICAgICAgIGxhc3RUYWlsTm9kZS5zaWJsaW5nID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgY2FzZSAnY29sbGFwc2VkJzpcbiAgICAgIHtcbiAgICAgICAgLy8gQW55IGluc2VydGlvbnMgYXQgdGhlIGVuZCBvZiB0aGUgdGFpbCBsaXN0IGFmdGVyIHRoaXMgcG9pbnRcbiAgICAgICAgLy8gc2hvdWxkIGJlIGludmlzaWJsZS4gSWYgdGhlcmUgYXJlIGFscmVhZHkgbW91bnRlZCBib3VuZGFyaWVzXG4gICAgICAgIC8vIGFueXRoaW5nIGJlZm9yZSB0aGVtIGFyZSBub3QgY29uc2lkZXJlZCBmb3IgY29sbGFwc2luZy5cbiAgICAgICAgLy8gVGhlcmVmb3JlIHdlIG5lZWQgdG8gZ28gdGhyb3VnaCB0aGUgd2hvbGUgdGFpbCB0byBmaW5kIGlmXG4gICAgICAgIC8vIHRoZXJlIGFyZSBhbnkuXG4gICAgICAgIHZhciBfdGFpbE5vZGUgPSByZW5kZXJTdGF0ZS50YWlsO1xuICAgICAgICB2YXIgX2xhc3RUYWlsTm9kZSA9IG51bGw7XG5cbiAgICAgICAgd2hpbGUgKF90YWlsTm9kZSAhPT0gbnVsbCkge1xuICAgICAgICAgIGlmIChfdGFpbE5vZGUuYWx0ZXJuYXRlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBfbGFzdFRhaWxOb2RlID0gX3RhaWxOb2RlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIF90YWlsTm9kZSA9IF90YWlsTm9kZS5zaWJsaW5nO1xuICAgICAgICB9IC8vIE5leHQgd2UncmUgc2ltcGx5IGdvaW5nIHRvIGRlbGV0ZSBhbGwgaW5zZXJ0aW9ucyBhZnRlciB0aGVcbiAgICAgICAgLy8gbGFzdCByZW5kZXJlZCBpdGVtLlxuXG5cbiAgICAgICAgaWYgKF9sYXN0VGFpbE5vZGUgPT09IG51bGwpIHtcbiAgICAgICAgICAvLyBBbGwgcmVtYWluaW5nIGl0ZW1zIGluIHRoZSB0YWlsIGFyZSBpbnNlcnRpb25zLlxuICAgICAgICAgIGlmICghaGFzUmVuZGVyZWRBVGFpbEZhbGxiYWNrICYmIHJlbmRlclN0YXRlLnRhaWwgIT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIFdlIHN1c3BlbmRlZCBkdXJpbmcgdGhlIGhlYWQuIFdlIHdhbnQgdG8gc2hvdyBhdCBsZWFzdCBvbmVcbiAgICAgICAgICAgIC8vIHJvdyBhdCB0aGUgdGFpbC4gU28gd2UnbGwga2VlcCBvbiBhbmQgY3V0IG9mZiB0aGUgcmVzdC5cbiAgICAgICAgICAgIHJlbmRlclN0YXRlLnRhaWwuc2libGluZyA9IG51bGw7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlbmRlclN0YXRlLnRhaWwgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBEZXRhY2ggdGhlIGluc2VydGlvbiBhZnRlciB0aGUgbGFzdCBub2RlIHRoYXQgd2FzIGFscmVhZHlcbiAgICAgICAgICAvLyBpbnNlcnRlZC5cbiAgICAgICAgICBfbGFzdFRhaWxOb2RlLnNpYmxpbmcgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gY29tcGxldGVXb3JrKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCByZW5kZXJFeHBpcmF0aW9uVGltZSkge1xuICB2YXIgbmV3UHJvcHMgPSB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHM7XG5cbiAgc3dpdGNoICh3b3JrSW5Qcm9ncmVzcy50YWcpIHtcbiAgICBjYXNlIEluZGV0ZXJtaW5hdGVDb21wb25lbnQ6XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgTGF6eUNvbXBvbmVudDpcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBTaW1wbGVNZW1vQ29tcG9uZW50OlxuICAgIGNhc2UgRnVuY3Rpb25Db21wb25lbnQ6XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgQ2xhc3NDb21wb25lbnQ6XG4gICAgICB7XG4gICAgICAgIHZhciBDb21wb25lbnQgPSB3b3JrSW5Qcm9ncmVzcy50eXBlO1xuXG4gICAgICAgIGlmIChpc0NvbnRleHRQcm92aWRlcihDb21wb25lbnQpKSB7XG4gICAgICAgICAgcG9wQ29udGV4dCh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgIGNhc2UgSG9zdFJvb3Q6XG4gICAgICB7XG4gICAgICAgIHBvcEhvc3RDb250YWluZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICBwb3BUb3BMZXZlbENvbnRleHRPYmplY3Qod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICB2YXIgZmliZXJSb290ID0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlO1xuXG4gICAgICAgIGlmIChmaWJlclJvb3QucGVuZGluZ0NvbnRleHQpIHtcbiAgICAgICAgICBmaWJlclJvb3QuY29udGV4dCA9IGZpYmVyUm9vdC5wZW5kaW5nQ29udGV4dDtcbiAgICAgICAgICBmaWJlclJvb3QucGVuZGluZ0NvbnRleHQgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGN1cnJlbnQgPT09IG51bGwgfHwgY3VycmVudC5jaGlsZCA9PT0gbnVsbCkge1xuICAgICAgICAgIC8vIElmIHdlIGh5ZHJhdGVkLCBwb3Agc28gdGhhdCB3ZSBjYW4gZGVsZXRlIGFueSByZW1haW5pbmcgY2hpbGRyZW5cbiAgICAgICAgICAvLyB0aGF0IHdlcmVuJ3QgaHlkcmF0ZWQuXG4gICAgICAgICAgdmFyIHdhc0h5ZHJhdGVkID0gcG9wSHlkcmF0aW9uU3RhdGUod29ya0luUHJvZ3Jlc3MpO1xuXG4gICAgICAgICAgaWYgKHdhc0h5ZHJhdGVkKSB7XG4gICAgICAgICAgICAvLyBJZiB3ZSBoeWRyYXRlZCwgdGhlbiB3ZSdsbCBuZWVkIHRvIHNjaGVkdWxlIGFuIHVwZGF0ZSBmb3JcbiAgICAgICAgICAgIC8vIHRoZSBjb21taXQgc2lkZS1lZmZlY3RzIG9uIHRoZSByb290LlxuICAgICAgICAgICAgbWFya1VwZGF0ZSh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdXBkYXRlSG9zdENvbnRhaW5lcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgY2FzZSBIb3N0Q29tcG9uZW50OlxuICAgICAge1xuICAgICAgICBwb3BIb3N0Q29udGV4dCh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgIHZhciByb290Q29udGFpbmVySW5zdGFuY2UgPSBnZXRSb290SG9zdENvbnRhaW5lcigpO1xuICAgICAgICB2YXIgdHlwZSA9IHdvcmtJblByb2dyZXNzLnR5cGU7XG5cbiAgICAgICAgaWYgKGN1cnJlbnQgIT09IG51bGwgJiYgd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlICE9IG51bGwpIHtcbiAgICAgICAgICB1cGRhdGVIb3N0Q29tcG9uZW50JDEoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHR5cGUsIG5ld1Byb3BzLCByb290Q29udGFpbmVySW5zdGFuY2UpO1xuXG4gICAgICAgICAgaWYgKGVuYWJsZUZsYXJlQVBJKSB7XG4gICAgICAgICAgICB2YXIgcHJldkxpc3RlbmVycyA9IGN1cnJlbnQubWVtb2l6ZWRQcm9wcy5saXN0ZW5lcnM7XG4gICAgICAgICAgICB2YXIgbmV4dExpc3RlbmVycyA9IG5ld1Byb3BzLmxpc3RlbmVycztcblxuICAgICAgICAgICAgaWYgKHByZXZMaXN0ZW5lcnMgIT09IG5leHRMaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgICAgbWFya1VwZGF0ZSh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGN1cnJlbnQucmVmICE9PSB3b3JrSW5Qcm9ncmVzcy5yZWYpIHtcbiAgICAgICAgICAgIG1hcmtSZWYkMSh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICghbmV3UHJvcHMpIHtcbiAgICAgICAgICAgIGlmICghKHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSAhPT0gbnVsbCkpIHtcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwiV2UgbXVzdCBoYXZlIG5ldyBwcm9wcyBmb3IgbmV3IG1vdW50cy4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gLy8gVGhpcyBjYW4gaGFwcGVuIHdoZW4gd2UgYWJvcnQgd29yay5cblxuXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgY3VycmVudEhvc3RDb250ZXh0ID0gZ2V0SG9zdENvbnRleHQoKTsgLy8gVE9ETzogTW92ZSBjcmVhdGVJbnN0YW5jZSB0byBiZWdpbldvcmsgYW5kIGtlZXAgaXQgb24gYSBjb250ZXh0XG4gICAgICAgICAgLy8gXCJzdGFja1wiIGFzIHRoZSBwYXJlbnQuIFRoZW4gYXBwZW5kIGNoaWxkcmVuIGFzIHdlIGdvIGluIGJlZ2luV29ya1xuICAgICAgICAgIC8vIG9yIGNvbXBsZXRlV29yayBkZXBlbmRpbmcgb24gd2Ugd2FudCB0byBhZGQgdGhlbiB0b3AtPmRvd24gb3JcbiAgICAgICAgICAvLyBib3R0b20tPnVwLiBUb3AtPmRvd24gaXMgZmFzdGVyIGluIElFMTEuXG5cbiAgICAgICAgICB2YXIgX3dhc0h5ZHJhdGVkID0gcG9wSHlkcmF0aW9uU3RhdGUod29ya0luUHJvZ3Jlc3MpO1xuXG4gICAgICAgICAgaWYgKF93YXNIeWRyYXRlZCkge1xuICAgICAgICAgICAgLy8gVE9ETzogTW92ZSB0aGlzIGFuZCBjcmVhdGVJbnN0YW5jZSBzdGVwIGludG8gdGhlIGJlZ2luUGhhc2VcbiAgICAgICAgICAgIC8vIHRvIGNvbnNvbGlkYXRlLlxuICAgICAgICAgICAgaWYgKHByZXBhcmVUb0h5ZHJhdGVIb3N0SW5zdGFuY2Uod29ya0luUHJvZ3Jlc3MsIHJvb3RDb250YWluZXJJbnN0YW5jZSwgY3VycmVudEhvc3RDb250ZXh0KSkge1xuICAgICAgICAgICAgICAvLyBJZiBjaGFuZ2VzIHRvIHRoZSBoeWRyYXRlZCBub2RlIG5lZWRzIHRvIGJlIGFwcGxpZWQgYXQgdGhlXG4gICAgICAgICAgICAgIC8vIGNvbW1pdC1waGFzZSB3ZSBtYXJrIHRoaXMgYXMgc3VjaC5cbiAgICAgICAgICAgICAgbWFya1VwZGF0ZSh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChlbmFibGVGbGFyZUFQSSkge1xuICAgICAgICAgICAgICB2YXIgbGlzdGVuZXJzID0gbmV3UHJvcHMubGlzdGVuZXJzO1xuXG4gICAgICAgICAgICAgIGlmIChsaXN0ZW5lcnMgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHVwZGF0ZUV2ZW50TGlzdGVuZXJzKGxpc3RlbmVycywgd29ya0luUHJvZ3Jlc3MsIHJvb3RDb250YWluZXJJbnN0YW5jZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGluc3RhbmNlID0gY3JlYXRlSW5zdGFuY2UodHlwZSwgbmV3UHJvcHMsIHJvb3RDb250YWluZXJJbnN0YW5jZSwgY3VycmVudEhvc3RDb250ZXh0LCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgICBhcHBlbmRBbGxDaGlsZHJlbihpbnN0YW5jZSwgd29ya0luUHJvZ3Jlc3MsIGZhbHNlLCBmYWxzZSk7IC8vIFRoaXMgbmVlZHMgdG8gYmUgc2V0IGJlZm9yZSB3ZSBtb3VudCBGbGFyZSBldmVudCBsaXN0ZW5lcnNcblxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlID0gaW5zdGFuY2U7XG5cbiAgICAgICAgICAgIGlmIChlbmFibGVGbGFyZUFQSSkge1xuICAgICAgICAgICAgICB2YXIgX2xpc3RlbmVycyA9IG5ld1Byb3BzLmxpc3RlbmVycztcblxuICAgICAgICAgICAgICBpZiAoX2xpc3RlbmVycyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdXBkYXRlRXZlbnRMaXN0ZW5lcnMoX2xpc3RlbmVycywgd29ya0luUHJvZ3Jlc3MsIHJvb3RDb250YWluZXJJbnN0YW5jZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gLy8gQ2VydGFpbiByZW5kZXJlcnMgcmVxdWlyZSBjb21taXQtdGltZSBlZmZlY3RzIGZvciBpbml0aWFsIG1vdW50LlxuICAgICAgICAgICAgLy8gKGVnIERPTSByZW5kZXJlciBzdXBwb3J0cyBhdXRvLWZvY3VzIGZvciBjZXJ0YWluIGVsZW1lbnRzKS5cbiAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSBzdWNoIHJlbmRlcmVycyBnZXQgc2NoZWR1bGVkIGZvciBsYXRlciB3b3JrLlxuXG5cbiAgICAgICAgICAgIGlmIChmaW5hbGl6ZUluaXRpYWxDaGlsZHJlbihpbnN0YW5jZSwgdHlwZSwgbmV3UHJvcHMsIHJvb3RDb250YWluZXJJbnN0YW5jZSwgY3VycmVudEhvc3RDb250ZXh0KSkge1xuICAgICAgICAgICAgICBtYXJrVXBkYXRlKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAod29ya0luUHJvZ3Jlc3MucmVmICE9PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBJZiB0aGVyZSBpcyBhIHJlZiBvbiBhIGhvc3Qgbm9kZSB3ZSBuZWVkIHRvIHNjaGVkdWxlIGEgY2FsbGJhY2tcbiAgICAgICAgICAgIG1hcmtSZWYkMSh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICBjYXNlIEhvc3RUZXh0OlxuICAgICAge1xuICAgICAgICB2YXIgbmV3VGV4dCA9IG5ld1Byb3BzO1xuXG4gICAgICAgIGlmIChjdXJyZW50ICYmIHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSAhPSBudWxsKSB7XG4gICAgICAgICAgdmFyIG9sZFRleHQgPSBjdXJyZW50Lm1lbW9pemVkUHJvcHM7IC8vIElmIHdlIGhhdmUgYW4gYWx0ZXJuYXRlLCB0aGF0IG1lYW5zIHRoaXMgaXMgYW4gdXBkYXRlIGFuZCB3ZSBuZWVkXG4gICAgICAgICAgLy8gdG8gc2NoZWR1bGUgYSBzaWRlLWVmZmVjdCB0byBkbyB0aGUgdXBkYXRlcy5cblxuICAgICAgICAgIHVwZGF0ZUhvc3RUZXh0JDEoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIG9sZFRleHQsIG5ld1RleHQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICh0eXBlb2YgbmV3VGV4dCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGlmICghKHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSAhPT0gbnVsbCkpIHtcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwiV2UgbXVzdCBoYXZlIG5ldyBwcm9wcyBmb3IgbmV3IG1vdW50cy4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gLy8gVGhpcyBjYW4gaGFwcGVuIHdoZW4gd2UgYWJvcnQgd29yay5cblxuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBfcm9vdENvbnRhaW5lckluc3RhbmNlID0gZ2V0Um9vdEhvc3RDb250YWluZXIoKTtcblxuICAgICAgICAgIHZhciBfY3VycmVudEhvc3RDb250ZXh0ID0gZ2V0SG9zdENvbnRleHQoKTtcblxuICAgICAgICAgIHZhciBfd2FzSHlkcmF0ZWQyID0gcG9wSHlkcmF0aW9uU3RhdGUod29ya0luUHJvZ3Jlc3MpO1xuXG4gICAgICAgICAgaWYgKF93YXNIeWRyYXRlZDIpIHtcbiAgICAgICAgICAgIGlmIChwcmVwYXJlVG9IeWRyYXRlSG9zdFRleHRJbnN0YW5jZSh3b3JrSW5Qcm9ncmVzcykpIHtcbiAgICAgICAgICAgICAgbWFya1VwZGF0ZSh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSA9IGNyZWF0ZVRleHRJbnN0YW5jZShuZXdUZXh0LCBfcm9vdENvbnRhaW5lckluc3RhbmNlLCBfY3VycmVudEhvc3RDb250ZXh0LCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICBjYXNlIEZvcndhcmRSZWY6XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgU3VzcGVuc2VDb21wb25lbnQ6XG4gICAgICB7XG4gICAgICAgIHBvcFN1c3BlbnNlQ29udGV4dCh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgIHZhciBuZXh0U3RhdGUgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlO1xuXG4gICAgICAgIGlmIChlbmFibGVTdXNwZW5zZVNlcnZlclJlbmRlcmVyKSB7XG4gICAgICAgICAgaWYgKG5leHRTdGF0ZSAhPT0gbnVsbCAmJiBuZXh0U3RhdGUuZGVoeWRyYXRlZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgdmFyIF93YXNIeWRyYXRlZDMgPSBwb3BIeWRyYXRpb25TdGF0ZSh3b3JrSW5Qcm9ncmVzcyk7XG5cbiAgICAgICAgICAgICAgaWYgKCFfd2FzSHlkcmF0ZWQzKSB7XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJBIGRlaHlkcmF0ZWQgc3VzcGVuc2UgY29tcG9uZW50IHdhcyBjb21wbGV0ZWQgd2l0aG91dCBhIGh5ZHJhdGVkIG5vZGUuIFRoaXMgaXMgcHJvYmFibHkgYSBidWcgaW4gUmVhY3QuXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHByZXBhcmVUb0h5ZHJhdGVIb3N0U3VzcGVuc2VJbnN0YW5jZSh3b3JrSW5Qcm9ncmVzcyk7XG5cbiAgICAgICAgICAgICAgaWYgKGVuYWJsZVNjaGVkdWxlclRyYWNpbmcpIHtcbiAgICAgICAgICAgICAgICBtYXJrU3Bhd25lZFdvcmsoTmV2ZXIpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBXZSBzaG91bGQgbmV2ZXIgaGF2ZSBiZWVuIGluIGEgaHlkcmF0aW9uIHN0YXRlIGlmIHdlIGRpZG4ndCBoYXZlIGEgY3VycmVudC5cbiAgICAgICAgICAgICAgLy8gSG93ZXZlciwgaW4gc29tZSBvZiB0aG9zZSBwYXRocywgd2UgbWlnaHQgaGF2ZSByZWVudGVyZWQgYSBoeWRyYXRpb24gc3RhdGVcbiAgICAgICAgICAgICAgLy8gYW5kIHRoZW4gd2UgbWlnaHQgYmUgaW5zaWRlIGEgaHlkcmF0aW9uIHN0YXRlLiBJbiB0aGF0IGNhc2UsIHdlJ2xsIG5lZWQgdG9cbiAgICAgICAgICAgICAgLy8gZXhpdCBvdXQgb2YgaXQuXG4gICAgICAgICAgICAgIHJlc2V0SHlkcmF0aW9uU3RhdGUoKTtcblxuICAgICAgICAgICAgICBpZiAoKHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyAmIERpZENhcHR1cmUpID09PSBOb0VmZmVjdCkge1xuICAgICAgICAgICAgICAgIC8vIFRoaXMgYm91bmRhcnkgZGlkIG5vdCBzdXNwZW5kIHNvIGl0J3Mgbm93IGh5ZHJhdGVkIGFuZCB1bnN1c3BlbmRlZC5cbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID0gbnVsbDtcbiAgICAgICAgICAgICAgfSAvLyBJZiBub3RoaW5nIHN1c3BlbmRlZCwgd2UgbmVlZCB0byBzY2hlZHVsZSBhbiBlZmZlY3QgdG8gbWFyayB0aGlzIGJvdW5kYXJ5XG4gICAgICAgICAgICAgIC8vIGFzIGhhdmluZyBoeWRyYXRlZCBzbyBldmVudHMga25vdyB0aGF0IHRoZXkncmUgZnJlZSBiZSBpbnZva2VkLlxuICAgICAgICAgICAgICAvLyBJdCdzIGFsc28gYSBzaWduYWwgdG8gcmVwbGF5IGV2ZW50cyBhbmQgdGhlIHN1c3BlbnNlIGNhbGxiYWNrLlxuICAgICAgICAgICAgICAvLyBJZiBzb21ldGhpbmcgc3VzcGVuZGVkLCBzY2hlZHVsZSBhbiBlZmZlY3QgdG8gYXR0YWNoIHJldHJ5IGxpc3RlbmVycy5cbiAgICAgICAgICAgICAgLy8gU28gd2UgbWlnaHQgYXMgd2VsbCBhbHdheXMgbWFyayB0aGlzLlxuXG5cbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnIHw9IFVwZGF0ZTtcbiAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCh3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgJiBEaWRDYXB0dXJlKSAhPT0gTm9FZmZlY3QpIHtcbiAgICAgICAgICAvLyBTb21ldGhpbmcgc3VzcGVuZGVkLiBSZS1yZW5kZXIgd2l0aCB0aGUgZmFsbGJhY2sgY2hpbGRyZW4uXG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MuZXhwaXJhdGlvblRpbWUgPSByZW5kZXJFeHBpcmF0aW9uVGltZTsgLy8gRG8gbm90IHJlc2V0IHRoZSBlZmZlY3QgbGlzdC5cblxuICAgICAgICAgIHJldHVybiB3b3JrSW5Qcm9ncmVzcztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBuZXh0RGlkVGltZW91dCA9IG5leHRTdGF0ZSAhPT0gbnVsbDtcbiAgICAgICAgdmFyIHByZXZEaWRUaW1lb3V0ID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKGN1cnJlbnQgPT09IG51bGwpIHtcbiAgICAgICAgICBpZiAod29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRQcm9wcy5mYWxsYmFjayAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwb3BIeWRyYXRpb25TdGF0ZSh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBwcmV2U3RhdGUgPSBjdXJyZW50Lm1lbW9pemVkU3RhdGU7XG4gICAgICAgICAgcHJldkRpZFRpbWVvdXQgPSBwcmV2U3RhdGUgIT09IG51bGw7XG5cbiAgICAgICAgICBpZiAoIW5leHREaWRUaW1lb3V0ICYmIHByZXZTdGF0ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gV2UganVzdCBzd2l0Y2hlZCBmcm9tIHRoZSBmYWxsYmFjayB0byB0aGUgbm9ybWFsIGNoaWxkcmVuLlxuICAgICAgICAgICAgLy8gRGVsZXRlIHRoZSBmYWxsYmFjay5cbiAgICAgICAgICAgIC8vIFRPRE86IFdvdWxkIGl0IGJlIGJldHRlciB0byBzdG9yZSB0aGUgZmFsbGJhY2sgZnJhZ21lbnQgb25cbiAgICAgICAgICAgIC8vIHRoZSBzdGF0ZU5vZGUgZHVyaW5nIHRoZSBiZWdpbiBwaGFzZT9cbiAgICAgICAgICAgIHZhciBjdXJyZW50RmFsbGJhY2tDaGlsZCA9IGN1cnJlbnQuY2hpbGQuc2libGluZztcblxuICAgICAgICAgICAgaWYgKGN1cnJlbnRGYWxsYmFja0NoaWxkICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgIC8vIERlbGV0aW9ucyBnbyBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSByZXR1cm4gZmliZXIncyBlZmZlY3QgbGlzdFxuICAgICAgICAgICAgICB2YXIgZmlyc3QgPSB3b3JrSW5Qcm9ncmVzcy5maXJzdEVmZmVjdDtcblxuICAgICAgICAgICAgICBpZiAoZmlyc3QgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5maXJzdEVmZmVjdCA9IGN1cnJlbnRGYWxsYmFja0NoaWxkO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRGYWxsYmFja0NoaWxkLm5leHRFZmZlY3QgPSBmaXJzdDtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5maXJzdEVmZmVjdCA9IHdvcmtJblByb2dyZXNzLmxhc3RFZmZlY3QgPSBjdXJyZW50RmFsbGJhY2tDaGlsZDtcbiAgICAgICAgICAgICAgICBjdXJyZW50RmFsbGJhY2tDaGlsZC5uZXh0RWZmZWN0ID0gbnVsbDtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGN1cnJlbnRGYWxsYmFja0NoaWxkLmVmZmVjdFRhZyA9IERlbGV0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChuZXh0RGlkVGltZW91dCAmJiAhcHJldkRpZFRpbWVvdXQpIHtcbiAgICAgICAgICAvLyBJZiB0aGlzIHN1YnRyZWVlIGlzIHJ1bm5pbmcgaW4gYmxvY2tpbmcgbW9kZSB3ZSBjYW4gc3VzcGVuZCxcbiAgICAgICAgICAvLyBvdGhlcndpc2Ugd2Ugd29uJ3Qgc3VzcGVuZC5cbiAgICAgICAgICAvLyBUT0RPOiBUaGlzIHdpbGwgc3RpbGwgc3VzcGVuZCBhIHN5bmNocm9ub3VzIHRyZWUgaWYgYW55dGhpbmdcbiAgICAgICAgICAvLyBpbiB0aGUgY29uY3VycmVudCB0cmVlIGFscmVhZHkgc3VzcGVuZGVkIGR1cmluZyB0aGlzIHJlbmRlci5cbiAgICAgICAgICAvLyBUaGlzIGlzIGEga25vd24gYnVnLlxuICAgICAgICAgIGlmICgod29ya0luUHJvZ3Jlc3MubW9kZSAmIEJsb2NraW5nTW9kZSkgIT09IE5vTW9kZSkge1xuICAgICAgICAgICAgLy8gVE9ETzogTW92ZSB0aGlzIGJhY2sgdG8gdGhyb3dFeGNlcHRpb24gYmVjYXVzZSB0aGlzIGlzIHRvbyBsYXRlXG4gICAgICAgICAgICAvLyBpZiB0aGlzIGlzIGEgbGFyZ2UgdHJlZSB3aGljaCBpcyBjb21tb24gZm9yIGluaXRpYWwgbG9hZHMuIFdlXG4gICAgICAgICAgICAvLyBkb24ndCBrbm93IGlmIHdlIHNob3VsZCByZXN0YXJ0IGEgcmVuZGVyIG9yIG5vdCB1bnRpbCB3ZSBnZXRcbiAgICAgICAgICAgIC8vIHRoaXMgbWFya2VyLCBhbmQgdGhpcyBpcyB0b28gbGF0ZS5cbiAgICAgICAgICAgIC8vIElmIHRoaXMgcmVuZGVyIGFscmVhZHkgaGFkIGEgcGluZyBvciBsb3dlciBwcmkgdXBkYXRlcyxcbiAgICAgICAgICAgIC8vIGFuZCB0aGlzIGlzIHRoZSBmaXJzdCB0aW1lIHdlIGtub3cgd2UncmUgZ29pbmcgdG8gc3VzcGVuZCB3ZVxuICAgICAgICAgICAgLy8gc2hvdWxkIGJlIGFibGUgdG8gaW1tZWRpYXRlbHkgcmVzdGFydCBmcm9tIHdpdGhpbiB0aHJvd0V4Y2VwdGlvbi5cbiAgICAgICAgICAgIHZhciBoYXNJbnZpc2libGVDaGlsZENvbnRleHQgPSBjdXJyZW50ID09PSBudWxsICYmIHdvcmtJblByb2dyZXNzLm1lbW9pemVkUHJvcHMudW5zdGFibGVfYXZvaWRUaGlzRmFsbGJhY2sgIT09IHRydWU7XG5cbiAgICAgICAgICAgIGlmIChoYXNJbnZpc2libGVDaGlsZENvbnRleHQgfHwgaGFzU3VzcGVuc2VDb250ZXh0KHN1c3BlbnNlU3RhY2tDdXJzb3IuY3VycmVudCwgSW52aXNpYmxlUGFyZW50U3VzcGVuc2VDb250ZXh0KSkge1xuICAgICAgICAgICAgICAvLyBJZiB0aGlzIHdhcyBpbiBhbiBpbnZpc2libGUgdHJlZSBvciBhIG5ldyByZW5kZXIsIHRoZW4gc2hvd2luZ1xuICAgICAgICAgICAgICAvLyB0aGlzIGJvdW5kYXJ5IGlzIG9rLlxuICAgICAgICAgICAgICByZW5kZXJEaWRTdXNwZW5kKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBPdGhlcndpc2UsIHdlJ3JlIGdvaW5nIHRvIGhhdmUgdG8gaGlkZSBjb250ZW50IHNvIHdlIHNob3VsZFxuICAgICAgICAgICAgICAvLyBzdXNwZW5kIGZvciBsb25nZXIgaWYgcG9zc2libGUuXG4gICAgICAgICAgICAgIHJlbmRlckRpZFN1c3BlbmREZWxheUlmUG9zc2libGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3VwcG9ydHNQZXJzaXN0ZW5jZSkge1xuICAgICAgICAgIC8vIFRPRE86IE9ubHkgc2NoZWR1bGUgdXBkYXRlcyBpZiBub3QgcHJldkRpZFRpbWVvdXQuXG4gICAgICAgICAgaWYgKG5leHREaWRUaW1lb3V0KSB7XG4gICAgICAgICAgICAvLyBJZiB0aGlzIGJvdW5kYXJ5IGp1c3QgdGltZWQgb3V0LCBzY2hlZHVsZSBhbiBlZmZlY3QgdG8gYXR0YWNoIGFcbiAgICAgICAgICAgIC8vIHJldHJ5IGxpc3RlbmVyIHRvIHRoZSBwcm9pbXNlLiBUaGlzIGZsYWcgaXMgYWxzbyB1c2VkIHRvIGhpZGUgdGhlXG4gICAgICAgICAgICAvLyBwcmltYXJ5IGNoaWxkcmVuLlxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnIHw9IFVwZGF0ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3VwcG9ydHNNdXRhdGlvbikge1xuICAgICAgICAgIC8vIFRPRE86IE9ubHkgc2NoZWR1bGUgdXBkYXRlcyBpZiB0aGVzZSB2YWx1ZXMgYXJlIG5vbiBlcXVhbCwgaS5lLiBpdCBjaGFuZ2VkLlxuICAgICAgICAgIGlmIChuZXh0RGlkVGltZW91dCB8fCBwcmV2RGlkVGltZW91dCkge1xuICAgICAgICAgICAgLy8gSWYgdGhpcyBib3VuZGFyeSBqdXN0IHRpbWVkIG91dCwgc2NoZWR1bGUgYW4gZWZmZWN0IHRvIGF0dGFjaCBhXG4gICAgICAgICAgICAvLyByZXRyeSBsaXN0ZW5lciB0byB0aGUgcHJvaW1zZS4gVGhpcyBmbGFnIGlzIGFsc28gdXNlZCB0byBoaWRlIHRoZVxuICAgICAgICAgICAgLy8gcHJpbWFyeSBjaGlsZHJlbi4gSW4gbXV0YXRpb24gbW9kZSwgd2UgYWxzbyBuZWVkIHRoZSBmbGFnIHRvXG4gICAgICAgICAgICAvLyAqdW5oaWRlKiBjaGlsZHJlbiB0aGF0IHdlcmUgcHJldmlvdXNseSBoaWRkZW4sIHNvIGNoZWNrIGlmIHRoZVxuICAgICAgICAgICAgLy8gaXMgY3VycmVudGx5IHRpbWVkIG91dCwgdG9vLlxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnIHw9IFVwZGF0ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZW5hYmxlU3VzcGVuc2VDYWxsYmFjayAmJiB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZSAhPT0gbnVsbCAmJiB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFByb3BzLnN1c3BlbnNlQ2FsbGJhY2sgIT0gbnVsbCkge1xuICAgICAgICAgIC8vIEFsd2F5cyBub3RpZnkgdGhlIGNhbGxiYWNrXG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnIHw9IFVwZGF0ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgY2FzZSBGcmFnbWVudDpcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBNb2RlOlxuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIFByb2ZpbGVyOlxuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIEhvc3RQb3J0YWw6XG4gICAgICBwb3BIb3N0Q29udGFpbmVyKHdvcmtJblByb2dyZXNzKTtcbiAgICAgIHVwZGF0ZUhvc3RDb250YWluZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIENvbnRleHRQcm92aWRlcjpcbiAgICAgIC8vIFBvcCBwcm92aWRlciBmaWJlclxuICAgICAgcG9wUHJvdmlkZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIENvbnRleHRDb25zdW1lcjpcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBNZW1vQ29tcG9uZW50OlxuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIEluY29tcGxldGVDbGFzc0NvbXBvbmVudDpcbiAgICAgIHtcbiAgICAgICAgLy8gU2FtZSBhcyBjbGFzcyBjb21wb25lbnQgY2FzZS4gSSBwdXQgaXQgZG93biBoZXJlIHNvIHRoYXQgdGhlIHRhZ3MgYXJlXG4gICAgICAgIC8vIHNlcXVlbnRpYWwgdG8gZW5zdXJlIHRoaXMgc3dpdGNoIGlzIGNvbXBpbGVkIHRvIGEganVtcCB0YWJsZS5cbiAgICAgICAgdmFyIF9Db21wb25lbnQgPSB3b3JrSW5Qcm9ncmVzcy50eXBlO1xuXG4gICAgICAgIGlmIChpc0NvbnRleHRQcm92aWRlcihfQ29tcG9uZW50KSkge1xuICAgICAgICAgIHBvcENvbnRleHQod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICBjYXNlIFN1c3BlbnNlTGlzdENvbXBvbmVudDpcbiAgICAgIHtcbiAgICAgICAgcG9wU3VzcGVuc2VDb250ZXh0KHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgdmFyIHJlbmRlclN0YXRlID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZTtcblxuICAgICAgICBpZiAocmVuZGVyU3RhdGUgPT09IG51bGwpIHtcbiAgICAgICAgICAvLyBXZSdyZSBydW5uaW5nIGluIHRoZSBkZWZhdWx0LCBcImluZGVwZW5kZW50XCIgbW9kZS4gV2UgZG9uJ3QgZG8gYW55dGhpbmdcbiAgICAgICAgICAvLyBpbiB0aGlzIG1vZGUuXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZGlkU3VzcGVuZEFscmVhZHkgPSAod29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnICYgRGlkQ2FwdHVyZSkgIT09IE5vRWZmZWN0O1xuICAgICAgICB2YXIgcmVuZGVyZWRUYWlsID0gcmVuZGVyU3RhdGUucmVuZGVyaW5nO1xuXG4gICAgICAgIGlmIChyZW5kZXJlZFRhaWwgPT09IG51bGwpIHtcbiAgICAgICAgICAvLyBXZSBqdXN0IHJlbmRlcmVkIHRoZSBoZWFkLlxuICAgICAgICAgIGlmICghZGlkU3VzcGVuZEFscmVhZHkpIHtcbiAgICAgICAgICAgIC8vIFRoaXMgaXMgdGhlIGZpcnN0IHBhc3MuIFdlIG5lZWQgdG8gZmlndXJlIG91dCBpZiBhbnl0aGluZyBpcyBzdGlsbFxuICAgICAgICAgICAgLy8gc3VzcGVuZGVkIGluIHRoZSByZW5kZXJlZCBzZXQuXG4gICAgICAgICAgICAvLyBJZiBuZXcgY29udGVudCB1bnN1c3BlbmRlZCwgYnV0IHRoZXJlJ3Mgc3RpbGwgc29tZSBjb250ZW50IHRoYXRcbiAgICAgICAgICAgIC8vIGRpZG4ndC4gVGhlbiB3ZSBuZWVkIHRvIGRvIGEgc2Vjb25kIHBhc3MgdGhhdCBmb3JjZXMgZXZlcnl0aGluZ1xuICAgICAgICAgICAgLy8gdG8ga2VlcCBzaG93aW5nIHRoZWlyIGZhbGxiYWNrcy5cbiAgICAgICAgICAgIC8vIFdlIG1pZ2h0IGJlIHN1c3BlbmRlZCBpZiBzb21ldGhpbmcgaW4gdGhpcyByZW5kZXIgcGFzcyBzdXNwZW5kZWQsIG9yXG4gICAgICAgICAgICAvLyBzb21ldGhpbmcgaW4gdGhlIHByZXZpb3VzIGNvbW1pdHRlZCBwYXNzIHN1c3BlbmRlZC4gT3RoZXJ3aXNlLFxuICAgICAgICAgICAgLy8gdGhlcmUncyBubyBjaGFuY2Ugc28gd2UgY2FuIHNraXAgdGhlIGV4cGVuc2l2ZSBjYWxsIHRvXG4gICAgICAgICAgICAvLyBmaW5kRmlyc3RTdXNwZW5kZWQuXG4gICAgICAgICAgICB2YXIgY2Fubm90QmVTdXNwZW5kZWQgPSByZW5kZXJIYXNOb3RTdXNwZW5kZWRZZXQoKSAmJiAoY3VycmVudCA9PT0gbnVsbCB8fCAoY3VycmVudC5lZmZlY3RUYWcgJiBEaWRDYXB0dXJlKSA9PT0gTm9FZmZlY3QpO1xuXG4gICAgICAgICAgICBpZiAoIWNhbm5vdEJlU3VzcGVuZGVkKSB7XG4gICAgICAgICAgICAgIHZhciByb3cgPSB3b3JrSW5Qcm9ncmVzcy5jaGlsZDtcblxuICAgICAgICAgICAgICB3aGlsZSAocm93ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN1c3BlbmRlZCA9IGZpbmRGaXJzdFN1c3BlbmRlZChyb3cpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHN1c3BlbmRlZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgZGlkU3VzcGVuZEFscmVhZHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnIHw9IERpZENhcHR1cmU7XG4gICAgICAgICAgICAgICAgICBjdXRPZmZUYWlsSWZOZWVkZWQocmVuZGVyU3RhdGUsIGZhbHNlKTsgLy8gSWYgdGhpcyBpcyBhIG5ld2x5IHN1c3BlbmRlZCB0cmVlLCBpdCBtaWdodCBub3QgZ2V0IGNvbW1pdHRlZCBhc1xuICAgICAgICAgICAgICAgICAgLy8gcGFydCBvZiB0aGUgc2Vjb25kIHBhc3MuIEluIHRoYXQgY2FzZSBub3RoaW5nIHdpbGwgc3Vic2NyaWJlIHRvXG4gICAgICAgICAgICAgICAgICAvLyBpdHMgdGhlbm5hYmxlcy4gSW5zdGVhZCwgd2UnbGwgdHJhbnNmZXIgaXRzIHRoZW5uYWJsZXMgdG8gdGhlXG4gICAgICAgICAgICAgICAgICAvLyBTdXNwZW5zZUxpc3Qgc28gdGhhdCBpdCBjYW4gcmV0cnkgaWYgdGhleSByZXNvbHZlLlxuICAgICAgICAgICAgICAgICAgLy8gVGhlcmUgbWlnaHQgYmUgbXVsdGlwbGUgb2YgdGhlc2UgaW4gdGhlIGxpc3QgYnV0IHNpbmNlIHdlJ3JlXG4gICAgICAgICAgICAgICAgICAvLyBnb2luZyB0byB3YWl0IGZvciBhbGwgb2YgdGhlbSBhbnl3YXksIGl0IGRvZXNuJ3QgcmVhbGx5IG1hdHRlclxuICAgICAgICAgICAgICAgICAgLy8gd2hpY2ggb25lcyBnZXRzIHRvIHBpbmcuIEluIHRoZW9yeSB3ZSBjb3VsZCBnZXQgY2xldmVyIGFuZCBrZWVwXG4gICAgICAgICAgICAgICAgICAvLyB0cmFjayBvZiBob3cgbWFueSBkZXBlbmRlbmNpZXMgcmVtYWluIGJ1dCBpdCBnZXRzIHRyaWNreSBiZWNhdXNlXG4gICAgICAgICAgICAgICAgICAvLyBpbiB0aGUgbWVhbnRpbWUsIHdlIGNhbiBhZGQvcmVtb3ZlL2NoYW5nZSBpdGVtcyBhbmQgZGVwZW5kZW5jaWVzLlxuICAgICAgICAgICAgICAgICAgLy8gV2UgbWlnaHQgYmFpbCBvdXQgb2YgdGhlIGxvb3AgYmVmb3JlIGZpbmRpbmcgYW55IGJ1dCB0aGF0XG4gICAgICAgICAgICAgICAgICAvLyBkb2Vzbid0IG1hdHRlciBzaW5jZSB0aGF0IG1lYW5zIHRoYXQgdGhlIG90aGVyIGJvdW5kYXJpZXMgdGhhdFxuICAgICAgICAgICAgICAgICAgLy8gd2UgZGlkIGZpbmQgYWxyZWFkeSBoYXMgdGhlaXIgbGlzdGVuZXJzIGF0dGFjaGVkLlxuXG4gICAgICAgICAgICAgICAgICB2YXIgbmV3VGhlbm5hYmxlcyA9IHN1c3BlbmRlZC51cGRhdGVRdWV1ZTtcblxuICAgICAgICAgICAgICAgICAgaWYgKG5ld1RoZW5uYWJsZXMgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWUgPSBuZXdUaGVubmFibGVzO1xuICAgICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gVXBkYXRlO1xuICAgICAgICAgICAgICAgICAgfSAvLyBSZXJlbmRlciB0aGUgd2hvbGUgbGlzdCwgYnV0IHRoaXMgdGltZSwgd2UnbGwgZm9yY2UgZmFsbGJhY2tzXG4gICAgICAgICAgICAgICAgICAvLyB0byBzdGF5IGluIHBsYWNlLlxuICAgICAgICAgICAgICAgICAgLy8gUmVzZXQgdGhlIGVmZmVjdCBsaXN0IGJlZm9yZSBkb2luZyB0aGUgc2Vjb25kIHBhc3Mgc2luY2UgdGhhdCdzIG5vdyBpbnZhbGlkLlxuXG5cbiAgICAgICAgICAgICAgICAgIGlmIChyZW5kZXJTdGF0ZS5sYXN0RWZmZWN0ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLmZpcnN0RWZmZWN0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MubGFzdEVmZmVjdCA9IHJlbmRlclN0YXRlLmxhc3RFZmZlY3Q7IC8vIFJlc2V0IHRoZSBjaGlsZCBmaWJlcnMgdG8gdGhlaXIgb3JpZ2luYWwgc3RhdGUuXG5cbiAgICAgICAgICAgICAgICAgIHJlc2V0Q2hpbGRGaWJlcnMod29ya0luUHJvZ3Jlc3MsIHJlbmRlckV4cGlyYXRpb25UaW1lKTsgLy8gU2V0IHVwIHRoZSBTdXNwZW5zZSBDb250ZXh0IHRvIGZvcmNlIHN1c3BlbnNlIGFuZCBpbW1lZGlhdGVseVxuICAgICAgICAgICAgICAgICAgLy8gcmVyZW5kZXIgdGhlIGNoaWxkcmVuLlxuXG4gICAgICAgICAgICAgICAgICBwdXNoU3VzcGVuc2VDb250ZXh0KHdvcmtJblByb2dyZXNzLCBzZXRTaGFsbG93U3VzcGVuc2VDb250ZXh0KHN1c3BlbnNlU3RhY2tDdXJzb3IuY3VycmVudCwgRm9yY2VTdXNwZW5zZUZhbGxiYWNrKSk7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcm93ID0gcm93LnNpYmxpbmc7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY3V0T2ZmVGFpbElmTmVlZGVkKHJlbmRlclN0YXRlLCBmYWxzZSk7XG4gICAgICAgICAgfSAvLyBOZXh0IHdlJ3JlIGdvaW5nIHRvIHJlbmRlciB0aGUgdGFpbC5cblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIEFwcGVuZCB0aGUgcmVuZGVyZWQgcm93IHRvIHRoZSBjaGlsZCBsaXN0LlxuICAgICAgICAgIGlmICghZGlkU3VzcGVuZEFscmVhZHkpIHtcbiAgICAgICAgICAgIHZhciBfc3VzcGVuZGVkID0gZmluZEZpcnN0U3VzcGVuZGVkKHJlbmRlcmVkVGFpbCk7XG5cbiAgICAgICAgICAgIGlmIChfc3VzcGVuZGVkICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyB8PSBEaWRDYXB0dXJlO1xuICAgICAgICAgICAgICBkaWRTdXNwZW5kQWxyZWFkeSA9IHRydWU7IC8vIEVuc3VyZSB3ZSB0cmFuc2ZlciB0aGUgdXBkYXRlIHF1ZXVlIHRvIHRoZSBwYXJlbnQgc28gdGhhdCBpdCBkb2Vzbid0XG4gICAgICAgICAgICAgIC8vIGdldCBsb3N0IGlmIHRoaXMgcm93IGVuZHMgdXAgZHJvcHBlZCBkdXJpbmcgYSBzZWNvbmQgcGFzcy5cblxuICAgICAgICAgICAgICB2YXIgX25ld1RoZW5uYWJsZXMgPSBfc3VzcGVuZGVkLnVwZGF0ZVF1ZXVlO1xuXG4gICAgICAgICAgICAgIGlmIChfbmV3VGhlbm5hYmxlcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlID0gX25ld1RoZW5uYWJsZXM7XG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnIHw9IFVwZGF0ZTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGN1dE9mZlRhaWxJZk5lZWRlZChyZW5kZXJTdGF0ZSwgdHJ1ZSk7IC8vIFRoaXMgbWlnaHQgaGF2ZSBiZWVuIG1vZGlmaWVkLlxuXG4gICAgICAgICAgICAgIGlmIChyZW5kZXJTdGF0ZS50YWlsID09PSBudWxsICYmIHJlbmRlclN0YXRlLnRhaWxNb2RlID09PSAnaGlkZGVuJyAmJiAhcmVuZGVyZWRUYWlsLmFsdGVybmF0ZSkge1xuICAgICAgICAgICAgICAgIC8vIFdlIG5lZWQgdG8gZGVsZXRlIHRoZSByb3cgd2UganVzdCByZW5kZXJlZC5cbiAgICAgICAgICAgICAgICAvLyBSZXNldCB0aGUgZWZmZWN0IGxpc3QgdG8gd2hhdCBpdCB3YXMgYmVmb3JlIHdlIHJlbmRlcmVkIHRoaXNcbiAgICAgICAgICAgICAgICAvLyBjaGlsZC4gVGhlIG5lc3RlZCBjaGlsZHJlbiBoYXZlIGFscmVhZHkgYXBwZW5kZWQgdGhlbXNlbHZlcy5cbiAgICAgICAgICAgICAgICB2YXIgbGFzdEVmZmVjdCA9IHdvcmtJblByb2dyZXNzLmxhc3RFZmZlY3QgPSByZW5kZXJTdGF0ZS5sYXN0RWZmZWN0OyAvLyBSZW1vdmUgYW55IGVmZmVjdHMgdGhhdCB3ZXJlIGFwcGVuZGVkIGFmdGVyIHRoaXMgcG9pbnQuXG5cbiAgICAgICAgICAgICAgICBpZiAobGFzdEVmZmVjdCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgbGFzdEVmZmVjdC5uZXh0RWZmZWN0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9IC8vIFdlJ3JlIGRvbmUuXG5cblxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG5vdygpID4gcmVuZGVyU3RhdGUudGFpbEV4cGlyYXRpb24gJiYgcmVuZGVyRXhwaXJhdGlvblRpbWUgPiBOZXZlcikge1xuICAgICAgICAgICAgICAvLyBXZSBoYXZlIG5vdyBwYXNzZWQgb3VyIENQVSBkZWFkbGluZSBhbmQgd2UnbGwganVzdCBnaXZlIHVwIGZ1cnRoZXJcbiAgICAgICAgICAgICAgLy8gYXR0ZW1wdHMgdG8gcmVuZGVyIHRoZSBtYWluIGNvbnRlbnQgYW5kIG9ubHkgcmVuZGVyIGZhbGxiYWNrcy5cbiAgICAgICAgICAgICAgLy8gVGhlIGFzc3VtcHRpb24gaXMgdGhhdCB0aGlzIGlzIHVzdWFsbHkgZmFzdGVyLlxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gRGlkQ2FwdHVyZTtcbiAgICAgICAgICAgICAgZGlkU3VzcGVuZEFscmVhZHkgPSB0cnVlO1xuICAgICAgICAgICAgICBjdXRPZmZUYWlsSWZOZWVkZWQocmVuZGVyU3RhdGUsIGZhbHNlKTsgLy8gU2luY2Ugbm90aGluZyBhY3R1YWxseSBzdXNwZW5kZWQsIHRoZXJlIHdpbGwgbm90aGluZyB0byBwaW5nIHRoaXNcbiAgICAgICAgICAgICAgLy8gdG8gZ2V0IGl0IHN0YXJ0ZWQgYmFjayB1cCB0byBhdHRlbXB0IHRoZSBuZXh0IGl0ZW0uIElmIHdlIGNhbiBzaG93XG4gICAgICAgICAgICAgIC8vIHRoZW0sIHRoZW4gdGhleSByZWFsbHkgaGF2ZSB0aGUgc2FtZSBwcmlvcml0eSBhcyB0aGlzIHJlbmRlci5cbiAgICAgICAgICAgICAgLy8gU28gd2UnbGwgcGljayBpdCBiYWNrIHVwIHRoZSB2ZXJ5IG5leHQgcmVuZGVyIHBhc3Mgb25jZSB3ZSd2ZSBoYWRcbiAgICAgICAgICAgICAgLy8gYW4gb3Bwb3J0dW5pdHkgdG8geWllbGQgZm9yIHBhaW50LlxuXG4gICAgICAgICAgICAgIHZhciBuZXh0UHJpb3JpdHkgPSByZW5kZXJFeHBpcmF0aW9uVGltZSAtIDE7XG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLmV4cGlyYXRpb25UaW1lID0gd29ya0luUHJvZ3Jlc3MuY2hpbGRFeHBpcmF0aW9uVGltZSA9IG5leHRQcmlvcml0eTtcblxuICAgICAgICAgICAgICBpZiAoZW5hYmxlU2NoZWR1bGVyVHJhY2luZykge1xuICAgICAgICAgICAgICAgIG1hcmtTcGF3bmVkV29yayhuZXh0UHJpb3JpdHkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHJlbmRlclN0YXRlLmlzQmFja3dhcmRzKSB7XG4gICAgICAgICAgICAvLyBUaGUgZWZmZWN0IGxpc3Qgb2YgdGhlIGJhY2t3YXJkcyB0YWlsIHdpbGwgaGF2ZSBiZWVuIGFkZGVkXG4gICAgICAgICAgICAvLyB0byB0aGUgZW5kLiBUaGlzIGJyZWFrcyB0aGUgZ3VhcmFudGVlIHRoYXQgbGlmZS1jeWNsZXMgZmlyZSBpblxuICAgICAgICAgICAgLy8gc2libGluZyBvcmRlciBidXQgdGhhdCBpc24ndCBhIHN0cm9uZyBndWFyYW50ZWUgcHJvbWlzZWQgYnkgUmVhY3QuXG4gICAgICAgICAgICAvLyBFc3BlY2lhbGx5IHNpbmNlIHRoZXNlIG1pZ2h0IGFsc28ganVzdCBwb3AgaW4gZHVyaW5nIGZ1dHVyZSBjb21taXRzLlxuICAgICAgICAgICAgLy8gQXBwZW5kIHRvIHRoZSBiZWdpbm5pbmcgb2YgdGhlIGxpc3QuXG4gICAgICAgICAgICByZW5kZXJlZFRhaWwuc2libGluZyA9IHdvcmtJblByb2dyZXNzLmNoaWxkO1xuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MuY2hpbGQgPSByZW5kZXJlZFRhaWw7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBwcmV2aW91c1NpYmxpbmcgPSByZW5kZXJTdGF0ZS5sYXN0O1xuXG4gICAgICAgICAgICBpZiAocHJldmlvdXNTaWJsaW5nICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgIHByZXZpb3VzU2libGluZy5zaWJsaW5nID0gcmVuZGVyZWRUYWlsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MuY2hpbGQgPSByZW5kZXJlZFRhaWw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlbmRlclN0YXRlLmxhc3QgPSByZW5kZXJlZFRhaWw7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlbmRlclN0YXRlLnRhaWwgIT09IG51bGwpIHtcbiAgICAgICAgICAvLyBXZSBzdGlsbCBoYXZlIHRhaWwgcm93cyB0byByZW5kZXIuXG4gICAgICAgICAgaWYgKHJlbmRlclN0YXRlLnRhaWxFeHBpcmF0aW9uID09PSAwKSB7XG4gICAgICAgICAgICAvLyBIZXVyaXN0aWMgZm9yIGhvdyBsb25nIHdlJ3JlIHdpbGxpbmcgdG8gc3BlbmQgcmVuZGVyaW5nIHJvd3NcbiAgICAgICAgICAgIC8vIHVudGlsIHdlIGp1c3QgZ2l2ZSB1cCBhbmQgc2hvdyB3aGF0IHdlIGhhdmUgc28gZmFyLlxuICAgICAgICAgICAgdmFyIFRBSUxfRVhQSVJBVElPTl9USU1FT1VUX01TID0gNTAwO1xuICAgICAgICAgICAgcmVuZGVyU3RhdGUudGFpbEV4cGlyYXRpb24gPSBub3coKSArIFRBSUxfRVhQSVJBVElPTl9USU1FT1VUX01TO1xuICAgICAgICAgIH0gLy8gUG9wIGEgcm93LlxuXG5cbiAgICAgICAgICB2YXIgbmV4dCA9IHJlbmRlclN0YXRlLnRhaWw7XG4gICAgICAgICAgcmVuZGVyU3RhdGUucmVuZGVyaW5nID0gbmV4dDtcbiAgICAgICAgICByZW5kZXJTdGF0ZS50YWlsID0gbmV4dC5zaWJsaW5nO1xuICAgICAgICAgIHJlbmRlclN0YXRlLmxhc3RFZmZlY3QgPSB3b3JrSW5Qcm9ncmVzcy5sYXN0RWZmZWN0O1xuICAgICAgICAgIG5leHQuc2libGluZyA9IG51bGw7IC8vIFJlc3RvcmUgdGhlIGNvbnRleHQuXG4gICAgICAgICAgLy8gVE9ETzogV2UgY2FuIHByb2JhYmx5IGp1c3QgYXZvaWQgcG9wcGluZyBpdCBpbnN0ZWFkIGFuZCBvbmx5XG4gICAgICAgICAgLy8gc2V0dGluZyBpdCB0aGUgZmlyc3QgdGltZSB3ZSBnbyBmcm9tIG5vdCBzdXNwZW5kZWQgdG8gc3VzcGVuZGVkLlxuXG4gICAgICAgICAgdmFyIHN1c3BlbnNlQ29udGV4dCA9IHN1c3BlbnNlU3RhY2tDdXJzb3IuY3VycmVudDtcblxuICAgICAgICAgIGlmIChkaWRTdXNwZW5kQWxyZWFkeSkge1xuICAgICAgICAgICAgc3VzcGVuc2VDb250ZXh0ID0gc2V0U2hhbGxvd1N1c3BlbnNlQ29udGV4dChzdXNwZW5zZUNvbnRleHQsIEZvcmNlU3VzcGVuc2VGYWxsYmFjayk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN1c3BlbnNlQ29udGV4dCA9IHNldERlZmF1bHRTaGFsbG93U3VzcGVuc2VDb250ZXh0KHN1c3BlbnNlQ29udGV4dCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcHVzaFN1c3BlbnNlQ29udGV4dCh3b3JrSW5Qcm9ncmVzcywgc3VzcGVuc2VDb250ZXh0KTsgLy8gRG8gYSBwYXNzIG92ZXIgdGhlIG5leHQgcm93LlxuXG4gICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgIGNhc2UgRnVuZGFtZW50YWxDb21wb25lbnQ6XG4gICAgICB7XG4gICAgICAgIGlmIChlbmFibGVGdW5kYW1lbnRhbEFQSSkge1xuICAgICAgICAgIHZhciBmdW5kYW1lbnRhbEltcGwgPSB3b3JrSW5Qcm9ncmVzcy50eXBlLmltcGw7XG4gICAgICAgICAgdmFyIGZ1bmRhbWVudGFsSW5zdGFuY2UgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGU7XG5cbiAgICAgICAgICBpZiAoZnVuZGFtZW50YWxJbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIGdldEluaXRpYWxTdGF0ZSA9IGZ1bmRhbWVudGFsSW1wbC5nZXRJbml0aWFsU3RhdGU7XG4gICAgICAgICAgICB2YXIgZnVuZGFtZW50YWxTdGF0ZTtcblxuICAgICAgICAgICAgaWYgKGdldEluaXRpYWxTdGF0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgIGZ1bmRhbWVudGFsU3RhdGUgPSBnZXRJbml0aWFsU3RhdGUobmV3UHJvcHMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5kYW1lbnRhbEluc3RhbmNlID0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlID0gY3JlYXRlRnVuZGFtZW50YWxTdGF0ZUluc3RhbmNlKHdvcmtJblByb2dyZXNzLCBuZXdQcm9wcywgZnVuZGFtZW50YWxJbXBsLCBmdW5kYW1lbnRhbFN0YXRlIHx8IHt9KTtcblxuICAgICAgICAgICAgdmFyIF9pbnN0YW5jZTUgPSBnZXRGdW5kYW1lbnRhbENvbXBvbmVudEluc3RhbmNlKGZ1bmRhbWVudGFsSW5zdGFuY2UpO1xuXG4gICAgICAgICAgICBmdW5kYW1lbnRhbEluc3RhbmNlLmluc3RhbmNlID0gX2luc3RhbmNlNTtcblxuICAgICAgICAgICAgaWYgKGZ1bmRhbWVudGFsSW1wbC5yZWNvbmNpbGVDaGlsZHJlbiA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGFwcGVuZEFsbENoaWxkcmVuKF9pbnN0YW5jZTUsIHdvcmtJblByb2dyZXNzLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICAgICAgbW91bnRGdW5kYW1lbnRhbENvbXBvbmVudChmdW5kYW1lbnRhbEluc3RhbmNlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gV2UgZmlyZSB1cGRhdGUgaW4gY29tbWl0IHBoYXNlXG4gICAgICAgICAgICB2YXIgcHJldlByb3BzID0gZnVuZGFtZW50YWxJbnN0YW5jZS5wcm9wcztcbiAgICAgICAgICAgIGZ1bmRhbWVudGFsSW5zdGFuY2UucHJldlByb3BzID0gcHJldlByb3BzO1xuICAgICAgICAgICAgZnVuZGFtZW50YWxJbnN0YW5jZS5wcm9wcyA9IG5ld1Byb3BzO1xuICAgICAgICAgICAgZnVuZGFtZW50YWxJbnN0YW5jZS5jdXJyZW50RmliZXIgPSB3b3JrSW5Qcm9ncmVzcztcblxuICAgICAgICAgICAgaWYgKHN1cHBvcnRzUGVyc2lzdGVuY2UpIHtcbiAgICAgICAgICAgICAgdmFyIF9pbnN0YW5jZTYgPSBjbG9uZUZ1bmRhbWVudGFsSW5zdGFuY2UoZnVuZGFtZW50YWxJbnN0YW5jZSk7XG5cbiAgICAgICAgICAgICAgZnVuZGFtZW50YWxJbnN0YW5jZS5pbnN0YW5jZSA9IF9pbnN0YW5jZTY7XG4gICAgICAgICAgICAgIGFwcGVuZEFsbENoaWxkcmVuKF9pbnN0YW5jZTYsIHdvcmtJblByb2dyZXNzLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgc2hvdWxkVXBkYXRlID0gc2hvdWxkVXBkYXRlRnVuZGFtZW50YWxDb21wb25lbnQoZnVuZGFtZW50YWxJbnN0YW5jZSk7XG5cbiAgICAgICAgICAgIGlmIChzaG91bGRVcGRhdGUpIHtcbiAgICAgICAgICAgICAgbWFya1VwZGF0ZSh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICBjYXNlIFNjb3BlQ29tcG9uZW50OlxuICAgICAge1xuICAgICAgICBpZiAoZW5hYmxlU2NvcGVBUEkpIHtcbiAgICAgICAgICBpZiAoY3VycmVudCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIF90eXBlMyA9IHdvcmtJblByb2dyZXNzLnR5cGU7XG4gICAgICAgICAgICB2YXIgc2NvcGVJbnN0YW5jZSA9IHtcbiAgICAgICAgICAgICAgZmliZXI6IHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICBtZXRob2RzOiBudWxsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlID0gc2NvcGVJbnN0YW5jZTtcbiAgICAgICAgICAgIHNjb3BlSW5zdGFuY2UubWV0aG9kcyA9IGNyZWF0ZVNjb3BlTWV0aG9kcyhfdHlwZTMsIHNjb3BlSW5zdGFuY2UpO1xuXG4gICAgICAgICAgICBpZiAoZW5hYmxlRmxhcmVBUEkpIHtcbiAgICAgICAgICAgICAgdmFyIF9saXN0ZW5lcnMyID0gbmV3UHJvcHMubGlzdGVuZXJzO1xuXG4gICAgICAgICAgICAgIGlmIChfbGlzdGVuZXJzMiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9yb290Q29udGFpbmVySW5zdGFuY2UyID0gZ2V0Um9vdEhvc3RDb250YWluZXIoKTtcblxuICAgICAgICAgICAgICAgIHVwZGF0ZUV2ZW50TGlzdGVuZXJzKF9saXN0ZW5lcnMyLCB3b3JrSW5Qcm9ncmVzcywgX3Jvb3RDb250YWluZXJJbnN0YW5jZTIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh3b3JrSW5Qcm9ncmVzcy5yZWYgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgbWFya1JlZiQxKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICAgICAgbWFya1VwZGF0ZSh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChlbmFibGVGbGFyZUFQSSkge1xuICAgICAgICAgICAgICB2YXIgX3ByZXZMaXN0ZW5lcnMgPSBjdXJyZW50Lm1lbW9pemVkUHJvcHMubGlzdGVuZXJzO1xuICAgICAgICAgICAgICB2YXIgX25leHRMaXN0ZW5lcnMgPSBuZXdQcm9wcy5saXN0ZW5lcnM7XG5cbiAgICAgICAgICAgICAgaWYgKF9wcmV2TGlzdGVuZXJzICE9PSBfbmV4dExpc3RlbmVycyB8fCB3b3JrSW5Qcm9ncmVzcy5yZWYgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBtYXJrVXBkYXRlKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaWYgKHdvcmtJblByb2dyZXNzLnJlZiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIG1hcmtVcGRhdGUod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChjdXJyZW50LnJlZiAhPT0gd29ya0luUHJvZ3Jlc3MucmVmKSB7XG4gICAgICAgICAgICAgIG1hcmtSZWYkMSh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICBkZWZhdWx0OlxuICAgICAge1xuICAgICAgICB7XG4gICAgICAgICAgdGhyb3cgRXJyb3IoXCJVbmtub3duIHVuaXQgb2Ygd29yayB0YWcgKFwiICsgd29ya0luUHJvZ3Jlc3MudGFnICsgXCIpLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gdW53aW5kV29yayh3b3JrSW5Qcm9ncmVzcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpIHtcbiAgc3dpdGNoICh3b3JrSW5Qcm9ncmVzcy50YWcpIHtcbiAgICBjYXNlIENsYXNzQ29tcG9uZW50OlxuICAgICAge1xuICAgICAgICB2YXIgQ29tcG9uZW50ID0gd29ya0luUHJvZ3Jlc3MudHlwZTtcblxuICAgICAgICBpZiAoaXNDb250ZXh0UHJvdmlkZXIoQ29tcG9uZW50KSkge1xuICAgICAgICAgIHBvcENvbnRleHQod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGVmZmVjdFRhZyA9IHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZztcblxuICAgICAgICBpZiAoZWZmZWN0VGFnICYgU2hvdWxkQ2FwdHVyZSkge1xuICAgICAgICAgIHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyA9IGVmZmVjdFRhZyAmIH5TaG91bGRDYXB0dXJlIHwgRGlkQ2FwdHVyZTtcbiAgICAgICAgICByZXR1cm4gd29ya0luUHJvZ3Jlc3M7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgIGNhc2UgSG9zdFJvb3Q6XG4gICAgICB7XG4gICAgICAgIHBvcEhvc3RDb250YWluZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICBwb3BUb3BMZXZlbENvbnRleHRPYmplY3Qod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICB2YXIgX2VmZmVjdFRhZyA9IHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZztcblxuICAgICAgICBpZiAoISgoX2VmZmVjdFRhZyAmIERpZENhcHR1cmUpID09PSBOb0VmZmVjdCkpIHtcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcIlRoZSByb290IGZhaWxlZCB0byB1bm1vdW50IGFmdGVyIGFuIGVycm9yLiBUaGlzIGlzIGxpa2VseSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyA9IF9lZmZlY3RUYWcgJiB+U2hvdWxkQ2FwdHVyZSB8IERpZENhcHR1cmU7XG4gICAgICAgIHJldHVybiB3b3JrSW5Qcm9ncmVzcztcbiAgICAgIH1cblxuICAgIGNhc2UgSG9zdENvbXBvbmVudDpcbiAgICAgIHtcbiAgICAgICAgLy8gVE9ETzogcG9wSHlkcmF0aW9uU3RhdGVcbiAgICAgICAgcG9wSG9zdENvbnRleHQod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgIGNhc2UgU3VzcGVuc2VDb21wb25lbnQ6XG4gICAgICB7XG4gICAgICAgIHBvcFN1c3BlbnNlQ29udGV4dCh3b3JrSW5Qcm9ncmVzcyk7XG5cbiAgICAgICAgaWYgKGVuYWJsZVN1c3BlbnNlU2VydmVyUmVuZGVyZXIpIHtcbiAgICAgICAgICB2YXIgc3VzcGVuc2VTdGF0ZSA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGU7XG5cbiAgICAgICAgICBpZiAoc3VzcGVuc2VTdGF0ZSAhPT0gbnVsbCAmJiBzdXNwZW5zZVN0YXRlLmRlaHlkcmF0ZWQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmICghKHdvcmtJblByb2dyZXNzLmFsdGVybmF0ZSAhPT0gbnVsbCkpIHtcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwiVGhyZXcgaW4gbmV3bHkgbW91bnRlZCBkZWh5ZHJhdGVkIGNvbXBvbmVudC4gVGhpcyBpcyBsaWtlbHkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXNldEh5ZHJhdGlvblN0YXRlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIF9lZmZlY3RUYWcyID0gd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnO1xuXG4gICAgICAgIGlmIChfZWZmZWN0VGFnMiAmIFNob3VsZENhcHR1cmUpIHtcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgPSBfZWZmZWN0VGFnMiAmIH5TaG91bGRDYXB0dXJlIHwgRGlkQ2FwdHVyZTsgLy8gQ2FwdHVyZWQgYSBzdXNwZW5zZSBlZmZlY3QuIFJlLXJlbmRlciB0aGUgYm91bmRhcnkuXG5cbiAgICAgICAgICByZXR1cm4gd29ya0luUHJvZ3Jlc3M7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgIGNhc2UgU3VzcGVuc2VMaXN0Q29tcG9uZW50OlxuICAgICAge1xuICAgICAgICBwb3BTdXNwZW5zZUNvbnRleHQod29ya0luUHJvZ3Jlc3MpOyAvLyBTdXNwZW5zZUxpc3QgZG9lc24ndCBhY3R1YWxseSBjYXRjaCBhbnl0aGluZy4gSXQgc2hvdWxkJ3ZlIGJlZW5cbiAgICAgICAgLy8gY2F1Z2h0IGJ5IGEgbmVzdGVkIGJvdW5kYXJ5LiBJZiBub3QsIGl0IHNob3VsZCBidWJibGUgdGhyb3VnaC5cblxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgIGNhc2UgSG9zdFBvcnRhbDpcbiAgICAgIHBvcEhvc3RDb250YWluZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgcmV0dXJuIG51bGw7XG5cbiAgICBjYXNlIENvbnRleHRQcm92aWRlcjpcbiAgICAgIHBvcFByb3ZpZGVyKHdvcmtJblByb2dyZXNzKTtcbiAgICAgIHJldHVybiBudWxsO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmZ1bmN0aW9uIHVud2luZEludGVycnVwdGVkV29yayhpbnRlcnJ1cHRlZFdvcmspIHtcbiAgc3dpdGNoIChpbnRlcnJ1cHRlZFdvcmsudGFnKSB7XG4gICAgY2FzZSBDbGFzc0NvbXBvbmVudDpcbiAgICAgIHtcbiAgICAgICAgdmFyIGNoaWxkQ29udGV4dFR5cGVzID0gaW50ZXJydXB0ZWRXb3JrLnR5cGUuY2hpbGRDb250ZXh0VHlwZXM7XG5cbiAgICAgICAgaWYgKGNoaWxkQ29udGV4dFR5cGVzICE9PSBudWxsICYmIGNoaWxkQ29udGV4dFR5cGVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBwb3BDb250ZXh0KGludGVycnVwdGVkV29yayk7XG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgIGNhc2UgSG9zdFJvb3Q6XG4gICAgICB7XG4gICAgICAgIHBvcEhvc3RDb250YWluZXIoaW50ZXJydXB0ZWRXb3JrKTtcbiAgICAgICAgcG9wVG9wTGV2ZWxDb250ZXh0T2JqZWN0KGludGVycnVwdGVkV29yayk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgY2FzZSBIb3N0Q29tcG9uZW50OlxuICAgICAge1xuICAgICAgICBwb3BIb3N0Q29udGV4dChpbnRlcnJ1cHRlZFdvcmspO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgIGNhc2UgSG9zdFBvcnRhbDpcbiAgICAgIHBvcEhvc3RDb250YWluZXIoaW50ZXJydXB0ZWRXb3JrKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBTdXNwZW5zZUNvbXBvbmVudDpcbiAgICAgIHBvcFN1c3BlbnNlQ29udGV4dChpbnRlcnJ1cHRlZFdvcmspO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIFN1c3BlbnNlTGlzdENvbXBvbmVudDpcbiAgICAgIHBvcFN1c3BlbnNlQ29udGV4dChpbnRlcnJ1cHRlZFdvcmspO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIENvbnRleHRQcm92aWRlcjpcbiAgICAgIHBvcFByb3ZpZGVyKGludGVycnVwdGVkV29yayk7XG4gICAgICBicmVhaztcblxuICAgIGRlZmF1bHQ6XG4gICAgICBicmVhaztcbiAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVDYXB0dXJlZFZhbHVlKHZhbHVlLCBzb3VyY2UpIHtcbiAgLy8gSWYgdGhlIHZhbHVlIGlzIGFuIGVycm9yLCBjYWxsIHRoaXMgZnVuY3Rpb24gaW1tZWRpYXRlbHkgYWZ0ZXIgaXQgaXMgdGhyb3duXG4gIC8vIHNvIHRoZSBzdGFjayBpcyBhY2N1cmF0ZS5cbiAgcmV0dXJuIHtcbiAgICB2YWx1ZTogdmFsdWUsXG4gICAgc291cmNlOiBzb3VyY2UsXG4gICAgc3RhY2s6IGdldFN0YWNrQnlGaWJlckluRGV2QW5kUHJvZChzb3VyY2UpXG4gIH07XG59XG5cbi8vIFRoaXMgbW9kdWxlIGlzIGZvcmtlZCBpbiBkaWZmZXJlbnQgZW52aXJvbm1lbnRzLlxuLy8gQnkgZGVmYXVsdCwgcmV0dXJuIGB0cnVlYCB0byBsb2cgZXJyb3JzIHRvIHRoZSBjb25zb2xlLlxuLy8gRm9ya3MgY2FuIHJldHVybiBgZmFsc2VgIGlmIHRoaXMgaXNuJ3QgZGVzaXJhYmxlLlxuZnVuY3Rpb24gc2hvd0Vycm9yRGlhbG9nKGNhcHR1cmVkRXJyb3IpIHtcbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGxvZ0NhcHR1cmVkRXJyb3IoY2FwdHVyZWRFcnJvcikge1xuICB2YXIgbG9nRXJyb3IgPSBzaG93RXJyb3JEaWFsb2coY2FwdHVyZWRFcnJvcik7IC8vIEFsbG93IGluamVjdGVkIHNob3dFcnJvckRpYWxvZygpIHRvIHByZXZlbnQgZGVmYXVsdCBjb25zb2xlLmVycm9yIGxvZ2dpbmcuXG4gIC8vIFRoaXMgZW5hYmxlcyByZW5kZXJlcnMgbGlrZSBSZWFjdE5hdGl2ZSB0byBiZXR0ZXIgbWFuYWdlIHJlZGJveCBiZWhhdmlvci5cblxuICBpZiAobG9nRXJyb3IgPT09IGZhbHNlKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGVycm9yID0gY2FwdHVyZWRFcnJvci5lcnJvcjtcblxuICB7XG4gICAgdmFyIGNvbXBvbmVudE5hbWUgPSBjYXB0dXJlZEVycm9yLmNvbXBvbmVudE5hbWUsXG4gICAgICAgIGNvbXBvbmVudFN0YWNrID0gY2FwdHVyZWRFcnJvci5jb21wb25lbnRTdGFjayxcbiAgICAgICAgZXJyb3JCb3VuZGFyeU5hbWUgPSBjYXB0dXJlZEVycm9yLmVycm9yQm91bmRhcnlOYW1lLFxuICAgICAgICBlcnJvckJvdW5kYXJ5Rm91bmQgPSBjYXB0dXJlZEVycm9yLmVycm9yQm91bmRhcnlGb3VuZCxcbiAgICAgICAgd2lsbFJldHJ5ID0gY2FwdHVyZWRFcnJvci53aWxsUmV0cnk7IC8vIEJyb3dzZXJzIHN1cHBvcnQgc2lsZW5jaW5nIHVuY2F1Z2h0IGVycm9ycyBieSBjYWxsaW5nXG4gICAgLy8gYHByZXZlbnREZWZhdWx0KClgIGluIHdpbmRvdyBgZXJyb3JgIGhhbmRsZXIuXG4gICAgLy8gV2UgcmVjb3JkIHRoaXMgaW5mb3JtYXRpb24gYXMgYW4gZXhwYW5kbyBvbiB0aGUgZXJyb3IuXG5cbiAgICBpZiAoZXJyb3IgIT0gbnVsbCAmJiBlcnJvci5fc3VwcHJlc3NMb2dnaW5nKSB7XG4gICAgICBpZiAoZXJyb3JCb3VuZGFyeUZvdW5kICYmIHdpbGxSZXRyeSkge1xuICAgICAgICAvLyBUaGUgZXJyb3IgaXMgcmVjb3ZlcmFibGUgYW5kIHdhcyBzaWxlbmNlZC5cbiAgICAgICAgLy8gSWdub3JlIGl0IGFuZCBkb24ndCBwcmludCB0aGUgc3RhY2sgYWRkZW5kdW0uXG4gICAgICAgIC8vIFRoaXMgaXMgaGFuZHkgZm9yIHRlc3RpbmcgZXJyb3IgYm91bmRhcmllcyB3aXRob3V0IG5vaXNlLlxuICAgICAgICByZXR1cm47XG4gICAgICB9IC8vIFRoZSBlcnJvciBpcyBmYXRhbC4gU2luY2UgdGhlIHNpbGVuY2luZyBtaWdodCBoYXZlXG4gICAgICAvLyBiZWVuIGFjY2lkZW50YWwsIHdlJ2xsIHN1cmZhY2UgaXQgYW55d2F5LlxuICAgICAgLy8gSG93ZXZlciwgdGhlIGJyb3dzZXIgd291bGQgaGF2ZSBzaWxlbmNlZCB0aGUgb3JpZ2luYWwgZXJyb3JcbiAgICAgIC8vIHNvIHdlJ2xsIHByaW50IGl0IGZpcnN0LCBhbmQgdGhlbiBwcmludCB0aGUgc3RhY2sgYWRkZW5kdW0uXG5cblxuICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7IC8vIEZvciBhIG1vcmUgZGV0YWlsZWQgZGVzY3JpcHRpb24gb2YgdGhpcyBibG9jaywgc2VlOlxuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L3B1bGwvMTMzODRcbiAgICB9XG5cbiAgICB2YXIgY29tcG9uZW50TmFtZU1lc3NhZ2UgPSBjb21wb25lbnROYW1lID8gXCJUaGUgYWJvdmUgZXJyb3Igb2NjdXJyZWQgaW4gdGhlIDxcIiArIGNvbXBvbmVudE5hbWUgKyBcIj4gY29tcG9uZW50OlwiIDogJ1RoZSBhYm92ZSBlcnJvciBvY2N1cnJlZCBpbiBvbmUgb2YgeW91ciBSZWFjdCBjb21wb25lbnRzOic7XG4gICAgdmFyIGVycm9yQm91bmRhcnlNZXNzYWdlOyAvLyBlcnJvckJvdW5kYXJ5Rm91bmQgY2hlY2sgaXMgc3VmZmljaWVudDsgZXJyb3JCb3VuZGFyeU5hbWUgY2hlY2sgaXMgdG8gc2F0aXNmeSBGbG93LlxuXG4gICAgaWYgKGVycm9yQm91bmRhcnlGb3VuZCAmJiBlcnJvckJvdW5kYXJ5TmFtZSkge1xuICAgICAgaWYgKHdpbGxSZXRyeSkge1xuICAgICAgICBlcnJvckJvdW5kYXJ5TWVzc2FnZSA9IFwiUmVhY3Qgd2lsbCB0cnkgdG8gcmVjcmVhdGUgdGhpcyBjb21wb25lbnQgdHJlZSBmcm9tIHNjcmF0Y2ggXCIgKyAoXCJ1c2luZyB0aGUgZXJyb3IgYm91bmRhcnkgeW91IHByb3ZpZGVkLCBcIiArIGVycm9yQm91bmRhcnlOYW1lICsgXCIuXCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZXJyb3JCb3VuZGFyeU1lc3NhZ2UgPSBcIlRoaXMgZXJyb3Igd2FzIGluaXRpYWxseSBoYW5kbGVkIGJ5IHRoZSBlcnJvciBib3VuZGFyeSBcIiArIGVycm9yQm91bmRhcnlOYW1lICsgXCIuXFxuXCIgKyBcIlJlY3JlYXRpbmcgdGhlIHRyZWUgZnJvbSBzY3JhdGNoIGZhaWxlZCBzbyBSZWFjdCB3aWxsIHVubW91bnQgdGhlIHRyZWUuXCI7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGVycm9yQm91bmRhcnlNZXNzYWdlID0gJ0NvbnNpZGVyIGFkZGluZyBhbiBlcnJvciBib3VuZGFyeSB0byB5b3VyIHRyZWUgdG8gY3VzdG9taXplIGVycm9yIGhhbmRsaW5nIGJlaGF2aW9yLlxcbicgKyAnVmlzaXQgaHR0cHM6Ly9mYi5tZS9yZWFjdC1lcnJvci1ib3VuZGFyaWVzIHRvIGxlYXJuIG1vcmUgYWJvdXQgZXJyb3IgYm91bmRhcmllcy4nO1xuICAgIH1cblxuICAgIHZhciBjb21iaW5lZE1lc3NhZ2UgPSBcIlwiICsgY29tcG9uZW50TmFtZU1lc3NhZ2UgKyBjb21wb25lbnRTdGFjayArIFwiXFxuXFxuXCIgKyAoXCJcIiArIGVycm9yQm91bmRhcnlNZXNzYWdlKTsgLy8gSW4gZGV2ZWxvcG1lbnQsIHdlIHByb3ZpZGUgb3VyIG93biBtZXNzYWdlIHdpdGgganVzdCB0aGUgY29tcG9uZW50IHN0YWNrLlxuICAgIC8vIFdlIGRvbid0IGluY2x1ZGUgdGhlIG9yaWdpbmFsIGVycm9yIG1lc3NhZ2UgYW5kIEpTIHN0YWNrIGJlY2F1c2UgdGhlIGJyb3dzZXJcbiAgICAvLyBoYXMgYWxyZWFkeSBwcmludGVkIGl0LiBFdmVuIGlmIHRoZSBhcHBsaWNhdGlvbiBzd2FsbG93cyB0aGUgZXJyb3IsIGl0IGlzIHN0aWxsXG4gICAgLy8gZGlzcGxheWVkIGJ5IHRoZSBicm93c2VyIHRoYW5rcyB0byB0aGUgREVWLW9ubHkgZmFrZSBldmVudCB0cmljayBpbiBSZWFjdEVycm9yVXRpbHMuXG5cbiAgICBjb25zb2xlLmVycm9yKGNvbWJpbmVkTWVzc2FnZSk7XG4gIH1cbn1cblxudmFyIGRpZFdhcm5BYm91dFVuZGVmaW5lZFNuYXBzaG90QmVmb3JlVXBkYXRlID0gbnVsbDtcblxue1xuICBkaWRXYXJuQWJvdXRVbmRlZmluZWRTbmFwc2hvdEJlZm9yZVVwZGF0ZSA9IG5ldyBTZXQoKTtcbn1cblxudmFyIFBvc3NpYmx5V2Vha1NldCA9IHR5cGVvZiBXZWFrU2V0ID09PSAnZnVuY3Rpb24nID8gV2Vha1NldCA6IFNldDtcbmZ1bmN0aW9uIGxvZ0Vycm9yKGJvdW5kYXJ5LCBlcnJvckluZm8pIHtcbiAgdmFyIHNvdXJjZSA9IGVycm9ySW5mby5zb3VyY2U7XG4gIHZhciBzdGFjayA9IGVycm9ySW5mby5zdGFjaztcblxuICBpZiAoc3RhY2sgPT09IG51bGwgJiYgc291cmNlICE9PSBudWxsKSB7XG4gICAgc3RhY2sgPSBnZXRTdGFja0J5RmliZXJJbkRldkFuZFByb2Qoc291cmNlKTtcbiAgfVxuXG4gIHZhciBjYXB0dXJlZEVycm9yID0ge1xuICAgIGNvbXBvbmVudE5hbWU6IHNvdXJjZSAhPT0gbnVsbCA/IGdldENvbXBvbmVudE5hbWUoc291cmNlLnR5cGUpIDogbnVsbCxcbiAgICBjb21wb25lbnRTdGFjazogc3RhY2sgIT09IG51bGwgPyBzdGFjayA6ICcnLFxuICAgIGVycm9yOiBlcnJvckluZm8udmFsdWUsXG4gICAgZXJyb3JCb3VuZGFyeTogbnVsbCxcbiAgICBlcnJvckJvdW5kYXJ5TmFtZTogbnVsbCxcbiAgICBlcnJvckJvdW5kYXJ5Rm91bmQ6IGZhbHNlLFxuICAgIHdpbGxSZXRyeTogZmFsc2VcbiAgfTtcblxuICBpZiAoYm91bmRhcnkgIT09IG51bGwgJiYgYm91bmRhcnkudGFnID09PSBDbGFzc0NvbXBvbmVudCkge1xuICAgIGNhcHR1cmVkRXJyb3IuZXJyb3JCb3VuZGFyeSA9IGJvdW5kYXJ5LnN0YXRlTm9kZTtcbiAgICBjYXB0dXJlZEVycm9yLmVycm9yQm91bmRhcnlOYW1lID0gZ2V0Q29tcG9uZW50TmFtZShib3VuZGFyeS50eXBlKTtcbiAgICBjYXB0dXJlZEVycm9yLmVycm9yQm91bmRhcnlGb3VuZCA9IHRydWU7XG4gICAgY2FwdHVyZWRFcnJvci53aWxsUmV0cnkgPSB0cnVlO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBsb2dDYXB0dXJlZEVycm9yKGNhcHR1cmVkRXJyb3IpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgLy8gVGhpcyBtZXRob2QgbXVzdCBub3QgdGhyb3csIG9yIFJlYWN0IGludGVybmFsIHN0YXRlIHdpbGwgZ2V0IG1lc3NlZCB1cC5cbiAgICAvLyBJZiBjb25zb2xlLmVycm9yIGlzIG92ZXJyaWRkZW4sIG9yIGxvZ0NhcHR1cmVkRXJyb3IoKSBzaG93cyBhIGRpYWxvZyB0aGF0IHRocm93cyxcbiAgICAvLyB3ZSB3YW50IHRvIHJlcG9ydCB0aGlzIGVycm9yIG91dHNpZGUgb2YgdGhlIG5vcm1hbCBzdGFjayBhcyBhIGxhc3QgcmVzb3J0LlxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvMTMxODhcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIHRocm93IGU7XG4gICAgfSk7XG4gIH1cbn1cblxudmFyIGNhbGxDb21wb25lbnRXaWxsVW5tb3VudFdpdGhUaW1lciA9IGZ1bmN0aW9uIChjdXJyZW50JCQxLCBpbnN0YW5jZSkge1xuICBzdGFydFBoYXNlVGltZXIoY3VycmVudCQkMSwgJ2NvbXBvbmVudFdpbGxVbm1vdW50Jyk7XG4gIGluc3RhbmNlLnByb3BzID0gY3VycmVudCQkMS5tZW1vaXplZFByb3BzO1xuICBpbnN0YW5jZS5zdGF0ZSA9IGN1cnJlbnQkJDEubWVtb2l6ZWRTdGF0ZTtcbiAgaW5zdGFuY2UuY29tcG9uZW50V2lsbFVubW91bnQoKTtcbiAgc3RvcFBoYXNlVGltZXIoKTtcbn07IC8vIENhcHR1cmUgZXJyb3JzIHNvIHRoZXkgZG9uJ3QgaW50ZXJydXB0IHVubW91bnRpbmcuXG5cblxuZnVuY3Rpb24gc2FmZWx5Q2FsbENvbXBvbmVudFdpbGxVbm1vdW50KGN1cnJlbnQkJDEsIGluc3RhbmNlKSB7XG4gIHtcbiAgICBpbnZva2VHdWFyZGVkQ2FsbGJhY2sobnVsbCwgY2FsbENvbXBvbmVudFdpbGxVbm1vdW50V2l0aFRpbWVyLCBudWxsLCBjdXJyZW50JCQxLCBpbnN0YW5jZSk7XG5cbiAgICBpZiAoaGFzQ2F1Z2h0RXJyb3IoKSkge1xuICAgICAgdmFyIHVubW91bnRFcnJvciA9IGNsZWFyQ2F1Z2h0RXJyb3IoKTtcbiAgICAgIGNhcHR1cmVDb21taXRQaGFzZUVycm9yKGN1cnJlbnQkJDEsIHVubW91bnRFcnJvcik7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHNhZmVseURldGFjaFJlZihjdXJyZW50JCQxKSB7XG4gIHZhciByZWYgPSBjdXJyZW50JCQxLnJlZjtcblxuICBpZiAocmVmICE9PSBudWxsKSB7XG4gICAgaWYgKHR5cGVvZiByZWYgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHtcbiAgICAgICAgaW52b2tlR3VhcmRlZENhbGxiYWNrKG51bGwsIHJlZiwgbnVsbCwgbnVsbCk7XG5cbiAgICAgICAgaWYgKGhhc0NhdWdodEVycm9yKCkpIHtcbiAgICAgICAgICB2YXIgcmVmRXJyb3IgPSBjbGVhckNhdWdodEVycm9yKCk7XG4gICAgICAgICAgY2FwdHVyZUNvbW1pdFBoYXNlRXJyb3IoY3VycmVudCQkMSwgcmVmRXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gc2FmZWx5Q2FsbERlc3Ryb3koY3VycmVudCQkMSwgZGVzdHJveSkge1xuICB7XG4gICAgaW52b2tlR3VhcmRlZENhbGxiYWNrKG51bGwsIGRlc3Ryb3ksIG51bGwpO1xuXG4gICAgaWYgKGhhc0NhdWdodEVycm9yKCkpIHtcbiAgICAgIHZhciBlcnJvciA9IGNsZWFyQ2F1Z2h0RXJyb3IoKTtcbiAgICAgIGNhcHR1cmVDb21taXRQaGFzZUVycm9yKGN1cnJlbnQkJDEsIGVycm9yKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gY29tbWl0QmVmb3JlTXV0YXRpb25MaWZlQ3ljbGVzKGN1cnJlbnQkJDEsIGZpbmlzaGVkV29yaykge1xuICBzd2l0Y2ggKGZpbmlzaGVkV29yay50YWcpIHtcbiAgICBjYXNlIEZ1bmN0aW9uQ29tcG9uZW50OlxuICAgIGNhc2UgRm9yd2FyZFJlZjpcbiAgICBjYXNlIFNpbXBsZU1lbW9Db21wb25lbnQ6XG4gICAgICB7XG4gICAgICAgIGNvbW1pdEhvb2tFZmZlY3RMaXN0KFVubW91bnRTbmFwc2hvdCwgTm9FZmZlY3QkMSwgZmluaXNoZWRXb3JrKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgY2FzZSBDbGFzc0NvbXBvbmVudDpcbiAgICAgIHtcbiAgICAgICAgaWYgKGZpbmlzaGVkV29yay5lZmZlY3RUYWcgJiBTbmFwc2hvdCkge1xuICAgICAgICAgIGlmIChjdXJyZW50JCQxICE9PSBudWxsKSB7XG4gICAgICAgICAgICB2YXIgcHJldlByb3BzID0gY3VycmVudCQkMS5tZW1vaXplZFByb3BzO1xuICAgICAgICAgICAgdmFyIHByZXZTdGF0ZSA9IGN1cnJlbnQkJDEubWVtb2l6ZWRTdGF0ZTtcbiAgICAgICAgICAgIHN0YXJ0UGhhc2VUaW1lcihmaW5pc2hlZFdvcmssICdnZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZScpO1xuICAgICAgICAgICAgdmFyIGluc3RhbmNlID0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZTsgLy8gV2UgY291bGQgdXBkYXRlIGluc3RhbmNlIHByb3BzIGFuZCBzdGF0ZSBoZXJlLFxuICAgICAgICAgICAgLy8gYnV0IGluc3RlYWQgd2UgcmVseSBvbiB0aGVtIGJlaW5nIHNldCBkdXJpbmcgbGFzdCByZW5kZXIuXG4gICAgICAgICAgICAvLyBUT0RPOiByZXZpc2l0IHRoaXMgd2hlbiB3ZSBpbXBsZW1lbnQgcmVzdW1pbmcuXG5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgaWYgKGZpbmlzaGVkV29yay50eXBlID09PSBmaW5pc2hlZFdvcmsuZWxlbWVudFR5cGUgJiYgIWRpZFdhcm5BYm91dFJlYXNzaWduaW5nUHJvcHMpIHtcbiAgICAgICAgICAgICAgICAhKGluc3RhbmNlLnByb3BzID09PSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRQcm9wcykgPyB3YXJuaW5nJDEoZmFsc2UsICdFeHBlY3RlZCAlcyBwcm9wcyB0byBtYXRjaCBtZW1vaXplZCBwcm9wcyBiZWZvcmUgJyArICdnZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZS4gJyArICdUaGlzIG1pZ2h0IGVpdGhlciBiZSBiZWNhdXNlIG9mIGEgYnVnIGluIFJlYWN0LCBvciBiZWNhdXNlICcgKyAnYSBjb21wb25lbnQgcmVhc3NpZ25zIGl0cyBvd24gYHRoaXMucHJvcHNgLiAnICsgJ1BsZWFzZSBmaWxlIGFuIGlzc3VlLicsIGdldENvbXBvbmVudE5hbWUoZmluaXNoZWRXb3JrLnR5cGUpIHx8ICdpbnN0YW5jZScpIDogdm9pZCAwO1xuICAgICAgICAgICAgICAgICEoaW5zdGFuY2Uuc3RhdGUgPT09IGZpbmlzaGVkV29yay5tZW1vaXplZFN0YXRlKSA/IHdhcm5pbmckMShmYWxzZSwgJ0V4cGVjdGVkICVzIHN0YXRlIHRvIG1hdGNoIG1lbW9pemVkIHN0YXRlIGJlZm9yZSAnICsgJ2dldFNuYXBzaG90QmVmb3JlVXBkYXRlLiAnICsgJ1RoaXMgbWlnaHQgZWl0aGVyIGJlIGJlY2F1c2Ugb2YgYSBidWcgaW4gUmVhY3QsIG9yIGJlY2F1c2UgJyArICdhIGNvbXBvbmVudCByZWFzc2lnbnMgaXRzIG93biBgdGhpcy5wcm9wc2AuICcgKyAnUGxlYXNlIGZpbGUgYW4gaXNzdWUuJywgZ2V0Q29tcG9uZW50TmFtZShmaW5pc2hlZFdvcmsudHlwZSkgfHwgJ2luc3RhbmNlJykgOiB2b2lkIDA7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHNuYXBzaG90ID0gaW5zdGFuY2UuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUoZmluaXNoZWRXb3JrLmVsZW1lbnRUeXBlID09PSBmaW5pc2hlZFdvcmsudHlwZSA/IHByZXZQcm9wcyA6IHJlc29sdmVEZWZhdWx0UHJvcHMoZmluaXNoZWRXb3JrLnR5cGUsIHByZXZQcm9wcyksIHByZXZTdGF0ZSk7XG5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdmFyIGRpZFdhcm5TZXQgPSBkaWRXYXJuQWJvdXRVbmRlZmluZWRTbmFwc2hvdEJlZm9yZVVwZGF0ZTtcblxuICAgICAgICAgICAgICBpZiAoc25hcHNob3QgPT09IHVuZGVmaW5lZCAmJiAhZGlkV2FyblNldC5oYXMoZmluaXNoZWRXb3JrLnR5cGUpKSB7XG4gICAgICAgICAgICAgICAgZGlkV2FyblNldC5hZGQoZmluaXNoZWRXb3JrLnR5cGUpO1xuICAgICAgICAgICAgICAgIHdhcm5pbmdXaXRob3V0U3RhY2skMShmYWxzZSwgJyVzLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlKCk6IEEgc25hcHNob3QgdmFsdWUgKG9yIG51bGwpICcgKyAnbXVzdCBiZSByZXR1cm5lZC4gWW91IGhhdmUgcmV0dXJuZWQgdW5kZWZpbmVkLicsIGdldENvbXBvbmVudE5hbWUoZmluaXNoZWRXb3JrLnR5cGUpKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpbnN0YW5jZS5fX3JlYWN0SW50ZXJuYWxTbmFwc2hvdEJlZm9yZVVwZGF0ZSA9IHNuYXBzaG90O1xuICAgICAgICAgICAgc3RvcFBoYXNlVGltZXIoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICBjYXNlIEhvc3RSb290OlxuICAgIGNhc2UgSG9zdENvbXBvbmVudDpcbiAgICBjYXNlIEhvc3RUZXh0OlxuICAgIGNhc2UgSG9zdFBvcnRhbDpcbiAgICBjYXNlIEluY29tcGxldGVDbGFzc0NvbXBvbmVudDpcbiAgICAgIC8vIE5vdGhpbmcgdG8gZG8gZm9yIHRoZXNlIGNvbXBvbmVudCB0eXBlc1xuICAgICAgcmV0dXJuO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHtcbiAgICAgICAge1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKFwiVGhpcyB1bml0IG9mIHdvcmsgdGFnIHNob3VsZCBub3QgaGF2ZSBzaWRlLWVmZmVjdHMuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGNvbW1pdEhvb2tFZmZlY3RMaXN0KHVubW91bnRUYWcsIG1vdW50VGFnLCBmaW5pc2hlZFdvcmspIHtcbiAgdmFyIHVwZGF0ZVF1ZXVlID0gZmluaXNoZWRXb3JrLnVwZGF0ZVF1ZXVlO1xuICB2YXIgbGFzdEVmZmVjdCA9IHVwZGF0ZVF1ZXVlICE9PSBudWxsID8gdXBkYXRlUXVldWUubGFzdEVmZmVjdCA6IG51bGw7XG5cbiAgaWYgKGxhc3RFZmZlY3QgIT09IG51bGwpIHtcbiAgICB2YXIgZmlyc3RFZmZlY3QgPSBsYXN0RWZmZWN0Lm5leHQ7XG4gICAgdmFyIGVmZmVjdCA9IGZpcnN0RWZmZWN0O1xuXG4gICAgZG8ge1xuICAgICAgaWYgKChlZmZlY3QudGFnICYgdW5tb3VudFRhZykgIT09IE5vRWZmZWN0JDEpIHtcbiAgICAgICAgLy8gVW5tb3VudFxuICAgICAgICB2YXIgZGVzdHJveSA9IGVmZmVjdC5kZXN0cm95O1xuICAgICAgICBlZmZlY3QuZGVzdHJveSA9IHVuZGVmaW5lZDtcblxuICAgICAgICBpZiAoZGVzdHJveSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICgoZWZmZWN0LnRhZyAmIG1vdW50VGFnKSAhPT0gTm9FZmZlY3QkMSkge1xuICAgICAgICAvLyBNb3VudFxuICAgICAgICB2YXIgY3JlYXRlID0gZWZmZWN0LmNyZWF0ZTtcbiAgICAgICAgZWZmZWN0LmRlc3Ryb3kgPSBjcmVhdGUoKTtcblxuICAgICAgICB7XG4gICAgICAgICAgdmFyIF9kZXN0cm95ID0gZWZmZWN0LmRlc3Ryb3k7XG5cbiAgICAgICAgICBpZiAoX2Rlc3Ryb3kgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgX2Rlc3Ryb3kgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHZhciBhZGRlbmR1bSA9IHZvaWQgMDtcblxuICAgICAgICAgICAgaWYgKF9kZXN0cm95ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgIGFkZGVuZHVtID0gJyBZb3UgcmV0dXJuZWQgbnVsbC4gSWYgeW91ciBlZmZlY3QgZG9lcyBub3QgcmVxdWlyZSBjbGVhbiAnICsgJ3VwLCByZXR1cm4gdW5kZWZpbmVkIChvciBub3RoaW5nKS4nO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgX2Rlc3Ryb3kudGhlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICBhZGRlbmR1bSA9ICdcXG5cXG5JdCBsb29rcyBsaWtlIHlvdSB3cm90ZSB1c2VFZmZlY3QoYXN5bmMgKCkgPT4gLi4uKSBvciByZXR1cm5lZCBhIFByb21pc2UuICcgKyAnSW5zdGVhZCwgd3JpdGUgdGhlIGFzeW5jIGZ1bmN0aW9uIGluc2lkZSB5b3VyIGVmZmVjdCAnICsgJ2FuZCBjYWxsIGl0IGltbWVkaWF0ZWx5OlxcblxcbicgKyAndXNlRWZmZWN0KCgpID0+IHtcXG4nICsgJyAgYXN5bmMgZnVuY3Rpb24gZmV0Y2hEYXRhKCkge1xcbicgKyAnICAgIC8vIFlvdSBjYW4gYXdhaXQgaGVyZVxcbicgKyAnICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgTXlBUEkuZ2V0RGF0YShzb21lSWQpO1xcbicgKyAnICAgIC8vIC4uLlxcbicgKyAnICB9XFxuJyArICcgIGZldGNoRGF0YSgpO1xcbicgKyBcIn0sIFtzb21lSWRdKTsgLy8gT3IgW10gaWYgZWZmZWN0IGRvZXNuJ3QgbmVlZCBwcm9wcyBvciBzdGF0ZVxcblxcblwiICsgJ0xlYXJuIG1vcmUgYWJvdXQgZGF0YSBmZXRjaGluZyB3aXRoIEhvb2tzOiBodHRwczovL2ZiLm1lL3JlYWN0LWhvb2tzLWRhdGEtZmV0Y2hpbmcnO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgYWRkZW5kdW0gPSAnIFlvdSByZXR1cm5lZDogJyArIF9kZXN0cm95O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB3YXJuaW5nV2l0aG91dFN0YWNrJDEoZmFsc2UsICdBbiBlZmZlY3QgZnVuY3Rpb24gbXVzdCBub3QgcmV0dXJuIGFueXRoaW5nIGJlc2lkZXMgYSBmdW5jdGlvbiwgJyArICd3aGljaCBpcyB1c2VkIGZvciBjbGVhbi11cC4lcyVzJywgYWRkZW5kdW0sIGdldFN0YWNrQnlGaWJlckluRGV2QW5kUHJvZChmaW5pc2hlZFdvcmspKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZWZmZWN0ID0gZWZmZWN0Lm5leHQ7XG4gICAgfSB3aGlsZSAoZWZmZWN0ICE9PSBmaXJzdEVmZmVjdCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY29tbWl0UGFzc2l2ZUhvb2tFZmZlY3RzKGZpbmlzaGVkV29yaykge1xuICBpZiAoKGZpbmlzaGVkV29yay5lZmZlY3RUYWcgJiBQYXNzaXZlKSAhPT0gTm9FZmZlY3QpIHtcbiAgICBzd2l0Y2ggKGZpbmlzaGVkV29yay50YWcpIHtcbiAgICAgIGNhc2UgRnVuY3Rpb25Db21wb25lbnQ6XG4gICAgICBjYXNlIEZvcndhcmRSZWY6XG4gICAgICBjYXNlIFNpbXBsZU1lbW9Db21wb25lbnQ6XG4gICAgICAgIHtcbiAgICAgICAgICBjb21taXRIb29rRWZmZWN0TGlzdChVbm1vdW50UGFzc2l2ZSwgTm9FZmZlY3QkMSwgZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBjb21taXRIb29rRWZmZWN0TGlzdChOb0VmZmVjdCQxLCBNb3VudFBhc3NpdmUsIGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGNvbW1pdExpZmVDeWNsZXMoZmluaXNoZWRSb290LCBjdXJyZW50JCQxLCBmaW5pc2hlZFdvcmssIGNvbW1pdHRlZEV4cGlyYXRpb25UaW1lKSB7XG4gIHN3aXRjaCAoZmluaXNoZWRXb3JrLnRhZykge1xuICAgIGNhc2UgRnVuY3Rpb25Db21wb25lbnQ6XG4gICAgY2FzZSBGb3J3YXJkUmVmOlxuICAgIGNhc2UgU2ltcGxlTWVtb0NvbXBvbmVudDpcbiAgICAgIHtcbiAgICAgICAgY29tbWl0SG9va0VmZmVjdExpc3QoVW5tb3VudExheW91dCwgTW91bnRMYXlvdXQsIGZpbmlzaGVkV29yayk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgY2FzZSBDbGFzc0NvbXBvbmVudDpcbiAgICAgIHtcbiAgICAgICAgdmFyIGluc3RhbmNlID0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZTtcblxuICAgICAgICBpZiAoZmluaXNoZWRXb3JrLmVmZmVjdFRhZyAmIFVwZGF0ZSkge1xuICAgICAgICAgIGlmIChjdXJyZW50JCQxID09PSBudWxsKSB7XG4gICAgICAgICAgICBzdGFydFBoYXNlVGltZXIoZmluaXNoZWRXb3JrLCAnY29tcG9uZW50RGlkTW91bnQnKTsgLy8gV2UgY291bGQgdXBkYXRlIGluc3RhbmNlIHByb3BzIGFuZCBzdGF0ZSBoZXJlLFxuICAgICAgICAgICAgLy8gYnV0IGluc3RlYWQgd2UgcmVseSBvbiB0aGVtIGJlaW5nIHNldCBkdXJpbmcgbGFzdCByZW5kZXIuXG4gICAgICAgICAgICAvLyBUT0RPOiByZXZpc2l0IHRoaXMgd2hlbiB3ZSBpbXBsZW1lbnQgcmVzdW1pbmcuXG5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgaWYgKGZpbmlzaGVkV29yay50eXBlID09PSBmaW5pc2hlZFdvcmsuZWxlbWVudFR5cGUgJiYgIWRpZFdhcm5BYm91dFJlYXNzaWduaW5nUHJvcHMpIHtcbiAgICAgICAgICAgICAgICAhKGluc3RhbmNlLnByb3BzID09PSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRQcm9wcykgPyB3YXJuaW5nJDEoZmFsc2UsICdFeHBlY3RlZCAlcyBwcm9wcyB0byBtYXRjaCBtZW1vaXplZCBwcm9wcyBiZWZvcmUgJyArICdjb21wb25lbnREaWRNb3VudC4gJyArICdUaGlzIG1pZ2h0IGVpdGhlciBiZSBiZWNhdXNlIG9mIGEgYnVnIGluIFJlYWN0LCBvciBiZWNhdXNlICcgKyAnYSBjb21wb25lbnQgcmVhc3NpZ25zIGl0cyBvd24gYHRoaXMucHJvcHNgLiAnICsgJ1BsZWFzZSBmaWxlIGFuIGlzc3VlLicsIGdldENvbXBvbmVudE5hbWUoZmluaXNoZWRXb3JrLnR5cGUpIHx8ICdpbnN0YW5jZScpIDogdm9pZCAwO1xuICAgICAgICAgICAgICAgICEoaW5zdGFuY2Uuc3RhdGUgPT09IGZpbmlzaGVkV29yay5tZW1vaXplZFN0YXRlKSA/IHdhcm5pbmckMShmYWxzZSwgJ0V4cGVjdGVkICVzIHN0YXRlIHRvIG1hdGNoIG1lbW9pemVkIHN0YXRlIGJlZm9yZSAnICsgJ2NvbXBvbmVudERpZE1vdW50LiAnICsgJ1RoaXMgbWlnaHQgZWl0aGVyIGJlIGJlY2F1c2Ugb2YgYSBidWcgaW4gUmVhY3QsIG9yIGJlY2F1c2UgJyArICdhIGNvbXBvbmVudCByZWFzc2lnbnMgaXRzIG93biBgdGhpcy5wcm9wc2AuICcgKyAnUGxlYXNlIGZpbGUgYW4gaXNzdWUuJywgZ2V0Q29tcG9uZW50TmFtZShmaW5pc2hlZFdvcmsudHlwZSkgfHwgJ2luc3RhbmNlJykgOiB2b2lkIDA7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaW5zdGFuY2UuY29tcG9uZW50RGlkTW91bnQoKTtcbiAgICAgICAgICAgIHN0b3BQaGFzZVRpbWVyKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBwcmV2UHJvcHMgPSBmaW5pc2hlZFdvcmsuZWxlbWVudFR5cGUgPT09IGZpbmlzaGVkV29yay50eXBlID8gY3VycmVudCQkMS5tZW1vaXplZFByb3BzIDogcmVzb2x2ZURlZmF1bHRQcm9wcyhmaW5pc2hlZFdvcmsudHlwZSwgY3VycmVudCQkMS5tZW1vaXplZFByb3BzKTtcbiAgICAgICAgICAgIHZhciBwcmV2U3RhdGUgPSBjdXJyZW50JCQxLm1lbW9pemVkU3RhdGU7XG4gICAgICAgICAgICBzdGFydFBoYXNlVGltZXIoZmluaXNoZWRXb3JrLCAnY29tcG9uZW50RGlkVXBkYXRlJyk7IC8vIFdlIGNvdWxkIHVwZGF0ZSBpbnN0YW5jZSBwcm9wcyBhbmQgc3RhdGUgaGVyZSxcbiAgICAgICAgICAgIC8vIGJ1dCBpbnN0ZWFkIHdlIHJlbHkgb24gdGhlbSBiZWluZyBzZXQgZHVyaW5nIGxhc3QgcmVuZGVyLlxuICAgICAgICAgICAgLy8gVE9ETzogcmV2aXNpdCB0aGlzIHdoZW4gd2UgaW1wbGVtZW50IHJlc3VtaW5nLlxuXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGlmIChmaW5pc2hlZFdvcmsudHlwZSA9PT0gZmluaXNoZWRXb3JrLmVsZW1lbnRUeXBlICYmICFkaWRXYXJuQWJvdXRSZWFzc2lnbmluZ1Byb3BzKSB7XG4gICAgICAgICAgICAgICAgIShpbnN0YW5jZS5wcm9wcyA9PT0gZmluaXNoZWRXb3JrLm1lbW9pemVkUHJvcHMpID8gd2FybmluZyQxKGZhbHNlLCAnRXhwZWN0ZWQgJXMgcHJvcHMgdG8gbWF0Y2ggbWVtb2l6ZWQgcHJvcHMgYmVmb3JlICcgKyAnY29tcG9uZW50RGlkVXBkYXRlLiAnICsgJ1RoaXMgbWlnaHQgZWl0aGVyIGJlIGJlY2F1c2Ugb2YgYSBidWcgaW4gUmVhY3QsIG9yIGJlY2F1c2UgJyArICdhIGNvbXBvbmVudCByZWFzc2lnbnMgaXRzIG93biBgdGhpcy5wcm9wc2AuICcgKyAnUGxlYXNlIGZpbGUgYW4gaXNzdWUuJywgZ2V0Q29tcG9uZW50TmFtZShmaW5pc2hlZFdvcmsudHlwZSkgfHwgJ2luc3RhbmNlJykgOiB2b2lkIDA7XG4gICAgICAgICAgICAgICAgIShpbnN0YW5jZS5zdGF0ZSA9PT0gZmluaXNoZWRXb3JrLm1lbW9pemVkU3RhdGUpID8gd2FybmluZyQxKGZhbHNlLCAnRXhwZWN0ZWQgJXMgc3RhdGUgdG8gbWF0Y2ggbWVtb2l6ZWQgc3RhdGUgYmVmb3JlICcgKyAnY29tcG9uZW50RGlkVXBkYXRlLiAnICsgJ1RoaXMgbWlnaHQgZWl0aGVyIGJlIGJlY2F1c2Ugb2YgYSBidWcgaW4gUmVhY3QsIG9yIGJlY2F1c2UgJyArICdhIGNvbXBvbmVudCByZWFzc2lnbnMgaXRzIG93biBgdGhpcy5wcm9wc2AuICcgKyAnUGxlYXNlIGZpbGUgYW4gaXNzdWUuJywgZ2V0Q29tcG9uZW50TmFtZShmaW5pc2hlZFdvcmsudHlwZSkgfHwgJ2luc3RhbmNlJykgOiB2b2lkIDA7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaW5zdGFuY2UuY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcywgcHJldlN0YXRlLCBpbnN0YW5jZS5fX3JlYWN0SW50ZXJuYWxTbmFwc2hvdEJlZm9yZVVwZGF0ZSk7XG4gICAgICAgICAgICBzdG9wUGhhc2VUaW1lcigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB1cGRhdGVRdWV1ZSA9IGZpbmlzaGVkV29yay51cGRhdGVRdWV1ZTtcblxuICAgICAgICBpZiAodXBkYXRlUXVldWUgIT09IG51bGwpIHtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpZiAoZmluaXNoZWRXb3JrLnR5cGUgPT09IGZpbmlzaGVkV29yay5lbGVtZW50VHlwZSAmJiAhZGlkV2FybkFib3V0UmVhc3NpZ25pbmdQcm9wcykge1xuICAgICAgICAgICAgICAhKGluc3RhbmNlLnByb3BzID09PSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRQcm9wcykgPyB3YXJuaW5nJDEoZmFsc2UsICdFeHBlY3RlZCAlcyBwcm9wcyB0byBtYXRjaCBtZW1vaXplZCBwcm9wcyBiZWZvcmUgJyArICdwcm9jZXNzaW5nIHRoZSB1cGRhdGUgcXVldWUuICcgKyAnVGhpcyBtaWdodCBlaXRoZXIgYmUgYmVjYXVzZSBvZiBhIGJ1ZyBpbiBSZWFjdCwgb3IgYmVjYXVzZSAnICsgJ2EgY29tcG9uZW50IHJlYXNzaWducyBpdHMgb3duIGB0aGlzLnByb3BzYC4gJyArICdQbGVhc2UgZmlsZSBhbiBpc3N1ZS4nLCBnZXRDb21wb25lbnROYW1lKGZpbmlzaGVkV29yay50eXBlKSB8fCAnaW5zdGFuY2UnKSA6IHZvaWQgMDtcbiAgICAgICAgICAgICAgIShpbnN0YW5jZS5zdGF0ZSA9PT0gZmluaXNoZWRXb3JrLm1lbW9pemVkU3RhdGUpID8gd2FybmluZyQxKGZhbHNlLCAnRXhwZWN0ZWQgJXMgc3RhdGUgdG8gbWF0Y2ggbWVtb2l6ZWQgc3RhdGUgYmVmb3JlICcgKyAncHJvY2Vzc2luZyB0aGUgdXBkYXRlIHF1ZXVlLiAnICsgJ1RoaXMgbWlnaHQgZWl0aGVyIGJlIGJlY2F1c2Ugb2YgYSBidWcgaW4gUmVhY3QsIG9yIGJlY2F1c2UgJyArICdhIGNvbXBvbmVudCByZWFzc2lnbnMgaXRzIG93biBgdGhpcy5wcm9wc2AuICcgKyAnUGxlYXNlIGZpbGUgYW4gaXNzdWUuJywgZ2V0Q29tcG9uZW50TmFtZShmaW5pc2hlZFdvcmsudHlwZSkgfHwgJ2luc3RhbmNlJykgOiB2b2lkIDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSAvLyBXZSBjb3VsZCB1cGRhdGUgaW5zdGFuY2UgcHJvcHMgYW5kIHN0YXRlIGhlcmUsXG4gICAgICAgICAgLy8gYnV0IGluc3RlYWQgd2UgcmVseSBvbiB0aGVtIGJlaW5nIHNldCBkdXJpbmcgbGFzdCByZW5kZXIuXG4gICAgICAgICAgLy8gVE9ETzogcmV2aXNpdCB0aGlzIHdoZW4gd2UgaW1wbGVtZW50IHJlc3VtaW5nLlxuXG5cbiAgICAgICAgICBjb21taXRVcGRhdGVRdWV1ZShmaW5pc2hlZFdvcmssIHVwZGF0ZVF1ZXVlLCBpbnN0YW5jZSwgY29tbWl0dGVkRXhwaXJhdGlvblRpbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgY2FzZSBIb3N0Um9vdDpcbiAgICAgIHtcbiAgICAgICAgdmFyIF91cGRhdGVRdWV1ZSA9IGZpbmlzaGVkV29yay51cGRhdGVRdWV1ZTtcblxuICAgICAgICBpZiAoX3VwZGF0ZVF1ZXVlICE9PSBudWxsKSB7XG4gICAgICAgICAgdmFyIF9pbnN0YW5jZSA9IG51bGw7XG5cbiAgICAgICAgICBpZiAoZmluaXNoZWRXb3JrLmNoaWxkICE9PSBudWxsKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGZpbmlzaGVkV29yay5jaGlsZC50YWcpIHtcbiAgICAgICAgICAgICAgY2FzZSBIb3N0Q29tcG9uZW50OlxuICAgICAgICAgICAgICAgIF9pbnN0YW5jZSA9IGdldFB1YmxpY0luc3RhbmNlKGZpbmlzaGVkV29yay5jaGlsZC5zdGF0ZU5vZGUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgQ2xhc3NDb21wb25lbnQ6XG4gICAgICAgICAgICAgICAgX2luc3RhbmNlID0gZmluaXNoZWRXb3JrLmNoaWxkLnN0YXRlTm9kZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb21taXRVcGRhdGVRdWV1ZShmaW5pc2hlZFdvcmssIF91cGRhdGVRdWV1ZSwgX2luc3RhbmNlLCBjb21taXR0ZWRFeHBpcmF0aW9uVGltZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICBjYXNlIEhvc3RDb21wb25lbnQ6XG4gICAgICB7XG4gICAgICAgIHZhciBfaW5zdGFuY2UyID0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZTsgLy8gUmVuZGVyZXJzIG1heSBzY2hlZHVsZSB3b3JrIHRvIGJlIGRvbmUgYWZ0ZXIgaG9zdCBjb21wb25lbnRzIGFyZSBtb3VudGVkXG4gICAgICAgIC8vIChlZyBET00gcmVuZGVyZXIgbWF5IHNjaGVkdWxlIGF1dG8tZm9jdXMgZm9yIGlucHV0cyBhbmQgZm9ybSBjb250cm9scykuXG4gICAgICAgIC8vIFRoZXNlIGVmZmVjdHMgc2hvdWxkIG9ubHkgYmUgY29tbWl0dGVkIHdoZW4gY29tcG9uZW50cyBhcmUgZmlyc3QgbW91bnRlZCxcbiAgICAgICAgLy8gYWthIHdoZW4gdGhlcmUgaXMgbm8gY3VycmVudC9hbHRlcm5hdGUuXG5cbiAgICAgICAgaWYgKGN1cnJlbnQkJDEgPT09IG51bGwgJiYgZmluaXNoZWRXb3JrLmVmZmVjdFRhZyAmIFVwZGF0ZSkge1xuICAgICAgICAgIHZhciB0eXBlID0gZmluaXNoZWRXb3JrLnR5cGU7XG4gICAgICAgICAgdmFyIHByb3BzID0gZmluaXNoZWRXb3JrLm1lbW9pemVkUHJvcHM7XG4gICAgICAgICAgY29tbWl0TW91bnQoX2luc3RhbmNlMiwgdHlwZSwgcHJvcHMsIGZpbmlzaGVkV29yayk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICBjYXNlIEhvc3RUZXh0OlxuICAgICAge1xuICAgICAgICAvLyBXZSBoYXZlIG5vIGxpZmUtY3ljbGVzIGFzc29jaWF0ZWQgd2l0aCB0ZXh0LlxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICBjYXNlIEhvc3RQb3J0YWw6XG4gICAgICB7XG4gICAgICAgIC8vIFdlIGhhdmUgbm8gbGlmZS1jeWNsZXMgYXNzb2NpYXRlZCB3aXRoIHBvcnRhbHMuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgIGNhc2UgUHJvZmlsZXI6XG4gICAgICB7XG4gICAgICAgIGlmIChlbmFibGVQcm9maWxlclRpbWVyKSB7XG4gICAgICAgICAgdmFyIG9uUmVuZGVyID0gZmluaXNoZWRXb3JrLm1lbW9pemVkUHJvcHMub25SZW5kZXI7XG5cbiAgICAgICAgICBpZiAodHlwZW9mIG9uUmVuZGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBpZiAoZW5hYmxlU2NoZWR1bGVyVHJhY2luZykge1xuICAgICAgICAgICAgICBvblJlbmRlcihmaW5pc2hlZFdvcmsubWVtb2l6ZWRQcm9wcy5pZCwgY3VycmVudCQkMSA9PT0gbnVsbCA/ICdtb3VudCcgOiAndXBkYXRlJywgZmluaXNoZWRXb3JrLmFjdHVhbER1cmF0aW9uLCBmaW5pc2hlZFdvcmsudHJlZUJhc2VEdXJhdGlvbiwgZmluaXNoZWRXb3JrLmFjdHVhbFN0YXJ0VGltZSwgZ2V0Q29tbWl0VGltZSgpLCBmaW5pc2hlZFJvb3QubWVtb2l6ZWRJbnRlcmFjdGlvbnMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgb25SZW5kZXIoZmluaXNoZWRXb3JrLm1lbW9pemVkUHJvcHMuaWQsIGN1cnJlbnQkJDEgPT09IG51bGwgPyAnbW91bnQnIDogJ3VwZGF0ZScsIGZpbmlzaGVkV29yay5hY3R1YWxEdXJhdGlvbiwgZmluaXNoZWRXb3JrLnRyZWVCYXNlRHVyYXRpb24sIGZpbmlzaGVkV29yay5hY3R1YWxTdGFydFRpbWUsIGdldENvbW1pdFRpbWUoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgY2FzZSBTdXNwZW5zZUNvbXBvbmVudDpcbiAgICAgIHtcbiAgICAgICAgY29tbWl0U3VzcGVuc2VIeWRyYXRpb25DYWxsYmFja3MoZmluaXNoZWRSb290LCBmaW5pc2hlZFdvcmspO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICBjYXNlIFN1c3BlbnNlTGlzdENvbXBvbmVudDpcbiAgICBjYXNlIEluY29tcGxldGVDbGFzc0NvbXBvbmVudDpcbiAgICBjYXNlIEZ1bmRhbWVudGFsQ29tcG9uZW50OlxuICAgIGNhc2UgU2NvcGVDb21wb25lbnQ6XG4gICAgICByZXR1cm47XG5cbiAgICBkZWZhdWx0OlxuICAgICAge1xuICAgICAgICB7XG4gICAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJUaGlzIHVuaXQgb2Ygd29yayB0YWcgc2hvdWxkIG5vdCBoYXZlIHNpZGUtZWZmZWN0cy4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gaGlkZU9yVW5oaWRlQWxsQ2hpbGRyZW4oZmluaXNoZWRXb3JrLCBpc0hpZGRlbikge1xuICBpZiAoc3VwcG9ydHNNdXRhdGlvbikge1xuICAgIC8vIFdlIG9ubHkgaGF2ZSB0aGUgdG9wIEZpYmVyIHRoYXQgd2FzIGluc2VydGVkIGJ1dCB3ZSBuZWVkIHRvIHJlY3Vyc2UgZG93biBpdHNcbiAgICAvLyBjaGlsZHJlbiB0byBmaW5kIGFsbCB0aGUgdGVybWluYWwgbm9kZXMuXG4gICAgdmFyIG5vZGUgPSBmaW5pc2hlZFdvcms7XG5cbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgaWYgKG5vZGUudGFnID09PSBIb3N0Q29tcG9uZW50KSB7XG4gICAgICAgIHZhciBpbnN0YW5jZSA9IG5vZGUuc3RhdGVOb2RlO1xuXG4gICAgICAgIGlmIChpc0hpZGRlbikge1xuICAgICAgICAgIGhpZGVJbnN0YW5jZShpbnN0YW5jZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdW5oaWRlSW5zdGFuY2Uobm9kZS5zdGF0ZU5vZGUsIG5vZGUubWVtb2l6ZWRQcm9wcyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAobm9kZS50YWcgPT09IEhvc3RUZXh0KSB7XG4gICAgICAgIHZhciBfaW5zdGFuY2UzID0gbm9kZS5zdGF0ZU5vZGU7XG5cbiAgICAgICAgaWYgKGlzSGlkZGVuKSB7XG4gICAgICAgICAgaGlkZVRleHRJbnN0YW5jZShfaW5zdGFuY2UzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB1bmhpZGVUZXh0SW5zdGFuY2UoX2luc3RhbmNlMywgbm9kZS5tZW1vaXplZFByb3BzKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChub2RlLnRhZyA9PT0gU3VzcGVuc2VDb21wb25lbnQgJiYgbm9kZS5tZW1vaXplZFN0YXRlICE9PSBudWxsICYmIG5vZGUubWVtb2l6ZWRTdGF0ZS5kZWh5ZHJhdGVkID09PSBudWxsKSB7XG4gICAgICAgIC8vIEZvdW5kIGEgbmVzdGVkIFN1c3BlbnNlIGNvbXBvbmVudCB0aGF0IHRpbWVkIG91dC4gU2tpcCBvdmVyIHRoZVxuICAgICAgICAvLyBwcmltYXJ5IGNoaWxkIGZyYWdtZW50LCB3aGljaCBzaG91bGQgcmVtYWluIGhpZGRlbi5cbiAgICAgICAgdmFyIGZhbGxiYWNrQ2hpbGRGcmFnbWVudCA9IG5vZGUuY2hpbGQuc2libGluZztcbiAgICAgICAgZmFsbGJhY2tDaGlsZEZyYWdtZW50LnJldHVybiA9IG5vZGU7XG4gICAgICAgIG5vZGUgPSBmYWxsYmFja0NoaWxkRnJhZ21lbnQ7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfSBlbHNlIGlmIChub2RlLmNoaWxkICE9PSBudWxsKSB7XG4gICAgICAgIG5vZGUuY2hpbGQucmV0dXJuID0gbm9kZTtcbiAgICAgICAgbm9kZSA9IG5vZGUuY2hpbGQ7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAobm9kZSA9PT0gZmluaXNoZWRXb3JrKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgd2hpbGUgKG5vZGUuc2libGluZyA9PT0gbnVsbCkge1xuICAgICAgICBpZiAobm9kZS5yZXR1cm4gPT09IG51bGwgfHwgbm9kZS5yZXR1cm4gPT09IGZpbmlzaGVkV29yaykge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIG5vZGUgPSBub2RlLnJldHVybjtcbiAgICAgIH1cblxuICAgICAgbm9kZS5zaWJsaW5nLnJldHVybiA9IG5vZGUucmV0dXJuO1xuICAgICAgbm9kZSA9IG5vZGUuc2libGluZztcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gY29tbWl0QXR0YWNoUmVmKGZpbmlzaGVkV29yaykge1xuICB2YXIgcmVmID0gZmluaXNoZWRXb3JrLnJlZjtcblxuICBpZiAocmVmICE9PSBudWxsKSB7XG4gICAgdmFyIGluc3RhbmNlID0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZTtcbiAgICB2YXIgaW5zdGFuY2VUb1VzZTtcblxuICAgIHN3aXRjaCAoZmluaXNoZWRXb3JrLnRhZykge1xuICAgICAgY2FzZSBIb3N0Q29tcG9uZW50OlxuICAgICAgICBpbnN0YW5jZVRvVXNlID0gZ2V0UHVibGljSW5zdGFuY2UoaW5zdGFuY2UpO1xuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaW5zdGFuY2VUb1VzZSA9IGluc3RhbmNlO1xuICAgIH0gLy8gTW92ZWQgb3V0c2lkZSB0byBlbnN1cmUgRENFIHdvcmtzIHdpdGggdGhpcyBmbGFnXG5cblxuICAgIGlmIChlbmFibGVTY29wZUFQSSAmJiBmaW5pc2hlZFdvcmsudGFnID09PSBTY29wZUNvbXBvbmVudCkge1xuICAgICAgaW5zdGFuY2VUb1VzZSA9IGluc3RhbmNlLm1ldGhvZHM7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiByZWYgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJlZihpbnN0YW5jZVRvVXNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAge1xuICAgICAgICBpZiAoIXJlZi5oYXNPd25Qcm9wZXJ0eSgnY3VycmVudCcpKSB7XG4gICAgICAgICAgd2FybmluZ1dpdGhvdXRTdGFjayQxKGZhbHNlLCAnVW5leHBlY3RlZCByZWYgb2JqZWN0IHByb3ZpZGVkIGZvciAlcy4gJyArICdVc2UgZWl0aGVyIGEgcmVmLXNldHRlciBmdW5jdGlvbiBvciBSZWFjdC5jcmVhdGVSZWYoKS4lcycsIGdldENvbXBvbmVudE5hbWUoZmluaXNoZWRXb3JrLnR5cGUpLCBnZXRTdGFja0J5RmliZXJJbkRldkFuZFByb2QoZmluaXNoZWRXb3JrKSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmVmLmN1cnJlbnQgPSBpbnN0YW5jZVRvVXNlO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBjb21taXREZXRhY2hSZWYoY3VycmVudCQkMSkge1xuICB2YXIgY3VycmVudFJlZiA9IGN1cnJlbnQkJDEucmVmO1xuXG4gIGlmIChjdXJyZW50UmVmICE9PSBudWxsKSB7XG4gICAgaWYgKHR5cGVvZiBjdXJyZW50UmVmID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjdXJyZW50UmVmKG51bGwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50UmVmLmN1cnJlbnQgPSBudWxsO1xuICAgIH1cbiAgfVxufSAvLyBVc2VyLW9yaWdpbmF0aW5nIGVycm9ycyAobGlmZWN5Y2xlcyBhbmQgcmVmcykgc2hvdWxkIG5vdCBpbnRlcnJ1cHRcbi8vIGRlbGV0aW9uLCBzbyBkb24ndCBsZXQgdGhlbSB0aHJvdy4gSG9zdC1vcmlnaW5hdGluZyBlcnJvcnMgc2hvdWxkXG4vLyBpbnRlcnJ1cHQgZGVsZXRpb24sIHNvIGl0J3Mgb2theVxuXG5cbmZ1bmN0aW9uIGNvbW1pdFVubW91bnQoZmluaXNoZWRSb290LCBjdXJyZW50JCQxLCByZW5kZXJQcmlvcml0eUxldmVsKSB7XG4gIG9uQ29tbWl0VW5tb3VudChjdXJyZW50JCQxKTtcblxuICBzd2l0Y2ggKGN1cnJlbnQkJDEudGFnKSB7XG4gICAgY2FzZSBGdW5jdGlvbkNvbXBvbmVudDpcbiAgICBjYXNlIEZvcndhcmRSZWY6XG4gICAgY2FzZSBNZW1vQ29tcG9uZW50OlxuICAgIGNhc2UgU2ltcGxlTWVtb0NvbXBvbmVudDpcbiAgICAgIHtcbiAgICAgICAgdmFyIHVwZGF0ZVF1ZXVlID0gY3VycmVudCQkMS51cGRhdGVRdWV1ZTtcblxuICAgICAgICBpZiAodXBkYXRlUXVldWUgIT09IG51bGwpIHtcbiAgICAgICAgICB2YXIgbGFzdEVmZmVjdCA9IHVwZGF0ZVF1ZXVlLmxhc3RFZmZlY3Q7XG5cbiAgICAgICAgICBpZiAobGFzdEVmZmVjdCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIGZpcnN0RWZmZWN0ID0gbGFzdEVmZmVjdC5uZXh0OyAvLyBXaGVuIHRoZSBvd25lciBmaWJlciBpcyBkZWxldGVkLCB0aGUgZGVzdHJveSBmdW5jdGlvbiBvZiBhIHBhc3NpdmVcbiAgICAgICAgICAgIC8vIGVmZmVjdCBob29rIGlzIGNhbGxlZCBkdXJpbmcgdGhlIHN5bmNocm9ub3VzIGNvbW1pdCBwaGFzZS4gVGhpcyBpc1xuICAgICAgICAgICAgLy8gYSBjb25jZXNzaW9uIHRvIGltcGxlbWVudGF0aW9uIGNvbXBsZXhpdHkuIENhbGxpbmcgaXQgaW4gdGhlXG4gICAgICAgICAgICAvLyBwYXNzaXZlIGVmZmVjdCBwaGFzZSAobGlrZSB0aGV5IHVzdWFsbHkgYXJlLCB3aGVuIGRlcGVuZGVuY2llc1xuICAgICAgICAgICAgLy8gY2hhbmdlIGR1cmluZyBhbiB1cGRhdGUpIHdvdWxkIHJlcXVpcmUgZWl0aGVyIHRyYXZlcnNpbmcgdGhlXG4gICAgICAgICAgICAvLyBjaGlsZHJlbiBvZiB0aGUgZGVsZXRlZCBmaWJlciBhZ2Fpbiwgb3IgaW5jbHVkaW5nIHVubW91bnQgZWZmZWN0c1xuICAgICAgICAgICAgLy8gYXMgcGFydCBvZiB0aGUgZmliZXIgZWZmZWN0IGxpc3QuXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gQmVjYXVzZSB0aGlzIGlzIGR1cmluZyB0aGUgc3luYyBjb21taXQgcGhhc2UsIHdlIG5lZWQgdG8gY2hhbmdlXG4gICAgICAgICAgICAvLyB0aGUgcHJpb3JpdHkuXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gVE9ETzogUmVjb25zaWRlciB0aGlzIGltcGxlbWVudGF0aW9uIHRyYWRlIG9mZi5cblxuICAgICAgICAgICAgdmFyIHByaW9yaXR5TGV2ZWwgPSByZW5kZXJQcmlvcml0eUxldmVsID4gTm9ybWFsUHJpb3JpdHkgPyBOb3JtYWxQcmlvcml0eSA6IHJlbmRlclByaW9yaXR5TGV2ZWw7XG4gICAgICAgICAgICBydW5XaXRoUHJpb3JpdHkkMihwcmlvcml0eUxldmVsLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHZhciBlZmZlY3QgPSBmaXJzdEVmZmVjdDtcblxuICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgdmFyIGRlc3Ryb3kgPSBlZmZlY3QuZGVzdHJveTtcblxuICAgICAgICAgICAgICAgIGlmIChkZXN0cm95ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgIHNhZmVseUNhbGxEZXN0cm95KGN1cnJlbnQkJDEsIGRlc3Ryb3kpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGVmZmVjdCA9IGVmZmVjdC5uZXh0O1xuICAgICAgICAgICAgICB9IHdoaWxlIChlZmZlY3QgIT09IGZpcnN0RWZmZWN0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgY2FzZSBDbGFzc0NvbXBvbmVudDpcbiAgICAgIHtcbiAgICAgICAgc2FmZWx5RGV0YWNoUmVmKGN1cnJlbnQkJDEpO1xuICAgICAgICB2YXIgaW5zdGFuY2UgPSBjdXJyZW50JCQxLnN0YXRlTm9kZTtcblxuICAgICAgICBpZiAodHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudFdpbGxVbm1vdW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgc2FmZWx5Q2FsbENvbXBvbmVudFdpbGxVbm1vdW50KGN1cnJlbnQkJDEsIGluc3RhbmNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgIGNhc2UgSG9zdENvbXBvbmVudDpcbiAgICAgIHtcbiAgICAgICAgaWYgKGVuYWJsZUZsYXJlQVBJKSB7XG4gICAgICAgICAgdmFyIGRlcGVuZGVuY2llcyA9IGN1cnJlbnQkJDEuZGVwZW5kZW5jaWVzO1xuXG4gICAgICAgICAgaWYgKGRlcGVuZGVuY2llcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIHJlc3BvbmRlcnNNYXAgPSBkZXBlbmRlbmNpZXMucmVzcG9uZGVycztcblxuICAgICAgICAgICAgaWYgKHJlc3BvbmRlcnNNYXAgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgdmFyIHJlc3BvbmRlckluc3RhbmNlcyA9IEFycmF5LmZyb20ocmVzcG9uZGVyc01hcC52YWx1ZXMoKSk7XG5cbiAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IHJlc3BvbmRlckluc3RhbmNlcy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciByZXNwb25kZXJJbnN0YW5jZSA9IHJlc3BvbmRlckluc3RhbmNlc1tpXTtcbiAgICAgICAgICAgICAgICB1bm1vdW50UmVzcG9uZGVySW5zdGFuY2UocmVzcG9uZGVySW5zdGFuY2UpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgZGVwZW5kZW5jaWVzLnJlc3BvbmRlcnMgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHNhZmVseURldGFjaFJlZihjdXJyZW50JCQxKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgY2FzZSBIb3N0UG9ydGFsOlxuICAgICAge1xuICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIHJlY3Vyc2l2ZS5cbiAgICAgICAgLy8gV2UgYXJlIGFsc28gbm90IHVzaW5nIHRoaXMgcGFyZW50IGJlY2F1c2VcbiAgICAgICAgLy8gdGhlIHBvcnRhbCB3aWxsIGdldCBwdXNoZWQgaW1tZWRpYXRlbHkuXG4gICAgICAgIGlmIChzdXBwb3J0c011dGF0aW9uKSB7XG4gICAgICAgICAgdW5tb3VudEhvc3RDb21wb25lbnRzKGZpbmlzaGVkUm9vdCwgY3VycmVudCQkMSwgcmVuZGVyUHJpb3JpdHlMZXZlbCk7XG4gICAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydHNQZXJzaXN0ZW5jZSkge1xuICAgICAgICAgIGVtcHR5UG9ydGFsQ29udGFpbmVyKGN1cnJlbnQkJDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgY2FzZSBGdW5kYW1lbnRhbENvbXBvbmVudDpcbiAgICAgIHtcbiAgICAgICAgaWYgKGVuYWJsZUZ1bmRhbWVudGFsQVBJKSB7XG4gICAgICAgICAgdmFyIGZ1bmRhbWVudGFsSW5zdGFuY2UgPSBjdXJyZW50JCQxLnN0YXRlTm9kZTtcblxuICAgICAgICAgIGlmIChmdW5kYW1lbnRhbEluc3RhbmNlICE9PSBudWxsKSB7XG4gICAgICAgICAgICB1bm1vdW50RnVuZGFtZW50YWxDb21wb25lbnQoZnVuZGFtZW50YWxJbnN0YW5jZSk7XG4gICAgICAgICAgICBjdXJyZW50JCQxLnN0YXRlTm9kZSA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgY2FzZSBEZWh5ZHJhdGVkRnJhZ21lbnQ6XG4gICAgICB7XG4gICAgICAgIGlmIChlbmFibGVTdXNwZW5zZUNhbGxiYWNrKSB7XG4gICAgICAgICAgdmFyIGh5ZHJhdGlvbkNhbGxiYWNrcyA9IGZpbmlzaGVkUm9vdC5oeWRyYXRpb25DYWxsYmFja3M7XG5cbiAgICAgICAgICBpZiAoaHlkcmF0aW9uQ2FsbGJhY2tzICE9PSBudWxsKSB7XG4gICAgICAgICAgICB2YXIgb25EZWxldGVkID0gaHlkcmF0aW9uQ2FsbGJhY2tzLm9uRGVsZXRlZDtcblxuICAgICAgICAgICAgaWYgKG9uRGVsZXRlZCkge1xuICAgICAgICAgICAgICBvbkRlbGV0ZWQoY3VycmVudCQkMS5zdGF0ZU5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgIGNhc2UgU2NvcGVDb21wb25lbnQ6XG4gICAgICB7XG4gICAgICAgIGlmIChlbmFibGVTY29wZUFQSSkge1xuICAgICAgICAgIHNhZmVseURldGFjaFJlZihjdXJyZW50JCQxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGNvbW1pdE5lc3RlZFVubW91bnRzKGZpbmlzaGVkUm9vdCwgcm9vdCwgcmVuZGVyUHJpb3JpdHlMZXZlbCkge1xuICAvLyBXaGlsZSB3ZSdyZSBpbnNpZGUgYSByZW1vdmVkIGhvc3Qgbm9kZSB3ZSBkb24ndCB3YW50IHRvIGNhbGxcbiAgLy8gcmVtb3ZlQ2hpbGQgb24gdGhlIGlubmVyIG5vZGVzIGJlY2F1c2UgdGhleSdyZSByZW1vdmVkIGJ5IHRoZSB0b3BcbiAgLy8gY2FsbCBhbnl3YXkuIFdlIGFsc28gd2FudCB0byBjYWxsIGNvbXBvbmVudFdpbGxVbm1vdW50IG9uIGFsbFxuICAvLyBjb21wb3NpdGVzIGJlZm9yZSB0aGlzIGhvc3Qgbm9kZSBpcyByZW1vdmVkIGZyb20gdGhlIHRyZWUuIFRoZXJlZm9yZVxuICAvLyB3ZSBkbyBhbiBpbm5lciBsb29wIHdoaWxlIHdlJ3JlIHN0aWxsIGluc2lkZSB0aGUgaG9zdCBub2RlLlxuICB2YXIgbm9kZSA9IHJvb3Q7XG5cbiAgd2hpbGUgKHRydWUpIHtcbiAgICBjb21taXRVbm1vdW50KGZpbmlzaGVkUm9vdCwgbm9kZSwgcmVuZGVyUHJpb3JpdHlMZXZlbCk7IC8vIFZpc2l0IGNoaWxkcmVuIGJlY2F1c2UgdGhleSBtYXkgY29udGFpbiBtb3JlIGNvbXBvc2l0ZSBvciBob3N0IG5vZGVzLlxuICAgIC8vIFNraXAgcG9ydGFscyBiZWNhdXNlIGNvbW1pdFVubW91bnQoKSBjdXJyZW50bHkgdmlzaXRzIHRoZW0gcmVjdXJzaXZlbHkuXG5cbiAgICBpZiAobm9kZS5jaGlsZCAhPT0gbnVsbCAmJiAoIC8vIElmIHdlIHVzZSBtdXRhdGlvbiB3ZSBkcmlsbCBkb3duIGludG8gcG9ydGFscyB1c2luZyBjb21taXRVbm1vdW50IGFib3ZlLlxuICAgIC8vIElmIHdlIGRvbid0IHVzZSBtdXRhdGlvbiB3ZSBkcmlsbCBkb3duIGludG8gcG9ydGFscyBoZXJlIGluc3RlYWQuXG4gICAgIXN1cHBvcnRzTXV0YXRpb24gfHwgbm9kZS50YWcgIT09IEhvc3RQb3J0YWwpKSB7XG4gICAgICBub2RlLmNoaWxkLnJldHVybiA9IG5vZGU7XG4gICAgICBub2RlID0gbm9kZS5jaGlsZDtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGlmIChub2RlID09PSByb290KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgd2hpbGUgKG5vZGUuc2libGluZyA9PT0gbnVsbCkge1xuICAgICAgaWYgKG5vZGUucmV0dXJuID09PSBudWxsIHx8IG5vZGUucmV0dXJuID09PSByb290KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgbm9kZSA9IG5vZGUucmV0dXJuO1xuICAgIH1cblxuICAgIG5vZGUuc2libGluZy5yZXR1cm4gPSBub2RlLnJldHVybjtcbiAgICBub2RlID0gbm9kZS5zaWJsaW5nO1xuICB9XG59XG5cbmZ1bmN0aW9uIGRldGFjaEZpYmVyKGN1cnJlbnQkJDEpIHtcbiAgdmFyIGFsdGVybmF0ZSA9IGN1cnJlbnQkJDEuYWx0ZXJuYXRlOyAvLyBDdXQgb2ZmIHRoZSByZXR1cm4gcG9pbnRlcnMgdG8gZGlzY29ubmVjdCBpdCBmcm9tIHRoZSB0cmVlLiBJZGVhbGx5LCB3ZVxuICAvLyBzaG91bGQgY2xlYXIgdGhlIGNoaWxkIHBvaW50ZXIgb2YgdGhlIHBhcmVudCBhbHRlcm5hdGUgdG8gbGV0IHRoaXNcbiAgLy8gZ2V0IEdDOmVkIGJ1dCB3ZSBkb24ndCBrbm93IHdoaWNoIGZvciBzdXJlIHdoaWNoIHBhcmVudCBpcyB0aGUgY3VycmVudFxuICAvLyBvbmUgc28gd2UnbGwgc2V0dGxlIGZvciBHQzppbmcgdGhlIHN1YnRyZWUgb2YgdGhpcyBjaGlsZC4gVGhpcyBjaGlsZFxuICAvLyBpdHNlbGYgd2lsbCBiZSBHQzplZCB3aGVuIHRoZSBwYXJlbnQgdXBkYXRlcyB0aGUgbmV4dCB0aW1lLlxuXG4gIGN1cnJlbnQkJDEucmV0dXJuID0gbnVsbDtcbiAgY3VycmVudCQkMS5jaGlsZCA9IG51bGw7XG4gIGN1cnJlbnQkJDEubWVtb2l6ZWRTdGF0ZSA9IG51bGw7XG4gIGN1cnJlbnQkJDEudXBkYXRlUXVldWUgPSBudWxsO1xuICBjdXJyZW50JCQxLmRlcGVuZGVuY2llcyA9IG51bGw7XG4gIGN1cnJlbnQkJDEuYWx0ZXJuYXRlID0gbnVsbDtcbiAgY3VycmVudCQkMS5maXJzdEVmZmVjdCA9IG51bGw7XG4gIGN1cnJlbnQkJDEubGFzdEVmZmVjdCA9IG51bGw7XG4gIGN1cnJlbnQkJDEucGVuZGluZ1Byb3BzID0gbnVsbDtcbiAgY3VycmVudCQkMS5tZW1vaXplZFByb3BzID0gbnVsbDtcblxuICBpZiAoYWx0ZXJuYXRlICE9PSBudWxsKSB7XG4gICAgZGV0YWNoRmliZXIoYWx0ZXJuYXRlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBlbXB0eVBvcnRhbENvbnRhaW5lcihjdXJyZW50JCQxKSB7XG4gIGlmICghc3VwcG9ydHNQZXJzaXN0ZW5jZSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBwb3J0YWwgPSBjdXJyZW50JCQxLnN0YXRlTm9kZTtcbiAgdmFyIGNvbnRhaW5lckluZm8gPSBwb3J0YWwuY29udGFpbmVySW5mbztcbiAgdmFyIGVtcHR5Q2hpbGRTZXQgPSBjcmVhdGVDb250YWluZXJDaGlsZFNldChjb250YWluZXJJbmZvKTtcbiAgcmVwbGFjZUNvbnRhaW5lckNoaWxkcmVuKGNvbnRhaW5lckluZm8sIGVtcHR5Q2hpbGRTZXQpO1xufVxuXG5mdW5jdGlvbiBjb21taXRDb250YWluZXIoZmluaXNoZWRXb3JrKSB7XG4gIGlmICghc3VwcG9ydHNQZXJzaXN0ZW5jZSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHN3aXRjaCAoZmluaXNoZWRXb3JrLnRhZykge1xuICAgIGNhc2UgQ2xhc3NDb21wb25lbnQ6XG4gICAgY2FzZSBIb3N0Q29tcG9uZW50OlxuICAgIGNhc2UgSG9zdFRleHQ6XG4gICAgY2FzZSBGdW5kYW1lbnRhbENvbXBvbmVudDpcbiAgICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgY2FzZSBIb3N0Um9vdDpcbiAgICBjYXNlIEhvc3RQb3J0YWw6XG4gICAgICB7XG4gICAgICAgIHZhciBwb3J0YWxPclJvb3QgPSBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlO1xuICAgICAgICB2YXIgY29udGFpbmVySW5mbyA9IHBvcnRhbE9yUm9vdC5jb250YWluZXJJbmZvLFxuICAgICAgICAgICAgcGVuZGluZ0NoaWxkcmVuID0gcG9ydGFsT3JSb290LnBlbmRpbmdDaGlsZHJlbjtcbiAgICAgICAgcmVwbGFjZUNvbnRhaW5lckNoaWxkcmVuKGNvbnRhaW5lckluZm8sIHBlbmRpbmdDaGlsZHJlbik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgIGRlZmF1bHQ6XG4gICAgICB7XG4gICAgICAgIHtcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcIlRoaXMgdW5pdCBvZiB3b3JrIHRhZyBzaG91bGQgbm90IGhhdmUgc2lkZS1lZmZlY3RzLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRIb3N0UGFyZW50RmliZXIoZmliZXIpIHtcbiAgdmFyIHBhcmVudCA9IGZpYmVyLnJldHVybjtcblxuICB3aGlsZSAocGFyZW50ICE9PSBudWxsKSB7XG4gICAgaWYgKGlzSG9zdFBhcmVudChwYXJlbnQpKSB7XG4gICAgICByZXR1cm4gcGFyZW50O1xuICAgIH1cblxuICAgIHBhcmVudCA9IHBhcmVudC5yZXR1cm47XG4gIH1cblxuICB7XG4gICAge1xuICAgICAgdGhyb3cgRXJyb3IoXCJFeHBlY3RlZCB0byBmaW5kIGEgaG9zdCBwYXJlbnQuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCIpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBpc0hvc3RQYXJlbnQoZmliZXIpIHtcbiAgcmV0dXJuIGZpYmVyLnRhZyA9PT0gSG9zdENvbXBvbmVudCB8fCBmaWJlci50YWcgPT09IEhvc3RSb290IHx8IGZpYmVyLnRhZyA9PT0gSG9zdFBvcnRhbDtcbn1cblxuZnVuY3Rpb24gZ2V0SG9zdFNpYmxpbmcoZmliZXIpIHtcbiAgLy8gV2UncmUgZ29pbmcgdG8gc2VhcmNoIGZvcndhcmQgaW50byB0aGUgdHJlZSB1bnRpbCB3ZSBmaW5kIGEgc2libGluZyBob3N0XG4gIC8vIG5vZGUuIFVuZm9ydHVuYXRlbHksIGlmIG11bHRpcGxlIGluc2VydGlvbnMgYXJlIGRvbmUgaW4gYSByb3cgd2UgaGF2ZSB0b1xuICAvLyBzZWFyY2ggcGFzdCB0aGVtLiBUaGlzIGxlYWRzIHRvIGV4cG9uZW50aWFsIHNlYXJjaCBmb3IgdGhlIG5leHQgc2libGluZy5cbiAgLy8gVE9ETzogRmluZCBhIG1vcmUgZWZmaWNpZW50IHdheSB0byBkbyB0aGlzLlxuICB2YXIgbm9kZSA9IGZpYmVyO1xuXG4gIHNpYmxpbmdzOiB3aGlsZSAodHJ1ZSkge1xuICAgIC8vIElmIHdlIGRpZG4ndCBmaW5kIGFueXRoaW5nLCBsZXQncyB0cnkgdGhlIG5leHQgc2libGluZy5cbiAgICB3aGlsZSAobm9kZS5zaWJsaW5nID09PSBudWxsKSB7XG4gICAgICBpZiAobm9kZS5yZXR1cm4gPT09IG51bGwgfHwgaXNIb3N0UGFyZW50KG5vZGUucmV0dXJuKSkge1xuICAgICAgICAvLyBJZiB3ZSBwb3Agb3V0IG9mIHRoZSByb290IG9yIGhpdCB0aGUgcGFyZW50IHRoZSBmaWJlciB3ZSBhcmUgdGhlXG4gICAgICAgIC8vIGxhc3Qgc2libGluZy5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIG5vZGUgPSBub2RlLnJldHVybjtcbiAgICB9XG5cbiAgICBub2RlLnNpYmxpbmcucmV0dXJuID0gbm9kZS5yZXR1cm47XG4gICAgbm9kZSA9IG5vZGUuc2libGluZztcblxuICAgIHdoaWxlIChub2RlLnRhZyAhPT0gSG9zdENvbXBvbmVudCAmJiBub2RlLnRhZyAhPT0gSG9zdFRleHQgJiYgbm9kZS50YWcgIT09IERlaHlkcmF0ZWRGcmFnbWVudCkge1xuICAgICAgLy8gSWYgaXQgaXMgbm90IGhvc3Qgbm9kZSBhbmQsIHdlIG1pZ2h0IGhhdmUgYSBob3N0IG5vZGUgaW5zaWRlIGl0LlxuICAgICAgLy8gVHJ5IHRvIHNlYXJjaCBkb3duIHVudGlsIHdlIGZpbmQgb25lLlxuICAgICAgaWYgKG5vZGUuZWZmZWN0VGFnICYgUGxhY2VtZW50KSB7XG4gICAgICAgIC8vIElmIHdlIGRvbid0IGhhdmUgYSBjaGlsZCwgdHJ5IHRoZSBzaWJsaW5ncyBpbnN0ZWFkLlxuICAgICAgICBjb250aW51ZSBzaWJsaW5ncztcbiAgICAgIH0gLy8gSWYgd2UgZG9uJ3QgaGF2ZSBhIGNoaWxkLCB0cnkgdGhlIHNpYmxpbmdzIGluc3RlYWQuXG4gICAgICAvLyBXZSBhbHNvIHNraXAgcG9ydGFscyBiZWNhdXNlIHRoZXkgYXJlIG5vdCBwYXJ0IG9mIHRoaXMgaG9zdCB0cmVlLlxuXG5cbiAgICAgIGlmIChub2RlLmNoaWxkID09PSBudWxsIHx8IG5vZGUudGFnID09PSBIb3N0UG9ydGFsKSB7XG4gICAgICAgIGNvbnRpbnVlIHNpYmxpbmdzO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbm9kZS5jaGlsZC5yZXR1cm4gPSBub2RlO1xuICAgICAgICBub2RlID0gbm9kZS5jaGlsZDtcbiAgICAgIH1cbiAgICB9IC8vIENoZWNrIGlmIHRoaXMgaG9zdCBub2RlIGlzIHN0YWJsZSBvciBhYm91dCB0byBiZSBwbGFjZWQuXG5cblxuICAgIGlmICghKG5vZGUuZWZmZWN0VGFnICYgUGxhY2VtZW50KSkge1xuICAgICAgLy8gRm91bmQgaXQhXG4gICAgICByZXR1cm4gbm9kZS5zdGF0ZU5vZGU7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGNvbW1pdFBsYWNlbWVudChmaW5pc2hlZFdvcmspIHtcbiAgaWYgKCFzdXBwb3J0c011dGF0aW9uKSB7XG4gICAgcmV0dXJuO1xuICB9IC8vIFJlY3Vyc2l2ZWx5IGluc2VydCBhbGwgaG9zdCBub2RlcyBpbnRvIHRoZSBwYXJlbnQuXG5cblxuICB2YXIgcGFyZW50RmliZXIgPSBnZXRIb3N0UGFyZW50RmliZXIoZmluaXNoZWRXb3JrKTsgLy8gTm90ZTogdGhlc2UgdHdvIHZhcmlhYmxlcyAqbXVzdCogYWx3YXlzIGJlIHVwZGF0ZWQgdG9nZXRoZXIuXG5cbiAgdmFyIHBhcmVudDtcbiAgdmFyIGlzQ29udGFpbmVyO1xuICB2YXIgcGFyZW50U3RhdGVOb2RlID0gcGFyZW50RmliZXIuc3RhdGVOb2RlO1xuXG4gIHN3aXRjaCAocGFyZW50RmliZXIudGFnKSB7XG4gICAgY2FzZSBIb3N0Q29tcG9uZW50OlxuICAgICAgcGFyZW50ID0gcGFyZW50U3RhdGVOb2RlO1xuICAgICAgaXNDb250YWluZXIgPSBmYWxzZTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBIb3N0Um9vdDpcbiAgICAgIHBhcmVudCA9IHBhcmVudFN0YXRlTm9kZS5jb250YWluZXJJbmZvO1xuICAgICAgaXNDb250YWluZXIgPSB0cnVlO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIEhvc3RQb3J0YWw6XG4gICAgICBwYXJlbnQgPSBwYXJlbnRTdGF0ZU5vZGUuY29udGFpbmVySW5mbztcbiAgICAgIGlzQ29udGFpbmVyID0gdHJ1ZTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBGdW5kYW1lbnRhbENvbXBvbmVudDpcbiAgICAgIGlmIChlbmFibGVGdW5kYW1lbnRhbEFQSSkge1xuICAgICAgICBwYXJlbnQgPSBwYXJlbnRTdGF0ZU5vZGUuaW5zdGFuY2U7XG4gICAgICAgIGlzQ29udGFpbmVyID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUtbm8tZmFsbHRocm91Z2hcblxuICAgIGRlZmF1bHQ6XG4gICAgICB7XG4gICAgICAgIHtcbiAgICAgICAgICB0aHJvdyBFcnJvcihcIkludmFsaWQgaG9zdCBwYXJlbnQgZmliZXIuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCIpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgfVxuXG4gIGlmIChwYXJlbnRGaWJlci5lZmZlY3RUYWcgJiBDb250ZW50UmVzZXQpIHtcbiAgICAvLyBSZXNldCB0aGUgdGV4dCBjb250ZW50IG9mIHRoZSBwYXJlbnQgYmVmb3JlIGRvaW5nIGFueSBpbnNlcnRpb25zXG4gICAgcmVzZXRUZXh0Q29udGVudChwYXJlbnQpOyAvLyBDbGVhciBDb250ZW50UmVzZXQgZnJvbSB0aGUgZWZmZWN0IHRhZ1xuXG4gICAgcGFyZW50RmliZXIuZWZmZWN0VGFnICY9IH5Db250ZW50UmVzZXQ7XG4gIH1cblxuICB2YXIgYmVmb3JlID0gZ2V0SG9zdFNpYmxpbmcoZmluaXNoZWRXb3JrKTsgLy8gV2Ugb25seSBoYXZlIHRoZSB0b3AgRmliZXIgdGhhdCB3YXMgaW5zZXJ0ZWQgYnV0IHdlIG5lZWQgdG8gcmVjdXJzZSBkb3duIGl0c1xuICAvLyBjaGlsZHJlbiB0byBmaW5kIGFsbCB0aGUgdGVybWluYWwgbm9kZXMuXG5cbiAgdmFyIG5vZGUgPSBmaW5pc2hlZFdvcms7XG5cbiAgd2hpbGUgKHRydWUpIHtcbiAgICB2YXIgaXNIb3N0ID0gbm9kZS50YWcgPT09IEhvc3RDb21wb25lbnQgfHwgbm9kZS50YWcgPT09IEhvc3RUZXh0O1xuXG4gICAgaWYgKGlzSG9zdCB8fCBlbmFibGVGdW5kYW1lbnRhbEFQSSAmJiBub2RlLnRhZyA9PT0gRnVuZGFtZW50YWxDb21wb25lbnQpIHtcbiAgICAgIHZhciBzdGF0ZU5vZGUgPSBpc0hvc3QgPyBub2RlLnN0YXRlTm9kZSA6IG5vZGUuc3RhdGVOb2RlLmluc3RhbmNlO1xuXG4gICAgICBpZiAoYmVmb3JlKSB7XG4gICAgICAgIGlmIChpc0NvbnRhaW5lcikge1xuICAgICAgICAgIGluc2VydEluQ29udGFpbmVyQmVmb3JlKHBhcmVudCwgc3RhdGVOb2RlLCBiZWZvcmUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGluc2VydEJlZm9yZShwYXJlbnQsIHN0YXRlTm9kZSwgYmVmb3JlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGlzQ29udGFpbmVyKSB7XG4gICAgICAgICAgYXBwZW5kQ2hpbGRUb0NvbnRhaW5lcihwYXJlbnQsIHN0YXRlTm9kZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYXBwZW5kQ2hpbGQocGFyZW50LCBzdGF0ZU5vZGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChub2RlLnRhZyA9PT0gSG9zdFBvcnRhbCkgey8vIElmIHRoZSBpbnNlcnRpb24gaXRzZWxmIGlzIGEgcG9ydGFsLCB0aGVuIHdlIGRvbid0IHdhbnQgdG8gdHJhdmVyc2VcbiAgICAgIC8vIGRvd24gaXRzIGNoaWxkcmVuLiBJbnN0ZWFkLCB3ZSdsbCBnZXQgaW5zZXJ0aW9ucyBmcm9tIGVhY2ggY2hpbGQgaW5cbiAgICAgIC8vIHRoZSBwb3J0YWwgZGlyZWN0bHkuXG4gICAgfSBlbHNlIGlmIChub2RlLmNoaWxkICE9PSBudWxsKSB7XG4gICAgICBub2RlLmNoaWxkLnJldHVybiA9IG5vZGU7XG4gICAgICBub2RlID0gbm9kZS5jaGlsZDtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGlmIChub2RlID09PSBmaW5pc2hlZFdvcmspIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB3aGlsZSAobm9kZS5zaWJsaW5nID09PSBudWxsKSB7XG4gICAgICBpZiAobm9kZS5yZXR1cm4gPT09IG51bGwgfHwgbm9kZS5yZXR1cm4gPT09IGZpbmlzaGVkV29yaykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIG5vZGUgPSBub2RlLnJldHVybjtcbiAgICB9XG5cbiAgICBub2RlLnNpYmxpbmcucmV0dXJuID0gbm9kZS5yZXR1cm47XG4gICAgbm9kZSA9IG5vZGUuc2libGluZztcbiAgfVxufVxuXG5mdW5jdGlvbiB1bm1vdW50SG9zdENvbXBvbmVudHMoZmluaXNoZWRSb290LCBjdXJyZW50JCQxLCByZW5kZXJQcmlvcml0eUxldmVsKSB7XG4gIC8vIFdlIG9ubHkgaGF2ZSB0aGUgdG9wIEZpYmVyIHRoYXQgd2FzIGRlbGV0ZWQgYnV0IHdlIG5lZWQgdG8gcmVjdXJzZSBkb3duIGl0c1xuICAvLyBjaGlsZHJlbiB0byBmaW5kIGFsbCB0aGUgdGVybWluYWwgbm9kZXMuXG4gIHZhciBub2RlID0gY3VycmVudCQkMTsgLy8gRWFjaCBpdGVyYXRpb24sIGN1cnJlbnRQYXJlbnQgaXMgcG9wdWxhdGVkIHdpdGggbm9kZSdzIGhvc3QgcGFyZW50IGlmIG5vdFxuICAvLyBjdXJyZW50UGFyZW50SXNWYWxpZC5cblxuICB2YXIgY3VycmVudFBhcmVudElzVmFsaWQgPSBmYWxzZTsgLy8gTm90ZTogdGhlc2UgdHdvIHZhcmlhYmxlcyAqbXVzdCogYWx3YXlzIGJlIHVwZGF0ZWQgdG9nZXRoZXIuXG5cbiAgdmFyIGN1cnJlbnRQYXJlbnQ7XG4gIHZhciBjdXJyZW50UGFyZW50SXNDb250YWluZXI7XG5cbiAgd2hpbGUgKHRydWUpIHtcbiAgICBpZiAoIWN1cnJlbnRQYXJlbnRJc1ZhbGlkKSB7XG4gICAgICB2YXIgcGFyZW50ID0gbm9kZS5yZXR1cm47XG5cbiAgICAgIGZpbmRQYXJlbnQ6IHdoaWxlICh0cnVlKSB7XG4gICAgICAgIGlmICghKHBhcmVudCAhPT0gbnVsbCkpIHtcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcIkV4cGVjdGVkIHRvIGZpbmQgYSBob3N0IHBhcmVudC4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHBhcmVudFN0YXRlTm9kZSA9IHBhcmVudC5zdGF0ZU5vZGU7XG5cbiAgICAgICAgc3dpdGNoIChwYXJlbnQudGFnKSB7XG4gICAgICAgICAgY2FzZSBIb3N0Q29tcG9uZW50OlxuICAgICAgICAgICAgY3VycmVudFBhcmVudCA9IHBhcmVudFN0YXRlTm9kZTtcbiAgICAgICAgICAgIGN1cnJlbnRQYXJlbnRJc0NvbnRhaW5lciA9IGZhbHNlO1xuICAgICAgICAgICAgYnJlYWsgZmluZFBhcmVudDtcblxuICAgICAgICAgIGNhc2UgSG9zdFJvb3Q6XG4gICAgICAgICAgICBjdXJyZW50UGFyZW50ID0gcGFyZW50U3RhdGVOb2RlLmNvbnRhaW5lckluZm87XG4gICAgICAgICAgICBjdXJyZW50UGFyZW50SXNDb250YWluZXIgPSB0cnVlO1xuICAgICAgICAgICAgYnJlYWsgZmluZFBhcmVudDtcblxuICAgICAgICAgIGNhc2UgSG9zdFBvcnRhbDpcbiAgICAgICAgICAgIGN1cnJlbnRQYXJlbnQgPSBwYXJlbnRTdGF0ZU5vZGUuY29udGFpbmVySW5mbztcbiAgICAgICAgICAgIGN1cnJlbnRQYXJlbnRJc0NvbnRhaW5lciA9IHRydWU7XG4gICAgICAgICAgICBicmVhayBmaW5kUGFyZW50O1xuXG4gICAgICAgICAgY2FzZSBGdW5kYW1lbnRhbENvbXBvbmVudDpcbiAgICAgICAgICAgIGlmIChlbmFibGVGdW5kYW1lbnRhbEFQSSkge1xuICAgICAgICAgICAgICBjdXJyZW50UGFyZW50ID0gcGFyZW50U3RhdGVOb2RlLmluc3RhbmNlO1xuICAgICAgICAgICAgICBjdXJyZW50UGFyZW50SXNDb250YWluZXIgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgICAgcGFyZW50ID0gcGFyZW50LnJldHVybjtcbiAgICAgIH1cblxuICAgICAgY3VycmVudFBhcmVudElzVmFsaWQgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChub2RlLnRhZyA9PT0gSG9zdENvbXBvbmVudCB8fCBub2RlLnRhZyA9PT0gSG9zdFRleHQpIHtcbiAgICAgIGNvbW1pdE5lc3RlZFVubW91bnRzKGZpbmlzaGVkUm9vdCwgbm9kZSwgcmVuZGVyUHJpb3JpdHlMZXZlbCk7IC8vIEFmdGVyIGFsbCB0aGUgY2hpbGRyZW4gaGF2ZSB1bm1vdW50ZWQsIGl0IGlzIG5vdyBzYWZlIHRvIHJlbW92ZSB0aGVcbiAgICAgIC8vIG5vZGUgZnJvbSB0aGUgdHJlZS5cblxuICAgICAgaWYgKGN1cnJlbnRQYXJlbnRJc0NvbnRhaW5lcikge1xuICAgICAgICByZW1vdmVDaGlsZEZyb21Db250YWluZXIoY3VycmVudFBhcmVudCwgbm9kZS5zdGF0ZU5vZGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVtb3ZlQ2hpbGQoY3VycmVudFBhcmVudCwgbm9kZS5zdGF0ZU5vZGUpO1xuICAgICAgfSAvLyBEb24ndCB2aXNpdCBjaGlsZHJlbiBiZWNhdXNlIHdlIGFscmVhZHkgdmlzaXRlZCB0aGVtLlxuXG4gICAgfSBlbHNlIGlmIChlbmFibGVGdW5kYW1lbnRhbEFQSSAmJiBub2RlLnRhZyA9PT0gRnVuZGFtZW50YWxDb21wb25lbnQpIHtcbiAgICAgIHZhciBmdW5kYW1lbnRhbE5vZGUgPSBub2RlLnN0YXRlTm9kZS5pbnN0YW5jZTtcbiAgICAgIGNvbW1pdE5lc3RlZFVubW91bnRzKGZpbmlzaGVkUm9vdCwgbm9kZSwgcmVuZGVyUHJpb3JpdHlMZXZlbCk7IC8vIEFmdGVyIGFsbCB0aGUgY2hpbGRyZW4gaGF2ZSB1bm1vdW50ZWQsIGl0IGlzIG5vdyBzYWZlIHRvIHJlbW92ZSB0aGVcbiAgICAgIC8vIG5vZGUgZnJvbSB0aGUgdHJlZS5cblxuICAgICAgaWYgKGN1cnJlbnRQYXJlbnRJc0NvbnRhaW5lcikge1xuICAgICAgICByZW1vdmVDaGlsZEZyb21Db250YWluZXIoY3VycmVudFBhcmVudCwgZnVuZGFtZW50YWxOb2RlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlbW92ZUNoaWxkKGN1cnJlbnRQYXJlbnQsIGZ1bmRhbWVudGFsTm9kZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChlbmFibGVTdXNwZW5zZVNlcnZlclJlbmRlcmVyICYmIG5vZGUudGFnID09PSBEZWh5ZHJhdGVkRnJhZ21lbnQpIHtcbiAgICAgIGlmIChlbmFibGVTdXNwZW5zZUNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBoeWRyYXRpb25DYWxsYmFja3MgPSBmaW5pc2hlZFJvb3QuaHlkcmF0aW9uQ2FsbGJhY2tzO1xuXG4gICAgICAgIGlmIChoeWRyYXRpb25DYWxsYmFja3MgIT09IG51bGwpIHtcbiAgICAgICAgICB2YXIgb25EZWxldGVkID0gaHlkcmF0aW9uQ2FsbGJhY2tzLm9uRGVsZXRlZDtcblxuICAgICAgICAgIGlmIChvbkRlbGV0ZWQpIHtcbiAgICAgICAgICAgIG9uRGVsZXRlZChub2RlLnN0YXRlTm9kZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IC8vIERlbGV0ZSB0aGUgZGVoeWRyYXRlZCBzdXNwZW5zZSBib3VuZGFyeSBhbmQgYWxsIG9mIGl0cyBjb250ZW50LlxuXG5cbiAgICAgIGlmIChjdXJyZW50UGFyZW50SXNDb250YWluZXIpIHtcbiAgICAgICAgY2xlYXJTdXNwZW5zZUJvdW5kYXJ5RnJvbUNvbnRhaW5lcihjdXJyZW50UGFyZW50LCBub2RlLnN0YXRlTm9kZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjbGVhclN1c3BlbnNlQm91bmRhcnkoY3VycmVudFBhcmVudCwgbm9kZS5zdGF0ZU5vZGUpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAobm9kZS50YWcgPT09IEhvc3RQb3J0YWwpIHtcbiAgICAgIGlmIChub2RlLmNoaWxkICE9PSBudWxsKSB7XG4gICAgICAgIC8vIFdoZW4gd2UgZ28gaW50byBhIHBvcnRhbCwgaXQgYmVjb21lcyB0aGUgcGFyZW50IHRvIHJlbW92ZSBmcm9tLlxuICAgICAgICAvLyBXZSB3aWxsIHJlYXNzaWduIGl0IGJhY2sgd2hlbiB3ZSBwb3AgdGhlIHBvcnRhbCBvbiB0aGUgd2F5IHVwLlxuICAgICAgICBjdXJyZW50UGFyZW50ID0gbm9kZS5zdGF0ZU5vZGUuY29udGFpbmVySW5mbztcbiAgICAgICAgY3VycmVudFBhcmVudElzQ29udGFpbmVyID0gdHJ1ZTsgLy8gVmlzaXQgY2hpbGRyZW4gYmVjYXVzZSBwb3J0YWxzIG1pZ2h0IGNvbnRhaW4gaG9zdCBjb21wb25lbnRzLlxuXG4gICAgICAgIG5vZGUuY2hpbGQucmV0dXJuID0gbm9kZTtcbiAgICAgICAgbm9kZSA9IG5vZGUuY2hpbGQ7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb21taXRVbm1vdW50KGZpbmlzaGVkUm9vdCwgbm9kZSwgcmVuZGVyUHJpb3JpdHlMZXZlbCk7IC8vIFZpc2l0IGNoaWxkcmVuIGJlY2F1c2Ugd2UgbWF5IGZpbmQgbW9yZSBob3N0IGNvbXBvbmVudHMgYmVsb3cuXG5cbiAgICAgIGlmIChub2RlLmNoaWxkICE9PSBudWxsKSB7XG4gICAgICAgIG5vZGUuY2hpbGQucmV0dXJuID0gbm9kZTtcbiAgICAgICAgbm9kZSA9IG5vZGUuY2hpbGQ7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChub2RlID09PSBjdXJyZW50JCQxKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgd2hpbGUgKG5vZGUuc2libGluZyA9PT0gbnVsbCkge1xuICAgICAgaWYgKG5vZGUucmV0dXJuID09PSBudWxsIHx8IG5vZGUucmV0dXJuID09PSBjdXJyZW50JCQxKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgbm9kZSA9IG5vZGUucmV0dXJuO1xuXG4gICAgICBpZiAobm9kZS50YWcgPT09IEhvc3RQb3J0YWwpIHtcbiAgICAgICAgLy8gV2hlbiB3ZSBnbyBvdXQgb2YgdGhlIHBvcnRhbCwgd2UgbmVlZCB0byByZXN0b3JlIHRoZSBwYXJlbnQuXG4gICAgICAgIC8vIFNpbmNlIHdlIGRvbid0IGtlZXAgYSBzdGFjayBvZiB0aGVtLCB3ZSB3aWxsIHNlYXJjaCBmb3IgaXQuXG4gICAgICAgIGN1cnJlbnRQYXJlbnRJc1ZhbGlkID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbm9kZS5zaWJsaW5nLnJldHVybiA9IG5vZGUucmV0dXJuO1xuICAgIG5vZGUgPSBub2RlLnNpYmxpbmc7XG4gIH1cbn1cblxuZnVuY3Rpb24gY29tbWl0RGVsZXRpb24oZmluaXNoZWRSb290LCBjdXJyZW50JCQxLCByZW5kZXJQcmlvcml0eUxldmVsKSB7XG4gIGlmIChzdXBwb3J0c011dGF0aW9uKSB7XG4gICAgLy8gUmVjdXJzaXZlbHkgZGVsZXRlIGFsbCBob3N0IG5vZGVzIGZyb20gdGhlIHBhcmVudC5cbiAgICAvLyBEZXRhY2ggcmVmcyBhbmQgY2FsbCBjb21wb25lbnRXaWxsVW5tb3VudCgpIG9uIHRoZSB3aG9sZSBzdWJ0cmVlLlxuICAgIHVubW91bnRIb3N0Q29tcG9uZW50cyhmaW5pc2hlZFJvb3QsIGN1cnJlbnQkJDEsIHJlbmRlclByaW9yaXR5TGV2ZWwpO1xuICB9IGVsc2Uge1xuICAgIC8vIERldGFjaCByZWZzIGFuZCBjYWxsIGNvbXBvbmVudFdpbGxVbm1vdW50KCkgb24gdGhlIHdob2xlIHN1YnRyZWUuXG4gICAgY29tbWl0TmVzdGVkVW5tb3VudHMoZmluaXNoZWRSb290LCBjdXJyZW50JCQxLCByZW5kZXJQcmlvcml0eUxldmVsKTtcbiAgfVxuXG4gIGRldGFjaEZpYmVyKGN1cnJlbnQkJDEpO1xufVxuXG5mdW5jdGlvbiBjb21taXRXb3JrKGN1cnJlbnQkJDEsIGZpbmlzaGVkV29yaykge1xuICBpZiAoIXN1cHBvcnRzTXV0YXRpb24pIHtcbiAgICBzd2l0Y2ggKGZpbmlzaGVkV29yay50YWcpIHtcbiAgICAgIGNhc2UgRnVuY3Rpb25Db21wb25lbnQ6XG4gICAgICBjYXNlIEZvcndhcmRSZWY6XG4gICAgICBjYXNlIE1lbW9Db21wb25lbnQ6XG4gICAgICBjYXNlIFNpbXBsZU1lbW9Db21wb25lbnQ6XG4gICAgICAgIHtcbiAgICAgICAgICAvLyBOb3RlOiBXZSBjdXJyZW50bHkgbmV2ZXIgdXNlIE1vdW50TXV0YXRpb24sIGJ1dCB1c2VMYXlvdXQgdXNlc1xuICAgICAgICAgIC8vIFVubW91bnRNdXRhdGlvbi5cbiAgICAgICAgICBjb21taXRIb29rRWZmZWN0TGlzdChVbm1vdW50TXV0YXRpb24sIE1vdW50TXV0YXRpb24sIGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgIGNhc2UgUHJvZmlsZXI6XG4gICAgICAgIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgY2FzZSBTdXNwZW5zZUNvbXBvbmVudDpcbiAgICAgICAge1xuICAgICAgICAgIGNvbW1pdFN1c3BlbnNlQ29tcG9uZW50KGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgYXR0YWNoU3VzcGVuc2VSZXRyeUxpc3RlbmVycyhmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICBjYXNlIFN1c3BlbnNlTGlzdENvbXBvbmVudDpcbiAgICAgICAge1xuICAgICAgICAgIGF0dGFjaFN1c3BlbnNlUmV0cnlMaXN0ZW5lcnMoZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgY2FzZSBIb3N0Um9vdDpcbiAgICAgICAge1xuICAgICAgICAgIGlmIChzdXBwb3J0c0h5ZHJhdGlvbikge1xuICAgICAgICAgICAgdmFyIHJvb3QgPSBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlO1xuXG4gICAgICAgICAgICBpZiAocm9vdC5oeWRyYXRlKSB7XG4gICAgICAgICAgICAgIC8vIFdlJ3ZlIGp1c3QgaHlkcmF0ZWQuIE5vIG5lZWQgdG8gaHlkcmF0ZSBhZ2Fpbi5cbiAgICAgICAgICAgICAgcm9vdC5oeWRyYXRlID0gZmFsc2U7XG4gICAgICAgICAgICAgIGNvbW1pdEh5ZHJhdGVkQ29udGFpbmVyKHJvb3QuY29udGFpbmVySW5mbyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb21taXRDb250YWluZXIoZmluaXNoZWRXb3JrKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBzd2l0Y2ggKGZpbmlzaGVkV29yay50YWcpIHtcbiAgICBjYXNlIEZ1bmN0aW9uQ29tcG9uZW50OlxuICAgIGNhc2UgRm9yd2FyZFJlZjpcbiAgICBjYXNlIE1lbW9Db21wb25lbnQ6XG4gICAgY2FzZSBTaW1wbGVNZW1vQ29tcG9uZW50OlxuICAgICAge1xuICAgICAgICAvLyBOb3RlOiBXZSBjdXJyZW50bHkgbmV2ZXIgdXNlIE1vdW50TXV0YXRpb24sIGJ1dCB1c2VMYXlvdXQgdXNlc1xuICAgICAgICAvLyBVbm1vdW50TXV0YXRpb24uXG4gICAgICAgIGNvbW1pdEhvb2tFZmZlY3RMaXN0KFVubW91bnRNdXRhdGlvbiwgTW91bnRNdXRhdGlvbiwgZmluaXNoZWRXb3JrKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgY2FzZSBDbGFzc0NvbXBvbmVudDpcbiAgICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgY2FzZSBIb3N0Q29tcG9uZW50OlxuICAgICAge1xuICAgICAgICB2YXIgaW5zdGFuY2UgPSBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlO1xuXG4gICAgICAgIGlmIChpbnN0YW5jZSAhPSBudWxsKSB7XG4gICAgICAgICAgLy8gQ29tbWl0IHRoZSB3b3JrIHByZXBhcmVkIGVhcmxpZXIuXG4gICAgICAgICAgdmFyIG5ld1Byb3BzID0gZmluaXNoZWRXb3JrLm1lbW9pemVkUHJvcHM7IC8vIEZvciBoeWRyYXRpb24gd2UgcmV1c2UgdGhlIHVwZGF0ZSBwYXRoIGJ1dCB3ZSB0cmVhdCB0aGUgb2xkUHJvcHNcbiAgICAgICAgICAvLyBhcyB0aGUgbmV3UHJvcHMuIFRoZSB1cGRhdGVQYXlsb2FkIHdpbGwgY29udGFpbiB0aGUgcmVhbCBjaGFuZ2UgaW5cbiAgICAgICAgICAvLyB0aGlzIGNhc2UuXG5cbiAgICAgICAgICB2YXIgb2xkUHJvcHMgPSBjdXJyZW50JCQxICE9PSBudWxsID8gY3VycmVudCQkMS5tZW1vaXplZFByb3BzIDogbmV3UHJvcHM7XG4gICAgICAgICAgdmFyIHR5cGUgPSBmaW5pc2hlZFdvcmsudHlwZTsgLy8gVE9ETzogVHlwZSB0aGUgdXBkYXRlUXVldWUgdG8gYmUgc3BlY2lmaWMgdG8gaG9zdCBjb21wb25lbnRzLlxuXG4gICAgICAgICAgdmFyIHVwZGF0ZVBheWxvYWQgPSBmaW5pc2hlZFdvcmsudXBkYXRlUXVldWU7XG4gICAgICAgICAgZmluaXNoZWRXb3JrLnVwZGF0ZVF1ZXVlID0gbnVsbDtcblxuICAgICAgICAgIGlmICh1cGRhdGVQYXlsb2FkICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb21taXRVcGRhdGUoaW5zdGFuY2UsIHVwZGF0ZVBheWxvYWQsIHR5cGUsIG9sZFByb3BzLCBuZXdQcm9wcywgZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoZW5hYmxlRmxhcmVBUEkpIHtcbiAgICAgICAgICAgIHZhciBwcmV2TGlzdGVuZXJzID0gb2xkUHJvcHMubGlzdGVuZXJzO1xuICAgICAgICAgICAgdmFyIG5leHRMaXN0ZW5lcnMgPSBuZXdQcm9wcy5saXN0ZW5lcnM7XG5cbiAgICAgICAgICAgIGlmIChwcmV2TGlzdGVuZXJzICE9PSBuZXh0TGlzdGVuZXJzKSB7XG4gICAgICAgICAgICAgIHVwZGF0ZUV2ZW50TGlzdGVuZXJzKG5leHRMaXN0ZW5lcnMsIGZpbmlzaGVkV29yaywgbnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgY2FzZSBIb3N0VGV4dDpcbiAgICAgIHtcbiAgICAgICAgaWYgKCEoZmluaXNoZWRXb3JrLnN0YXRlTm9kZSAhPT0gbnVsbCkpIHtcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcIlRoaXMgc2hvdWxkIGhhdmUgYSB0ZXh0IG5vZGUgaW5pdGlhbGl6ZWQuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0ZXh0SW5zdGFuY2UgPSBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlO1xuICAgICAgICB2YXIgbmV3VGV4dCA9IGZpbmlzaGVkV29yay5tZW1vaXplZFByb3BzOyAvLyBGb3IgaHlkcmF0aW9uIHdlIHJldXNlIHRoZSB1cGRhdGUgcGF0aCBidXQgd2UgdHJlYXQgdGhlIG9sZFByb3BzXG4gICAgICAgIC8vIGFzIHRoZSBuZXdQcm9wcy4gVGhlIHVwZGF0ZVBheWxvYWQgd2lsbCBjb250YWluIHRoZSByZWFsIGNoYW5nZSBpblxuICAgICAgICAvLyB0aGlzIGNhc2UuXG5cbiAgICAgICAgdmFyIG9sZFRleHQgPSBjdXJyZW50JCQxICE9PSBudWxsID8gY3VycmVudCQkMS5tZW1vaXplZFByb3BzIDogbmV3VGV4dDtcbiAgICAgICAgY29tbWl0VGV4dFVwZGF0ZSh0ZXh0SW5zdGFuY2UsIG9sZFRleHQsIG5ld1RleHQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICBjYXNlIEhvc3RSb290OlxuICAgICAge1xuICAgICAgICBpZiAoc3VwcG9ydHNIeWRyYXRpb24pIHtcbiAgICAgICAgICB2YXIgX3Jvb3QgPSBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlO1xuXG4gICAgICAgICAgaWYgKF9yb290Lmh5ZHJhdGUpIHtcbiAgICAgICAgICAgIC8vIFdlJ3ZlIGp1c3QgaHlkcmF0ZWQuIE5vIG5lZWQgdG8gaHlkcmF0ZSBhZ2Fpbi5cbiAgICAgICAgICAgIF9yb290Lmh5ZHJhdGUgPSBmYWxzZTtcbiAgICAgICAgICAgIGNvbW1pdEh5ZHJhdGVkQ29udGFpbmVyKF9yb290LmNvbnRhaW5lckluZm8pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgIGNhc2UgUHJvZmlsZXI6XG4gICAgICB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgIGNhc2UgU3VzcGVuc2VDb21wb25lbnQ6XG4gICAgICB7XG4gICAgICAgIGNvbW1pdFN1c3BlbnNlQ29tcG9uZW50KGZpbmlzaGVkV29yayk7XG4gICAgICAgIGF0dGFjaFN1c3BlbnNlUmV0cnlMaXN0ZW5lcnMoZmluaXNoZWRXb3JrKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgY2FzZSBTdXNwZW5zZUxpc3RDb21wb25lbnQ6XG4gICAgICB7XG4gICAgICAgIGF0dGFjaFN1c3BlbnNlUmV0cnlMaXN0ZW5lcnMoZmluaXNoZWRXb3JrKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgY2FzZSBJbmNvbXBsZXRlQ2xhc3NDb21wb25lbnQ6XG4gICAgICB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgIGNhc2UgRnVuZGFtZW50YWxDb21wb25lbnQ6XG4gICAgICB7XG4gICAgICAgIGlmIChlbmFibGVGdW5kYW1lbnRhbEFQSSkge1xuICAgICAgICAgIHZhciBmdW5kYW1lbnRhbEluc3RhbmNlID0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZTtcbiAgICAgICAgICB1cGRhdGVGdW5kYW1lbnRhbENvbXBvbmVudChmdW5kYW1lbnRhbEluc3RhbmNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgIGNhc2UgU2NvcGVDb21wb25lbnQ6XG4gICAgICB7XG4gICAgICAgIGlmIChlbmFibGVTY29wZUFQSSkge1xuICAgICAgICAgIHZhciBzY29wZUluc3RhbmNlID0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZTtcbiAgICAgICAgICBzY29wZUluc3RhbmNlLmZpYmVyID0gZmluaXNoZWRXb3JrO1xuXG4gICAgICAgICAgaWYgKGVuYWJsZUZsYXJlQVBJKSB7XG4gICAgICAgICAgICB2YXIgX25ld1Byb3BzID0gZmluaXNoZWRXb3JrLm1lbW9pemVkUHJvcHM7XG5cbiAgICAgICAgICAgIHZhciBfb2xkUHJvcHMgPSBjdXJyZW50JCQxICE9PSBudWxsID8gY3VycmVudCQkMS5tZW1vaXplZFByb3BzIDogX25ld1Byb3BzO1xuXG4gICAgICAgICAgICB2YXIgX3ByZXZMaXN0ZW5lcnMgPSBfb2xkUHJvcHMubGlzdGVuZXJzO1xuICAgICAgICAgICAgdmFyIF9uZXh0TGlzdGVuZXJzID0gX25ld1Byb3BzLmxpc3RlbmVycztcblxuICAgICAgICAgICAgaWYgKF9wcmV2TGlzdGVuZXJzICE9PSBfbmV4dExpc3RlbmVycykge1xuICAgICAgICAgICAgICB1cGRhdGVFdmVudExpc3RlbmVycyhfbmV4dExpc3RlbmVycywgZmluaXNoZWRXb3JrLCBudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICBkZWZhdWx0OlxuICAgICAge1xuICAgICAgICB7XG4gICAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJUaGlzIHVuaXQgb2Ygd29yayB0YWcgc2hvdWxkIG5vdCBoYXZlIHNpZGUtZWZmZWN0cy4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gY29tbWl0U3VzcGVuc2VDb21wb25lbnQoZmluaXNoZWRXb3JrKSB7XG4gIHZhciBuZXdTdGF0ZSA9IGZpbmlzaGVkV29yay5tZW1vaXplZFN0YXRlO1xuICB2YXIgbmV3RGlkVGltZW91dDtcbiAgdmFyIHByaW1hcnlDaGlsZFBhcmVudCA9IGZpbmlzaGVkV29yaztcblxuICBpZiAobmV3U3RhdGUgPT09IG51bGwpIHtcbiAgICBuZXdEaWRUaW1lb3V0ID0gZmFsc2U7XG4gIH0gZWxzZSB7XG4gICAgbmV3RGlkVGltZW91dCA9IHRydWU7XG4gICAgcHJpbWFyeUNoaWxkUGFyZW50ID0gZmluaXNoZWRXb3JrLmNoaWxkO1xuICAgIG1hcmtDb21taXRUaW1lT2ZGYWxsYmFjaygpO1xuICB9XG5cbiAgaWYgKHN1cHBvcnRzTXV0YXRpb24gJiYgcHJpbWFyeUNoaWxkUGFyZW50ICE9PSBudWxsKSB7XG4gICAgaGlkZU9yVW5oaWRlQWxsQ2hpbGRyZW4ocHJpbWFyeUNoaWxkUGFyZW50LCBuZXdEaWRUaW1lb3V0KTtcbiAgfVxuXG4gIGlmIChlbmFibGVTdXNwZW5zZUNhbGxiYWNrICYmIG5ld1N0YXRlICE9PSBudWxsKSB7XG4gICAgdmFyIHN1c3BlbnNlQ2FsbGJhY2sgPSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRQcm9wcy5zdXNwZW5zZUNhbGxiYWNrO1xuXG4gICAgaWYgKHR5cGVvZiBzdXNwZW5zZUNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB2YXIgdGhlbmFibGVzID0gZmluaXNoZWRXb3JrLnVwZGF0ZVF1ZXVlO1xuXG4gICAgICBpZiAodGhlbmFibGVzICE9PSBudWxsKSB7XG4gICAgICAgIHN1c3BlbnNlQ2FsbGJhY2sobmV3IFNldCh0aGVuYWJsZXMpKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHN1c3BlbnNlQ2FsbGJhY2sgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB3YXJuaW5nJDEoZmFsc2UsICdVbmV4cGVjdGVkIHR5cGUgZm9yIHN1c3BlbnNlQ2FsbGJhY2suJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGNvbW1pdFN1c3BlbnNlSHlkcmF0aW9uQ2FsbGJhY2tzKGZpbmlzaGVkUm9vdCwgZmluaXNoZWRXb3JrKSB7XG4gIGlmICghc3VwcG9ydHNIeWRyYXRpb24pIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgbmV3U3RhdGUgPSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRTdGF0ZTtcblxuICBpZiAobmV3U3RhdGUgPT09IG51bGwpIHtcbiAgICB2YXIgY3VycmVudCQkMSA9IGZpbmlzaGVkV29yay5hbHRlcm5hdGU7XG5cbiAgICBpZiAoY3VycmVudCQkMSAhPT0gbnVsbCkge1xuICAgICAgdmFyIHByZXZTdGF0ZSA9IGN1cnJlbnQkJDEubWVtb2l6ZWRTdGF0ZTtcblxuICAgICAgaWYgKHByZXZTdGF0ZSAhPT0gbnVsbCkge1xuICAgICAgICB2YXIgc3VzcGVuc2VJbnN0YW5jZSA9IHByZXZTdGF0ZS5kZWh5ZHJhdGVkO1xuXG4gICAgICAgIGlmIChzdXNwZW5zZUluc3RhbmNlICE9PSBudWxsKSB7XG4gICAgICAgICAgY29tbWl0SHlkcmF0ZWRTdXNwZW5zZUluc3RhbmNlKHN1c3BlbnNlSW5zdGFuY2UpO1xuXG4gICAgICAgICAgaWYgKGVuYWJsZVN1c3BlbnNlQ2FsbGJhY2spIHtcbiAgICAgICAgICAgIHZhciBoeWRyYXRpb25DYWxsYmFja3MgPSBmaW5pc2hlZFJvb3QuaHlkcmF0aW9uQ2FsbGJhY2tzO1xuXG4gICAgICAgICAgICBpZiAoaHlkcmF0aW9uQ2FsbGJhY2tzICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgIHZhciBvbkh5ZHJhdGVkID0gaHlkcmF0aW9uQ2FsbGJhY2tzLm9uSHlkcmF0ZWQ7XG5cbiAgICAgICAgICAgICAgaWYgKG9uSHlkcmF0ZWQpIHtcbiAgICAgICAgICAgICAgICBvbkh5ZHJhdGVkKHN1c3BlbnNlSW5zdGFuY2UpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGF0dGFjaFN1c3BlbnNlUmV0cnlMaXN0ZW5lcnMoZmluaXNoZWRXb3JrKSB7XG4gIC8vIElmIHRoaXMgYm91bmRhcnkganVzdCB0aW1lZCBvdXQsIHRoZW4gaXQgd2lsbCBoYXZlIGEgc2V0IG9mIHRoZW5hYmxlcy5cbiAgLy8gRm9yIGVhY2ggdGhlbmFibGUsIGF0dGFjaCBhIGxpc3RlbmVyIHNvIHRoYXQgd2hlbiBpdCByZXNvbHZlcywgUmVhY3RcbiAgLy8gYXR0ZW1wdHMgdG8gcmUtcmVuZGVyIHRoZSBib3VuZGFyeSBpbiB0aGUgcHJpbWFyeSAocHJlLXRpbWVvdXQpIHN0YXRlLlxuICB2YXIgdGhlbmFibGVzID0gZmluaXNoZWRXb3JrLnVwZGF0ZVF1ZXVlO1xuXG4gIGlmICh0aGVuYWJsZXMgIT09IG51bGwpIHtcbiAgICBmaW5pc2hlZFdvcmsudXBkYXRlUXVldWUgPSBudWxsO1xuICAgIHZhciByZXRyeUNhY2hlID0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZTtcblxuICAgIGlmIChyZXRyeUNhY2hlID09PSBudWxsKSB7XG4gICAgICByZXRyeUNhY2hlID0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZSA9IG5ldyBQb3NzaWJseVdlYWtTZXQoKTtcbiAgICB9XG5cbiAgICB0aGVuYWJsZXMuZm9yRWFjaChmdW5jdGlvbiAodGhlbmFibGUpIHtcbiAgICAgIC8vIE1lbW9pemUgdXNpbmcgdGhlIGJvdW5kYXJ5IGZpYmVyIHRvIHByZXZlbnQgcmVkdW5kYW50IGxpc3RlbmVycy5cbiAgICAgIHZhciByZXRyeSA9IHJlc29sdmVSZXRyeVRoZW5hYmxlLmJpbmQobnVsbCwgZmluaXNoZWRXb3JrLCB0aGVuYWJsZSk7XG5cbiAgICAgIGlmICghcmV0cnlDYWNoZS5oYXModGhlbmFibGUpKSB7XG4gICAgICAgIGlmIChlbmFibGVTY2hlZHVsZXJUcmFjaW5nKSB7XG4gICAgICAgICAgaWYgKHRoZW5hYmxlLl9fcmVhY3REb05vdFRyYWNlSW50ZXJhY3Rpb25zICE9PSB0cnVlKSB7XG4gICAgICAgICAgICByZXRyeSA9IHRyYWNpbmcudW5zdGFibGVfd3JhcChyZXRyeSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0cnlDYWNoZS5hZGQodGhlbmFibGUpO1xuICAgICAgICB0aGVuYWJsZS50aGVuKHJldHJ5LCByZXRyeSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY29tbWl0UmVzZXRUZXh0Q29udGVudChjdXJyZW50JCQxKSB7XG4gIGlmICghc3VwcG9ydHNNdXRhdGlvbikge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHJlc2V0VGV4dENvbnRlbnQoY3VycmVudCQkMS5zdGF0ZU5vZGUpO1xufVxuXG52YXIgUG9zc2libHlXZWFrTWFwJDEgPSB0eXBlb2YgV2Vha01hcCA9PT0gJ2Z1bmN0aW9uJyA/IFdlYWtNYXAgOiBNYXA7XG5cbmZ1bmN0aW9uIGNyZWF0ZVJvb3RFcnJvclVwZGF0ZShmaWJlciwgZXJyb3JJbmZvLCBleHBpcmF0aW9uVGltZSkge1xuICB2YXIgdXBkYXRlID0gY3JlYXRlVXBkYXRlKGV4cGlyYXRpb25UaW1lLCBudWxsKTsgLy8gVW5tb3VudCB0aGUgcm9vdCBieSByZW5kZXJpbmcgbnVsbC5cblxuICB1cGRhdGUudGFnID0gQ2FwdHVyZVVwZGF0ZTsgLy8gQ2F1dGlvbjogUmVhY3QgRGV2VG9vbHMgY3VycmVudGx5IGRlcGVuZHMgb24gdGhpcyBwcm9wZXJ0eVxuICAvLyBiZWluZyBjYWxsZWQgXCJlbGVtZW50XCIuXG5cbiAgdXBkYXRlLnBheWxvYWQgPSB7XG4gICAgZWxlbWVudDogbnVsbFxuICB9O1xuICB2YXIgZXJyb3IgPSBlcnJvckluZm8udmFsdWU7XG5cbiAgdXBkYXRlLmNhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgIG9uVW5jYXVnaHRFcnJvcihlcnJvcik7XG4gICAgbG9nRXJyb3IoZmliZXIsIGVycm9ySW5mbyk7XG4gIH07XG5cbiAgcmV0dXJuIHVwZGF0ZTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQ2xhc3NFcnJvclVwZGF0ZShmaWJlciwgZXJyb3JJbmZvLCBleHBpcmF0aW9uVGltZSkge1xuICB2YXIgdXBkYXRlID0gY3JlYXRlVXBkYXRlKGV4cGlyYXRpb25UaW1lLCBudWxsKTtcbiAgdXBkYXRlLnRhZyA9IENhcHR1cmVVcGRhdGU7XG4gIHZhciBnZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IgPSBmaWJlci50eXBlLmdldERlcml2ZWRTdGF0ZUZyb21FcnJvcjtcblxuICBpZiAodHlwZW9mIGdldERlcml2ZWRTdGF0ZUZyb21FcnJvciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHZhciBlcnJvciA9IGVycm9ySW5mby52YWx1ZTtcblxuICAgIHVwZGF0ZS5wYXlsb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgbG9nRXJyb3IoZmliZXIsIGVycm9ySW5mbyk7XG4gICAgICByZXR1cm4gZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yKGVycm9yKTtcbiAgICB9O1xuICB9XG5cbiAgdmFyIGluc3QgPSBmaWJlci5zdGF0ZU5vZGU7XG5cbiAgaWYgKGluc3QgIT09IG51bGwgJiYgdHlwZW9mIGluc3QuY29tcG9uZW50RGlkQ2F0Y2ggPT09ICdmdW5jdGlvbicpIHtcbiAgICB1cGRhdGUuY2FsbGJhY2sgPSBmdW5jdGlvbiBjYWxsYmFjaygpIHtcbiAgICAgIHtcbiAgICAgICAgbWFya0ZhaWxlZEVycm9yQm91bmRhcnlGb3JIb3RSZWxvYWRpbmcoZmliZXIpO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGdldERlcml2ZWRTdGF0ZUZyb21FcnJvciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBUbyBwcmVzZXJ2ZSB0aGUgcHJlZXhpc3RpbmcgcmV0cnkgYmVoYXZpb3Igb2YgZXJyb3IgYm91bmRhcmllcyxcbiAgICAgICAgLy8gd2Uga2VlcCB0cmFjayBvZiB3aGljaCBvbmVzIGFscmVhZHkgZmFpbGVkIGR1cmluZyB0aGlzIGJhdGNoLlxuICAgICAgICAvLyBUaGlzIGdldHMgcmVzZXQgYmVmb3JlIHdlIHlpZWxkIGJhY2sgdG8gdGhlIGJyb3dzZXIuXG4gICAgICAgIC8vIFRPRE86IFdhcm4gaW4gc3RyaWN0IG1vZGUgaWYgZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yIGlzXG4gICAgICAgIC8vIG5vdCBkZWZpbmVkLlxuICAgICAgICBtYXJrTGVnYWN5RXJyb3JCb3VuZGFyeUFzRmFpbGVkKHRoaXMpOyAvLyBPbmx5IGxvZyBoZXJlIGlmIGNvbXBvbmVudERpZENhdGNoIGlzIHRoZSBvbmx5IGVycm9yIGJvdW5kYXJ5IG1ldGhvZCBkZWZpbmVkXG5cbiAgICAgICAgbG9nRXJyb3IoZmliZXIsIGVycm9ySW5mbyk7XG4gICAgICB9XG5cbiAgICAgIHZhciBlcnJvciA9IGVycm9ySW5mby52YWx1ZTtcbiAgICAgIHZhciBzdGFjayA9IGVycm9ySW5mby5zdGFjaztcbiAgICAgIHRoaXMuY29tcG9uZW50RGlkQ2F0Y2goZXJyb3IsIHtcbiAgICAgICAgY29tcG9uZW50U3RhY2s6IHN0YWNrICE9PSBudWxsID8gc3RhY2sgOiAnJ1xuICAgICAgfSk7XG5cbiAgICAgIHtcbiAgICAgICAgaWYgKHR5cGVvZiBnZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAvLyBJZiBjb21wb25lbnREaWRDYXRjaCBpcyB0aGUgb25seSBlcnJvciBib3VuZGFyeSBtZXRob2QgZGVmaW5lZCxcbiAgICAgICAgICAvLyB0aGVuIGl0IG5lZWRzIHRvIGNhbGwgc2V0U3RhdGUgdG8gcmVjb3ZlciBmcm9tIGVycm9ycy5cbiAgICAgICAgICAvLyBJZiBubyBzdGF0ZSB1cGRhdGUgaXMgc2NoZWR1bGVkIHRoZW4gdGhlIGJvdW5kYXJ5IHdpbGwgc3dhbGxvdyB0aGUgZXJyb3IuXG4gICAgICAgICAgIShmaWJlci5leHBpcmF0aW9uVGltZSA9PT0gU3luYykgPyB3YXJuaW5nV2l0aG91dFN0YWNrJDEoZmFsc2UsICclczogRXJyb3IgYm91bmRhcmllcyBzaG91bGQgaW1wbGVtZW50IGdldERlcml2ZWRTdGF0ZUZyb21FcnJvcigpLiAnICsgJ0luIHRoYXQgbWV0aG9kLCByZXR1cm4gYSBzdGF0ZSB1cGRhdGUgdG8gZGlzcGxheSBhbiBlcnJvciBtZXNzYWdlIG9yIGZhbGxiYWNrIFVJLicsIGdldENvbXBvbmVudE5hbWUoZmliZXIudHlwZSkgfHwgJ1Vua25vd24nKSA6IHZvaWQgMDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgdXBkYXRlLmNhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgbWFya0ZhaWxlZEVycm9yQm91bmRhcnlGb3JIb3RSZWxvYWRpbmcoZmliZXIpO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gdXBkYXRlO1xufVxuXG5mdW5jdGlvbiBhdHRhY2hQaW5nTGlzdGVuZXIocm9vdCwgcmVuZGVyRXhwaXJhdGlvblRpbWUsIHRoZW5hYmxlKSB7XG4gIC8vIEF0dGFjaCBhIGxpc3RlbmVyIHRvIHRoZSBwcm9taXNlIHRvIFwicGluZ1wiIHRoZSByb290IGFuZCByZXRyeS4gQnV0XG4gIC8vIG9ubHkgaWYgb25lIGRvZXMgbm90IGFscmVhZHkgZXhpc3QgZm9yIHRoZSBjdXJyZW50IHJlbmRlciBleHBpcmF0aW9uXG4gIC8vIHRpbWUgKHdoaWNoIGFjdHMgbGlrZSBhIFwidGhyZWFkIElEXCIgaGVyZSkuXG4gIHZhciBwaW5nQ2FjaGUgPSByb290LnBpbmdDYWNoZTtcbiAgdmFyIHRocmVhZElEcztcblxuICBpZiAocGluZ0NhY2hlID09PSBudWxsKSB7XG4gICAgcGluZ0NhY2hlID0gcm9vdC5waW5nQ2FjaGUgPSBuZXcgUG9zc2libHlXZWFrTWFwJDEoKTtcbiAgICB0aHJlYWRJRHMgPSBuZXcgU2V0KCk7XG4gICAgcGluZ0NhY2hlLnNldCh0aGVuYWJsZSwgdGhyZWFkSURzKTtcbiAgfSBlbHNlIHtcbiAgICB0aHJlYWRJRHMgPSBwaW5nQ2FjaGUuZ2V0KHRoZW5hYmxlKTtcblxuICAgIGlmICh0aHJlYWRJRHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyZWFkSURzID0gbmV3IFNldCgpO1xuICAgICAgcGluZ0NhY2hlLnNldCh0aGVuYWJsZSwgdGhyZWFkSURzKTtcbiAgICB9XG4gIH1cblxuICBpZiAoIXRocmVhZElEcy5oYXMocmVuZGVyRXhwaXJhdGlvblRpbWUpKSB7XG4gICAgLy8gTWVtb2l6ZSB1c2luZyB0aGUgdGhyZWFkIElEIHRvIHByZXZlbnQgcmVkdW5kYW50IGxpc3RlbmVycy5cbiAgICB0aHJlYWRJRHMuYWRkKHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgICB2YXIgcGluZyA9IHBpbmdTdXNwZW5kZWRSb290LmJpbmQobnVsbCwgcm9vdCwgdGhlbmFibGUsIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgICB0aGVuYWJsZS50aGVuKHBpbmcsIHBpbmcpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHRocm93RXhjZXB0aW9uKHJvb3QsIHJldHVybkZpYmVyLCBzb3VyY2VGaWJlciwgdmFsdWUsIHJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gIC8vIFRoZSBzb3VyY2UgZmliZXIgZGlkIG5vdCBjb21wbGV0ZS5cbiAgc291cmNlRmliZXIuZWZmZWN0VGFnIHw9IEluY29tcGxldGU7IC8vIEl0cyBlZmZlY3QgbGlzdCBpcyBubyBsb25nZXIgdmFsaWQuXG5cbiAgc291cmNlRmliZXIuZmlyc3RFZmZlY3QgPSBzb3VyY2VGaWJlci5sYXN0RWZmZWN0ID0gbnVsbDtcblxuICBpZiAodmFsdWUgIT09IG51bGwgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgdmFsdWUudGhlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIC8vIFRoaXMgaXMgYSB0aGVuYWJsZS5cbiAgICB2YXIgdGhlbmFibGUgPSB2YWx1ZTtcbiAgICBjaGVja0Zvcldyb25nU3VzcGVuc2VQcmlvcml0eUluREVWKHNvdXJjZUZpYmVyKTtcbiAgICB2YXIgaGFzSW52aXNpYmxlUGFyZW50Qm91bmRhcnkgPSBoYXNTdXNwZW5zZUNvbnRleHQoc3VzcGVuc2VTdGFja0N1cnNvci5jdXJyZW50LCBJbnZpc2libGVQYXJlbnRTdXNwZW5zZUNvbnRleHQpOyAvLyBTY2hlZHVsZSB0aGUgbmVhcmVzdCBTdXNwZW5zZSB0byByZS1yZW5kZXIgdGhlIHRpbWVkIG91dCB2aWV3LlxuXG4gICAgdmFyIF93b3JrSW5Qcm9ncmVzcyA9IHJldHVybkZpYmVyO1xuXG4gICAgZG8ge1xuICAgICAgaWYgKF93b3JrSW5Qcm9ncmVzcy50YWcgPT09IFN1c3BlbnNlQ29tcG9uZW50ICYmIHNob3VsZENhcHR1cmVTdXNwZW5zZShfd29ya0luUHJvZ3Jlc3MsIGhhc0ludmlzaWJsZVBhcmVudEJvdW5kYXJ5KSkge1xuICAgICAgICAvLyBGb3VuZCB0aGUgbmVhcmVzdCBib3VuZGFyeS5cbiAgICAgICAgLy8gU3Rhc2ggdGhlIHByb21pc2Ugb24gdGhlIGJvdW5kYXJ5IGZpYmVyLiBJZiB0aGUgYm91bmRhcnkgdGltZXMgb3V0LCB3ZSdsbFxuICAgICAgICAvLyBhdHRhY2ggYW5vdGhlciBsaXN0ZW5lciB0byBmbGlwIHRoZSBib3VuZGFyeSBiYWNrIHRvIGl0cyBub3JtYWwgc3RhdGUuXG4gICAgICAgIHZhciB0aGVuYWJsZXMgPSBfd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWU7XG5cbiAgICAgICAgaWYgKHRoZW5hYmxlcyA9PT0gbnVsbCkge1xuICAgICAgICAgIHZhciB1cGRhdGVRdWV1ZSA9IG5ldyBTZXQoKTtcbiAgICAgICAgICB1cGRhdGVRdWV1ZS5hZGQodGhlbmFibGUpO1xuICAgICAgICAgIF93b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZSA9IHVwZGF0ZVF1ZXVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoZW5hYmxlcy5hZGQodGhlbmFibGUpO1xuICAgICAgICB9IC8vIElmIHRoZSBib3VuZGFyeSBpcyBvdXRzaWRlIG9mIGJsb2NraW5nIG1vZGUsIHdlIHNob3VsZCAqbm90KlxuICAgICAgICAvLyBzdXNwZW5kIHRoZSBjb21taXQuIFByZXRlbmQgYXMgaWYgdGhlIHN1c3BlbmRlZCBjb21wb25lbnQgcmVuZGVyZWRcbiAgICAgICAgLy8gbnVsbCBhbmQga2VlcCByZW5kZXJpbmcuIEluIHRoZSBjb21taXQgcGhhc2UsIHdlJ2xsIHNjaGVkdWxlIGFcbiAgICAgICAgLy8gc3Vic2VxdWVudCBzeW5jaHJvbm91cyB1cGRhdGUgdG8gcmUtcmVuZGVyIHRoZSBTdXNwZW5zZS5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gTm90ZTogSXQgZG9lc24ndCBtYXR0ZXIgd2hldGhlciB0aGUgY29tcG9uZW50IHRoYXQgc3VzcGVuZGVkIHdhc1xuICAgICAgICAvLyBpbnNpZGUgYSBibG9ja2luZyBtb2RlIHRyZWUuIElmIHRoZSBTdXNwZW5zZSBpcyBvdXRzaWRlIG9mIGl0LCB3ZVxuICAgICAgICAvLyBzaG91bGQgKm5vdCogc3VzcGVuZCB0aGUgY29tbWl0LlxuXG5cbiAgICAgICAgaWYgKChfd29ya0luUHJvZ3Jlc3MubW9kZSAmIEJsb2NraW5nTW9kZSkgPT09IE5vTW9kZSkge1xuICAgICAgICAgIF93b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gRGlkQ2FwdHVyZTsgLy8gV2UncmUgZ29pbmcgdG8gY29tbWl0IHRoaXMgZmliZXIgZXZlbiB0aG91Z2ggaXQgZGlkbid0IGNvbXBsZXRlLlxuICAgICAgICAgIC8vIEJ1dCB3ZSBzaG91bGRuJ3QgY2FsbCBhbnkgbGlmZWN5Y2xlIG1ldGhvZHMgb3IgY2FsbGJhY2tzLiBSZW1vdmVcbiAgICAgICAgICAvLyBhbGwgbGlmZWN5Y2xlIGVmZmVjdCB0YWdzLlxuXG4gICAgICAgICAgc291cmNlRmliZXIuZWZmZWN0VGFnICY9IH4oTGlmZWN5Y2xlRWZmZWN0TWFzayB8IEluY29tcGxldGUpO1xuXG4gICAgICAgICAgaWYgKHNvdXJjZUZpYmVyLnRhZyA9PT0gQ2xhc3NDb21wb25lbnQpIHtcbiAgICAgICAgICAgIHZhciBjdXJyZW50U291cmNlRmliZXIgPSBzb3VyY2VGaWJlci5hbHRlcm5hdGU7XG5cbiAgICAgICAgICAgIGlmIChjdXJyZW50U291cmNlRmliZXIgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgLy8gVGhpcyBpcyBhIG5ldyBtb3VudC4gQ2hhbmdlIHRoZSB0YWcgc28gaXQncyBub3QgbWlzdGFrZW4gZm9yIGFcbiAgICAgICAgICAgICAgLy8gY29tcGxldGVkIGNsYXNzIGNvbXBvbmVudC4gRm9yIGV4YW1wbGUsIHdlIHNob3VsZCBub3QgY2FsbFxuICAgICAgICAgICAgICAvLyBjb21wb25lbnRXaWxsVW5tb3VudCBpZiBpdCBpcyBkZWxldGVkLlxuICAgICAgICAgICAgICBzb3VyY2VGaWJlci50YWcgPSBJbmNvbXBsZXRlQ2xhc3NDb21wb25lbnQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBXaGVuIHdlIHRyeSByZW5kZXJpbmcgYWdhaW4sIHdlIHNob3VsZCBub3QgcmV1c2UgdGhlIGN1cnJlbnQgZmliZXIsXG4gICAgICAgICAgICAgIC8vIHNpbmNlIGl0J3Mga25vd24gdG8gYmUgaW4gYW4gaW5jb25zaXN0ZW50IHN0YXRlLiBVc2UgYSBmb3JjZSB1cGRhdGUgdG9cbiAgICAgICAgICAgICAgLy8gcHJldmVudCBhIGJhaWwgb3V0LlxuICAgICAgICAgICAgICB2YXIgdXBkYXRlID0gY3JlYXRlVXBkYXRlKFN5bmMsIG51bGwpO1xuICAgICAgICAgICAgICB1cGRhdGUudGFnID0gRm9yY2VVcGRhdGU7XG4gICAgICAgICAgICAgIGVucXVldWVVcGRhdGUoc291cmNlRmliZXIsIHVwZGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSAvLyBUaGUgc291cmNlIGZpYmVyIGRpZCBub3QgY29tcGxldGUuIE1hcmsgaXQgd2l0aCBTeW5jIHByaW9yaXR5IHRvXG4gICAgICAgICAgLy8gaW5kaWNhdGUgdGhhdCBpdCBzdGlsbCBoYXMgcGVuZGluZyB3b3JrLlxuXG5cbiAgICAgICAgICBzb3VyY2VGaWJlci5leHBpcmF0aW9uVGltZSA9IFN5bmM7IC8vIEV4aXQgd2l0aG91dCBzdXNwZW5kaW5nLlxuXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IC8vIENvbmZpcm1lZCB0aGF0IHRoZSBib3VuZGFyeSBpcyBpbiBhIGNvbmN1cnJlbnQgbW9kZSB0cmVlLiBDb250aW51ZVxuICAgICAgICAvLyB3aXRoIHRoZSBub3JtYWwgc3VzcGVuZCBwYXRoLlxuICAgICAgICAvL1xuICAgICAgICAvLyBBZnRlciB0aGlzIHdlJ2xsIHVzZSBhIHNldCBvZiBoZXVyaXN0aWNzIHRvIGRldGVybWluZSB3aGV0aGVyIHRoaXNcbiAgICAgICAgLy8gcmVuZGVyIHBhc3Mgd2lsbCBydW4gdG8gY29tcGxldGlvbiBvciByZXN0YXJ0IG9yIFwic3VzcGVuZFwiIHRoZSBjb21taXQuXG4gICAgICAgIC8vIFRoZSBhY3R1YWwgbG9naWMgZm9yIHRoaXMgaXMgc3ByZWFkIG91dCBpbiBkaWZmZXJlbnQgcGxhY2VzLlxuICAgICAgICAvL1xuICAgICAgICAvLyBUaGlzIGZpcnN0IHByaW5jaXBsZSBpcyB0aGF0IGlmIHdlJ3JlIGdvaW5nIHRvIHN1c3BlbmQgd2hlbiB3ZSBjb21wbGV0ZVxuICAgICAgICAvLyBhIHJvb3QsIHRoZW4gd2Ugc2hvdWxkIGFsc28gcmVzdGFydCBpZiB3ZSBnZXQgYW4gdXBkYXRlIG9yIHBpbmcgdGhhdFxuICAgICAgICAvLyBtaWdodCB1bnN1c3BlbmQgaXQsIGFuZCB2aWNlIHZlcnNhLiBUaGUgb25seSByZWFzb24gdG8gc3VzcGVuZCBpc1xuICAgICAgICAvLyBiZWNhdXNlIHlvdSB0aGluayB5b3UgbWlnaHQgd2FudCB0byByZXN0YXJ0IGJlZm9yZSBjb21taXR0aW5nLiBIb3dldmVyLFxuICAgICAgICAvLyBpdCBkb2Vzbid0IG1ha2Ugc2Vuc2UgdG8gcmVzdGFydCBvbmx5IHdoaWxlIGluIHRoZSBwZXJpb2Qgd2UncmUgc3VzcGVuZGVkLlxuICAgICAgICAvL1xuICAgICAgICAvLyBSZXN0YXJ0aW5nIHRvbyBhZ2dyZXNzaXZlbHkgaXMgYWxzbyBub3QgZ29vZCBiZWNhdXNlIGl0IHN0YXJ2ZXMgb3V0IGFueVxuICAgICAgICAvLyBpbnRlcm1lZGlhdGUgbG9hZGluZyBzdGF0ZS4gU28gd2UgdXNlIGhldXJpc3RpY3MgdG8gZGV0ZXJtaW5lIHdoZW4uXG4gICAgICAgIC8vIFN1c3BlbnNlIEhldXJpc3RpY3NcbiAgICAgICAgLy9cbiAgICAgICAgLy8gSWYgbm90aGluZyB0aHJldyBhIFByb21pc2Ugb3IgYWxsIHRoZSBzYW1lIGZhbGxiYWNrcyBhcmUgYWxyZWFkeSBzaG93aW5nLFxuICAgICAgICAvLyB0aGVuIGRvbid0IHN1c3BlbmQvcmVzdGFydC5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gSWYgdGhpcyBpcyBhbiBpbml0aWFsIHJlbmRlciBvZiBhIG5ldyB0cmVlIG9mIFN1c3BlbnNlIGJvdW5kYXJpZXMgYW5kXG4gICAgICAgIC8vIHRob3NlIHRyaWdnZXIgYSBmYWxsYmFjaywgdGhlbiBkb24ndCBzdXNwZW5kL3Jlc3RhcnQuIFdlIHdhbnQgdG8gZW5zdXJlXG4gICAgICAgIC8vIHRoYXQgd2UgY2FuIHNob3cgdGhlIGluaXRpYWwgbG9hZGluZyBzdGF0ZSBhcyBxdWlja2x5IGFzIHBvc3NpYmxlLlxuICAgICAgICAvL1xuICAgICAgICAvLyBJZiB3ZSBoaXQgYSBcIkRlbGF5ZWRcIiBjYXNlLCBzdWNoIGFzIHdoZW4gd2UnZCBzd2l0Y2ggZnJvbSBjb250ZW50IGJhY2sgaW50b1xuICAgICAgICAvLyBhIGZhbGxiYWNrLCB0aGVuIHdlIHNob3VsZCBhbHdheXMgc3VzcGVuZC9yZXN0YXJ0LiBTdXNwZW5zZUNvbmZpZyBhcHBsaWVzIHRvXG4gICAgICAgIC8vIHRoaXMgY2FzZS4gSWYgbm9uZSBpcyBkZWZpbmVkLCBKTkQgaXMgdXNlZCBpbnN0ZWFkLlxuICAgICAgICAvL1xuICAgICAgICAvLyBJZiB3ZSdyZSBhbHJlYWR5IHNob3dpbmcgYSBmYWxsYmFjayBhbmQgaXQgZ2V0cyBcInJldHJpZWRcIiwgYWxsb3dpbmcgdXMgdG8gc2hvd1xuICAgICAgICAvLyBhbm90aGVyIGxldmVsLCBidXQgdGhlcmUncyBzdGlsbCBhbiBpbm5lciBib3VuZGFyeSB0aGF0IHdvdWxkIHNob3cgYSBmYWxsYmFjayxcbiAgICAgICAgLy8gdGhlbiB3ZSBzdXNwZW5kL3Jlc3RhcnQgZm9yIDUwMG1zIHNpbmNlIHRoZSBsYXN0IHRpbWUgd2Ugc2hvd2VkIGEgZmFsbGJhY2tcbiAgICAgICAgLy8gYW55d2hlcmUgaW4gdGhlIHRyZWUuIFRoaXMgZWZmZWN0aXZlbHkgdGhyb3R0bGVzIHByb2dyZXNzaXZlIGxvYWRpbmcgaW50byBhXG4gICAgICAgIC8vIGNvbnNpc3RlbnQgdHJhaW4gb2YgY29tbWl0cy4gVGhpcyBhbHNvIGdpdmVzIHVzIGFuIG9wcG9ydHVuaXR5IHRvIHJlc3RhcnQgdG9cbiAgICAgICAgLy8gZ2V0IHRvIHRoZSBjb21wbGV0ZWQgc3RhdGUgc2xpZ2h0bHkgZWFybGllci5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gSWYgdGhlcmUncyBhbWJpZ3VpdHkgZHVlIHRvIGJhdGNoaW5nIGl0J3MgcmVzb2x2ZWQgaW4gcHJlZmVyZW5jZSBvZjpcbiAgICAgICAgLy8gMSkgXCJkZWxheWVkXCIsIDIpIFwiaW5pdGlhbCByZW5kZXJcIiwgMykgXCJyZXRyeVwiLlxuICAgICAgICAvL1xuICAgICAgICAvLyBXZSB3YW50IHRvIGVuc3VyZSB0aGF0IGEgXCJidXN5XCIgc3RhdGUgZG9lc24ndCBnZXQgZm9yY2UgY29tbWl0dGVkLiBXZSB3YW50IHRvXG4gICAgICAgIC8vIGVuc3VyZSB0aGF0IG5ldyBpbml0aWFsIGxvYWRpbmcgc3RhdGVzIGNhbiBjb21taXQgYXMgc29vbiBhcyBwb3NzaWJsZS5cblxuXG4gICAgICAgIGF0dGFjaFBpbmdMaXN0ZW5lcihyb290LCByZW5kZXJFeHBpcmF0aW9uVGltZSwgdGhlbmFibGUpO1xuICAgICAgICBfd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnIHw9IFNob3VsZENhcHR1cmU7XG4gICAgICAgIF93b3JrSW5Qcm9ncmVzcy5leHBpcmF0aW9uVGltZSA9IHJlbmRlckV4cGlyYXRpb25UaW1lO1xuICAgICAgICByZXR1cm47XG4gICAgICB9IC8vIFRoaXMgYm91bmRhcnkgYWxyZWFkeSBjYXB0dXJlZCBkdXJpbmcgdGhpcyByZW5kZXIuIENvbnRpbnVlIHRvIHRoZSBuZXh0XG4gICAgICAvLyBib3VuZGFyeS5cblxuXG4gICAgICBfd29ya0luUHJvZ3Jlc3MgPSBfd29ya0luUHJvZ3Jlc3MucmV0dXJuO1xuICAgIH0gd2hpbGUgKF93b3JrSW5Qcm9ncmVzcyAhPT0gbnVsbCk7IC8vIE5vIGJvdW5kYXJ5IHdhcyBmb3VuZC4gRmFsbHRocm91Z2ggdG8gZXJyb3IgbW9kZS5cbiAgICAvLyBUT0RPOiBVc2UgaW52YXJpYW50IHNvIHRoZSBtZXNzYWdlIGlzIHN0cmlwcGVkIGluIHByb2Q/XG5cblxuICAgIHZhbHVlID0gbmV3IEVycm9yKChnZXRDb21wb25lbnROYW1lKHNvdXJjZUZpYmVyLnR5cGUpIHx8ICdBIFJlYWN0IGNvbXBvbmVudCcpICsgJyBzdXNwZW5kZWQgd2hpbGUgcmVuZGVyaW5nLCBidXQgbm8gZmFsbGJhY2sgVUkgd2FzIHNwZWNpZmllZC5cXG4nICsgJ1xcbicgKyAnQWRkIGEgPFN1c3BlbnNlIGZhbGxiYWNrPS4uLj4gY29tcG9uZW50IGhpZ2hlciBpbiB0aGUgdHJlZSB0byAnICsgJ3Byb3ZpZGUgYSBsb2FkaW5nIGluZGljYXRvciBvciBwbGFjZWhvbGRlciB0byBkaXNwbGF5LicgKyBnZXRTdGFja0J5RmliZXJJbkRldkFuZFByb2Qoc291cmNlRmliZXIpKTtcbiAgfSAvLyBXZSBkaWRuJ3QgZmluZCBhIGJvdW5kYXJ5IHRoYXQgY291bGQgaGFuZGxlIHRoaXMgdHlwZSBvZiBleGNlcHRpb24uIFN0YXJ0XG4gIC8vIG92ZXIgYW5kIHRyYXZlcnNlIHBhcmVudCBwYXRoIGFnYWluLCB0aGlzIHRpbWUgdHJlYXRpbmcgdGhlIGV4Y2VwdGlvblxuICAvLyBhcyBhbiBlcnJvci5cblxuXG4gIHJlbmRlckRpZEVycm9yKCk7XG4gIHZhbHVlID0gY3JlYXRlQ2FwdHVyZWRWYWx1ZSh2YWx1ZSwgc291cmNlRmliZXIpO1xuICB2YXIgd29ya0luUHJvZ3Jlc3MgPSByZXR1cm5GaWJlcjtcblxuICBkbyB7XG4gICAgc3dpdGNoICh3b3JrSW5Qcm9ncmVzcy50YWcpIHtcbiAgICAgIGNhc2UgSG9zdFJvb3Q6XG4gICAgICAgIHtcbiAgICAgICAgICB2YXIgX2Vycm9ySW5mbyA9IHZhbHVlO1xuICAgICAgICAgIHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyB8PSBTaG91bGRDYXB0dXJlO1xuICAgICAgICAgIHdvcmtJblByb2dyZXNzLmV4cGlyYXRpb25UaW1lID0gcmVuZGVyRXhwaXJhdGlvblRpbWU7XG5cbiAgICAgICAgICB2YXIgX3VwZGF0ZSA9IGNyZWF0ZVJvb3RFcnJvclVwZGF0ZSh3b3JrSW5Qcm9ncmVzcywgX2Vycm9ySW5mbywgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuXG4gICAgICAgICAgZW5xdWV1ZUNhcHR1cmVkVXBkYXRlKHdvcmtJblByb2dyZXNzLCBfdXBkYXRlKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgY2FzZSBDbGFzc0NvbXBvbmVudDpcbiAgICAgICAgLy8gQ2FwdHVyZSBhbmQgcmV0cnlcbiAgICAgICAgdmFyIGVycm9ySW5mbyA9IHZhbHVlO1xuICAgICAgICB2YXIgY3RvciA9IHdvcmtJblByb2dyZXNzLnR5cGU7XG4gICAgICAgIHZhciBpbnN0YW5jZSA9IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZTtcblxuICAgICAgICBpZiAoKHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyAmIERpZENhcHR1cmUpID09PSBOb0VmZmVjdCAmJiAodHlwZW9mIGN0b3IuZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yID09PSAnZnVuY3Rpb24nIHx8IGluc3RhbmNlICE9PSBudWxsICYmIHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnREaWRDYXRjaCA9PT0gJ2Z1bmN0aW9uJyAmJiAhaXNBbHJlYWR5RmFpbGVkTGVnYWN5RXJyb3JCb3VuZGFyeShpbnN0YW5jZSkpKSB7XG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnIHw9IFNob3VsZENhcHR1cmU7XG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MuZXhwaXJhdGlvblRpbWUgPSByZW5kZXJFeHBpcmF0aW9uVGltZTsgLy8gU2NoZWR1bGUgdGhlIGVycm9yIGJvdW5kYXJ5IHRvIHJlLXJlbmRlciB1c2luZyB1cGRhdGVkIHN0YXRlXG5cbiAgICAgICAgICB2YXIgX3VwZGF0ZTIgPSBjcmVhdGVDbGFzc0Vycm9yVXBkYXRlKHdvcmtJblByb2dyZXNzLCBlcnJvckluZm8sIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcblxuICAgICAgICAgIGVucXVldWVDYXB0dXJlZFVwZGF0ZSh3b3JrSW5Qcm9ncmVzcywgX3VwZGF0ZTIpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICB3b3JrSW5Qcm9ncmVzcyA9IHdvcmtJblByb2dyZXNzLnJldHVybjtcbiAgfSB3aGlsZSAod29ya0luUHJvZ3Jlc3MgIT09IG51bGwpO1xufVxuXG52YXIgY2VpbCA9IE1hdGguY2VpbDtcbnZhciBSZWFjdEN1cnJlbnREaXNwYXRjaGVyID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuUmVhY3RDdXJyZW50RGlzcGF0Y2hlcjtcbnZhciBSZWFjdEN1cnJlbnRPd25lciQyID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuUmVhY3RDdXJyZW50T3duZXI7XG52YXIgSXNTb21lUmVuZGVyZXJBY3RpbmcgPSBSZWFjdFNoYXJlZEludGVybmFscy5Jc1NvbWVSZW5kZXJlckFjdGluZztcbnZhciBOb0NvbnRleHQgPVxuLyogICAgICAgICAgICAgICAgICAgICovXG4wO1xudmFyIEJhdGNoZWRDb250ZXh0ID1cbi8qICAgICAgICAgICAgICAgKi9cbjE7XG52YXIgRXZlbnRDb250ZXh0ID1cbi8qICAgICAgICAgICAgICAgICAqL1xuMjtcbnZhciBEaXNjcmV0ZUV2ZW50Q29udGV4dCA9XG4vKiAgICAgICAgICovXG40O1xudmFyIExlZ2FjeVVuYmF0Y2hlZENvbnRleHQgPVxuLyogICAgICAgKi9cbjg7XG52YXIgUmVuZGVyQ29udGV4dCA9XG4vKiAgICAgICAgICAgICAgICAqL1xuMTY7XG52YXIgQ29tbWl0Q29udGV4dCA9XG4vKiAgICAgICAgICAgICAgICAqL1xuMzI7XG52YXIgUm9vdEluY29tcGxldGUgPSAwO1xudmFyIFJvb3RGYXRhbEVycm9yZWQgPSAxO1xudmFyIFJvb3RFcnJvcmVkID0gMjtcbnZhciBSb290U3VzcGVuZGVkID0gMztcbnZhciBSb290U3VzcGVuZGVkV2l0aERlbGF5ID0gNDtcbnZhciBSb290Q29tcGxldGVkID0gNTtcbi8vIERlc2NyaWJlcyB3aGVyZSB3ZSBhcmUgaW4gdGhlIFJlYWN0IGV4ZWN1dGlvbiBzdGFja1xudmFyIGV4ZWN1dGlvbkNvbnRleHQgPSBOb0NvbnRleHQ7IC8vIFRoZSByb290IHdlJ3JlIHdvcmtpbmcgb25cblxudmFyIHdvcmtJblByb2dyZXNzUm9vdCA9IG51bGw7IC8vIFRoZSBmaWJlciB3ZSdyZSB3b3JraW5nIG9uXG5cbnZhciB3b3JrSW5Qcm9ncmVzcyA9IG51bGw7IC8vIFRoZSBleHBpcmF0aW9uIHRpbWUgd2UncmUgcmVuZGVyaW5nXG5cbnZhciByZW5kZXJFeHBpcmF0aW9uVGltZSA9IE5vV29yazsgLy8gV2hldGhlciB0byByb290IGNvbXBsZXRlZCwgZXJyb3JlZCwgc3VzcGVuZGVkLCBldGMuXG5cbnZhciB3b3JrSW5Qcm9ncmVzc1Jvb3RFeGl0U3RhdHVzID0gUm9vdEluY29tcGxldGU7IC8vIEEgZmF0YWwgZXJyb3IsIGlmIG9uZSBpcyB0aHJvd25cblxudmFyIHdvcmtJblByb2dyZXNzUm9vdEZhdGFsRXJyb3IgPSBudWxsOyAvLyBNb3N0IHJlY2VudCBldmVudCB0aW1lIGFtb25nIHByb2Nlc3NlZCB1cGRhdGVzIGR1cmluZyB0aGlzIHJlbmRlci5cbi8vIFRoaXMgaXMgY29uY2VwdHVhbGx5IGEgdGltZSBzdGFtcCBidXQgZXhwcmVzc2VkIGluIHRlcm1zIG9mIGFuIEV4cGlyYXRpb25UaW1lXG4vLyBiZWNhdXNlIHdlIGRlYWwgbW9zdGx5IHdpdGggZXhwaXJhdGlvbiB0aW1lcyBpbiB0aGUgaG90IHBhdGgsIHNvIHRoaXMgYXZvaWRzXG4vLyB0aGUgY29udmVyc2lvbiBoYXBwZW5pbmcgaW4gdGhlIGhvdCBwYXRoLlxuXG52YXIgd29ya0luUHJvZ3Jlc3NSb290TGF0ZXN0UHJvY2Vzc2VkRXhwaXJhdGlvblRpbWUgPSBTeW5jO1xudmFyIHdvcmtJblByb2dyZXNzUm9vdExhdGVzdFN1c3BlbnNlVGltZW91dCA9IFN5bmM7XG52YXIgd29ya0luUHJvZ3Jlc3NSb290Q2FuU3VzcGVuZFVzaW5nQ29uZmlnID0gbnVsbDsgLy8gVGhlIHdvcmsgbGVmdCBvdmVyIGJ5IGNvbXBvbmVudHMgdGhhdCB3ZXJlIHZpc2l0ZWQgZHVyaW5nIHRoaXMgcmVuZGVyLiBPbmx5XG4vLyBpbmNsdWRlcyB1bnByb2Nlc3NlZCB1cGRhdGVzLCBub3Qgd29yayBpbiBiYWlsZWQgb3V0IGNoaWxkcmVuLlxuXG52YXIgd29ya0luUHJvZ3Jlc3NSb290TmV4dFVucHJvY2Vzc2VkVXBkYXRlVGltZSA9IE5vV29yazsgLy8gSWYgd2UncmUgcGluZ2VkIHdoaWxlIHJlbmRlcmluZyB3ZSBkb24ndCBhbHdheXMgcmVzdGFydCBpbW1lZGlhdGVseS5cbi8vIFRoaXMgZmxhZyBkZXRlcm1pbmVzIGlmIGl0IG1pZ2h0IGJlIHdvcnRod2hpbGUgdG8gcmVzdGFydCBpZiBhbiBvcHBvcnR1bml0eVxuLy8gaGFwcGVucyBsYXRlcmUuXG5cbnZhciB3b3JrSW5Qcm9ncmVzc1Jvb3RIYXNQZW5kaW5nUGluZyA9IGZhbHNlOyAvLyBUaGUgbW9zdCByZWNlbnQgdGltZSB3ZSBjb21taXR0ZWQgYSBmYWxsYmFjay4gVGhpcyBsZXRzIHVzIGVuc3VyZSBhIHRyYWluXG4vLyBtb2RlbCB3aGVyZSB3ZSBkb24ndCBjb21taXQgbmV3IGxvYWRpbmcgc3RhdGVzIGluIHRvbyBxdWljayBzdWNjZXNzaW9uLlxuXG52YXIgZ2xvYmFsTW9zdFJlY2VudEZhbGxiYWNrVGltZSA9IDA7XG52YXIgRkFMTEJBQ0tfVEhST1RUTEVfTVMgPSA1MDA7XG52YXIgbmV4dEVmZmVjdCA9IG51bGw7XG52YXIgaGFzVW5jYXVnaHRFcnJvciA9IGZhbHNlO1xudmFyIGZpcnN0VW5jYXVnaHRFcnJvciA9IG51bGw7XG52YXIgbGVnYWN5RXJyb3JCb3VuZGFyaWVzVGhhdEFscmVhZHlGYWlsZWQgPSBudWxsO1xudmFyIHJvb3REb2VzSGF2ZVBhc3NpdmVFZmZlY3RzID0gZmFsc2U7XG52YXIgcm9vdFdpdGhQZW5kaW5nUGFzc2l2ZUVmZmVjdHMgPSBudWxsO1xudmFyIHBlbmRpbmdQYXNzaXZlRWZmZWN0c1JlbmRlclByaW9yaXR5ID0gTm9Qcmlvcml0eTtcbnZhciBwZW5kaW5nUGFzc2l2ZUVmZmVjdHNFeHBpcmF0aW9uVGltZSA9IE5vV29yaztcbnZhciByb290c1dpdGhQZW5kaW5nRGlzY3JldGVVcGRhdGVzID0gbnVsbDsgLy8gVXNlIHRoZXNlIHRvIHByZXZlbnQgYW4gaW5maW5pdGUgbG9vcCBvZiBuZXN0ZWQgdXBkYXRlc1xuXG52YXIgTkVTVEVEX1VQREFURV9MSU1JVCA9IDUwO1xudmFyIG5lc3RlZFVwZGF0ZUNvdW50ID0gMDtcbnZhciByb290V2l0aE5lc3RlZFVwZGF0ZXMgPSBudWxsO1xudmFyIE5FU1RFRF9QQVNTSVZFX1VQREFURV9MSU1JVCA9IDUwO1xudmFyIG5lc3RlZFBhc3NpdmVVcGRhdGVDb3VudCA9IDA7XG52YXIgaW50ZXJydXB0ZWRCeSA9IG51bGw7IC8vIE1hcmtzIHRoZSBuZWVkIHRvIHJlc2NoZWR1bGUgcGVuZGluZyBpbnRlcmFjdGlvbnMgYXQgdGhlc2UgZXhwaXJhdGlvbiB0aW1lc1xuLy8gZHVyaW5nIHRoZSBjb21taXQgcGhhc2UuIFRoaXMgZW5hYmxlcyB0aGVtIHRvIGJlIHRyYWNlZCBhY3Jvc3MgY29tcG9uZW50c1xuLy8gdGhhdCBzcGF3biBuZXcgd29yayBkdXJpbmcgcmVuZGVyLiBFLmcuIGhpZGRlbiBib3VuZGFyaWVzLCBzdXNwZW5kZWQgU1NSXG4vLyBoeWRyYXRpb24gb3IgU3VzcGVuc2VMaXN0LlxuXG52YXIgc3Bhd25lZFdvcmtEdXJpbmdSZW5kZXIgPSBudWxsOyAvLyBFeHBpcmF0aW9uIHRpbWVzIGFyZSBjb21wdXRlZCBieSBhZGRpbmcgdG8gdGhlIGN1cnJlbnQgdGltZSAodGhlIHN0YXJ0XG4vLyB0aW1lKS4gSG93ZXZlciwgaWYgdHdvIHVwZGF0ZXMgYXJlIHNjaGVkdWxlZCB3aXRoaW4gdGhlIHNhbWUgZXZlbnQsIHdlXG4vLyBzaG91bGQgdHJlYXQgdGhlaXIgc3RhcnQgdGltZXMgYXMgc2ltdWx0YW5lb3VzLCBldmVuIGlmIHRoZSBhY3R1YWwgY2xvY2tcbi8vIHRpbWUgaGFzIGFkdmFuY2VkIGJldHdlZW4gdGhlIGZpcnN0IGFuZCBzZWNvbmQgY2FsbC5cbi8vIEluIG90aGVyIHdvcmRzLCBiZWNhdXNlIGV4cGlyYXRpb24gdGltZXMgZGV0ZXJtaW5lIGhvdyB1cGRhdGVzIGFyZSBiYXRjaGVkLFxuLy8gd2Ugd2FudCBhbGwgdXBkYXRlcyBvZiBsaWtlIHByaW9yaXR5IHRoYXQgb2NjdXIgd2l0aGluIHRoZSBzYW1lIGV2ZW50IHRvXG4vLyByZWNlaXZlIHRoZSBzYW1lIGV4cGlyYXRpb24gdGltZS4gT3RoZXJ3aXNlIHdlIGdldCB0ZWFyaW5nLlxuXG52YXIgY3VycmVudEV2ZW50VGltZSA9IE5vV29yaztcbmZ1bmN0aW9uIHJlcXVlc3RDdXJyZW50VGltZUZvclVwZGF0ZSgpIHtcbiAgaWYgKChleGVjdXRpb25Db250ZXh0ICYgKFJlbmRlckNvbnRleHQgfCBDb21taXRDb250ZXh0KSkgIT09IE5vQ29udGV4dCkge1xuICAgIC8vIFdlJ3JlIGluc2lkZSBSZWFjdCwgc28gaXQncyBmaW5lIHRvIHJlYWQgdGhlIGFjdHVhbCB0aW1lLlxuICAgIHJldHVybiBtc1RvRXhwaXJhdGlvblRpbWUobm93KCkpO1xuICB9IC8vIFdlJ3JlIG5vdCBpbnNpZGUgUmVhY3QsIHNvIHdlIG1heSBiZSBpbiB0aGUgbWlkZGxlIG9mIGEgYnJvd3NlciBldmVudC5cblxuXG4gIGlmIChjdXJyZW50RXZlbnRUaW1lICE9PSBOb1dvcmspIHtcbiAgICAvLyBVc2UgdGhlIHNhbWUgc3RhcnQgdGltZSBmb3IgYWxsIHVwZGF0ZXMgdW50aWwgd2UgZW50ZXIgUmVhY3QgYWdhaW4uXG4gICAgcmV0dXJuIGN1cnJlbnRFdmVudFRpbWU7XG4gIH0gLy8gVGhpcyBpcyB0aGUgZmlyc3QgdXBkYXRlIHNpbmNlIFJlYWN0IHlpZWxkZWQuIENvbXB1dGUgYSBuZXcgc3RhcnQgdGltZS5cblxuXG4gIGN1cnJlbnRFdmVudFRpbWUgPSBtc1RvRXhwaXJhdGlvblRpbWUobm93KCkpO1xuICByZXR1cm4gY3VycmVudEV2ZW50VGltZTtcbn1cbmZ1bmN0aW9uIGdldEN1cnJlbnRUaW1lKCkge1xuICByZXR1cm4gbXNUb0V4cGlyYXRpb25UaW1lKG5vdygpKTtcbn1cbmZ1bmN0aW9uIGNvbXB1dGVFeHBpcmF0aW9uRm9yRmliZXIoY3VycmVudFRpbWUsIGZpYmVyLCBzdXNwZW5zZUNvbmZpZykge1xuICB2YXIgbW9kZSA9IGZpYmVyLm1vZGU7XG5cbiAgaWYgKChtb2RlICYgQmxvY2tpbmdNb2RlKSA9PT0gTm9Nb2RlKSB7XG4gICAgcmV0dXJuIFN5bmM7XG4gIH1cblxuICB2YXIgcHJpb3JpdHlMZXZlbCA9IGdldEN1cnJlbnRQcmlvcml0eUxldmVsKCk7XG5cbiAgaWYgKChtb2RlICYgQ29uY3VycmVudE1vZGUpID09PSBOb01vZGUpIHtcbiAgICByZXR1cm4gcHJpb3JpdHlMZXZlbCA9PT0gSW1tZWRpYXRlUHJpb3JpdHkgPyBTeW5jIDogQmF0Y2hlZDtcbiAgfVxuXG4gIGlmICgoZXhlY3V0aW9uQ29udGV4dCAmIFJlbmRlckNvbnRleHQpICE9PSBOb0NvbnRleHQpIHtcbiAgICAvLyBVc2Ugd2hhdGV2ZXIgdGltZSB3ZSdyZSBhbHJlYWR5IHJlbmRlcmluZ1xuICAgIC8vIFRPRE86IFNob3VsZCB0aGVyZSBiZSBhIHdheSB0byBvcHQgb3V0LCBsaWtlIHdpdGggYHJ1bldpdGhQcmlvcml0eWA/XG4gICAgcmV0dXJuIHJlbmRlckV4cGlyYXRpb25UaW1lO1xuICB9XG5cbiAgdmFyIGV4cGlyYXRpb25UaW1lO1xuXG4gIGlmIChzdXNwZW5zZUNvbmZpZyAhPT0gbnVsbCkge1xuICAgIC8vIENvbXB1dGUgYW4gZXhwaXJhdGlvbiB0aW1lIGJhc2VkIG9uIHRoZSBTdXNwZW5zZSB0aW1lb3V0LlxuICAgIGV4cGlyYXRpb25UaW1lID0gY29tcHV0ZVN1c3BlbnNlRXhwaXJhdGlvbihjdXJyZW50VGltZSwgc3VzcGVuc2VDb25maWcudGltZW91dE1zIHwgMCB8fCBMT1dfUFJJT1JJVFlfRVhQSVJBVElPTik7XG4gIH0gZWxzZSB7XG4gICAgLy8gQ29tcHV0ZSBhbiBleHBpcmF0aW9uIHRpbWUgYmFzZWQgb24gdGhlIFNjaGVkdWxlciBwcmlvcml0eS5cbiAgICBzd2l0Y2ggKHByaW9yaXR5TGV2ZWwpIHtcbiAgICAgIGNhc2UgSW1tZWRpYXRlUHJpb3JpdHk6XG4gICAgICAgIGV4cGlyYXRpb25UaW1lID0gU3luYztcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgVXNlckJsb2NraW5nUHJpb3JpdHkkMjpcbiAgICAgICAgLy8gVE9ETzogUmVuYW1lIHRoaXMgdG8gY29tcHV0ZVVzZXJCbG9ja2luZ0V4cGlyYXRpb25cbiAgICAgICAgZXhwaXJhdGlvblRpbWUgPSBjb21wdXRlSW50ZXJhY3RpdmVFeHBpcmF0aW9uKGN1cnJlbnRUaW1lKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgTm9ybWFsUHJpb3JpdHk6XG4gICAgICBjYXNlIExvd1ByaW9yaXR5OlxuICAgICAgICAvLyBUT0RPOiBIYW5kbGUgTG93UHJpb3JpdHlcbiAgICAgICAgLy8gVE9ETzogUmVuYW1lIHRoaXMgdG8uLi4gc29tZXRoaW5nIGJldHRlci5cbiAgICAgICAgZXhwaXJhdGlvblRpbWUgPSBjb21wdXRlQXN5bmNFeHBpcmF0aW9uKGN1cnJlbnRUaW1lKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgSWRsZVByaW9yaXR5OlxuICAgICAgICBleHBpcmF0aW9uVGltZSA9IElkbGU7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICB7XG4gICAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJFeHBlY3RlZCBhIHZhbGlkIHByaW9yaXR5IGxldmVsXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgfVxuICB9IC8vIElmIHdlJ3JlIGluIHRoZSBtaWRkbGUgb2YgcmVuZGVyaW5nIGEgdHJlZSwgZG8gbm90IHVwZGF0ZSBhdCB0aGUgc2FtZVxuICAvLyBleHBpcmF0aW9uIHRpbWUgdGhhdCBpcyBhbHJlYWR5IHJlbmRlcmluZy5cbiAgLy8gVE9ETzogV2Ugc2hvdWxkbid0IGhhdmUgdG8gZG8gdGhpcyBpZiB0aGUgdXBkYXRlIGlzIG9uIGEgZGlmZmVyZW50IHJvb3QuXG4gIC8vIFJlZmFjdG9yIGNvbXB1dGVFeHBpcmF0aW9uRm9yRmliZXIgKyBzY2hlZHVsZVVwZGF0ZSBzbyB3ZSBoYXZlIGFjY2VzcyB0b1xuICAvLyB0aGUgcm9vdCB3aGVuIHdlIGNoZWNrIGZvciB0aGlzIGNvbmRpdGlvbi5cblxuXG4gIGlmICh3b3JrSW5Qcm9ncmVzc1Jvb3QgIT09IG51bGwgJiYgZXhwaXJhdGlvblRpbWUgPT09IHJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gICAgLy8gVGhpcyBpcyBhIHRyaWNrIHRvIG1vdmUgdGhpcyB1cGRhdGUgaW50byBhIHNlcGFyYXRlIGJhdGNoXG4gICAgZXhwaXJhdGlvblRpbWUgLT0gMTtcbiAgfVxuXG4gIHJldHVybiBleHBpcmF0aW9uVGltZTtcbn1cbmZ1bmN0aW9uIHNjaGVkdWxlVXBkYXRlT25GaWJlcihmaWJlciwgZXhwaXJhdGlvblRpbWUpIHtcbiAgY2hlY2tGb3JOZXN0ZWRVcGRhdGVzKCk7XG4gIHdhcm5BYm91dEludmFsaWRVcGRhdGVzT25DbGFzc0NvbXBvbmVudHNJbkRFVihmaWJlcik7XG4gIHZhciByb290ID0gbWFya1VwZGF0ZVRpbWVGcm9tRmliZXJUb1Jvb3QoZmliZXIsIGV4cGlyYXRpb25UaW1lKTtcblxuICBpZiAocm9vdCA9PT0gbnVsbCkge1xuICAgIHdhcm5BYm91dFVwZGF0ZU9uVW5tb3VudGVkRmliZXJJbkRFVihmaWJlcik7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY2hlY2tGb3JJbnRlcnJ1cHRpb24oZmliZXIsIGV4cGlyYXRpb25UaW1lKTtcbiAgcmVjb3JkU2NoZWR1bGVVcGRhdGUoKTsgLy8gVE9ETzogY29tcHV0ZUV4cGlyYXRpb25Gb3JGaWJlciBhbHNvIHJlYWRzIHRoZSBwcmlvcml0eS4gUGFzcyB0aGVcbiAgLy8gcHJpb3JpdHkgYXMgYW4gYXJndW1lbnQgdG8gdGhhdCBmdW5jdGlvbiBhbmQgdGhpcyBvbmUuXG5cbiAgdmFyIHByaW9yaXR5TGV2ZWwgPSBnZXRDdXJyZW50UHJpb3JpdHlMZXZlbCgpO1xuXG4gIGlmIChleHBpcmF0aW9uVGltZSA9PT0gU3luYykge1xuICAgIGlmICggLy8gQ2hlY2sgaWYgd2UncmUgaW5zaWRlIHVuYmF0Y2hlZFVwZGF0ZXNcbiAgICAoZXhlY3V0aW9uQ29udGV4dCAmIExlZ2FjeVVuYmF0Y2hlZENvbnRleHQpICE9PSBOb0NvbnRleHQgJiYgLy8gQ2hlY2sgaWYgd2UncmUgbm90IGFscmVhZHkgcmVuZGVyaW5nXG4gICAgKGV4ZWN1dGlvbkNvbnRleHQgJiAoUmVuZGVyQ29udGV4dCB8IENvbW1pdENvbnRleHQpKSA9PT0gTm9Db250ZXh0KSB7XG4gICAgICAvLyBSZWdpc3RlciBwZW5kaW5nIGludGVyYWN0aW9ucyBvbiB0aGUgcm9vdCB0byBhdm9pZCBsb3NpbmcgdHJhY2VkIGludGVyYWN0aW9uIGRhdGEuXG4gICAgICBzY2hlZHVsZVBlbmRpbmdJbnRlcmFjdGlvbnMocm9vdCwgZXhwaXJhdGlvblRpbWUpOyAvLyBUaGlzIGlzIGEgbGVnYWN5IGVkZ2UgY2FzZS4gVGhlIGluaXRpYWwgbW91bnQgb2YgYSBSZWFjdERPTS5yZW5kZXItZWRcbiAgICAgIC8vIHJvb3QgaW5zaWRlIG9mIGJhdGNoZWRVcGRhdGVzIHNob3VsZCBiZSBzeW5jaHJvbm91cywgYnV0IGxheW91dCB1cGRhdGVzXG4gICAgICAvLyBzaG91bGQgYmUgZGVmZXJyZWQgdW50aWwgdGhlIGVuZCBvZiB0aGUgYmF0Y2guXG5cbiAgICAgIHBlcmZvcm1TeW5jV29ya09uUm9vdChyb290KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZW5zdXJlUm9vdElzU2NoZWR1bGVkKHJvb3QpO1xuICAgICAgc2NoZWR1bGVQZW5kaW5nSW50ZXJhY3Rpb25zKHJvb3QsIGV4cGlyYXRpb25UaW1lKTtcblxuICAgICAgaWYgKGV4ZWN1dGlvbkNvbnRleHQgPT09IE5vQ29udGV4dCkge1xuICAgICAgICAvLyBGbHVzaCB0aGUgc3luY2hyb25vdXMgd29yayBub3csIHVubGVzcyB3ZSdyZSBhbHJlYWR5IHdvcmtpbmcgb3IgaW5zaWRlXG4gICAgICAgIC8vIGEgYmF0Y2guIFRoaXMgaXMgaW50ZW50aW9uYWxseSBpbnNpZGUgc2NoZWR1bGVVcGRhdGVPbkZpYmVyIGluc3RlYWQgb2ZcbiAgICAgICAgLy8gc2NoZWR1bGVDYWxsYmFja0ZvckZpYmVyIHRvIHByZXNlcnZlIHRoZSBhYmlsaXR5IHRvIHNjaGVkdWxlIGEgY2FsbGJhY2tcbiAgICAgICAgLy8gd2l0aG91dCBpbW1lZGlhdGVseSBmbHVzaGluZyBpdC4gV2Ugb25seSBkbyB0aGlzIGZvciB1c2VyLWluaXRpYXRlZFxuICAgICAgICAvLyB1cGRhdGVzLCB0byBwcmVzZXJ2ZSBoaXN0b3JpY2FsIGJlaGF2aW9yIG9mIGxlZ2FjeSBtb2RlLlxuICAgICAgICBmbHVzaFN5bmNDYWxsYmFja1F1ZXVlKCk7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGVuc3VyZVJvb3RJc1NjaGVkdWxlZChyb290KTtcbiAgICBzY2hlZHVsZVBlbmRpbmdJbnRlcmFjdGlvbnMocm9vdCwgZXhwaXJhdGlvblRpbWUpO1xuICB9XG5cbiAgaWYgKChleGVjdXRpb25Db250ZXh0ICYgRGlzY3JldGVFdmVudENvbnRleHQpICE9PSBOb0NvbnRleHQgJiYgKCAvLyBPbmx5IHVwZGF0ZXMgYXQgdXNlci1ibG9ja2luZyBwcmlvcml0eSBvciBncmVhdGVyIGFyZSBjb25zaWRlcmVkXG4gIC8vIGRpc2NyZXRlLCBldmVuIGluc2lkZSBhIGRpc2NyZXRlIGV2ZW50LlxuICBwcmlvcml0eUxldmVsID09PSBVc2VyQmxvY2tpbmdQcmlvcml0eSQyIHx8IHByaW9yaXR5TGV2ZWwgPT09IEltbWVkaWF0ZVByaW9yaXR5KSkge1xuICAgIC8vIFRoaXMgaXMgdGhlIHJlc3VsdCBvZiBhIGRpc2NyZXRlIGV2ZW50LiBUcmFjayB0aGUgbG93ZXN0IHByaW9yaXR5XG4gICAgLy8gZGlzY3JldGUgdXBkYXRlIHBlciByb290IHNvIHdlIGNhbiBmbHVzaCB0aGVtIGVhcmx5LCBpZiBuZWVkZWQuXG4gICAgaWYgKHJvb3RzV2l0aFBlbmRpbmdEaXNjcmV0ZVVwZGF0ZXMgPT09IG51bGwpIHtcbiAgICAgIHJvb3RzV2l0aFBlbmRpbmdEaXNjcmV0ZVVwZGF0ZXMgPSBuZXcgTWFwKFtbcm9vdCwgZXhwaXJhdGlvblRpbWVdXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBsYXN0RGlzY3JldGVUaW1lID0gcm9vdHNXaXRoUGVuZGluZ0Rpc2NyZXRlVXBkYXRlcy5nZXQocm9vdCk7XG5cbiAgICAgIGlmIChsYXN0RGlzY3JldGVUaW1lID09PSB1bmRlZmluZWQgfHwgbGFzdERpc2NyZXRlVGltZSA+IGV4cGlyYXRpb25UaW1lKSB7XG4gICAgICAgIHJvb3RzV2l0aFBlbmRpbmdEaXNjcmV0ZVVwZGF0ZXMuc2V0KHJvb3QsIGV4cGlyYXRpb25UaW1lKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbnZhciBzY2hlZHVsZVdvcmsgPSBzY2hlZHVsZVVwZGF0ZU9uRmliZXI7IC8vIFRoaXMgaXMgc3BsaXQgaW50byBhIHNlcGFyYXRlIGZ1bmN0aW9uIHNvIHdlIGNhbiBtYXJrIGEgZmliZXIgd2l0aCBwZW5kaW5nXG4vLyB3b3JrIHdpdGhvdXQgdHJlYXRpbmcgaXQgYXMgYSB0eXBpY2FsIHVwZGF0ZSB0aGF0IG9yaWdpbmF0ZXMgZnJvbSBhbiBldmVudDtcbi8vIGUuZy4gcmV0cnlpbmcgYSBTdXNwZW5zZSBib3VuZGFyeSBpc24ndCBhbiB1cGRhdGUsIGJ1dCBpdCBkb2VzIHNjaGVkdWxlIHdvcmtcbi8vIG9uIGEgZmliZXIuXG5cbmZ1bmN0aW9uIG1hcmtVcGRhdGVUaW1lRnJvbUZpYmVyVG9Sb290KGZpYmVyLCBleHBpcmF0aW9uVGltZSkge1xuICAvLyBVcGRhdGUgdGhlIHNvdXJjZSBmaWJlcidzIGV4cGlyYXRpb24gdGltZVxuICBpZiAoZmliZXIuZXhwaXJhdGlvblRpbWUgPCBleHBpcmF0aW9uVGltZSkge1xuICAgIGZpYmVyLmV4cGlyYXRpb25UaW1lID0gZXhwaXJhdGlvblRpbWU7XG4gIH1cblxuICB2YXIgYWx0ZXJuYXRlID0gZmliZXIuYWx0ZXJuYXRlO1xuXG4gIGlmIChhbHRlcm5hdGUgIT09IG51bGwgJiYgYWx0ZXJuYXRlLmV4cGlyYXRpb25UaW1lIDwgZXhwaXJhdGlvblRpbWUpIHtcbiAgICBhbHRlcm5hdGUuZXhwaXJhdGlvblRpbWUgPSBleHBpcmF0aW9uVGltZTtcbiAgfSAvLyBXYWxrIHRoZSBwYXJlbnQgcGF0aCB0byB0aGUgcm9vdCBhbmQgdXBkYXRlIHRoZSBjaGlsZCBleHBpcmF0aW9uIHRpbWUuXG5cblxuICB2YXIgbm9kZSA9IGZpYmVyLnJldHVybjtcbiAgdmFyIHJvb3QgPSBudWxsO1xuXG4gIGlmIChub2RlID09PSBudWxsICYmIGZpYmVyLnRhZyA9PT0gSG9zdFJvb3QpIHtcbiAgICByb290ID0gZmliZXIuc3RhdGVOb2RlO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChub2RlICE9PSBudWxsKSB7XG4gICAgICBhbHRlcm5hdGUgPSBub2RlLmFsdGVybmF0ZTtcblxuICAgICAgaWYgKG5vZGUuY2hpbGRFeHBpcmF0aW9uVGltZSA8IGV4cGlyYXRpb25UaW1lKSB7XG4gICAgICAgIG5vZGUuY2hpbGRFeHBpcmF0aW9uVGltZSA9IGV4cGlyYXRpb25UaW1lO1xuXG4gICAgICAgIGlmIChhbHRlcm5hdGUgIT09IG51bGwgJiYgYWx0ZXJuYXRlLmNoaWxkRXhwaXJhdGlvblRpbWUgPCBleHBpcmF0aW9uVGltZSkge1xuICAgICAgICAgIGFsdGVybmF0ZS5jaGlsZEV4cGlyYXRpb25UaW1lID0gZXhwaXJhdGlvblRpbWU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoYWx0ZXJuYXRlICE9PSBudWxsICYmIGFsdGVybmF0ZS5jaGlsZEV4cGlyYXRpb25UaW1lIDwgZXhwaXJhdGlvblRpbWUpIHtcbiAgICAgICAgYWx0ZXJuYXRlLmNoaWxkRXhwaXJhdGlvblRpbWUgPSBleHBpcmF0aW9uVGltZTtcbiAgICAgIH1cblxuICAgICAgaWYgKG5vZGUucmV0dXJuID09PSBudWxsICYmIG5vZGUudGFnID09PSBIb3N0Um9vdCkge1xuICAgICAgICByb290ID0gbm9kZS5zdGF0ZU5vZGU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBub2RlID0gbm9kZS5yZXR1cm47XG4gICAgfVxuICB9XG5cbiAgaWYgKHJvb3QgIT09IG51bGwpIHtcbiAgICBpZiAod29ya0luUHJvZ3Jlc3NSb290ID09PSByb290KSB7XG4gICAgICAvLyBSZWNlaXZlZCBhbiB1cGRhdGUgdG8gYSB0cmVlIHRoYXQncyBpbiB0aGUgbWlkZGxlIG9mIHJlbmRlcmluZy4gTWFya1xuICAgICAgLy8gdGhhdCdzIHVucHJvY2Vzc2VkIHdvcmsgb24gdGhpcyByb290LlxuICAgICAgbWFya1VucHJvY2Vzc2VkVXBkYXRlVGltZShleHBpcmF0aW9uVGltZSk7XG5cbiAgICAgIGlmICh3b3JrSW5Qcm9ncmVzc1Jvb3RFeGl0U3RhdHVzID09PSBSb290U3VzcGVuZGVkV2l0aERlbGF5KSB7XG4gICAgICAgIC8vIFRoZSByb290IGFscmVhZHkgc3VzcGVuZGVkIHdpdGggYSBkZWxheSwgd2hpY2ggbWVhbnMgdGhpcyByZW5kZXJcbiAgICAgICAgLy8gZGVmaW5pdGVseSB3b24ndCBmaW5pc2guIFNpbmNlIHdlIGhhdmUgYSBuZXcgdXBkYXRlLCBsZXQncyBtYXJrIGl0IGFzXG4gICAgICAgIC8vIHN1c3BlbmRlZCBub3csIHJpZ2h0IGJlZm9yZSBtYXJraW5nIHRoZSBpbmNvbWluZyB1cGRhdGUuIFRoaXMgaGFzIHRoZVxuICAgICAgICAvLyBlZmZlY3Qgb2YgaW50ZXJydXB0aW5nIHRoZSBjdXJyZW50IHJlbmRlciBhbmQgc3dpdGNoaW5nIHRvIHRoZSB1cGRhdGUuXG4gICAgICAgIC8vIFRPRE86IFRoaXMgaGFwcGVucyB0byB3b3JrIHdoZW4gcmVjZWl2aW5nIGFuIHVwZGF0ZSBkdXJpbmcgdGhlIHJlbmRlclxuICAgICAgICAvLyBwaGFzZSwgYmVjYXVzZSBvZiB0aGUgdHJpY2sgaW5zaWRlIGNvbXB1dGVFeHBpcmF0aW9uRm9yRmliZXIgdG9cbiAgICAgICAgLy8gc3VidHJhY3QgMSBmcm9tIGByZW5kZXJFeHBpcmF0aW9uVGltZWAgdG8gbW92ZSBpdCBpbnRvIGFcbiAgICAgICAgLy8gc2VwYXJhdGUgYnVja2V0LiBCdXQgd2Ugc2hvdWxkIHByb2JhYmx5IG1vZGVsIGl0IHdpdGggYW4gZXhjZXB0aW9uLFxuICAgICAgICAvLyB1c2luZyB0aGUgc2FtZSBtZWNoYW5pc20gd2UgdXNlIHRvIGZvcmNlIGh5ZHJhdGlvbiBvZiBhIHN1YnRyZWUuXG4gICAgICAgIC8vIFRPRE86IFRoaXMgZG9lcyBub3QgYWNjb3VudCBmb3IgbG93IHByaSB1cGRhdGVzIHRoYXQgd2VyZSBhbHJlYWR5XG4gICAgICAgIC8vIHNjaGVkdWxlZCBiZWZvcmUgdGhlIHJvb3Qgc3RhcnRlZCByZW5kZXJpbmcuIE5lZWQgdG8gdHJhY2sgdGhlIG5leHRcbiAgICAgICAgLy8gcGVuZGluZyBleHBpcmF0aW9uIHRpbWUgKHBlcmhhcHMgYnkgYmFja3RyYWNraW5nIHRoZSByZXR1cm4gcGF0aCkgYW5kXG4gICAgICAgIC8vIHRoZW4gdHJpZ2dlciBhIHJlc3RhcnQgaW4gdGhlIGByZW5kZXJEaWRTdXNwZW5kRGVsYXlJZlBvc3NpYmxlYCBwYXRoLlxuICAgICAgICBtYXJrUm9vdFN1c3BlbmRlZEF0VGltZShyb290LCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gICAgICB9XG4gICAgfSAvLyBNYXJrIHRoYXQgdGhlIHJvb3QgaGFzIGEgcGVuZGluZyB1cGRhdGUuXG5cblxuICAgIG1hcmtSb290VXBkYXRlZEF0VGltZShyb290LCBleHBpcmF0aW9uVGltZSk7XG4gIH1cblxuICByZXR1cm4gcm9vdDtcbn1cblxuZnVuY3Rpb24gZ2V0TmV4dFJvb3RFeHBpcmF0aW9uVGltZVRvV29ya09uKHJvb3QpIHtcbiAgLy8gRGV0ZXJtaW5lcyB0aGUgbmV4dCBleHBpcmF0aW9uIHRpbWUgdGhhdCB0aGUgcm9vdCBzaG91bGQgcmVuZGVyLCB0YWtpbmdcbiAgLy8gaW50byBhY2NvdW50IGxldmVscyB0aGF0IG1heSBiZSBzdXNwZW5kZWQsIG9yIGxldmVscyB0aGF0IG1heSBoYXZlXG4gIC8vIHJlY2VpdmVkIGEgcGluZy5cbiAgdmFyIGxhc3RFeHBpcmVkVGltZSA9IHJvb3QubGFzdEV4cGlyZWRUaW1lO1xuXG4gIGlmIChsYXN0RXhwaXJlZFRpbWUgIT09IE5vV29yaykge1xuICAgIHJldHVybiBsYXN0RXhwaXJlZFRpbWU7XG4gIH0gLy8gXCJQZW5kaW5nXCIgcmVmZXJzIHRvIGFueSB1cGRhdGUgdGhhdCBoYXNuJ3QgY29tbWl0dGVkIHlldCwgaW5jbHVkaW5nIGlmIGl0XG4gIC8vIHN1c3BlbmRlZC4gVGhlIFwic3VzcGVuZGVkXCIgcmFuZ2UgaXMgdGhlcmVmb3JlIGEgc3Vic2V0LlxuXG5cbiAgdmFyIGZpcnN0UGVuZGluZ1RpbWUgPSByb290LmZpcnN0UGVuZGluZ1RpbWU7XG5cbiAgaWYgKCFpc1Jvb3RTdXNwZW5kZWRBdFRpbWUocm9vdCwgZmlyc3RQZW5kaW5nVGltZSkpIHtcbiAgICAvLyBUaGUgaGlnaGVzdCBwcmlvcml0eSBwZW5kaW5nIHRpbWUgaXMgbm90IHN1c3BlbmRlZC4gTGV0J3Mgd29yayBvbiB0aGF0LlxuICAgIHJldHVybiBmaXJzdFBlbmRpbmdUaW1lO1xuICB9IC8vIElmIHRoZSBmaXJzdCBwZW5kaW5nIHRpbWUgaXMgc3VzcGVuZGVkLCBjaGVjayBpZiB0aGVyZSdzIGEgbG93ZXIgcHJpb3JpdHlcbiAgLy8gcGVuZGluZyBsZXZlbCB0aGF0IHdlIGtub3cgYWJvdXQuIE9yIGNoZWNrIGlmIHdlIHJlY2VpdmVkIGEgcGluZy4gV29ya1xuICAvLyBvbiB3aGljaGV2ZXIgaXMgaGlnaGVyIHByaW9yaXR5LlxuXG5cbiAgdmFyIGxhc3RQaW5nZWRUaW1lID0gcm9vdC5sYXN0UGluZ2VkVGltZTtcbiAgdmFyIG5leHRLbm93blBlbmRpbmdMZXZlbCA9IHJvb3QubmV4dEtub3duUGVuZGluZ0xldmVsO1xuICByZXR1cm4gbGFzdFBpbmdlZFRpbWUgPiBuZXh0S25vd25QZW5kaW5nTGV2ZWwgPyBsYXN0UGluZ2VkVGltZSA6IG5leHRLbm93blBlbmRpbmdMZXZlbDtcbn0gLy8gVXNlIHRoaXMgZnVuY3Rpb24gdG8gc2NoZWR1bGUgYSB0YXNrIGZvciBhIHJvb3QuIFRoZXJlJ3Mgb25seSBvbmUgdGFzayBwZXJcbi8vIHJvb3Q7IGlmIGEgdGFzayB3YXMgYWxyZWFkeSBzY2hlZHVsZWQsIHdlJ2xsIGNoZWNrIHRvIG1ha2Ugc3VyZSB0aGVcbi8vIGV4cGlyYXRpb24gdGltZSBvZiB0aGUgZXhpc3RpbmcgdGFzayBpcyB0aGUgc2FtZSBhcyB0aGUgZXhwaXJhdGlvbiB0aW1lIG9mXG4vLyB0aGUgbmV4dCBsZXZlbCB0aGF0IHRoZSByb290IGhhcyB3b3JrIG9uLiBUaGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCBvbiBldmVyeVxuLy8gdXBkYXRlLCBhbmQgcmlnaHQgYmVmb3JlIGV4aXRpbmcgYSB0YXNrLlxuXG5cbmZ1bmN0aW9uIGVuc3VyZVJvb3RJc1NjaGVkdWxlZChyb290KSB7XG4gIHZhciBsYXN0RXhwaXJlZFRpbWUgPSByb290Lmxhc3RFeHBpcmVkVGltZTtcblxuICBpZiAobGFzdEV4cGlyZWRUaW1lICE9PSBOb1dvcmspIHtcbiAgICAvLyBTcGVjaWFsIGNhc2U6IEV4cGlyZWQgd29yayBzaG91bGQgZmx1c2ggc3luY2hyb25vdXNseS5cbiAgICByb290LmNhbGxiYWNrRXhwaXJhdGlvblRpbWUgPSBTeW5jO1xuICAgIHJvb3QuY2FsbGJhY2tQcmlvcml0eSA9IEltbWVkaWF0ZVByaW9yaXR5O1xuICAgIHJvb3QuY2FsbGJhY2tOb2RlID0gc2NoZWR1bGVTeW5jQ2FsbGJhY2socGVyZm9ybVN5bmNXb3JrT25Sb290LmJpbmQobnVsbCwgcm9vdCkpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBleHBpcmF0aW9uVGltZSA9IGdldE5leHRSb290RXhwaXJhdGlvblRpbWVUb1dvcmtPbihyb290KTtcbiAgdmFyIGV4aXN0aW5nQ2FsbGJhY2tOb2RlID0gcm9vdC5jYWxsYmFja05vZGU7XG5cbiAgaWYgKGV4cGlyYXRpb25UaW1lID09PSBOb1dvcmspIHtcbiAgICAvLyBUaGVyZSdzIG5vdGhpbmcgdG8gd29yayBvbi5cbiAgICBpZiAoZXhpc3RpbmdDYWxsYmFja05vZGUgIT09IG51bGwpIHtcbiAgICAgIHJvb3QuY2FsbGJhY2tOb2RlID0gbnVsbDtcbiAgICAgIHJvb3QuY2FsbGJhY2tFeHBpcmF0aW9uVGltZSA9IE5vV29yaztcbiAgICAgIHJvb3QuY2FsbGJhY2tQcmlvcml0eSA9IE5vUHJpb3JpdHk7XG4gICAgfVxuXG4gICAgcmV0dXJuO1xuICB9IC8vIFRPRE86IElmIHRoaXMgaXMgYW4gdXBkYXRlLCB3ZSBhbHJlYWR5IHJlYWQgdGhlIGN1cnJlbnQgdGltZS4gUGFzcyB0aGVcbiAgLy8gdGltZSBhcyBhbiBhcmd1bWVudC5cblxuXG4gIHZhciBjdXJyZW50VGltZSA9IHJlcXVlc3RDdXJyZW50VGltZUZvclVwZGF0ZSgpO1xuICB2YXIgcHJpb3JpdHlMZXZlbCA9IGluZmVyUHJpb3JpdHlGcm9tRXhwaXJhdGlvblRpbWUoY3VycmVudFRpbWUsIGV4cGlyYXRpb25UaW1lKTsgLy8gSWYgdGhlcmUncyBhbiBleGlzdGluZyByZW5kZXIgdGFzaywgY29uZmlybSBpdCBoYXMgdGhlIGNvcnJlY3QgcHJpb3JpdHkgYW5kXG4gIC8vIGV4cGlyYXRpb24gdGltZS4gT3RoZXJ3aXNlLCB3ZSdsbCBjYW5jZWwgaXQgYW5kIHNjaGVkdWxlIGEgbmV3IG9uZS5cblxuICBpZiAoZXhpc3RpbmdDYWxsYmFja05vZGUgIT09IG51bGwpIHtcbiAgICB2YXIgZXhpc3RpbmdDYWxsYmFja1ByaW9yaXR5ID0gcm9vdC5jYWxsYmFja1ByaW9yaXR5O1xuICAgIHZhciBleGlzdGluZ0NhbGxiYWNrRXhwaXJhdGlvblRpbWUgPSByb290LmNhbGxiYWNrRXhwaXJhdGlvblRpbWU7XG5cbiAgICBpZiAoIC8vIENhbGxiYWNrIG11c3QgaGF2ZSB0aGUgZXhhY3Qgc2FtZSBleHBpcmF0aW9uIHRpbWUuXG4gICAgZXhpc3RpbmdDYWxsYmFja0V4cGlyYXRpb25UaW1lID09PSBleHBpcmF0aW9uVGltZSAmJiAvLyBDYWxsYmFjayBtdXN0IGhhdmUgZ3JlYXRlciBvciBlcXVhbCBwcmlvcml0eS5cbiAgICBleGlzdGluZ0NhbGxiYWNrUHJpb3JpdHkgPj0gcHJpb3JpdHlMZXZlbCkge1xuICAgICAgLy8gRXhpc3RpbmcgY2FsbGJhY2sgaXMgc3VmZmljaWVudC5cbiAgICAgIHJldHVybjtcbiAgICB9IC8vIE5lZWQgdG8gc2NoZWR1bGUgYSBuZXcgdGFzay5cbiAgICAvLyBUT0RPOiBJbnN0ZWFkIG9mIHNjaGVkdWxpbmcgYSBuZXcgdGFzaywgd2Ugc2hvdWxkIGJlIGFibGUgdG8gY2hhbmdlIHRoZVxuICAgIC8vIHByaW9yaXR5IG9mIHRoZSBleGlzdGluZyBvbmUuXG5cblxuICAgIGNhbmNlbENhbGxiYWNrKGV4aXN0aW5nQ2FsbGJhY2tOb2RlKTtcbiAgfVxuXG4gIHJvb3QuY2FsbGJhY2tFeHBpcmF0aW9uVGltZSA9IGV4cGlyYXRpb25UaW1lO1xuICByb290LmNhbGxiYWNrUHJpb3JpdHkgPSBwcmlvcml0eUxldmVsO1xuICB2YXIgY2FsbGJhY2tOb2RlO1xuXG4gIGlmIChleHBpcmF0aW9uVGltZSA9PT0gU3luYykge1xuICAgIC8vIFN5bmMgUmVhY3QgY2FsbGJhY2tzIGFyZSBzY2hlZHVsZWQgb24gYSBzcGVjaWFsIGludGVybmFsIHF1ZXVlXG4gICAgY2FsbGJhY2tOb2RlID0gc2NoZWR1bGVTeW5jQ2FsbGJhY2socGVyZm9ybVN5bmNXb3JrT25Sb290LmJpbmQobnVsbCwgcm9vdCkpO1xuICB9IGVsc2UgaWYgKGRpc2FibGVTY2hlZHVsZXJUaW1lb3V0QmFzZWRPblJlYWN0RXhwaXJhdGlvblRpbWUpIHtcbiAgICBjYWxsYmFja05vZGUgPSBzY2hlZHVsZUNhbGxiYWNrKHByaW9yaXR5TGV2ZWwsIHBlcmZvcm1Db25jdXJyZW50V29ya09uUm9vdC5iaW5kKG51bGwsIHJvb3QpKTtcbiAgfSBlbHNlIHtcbiAgICBjYWxsYmFja05vZGUgPSBzY2hlZHVsZUNhbGxiYWNrKHByaW9yaXR5TGV2ZWwsIHBlcmZvcm1Db25jdXJyZW50V29ya09uUm9vdC5iaW5kKG51bGwsIHJvb3QpLCAvLyBDb21wdXRlIGEgdGFzayB0aW1lb3V0IGJhc2VkIG9uIHRoZSBleHBpcmF0aW9uIHRpbWUuIFRoaXMgYWxzbyBhZmZlY3RzXG4gICAgLy8gb3JkZXJpbmcgYmVjYXVzZSB0YXNrcyBhcmUgcHJvY2Vzc2VkIGluIHRpbWVvdXQgb3JkZXIuXG4gICAge1xuICAgICAgdGltZW91dDogZXhwaXJhdGlvblRpbWVUb01zKGV4cGlyYXRpb25UaW1lKSAtIG5vdygpXG4gICAgfSk7XG4gIH1cblxuICByb290LmNhbGxiYWNrTm9kZSA9IGNhbGxiYWNrTm9kZTtcbn0gLy8gVGhpcyBpcyB0aGUgZW50cnkgcG9pbnQgZm9yIGV2ZXJ5IGNvbmN1cnJlbnQgdGFzaywgaS5lLiBhbnl0aGluZyB0aGF0XG4vLyBnb2VzIHRocm91Z2ggU2NoZWR1bGVyLlxuXG5cbmZ1bmN0aW9uIHBlcmZvcm1Db25jdXJyZW50V29ya09uUm9vdChyb290LCBkaWRUaW1lb3V0KSB7XG4gIC8vIFNpbmNlIHdlIGtub3cgd2UncmUgaW4gYSBSZWFjdCBldmVudCwgd2UgY2FuIGNsZWFyIHRoZSBjdXJyZW50XG4gIC8vIGV2ZW50IHRpbWUuIFRoZSBuZXh0IHVwZGF0ZSB3aWxsIGNvbXB1dGUgYSBuZXcgZXZlbnQgdGltZS5cbiAgY3VycmVudEV2ZW50VGltZSA9IE5vV29yaztcblxuICBpZiAoZGlkVGltZW91dCkge1xuICAgIC8vIFRoZSByZW5kZXIgdGFzayB0b29rIHRvbyBsb25nIHRvIGNvbXBsZXRlLiBNYXJrIHRoZSBjdXJyZW50IHRpbWUgYXNcbiAgICAvLyBleHBpcmVkIHRvIHN5bmNocm9ub3VzbHkgcmVuZGVyIGFsbCBleHBpcmVkIHdvcmsgaW4gYSBzaW5nbGUgYmF0Y2guXG4gICAgdmFyIGN1cnJlbnRUaW1lID0gcmVxdWVzdEN1cnJlbnRUaW1lRm9yVXBkYXRlKCk7XG4gICAgbWFya1Jvb3RFeHBpcmVkQXRUaW1lKHJvb3QsIGN1cnJlbnRUaW1lKTsgLy8gVGhpcyB3aWxsIHNjaGVkdWxlIGEgc3luY2hyb25vdXMgY2FsbGJhY2suXG5cbiAgICBlbnN1cmVSb290SXNTY2hlZHVsZWQocm9vdCk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH0gLy8gRGV0ZXJtaW5lIHRoZSBuZXh0IGV4cGlyYXRpb24gdGltZSB0byB3b3JrIG9uLCB1c2luZyB0aGUgZmllbGRzIHN0b3JlZFxuICAvLyBvbiB0aGUgcm9vdC5cblxuXG4gIHZhciBleHBpcmF0aW9uVGltZSA9IGdldE5leHRSb290RXhwaXJhdGlvblRpbWVUb1dvcmtPbihyb290KTtcblxuICBpZiAoZXhwaXJhdGlvblRpbWUgIT09IE5vV29yaykge1xuICAgIHZhciBvcmlnaW5hbENhbGxiYWNrTm9kZSA9IHJvb3QuY2FsbGJhY2tOb2RlO1xuXG4gICAgaWYgKCEoKGV4ZWN1dGlvbkNvbnRleHQgJiAoUmVuZGVyQ29udGV4dCB8IENvbW1pdENvbnRleHQpKSA9PT0gTm9Db250ZXh0KSkge1xuICAgICAge1xuICAgICAgICB0aHJvdyBFcnJvcihcIlNob3VsZCBub3QgYWxyZWFkeSBiZSB3b3JraW5nLlwiKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmbHVzaFBhc3NpdmVFZmZlY3RzKCk7IC8vIElmIHRoZSByb290IG9yIGV4cGlyYXRpb24gdGltZSBoYXZlIGNoYW5nZWQsIHRocm93IG91dCB0aGUgZXhpc3Rpbmcgc3RhY2tcbiAgICAvLyBhbmQgcHJlcGFyZSBhIGZyZXNoIG9uZS4gT3RoZXJ3aXNlIHdlJ2xsIGNvbnRpbnVlIHdoZXJlIHdlIGxlZnQgb2ZmLlxuXG4gICAgaWYgKHJvb3QgIT09IHdvcmtJblByb2dyZXNzUm9vdCB8fCBleHBpcmF0aW9uVGltZSAhPT0gcmVuZGVyRXhwaXJhdGlvblRpbWUpIHtcbiAgICAgIHByZXBhcmVGcmVzaFN0YWNrKHJvb3QsIGV4cGlyYXRpb25UaW1lKTtcbiAgICAgIHN0YXJ0V29ya09uUGVuZGluZ0ludGVyYWN0aW9ucyhyb290LCBleHBpcmF0aW9uVGltZSk7XG4gICAgfSAvLyBJZiB3ZSBoYXZlIGEgd29yay1pbi1wcm9ncmVzcyBmaWJlciwgaXQgbWVhbnMgdGhlcmUncyBzdGlsbCB3b3JrIHRvIGRvXG4gICAgLy8gaW4gdGhpcyByb290LlxuXG5cbiAgICBpZiAod29ya0luUHJvZ3Jlc3MgIT09IG51bGwpIHtcbiAgICAgIHZhciBwcmV2RXhlY3V0aW9uQ29udGV4dCA9IGV4ZWN1dGlvbkNvbnRleHQ7XG4gICAgICBleGVjdXRpb25Db250ZXh0IHw9IFJlbmRlckNvbnRleHQ7XG4gICAgICB2YXIgcHJldkRpc3BhdGNoZXIgPSBwdXNoRGlzcGF0Y2hlcihyb290KTtcbiAgICAgIHZhciBwcmV2SW50ZXJhY3Rpb25zID0gcHVzaEludGVyYWN0aW9ucyhyb290KTtcbiAgICAgIHN0YXJ0V29ya0xvb3BUaW1lcih3b3JrSW5Qcm9ncmVzcyk7XG5cbiAgICAgIGRvIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB3b3JrTG9vcENvbmN1cnJlbnQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfSBjYXRjaCAodGhyb3duVmFsdWUpIHtcbiAgICAgICAgICBoYW5kbGVFcnJvcihyb290LCB0aHJvd25WYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gd2hpbGUgKHRydWUpO1xuXG4gICAgICByZXNldENvbnRleHREZXBlbmRlbmNpZXMoKTtcbiAgICAgIGV4ZWN1dGlvbkNvbnRleHQgPSBwcmV2RXhlY3V0aW9uQ29udGV4dDtcbiAgICAgIHBvcERpc3BhdGNoZXIocHJldkRpc3BhdGNoZXIpO1xuXG4gICAgICBpZiAoZW5hYmxlU2NoZWR1bGVyVHJhY2luZykge1xuICAgICAgICBwb3BJbnRlcmFjdGlvbnMocHJldkludGVyYWN0aW9ucyk7XG4gICAgICB9XG5cbiAgICAgIGlmICh3b3JrSW5Qcm9ncmVzc1Jvb3RFeGl0U3RhdHVzID09PSBSb290RmF0YWxFcnJvcmVkKSB7XG4gICAgICAgIHZhciBmYXRhbEVycm9yID0gd29ya0luUHJvZ3Jlc3NSb290RmF0YWxFcnJvcjtcbiAgICAgICAgc3RvcEludGVycnVwdGVkV29ya0xvb3BUaW1lcigpO1xuICAgICAgICBwcmVwYXJlRnJlc2hTdGFjayhyb290LCBleHBpcmF0aW9uVGltZSk7XG4gICAgICAgIG1hcmtSb290U3VzcGVuZGVkQXRUaW1lKHJvb3QsIGV4cGlyYXRpb25UaW1lKTtcbiAgICAgICAgZW5zdXJlUm9vdElzU2NoZWR1bGVkKHJvb3QpO1xuICAgICAgICB0aHJvdyBmYXRhbEVycm9yO1xuICAgICAgfVxuXG4gICAgICBpZiAod29ya0luUHJvZ3Jlc3MgIT09IG51bGwpIHtcbiAgICAgICAgLy8gVGhlcmUncyBzdGlsbCB3b3JrIGxlZnQgb3Zlci4gRXhpdCB3aXRob3V0IGNvbW1pdHRpbmcuXG4gICAgICAgIHN0b3BJbnRlcnJ1cHRlZFdvcmtMb29wVGltZXIoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFdlIG5vdyBoYXZlIGEgY29uc2lzdGVudCB0cmVlLiBUaGUgbmV4dCBzdGVwIGlzIGVpdGhlciB0byBjb21taXQgaXQsXG4gICAgICAgIC8vIG9yLCBpZiBzb21ldGhpbmcgc3VzcGVuZGVkLCB3YWl0IHRvIGNvbW1pdCBpdCBhZnRlciBhIHRpbWVvdXQuXG4gICAgICAgIHN0b3BGaW5pc2hlZFdvcmtMb29wVGltZXIoKTtcbiAgICAgICAgdmFyIGZpbmlzaGVkV29yayA9IHJvb3QuZmluaXNoZWRXb3JrID0gcm9vdC5jdXJyZW50LmFsdGVybmF0ZTtcbiAgICAgICAgcm9vdC5maW5pc2hlZEV4cGlyYXRpb25UaW1lID0gZXhwaXJhdGlvblRpbWU7XG4gICAgICAgIGZpbmlzaENvbmN1cnJlbnRSZW5kZXIocm9vdCwgZmluaXNoZWRXb3JrLCB3b3JrSW5Qcm9ncmVzc1Jvb3RFeGl0U3RhdHVzLCBleHBpcmF0aW9uVGltZSk7XG4gICAgICB9XG5cbiAgICAgIGVuc3VyZVJvb3RJc1NjaGVkdWxlZChyb290KTtcblxuICAgICAgaWYgKHJvb3QuY2FsbGJhY2tOb2RlID09PSBvcmlnaW5hbENhbGxiYWNrTm9kZSkge1xuICAgICAgICAvLyBUaGUgdGFzayBub2RlIHNjaGVkdWxlZCBmb3IgdGhpcyByb290IGlzIHRoZSBzYW1lIG9uZSB0aGF0J3NcbiAgICAgICAgLy8gY3VycmVudGx5IGV4ZWN1dGVkLiBOZWVkIHRvIHJldHVybiBhIGNvbnRpbnVhdGlvbi5cbiAgICAgICAgcmV0dXJuIHBlcmZvcm1Db25jdXJyZW50V29ya09uUm9vdC5iaW5kKG51bGwsIHJvb3QpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBmaW5pc2hDb25jdXJyZW50UmVuZGVyKHJvb3QsIGZpbmlzaGVkV29yaywgZXhpdFN0YXR1cywgZXhwaXJhdGlvblRpbWUpIHtcbiAgLy8gU2V0IHRoaXMgdG8gbnVsbCB0byBpbmRpY2F0ZSB0aGVyZSdzIG5vIGluLXByb2dyZXNzIHJlbmRlci5cbiAgd29ya0luUHJvZ3Jlc3NSb290ID0gbnVsbDtcblxuICBzd2l0Y2ggKGV4aXRTdGF0dXMpIHtcbiAgICBjYXNlIFJvb3RJbmNvbXBsZXRlOlxuICAgIGNhc2UgUm9vdEZhdGFsRXJyb3JlZDpcbiAgICAgIHtcbiAgICAgICAge1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKFwiUm9vdCBkaWQgbm90IGNvbXBsZXRlLiBUaGlzIGlzIGEgYnVnIGluIFJlYWN0LlwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAvLyBGbG93IGtub3dzIGFib3V0IGludmFyaWFudCwgc28gaXQgY29tcGxhaW5zIGlmIEkgYWRkIGEgYnJlYWtcbiAgICAvLyBzdGF0ZW1lbnQsIGJ1dCBlc2xpbnQgZG9lc24ndCBrbm93IGFib3V0IGludmFyaWFudCwgc28gaXQgY29tcGxhaW5zXG4gICAgLy8gaWYgSSBkby4gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWZhbGx0aHJvdWdoXG5cbiAgICBjYXNlIFJvb3RFcnJvcmVkOlxuICAgICAge1xuICAgICAgICAvLyBJZiB0aGlzIHdhcyBhbiBhc3luYyByZW5kZXIsIHRoZSBlcnJvciBtYXkgaGF2ZSBoYXBwZW5lZCBkdWUgdG9cbiAgICAgICAgLy8gYSBtdXRhdGlvbiBpbiBhIGNvbmN1cnJlbnQgZXZlbnQuIFRyeSByZW5kZXJpbmcgb25lIG1vcmUgdGltZSxcbiAgICAgICAgLy8gc3luY2hyb25vdXNseSwgdG8gc2VlIGlmIHRoZSBlcnJvciBnb2VzIGF3YXkuIElmIHRoZXJlIGFyZVxuICAgICAgICAvLyBsb3dlciBwcmlvcml0eSB1cGRhdGVzLCBsZXQncyBpbmNsdWRlIHRob3NlLCB0b28sIGluIGNhc2UgdGhleVxuICAgICAgICAvLyBmaXggdGhlIGluY29uc2lzdGVuY3kuIFJlbmRlciBhdCBJZGxlIHRvIGluY2x1ZGUgYWxsIHVwZGF0ZXMuXG4gICAgICAgIC8vIElmIGl0IHdhcyBJZGxlIG9yIE5ldmVyIG9yIHNvbWUgbm90LXlldC1pbnZlbnRlZCB0aW1lLCByZW5kZXJcbiAgICAgICAgLy8gYXQgdGhhdCB0aW1lLlxuICAgICAgICBtYXJrUm9vdEV4cGlyZWRBdFRpbWUocm9vdCwgZXhwaXJhdGlvblRpbWUgPiBJZGxlID8gSWRsZSA6IGV4cGlyYXRpb25UaW1lKTsgLy8gV2UgYXNzdW1lIHRoYXQgdGhpcyBzZWNvbmQgcmVuZGVyIHBhc3Mgd2lsbCBiZSBzeW5jaHJvbm91c1xuICAgICAgICAvLyBhbmQgdGhlcmVmb3JlIG5vdCBoaXQgdGhpcyBwYXRoIGFnYWluLlxuXG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgY2FzZSBSb290U3VzcGVuZGVkOlxuICAgICAge1xuICAgICAgICBtYXJrUm9vdFN1c3BlbmRlZEF0VGltZShyb290LCBleHBpcmF0aW9uVGltZSk7XG4gICAgICAgIHZhciBsYXN0U3VzcGVuZGVkVGltZSA9IHJvb3QubGFzdFN1c3BlbmRlZFRpbWU7XG5cbiAgICAgICAgaWYgKGV4cGlyYXRpb25UaW1lID09PSBsYXN0U3VzcGVuZGVkVGltZSkge1xuICAgICAgICAgIHJvb3QubmV4dEtub3duUGVuZGluZ0xldmVsID0gZ2V0UmVtYWluaW5nRXhwaXJhdGlvblRpbWUoZmluaXNoZWRXb3JrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZsdXNoU3VzcGVuc2VQcmlvcml0eVdhcm5pbmdJbkRFVigpOyAvLyBXZSBoYXZlIGFuIGFjY2VwdGFibGUgbG9hZGluZyBzdGF0ZS4gV2UgbmVlZCB0byBmaWd1cmUgb3V0IGlmIHdlXG4gICAgICAgIC8vIHNob3VsZCBpbW1lZGlhdGVseSBjb21taXQgaXQgb3Igd2FpdCBhIGJpdC5cbiAgICAgICAgLy8gSWYgd2UgaGF2ZSBwcm9jZXNzZWQgbmV3IHVwZGF0ZXMgZHVyaW5nIHRoaXMgcmVuZGVyLCB3ZSBtYXkgbm93XG4gICAgICAgIC8vIGhhdmUgYSBuZXcgbG9hZGluZyBzdGF0ZSByZWFkeS4gV2Ugd2FudCB0byBlbnN1cmUgdGhhdCB3ZSBjb21taXRcbiAgICAgICAgLy8gdGhhdCBhcyBzb29uIGFzIHBvc3NpYmxlLlxuXG4gICAgICAgIHZhciBoYXNOb3RQcm9jZXNzZWROZXdVcGRhdGVzID0gd29ya0luUHJvZ3Jlc3NSb290TGF0ZXN0UHJvY2Vzc2VkRXhwaXJhdGlvblRpbWUgPT09IFN5bmM7XG5cbiAgICAgICAgaWYgKGhhc05vdFByb2Nlc3NlZE5ld1VwZGF0ZXMgJiYgLy8gZG8gbm90IGRlbGF5IGlmIHdlJ3JlIGluc2lkZSBhbiBhY3QoKSBzY29wZVxuICAgICAgICAhKHRydWUgJiYgZmx1c2hTdXNwZW5zZUZhbGxiYWNrc0luVGVzdHMgJiYgSXNUaGlzUmVuZGVyZXJBY3RpbmcuY3VycmVudCkpIHtcbiAgICAgICAgICAvLyBJZiB3ZSBoYXZlIG5vdCBwcm9jZXNzZWQgYW55IG5ldyB1cGRhdGVzIGR1cmluZyB0aGlzIHBhc3MsIHRoZW5cbiAgICAgICAgICAvLyB0aGlzIGlzIGVpdGhlciBhIHJldHJ5IG9mIGFuIGV4aXN0aW5nIGZhbGxiYWNrIHN0YXRlIG9yIGFcbiAgICAgICAgICAvLyBoaWRkZW4gdHJlZS4gSGlkZGVuIHRyZWVzIHNob3VsZG4ndCBiZSBiYXRjaGVkIHdpdGggb3RoZXIgd29ya1xuICAgICAgICAgIC8vIGFuZCBhZnRlciB0aGF0J3MgZml4ZWQgaXQgY2FuIG9ubHkgYmUgYSByZXRyeS4gV2UncmUgZ29pbmcgdG9cbiAgICAgICAgICAvLyB0aHJvdHRsZSBjb21taXR0aW5nIHJldHJpZXMgc28gdGhhdCB3ZSBkb24ndCBzaG93IHRvbyBtYW55XG4gICAgICAgICAgLy8gbG9hZGluZyBzdGF0ZXMgdG9vIHF1aWNrbHkuXG4gICAgICAgICAgdmFyIG1zVW50aWxUaW1lb3V0ID0gZ2xvYmFsTW9zdFJlY2VudEZhbGxiYWNrVGltZSArIEZBTExCQUNLX1RIUk9UVExFX01TIC0gbm93KCk7IC8vIERvbid0IGJvdGhlciB3aXRoIGEgdmVyeSBzaG9ydCBzdXNwZW5zZSB0aW1lLlxuXG4gICAgICAgICAgaWYgKG1zVW50aWxUaW1lb3V0ID4gMTApIHtcbiAgICAgICAgICAgIGlmICh3b3JrSW5Qcm9ncmVzc1Jvb3RIYXNQZW5kaW5nUGluZykge1xuICAgICAgICAgICAgICB2YXIgbGFzdFBpbmdlZFRpbWUgPSByb290Lmxhc3RQaW5nZWRUaW1lO1xuXG4gICAgICAgICAgICAgIGlmIChsYXN0UGluZ2VkVGltZSA9PT0gTm9Xb3JrIHx8IGxhc3RQaW5nZWRUaW1lID49IGV4cGlyYXRpb25UaW1lKSB7XG4gICAgICAgICAgICAgICAgLy8gVGhpcyByZW5kZXIgd2FzIHBpbmdlZCBidXQgd2UgZGlkbid0IGdldCB0byByZXN0YXJ0XG4gICAgICAgICAgICAgICAgLy8gZWFybGllciBzbyB0cnkgcmVzdGFydGluZyBub3cgaW5zdGVhZC5cbiAgICAgICAgICAgICAgICByb290Lmxhc3RQaW5nZWRUaW1lID0gZXhwaXJhdGlvblRpbWU7XG4gICAgICAgICAgICAgICAgcHJlcGFyZUZyZXNoU3RhY2socm9vdCwgZXhwaXJhdGlvblRpbWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBuZXh0VGltZSA9IGdldE5leHRSb290RXhwaXJhdGlvblRpbWVUb1dvcmtPbihyb290KTtcblxuICAgICAgICAgICAgaWYgKG5leHRUaW1lICE9PSBOb1dvcmsgJiYgbmV4dFRpbWUgIT09IGV4cGlyYXRpb25UaW1lKSB7XG4gICAgICAgICAgICAgIC8vIFRoZXJlJ3MgYWRkaXRpb25hbCB3b3JrIG9uIHRoaXMgcm9vdC5cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChsYXN0U3VzcGVuZGVkVGltZSAhPT0gTm9Xb3JrICYmIGxhc3RTdXNwZW5kZWRUaW1lICE9PSBleHBpcmF0aW9uVGltZSkge1xuICAgICAgICAgICAgICAvLyBXZSBzaG91bGQgcHJlZmVyIHRvIHJlbmRlciB0aGUgZmFsbGJhY2sgb2YgYXQgdGhlIGxhc3RcbiAgICAgICAgICAgICAgLy8gc3VzcGVuZGVkIGxldmVsLiBQaW5nIHRoZSBsYXN0IHN1c3BlbmRlZCBsZXZlbCB0byB0cnlcbiAgICAgICAgICAgICAgLy8gcmVuZGVyaW5nIGl0IGFnYWluLlxuICAgICAgICAgICAgICByb290Lmxhc3RQaW5nZWRUaW1lID0gbGFzdFN1c3BlbmRlZFRpbWU7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfSAvLyBUaGUgcmVuZGVyIGlzIHN1c3BlbmRlZCwgaXQgaGFzbid0IHRpbWVkIG91dCwgYW5kIHRoZXJlJ3Mgbm9cbiAgICAgICAgICAgIC8vIGxvd2VyIHByaW9yaXR5IHdvcmsgdG8gZG8uIEluc3RlYWQgb2YgY29tbWl0dGluZyB0aGUgZmFsbGJhY2tcbiAgICAgICAgICAgIC8vIGltbWVkaWF0ZWx5LCB3YWl0IGZvciBtb3JlIGRhdGEgdG8gYXJyaXZlLlxuXG5cbiAgICAgICAgICAgIHJvb3QudGltZW91dEhhbmRsZSA9IHNjaGVkdWxlVGltZW91dChjb21taXRSb290LmJpbmQobnVsbCwgcm9vdCksIG1zVW50aWxUaW1lb3V0KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfSAvLyBUaGUgd29yayBleHBpcmVkLiBDb21taXQgaW1tZWRpYXRlbHkuXG5cblxuICAgICAgICBjb21taXRSb290KHJvb3QpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgIGNhc2UgUm9vdFN1c3BlbmRlZFdpdGhEZWxheTpcbiAgICAgIHtcbiAgICAgICAgbWFya1Jvb3RTdXNwZW5kZWRBdFRpbWUocm9vdCwgZXhwaXJhdGlvblRpbWUpO1xuICAgICAgICB2YXIgX2xhc3RTdXNwZW5kZWRUaW1lID0gcm9vdC5sYXN0U3VzcGVuZGVkVGltZTtcblxuICAgICAgICBpZiAoZXhwaXJhdGlvblRpbWUgPT09IF9sYXN0U3VzcGVuZGVkVGltZSkge1xuICAgICAgICAgIHJvb3QubmV4dEtub3duUGVuZGluZ0xldmVsID0gZ2V0UmVtYWluaW5nRXhwaXJhdGlvblRpbWUoZmluaXNoZWRXb3JrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZsdXNoU3VzcGVuc2VQcmlvcml0eVdhcm5pbmdJbkRFVigpO1xuXG4gICAgICAgIGlmICggLy8gZG8gbm90IGRlbGF5IGlmIHdlJ3JlIGluc2lkZSBhbiBhY3QoKSBzY29wZVxuICAgICAgICAhKHRydWUgJiYgZmx1c2hTdXNwZW5zZUZhbGxiYWNrc0luVGVzdHMgJiYgSXNUaGlzUmVuZGVyZXJBY3RpbmcuY3VycmVudCkpIHtcbiAgICAgICAgICAvLyBXZSdyZSBzdXNwZW5kZWQgaW4gYSBzdGF0ZSB0aGF0IHNob3VsZCBiZSBhdm9pZGVkLiBXZSdsbCB0cnkgdG9cbiAgICAgICAgICAvLyBhdm9pZCBjb21taXR0aW5nIGl0IGZvciBhcyBsb25nIGFzIHRoZSB0aW1lb3V0cyBsZXQgdXMuXG4gICAgICAgICAgaWYgKHdvcmtJblByb2dyZXNzUm9vdEhhc1BlbmRpbmdQaW5nKSB7XG4gICAgICAgICAgICB2YXIgX2xhc3RQaW5nZWRUaW1lID0gcm9vdC5sYXN0UGluZ2VkVGltZTtcblxuICAgICAgICAgICAgaWYgKF9sYXN0UGluZ2VkVGltZSA9PT0gTm9Xb3JrIHx8IF9sYXN0UGluZ2VkVGltZSA+PSBleHBpcmF0aW9uVGltZSkge1xuICAgICAgICAgICAgICAvLyBUaGlzIHJlbmRlciB3YXMgcGluZ2VkIGJ1dCB3ZSBkaWRuJ3QgZ2V0IHRvIHJlc3RhcnQgZWFybGllclxuICAgICAgICAgICAgICAvLyBzbyB0cnkgcmVzdGFydGluZyBub3cgaW5zdGVhZC5cbiAgICAgICAgICAgICAgcm9vdC5sYXN0UGluZ2VkVGltZSA9IGV4cGlyYXRpb25UaW1lO1xuICAgICAgICAgICAgICBwcmVwYXJlRnJlc2hTdGFjayhyb290LCBleHBpcmF0aW9uVGltZSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBfbmV4dFRpbWUgPSBnZXROZXh0Um9vdEV4cGlyYXRpb25UaW1lVG9Xb3JrT24ocm9vdCk7XG5cbiAgICAgICAgICBpZiAoX25leHRUaW1lICE9PSBOb1dvcmsgJiYgX25leHRUaW1lICE9PSBleHBpcmF0aW9uVGltZSkge1xuICAgICAgICAgICAgLy8gVGhlcmUncyBhZGRpdGlvbmFsIHdvcmsgb24gdGhpcyByb290LlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKF9sYXN0U3VzcGVuZGVkVGltZSAhPT0gTm9Xb3JrICYmIF9sYXN0U3VzcGVuZGVkVGltZSAhPT0gZXhwaXJhdGlvblRpbWUpIHtcbiAgICAgICAgICAgIC8vIFdlIHNob3VsZCBwcmVmZXIgdG8gcmVuZGVyIHRoZSBmYWxsYmFjayBvZiBhdCB0aGUgbGFzdFxuICAgICAgICAgICAgLy8gc3VzcGVuZGVkIGxldmVsLiBQaW5nIHRoZSBsYXN0IHN1c3BlbmRlZCBsZXZlbCB0byB0cnlcbiAgICAgICAgICAgIC8vIHJlbmRlcmluZyBpdCBhZ2Fpbi5cbiAgICAgICAgICAgIHJvb3QubGFzdFBpbmdlZFRpbWUgPSBfbGFzdFN1c3BlbmRlZFRpbWU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgX21zVW50aWxUaW1lb3V0O1xuXG4gICAgICAgICAgaWYgKHdvcmtJblByb2dyZXNzUm9vdExhdGVzdFN1c3BlbnNlVGltZW91dCAhPT0gU3luYykge1xuICAgICAgICAgICAgLy8gV2UgaGF2ZSBwcm9jZXNzZWQgYSBzdXNwZW5zZSBjb25maWcgd2hvc2UgZXhwaXJhdGlvbiB0aW1lIHdlXG4gICAgICAgICAgICAvLyBjYW4gdXNlIGFzIHRoZSB0aW1lb3V0LlxuICAgICAgICAgICAgX21zVW50aWxUaW1lb3V0ID0gZXhwaXJhdGlvblRpbWVUb01zKHdvcmtJblByb2dyZXNzUm9vdExhdGVzdFN1c3BlbnNlVGltZW91dCkgLSBub3coKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHdvcmtJblByb2dyZXNzUm9vdExhdGVzdFByb2Nlc3NlZEV4cGlyYXRpb25UaW1lID09PSBTeW5jKSB7XG4gICAgICAgICAgICAvLyBUaGlzIHNob3VsZCBuZXZlciBub3JtYWxseSBoYXBwZW4gYmVjYXVzZSBvbmx5IG5ldyB1cGRhdGVzXG4gICAgICAgICAgICAvLyBjYXVzZSBkZWxheWVkIHN0YXRlcywgc28gd2Ugc2hvdWxkIGhhdmUgcHJvY2Vzc2VkIHNvbWV0aGluZy5cbiAgICAgICAgICAgIC8vIEhvd2V2ZXIsIHRoaXMgY291bGQgYWxzbyBoYXBwZW4gaW4gYW4gb2Zmc2NyZWVuIHRyZWUuXG4gICAgICAgICAgICBfbXNVbnRpbFRpbWVvdXQgPSAwO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBJZiB3ZSBkb24ndCBoYXZlIGEgc3VzcGVuc2UgY29uZmlnLCB3ZSdyZSBnb2luZyB0byB1c2UgYVxuICAgICAgICAgICAgLy8gaGV1cmlzdGljIHRvIGRldGVybWluZSBob3cgbG9uZyB3ZSBjYW4gc3VzcGVuZC5cbiAgICAgICAgICAgIHZhciBldmVudFRpbWVNcyA9IGluZmVyVGltZUZyb21FeHBpcmF0aW9uVGltZSh3b3JrSW5Qcm9ncmVzc1Jvb3RMYXRlc3RQcm9jZXNzZWRFeHBpcmF0aW9uVGltZSk7XG4gICAgICAgICAgICB2YXIgY3VycmVudFRpbWVNcyA9IG5vdygpO1xuICAgICAgICAgICAgdmFyIHRpbWVVbnRpbEV4cGlyYXRpb25NcyA9IGV4cGlyYXRpb25UaW1lVG9NcyhleHBpcmF0aW9uVGltZSkgLSBjdXJyZW50VGltZU1zO1xuICAgICAgICAgICAgdmFyIHRpbWVFbGFwc2VkID0gY3VycmVudFRpbWVNcyAtIGV2ZW50VGltZU1zO1xuXG4gICAgICAgICAgICBpZiAodGltZUVsYXBzZWQgPCAwKSB7XG4gICAgICAgICAgICAgIC8vIFdlIGdldCB0aGlzIHdyb25nIHNvbWUgdGltZSBzaW5jZSB3ZSBlc3RpbWF0ZSB0aGUgdGltZS5cbiAgICAgICAgICAgICAgdGltZUVsYXBzZWQgPSAwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBfbXNVbnRpbFRpbWVvdXQgPSBqbmQodGltZUVsYXBzZWQpIC0gdGltZUVsYXBzZWQ7IC8vIENsYW1wIHRoZSB0aW1lb3V0IHRvIHRoZSBleHBpcmF0aW9uIHRpbWUuIFRPRE86IE9uY2UgdGhlXG4gICAgICAgICAgICAvLyBldmVudCB0aW1lIGlzIGV4YWN0IGluc3RlYWQgb2YgaW5mZXJyZWQgZnJvbSBleHBpcmF0aW9uIHRpbWVcbiAgICAgICAgICAgIC8vIHdlIGRvbid0IG5lZWQgdGhpcy5cblxuICAgICAgICAgICAgaWYgKHRpbWVVbnRpbEV4cGlyYXRpb25NcyA8IF9tc1VudGlsVGltZW91dCkge1xuICAgICAgICAgICAgICBfbXNVbnRpbFRpbWVvdXQgPSB0aW1lVW50aWxFeHBpcmF0aW9uTXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSAvLyBEb24ndCBib3RoZXIgd2l0aCBhIHZlcnkgc2hvcnQgc3VzcGVuc2UgdGltZS5cblxuXG4gICAgICAgICAgaWYgKF9tc1VudGlsVGltZW91dCA+IDEwKSB7XG4gICAgICAgICAgICAvLyBUaGUgcmVuZGVyIGlzIHN1c3BlbmRlZCwgaXQgaGFzbid0IHRpbWVkIG91dCwgYW5kIHRoZXJlJ3Mgbm9cbiAgICAgICAgICAgIC8vIGxvd2VyIHByaW9yaXR5IHdvcmsgdG8gZG8uIEluc3RlYWQgb2YgY29tbWl0dGluZyB0aGUgZmFsbGJhY2tcbiAgICAgICAgICAgIC8vIGltbWVkaWF0ZWx5LCB3YWl0IGZvciBtb3JlIGRhdGEgdG8gYXJyaXZlLlxuICAgICAgICAgICAgcm9vdC50aW1lb3V0SGFuZGxlID0gc2NoZWR1bGVUaW1lb3V0KGNvbW1pdFJvb3QuYmluZChudWxsLCByb290KSwgX21zVW50aWxUaW1lb3V0KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfSAvLyBUaGUgd29yayBleHBpcmVkLiBDb21taXQgaW1tZWRpYXRlbHkuXG5cblxuICAgICAgICBjb21taXRSb290KHJvb3QpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgIGNhc2UgUm9vdENvbXBsZXRlZDpcbiAgICAgIHtcbiAgICAgICAgLy8gVGhlIHdvcmsgY29tcGxldGVkLiBSZWFkeSB0byBjb21taXQuXG4gICAgICAgIGlmICggLy8gZG8gbm90IGRlbGF5IGlmIHdlJ3JlIGluc2lkZSBhbiBhY3QoKSBzY29wZVxuICAgICAgICAhKHRydWUgJiYgZmx1c2hTdXNwZW5zZUZhbGxiYWNrc0luVGVzdHMgJiYgSXNUaGlzUmVuZGVyZXJBY3RpbmcuY3VycmVudCkgJiYgd29ya0luUHJvZ3Jlc3NSb290TGF0ZXN0UHJvY2Vzc2VkRXhwaXJhdGlvblRpbWUgIT09IFN5bmMgJiYgd29ya0luUHJvZ3Jlc3NSb290Q2FuU3VzcGVuZFVzaW5nQ29uZmlnICE9PSBudWxsKSB7XG4gICAgICAgICAgLy8gSWYgd2UgaGF2ZSBleGNlZWRlZCB0aGUgbWluaW11bSBsb2FkaW5nIGRlbGF5LCB3aGljaCBwcm9iYWJseVxuICAgICAgICAgIC8vIG1lYW5zIHdlIGhhdmUgc2hvd24gYSBzcGlubmVyIGFscmVhZHksIHdlIG1pZ2h0IGhhdmUgdG8gc3VzcGVuZFxuICAgICAgICAgIC8vIGEgYml0IGxvbmdlciB0byBlbnN1cmUgdGhhdCB0aGUgc3Bpbm5lciBpcyBzaG93biBmb3JcbiAgICAgICAgICAvLyBlbm91Z2ggdGltZS5cbiAgICAgICAgICB2YXIgX21zVW50aWxUaW1lb3V0MiA9IGNvbXB1dGVNc1VudGlsU3VzcGVuc2VMb2FkaW5nRGVsYXkod29ya0luUHJvZ3Jlc3NSb290TGF0ZXN0UHJvY2Vzc2VkRXhwaXJhdGlvblRpbWUsIGV4cGlyYXRpb25UaW1lLCB3b3JrSW5Qcm9ncmVzc1Jvb3RDYW5TdXNwZW5kVXNpbmdDb25maWcpO1xuXG4gICAgICAgICAgaWYgKF9tc1VudGlsVGltZW91dDIgPiAxMCkge1xuICAgICAgICAgICAgbWFya1Jvb3RTdXNwZW5kZWRBdFRpbWUocm9vdCwgZXhwaXJhdGlvblRpbWUpO1xuICAgICAgICAgICAgcm9vdC50aW1lb3V0SGFuZGxlID0gc2NoZWR1bGVUaW1lb3V0KGNvbW1pdFJvb3QuYmluZChudWxsLCByb290KSwgX21zVW50aWxUaW1lb3V0Mik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb21taXRSb290KHJvb3QpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgIGRlZmF1bHQ6XG4gICAgICB7XG4gICAgICAgIHtcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcIlVua25vd24gcm9vdCBleGl0IHN0YXR1cy5cIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gIH1cbn0gLy8gVGhpcyBpcyB0aGUgZW50cnkgcG9pbnQgZm9yIHN5bmNocm9ub3VzIHRhc2tzIHRoYXQgZG9uJ3QgZ29cbi8vIHRocm91Z2ggU2NoZWR1bGVyXG5cblxuZnVuY3Rpb24gcGVyZm9ybVN5bmNXb3JrT25Sb290KHJvb3QpIHtcbiAgLy8gQ2hlY2sgaWYgdGhlcmUncyBleHBpcmVkIHdvcmsgb24gdGhpcyByb290LiBPdGhlcndpc2UsIHJlbmRlciBhdCBTeW5jLlxuICB2YXIgbGFzdEV4cGlyZWRUaW1lID0gcm9vdC5sYXN0RXhwaXJlZFRpbWU7XG4gIHZhciBleHBpcmF0aW9uVGltZSA9IGxhc3RFeHBpcmVkVGltZSAhPT0gTm9Xb3JrID8gbGFzdEV4cGlyZWRUaW1lIDogU3luYztcblxuICBpZiAocm9vdC5maW5pc2hlZEV4cGlyYXRpb25UaW1lID09PSBleHBpcmF0aW9uVGltZSkge1xuICAgIC8vIFRoZXJlJ3MgYWxyZWFkeSBhIHBlbmRpbmcgY29tbWl0IGF0IHRoaXMgZXhwaXJhdGlvbiB0aW1lLlxuICAgIC8vIFRPRE86IFRoaXMgaXMgcG9vcmx5IGZhY3RvcmVkLiBUaGlzIGNhc2Ugb25seSBleGlzdHMgZm9yIHRoZVxuICAgIC8vIGJhdGNoLmNvbW1pdCgpIEFQSS5cbiAgICBjb21taXRSb290KHJvb3QpO1xuICB9IGVsc2Uge1xuICAgIGlmICghKChleGVjdXRpb25Db250ZXh0ICYgKFJlbmRlckNvbnRleHQgfCBDb21taXRDb250ZXh0KSkgPT09IE5vQ29udGV4dCkpIHtcbiAgICAgIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJTaG91bGQgbm90IGFscmVhZHkgYmUgd29ya2luZy5cIik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZmx1c2hQYXNzaXZlRWZmZWN0cygpOyAvLyBJZiB0aGUgcm9vdCBvciBleHBpcmF0aW9uIHRpbWUgaGF2ZSBjaGFuZ2VkLCB0aHJvdyBvdXQgdGhlIGV4aXN0aW5nIHN0YWNrXG4gICAgLy8gYW5kIHByZXBhcmUgYSBmcmVzaCBvbmUuIE90aGVyd2lzZSB3ZSdsbCBjb250aW51ZSB3aGVyZSB3ZSBsZWZ0IG9mZi5cblxuICAgIGlmIChyb290ICE9PSB3b3JrSW5Qcm9ncmVzc1Jvb3QgfHwgZXhwaXJhdGlvblRpbWUgIT09IHJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gICAgICBwcmVwYXJlRnJlc2hTdGFjayhyb290LCBleHBpcmF0aW9uVGltZSk7XG4gICAgICBzdGFydFdvcmtPblBlbmRpbmdJbnRlcmFjdGlvbnMocm9vdCwgZXhwaXJhdGlvblRpbWUpO1xuICAgIH0gLy8gSWYgd2UgaGF2ZSBhIHdvcmstaW4tcHJvZ3Jlc3MgZmliZXIsIGl0IG1lYW5zIHRoZXJlJ3Mgc3RpbGwgd29yayB0byBkb1xuICAgIC8vIGluIHRoaXMgcm9vdC5cblxuXG4gICAgaWYgKHdvcmtJblByb2dyZXNzICE9PSBudWxsKSB7XG4gICAgICB2YXIgcHJldkV4ZWN1dGlvbkNvbnRleHQgPSBleGVjdXRpb25Db250ZXh0O1xuICAgICAgZXhlY3V0aW9uQ29udGV4dCB8PSBSZW5kZXJDb250ZXh0O1xuICAgICAgdmFyIHByZXZEaXNwYXRjaGVyID0gcHVzaERpc3BhdGNoZXIocm9vdCk7XG4gICAgICB2YXIgcHJldkludGVyYWN0aW9ucyA9IHB1c2hJbnRlcmFjdGlvbnMocm9vdCk7XG4gICAgICBzdGFydFdvcmtMb29wVGltZXIod29ya0luUHJvZ3Jlc3MpO1xuXG4gICAgICBkbyB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgd29ya0xvb3BTeW5jKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH0gY2F0Y2ggKHRocm93blZhbHVlKSB7XG4gICAgICAgICAgaGFuZGxlRXJyb3Iocm9vdCwgdGhyb3duVmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9IHdoaWxlICh0cnVlKTtcblxuICAgICAgcmVzZXRDb250ZXh0RGVwZW5kZW5jaWVzKCk7XG4gICAgICBleGVjdXRpb25Db250ZXh0ID0gcHJldkV4ZWN1dGlvbkNvbnRleHQ7XG4gICAgICBwb3BEaXNwYXRjaGVyKHByZXZEaXNwYXRjaGVyKTtcblxuICAgICAgaWYgKGVuYWJsZVNjaGVkdWxlclRyYWNpbmcpIHtcbiAgICAgICAgcG9wSW50ZXJhY3Rpb25zKHByZXZJbnRlcmFjdGlvbnMpO1xuICAgICAgfVxuXG4gICAgICBpZiAod29ya0luUHJvZ3Jlc3NSb290RXhpdFN0YXR1cyA9PT0gUm9vdEZhdGFsRXJyb3JlZCkge1xuICAgICAgICB2YXIgZmF0YWxFcnJvciA9IHdvcmtJblByb2dyZXNzUm9vdEZhdGFsRXJyb3I7XG4gICAgICAgIHN0b3BJbnRlcnJ1cHRlZFdvcmtMb29wVGltZXIoKTtcbiAgICAgICAgcHJlcGFyZUZyZXNoU3RhY2socm9vdCwgZXhwaXJhdGlvblRpbWUpO1xuICAgICAgICBtYXJrUm9vdFN1c3BlbmRlZEF0VGltZShyb290LCBleHBpcmF0aW9uVGltZSk7XG4gICAgICAgIGVuc3VyZVJvb3RJc1NjaGVkdWxlZChyb290KTtcbiAgICAgICAgdGhyb3cgZmF0YWxFcnJvcjtcbiAgICAgIH1cblxuICAgICAgaWYgKHdvcmtJblByb2dyZXNzICE9PSBudWxsKSB7XG4gICAgICAgIC8vIFRoaXMgaXMgYSBzeW5jIHJlbmRlciwgc28gd2Ugc2hvdWxkIGhhdmUgZmluaXNoZWQgdGhlIHdob2xlIHRyZWUuXG4gICAgICAgIHtcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcIkNhbm5vdCBjb21taXQgYW4gaW5jb21wbGV0ZSByb290LiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFdlIG5vdyBoYXZlIGEgY29uc2lzdGVudCB0cmVlLiBCZWNhdXNlIHRoaXMgaXMgYSBzeW5jIHJlbmRlciwgd2VcbiAgICAgICAgLy8gd2lsbCBjb21taXQgaXQgZXZlbiBpZiBzb21ldGhpbmcgc3VzcGVuZGVkLlxuICAgICAgICBzdG9wRmluaXNoZWRXb3JrTG9vcFRpbWVyKCk7XG4gICAgICAgIHJvb3QuZmluaXNoZWRXb3JrID0gcm9vdC5jdXJyZW50LmFsdGVybmF0ZTtcbiAgICAgICAgcm9vdC5maW5pc2hlZEV4cGlyYXRpb25UaW1lID0gZXhwaXJhdGlvblRpbWU7XG4gICAgICAgIGZpbmlzaFN5bmNSZW5kZXIocm9vdCwgd29ya0luUHJvZ3Jlc3NSb290RXhpdFN0YXR1cywgZXhwaXJhdGlvblRpbWUpO1xuICAgICAgfSAvLyBCZWZvcmUgZXhpdGluZywgbWFrZSBzdXJlIHRoZXJlJ3MgYSBjYWxsYmFjayBzY2hlZHVsZWQgZm9yIHRoZSBuZXh0XG4gICAgICAvLyBwZW5kaW5nIGxldmVsLlxuXG5cbiAgICAgIGVuc3VyZVJvb3RJc1NjaGVkdWxlZChyb290KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gZmluaXNoU3luY1JlbmRlcihyb290LCBleGl0U3RhdHVzLCBleHBpcmF0aW9uVGltZSkge1xuICAvLyBTZXQgdGhpcyB0byBudWxsIHRvIGluZGljYXRlIHRoZXJlJ3Mgbm8gaW4tcHJvZ3Jlc3MgcmVuZGVyLlxuICB3b3JrSW5Qcm9ncmVzc1Jvb3QgPSBudWxsO1xuXG4gIHtcbiAgICBpZiAoZXhpdFN0YXR1cyA9PT0gUm9vdFN1c3BlbmRlZCB8fCBleGl0U3RhdHVzID09PSBSb290U3VzcGVuZGVkV2l0aERlbGF5KSB7XG4gICAgICBmbHVzaFN1c3BlbnNlUHJpb3JpdHlXYXJuaW5nSW5ERVYoKTtcbiAgICB9XG4gIH1cblxuICBjb21taXRSb290KHJvb3QpO1xufVxuXG5mdW5jdGlvbiBmbHVzaFJvb3Qocm9vdCwgZXhwaXJhdGlvblRpbWUpIHtcbiAgbWFya1Jvb3RFeHBpcmVkQXRUaW1lKHJvb3QsIGV4cGlyYXRpb25UaW1lKTtcbiAgZW5zdXJlUm9vdElzU2NoZWR1bGVkKHJvb3QpO1xuXG4gIGlmICgoZXhlY3V0aW9uQ29udGV4dCAmIChSZW5kZXJDb250ZXh0IHwgQ29tbWl0Q29udGV4dCkpID09PSBOb0NvbnRleHQpIHtcbiAgICBmbHVzaFN5bmNDYWxsYmFja1F1ZXVlKCk7XG4gIH1cbn1cbmZ1bmN0aW9uIGZsdXNoRGlzY3JldGVVcGRhdGVzKCkge1xuICAvLyBUT0RPOiBTaG91bGQgYmUgYWJsZSB0byBmbHVzaCBpbnNpZGUgYmF0Y2hlZFVwZGF0ZXMsIGJ1dCBub3QgaW5zaWRlIGBhY3RgLlxuICAvLyBIb3dldmVyLCBgYWN0YCB1c2VzIGBiYXRjaGVkVXBkYXRlc2AsIHNvIHRoZXJlJ3Mgbm8gd2F5IHRvIGRpc3Rpbmd1aXNoXG4gIC8vIHRob3NlIHR3byBjYXNlcy4gTmVlZCB0byBmaXggdGhpcyBiZWZvcmUgZXhwb3NpbmcgZmx1c2hEaXNjcmV0ZVVwZGF0ZXNcbiAgLy8gYXMgYSBwdWJsaWMgQVBJLlxuICBpZiAoKGV4ZWN1dGlvbkNvbnRleHQgJiAoQmF0Y2hlZENvbnRleHQgfCBSZW5kZXJDb250ZXh0IHwgQ29tbWl0Q29udGV4dCkpICE9PSBOb0NvbnRleHQpIHtcbiAgICBpZiAodHJ1ZSAmJiAoZXhlY3V0aW9uQ29udGV4dCAmIFJlbmRlckNvbnRleHQpICE9PSBOb0NvbnRleHQpIHtcbiAgICAgIHdhcm5pbmckMShmYWxzZSwgJ3Vuc3RhYmxlX2ZsdXNoRGlzY3JldGVVcGRhdGVzOiBDYW5ub3QgZmx1c2ggdXBkYXRlcyB3aGVuIFJlYWN0IGlzICcgKyAnYWxyZWFkeSByZW5kZXJpbmcuJyk7XG4gICAgfSAvLyBXZSdyZSBhbHJlYWR5IHJlbmRlcmluZywgc28gd2UgY2FuJ3Qgc3luY2hyb25vdXNseSBmbHVzaCBwZW5kaW5nIHdvcmsuXG4gICAgLy8gVGhpcyBpcyBwcm9iYWJseSBhIG5lc3RlZCBldmVudCBkaXNwYXRjaCB0cmlnZ2VyZWQgYnkgYSBsaWZlY3ljbGUvZWZmZWN0LFxuICAgIC8vIGxpa2UgYGVsLmZvY3VzKClgLiBFeGl0LlxuXG5cbiAgICByZXR1cm47XG4gIH1cblxuICBmbHVzaFBlbmRpbmdEaXNjcmV0ZVVwZGF0ZXMoKTsgLy8gSWYgdGhlIGRpc2NyZXRlIHVwZGF0ZXMgc2NoZWR1bGVkIHBhc3NpdmUgZWZmZWN0cywgZmx1c2ggdGhlbSBub3cgc28gdGhhdFxuICAvLyB0aGV5IGZpcmUgYmVmb3JlIHRoZSBuZXh0IHNlcmlhbCBldmVudC5cblxuICBmbHVzaFBhc3NpdmVFZmZlY3RzKCk7XG59XG5cbmZ1bmN0aW9uIHN5bmNVcGRhdGVzKGZuLCBhLCBiLCBjKSB7XG4gIHJldHVybiBydW5XaXRoUHJpb3JpdHkkMihJbW1lZGlhdGVQcmlvcml0eSwgZm4uYmluZChudWxsLCBhLCBiLCBjKSk7XG59XG5cbmZ1bmN0aW9uIGZsdXNoUGVuZGluZ0Rpc2NyZXRlVXBkYXRlcygpIHtcbiAgaWYgKHJvb3RzV2l0aFBlbmRpbmdEaXNjcmV0ZVVwZGF0ZXMgIT09IG51bGwpIHtcbiAgICAvLyBGb3IgZWFjaCByb290IHdpdGggcGVuZGluZyBkaXNjcmV0ZSB1cGRhdGVzLCBzY2hlZHVsZSBhIGNhbGxiYWNrIHRvXG4gICAgLy8gaW1tZWRpYXRlbHkgZmx1c2ggdGhlbS5cbiAgICB2YXIgcm9vdHMgPSByb290c1dpdGhQZW5kaW5nRGlzY3JldGVVcGRhdGVzO1xuICAgIHJvb3RzV2l0aFBlbmRpbmdEaXNjcmV0ZVVwZGF0ZXMgPSBudWxsO1xuICAgIHJvb3RzLmZvckVhY2goZnVuY3Rpb24gKGV4cGlyYXRpb25UaW1lLCByb290KSB7XG4gICAgICBtYXJrUm9vdEV4cGlyZWRBdFRpbWUocm9vdCwgZXhwaXJhdGlvblRpbWUpO1xuICAgICAgZW5zdXJlUm9vdElzU2NoZWR1bGVkKHJvb3QpO1xuICAgIH0pOyAvLyBOb3cgZmx1c2ggdGhlIGltbWVkaWF0ZSBxdWV1ZS5cblxuICAgIGZsdXNoU3luY0NhbGxiYWNrUXVldWUoKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBiYXRjaGVkVXBkYXRlcyQxKGZuLCBhKSB7XG4gIHZhciBwcmV2RXhlY3V0aW9uQ29udGV4dCA9IGV4ZWN1dGlvbkNvbnRleHQ7XG4gIGV4ZWN1dGlvbkNvbnRleHQgfD0gQmF0Y2hlZENvbnRleHQ7XG5cbiAgdHJ5IHtcbiAgICByZXR1cm4gZm4oYSk7XG4gIH0gZmluYWxseSB7XG4gICAgZXhlY3V0aW9uQ29udGV4dCA9IHByZXZFeGVjdXRpb25Db250ZXh0O1xuXG4gICAgaWYgKGV4ZWN1dGlvbkNvbnRleHQgPT09IE5vQ29udGV4dCkge1xuICAgICAgLy8gRmx1c2ggdGhlIGltbWVkaWF0ZSBjYWxsYmFja3MgdGhhdCB3ZXJlIHNjaGVkdWxlZCBkdXJpbmcgdGhpcyBiYXRjaFxuICAgICAgZmx1c2hTeW5jQ2FsbGJhY2tRdWV1ZSgpO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gYmF0Y2hlZEV2ZW50VXBkYXRlcyQxKGZuLCBhKSB7XG4gIHZhciBwcmV2RXhlY3V0aW9uQ29udGV4dCA9IGV4ZWN1dGlvbkNvbnRleHQ7XG4gIGV4ZWN1dGlvbkNvbnRleHQgfD0gRXZlbnRDb250ZXh0O1xuXG4gIHRyeSB7XG4gICAgcmV0dXJuIGZuKGEpO1xuICB9IGZpbmFsbHkge1xuICAgIGV4ZWN1dGlvbkNvbnRleHQgPSBwcmV2RXhlY3V0aW9uQ29udGV4dDtcblxuICAgIGlmIChleGVjdXRpb25Db250ZXh0ID09PSBOb0NvbnRleHQpIHtcbiAgICAgIC8vIEZsdXNoIHRoZSBpbW1lZGlhdGUgY2FsbGJhY2tzIHRoYXQgd2VyZSBzY2hlZHVsZWQgZHVyaW5nIHRoaXMgYmF0Y2hcbiAgICAgIGZsdXNoU3luY0NhbGxiYWNrUXVldWUoKTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGRpc2NyZXRlVXBkYXRlcyQxKGZuLCBhLCBiLCBjKSB7XG4gIHZhciBwcmV2RXhlY3V0aW9uQ29udGV4dCA9IGV4ZWN1dGlvbkNvbnRleHQ7XG4gIGV4ZWN1dGlvbkNvbnRleHQgfD0gRGlzY3JldGVFdmVudENvbnRleHQ7XG5cbiAgdHJ5IHtcbiAgICAvLyBTaG91bGQgdGhpc1xuICAgIHJldHVybiBydW5XaXRoUHJpb3JpdHkkMihVc2VyQmxvY2tpbmdQcmlvcml0eSQyLCBmbi5iaW5kKG51bGwsIGEsIGIsIGMpKTtcbiAgfSBmaW5hbGx5IHtcbiAgICBleGVjdXRpb25Db250ZXh0ID0gcHJldkV4ZWN1dGlvbkNvbnRleHQ7XG5cbiAgICBpZiAoZXhlY3V0aW9uQ29udGV4dCA9PT0gTm9Db250ZXh0KSB7XG4gICAgICAvLyBGbHVzaCB0aGUgaW1tZWRpYXRlIGNhbGxiYWNrcyB0aGF0IHdlcmUgc2NoZWR1bGVkIGR1cmluZyB0aGlzIGJhdGNoXG4gICAgICBmbHVzaFN5bmNDYWxsYmFja1F1ZXVlKCk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiB1bmJhdGNoZWRVcGRhdGVzKGZuLCBhKSB7XG4gIHZhciBwcmV2RXhlY3V0aW9uQ29udGV4dCA9IGV4ZWN1dGlvbkNvbnRleHQ7XG4gIGV4ZWN1dGlvbkNvbnRleHQgJj0gfkJhdGNoZWRDb250ZXh0O1xuICBleGVjdXRpb25Db250ZXh0IHw9IExlZ2FjeVVuYmF0Y2hlZENvbnRleHQ7XG5cbiAgdHJ5IHtcbiAgICByZXR1cm4gZm4oYSk7XG4gIH0gZmluYWxseSB7XG4gICAgZXhlY3V0aW9uQ29udGV4dCA9IHByZXZFeGVjdXRpb25Db250ZXh0O1xuXG4gICAgaWYgKGV4ZWN1dGlvbkNvbnRleHQgPT09IE5vQ29udGV4dCkge1xuICAgICAgLy8gRmx1c2ggdGhlIGltbWVkaWF0ZSBjYWxsYmFja3MgdGhhdCB3ZXJlIHNjaGVkdWxlZCBkdXJpbmcgdGhpcyBiYXRjaFxuICAgICAgZmx1c2hTeW5jQ2FsbGJhY2tRdWV1ZSgpO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gZmx1c2hTeW5jKGZuLCBhKSB7XG4gIGlmICgoZXhlY3V0aW9uQ29udGV4dCAmIChSZW5kZXJDb250ZXh0IHwgQ29tbWl0Q29udGV4dCkpICE9PSBOb0NvbnRleHQpIHtcbiAgICB7XG4gICAgICB7XG4gICAgICAgIHRocm93IEVycm9yKFwiZmx1c2hTeW5jIHdhcyBjYWxsZWQgZnJvbSBpbnNpZGUgYSBsaWZlY3ljbGUgbWV0aG9kLiBJdCBjYW5ub3QgYmUgY2FsbGVkIHdoZW4gUmVhY3QgaXMgYWxyZWFkeSByZW5kZXJpbmcuXCIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHZhciBwcmV2RXhlY3V0aW9uQ29udGV4dCA9IGV4ZWN1dGlvbkNvbnRleHQ7XG4gIGV4ZWN1dGlvbkNvbnRleHQgfD0gQmF0Y2hlZENvbnRleHQ7XG5cbiAgdHJ5IHtcbiAgICByZXR1cm4gcnVuV2l0aFByaW9yaXR5JDIoSW1tZWRpYXRlUHJpb3JpdHksIGZuLmJpbmQobnVsbCwgYSkpO1xuICB9IGZpbmFsbHkge1xuICAgIGV4ZWN1dGlvbkNvbnRleHQgPSBwcmV2RXhlY3V0aW9uQ29udGV4dDsgLy8gRmx1c2ggdGhlIGltbWVkaWF0ZSBjYWxsYmFja3MgdGhhdCB3ZXJlIHNjaGVkdWxlZCBkdXJpbmcgdGhpcyBiYXRjaC5cbiAgICAvLyBOb3RlIHRoYXQgdGhpcyB3aWxsIGhhcHBlbiBldmVuIGlmIGJhdGNoZWRVcGRhdGVzIGlzIGhpZ2hlciB1cFxuICAgIC8vIHRoZSBzdGFjay5cblxuICAgIGZsdXNoU3luY0NhbGxiYWNrUXVldWUoKTtcbiAgfVxufVxuZnVuY3Rpb24gZmx1c2hDb250cm9sbGVkKGZuKSB7XG4gIHZhciBwcmV2RXhlY3V0aW9uQ29udGV4dCA9IGV4ZWN1dGlvbkNvbnRleHQ7XG4gIGV4ZWN1dGlvbkNvbnRleHQgfD0gQmF0Y2hlZENvbnRleHQ7XG5cbiAgdHJ5IHtcbiAgICBydW5XaXRoUHJpb3JpdHkkMihJbW1lZGlhdGVQcmlvcml0eSwgZm4pO1xuICB9IGZpbmFsbHkge1xuICAgIGV4ZWN1dGlvbkNvbnRleHQgPSBwcmV2RXhlY3V0aW9uQ29udGV4dDtcblxuICAgIGlmIChleGVjdXRpb25Db250ZXh0ID09PSBOb0NvbnRleHQpIHtcbiAgICAgIC8vIEZsdXNoIHRoZSBpbW1lZGlhdGUgY2FsbGJhY2tzIHRoYXQgd2VyZSBzY2hlZHVsZWQgZHVyaW5nIHRoaXMgYmF0Y2hcbiAgICAgIGZsdXNoU3luY0NhbGxiYWNrUXVldWUoKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gcHJlcGFyZUZyZXNoU3RhY2socm9vdCwgZXhwaXJhdGlvblRpbWUpIHtcbiAgcm9vdC5maW5pc2hlZFdvcmsgPSBudWxsO1xuICByb290LmZpbmlzaGVkRXhwaXJhdGlvblRpbWUgPSBOb1dvcms7XG4gIHZhciB0aW1lb3V0SGFuZGxlID0gcm9vdC50aW1lb3V0SGFuZGxlO1xuXG4gIGlmICh0aW1lb3V0SGFuZGxlICE9PSBub1RpbWVvdXQpIHtcbiAgICAvLyBUaGUgcm9vdCBwcmV2aW91cyBzdXNwZW5kZWQgYW5kIHNjaGVkdWxlZCBhIHRpbWVvdXQgdG8gY29tbWl0IGEgZmFsbGJhY2tcbiAgICAvLyBzdGF0ZS4gTm93IHRoYXQgd2UgaGF2ZSBhZGRpdGlvbmFsIHdvcmssIGNhbmNlbCB0aGUgdGltZW91dC5cbiAgICByb290LnRpbWVvdXRIYW5kbGUgPSBub1RpbWVvdXQ7IC8vICRGbG93Rml4TWUgQ29tcGxhaW5zIG5vVGltZW91dCBpcyBub3QgYSBUaW1lb3V0SUQsIGRlc3BpdGUgdGhlIGNoZWNrIGFib3ZlXG5cbiAgICBjYW5jZWxUaW1lb3V0KHRpbWVvdXRIYW5kbGUpO1xuICB9XG5cbiAgaWYgKHdvcmtJblByb2dyZXNzICE9PSBudWxsKSB7XG4gICAgdmFyIGludGVycnVwdGVkV29yayA9IHdvcmtJblByb2dyZXNzLnJldHVybjtcblxuICAgIHdoaWxlIChpbnRlcnJ1cHRlZFdvcmsgIT09IG51bGwpIHtcbiAgICAgIHVud2luZEludGVycnVwdGVkV29yayhpbnRlcnJ1cHRlZFdvcmspO1xuICAgICAgaW50ZXJydXB0ZWRXb3JrID0gaW50ZXJydXB0ZWRXb3JrLnJldHVybjtcbiAgICB9XG4gIH1cblxuICB3b3JrSW5Qcm9ncmVzc1Jvb3QgPSByb290O1xuICB3b3JrSW5Qcm9ncmVzcyA9IGNyZWF0ZVdvcmtJblByb2dyZXNzKHJvb3QuY3VycmVudCwgbnVsbCwgZXhwaXJhdGlvblRpbWUpO1xuICByZW5kZXJFeHBpcmF0aW9uVGltZSA9IGV4cGlyYXRpb25UaW1lO1xuICB3b3JrSW5Qcm9ncmVzc1Jvb3RFeGl0U3RhdHVzID0gUm9vdEluY29tcGxldGU7XG4gIHdvcmtJblByb2dyZXNzUm9vdEZhdGFsRXJyb3IgPSBudWxsO1xuICB3b3JrSW5Qcm9ncmVzc1Jvb3RMYXRlc3RQcm9jZXNzZWRFeHBpcmF0aW9uVGltZSA9IFN5bmM7XG4gIHdvcmtJblByb2dyZXNzUm9vdExhdGVzdFN1c3BlbnNlVGltZW91dCA9IFN5bmM7XG4gIHdvcmtJblByb2dyZXNzUm9vdENhblN1c3BlbmRVc2luZ0NvbmZpZyA9IG51bGw7XG4gIHdvcmtJblByb2dyZXNzUm9vdE5leHRVbnByb2Nlc3NlZFVwZGF0ZVRpbWUgPSBOb1dvcms7XG4gIHdvcmtJblByb2dyZXNzUm9vdEhhc1BlbmRpbmdQaW5nID0gZmFsc2U7XG5cbiAgaWYgKGVuYWJsZVNjaGVkdWxlclRyYWNpbmcpIHtcbiAgICBzcGF3bmVkV29ya0R1cmluZ1JlbmRlciA9IG51bGw7XG4gIH1cblxuICB7XG4gICAgUmVhY3RTdHJpY3RNb2RlV2FybmluZ3MuZGlzY2FyZFBlbmRpbmdXYXJuaW5ncygpO1xuICAgIGNvbXBvbmVudHNUaGF0VHJpZ2dlcmVkSGlnaFByaVN1c3BlbmQgPSBudWxsO1xuICB9XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUVycm9yKHJvb3QsIHRocm93blZhbHVlKSB7XG4gIGRvIHtcbiAgICB0cnkge1xuICAgICAgLy8gUmVzZXQgbW9kdWxlLWxldmVsIHN0YXRlIHRoYXQgd2FzIHNldCBkdXJpbmcgdGhlIHJlbmRlciBwaGFzZS5cbiAgICAgIHJlc2V0Q29udGV4dERlcGVuZGVuY2llcygpO1xuICAgICAgcmVzZXRIb29rcygpO1xuICAgICAgcmVzZXRDdXJyZW50RmliZXIoKTtcblxuICAgICAgaWYgKHdvcmtJblByb2dyZXNzID09PSBudWxsIHx8IHdvcmtJblByb2dyZXNzLnJldHVybiA9PT0gbnVsbCkge1xuICAgICAgICAvLyBFeHBlY3RlZCB0byBiZSB3b3JraW5nIG9uIGEgbm9uLXJvb3QgZmliZXIuIFRoaXMgaXMgYSBmYXRhbCBlcnJvclxuICAgICAgICAvLyBiZWNhdXNlIHRoZXJlJ3Mgbm8gYW5jZXN0b3IgdGhhdCBjYW4gaGFuZGxlIGl0OyB0aGUgcm9vdCBpc1xuICAgICAgICAvLyBzdXBwb3NlZCB0byBjYXB0dXJlIGFsbCBlcnJvcnMgdGhhdCB3ZXJlbid0IGNhdWdodCBieSBhbiBlcnJvclxuICAgICAgICAvLyBib3VuZGFyeS5cbiAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290RXhpdFN0YXR1cyA9IFJvb3RGYXRhbEVycm9yZWQ7XG4gICAgICAgIHdvcmtJblByb2dyZXNzUm9vdEZhdGFsRXJyb3IgPSB0aHJvd25WYWx1ZTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIGlmIChlbmFibGVQcm9maWxlclRpbWVyICYmIHdvcmtJblByb2dyZXNzLm1vZGUgJiBQcm9maWxlTW9kZSkge1xuICAgICAgICAvLyBSZWNvcmQgdGhlIHRpbWUgc3BlbnQgcmVuZGVyaW5nIGJlZm9yZSBhbiBlcnJvciB3YXMgdGhyb3duLiBUaGlzXG4gICAgICAgIC8vIGF2b2lkcyBpbmFjY3VyYXRlIFByb2ZpbGVyIGR1cmF0aW9ucyBpbiB0aGUgY2FzZSBvZiBhXG4gICAgICAgIC8vIHN1c3BlbmRlZCByZW5kZXIuXG4gICAgICAgIHN0b3BQcm9maWxlclRpbWVySWZSdW5uaW5nQW5kUmVjb3JkRGVsdGEod29ya0luUHJvZ3Jlc3MsIHRydWUpO1xuICAgICAgfVxuXG4gICAgICB0aHJvd0V4Y2VwdGlvbihyb290LCB3b3JrSW5Qcm9ncmVzcy5yZXR1cm4sIHdvcmtJblByb2dyZXNzLCB0aHJvd25WYWx1ZSwgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICAgICAgd29ya0luUHJvZ3Jlc3MgPSBjb21wbGV0ZVVuaXRPZldvcmsod29ya0luUHJvZ3Jlc3MpO1xuICAgIH0gY2F0Y2ggKHlldEFub3RoZXJUaHJvd25WYWx1ZSkge1xuICAgICAgLy8gU29tZXRoaW5nIGluIHRoZSByZXR1cm4gcGF0aCBhbHNvIHRocmV3LlxuICAgICAgdGhyb3duVmFsdWUgPSB5ZXRBbm90aGVyVGhyb3duVmFsdWU7XG4gICAgICBjb250aW51ZTtcbiAgICB9IC8vIFJldHVybiB0byB0aGUgbm9ybWFsIHdvcmsgbG9vcC5cblxuXG4gICAgcmV0dXJuO1xuICB9IHdoaWxlICh0cnVlKTtcbn1cblxuZnVuY3Rpb24gcHVzaERpc3BhdGNoZXIocm9vdCkge1xuICB2YXIgcHJldkRpc3BhdGNoZXIgPSBSZWFjdEN1cnJlbnREaXNwYXRjaGVyLmN1cnJlbnQ7XG4gIFJlYWN0Q3VycmVudERpc3BhdGNoZXIuY3VycmVudCA9IENvbnRleHRPbmx5RGlzcGF0Y2hlcjtcblxuICBpZiAocHJldkRpc3BhdGNoZXIgPT09IG51bGwpIHtcbiAgICAvLyBUaGUgUmVhY3QgaXNvbW9ycGhpYyBwYWNrYWdlIGRvZXMgbm90IGluY2x1ZGUgYSBkZWZhdWx0IGRpc3BhdGNoZXIuXG4gICAgLy8gSW5zdGVhZCB0aGUgZmlyc3QgcmVuZGVyZXIgd2lsbCBsYXppbHkgYXR0YWNoIG9uZSwgaW4gb3JkZXIgdG8gZ2l2ZVxuICAgIC8vIG5pY2VyIGVycm9yIG1lc3NhZ2VzLlxuICAgIHJldHVybiBDb250ZXh0T25seURpc3BhdGNoZXI7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHByZXZEaXNwYXRjaGVyO1xuICB9XG59XG5cbmZ1bmN0aW9uIHBvcERpc3BhdGNoZXIocHJldkRpc3BhdGNoZXIpIHtcbiAgUmVhY3RDdXJyZW50RGlzcGF0Y2hlci5jdXJyZW50ID0gcHJldkRpc3BhdGNoZXI7XG59XG5cbmZ1bmN0aW9uIHB1c2hJbnRlcmFjdGlvbnMocm9vdCkge1xuICBpZiAoZW5hYmxlU2NoZWR1bGVyVHJhY2luZykge1xuICAgIHZhciBwcmV2SW50ZXJhY3Rpb25zID0gdHJhY2luZy5fX2ludGVyYWN0aW9uc1JlZi5jdXJyZW50O1xuICAgIHRyYWNpbmcuX19pbnRlcmFjdGlvbnNSZWYuY3VycmVudCA9IHJvb3QubWVtb2l6ZWRJbnRlcmFjdGlvbnM7XG4gICAgcmV0dXJuIHByZXZJbnRlcmFjdGlvbnM7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gcG9wSW50ZXJhY3Rpb25zKHByZXZJbnRlcmFjdGlvbnMpIHtcbiAgaWYgKGVuYWJsZVNjaGVkdWxlclRyYWNpbmcpIHtcbiAgICB0cmFjaW5nLl9faW50ZXJhY3Rpb25zUmVmLmN1cnJlbnQgPSBwcmV2SW50ZXJhY3Rpb25zO1xuICB9XG59XG5cbmZ1bmN0aW9uIG1hcmtDb21taXRUaW1lT2ZGYWxsYmFjaygpIHtcbiAgZ2xvYmFsTW9zdFJlY2VudEZhbGxiYWNrVGltZSA9IG5vdygpO1xufVxuZnVuY3Rpb24gbWFya1JlbmRlckV2ZW50VGltZUFuZENvbmZpZyhleHBpcmF0aW9uVGltZSwgc3VzcGVuc2VDb25maWcpIHtcbiAgaWYgKGV4cGlyYXRpb25UaW1lIDwgd29ya0luUHJvZ3Jlc3NSb290TGF0ZXN0UHJvY2Vzc2VkRXhwaXJhdGlvblRpbWUgJiYgZXhwaXJhdGlvblRpbWUgPiBJZGxlKSB7XG4gICAgd29ya0luUHJvZ3Jlc3NSb290TGF0ZXN0UHJvY2Vzc2VkRXhwaXJhdGlvblRpbWUgPSBleHBpcmF0aW9uVGltZTtcbiAgfVxuXG4gIGlmIChzdXNwZW5zZUNvbmZpZyAhPT0gbnVsbCkge1xuICAgIGlmIChleHBpcmF0aW9uVGltZSA8IHdvcmtJblByb2dyZXNzUm9vdExhdGVzdFN1c3BlbnNlVGltZW91dCAmJiBleHBpcmF0aW9uVGltZSA+IElkbGUpIHtcbiAgICAgIHdvcmtJblByb2dyZXNzUm9vdExhdGVzdFN1c3BlbnNlVGltZW91dCA9IGV4cGlyYXRpb25UaW1lOyAvLyBNb3N0IG9mIHRoZSB0aW1lIHdlIG9ubHkgaGF2ZSBvbmUgY29uZmlnIGFuZCBnZXR0aW5nIHdyb25nIGlzIG5vdCBiYWQuXG5cbiAgICAgIHdvcmtJblByb2dyZXNzUm9vdENhblN1c3BlbmRVc2luZ0NvbmZpZyA9IHN1c3BlbnNlQ29uZmlnO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gbWFya1VucHJvY2Vzc2VkVXBkYXRlVGltZShleHBpcmF0aW9uVGltZSkge1xuICBpZiAoZXhwaXJhdGlvblRpbWUgPiB3b3JrSW5Qcm9ncmVzc1Jvb3ROZXh0VW5wcm9jZXNzZWRVcGRhdGVUaW1lKSB7XG4gICAgd29ya0luUHJvZ3Jlc3NSb290TmV4dFVucHJvY2Vzc2VkVXBkYXRlVGltZSA9IGV4cGlyYXRpb25UaW1lO1xuICB9XG59XG5mdW5jdGlvbiByZW5kZXJEaWRTdXNwZW5kKCkge1xuICBpZiAod29ya0luUHJvZ3Jlc3NSb290RXhpdFN0YXR1cyA9PT0gUm9vdEluY29tcGxldGUpIHtcbiAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RFeGl0U3RhdHVzID0gUm9vdFN1c3BlbmRlZDtcbiAgfVxufVxuZnVuY3Rpb24gcmVuZGVyRGlkU3VzcGVuZERlbGF5SWZQb3NzaWJsZSgpIHtcbiAgaWYgKHdvcmtJblByb2dyZXNzUm9vdEV4aXRTdGF0dXMgPT09IFJvb3RJbmNvbXBsZXRlIHx8IHdvcmtJblByb2dyZXNzUm9vdEV4aXRTdGF0dXMgPT09IFJvb3RTdXNwZW5kZWQpIHtcbiAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RFeGl0U3RhdHVzID0gUm9vdFN1c3BlbmRlZFdpdGhEZWxheTtcbiAgfSAvLyBDaGVjayBpZiB0aGVyZSdzIGEgbG93ZXIgcHJpb3JpdHkgdXBkYXRlIHNvbWV3aGVyZSBlbHNlIGluIHRoZSB0cmVlLlxuXG5cbiAgaWYgKHdvcmtJblByb2dyZXNzUm9vdE5leHRVbnByb2Nlc3NlZFVwZGF0ZVRpbWUgIT09IE5vV29yayAmJiB3b3JrSW5Qcm9ncmVzc1Jvb3QgIT09IG51bGwpIHtcbiAgICAvLyBNYXJrIHRoZSBjdXJyZW50IHJlbmRlciBhcyBzdXNwZW5kZWQsIGFuZCB0aGVuIG1hcmsgdGhhdCB0aGVyZSdzIGFcbiAgICAvLyBwZW5kaW5nIHVwZGF0ZS5cbiAgICAvLyBUT0RPOiBUaGlzIHNob3VsZCBpbW1lZGlhdGVseSBpbnRlcnJ1cHQgdGhlIGN1cnJlbnQgcmVuZGVyLCBpbnN0ZWFkXG4gICAgLy8gb2Ygd2FpdGluZyB1bnRpbCB0aGUgbmV4dCB0aW1lIHdlIHlpZWxkLlxuICAgIG1hcmtSb290U3VzcGVuZGVkQXRUaW1lKHdvcmtJblByb2dyZXNzUm9vdCwgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICAgIG1hcmtSb290VXBkYXRlZEF0VGltZSh3b3JrSW5Qcm9ncmVzc1Jvb3QsIHdvcmtJblByb2dyZXNzUm9vdE5leHRVbnByb2Nlc3NlZFVwZGF0ZVRpbWUpO1xuICB9XG59XG5mdW5jdGlvbiByZW5kZXJEaWRFcnJvcigpIHtcbiAgaWYgKHdvcmtJblByb2dyZXNzUm9vdEV4aXRTdGF0dXMgIT09IFJvb3RDb21wbGV0ZWQpIHtcbiAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RFeGl0U3RhdHVzID0gUm9vdEVycm9yZWQ7XG4gIH1cbn0gLy8gQ2FsbGVkIGR1cmluZyByZW5kZXIgdG8gZGV0ZXJtaW5lIGlmIGFueXRoaW5nIGhhcyBzdXNwZW5kZWQuXG4vLyBSZXR1cm5zIGZhbHNlIGlmIHdlJ3JlIG5vdCBzdXJlLlxuXG5mdW5jdGlvbiByZW5kZXJIYXNOb3RTdXNwZW5kZWRZZXQoKSB7XG4gIC8vIElmIHNvbWV0aGluZyBlcnJvcmVkIG9yIGNvbXBsZXRlZCwgd2UgY2FuJ3QgcmVhbGx5IGJlIHN1cmUsXG4gIC8vIHNvIHRob3NlIGFyZSBmYWxzZS5cbiAgcmV0dXJuIHdvcmtJblByb2dyZXNzUm9vdEV4aXRTdGF0dXMgPT09IFJvb3RJbmNvbXBsZXRlO1xufVxuXG5mdW5jdGlvbiBpbmZlclRpbWVGcm9tRXhwaXJhdGlvblRpbWUoZXhwaXJhdGlvblRpbWUpIHtcbiAgLy8gV2UgZG9uJ3Qga25vdyBleGFjdGx5IHdoZW4gdGhlIHVwZGF0ZSB3YXMgc2NoZWR1bGVkLCBidXQgd2UgY2FuIGluZmVyIGFuXG4gIC8vIGFwcHJveGltYXRlIHN0YXJ0IHRpbWUgZnJvbSB0aGUgZXhwaXJhdGlvbiB0aW1lLlxuICB2YXIgZWFybGllc3RFeHBpcmF0aW9uVGltZU1zID0gZXhwaXJhdGlvblRpbWVUb01zKGV4cGlyYXRpb25UaW1lKTtcbiAgcmV0dXJuIGVhcmxpZXN0RXhwaXJhdGlvblRpbWVNcyAtIExPV19QUklPUklUWV9FWFBJUkFUSU9OO1xufVxuXG5mdW5jdGlvbiBpbmZlclRpbWVGcm9tRXhwaXJhdGlvblRpbWVXaXRoU3VzcGVuc2VDb25maWcoZXhwaXJhdGlvblRpbWUsIHN1c3BlbnNlQ29uZmlnKSB7XG4gIC8vIFdlIGRvbid0IGtub3cgZXhhY3RseSB3aGVuIHRoZSB1cGRhdGUgd2FzIHNjaGVkdWxlZCwgYnV0IHdlIGNhbiBpbmZlciBhblxuICAvLyBhcHByb3hpbWF0ZSBzdGFydCB0aW1lIGZyb20gdGhlIGV4cGlyYXRpb24gdGltZSBieSBzdWJ0cmFjdGluZyB0aGUgdGltZW91dFxuICAvLyB0aGF0IHdhcyBhZGRlZCB0byB0aGUgZXZlbnQgdGltZS5cbiAgdmFyIGVhcmxpZXN0RXhwaXJhdGlvblRpbWVNcyA9IGV4cGlyYXRpb25UaW1lVG9NcyhleHBpcmF0aW9uVGltZSk7XG4gIHJldHVybiBlYXJsaWVzdEV4cGlyYXRpb25UaW1lTXMgLSAoc3VzcGVuc2VDb25maWcudGltZW91dE1zIHwgMCB8fCBMT1dfUFJJT1JJVFlfRVhQSVJBVElPTik7XG59IC8vIFRoZSB3b3JrIGxvb3AgaXMgYW4gZXh0cmVtZWx5IGhvdCBwYXRoLiBUZWxsIENsb3N1cmUgbm90IHRvIGlubGluZSBpdC5cblxuLyoqIEBub2lubGluZSAqL1xuXG5cbmZ1bmN0aW9uIHdvcmtMb29wU3luYygpIHtcbiAgLy8gQWxyZWFkeSB0aW1lZCBvdXQsIHNvIHBlcmZvcm0gd29yayB3aXRob3V0IGNoZWNraW5nIGlmIHdlIG5lZWQgdG8geWllbGQuXG4gIHdoaWxlICh3b3JrSW5Qcm9ncmVzcyAhPT0gbnVsbCkge1xuICAgIHdvcmtJblByb2dyZXNzID0gcGVyZm9ybVVuaXRPZldvcmsod29ya0luUHJvZ3Jlc3MpO1xuICB9XG59XG4vKiogQG5vaW5saW5lICovXG5cblxuZnVuY3Rpb24gd29ya0xvb3BDb25jdXJyZW50KCkge1xuICAvLyBQZXJmb3JtIHdvcmsgdW50aWwgU2NoZWR1bGVyIGFza3MgdXMgdG8geWllbGRcbiAgd2hpbGUgKHdvcmtJblByb2dyZXNzICE9PSBudWxsICYmICFzaG91bGRZaWVsZCgpKSB7XG4gICAgd29ya0luUHJvZ3Jlc3MgPSBwZXJmb3JtVW5pdE9mV29yayh3b3JrSW5Qcm9ncmVzcyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcGVyZm9ybVVuaXRPZldvcmsodW5pdE9mV29yaykge1xuICAvLyBUaGUgY3VycmVudCwgZmx1c2hlZCwgc3RhdGUgb2YgdGhpcyBmaWJlciBpcyB0aGUgYWx0ZXJuYXRlLiBJZGVhbGx5XG4gIC8vIG5vdGhpbmcgc2hvdWxkIHJlbHkgb24gdGhpcywgYnV0IHJlbHlpbmcgb24gaXQgaGVyZSBtZWFucyB0aGF0IHdlIGRvbid0XG4gIC8vIG5lZWQgYW4gYWRkaXRpb25hbCBmaWVsZCBvbiB0aGUgd29yayBpbiBwcm9ncmVzcy5cbiAgdmFyIGN1cnJlbnQkJDEgPSB1bml0T2ZXb3JrLmFsdGVybmF0ZTtcbiAgc3RhcnRXb3JrVGltZXIodW5pdE9mV29yayk7XG4gIHNldEN1cnJlbnRGaWJlcih1bml0T2ZXb3JrKTtcbiAgdmFyIG5leHQ7XG5cbiAgaWYgKGVuYWJsZVByb2ZpbGVyVGltZXIgJiYgKHVuaXRPZldvcmsubW9kZSAmIFByb2ZpbGVNb2RlKSAhPT0gTm9Nb2RlKSB7XG4gICAgc3RhcnRQcm9maWxlclRpbWVyKHVuaXRPZldvcmspO1xuICAgIG5leHQgPSBiZWdpbldvcmskJDEoY3VycmVudCQkMSwgdW5pdE9mV29yaywgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICAgIHN0b3BQcm9maWxlclRpbWVySWZSdW5uaW5nQW5kUmVjb3JkRGVsdGEodW5pdE9mV29yaywgdHJ1ZSk7XG4gIH0gZWxzZSB7XG4gICAgbmV4dCA9IGJlZ2luV29yayQkMShjdXJyZW50JCQxLCB1bml0T2ZXb3JrLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gIH1cblxuICByZXNldEN1cnJlbnRGaWJlcigpO1xuICB1bml0T2ZXb3JrLm1lbW9pemVkUHJvcHMgPSB1bml0T2ZXb3JrLnBlbmRpbmdQcm9wcztcblxuICBpZiAobmV4dCA9PT0gbnVsbCkge1xuICAgIC8vIElmIHRoaXMgZG9lc24ndCBzcGF3biBuZXcgd29yaywgY29tcGxldGUgdGhlIGN1cnJlbnQgd29yay5cbiAgICBuZXh0ID0gY29tcGxldGVVbml0T2ZXb3JrKHVuaXRPZldvcmspO1xuICB9XG5cbiAgUmVhY3RDdXJyZW50T3duZXIkMi5jdXJyZW50ID0gbnVsbDtcbiAgcmV0dXJuIG5leHQ7XG59XG5cbmZ1bmN0aW9uIGNvbXBsZXRlVW5pdE9mV29yayh1bml0T2ZXb3JrKSB7XG4gIC8vIEF0dGVtcHQgdG8gY29tcGxldGUgdGhlIGN1cnJlbnQgdW5pdCBvZiB3b3JrLCB0aGVuIG1vdmUgdG8gdGhlIG5leHRcbiAgLy8gc2libGluZy4gSWYgdGhlcmUgYXJlIG5vIG1vcmUgc2libGluZ3MsIHJldHVybiB0byB0aGUgcGFyZW50IGZpYmVyLlxuICB3b3JrSW5Qcm9ncmVzcyA9IHVuaXRPZldvcms7XG5cbiAgZG8ge1xuICAgIC8vIFRoZSBjdXJyZW50LCBmbHVzaGVkLCBzdGF0ZSBvZiB0aGlzIGZpYmVyIGlzIHRoZSBhbHRlcm5hdGUuIElkZWFsbHlcbiAgICAvLyBub3RoaW5nIHNob3VsZCByZWx5IG9uIHRoaXMsIGJ1dCByZWx5aW5nIG9uIGl0IGhlcmUgbWVhbnMgdGhhdCB3ZSBkb24ndFxuICAgIC8vIG5lZWQgYW4gYWRkaXRpb25hbCBmaWVsZCBvbiB0aGUgd29yayBpbiBwcm9ncmVzcy5cbiAgICB2YXIgY3VycmVudCQkMSA9IHdvcmtJblByb2dyZXNzLmFsdGVybmF0ZTtcbiAgICB2YXIgcmV0dXJuRmliZXIgPSB3b3JrSW5Qcm9ncmVzcy5yZXR1cm47IC8vIENoZWNrIGlmIHRoZSB3b3JrIGNvbXBsZXRlZCBvciBpZiBzb21ldGhpbmcgdGhyZXcuXG5cbiAgICBpZiAoKHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyAmIEluY29tcGxldGUpID09PSBOb0VmZmVjdCkge1xuICAgICAgc2V0Q3VycmVudEZpYmVyKHdvcmtJblByb2dyZXNzKTtcbiAgICAgIHZhciBuZXh0ID0gdm9pZCAwO1xuXG4gICAgICBpZiAoIWVuYWJsZVByb2ZpbGVyVGltZXIgfHwgKHdvcmtJblByb2dyZXNzLm1vZGUgJiBQcm9maWxlTW9kZSkgPT09IE5vTW9kZSkge1xuICAgICAgICBuZXh0ID0gY29tcGxldGVXb3JrKGN1cnJlbnQkJDEsIHdvcmtJblByb2dyZXNzLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdGFydFByb2ZpbGVyVGltZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICBuZXh0ID0gY29tcGxldGVXb3JrKGN1cnJlbnQkJDEsIHdvcmtJblByb2dyZXNzLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7IC8vIFVwZGF0ZSByZW5kZXIgZHVyYXRpb24gYXNzdW1pbmcgd2UgZGlkbid0IGVycm9yLlxuXG4gICAgICAgIHN0b3BQcm9maWxlclRpbWVySWZSdW5uaW5nQW5kUmVjb3JkRGVsdGEod29ya0luUHJvZ3Jlc3MsIGZhbHNlKTtcbiAgICAgIH1cblxuICAgICAgc3RvcFdvcmtUaW1lcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICByZXNldEN1cnJlbnRGaWJlcigpO1xuICAgICAgcmVzZXRDaGlsZEV4cGlyYXRpb25UaW1lKHdvcmtJblByb2dyZXNzKTtcblxuICAgICAgaWYgKG5leHQgIT09IG51bGwpIHtcbiAgICAgICAgLy8gQ29tcGxldGluZyB0aGlzIGZpYmVyIHNwYXduZWQgbmV3IHdvcmsuIFdvcmsgb24gdGhhdCBuZXh0LlxuICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgIH1cblxuICAgICAgaWYgKHJldHVybkZpYmVyICE9PSBudWxsICYmIC8vIERvIG5vdCBhcHBlbmQgZWZmZWN0cyB0byBwYXJlbnRzIGlmIGEgc2libGluZyBmYWlsZWQgdG8gY29tcGxldGVcbiAgICAgIChyZXR1cm5GaWJlci5lZmZlY3RUYWcgJiBJbmNvbXBsZXRlKSA9PT0gTm9FZmZlY3QpIHtcbiAgICAgICAgLy8gQXBwZW5kIGFsbCB0aGUgZWZmZWN0cyBvZiB0aGUgc3VidHJlZSBhbmQgdGhpcyBmaWJlciBvbnRvIHRoZSBlZmZlY3RcbiAgICAgICAgLy8gbGlzdCBvZiB0aGUgcGFyZW50LiBUaGUgY29tcGxldGlvbiBvcmRlciBvZiB0aGUgY2hpbGRyZW4gYWZmZWN0cyB0aGVcbiAgICAgICAgLy8gc2lkZS1lZmZlY3Qgb3JkZXIuXG4gICAgICAgIGlmIChyZXR1cm5GaWJlci5maXJzdEVmZmVjdCA9PT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybkZpYmVyLmZpcnN0RWZmZWN0ID0gd29ya0luUHJvZ3Jlc3MuZmlyc3RFZmZlY3Q7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAod29ya0luUHJvZ3Jlc3MubGFzdEVmZmVjdCAhPT0gbnVsbCkge1xuICAgICAgICAgIGlmIChyZXR1cm5GaWJlci5sYXN0RWZmZWN0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm5GaWJlci5sYXN0RWZmZWN0Lm5leHRFZmZlY3QgPSB3b3JrSW5Qcm9ncmVzcy5maXJzdEVmZmVjdDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm5GaWJlci5sYXN0RWZmZWN0ID0gd29ya0luUHJvZ3Jlc3MubGFzdEVmZmVjdDtcbiAgICAgICAgfSAvLyBJZiB0aGlzIGZpYmVyIGhhZCBzaWRlLWVmZmVjdHMsIHdlIGFwcGVuZCBpdCBBRlRFUiB0aGUgY2hpbGRyZW4nc1xuICAgICAgICAvLyBzaWRlLWVmZmVjdHMuIFdlIGNhbiBwZXJmb3JtIGNlcnRhaW4gc2lkZS1lZmZlY3RzIGVhcmxpZXIgaWYgbmVlZGVkLFxuICAgICAgICAvLyBieSBkb2luZyBtdWx0aXBsZSBwYXNzZXMgb3ZlciB0aGUgZWZmZWN0IGxpc3QuIFdlIGRvbid0IHdhbnQgdG9cbiAgICAgICAgLy8gc2NoZWR1bGUgb3VyIG93biBzaWRlLWVmZmVjdCBvbiBvdXIgb3duIGxpc3QgYmVjYXVzZSBpZiBlbmQgdXBcbiAgICAgICAgLy8gcmV1c2luZyBjaGlsZHJlbiB3ZSdsbCBzY2hlZHVsZSB0aGlzIGVmZmVjdCBvbnRvIGl0c2VsZiBzaW5jZSB3ZSdyZVxuICAgICAgICAvLyBhdCB0aGUgZW5kLlxuXG5cbiAgICAgICAgdmFyIGVmZmVjdFRhZyA9IHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZzsgLy8gU2tpcCBib3RoIE5vV29yayBhbmQgUGVyZm9ybWVkV29yayB0YWdzIHdoZW4gY3JlYXRpbmcgdGhlIGVmZmVjdFxuICAgICAgICAvLyBsaXN0LiBQZXJmb3JtZWRXb3JrIGVmZmVjdCBpcyByZWFkIGJ5IFJlYWN0IERldlRvb2xzIGJ1dCBzaG91bGRuJ3QgYmVcbiAgICAgICAgLy8gY29tbWl0dGVkLlxuXG4gICAgICAgIGlmIChlZmZlY3RUYWcgPiBQZXJmb3JtZWRXb3JrKSB7XG4gICAgICAgICAgaWYgKHJldHVybkZpYmVyLmxhc3RFZmZlY3QgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybkZpYmVyLmxhc3RFZmZlY3QubmV4dEVmZmVjdCA9IHdvcmtJblByb2dyZXNzO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm5GaWJlci5maXJzdEVmZmVjdCA9IHdvcmtJblByb2dyZXNzO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybkZpYmVyLmxhc3RFZmZlY3QgPSB3b3JrSW5Qcm9ncmVzcztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBUaGlzIGZpYmVyIGRpZCBub3QgY29tcGxldGUgYmVjYXVzZSBzb21ldGhpbmcgdGhyZXcuIFBvcCB2YWx1ZXMgb2ZmXG4gICAgICAvLyB0aGUgc3RhY2sgd2l0aG91dCBlbnRlcmluZyB0aGUgY29tcGxldGUgcGhhc2UuIElmIHRoaXMgaXMgYSBib3VuZGFyeSxcbiAgICAgIC8vIGNhcHR1cmUgdmFsdWVzIGlmIHBvc3NpYmxlLlxuICAgICAgdmFyIF9uZXh0ID0gdW53aW5kV29yayh3b3JrSW5Qcm9ncmVzcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpOyAvLyBCZWNhdXNlIHRoaXMgZmliZXIgZGlkIG5vdCBjb21wbGV0ZSwgZG9uJ3QgcmVzZXQgaXRzIGV4cGlyYXRpb24gdGltZS5cblxuXG4gICAgICBpZiAoZW5hYmxlUHJvZmlsZXJUaW1lciAmJiAod29ya0luUHJvZ3Jlc3MubW9kZSAmIFByb2ZpbGVNb2RlKSAhPT0gTm9Nb2RlKSB7XG4gICAgICAgIC8vIFJlY29yZCB0aGUgcmVuZGVyIGR1cmF0aW9uIGZvciB0aGUgZmliZXIgdGhhdCBlcnJvcmVkLlxuICAgICAgICBzdG9wUHJvZmlsZXJUaW1lcklmUnVubmluZ0FuZFJlY29yZERlbHRhKHdvcmtJblByb2dyZXNzLCBmYWxzZSk7IC8vIEluY2x1ZGUgdGhlIHRpbWUgc3BlbnQgd29ya2luZyBvbiBmYWlsZWQgY2hpbGRyZW4gYmVmb3JlIGNvbnRpbnVpbmcuXG5cbiAgICAgICAgdmFyIGFjdHVhbER1cmF0aW9uID0gd29ya0luUHJvZ3Jlc3MuYWN0dWFsRHVyYXRpb247XG4gICAgICAgIHZhciBjaGlsZCA9IHdvcmtJblByb2dyZXNzLmNoaWxkO1xuXG4gICAgICAgIHdoaWxlIChjaGlsZCAhPT0gbnVsbCkge1xuICAgICAgICAgIGFjdHVhbER1cmF0aW9uICs9IGNoaWxkLmFjdHVhbER1cmF0aW9uO1xuICAgICAgICAgIGNoaWxkID0gY2hpbGQuc2libGluZztcbiAgICAgICAgfVxuXG4gICAgICAgIHdvcmtJblByb2dyZXNzLmFjdHVhbER1cmF0aW9uID0gYWN0dWFsRHVyYXRpb247XG4gICAgICB9XG5cbiAgICAgIGlmIChfbmV4dCAhPT0gbnVsbCkge1xuICAgICAgICAvLyBJZiBjb21wbGV0aW5nIHRoaXMgd29yayBzcGF3bmVkIG5ldyB3b3JrLCBkbyB0aGF0IG5leHQuIFdlJ2xsIGNvbWVcbiAgICAgICAgLy8gYmFjayBoZXJlIGFnYWluLlxuICAgICAgICAvLyBTaW5jZSB3ZSdyZSByZXN0YXJ0aW5nLCByZW1vdmUgYW55dGhpbmcgdGhhdCBpcyBub3QgYSBob3N0IGVmZmVjdFxuICAgICAgICAvLyBmcm9tIHRoZSBlZmZlY3QgdGFnLlxuICAgICAgICAvLyBUT0RPOiBUaGUgbmFtZSBzdG9wRmFpbGVkV29ya1RpbWVyIGlzIG1pc2xlYWRpbmcgYmVjYXVzZSBTdXNwZW5zZVxuICAgICAgICAvLyBhbHNvIGNhcHR1cmVzIGFuZCByZXN0YXJ0cy5cbiAgICAgICAgc3RvcEZhaWxlZFdvcmtUaW1lcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgIF9uZXh0LmVmZmVjdFRhZyAmPSBIb3N0RWZmZWN0TWFzaztcbiAgICAgICAgcmV0dXJuIF9uZXh0O1xuICAgICAgfVxuXG4gICAgICBzdG9wV29ya1RpbWVyKHdvcmtJblByb2dyZXNzKTtcblxuICAgICAgaWYgKHJldHVybkZpYmVyICE9PSBudWxsKSB7XG4gICAgICAgIC8vIE1hcmsgdGhlIHBhcmVudCBmaWJlciBhcyBpbmNvbXBsZXRlIGFuZCBjbGVhciBpdHMgZWZmZWN0IGxpc3QuXG4gICAgICAgIHJldHVybkZpYmVyLmZpcnN0RWZmZWN0ID0gcmV0dXJuRmliZXIubGFzdEVmZmVjdCA9IG51bGw7XG4gICAgICAgIHJldHVybkZpYmVyLmVmZmVjdFRhZyB8PSBJbmNvbXBsZXRlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBzaWJsaW5nRmliZXIgPSB3b3JrSW5Qcm9ncmVzcy5zaWJsaW5nO1xuXG4gICAgaWYgKHNpYmxpbmdGaWJlciAhPT0gbnVsbCkge1xuICAgICAgLy8gSWYgdGhlcmUgaXMgbW9yZSB3b3JrIHRvIGRvIGluIHRoaXMgcmV0dXJuRmliZXIsIGRvIHRoYXQgbmV4dC5cbiAgICAgIHJldHVybiBzaWJsaW5nRmliZXI7XG4gICAgfSAvLyBPdGhlcndpc2UsIHJldHVybiB0byB0aGUgcGFyZW50XG5cblxuICAgIHdvcmtJblByb2dyZXNzID0gcmV0dXJuRmliZXI7XG4gIH0gd2hpbGUgKHdvcmtJblByb2dyZXNzICE9PSBudWxsKTsgLy8gV2UndmUgcmVhY2hlZCB0aGUgcm9vdC5cblxuXG4gIGlmICh3b3JrSW5Qcm9ncmVzc1Jvb3RFeGl0U3RhdHVzID09PSBSb290SW5jb21wbGV0ZSkge1xuICAgIHdvcmtJblByb2dyZXNzUm9vdEV4aXRTdGF0dXMgPSBSb290Q29tcGxldGVkO1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIGdldFJlbWFpbmluZ0V4cGlyYXRpb25UaW1lKGZpYmVyKSB7XG4gIHZhciB1cGRhdGVFeHBpcmF0aW9uVGltZSA9IGZpYmVyLmV4cGlyYXRpb25UaW1lO1xuICB2YXIgY2hpbGRFeHBpcmF0aW9uVGltZSA9IGZpYmVyLmNoaWxkRXhwaXJhdGlvblRpbWU7XG4gIHJldHVybiB1cGRhdGVFeHBpcmF0aW9uVGltZSA+IGNoaWxkRXhwaXJhdGlvblRpbWUgPyB1cGRhdGVFeHBpcmF0aW9uVGltZSA6IGNoaWxkRXhwaXJhdGlvblRpbWU7XG59XG5cbmZ1bmN0aW9uIHJlc2V0Q2hpbGRFeHBpcmF0aW9uVGltZShjb21wbGV0ZWRXb3JrKSB7XG4gIGlmIChyZW5kZXJFeHBpcmF0aW9uVGltZSAhPT0gTmV2ZXIgJiYgY29tcGxldGVkV29yay5jaGlsZEV4cGlyYXRpb25UaW1lID09PSBOZXZlcikge1xuICAgIC8vIFRoZSBjaGlsZHJlbiBvZiB0aGlzIGNvbXBvbmVudCBhcmUgaGlkZGVuLiBEb24ndCBidWJibGUgdGhlaXJcbiAgICAvLyBleHBpcmF0aW9uIHRpbWVzLlxuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBuZXdDaGlsZEV4cGlyYXRpb25UaW1lID0gTm9Xb3JrOyAvLyBCdWJibGUgdXAgdGhlIGVhcmxpZXN0IGV4cGlyYXRpb24gdGltZS5cblxuICBpZiAoZW5hYmxlUHJvZmlsZXJUaW1lciAmJiAoY29tcGxldGVkV29yay5tb2RlICYgUHJvZmlsZU1vZGUpICE9PSBOb01vZGUpIHtcbiAgICAvLyBJbiBwcm9maWxpbmcgbW9kZSwgcmVzZXRDaGlsZEV4cGlyYXRpb25UaW1lIGlzIGFsc28gdXNlZCB0byByZXNldFxuICAgIC8vIHByb2ZpbGVyIGR1cmF0aW9ucy5cbiAgICB2YXIgYWN0dWFsRHVyYXRpb24gPSBjb21wbGV0ZWRXb3JrLmFjdHVhbER1cmF0aW9uO1xuICAgIHZhciB0cmVlQmFzZUR1cmF0aW9uID0gY29tcGxldGVkV29yay5zZWxmQmFzZUR1cmF0aW9uOyAvLyBXaGVuIGEgZmliZXIgaXMgY2xvbmVkLCBpdHMgYWN0dWFsRHVyYXRpb24gaXMgcmVzZXQgdG8gMC4gVGhpcyB2YWx1ZSB3aWxsXG4gICAgLy8gb25seSBiZSB1cGRhdGVkIGlmIHdvcmsgaXMgZG9uZSBvbiB0aGUgZmliZXIgKGkuZS4gaXQgZG9lc24ndCBiYWlsb3V0KS5cbiAgICAvLyBXaGVuIHdvcmsgaXMgZG9uZSwgaXQgc2hvdWxkIGJ1YmJsZSB0byB0aGUgcGFyZW50J3MgYWN0dWFsRHVyYXRpb24uIElmXG4gICAgLy8gdGhlIGZpYmVyIGhhcyBub3QgYmVlbiBjbG9uZWQgdGhvdWdoLCAobWVhbmluZyBubyB3b3JrIHdhcyBkb25lKSwgdGhlblxuICAgIC8vIHRoaXMgdmFsdWUgd2lsbCByZWZsZWN0IHRoZSBhbW91bnQgb2YgdGltZSBzcGVudCB3b3JraW5nIG9uIGEgcHJldmlvdXNcbiAgICAvLyByZW5kZXIuIEluIHRoYXQgY2FzZSBpdCBzaG91bGQgbm90IGJ1YmJsZS4gV2UgZGV0ZXJtaW5lIHdoZXRoZXIgaXQgd2FzXG4gICAgLy8gY2xvbmVkIGJ5IGNvbXBhcmluZyB0aGUgY2hpbGQgcG9pbnRlci5cblxuICAgIHZhciBzaG91bGRCdWJibGVBY3R1YWxEdXJhdGlvbnMgPSBjb21wbGV0ZWRXb3JrLmFsdGVybmF0ZSA9PT0gbnVsbCB8fCBjb21wbGV0ZWRXb3JrLmNoaWxkICE9PSBjb21wbGV0ZWRXb3JrLmFsdGVybmF0ZS5jaGlsZDtcbiAgICB2YXIgY2hpbGQgPSBjb21wbGV0ZWRXb3JrLmNoaWxkO1xuXG4gICAgd2hpbGUgKGNoaWxkICE9PSBudWxsKSB7XG4gICAgICB2YXIgY2hpbGRVcGRhdGVFeHBpcmF0aW9uVGltZSA9IGNoaWxkLmV4cGlyYXRpb25UaW1lO1xuICAgICAgdmFyIGNoaWxkQ2hpbGRFeHBpcmF0aW9uVGltZSA9IGNoaWxkLmNoaWxkRXhwaXJhdGlvblRpbWU7XG5cbiAgICAgIGlmIChjaGlsZFVwZGF0ZUV4cGlyYXRpb25UaW1lID4gbmV3Q2hpbGRFeHBpcmF0aW9uVGltZSkge1xuICAgICAgICBuZXdDaGlsZEV4cGlyYXRpb25UaW1lID0gY2hpbGRVcGRhdGVFeHBpcmF0aW9uVGltZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGNoaWxkQ2hpbGRFeHBpcmF0aW9uVGltZSA+IG5ld0NoaWxkRXhwaXJhdGlvblRpbWUpIHtcbiAgICAgICAgbmV3Q2hpbGRFeHBpcmF0aW9uVGltZSA9IGNoaWxkQ2hpbGRFeHBpcmF0aW9uVGltZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHNob3VsZEJ1YmJsZUFjdHVhbER1cmF0aW9ucykge1xuICAgICAgICBhY3R1YWxEdXJhdGlvbiArPSBjaGlsZC5hY3R1YWxEdXJhdGlvbjtcbiAgICAgIH1cblxuICAgICAgdHJlZUJhc2VEdXJhdGlvbiArPSBjaGlsZC50cmVlQmFzZUR1cmF0aW9uO1xuICAgICAgY2hpbGQgPSBjaGlsZC5zaWJsaW5nO1xuICAgIH1cblxuICAgIGNvbXBsZXRlZFdvcmsuYWN0dWFsRHVyYXRpb24gPSBhY3R1YWxEdXJhdGlvbjtcbiAgICBjb21wbGV0ZWRXb3JrLnRyZWVCYXNlRHVyYXRpb24gPSB0cmVlQmFzZUR1cmF0aW9uO1xuICB9IGVsc2Uge1xuICAgIHZhciBfY2hpbGQgPSBjb21wbGV0ZWRXb3JrLmNoaWxkO1xuXG4gICAgd2hpbGUgKF9jaGlsZCAhPT0gbnVsbCkge1xuICAgICAgdmFyIF9jaGlsZFVwZGF0ZUV4cGlyYXRpb25UaW1lID0gX2NoaWxkLmV4cGlyYXRpb25UaW1lO1xuICAgICAgdmFyIF9jaGlsZENoaWxkRXhwaXJhdGlvblRpbWUgPSBfY2hpbGQuY2hpbGRFeHBpcmF0aW9uVGltZTtcblxuICAgICAgaWYgKF9jaGlsZFVwZGF0ZUV4cGlyYXRpb25UaW1lID4gbmV3Q2hpbGRFeHBpcmF0aW9uVGltZSkge1xuICAgICAgICBuZXdDaGlsZEV4cGlyYXRpb25UaW1lID0gX2NoaWxkVXBkYXRlRXhwaXJhdGlvblRpbWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChfY2hpbGRDaGlsZEV4cGlyYXRpb25UaW1lID4gbmV3Q2hpbGRFeHBpcmF0aW9uVGltZSkge1xuICAgICAgICBuZXdDaGlsZEV4cGlyYXRpb25UaW1lID0gX2NoaWxkQ2hpbGRFeHBpcmF0aW9uVGltZTtcbiAgICAgIH1cblxuICAgICAgX2NoaWxkID0gX2NoaWxkLnNpYmxpbmc7XG4gICAgfVxuICB9XG5cbiAgY29tcGxldGVkV29yay5jaGlsZEV4cGlyYXRpb25UaW1lID0gbmV3Q2hpbGRFeHBpcmF0aW9uVGltZTtcbn1cblxuZnVuY3Rpb24gY29tbWl0Um9vdChyb290KSB7XG4gIHZhciByZW5kZXJQcmlvcml0eUxldmVsID0gZ2V0Q3VycmVudFByaW9yaXR5TGV2ZWwoKTtcbiAgcnVuV2l0aFByaW9yaXR5JDIoSW1tZWRpYXRlUHJpb3JpdHksIGNvbW1pdFJvb3RJbXBsLmJpbmQobnVsbCwgcm9vdCwgcmVuZGVyUHJpb3JpdHlMZXZlbCkpO1xuICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gY29tbWl0Um9vdEltcGwocm9vdCwgcmVuZGVyUHJpb3JpdHlMZXZlbCkge1xuICBkbyB7XG4gICAgLy8gYGZsdXNoUGFzc2l2ZUVmZmVjdHNgIHdpbGwgY2FsbCBgZmx1c2hTeW5jVXBkYXRlUXVldWVgIGF0IHRoZSBlbmQsIHdoaWNoXG4gICAgLy8gbWVhbnMgYGZsdXNoUGFzc2l2ZUVmZmVjdHNgIHdpbGwgc29tZXRpbWVzIHJlc3VsdCBpbiBhZGRpdGlvbmFsXG4gICAgLy8gcGFzc2l2ZSBlZmZlY3RzLiBTbyB3ZSBuZWVkIHRvIGtlZXAgZmx1c2hpbmcgaW4gYSBsb29wIHVudGlsIHRoZXJlIGFyZVxuICAgIC8vIG5vIG1vcmUgcGVuZGluZyBlZmZlY3RzLlxuICAgIC8vIFRPRE86IE1pZ2h0IGJlIGJldHRlciBpZiBgZmx1c2hQYXNzaXZlRWZmZWN0c2AgZGlkIG5vdCBhdXRvbWF0aWNhbGx5XG4gICAgLy8gZmx1c2ggc3luY2hyb25vdXMgd29yayBhdCB0aGUgZW5kLCB0byBhdm9pZCBmYWN0b3JpbmcgaGF6YXJkcyBsaWtlIHRoaXMuXG4gICAgZmx1c2hQYXNzaXZlRWZmZWN0cygpO1xuICB9IHdoaWxlIChyb290V2l0aFBlbmRpbmdQYXNzaXZlRWZmZWN0cyAhPT0gbnVsbCk7XG5cbiAgZmx1c2hSZW5kZXJQaGFzZVN0cmljdE1vZGVXYXJuaW5nc0luREVWKCk7XG5cbiAgaWYgKCEoKGV4ZWN1dGlvbkNvbnRleHQgJiAoUmVuZGVyQ29udGV4dCB8IENvbW1pdENvbnRleHQpKSA9PT0gTm9Db250ZXh0KSkge1xuICAgIHtcbiAgICAgIHRocm93IEVycm9yKFwiU2hvdWxkIG5vdCBhbHJlYWR5IGJlIHdvcmtpbmcuXCIpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBmaW5pc2hlZFdvcmsgPSByb290LmZpbmlzaGVkV29yaztcbiAgdmFyIGV4cGlyYXRpb25UaW1lID0gcm9vdC5maW5pc2hlZEV4cGlyYXRpb25UaW1lO1xuXG4gIGlmIChmaW5pc2hlZFdvcmsgPT09IG51bGwpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJvb3QuZmluaXNoZWRXb3JrID0gbnVsbDtcbiAgcm9vdC5maW5pc2hlZEV4cGlyYXRpb25UaW1lID0gTm9Xb3JrO1xuXG4gIGlmICghKGZpbmlzaGVkV29yayAhPT0gcm9vdC5jdXJyZW50KSkge1xuICAgIHtcbiAgICAgIHRocm93IEVycm9yKFwiQ2Fubm90IGNvbW1pdCB0aGUgc2FtZSB0cmVlIGFzIGJlZm9yZS4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIik7XG4gICAgfVxuICB9IC8vIGNvbW1pdFJvb3QgbmV2ZXIgcmV0dXJucyBhIGNvbnRpbnVhdGlvbjsgaXQgYWx3YXlzIGZpbmlzaGVzIHN5bmNocm9ub3VzbHkuXG4gIC8vIFNvIHdlIGNhbiBjbGVhciB0aGVzZSBub3cgdG8gYWxsb3cgYSBuZXcgY2FsbGJhY2sgdG8gYmUgc2NoZWR1bGVkLlxuXG5cbiAgcm9vdC5jYWxsYmFja05vZGUgPSBudWxsO1xuICByb290LmNhbGxiYWNrRXhwaXJhdGlvblRpbWUgPSBOb1dvcms7XG4gIHJvb3QuY2FsbGJhY2tQcmlvcml0eSA9IE5vUHJpb3JpdHk7XG4gIHJvb3QubmV4dEtub3duUGVuZGluZ0xldmVsID0gTm9Xb3JrO1xuICBzdGFydENvbW1pdFRpbWVyKCk7IC8vIFVwZGF0ZSB0aGUgZmlyc3QgYW5kIGxhc3QgcGVuZGluZyB0aW1lcyBvbiB0aGlzIHJvb3QuIFRoZSBuZXcgZmlyc3RcbiAgLy8gcGVuZGluZyB0aW1lIGlzIHdoYXRldmVyIGlzIGxlZnQgb24gdGhlIHJvb3QgZmliZXIuXG5cbiAgdmFyIHJlbWFpbmluZ0V4cGlyYXRpb25UaW1lQmVmb3JlQ29tbWl0ID0gZ2V0UmVtYWluaW5nRXhwaXJhdGlvblRpbWUoZmluaXNoZWRXb3JrKTtcbiAgbWFya1Jvb3RGaW5pc2hlZEF0VGltZShyb290LCBleHBpcmF0aW9uVGltZSwgcmVtYWluaW5nRXhwaXJhdGlvblRpbWVCZWZvcmVDb21taXQpO1xuXG4gIGlmIChyb290ID09PSB3b3JrSW5Qcm9ncmVzc1Jvb3QpIHtcbiAgICAvLyBXZSBjYW4gcmVzZXQgdGhlc2Ugbm93IHRoYXQgdGhleSBhcmUgZmluaXNoZWQuXG4gICAgd29ya0luUHJvZ3Jlc3NSb290ID0gbnVsbDtcbiAgICB3b3JrSW5Qcm9ncmVzcyA9IG51bGw7XG4gICAgcmVuZGVyRXhwaXJhdGlvblRpbWUgPSBOb1dvcms7XG4gIH0gZWxzZSB7fSAvLyBUaGlzIGluZGljYXRlcyB0aGF0IHRoZSBsYXN0IHJvb3Qgd2Ugd29ya2VkIG9uIGlzIG5vdCB0aGUgc2FtZSBvbmUgdGhhdFxuICAvLyB3ZSdyZSBjb21taXR0aW5nIG5vdy4gVGhpcyBtb3N0IGNvbW1vbmx5IGhhcHBlbnMgd2hlbiBhIHN1c3BlbmRlZCByb290XG4gIC8vIHRpbWVzIG91dC5cbiAgLy8gR2V0IHRoZSBsaXN0IG9mIGVmZmVjdHMuXG5cblxuICB2YXIgZmlyc3RFZmZlY3Q7XG5cbiAgaWYgKGZpbmlzaGVkV29yay5lZmZlY3RUYWcgPiBQZXJmb3JtZWRXb3JrKSB7XG4gICAgLy8gQSBmaWJlcidzIGVmZmVjdCBsaXN0IGNvbnNpc3RzIG9ubHkgb2YgaXRzIGNoaWxkcmVuLCBub3QgaXRzZWxmLiBTbyBpZlxuICAgIC8vIHRoZSByb290IGhhcyBhbiBlZmZlY3QsIHdlIG5lZWQgdG8gYWRkIGl0IHRvIHRoZSBlbmQgb2YgdGhlIGxpc3QuIFRoZVxuICAgIC8vIHJlc3VsdGluZyBsaXN0IGlzIHRoZSBzZXQgdGhhdCB3b3VsZCBiZWxvbmcgdG8gdGhlIHJvb3QncyBwYXJlbnQsIGlmIGl0XG4gICAgLy8gaGFkIG9uZTsgdGhhdCBpcywgYWxsIHRoZSBlZmZlY3RzIGluIHRoZSB0cmVlIGluY2x1ZGluZyB0aGUgcm9vdC5cbiAgICBpZiAoZmluaXNoZWRXb3JrLmxhc3RFZmZlY3QgIT09IG51bGwpIHtcbiAgICAgIGZpbmlzaGVkV29yay5sYXN0RWZmZWN0Lm5leHRFZmZlY3QgPSBmaW5pc2hlZFdvcms7XG4gICAgICBmaXJzdEVmZmVjdCA9IGZpbmlzaGVkV29yay5maXJzdEVmZmVjdDtcbiAgICB9IGVsc2Uge1xuICAgICAgZmlyc3RFZmZlY3QgPSBmaW5pc2hlZFdvcms7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIFRoZXJlIGlzIG5vIGVmZmVjdCBvbiB0aGUgcm9vdC5cbiAgICBmaXJzdEVmZmVjdCA9IGZpbmlzaGVkV29yay5maXJzdEVmZmVjdDtcbiAgfVxuXG4gIGlmIChmaXJzdEVmZmVjdCAhPT0gbnVsbCkge1xuICAgIHZhciBwcmV2RXhlY3V0aW9uQ29udGV4dCA9IGV4ZWN1dGlvbkNvbnRleHQ7XG4gICAgZXhlY3V0aW9uQ29udGV4dCB8PSBDb21taXRDb250ZXh0O1xuICAgIHZhciBwcmV2SW50ZXJhY3Rpb25zID0gcHVzaEludGVyYWN0aW9ucyhyb290KTsgLy8gUmVzZXQgdGhpcyB0byBudWxsIGJlZm9yZSBjYWxsaW5nIGxpZmVjeWNsZXNcblxuICAgIFJlYWN0Q3VycmVudE93bmVyJDIuY3VycmVudCA9IG51bGw7IC8vIFRoZSBjb21taXQgcGhhc2UgaXMgYnJva2VuIGludG8gc2V2ZXJhbCBzdWItcGhhc2VzLiBXZSBkbyBhIHNlcGFyYXRlIHBhc3NcbiAgICAvLyBvZiB0aGUgZWZmZWN0IGxpc3QgZm9yIGVhY2ggcGhhc2U6IGFsbCBtdXRhdGlvbiBlZmZlY3RzIGNvbWUgYmVmb3JlIGFsbFxuICAgIC8vIGxheW91dCBlZmZlY3RzLCBhbmQgc28gb24uXG4gICAgLy8gVGhlIGZpcnN0IHBoYXNlIGEgXCJiZWZvcmUgbXV0YXRpb25cIiBwaGFzZS4gV2UgdXNlIHRoaXMgcGhhc2UgdG8gcmVhZCB0aGVcbiAgICAvLyBzdGF0ZSBvZiB0aGUgaG9zdCB0cmVlIHJpZ2h0IGJlZm9yZSB3ZSBtdXRhdGUgaXQuIFRoaXMgaXMgd2hlcmVcbiAgICAvLyBnZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSBpcyBjYWxsZWQuXG5cbiAgICBzdGFydENvbW1pdFNuYXBzaG90RWZmZWN0c1RpbWVyKCk7XG4gICAgcHJlcGFyZUZvckNvbW1pdChyb290LmNvbnRhaW5lckluZm8pO1xuICAgIG5leHRFZmZlY3QgPSBmaXJzdEVmZmVjdDtcblxuICAgIGRvIHtcbiAgICAgIHtcbiAgICAgICAgaW52b2tlR3VhcmRlZENhbGxiYWNrKG51bGwsIGNvbW1pdEJlZm9yZU11dGF0aW9uRWZmZWN0cywgbnVsbCk7XG5cbiAgICAgICAgaWYgKGhhc0NhdWdodEVycm9yKCkpIHtcbiAgICAgICAgICBpZiAoIShuZXh0RWZmZWN0ICE9PSBudWxsKSkge1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIlNob3VsZCBiZSB3b3JraW5nIG9uIGFuIGVmZmVjdC5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIGVycm9yID0gY2xlYXJDYXVnaHRFcnJvcigpO1xuICAgICAgICAgIGNhcHR1cmVDb21taXRQaGFzZUVycm9yKG5leHRFZmZlY3QsIGVycm9yKTtcbiAgICAgICAgICBuZXh0RWZmZWN0ID0gbmV4dEVmZmVjdC5uZXh0RWZmZWN0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSB3aGlsZSAobmV4dEVmZmVjdCAhPT0gbnVsbCk7XG5cbiAgICBzdG9wQ29tbWl0U25hcHNob3RFZmZlY3RzVGltZXIoKTtcblxuICAgIGlmIChlbmFibGVQcm9maWxlclRpbWVyKSB7XG4gICAgICAvLyBNYXJrIHRoZSBjdXJyZW50IGNvbW1pdCB0aW1lIHRvIGJlIHNoYXJlZCBieSBhbGwgUHJvZmlsZXJzIGluIHRoaXNcbiAgICAgIC8vIGJhdGNoLiBUaGlzIGVuYWJsZXMgdGhlbSB0byBiZSBncm91cGVkIGxhdGVyLlxuICAgICAgcmVjb3JkQ29tbWl0VGltZSgpO1xuICAgIH0gLy8gVGhlIG5leHQgcGhhc2UgaXMgdGhlIG11dGF0aW9uIHBoYXNlLCB3aGVyZSB3ZSBtdXRhdGUgdGhlIGhvc3QgdHJlZS5cblxuXG4gICAgc3RhcnRDb21taXRIb3N0RWZmZWN0c1RpbWVyKCk7XG4gICAgbmV4dEVmZmVjdCA9IGZpcnN0RWZmZWN0O1xuXG4gICAgZG8ge1xuICAgICAge1xuICAgICAgICBpbnZva2VHdWFyZGVkQ2FsbGJhY2sobnVsbCwgY29tbWl0TXV0YXRpb25FZmZlY3RzLCBudWxsLCByb290LCByZW5kZXJQcmlvcml0eUxldmVsKTtcblxuICAgICAgICBpZiAoaGFzQ2F1Z2h0RXJyb3IoKSkge1xuICAgICAgICAgIGlmICghKG5leHRFZmZlY3QgIT09IG51bGwpKSB7XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHRocm93IEVycm9yKFwiU2hvdWxkIGJlIHdvcmtpbmcgb24gYW4gZWZmZWN0LlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgX2Vycm9yID0gY2xlYXJDYXVnaHRFcnJvcigpO1xuXG4gICAgICAgICAgY2FwdHVyZUNvbW1pdFBoYXNlRXJyb3IobmV4dEVmZmVjdCwgX2Vycm9yKTtcbiAgICAgICAgICBuZXh0RWZmZWN0ID0gbmV4dEVmZmVjdC5uZXh0RWZmZWN0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSB3aGlsZSAobmV4dEVmZmVjdCAhPT0gbnVsbCk7XG5cbiAgICBzdG9wQ29tbWl0SG9zdEVmZmVjdHNUaW1lcigpO1xuICAgIHJlc2V0QWZ0ZXJDb21taXQocm9vdC5jb250YWluZXJJbmZvKTsgLy8gVGhlIHdvcmstaW4tcHJvZ3Jlc3MgdHJlZSBpcyBub3cgdGhlIGN1cnJlbnQgdHJlZS4gVGhpcyBtdXN0IGNvbWUgYWZ0ZXJcbiAgICAvLyB0aGUgbXV0YXRpb24gcGhhc2UsIHNvIHRoYXQgdGhlIHByZXZpb3VzIHRyZWUgaXMgc3RpbGwgY3VycmVudCBkdXJpbmdcbiAgICAvLyBjb21wb25lbnRXaWxsVW5tb3VudCwgYnV0IGJlZm9yZSB0aGUgbGF5b3V0IHBoYXNlLCBzbyB0aGF0IHRoZSBmaW5pc2hlZFxuICAgIC8vIHdvcmsgaXMgY3VycmVudCBkdXJpbmcgY29tcG9uZW50RGlkTW91bnQvVXBkYXRlLlxuXG4gICAgcm9vdC5jdXJyZW50ID0gZmluaXNoZWRXb3JrOyAvLyBUaGUgbmV4dCBwaGFzZSBpcyB0aGUgbGF5b3V0IHBoYXNlLCB3aGVyZSB3ZSBjYWxsIGVmZmVjdHMgdGhhdCByZWFkXG4gICAgLy8gdGhlIGhvc3QgdHJlZSBhZnRlciBpdCdzIGJlZW4gbXV0YXRlZC4gVGhlIGlkaW9tYXRpYyB1c2UgY2FzZSBmb3IgdGhpcyBpc1xuICAgIC8vIGxheW91dCwgYnV0IGNsYXNzIGNvbXBvbmVudCBsaWZlY3ljbGVzIGFsc28gZmlyZSBoZXJlIGZvciBsZWdhY3kgcmVhc29ucy5cblxuICAgIHN0YXJ0Q29tbWl0TGlmZUN5Y2xlc1RpbWVyKCk7XG4gICAgbmV4dEVmZmVjdCA9IGZpcnN0RWZmZWN0O1xuXG4gICAgZG8ge1xuICAgICAge1xuICAgICAgICBpbnZva2VHdWFyZGVkQ2FsbGJhY2sobnVsbCwgY29tbWl0TGF5b3V0RWZmZWN0cywgbnVsbCwgcm9vdCwgZXhwaXJhdGlvblRpbWUpO1xuXG4gICAgICAgIGlmIChoYXNDYXVnaHRFcnJvcigpKSB7XG4gICAgICAgICAgaWYgKCEobmV4dEVmZmVjdCAhPT0gbnVsbCkpIHtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJTaG91bGQgYmUgd29ya2luZyBvbiBhbiBlZmZlY3QuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBfZXJyb3IyID0gY2xlYXJDYXVnaHRFcnJvcigpO1xuXG4gICAgICAgICAgY2FwdHVyZUNvbW1pdFBoYXNlRXJyb3IobmV4dEVmZmVjdCwgX2Vycm9yMik7XG4gICAgICAgICAgbmV4dEVmZmVjdCA9IG5leHRFZmZlY3QubmV4dEVmZmVjdDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gd2hpbGUgKG5leHRFZmZlY3QgIT09IG51bGwpO1xuXG4gICAgc3RvcENvbW1pdExpZmVDeWNsZXNUaW1lcigpO1xuICAgIG5leHRFZmZlY3QgPSBudWxsOyAvLyBUZWxsIFNjaGVkdWxlciB0byB5aWVsZCBhdCB0aGUgZW5kIG9mIHRoZSBmcmFtZSwgc28gdGhlIGJyb3dzZXIgaGFzIGFuXG4gICAgLy8gb3Bwb3J0dW5pdHkgdG8gcGFpbnQuXG5cbiAgICByZXF1ZXN0UGFpbnQoKTtcblxuICAgIGlmIChlbmFibGVTY2hlZHVsZXJUcmFjaW5nKSB7XG4gICAgICBwb3BJbnRlcmFjdGlvbnMocHJldkludGVyYWN0aW9ucyk7XG4gICAgfVxuXG4gICAgZXhlY3V0aW9uQ29udGV4dCA9IHByZXZFeGVjdXRpb25Db250ZXh0O1xuICB9IGVsc2Uge1xuICAgIC8vIE5vIGVmZmVjdHMuXG4gICAgcm9vdC5jdXJyZW50ID0gZmluaXNoZWRXb3JrOyAvLyBNZWFzdXJlIHRoZXNlIGFueXdheSBzbyB0aGUgZmxhbWVncmFwaCBleHBsaWNpdGx5IHNob3dzIHRoYXQgdGhlcmUgd2VyZVxuICAgIC8vIG5vIGVmZmVjdHMuXG4gICAgLy8gVE9ETzogTWF5YmUgdGhlcmUncyBhIGJldHRlciB3YXkgdG8gcmVwb3J0IHRoaXMuXG5cbiAgICBzdGFydENvbW1pdFNuYXBzaG90RWZmZWN0c1RpbWVyKCk7XG4gICAgc3RvcENvbW1pdFNuYXBzaG90RWZmZWN0c1RpbWVyKCk7XG5cbiAgICBpZiAoZW5hYmxlUHJvZmlsZXJUaW1lcikge1xuICAgICAgcmVjb3JkQ29tbWl0VGltZSgpO1xuICAgIH1cblxuICAgIHN0YXJ0Q29tbWl0SG9zdEVmZmVjdHNUaW1lcigpO1xuICAgIHN0b3BDb21taXRIb3N0RWZmZWN0c1RpbWVyKCk7XG4gICAgc3RhcnRDb21taXRMaWZlQ3ljbGVzVGltZXIoKTtcbiAgICBzdG9wQ29tbWl0TGlmZUN5Y2xlc1RpbWVyKCk7XG4gIH1cblxuICBzdG9wQ29tbWl0VGltZXIoKTtcbiAgdmFyIHJvb3REaWRIYXZlUGFzc2l2ZUVmZmVjdHMgPSByb290RG9lc0hhdmVQYXNzaXZlRWZmZWN0cztcblxuICBpZiAocm9vdERvZXNIYXZlUGFzc2l2ZUVmZmVjdHMpIHtcbiAgICAvLyBUaGlzIGNvbW1pdCBoYXMgcGFzc2l2ZSBlZmZlY3RzLiBTdGFzaCBhIHJlZmVyZW5jZSB0byB0aGVtLiBCdXQgZG9uJ3RcbiAgICAvLyBzY2hlZHVsZSBhIGNhbGxiYWNrIHVudGlsIGFmdGVyIGZsdXNoaW5nIGxheW91dCB3b3JrLlxuICAgIHJvb3REb2VzSGF2ZVBhc3NpdmVFZmZlY3RzID0gZmFsc2U7XG4gICAgcm9vdFdpdGhQZW5kaW5nUGFzc2l2ZUVmZmVjdHMgPSByb290O1xuICAgIHBlbmRpbmdQYXNzaXZlRWZmZWN0c0V4cGlyYXRpb25UaW1lID0gZXhwaXJhdGlvblRpbWU7XG4gICAgcGVuZGluZ1Bhc3NpdmVFZmZlY3RzUmVuZGVyUHJpb3JpdHkgPSByZW5kZXJQcmlvcml0eUxldmVsO1xuICB9IGVsc2Uge1xuICAgIC8vIFdlIGFyZSBkb25lIHdpdGggdGhlIGVmZmVjdCBjaGFpbiBhdCB0aGlzIHBvaW50IHNvIGxldCdzIGNsZWFyIHRoZVxuICAgIC8vIG5leHRFZmZlY3QgcG9pbnRlcnMgdG8gYXNzaXN0IHdpdGggR0MuIElmIHdlIGhhdmUgcGFzc2l2ZSBlZmZlY3RzLCB3ZSdsbFxuICAgIC8vIGNsZWFyIHRoaXMgaW4gZmx1c2hQYXNzaXZlRWZmZWN0cy5cbiAgICBuZXh0RWZmZWN0ID0gZmlyc3RFZmZlY3Q7XG5cbiAgICB3aGlsZSAobmV4dEVmZmVjdCAhPT0gbnVsbCkge1xuICAgICAgdmFyIG5leHROZXh0RWZmZWN0ID0gbmV4dEVmZmVjdC5uZXh0RWZmZWN0O1xuICAgICAgbmV4dEVmZmVjdC5uZXh0RWZmZWN0ID0gbnVsbDtcbiAgICAgIG5leHRFZmZlY3QgPSBuZXh0TmV4dEVmZmVjdDtcbiAgICB9XG4gIH0gLy8gQ2hlY2sgaWYgdGhlcmUncyByZW1haW5pbmcgd29yayBvbiB0aGlzIHJvb3RcblxuXG4gIHZhciByZW1haW5pbmdFeHBpcmF0aW9uVGltZSA9IHJvb3QuZmlyc3RQZW5kaW5nVGltZTtcblxuICBpZiAocmVtYWluaW5nRXhwaXJhdGlvblRpbWUgIT09IE5vV29yaykge1xuICAgIGlmIChlbmFibGVTY2hlZHVsZXJUcmFjaW5nKSB7XG4gICAgICBpZiAoc3Bhd25lZFdvcmtEdXJpbmdSZW5kZXIgIT09IG51bGwpIHtcbiAgICAgICAgdmFyIGV4cGlyYXRpb25UaW1lcyA9IHNwYXduZWRXb3JrRHVyaW5nUmVuZGVyO1xuICAgICAgICBzcGF3bmVkV29ya0R1cmluZ1JlbmRlciA9IG51bGw7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBleHBpcmF0aW9uVGltZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBzY2hlZHVsZUludGVyYWN0aW9ucyhyb290LCBleHBpcmF0aW9uVGltZXNbaV0sIHJvb3QubWVtb2l6ZWRJbnRlcmFjdGlvbnMpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHNjaGVkdWxlUGVuZGluZ0ludGVyYWN0aW9ucyhyb290LCByZW1haW5pbmdFeHBpcmF0aW9uVGltZSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIElmIHRoZXJlJ3Mgbm8gcmVtYWluaW5nIHdvcmssIHdlIGNhbiBjbGVhciB0aGUgc2V0IG9mIGFscmVhZHkgZmFpbGVkXG4gICAgLy8gZXJyb3IgYm91bmRhcmllcy5cbiAgICBsZWdhY3lFcnJvckJvdW5kYXJpZXNUaGF0QWxyZWFkeUZhaWxlZCA9IG51bGw7XG4gIH1cblxuICBpZiAoZW5hYmxlU2NoZWR1bGVyVHJhY2luZykge1xuICAgIGlmICghcm9vdERpZEhhdmVQYXNzaXZlRWZmZWN0cykge1xuICAgICAgLy8gSWYgdGhlcmUgYXJlIG5vIHBhc3NpdmUgZWZmZWN0cywgdGhlbiB3ZSBjYW4gY29tcGxldGUgdGhlIHBlbmRpbmcgaW50ZXJhY3Rpb25zLlxuICAgICAgLy8gT3RoZXJ3aXNlLCB3ZSdsbCB3YWl0IHVudGlsIGFmdGVyIHRoZSBwYXNzaXZlIGVmZmVjdHMgYXJlIGZsdXNoZWQuXG4gICAgICAvLyBXYWl0IHRvIGRvIHRoaXMgdW50aWwgYWZ0ZXIgcmVtYWluaW5nIHdvcmsgaGFzIGJlZW4gc2NoZWR1bGVkLFxuICAgICAgLy8gc28gdGhhdCB3ZSBkb24ndCBwcmVtYXR1cmVseSBzaWduYWwgY29tcGxldGUgZm9yIGludGVyYWN0aW9ucyB3aGVuIHRoZXJlJ3MgZS5nLiBoaWRkZW4gd29yay5cbiAgICAgIGZpbmlzaFBlbmRpbmdJbnRlcmFjdGlvbnMocm9vdCwgZXhwaXJhdGlvblRpbWUpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChyZW1haW5pbmdFeHBpcmF0aW9uVGltZSA9PT0gU3luYykge1xuICAgIC8vIENvdW50IHRoZSBudW1iZXIgb2YgdGltZXMgdGhlIHJvb3Qgc3luY2hyb25vdXNseSByZS1yZW5kZXJzIHdpdGhvdXRcbiAgICAvLyBmaW5pc2hpbmcuIElmIHRoZXJlIGFyZSB0b28gbWFueSwgaXQgaW5kaWNhdGVzIGFuIGluZmluaXRlIHVwZGF0ZSBsb29wLlxuICAgIGlmIChyb290ID09PSByb290V2l0aE5lc3RlZFVwZGF0ZXMpIHtcbiAgICAgIG5lc3RlZFVwZGF0ZUNvdW50Kys7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5lc3RlZFVwZGF0ZUNvdW50ID0gMDtcbiAgICAgIHJvb3RXaXRoTmVzdGVkVXBkYXRlcyA9IHJvb3Q7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIG5lc3RlZFVwZGF0ZUNvdW50ID0gMDtcbiAgfVxuXG4gIG9uQ29tbWl0Um9vdChmaW5pc2hlZFdvcmsuc3RhdGVOb2RlLCBleHBpcmF0aW9uVGltZSk7IC8vIEFsd2F5cyBjYWxsIHRoaXMgYmVmb3JlIGV4aXRpbmcgYGNvbW1pdFJvb3RgLCB0byBlbnN1cmUgdGhhdCBhbnlcbiAgLy8gYWRkaXRpb25hbCB3b3JrIG9uIHRoaXMgcm9vdCBpcyBzY2hlZHVsZWQuXG5cbiAgZW5zdXJlUm9vdElzU2NoZWR1bGVkKHJvb3QpO1xuXG4gIGlmIChoYXNVbmNhdWdodEVycm9yKSB7XG4gICAgaGFzVW5jYXVnaHRFcnJvciA9IGZhbHNlO1xuICAgIHZhciBfZXJyb3IzID0gZmlyc3RVbmNhdWdodEVycm9yO1xuICAgIGZpcnN0VW5jYXVnaHRFcnJvciA9IG51bGw7XG4gICAgdGhyb3cgX2Vycm9yMztcbiAgfVxuXG4gIGlmICgoZXhlY3V0aW9uQ29udGV4dCAmIExlZ2FjeVVuYmF0Y2hlZENvbnRleHQpICE9PSBOb0NvbnRleHQpIHtcbiAgICAvLyBUaGlzIGlzIGEgbGVnYWN5IGVkZ2UgY2FzZS4gV2UganVzdCBjb21taXR0ZWQgdGhlIGluaXRpYWwgbW91bnQgb2ZcbiAgICAvLyBhIFJlYWN0RE9NLnJlbmRlci1lZCByb290IGluc2lkZSBvZiBiYXRjaGVkVXBkYXRlcy4gVGhlIGNvbW1pdCBmaXJlZFxuICAgIC8vIHN5bmNocm9ub3VzbHksIGJ1dCBsYXlvdXQgdXBkYXRlcyBzaG91bGQgYmUgZGVmZXJyZWQgdW50aWwgdGhlIGVuZFxuICAgIC8vIG9mIHRoZSBiYXRjaC5cbiAgICByZXR1cm4gbnVsbDtcbiAgfSAvLyBJZiBsYXlvdXQgd29yayB3YXMgc2NoZWR1bGVkLCBmbHVzaCBpdCBub3cuXG5cblxuICBmbHVzaFN5bmNDYWxsYmFja1F1ZXVlKCk7XG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBjb21taXRCZWZvcmVNdXRhdGlvbkVmZmVjdHMoKSB7XG4gIHdoaWxlIChuZXh0RWZmZWN0ICE9PSBudWxsKSB7XG4gICAgdmFyIGVmZmVjdFRhZyA9IG5leHRFZmZlY3QuZWZmZWN0VGFnO1xuXG4gICAgaWYgKChlZmZlY3RUYWcgJiBTbmFwc2hvdCkgIT09IE5vRWZmZWN0KSB7XG4gICAgICBzZXRDdXJyZW50RmliZXIobmV4dEVmZmVjdCk7XG4gICAgICByZWNvcmRFZmZlY3QoKTtcbiAgICAgIHZhciBjdXJyZW50JCQxID0gbmV4dEVmZmVjdC5hbHRlcm5hdGU7XG4gICAgICBjb21taXRCZWZvcmVNdXRhdGlvbkxpZmVDeWNsZXMoY3VycmVudCQkMSwgbmV4dEVmZmVjdCk7XG4gICAgICByZXNldEN1cnJlbnRGaWJlcigpO1xuICAgIH1cblxuICAgIGlmICgoZWZmZWN0VGFnICYgUGFzc2l2ZSkgIT09IE5vRWZmZWN0KSB7XG4gICAgICAvLyBJZiB0aGVyZSBhcmUgcGFzc2l2ZSBlZmZlY3RzLCBzY2hlZHVsZSBhIGNhbGxiYWNrIHRvIGZsdXNoIGF0XG4gICAgICAvLyB0aGUgZWFybGllc3Qgb3Bwb3J0dW5pdHkuXG4gICAgICBpZiAoIXJvb3REb2VzSGF2ZVBhc3NpdmVFZmZlY3RzKSB7XG4gICAgICAgIHJvb3REb2VzSGF2ZVBhc3NpdmVFZmZlY3RzID0gdHJ1ZTtcbiAgICAgICAgc2NoZWR1bGVDYWxsYmFjayhOb3JtYWxQcmlvcml0eSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGZsdXNoUGFzc2l2ZUVmZmVjdHMoKTtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbmV4dEVmZmVjdCA9IG5leHRFZmZlY3QubmV4dEVmZmVjdDtcbiAgfVxufVxuXG5mdW5jdGlvbiBjb21taXRNdXRhdGlvbkVmZmVjdHMocm9vdCwgcmVuZGVyUHJpb3JpdHlMZXZlbCkge1xuICAvLyBUT0RPOiBTaG91bGQgcHJvYmFibHkgbW92ZSB0aGUgYnVsayBvZiB0aGlzIGZ1bmN0aW9uIHRvIGNvbW1pdFdvcmsuXG4gIHdoaWxlIChuZXh0RWZmZWN0ICE9PSBudWxsKSB7XG4gICAgc2V0Q3VycmVudEZpYmVyKG5leHRFZmZlY3QpO1xuICAgIHZhciBlZmZlY3RUYWcgPSBuZXh0RWZmZWN0LmVmZmVjdFRhZztcblxuICAgIGlmIChlZmZlY3RUYWcgJiBDb250ZW50UmVzZXQpIHtcbiAgICAgIGNvbW1pdFJlc2V0VGV4dENvbnRlbnQobmV4dEVmZmVjdCk7XG4gICAgfVxuXG4gICAgaWYgKGVmZmVjdFRhZyAmIFJlZikge1xuICAgICAgdmFyIGN1cnJlbnQkJDEgPSBuZXh0RWZmZWN0LmFsdGVybmF0ZTtcblxuICAgICAgaWYgKGN1cnJlbnQkJDEgIT09IG51bGwpIHtcbiAgICAgICAgY29tbWl0RGV0YWNoUmVmKGN1cnJlbnQkJDEpO1xuICAgICAgfVxuICAgIH0gLy8gVGhlIGZvbGxvd2luZyBzd2l0Y2ggc3RhdGVtZW50IGlzIG9ubHkgY29uY2VybmVkIGFib3V0IHBsYWNlbWVudCxcbiAgICAvLyB1cGRhdGVzLCBhbmQgZGVsZXRpb25zLiBUbyBhdm9pZCBuZWVkaW5nIHRvIGFkZCBhIGNhc2UgZm9yIGV2ZXJ5IHBvc3NpYmxlXG4gICAgLy8gYml0bWFwIHZhbHVlLCB3ZSByZW1vdmUgdGhlIHNlY29uZGFyeSBlZmZlY3RzIGZyb20gdGhlIGVmZmVjdCB0YWcgYW5kXG4gICAgLy8gc3dpdGNoIG9uIHRoYXQgdmFsdWUuXG5cblxuICAgIHZhciBwcmltYXJ5RWZmZWN0VGFnID0gZWZmZWN0VGFnICYgKFBsYWNlbWVudCB8IFVwZGF0ZSB8IERlbGV0aW9uIHwgSHlkcmF0aW5nKTtcblxuICAgIHN3aXRjaCAocHJpbWFyeUVmZmVjdFRhZykge1xuICAgICAgY2FzZSBQbGFjZW1lbnQ6XG4gICAgICAgIHtcbiAgICAgICAgICBjb21taXRQbGFjZW1lbnQobmV4dEVmZmVjdCk7IC8vIENsZWFyIHRoZSBcInBsYWNlbWVudFwiIGZyb20gZWZmZWN0IHRhZyBzbyB0aGF0IHdlIGtub3cgdGhhdCB0aGlzIGlzXG4gICAgICAgICAgLy8gaW5zZXJ0ZWQsIGJlZm9yZSBhbnkgbGlmZS1jeWNsZXMgbGlrZSBjb21wb25lbnREaWRNb3VudCBnZXRzIGNhbGxlZC5cbiAgICAgICAgICAvLyBUT0RPOiBmaW5kRE9NTm9kZSBkb2Vzbid0IHJlbHkgb24gdGhpcyBhbnkgbW9yZSBidXQgaXNNb3VudGVkIGRvZXNcbiAgICAgICAgICAvLyBhbmQgaXNNb3VudGVkIGlzIGRlcHJlY2F0ZWQgYW55d2F5IHNvIHdlIHNob3VsZCBiZSBhYmxlIHRvIGtpbGwgdGhpcy5cblxuICAgICAgICAgIG5leHRFZmZlY3QuZWZmZWN0VGFnICY9IH5QbGFjZW1lbnQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgY2FzZSBQbGFjZW1lbnRBbmRVcGRhdGU6XG4gICAgICAgIHtcbiAgICAgICAgICAvLyBQbGFjZW1lbnRcbiAgICAgICAgICBjb21taXRQbGFjZW1lbnQobmV4dEVmZmVjdCk7IC8vIENsZWFyIHRoZSBcInBsYWNlbWVudFwiIGZyb20gZWZmZWN0IHRhZyBzbyB0aGF0IHdlIGtub3cgdGhhdCB0aGlzIGlzXG4gICAgICAgICAgLy8gaW5zZXJ0ZWQsIGJlZm9yZSBhbnkgbGlmZS1jeWNsZXMgbGlrZSBjb21wb25lbnREaWRNb3VudCBnZXRzIGNhbGxlZC5cblxuICAgICAgICAgIG5leHRFZmZlY3QuZWZmZWN0VGFnICY9IH5QbGFjZW1lbnQ7IC8vIFVwZGF0ZVxuXG4gICAgICAgICAgdmFyIF9jdXJyZW50ID0gbmV4dEVmZmVjdC5hbHRlcm5hdGU7XG4gICAgICAgICAgY29tbWl0V29yayhfY3VycmVudCwgbmV4dEVmZmVjdCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgY2FzZSBIeWRyYXRpbmc6XG4gICAgICAgIHtcbiAgICAgICAgICBuZXh0RWZmZWN0LmVmZmVjdFRhZyAmPSB+SHlkcmF0aW5nO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgIGNhc2UgSHlkcmF0aW5nQW5kVXBkYXRlOlxuICAgICAgICB7XG4gICAgICAgICAgbmV4dEVmZmVjdC5lZmZlY3RUYWcgJj0gfkh5ZHJhdGluZzsgLy8gVXBkYXRlXG5cbiAgICAgICAgICB2YXIgX2N1cnJlbnQyID0gbmV4dEVmZmVjdC5hbHRlcm5hdGU7XG4gICAgICAgICAgY29tbWl0V29yayhfY3VycmVudDIsIG5leHRFZmZlY3QpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgIGNhc2UgVXBkYXRlOlxuICAgICAgICB7XG4gICAgICAgICAgdmFyIF9jdXJyZW50MyA9IG5leHRFZmZlY3QuYWx0ZXJuYXRlO1xuICAgICAgICAgIGNvbW1pdFdvcmsoX2N1cnJlbnQzLCBuZXh0RWZmZWN0KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICBjYXNlIERlbGV0aW9uOlxuICAgICAgICB7XG4gICAgICAgICAgY29tbWl0RGVsZXRpb24ocm9vdCwgbmV4dEVmZmVjdCwgcmVuZGVyUHJpb3JpdHlMZXZlbCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9IC8vIFRPRE86IE9ubHkgcmVjb3JkIGEgbXV0YXRpb24gZWZmZWN0IGlmIHByaW1hcnlFZmZlY3RUYWcgaXMgbm9uLXplcm8uXG5cblxuICAgIHJlY29yZEVmZmVjdCgpO1xuICAgIHJlc2V0Q3VycmVudEZpYmVyKCk7XG4gICAgbmV4dEVmZmVjdCA9IG5leHRFZmZlY3QubmV4dEVmZmVjdDtcbiAgfVxufVxuXG5mdW5jdGlvbiBjb21taXRMYXlvdXRFZmZlY3RzKHJvb3QsIGNvbW1pdHRlZEV4cGlyYXRpb25UaW1lKSB7XG4gIC8vIFRPRE86IFNob3VsZCBwcm9iYWJseSBtb3ZlIHRoZSBidWxrIG9mIHRoaXMgZnVuY3Rpb24gdG8gY29tbWl0V29yay5cbiAgd2hpbGUgKG5leHRFZmZlY3QgIT09IG51bGwpIHtcbiAgICBzZXRDdXJyZW50RmliZXIobmV4dEVmZmVjdCk7XG4gICAgdmFyIGVmZmVjdFRhZyA9IG5leHRFZmZlY3QuZWZmZWN0VGFnO1xuXG4gICAgaWYgKGVmZmVjdFRhZyAmIChVcGRhdGUgfCBDYWxsYmFjaykpIHtcbiAgICAgIHJlY29yZEVmZmVjdCgpO1xuICAgICAgdmFyIGN1cnJlbnQkJDEgPSBuZXh0RWZmZWN0LmFsdGVybmF0ZTtcbiAgICAgIGNvbW1pdExpZmVDeWNsZXMocm9vdCwgY3VycmVudCQkMSwgbmV4dEVmZmVjdCwgY29tbWl0dGVkRXhwaXJhdGlvblRpbWUpO1xuICAgIH1cblxuICAgIGlmIChlZmZlY3RUYWcgJiBSZWYpIHtcbiAgICAgIHJlY29yZEVmZmVjdCgpO1xuICAgICAgY29tbWl0QXR0YWNoUmVmKG5leHRFZmZlY3QpO1xuICAgIH1cblxuICAgIHJlc2V0Q3VycmVudEZpYmVyKCk7XG4gICAgbmV4dEVmZmVjdCA9IG5leHRFZmZlY3QubmV4dEVmZmVjdDtcbiAgfVxufVxuXG5mdW5jdGlvbiBmbHVzaFBhc3NpdmVFZmZlY3RzKCkge1xuICBpZiAocGVuZGluZ1Bhc3NpdmVFZmZlY3RzUmVuZGVyUHJpb3JpdHkgIT09IE5vUHJpb3JpdHkpIHtcbiAgICB2YXIgcHJpb3JpdHlMZXZlbCA9IHBlbmRpbmdQYXNzaXZlRWZmZWN0c1JlbmRlclByaW9yaXR5ID4gTm9ybWFsUHJpb3JpdHkgPyBOb3JtYWxQcmlvcml0eSA6IHBlbmRpbmdQYXNzaXZlRWZmZWN0c1JlbmRlclByaW9yaXR5O1xuICAgIHBlbmRpbmdQYXNzaXZlRWZmZWN0c1JlbmRlclByaW9yaXR5ID0gTm9Qcmlvcml0eTtcbiAgICByZXR1cm4gcnVuV2l0aFByaW9yaXR5JDIocHJpb3JpdHlMZXZlbCwgZmx1c2hQYXNzaXZlRWZmZWN0c0ltcGwpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGZsdXNoUGFzc2l2ZUVmZmVjdHNJbXBsKCkge1xuICBpZiAocm9vdFdpdGhQZW5kaW5nUGFzc2l2ZUVmZmVjdHMgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB2YXIgcm9vdCA9IHJvb3RXaXRoUGVuZGluZ1Bhc3NpdmVFZmZlY3RzO1xuICB2YXIgZXhwaXJhdGlvblRpbWUgPSBwZW5kaW5nUGFzc2l2ZUVmZmVjdHNFeHBpcmF0aW9uVGltZTtcbiAgcm9vdFdpdGhQZW5kaW5nUGFzc2l2ZUVmZmVjdHMgPSBudWxsO1xuICBwZW5kaW5nUGFzc2l2ZUVmZmVjdHNFeHBpcmF0aW9uVGltZSA9IE5vV29yaztcblxuICBpZiAoISgoZXhlY3V0aW9uQ29udGV4dCAmIChSZW5kZXJDb250ZXh0IHwgQ29tbWl0Q29udGV4dCkpID09PSBOb0NvbnRleHQpKSB7XG4gICAge1xuICAgICAgdGhyb3cgRXJyb3IoXCJDYW5ub3QgZmx1c2ggcGFzc2l2ZSBlZmZlY3RzIHdoaWxlIGFscmVhZHkgcmVuZGVyaW5nLlwiKTtcbiAgICB9XG4gIH1cblxuICB2YXIgcHJldkV4ZWN1dGlvbkNvbnRleHQgPSBleGVjdXRpb25Db250ZXh0O1xuICBleGVjdXRpb25Db250ZXh0IHw9IENvbW1pdENvbnRleHQ7XG4gIHZhciBwcmV2SW50ZXJhY3Rpb25zID0gcHVzaEludGVyYWN0aW9ucyhyb290KTsgLy8gTm90ZTogVGhpcyBjdXJyZW50bHkgYXNzdW1lcyB0aGVyZSBhcmUgbm8gcGFzc2l2ZSBlZmZlY3RzIG9uIHRoZSByb290XG4gIC8vIGZpYmVyLCBiZWNhdXNlIHRoZSByb290IGlzIG5vdCBwYXJ0IG9mIGl0cyBvd24gZWZmZWN0IGxpc3QuIFRoaXMgY291bGRcbiAgLy8gY2hhbmdlIGluIHRoZSBmdXR1cmUuXG5cbiAgdmFyIGVmZmVjdCA9IHJvb3QuY3VycmVudC5maXJzdEVmZmVjdDtcblxuICB3aGlsZSAoZWZmZWN0ICE9PSBudWxsKSB7XG4gICAge1xuICAgICAgc2V0Q3VycmVudEZpYmVyKGVmZmVjdCk7XG4gICAgICBpbnZva2VHdWFyZGVkQ2FsbGJhY2sobnVsbCwgY29tbWl0UGFzc2l2ZUhvb2tFZmZlY3RzLCBudWxsLCBlZmZlY3QpO1xuXG4gICAgICBpZiAoaGFzQ2F1Z2h0RXJyb3IoKSkge1xuICAgICAgICBpZiAoIShlZmZlY3QgIT09IG51bGwpKSB7XG4gICAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJTaG91bGQgYmUgd29ya2luZyBvbiBhbiBlZmZlY3QuXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBlcnJvciA9IGNsZWFyQ2F1Z2h0RXJyb3IoKTtcbiAgICAgICAgY2FwdHVyZUNvbW1pdFBoYXNlRXJyb3IoZWZmZWN0LCBlcnJvcik7XG4gICAgICB9XG5cbiAgICAgIHJlc2V0Q3VycmVudEZpYmVyKCk7XG4gICAgfVxuXG4gICAgdmFyIG5leHROZXh0RWZmZWN0ID0gZWZmZWN0Lm5leHRFZmZlY3Q7IC8vIFJlbW92ZSBuZXh0RWZmZWN0IHBvaW50ZXIgdG8gYXNzaXN0IEdDXG5cbiAgICBlZmZlY3QubmV4dEVmZmVjdCA9IG51bGw7XG4gICAgZWZmZWN0ID0gbmV4dE5leHRFZmZlY3Q7XG4gIH1cblxuICBpZiAoZW5hYmxlU2NoZWR1bGVyVHJhY2luZykge1xuICAgIHBvcEludGVyYWN0aW9ucyhwcmV2SW50ZXJhY3Rpb25zKTtcbiAgICBmaW5pc2hQZW5kaW5nSW50ZXJhY3Rpb25zKHJvb3QsIGV4cGlyYXRpb25UaW1lKTtcbiAgfVxuXG4gIGV4ZWN1dGlvbkNvbnRleHQgPSBwcmV2RXhlY3V0aW9uQ29udGV4dDtcbiAgZmx1c2hTeW5jQ2FsbGJhY2tRdWV1ZSgpOyAvLyBJZiBhZGRpdGlvbmFsIHBhc3NpdmUgZWZmZWN0cyB3ZXJlIHNjaGVkdWxlZCwgaW5jcmVtZW50IGEgY291bnRlci4gSWYgdGhpc1xuICAvLyBleGNlZWRzIHRoZSBsaW1pdCwgd2UnbGwgZmlyZSBhIHdhcm5pbmcuXG5cbiAgbmVzdGVkUGFzc2l2ZVVwZGF0ZUNvdW50ID0gcm9vdFdpdGhQZW5kaW5nUGFzc2l2ZUVmZmVjdHMgPT09IG51bGwgPyAwIDogbmVzdGVkUGFzc2l2ZVVwZGF0ZUNvdW50ICsgMTtcbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGlzQWxyZWFkeUZhaWxlZExlZ2FjeUVycm9yQm91bmRhcnkoaW5zdGFuY2UpIHtcbiAgcmV0dXJuIGxlZ2FjeUVycm9yQm91bmRhcmllc1RoYXRBbHJlYWR5RmFpbGVkICE9PSBudWxsICYmIGxlZ2FjeUVycm9yQm91bmRhcmllc1RoYXRBbHJlYWR5RmFpbGVkLmhhcyhpbnN0YW5jZSk7XG59XG5mdW5jdGlvbiBtYXJrTGVnYWN5RXJyb3JCb3VuZGFyeUFzRmFpbGVkKGluc3RhbmNlKSB7XG4gIGlmIChsZWdhY3lFcnJvckJvdW5kYXJpZXNUaGF0QWxyZWFkeUZhaWxlZCA9PT0gbnVsbCkge1xuICAgIGxlZ2FjeUVycm9yQm91bmRhcmllc1RoYXRBbHJlYWR5RmFpbGVkID0gbmV3IFNldChbaW5zdGFuY2VdKTtcbiAgfSBlbHNlIHtcbiAgICBsZWdhY3lFcnJvckJvdW5kYXJpZXNUaGF0QWxyZWFkeUZhaWxlZC5hZGQoaW5zdGFuY2UpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHByZXBhcmVUb1Rocm93VW5jYXVnaHRFcnJvcihlcnJvcikge1xuICBpZiAoIWhhc1VuY2F1Z2h0RXJyb3IpIHtcbiAgICBoYXNVbmNhdWdodEVycm9yID0gdHJ1ZTtcbiAgICBmaXJzdFVuY2F1Z2h0RXJyb3IgPSBlcnJvcjtcbiAgfVxufVxuXG52YXIgb25VbmNhdWdodEVycm9yID0gcHJlcGFyZVRvVGhyb3dVbmNhdWdodEVycm9yO1xuXG5mdW5jdGlvbiBjYXB0dXJlQ29tbWl0UGhhc2VFcnJvck9uUm9vdChyb290RmliZXIsIHNvdXJjZUZpYmVyLCBlcnJvcikge1xuICB2YXIgZXJyb3JJbmZvID0gY3JlYXRlQ2FwdHVyZWRWYWx1ZShlcnJvciwgc291cmNlRmliZXIpO1xuICB2YXIgdXBkYXRlID0gY3JlYXRlUm9vdEVycm9yVXBkYXRlKHJvb3RGaWJlciwgZXJyb3JJbmZvLCBTeW5jKTtcbiAgZW5xdWV1ZVVwZGF0ZShyb290RmliZXIsIHVwZGF0ZSk7XG4gIHZhciByb290ID0gbWFya1VwZGF0ZVRpbWVGcm9tRmliZXJUb1Jvb3Qocm9vdEZpYmVyLCBTeW5jKTtcblxuICBpZiAocm9vdCAhPT0gbnVsbCkge1xuICAgIGVuc3VyZVJvb3RJc1NjaGVkdWxlZChyb290KTtcbiAgICBzY2hlZHVsZVBlbmRpbmdJbnRlcmFjdGlvbnMocm9vdCwgU3luYyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY2FwdHVyZUNvbW1pdFBoYXNlRXJyb3Ioc291cmNlRmliZXIsIGVycm9yKSB7XG4gIGlmIChzb3VyY2VGaWJlci50YWcgPT09IEhvc3RSb290KSB7XG4gICAgLy8gRXJyb3Igd2FzIHRocm93biBhdCB0aGUgcm9vdC4gVGhlcmUgaXMgbm8gcGFyZW50LCBzbyB0aGUgcm9vdFxuICAgIC8vIGl0c2VsZiBzaG91bGQgY2FwdHVyZSBpdC5cbiAgICBjYXB0dXJlQ29tbWl0UGhhc2VFcnJvck9uUm9vdChzb3VyY2VGaWJlciwgc291cmNlRmliZXIsIGVycm9yKTtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgZmliZXIgPSBzb3VyY2VGaWJlci5yZXR1cm47XG5cbiAgd2hpbGUgKGZpYmVyICE9PSBudWxsKSB7XG4gICAgaWYgKGZpYmVyLnRhZyA9PT0gSG9zdFJvb3QpIHtcbiAgICAgIGNhcHR1cmVDb21taXRQaGFzZUVycm9yT25Sb290KGZpYmVyLCBzb3VyY2VGaWJlciwgZXJyb3IpO1xuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSBpZiAoZmliZXIudGFnID09PSBDbGFzc0NvbXBvbmVudCkge1xuICAgICAgdmFyIGN0b3IgPSBmaWJlci50eXBlO1xuICAgICAgdmFyIGluc3RhbmNlID0gZmliZXIuc3RhdGVOb2RlO1xuXG4gICAgICBpZiAodHlwZW9mIGN0b3IuZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yID09PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnREaWRDYXRjaCA9PT0gJ2Z1bmN0aW9uJyAmJiAhaXNBbHJlYWR5RmFpbGVkTGVnYWN5RXJyb3JCb3VuZGFyeShpbnN0YW5jZSkpIHtcbiAgICAgICAgdmFyIGVycm9ySW5mbyA9IGNyZWF0ZUNhcHR1cmVkVmFsdWUoZXJyb3IsIHNvdXJjZUZpYmVyKTtcbiAgICAgICAgdmFyIHVwZGF0ZSA9IGNyZWF0ZUNsYXNzRXJyb3JVcGRhdGUoZmliZXIsIGVycm9ySW5mbywgLy8gVE9ETzogVGhpcyBpcyBhbHdheXMgc3luY1xuICAgICAgICBTeW5jKTtcbiAgICAgICAgZW5xdWV1ZVVwZGF0ZShmaWJlciwgdXBkYXRlKTtcbiAgICAgICAgdmFyIHJvb3QgPSBtYXJrVXBkYXRlVGltZUZyb21GaWJlclRvUm9vdChmaWJlciwgU3luYyk7XG5cbiAgICAgICAgaWYgKHJvb3QgIT09IG51bGwpIHtcbiAgICAgICAgICBlbnN1cmVSb290SXNTY2hlZHVsZWQocm9vdCk7XG4gICAgICAgICAgc2NoZWR1bGVQZW5kaW5nSW50ZXJhY3Rpb25zKHJvb3QsIFN5bmMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZpYmVyID0gZmliZXIucmV0dXJuO1xuICB9XG59XG5mdW5jdGlvbiBwaW5nU3VzcGVuZGVkUm9vdChyb290LCB0aGVuYWJsZSwgc3VzcGVuZGVkVGltZSkge1xuICB2YXIgcGluZ0NhY2hlID0gcm9vdC5waW5nQ2FjaGU7XG5cbiAgaWYgKHBpbmdDYWNoZSAhPT0gbnVsbCkge1xuICAgIC8vIFRoZSB0aGVuYWJsZSByZXNvbHZlZCwgc28gd2Ugbm8gbG9uZ2VyIG5lZWQgdG8gbWVtb2l6ZSwgYmVjYXVzZSBpdCB3aWxsXG4gICAgLy8gbmV2ZXIgYmUgdGhyb3duIGFnYWluLlxuICAgIHBpbmdDYWNoZS5kZWxldGUodGhlbmFibGUpO1xuICB9XG5cbiAgaWYgKHdvcmtJblByb2dyZXNzUm9vdCA9PT0gcm9vdCAmJiByZW5kZXJFeHBpcmF0aW9uVGltZSA9PT0gc3VzcGVuZGVkVGltZSkge1xuICAgIC8vIFJlY2VpdmVkIGEgcGluZyBhdCB0aGUgc2FtZSBwcmlvcml0eSBsZXZlbCBhdCB3aGljaCB3ZSdyZSBjdXJyZW50bHlcbiAgICAvLyByZW5kZXJpbmcuIFdlIG1pZ2h0IHdhbnQgdG8gcmVzdGFydCB0aGlzIHJlbmRlci4gVGhpcyBzaG91bGQgbWlycm9yXG4gICAgLy8gdGhlIGxvZ2ljIG9mIHdoZXRoZXIgb3Igbm90IGEgcm9vdCBzdXNwZW5kcyBvbmNlIGl0IGNvbXBsZXRlcy5cbiAgICAvLyBUT0RPOiBJZiB3ZSdyZSByZW5kZXJpbmcgc3luYyBlaXRoZXIgZHVlIHRvIFN5bmMsIEJhdGNoZWQgb3IgZXhwaXJlZCxcbiAgICAvLyB3ZSBzaG91bGQgcHJvYmFibHkgbmV2ZXIgcmVzdGFydC5cbiAgICAvLyBJZiB3ZSdyZSBzdXNwZW5kZWQgd2l0aCBkZWxheSwgd2UnbGwgYWx3YXlzIHN1c3BlbmQgc28gd2UgY2FuIGFsd2F5c1xuICAgIC8vIHJlc3RhcnQuIElmIHdlJ3JlIHN1c3BlbmRlZCB3aXRob3V0IGFueSB1cGRhdGVzLCBpdCBtaWdodCBiZSBhIHJldHJ5LlxuICAgIC8vIElmIGl0J3MgZWFybHkgaW4gdGhlIHJldHJ5IHdlIGNhbiByZXN0YXJ0LiBXZSBjYW4ndCBrbm93IGZvciBzdXJlXG4gICAgLy8gd2hldGhlciB3ZSdsbCBldmVudHVhbGx5IHByb2Nlc3MgYW4gdXBkYXRlIGR1cmluZyB0aGlzIHJlbmRlciBwYXNzLFxuICAgIC8vIGJ1dCBpdCdzIHNvbWV3aGF0IHVubGlrZWx5IHRoYXQgd2UgZ2V0IHRvIGEgcGluZyBiZWZvcmUgdGhhdCwgc2luY2VcbiAgICAvLyBnZXR0aW5nIHRvIHRoZSByb290IG1vc3QgdXBkYXRlIGlzIHVzdWFsbHkgdmVyeSBmYXN0LlxuICAgIGlmICh3b3JrSW5Qcm9ncmVzc1Jvb3RFeGl0U3RhdHVzID09PSBSb290U3VzcGVuZGVkV2l0aERlbGF5IHx8IHdvcmtJblByb2dyZXNzUm9vdEV4aXRTdGF0dXMgPT09IFJvb3RTdXNwZW5kZWQgJiYgd29ya0luUHJvZ3Jlc3NSb290TGF0ZXN0UHJvY2Vzc2VkRXhwaXJhdGlvblRpbWUgPT09IFN5bmMgJiYgbm93KCkgLSBnbG9iYWxNb3N0UmVjZW50RmFsbGJhY2tUaW1lIDwgRkFMTEJBQ0tfVEhST1RUTEVfTVMpIHtcbiAgICAgIC8vIFJlc3RhcnQgZnJvbSB0aGUgcm9vdC4gRG9uJ3QgbmVlZCB0byBzY2hlZHVsZSBhIHBpbmcgYmVjYXVzZVxuICAgICAgLy8gd2UncmUgYWxyZWFkeSB3b3JraW5nIG9uIHRoaXMgdHJlZS5cbiAgICAgIHByZXBhcmVGcmVzaFN0YWNrKHJvb3QsIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRXZlbiB0aG91Z2ggd2UgY2FuJ3QgcmVzdGFydCByaWdodCBub3csIHdlIG1pZ2h0IGdldCBhblxuICAgICAgLy8gb3Bwb3J0dW5pdHkgbGF0ZXIuIFNvIHdlIG1hcmsgdGhpcyByZW5kZXIgYXMgaGF2aW5nIGEgcGluZy5cbiAgICAgIHdvcmtJblByb2dyZXNzUm9vdEhhc1BlbmRpbmdQaW5nID0gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoIWlzUm9vdFN1c3BlbmRlZEF0VGltZShyb290LCBzdXNwZW5kZWRUaW1lKSkge1xuICAgIC8vIFRoZSByb290IGlzIG5vIGxvbmdlciBzdXNwZW5kZWQgYXQgdGhpcyB0aW1lLlxuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBsYXN0UGluZ2VkVGltZSA9IHJvb3QubGFzdFBpbmdlZFRpbWU7XG5cbiAgaWYgKGxhc3RQaW5nZWRUaW1lICE9PSBOb1dvcmsgJiYgbGFzdFBpbmdlZFRpbWUgPCBzdXNwZW5kZWRUaW1lKSB7XG4gICAgLy8gVGhlcmUncyBhbHJlYWR5IGEgbG93ZXIgcHJpb3JpdHkgcGluZyBzY2hlZHVsZWQuXG4gICAgcmV0dXJuO1xuICB9IC8vIE1hcmsgdGhlIHRpbWUgYXQgd2hpY2ggdGhpcyBwaW5nIHdhcyBzY2hlZHVsZWQuXG5cblxuICByb290Lmxhc3RQaW5nZWRUaW1lID0gc3VzcGVuZGVkVGltZTtcblxuICBpZiAocm9vdC5maW5pc2hlZEV4cGlyYXRpb25UaW1lID09PSBzdXNwZW5kZWRUaW1lKSB7XG4gICAgLy8gSWYgdGhlcmUncyBhIHBlbmRpbmcgZmFsbGJhY2sgd2FpdGluZyB0byBjb21taXQsIHRocm93IGl0IGF3YXkuXG4gICAgcm9vdC5maW5pc2hlZEV4cGlyYXRpb25UaW1lID0gTm9Xb3JrO1xuICAgIHJvb3QuZmluaXNoZWRXb3JrID0gbnVsbDtcbiAgfVxuXG4gIGVuc3VyZVJvb3RJc1NjaGVkdWxlZChyb290KTtcbiAgc2NoZWR1bGVQZW5kaW5nSW50ZXJhY3Rpb25zKHJvb3QsIHN1c3BlbmRlZFRpbWUpO1xufVxuXG5mdW5jdGlvbiByZXRyeVRpbWVkT3V0Qm91bmRhcnkoYm91bmRhcnlGaWJlciwgcmV0cnlUaW1lKSB7XG4gIC8vIFRoZSBib3VuZGFyeSBmaWJlciAoYSBTdXNwZW5zZSBjb21wb25lbnQgb3IgU3VzcGVuc2VMaXN0IGNvbXBvbmVudClcbiAgLy8gcHJldmlvdXNseSB3YXMgcmVuZGVyZWQgaW4gaXRzIGZhbGxiYWNrIHN0YXRlLiBPbmUgb2YgdGhlIHByb21pc2VzIHRoYXRcbiAgLy8gc3VzcGVuZGVkIGl0IGhhcyByZXNvbHZlZCwgd2hpY2ggbWVhbnMgYXQgbGVhc3QgcGFydCBvZiB0aGUgdHJlZSB3YXNcbiAgLy8gbGlrZWx5IHVuYmxvY2tlZC4gVHJ5IHJlbmRlcmluZyBhZ2FpbiwgYXQgYSBuZXcgZXhwaXJhdGlvbiB0aW1lLlxuICBpZiAocmV0cnlUaW1lID09PSBOb1dvcmspIHtcbiAgICB2YXIgc3VzcGVuc2VDb25maWcgPSBudWxsOyAvLyBSZXRyaWVzIGRvbid0IGNhcnJ5IG92ZXIgdGhlIGFscmVhZHkgY29tbWl0dGVkIHVwZGF0ZS5cblxuICAgIHZhciBjdXJyZW50VGltZSA9IHJlcXVlc3RDdXJyZW50VGltZUZvclVwZGF0ZSgpO1xuICAgIHJldHJ5VGltZSA9IGNvbXB1dGVFeHBpcmF0aW9uRm9yRmliZXIoY3VycmVudFRpbWUsIGJvdW5kYXJ5RmliZXIsIHN1c3BlbnNlQ29uZmlnKTtcbiAgfSAvLyBUT0RPOiBTcGVjaWFsIGNhc2UgaWRsZSBwcmlvcml0eT9cblxuXG4gIHZhciByb290ID0gbWFya1VwZGF0ZVRpbWVGcm9tRmliZXJUb1Jvb3QoYm91bmRhcnlGaWJlciwgcmV0cnlUaW1lKTtcblxuICBpZiAocm9vdCAhPT0gbnVsbCkge1xuICAgIGVuc3VyZVJvb3RJc1NjaGVkdWxlZChyb290KTtcbiAgICBzY2hlZHVsZVBlbmRpbmdJbnRlcmFjdGlvbnMocm9vdCwgcmV0cnlUaW1lKTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZXRyeURlaHlkcmF0ZWRTdXNwZW5zZUJvdW5kYXJ5KGJvdW5kYXJ5RmliZXIpIHtcbiAgdmFyIHN1c3BlbnNlU3RhdGUgPSBib3VuZGFyeUZpYmVyLm1lbW9pemVkU3RhdGU7XG4gIHZhciByZXRyeVRpbWUgPSBOb1dvcms7XG5cbiAgaWYgKHN1c3BlbnNlU3RhdGUgIT09IG51bGwpIHtcbiAgICByZXRyeVRpbWUgPSBzdXNwZW5zZVN0YXRlLnJldHJ5VGltZTtcbiAgfVxuXG4gIHJldHJ5VGltZWRPdXRCb3VuZGFyeShib3VuZGFyeUZpYmVyLCByZXRyeVRpbWUpO1xufVxuZnVuY3Rpb24gcmVzb2x2ZVJldHJ5VGhlbmFibGUoYm91bmRhcnlGaWJlciwgdGhlbmFibGUpIHtcbiAgdmFyIHJldHJ5VGltZSA9IE5vV29yazsgLy8gRGVmYXVsdFxuXG4gIHZhciByZXRyeUNhY2hlO1xuXG4gIGlmIChlbmFibGVTdXNwZW5zZVNlcnZlclJlbmRlcmVyKSB7XG4gICAgc3dpdGNoIChib3VuZGFyeUZpYmVyLnRhZykge1xuICAgICAgY2FzZSBTdXNwZW5zZUNvbXBvbmVudDpcbiAgICAgICAgcmV0cnlDYWNoZSA9IGJvdW5kYXJ5RmliZXIuc3RhdGVOb2RlO1xuICAgICAgICB2YXIgc3VzcGVuc2VTdGF0ZSA9IGJvdW5kYXJ5RmliZXIubWVtb2l6ZWRTdGF0ZTtcblxuICAgICAgICBpZiAoc3VzcGVuc2VTdGF0ZSAhPT0gbnVsbCkge1xuICAgICAgICAgIHJldHJ5VGltZSA9IHN1c3BlbnNlU3RhdGUucmV0cnlUaW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgU3VzcGVuc2VMaXN0Q29tcG9uZW50OlxuICAgICAgICByZXRyeUNhY2hlID0gYm91bmRhcnlGaWJlci5zdGF0ZU5vZGU7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICB7XG4gICAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJQaW5nZWQgdW5rbm93biBzdXNwZW5zZSBib3VuZGFyeSB0eXBlLiBUaGlzIGlzIHByb2JhYmx5IGEgYnVnIGluIFJlYWN0LlwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXRyeUNhY2hlID0gYm91bmRhcnlGaWJlci5zdGF0ZU5vZGU7XG4gIH1cblxuICBpZiAocmV0cnlDYWNoZSAhPT0gbnVsbCkge1xuICAgIC8vIFRoZSB0aGVuYWJsZSByZXNvbHZlZCwgc28gd2Ugbm8gbG9uZ2VyIG5lZWQgdG8gbWVtb2l6ZSwgYmVjYXVzZSBpdCB3aWxsXG4gICAgLy8gbmV2ZXIgYmUgdGhyb3duIGFnYWluLlxuICAgIHJldHJ5Q2FjaGUuZGVsZXRlKHRoZW5hYmxlKTtcbiAgfVxuXG4gIHJldHJ5VGltZWRPdXRCb3VuZGFyeShib3VuZGFyeUZpYmVyLCByZXRyeVRpbWUpO1xufSAvLyBDb21wdXRlcyB0aGUgbmV4dCBKdXN0IE5vdGljZWFibGUgRGlmZmVyZW5jZSAoSk5EKSBib3VuZGFyeS5cbi8vIFRoZSB0aGVvcnkgaXMgdGhhdCBhIHBlcnNvbiBjYW4ndCB0ZWxsIHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gc21hbGwgZGlmZmVyZW5jZXMgaW4gdGltZS5cbi8vIFRoZXJlZm9yZSwgaWYgd2Ugd2FpdCBhIGJpdCBsb25nZXIgdGhhbiBuZWNlc3NhcnkgdGhhdCB3b24ndCB0cmFuc2xhdGUgdG8gYSBub3RpY2VhYmxlXG4vLyBkaWZmZXJlbmNlIGluIHRoZSBleHBlcmllbmNlLiBIb3dldmVyLCB3YWl0aW5nIGZvciBsb25nZXIgbWlnaHQgbWVhbiB0aGF0IHdlIGNhbiBhdm9pZFxuLy8gc2hvd2luZyBhbiBpbnRlcm1lZGlhdGUgbG9hZGluZyBzdGF0ZS4gVGhlIGxvbmdlciB3ZSBoYXZlIGFscmVhZHkgd2FpdGVkLCB0aGUgaGFyZGVyIGl0XG4vLyBpcyB0byB0ZWxsIHNtYWxsIGRpZmZlcmVuY2VzIGluIHRpbWUuIFRoZXJlZm9yZSwgdGhlIGxvbmdlciB3ZSd2ZSBhbHJlYWR5IHdhaXRlZCxcbi8vIHRoZSBsb25nZXIgd2UgY2FuIHdhaXQgYWRkaXRpb25hbGx5LiBBdCBzb21lIHBvaW50IHdlIGhhdmUgdG8gZ2l2ZSB1cCB0aG91Z2guXG4vLyBXZSBwaWNrIGEgdHJhaW4gbW9kZWwgd2hlcmUgdGhlIG5leHQgYm91bmRhcnkgY29tbWl0cyBhdCBhIGNvbnNpc3RlbnQgc2NoZWR1bGUuXG4vLyBUaGVzZSBwYXJ0aWN1bGFyIG51bWJlcnMgYXJlIHZhZ3VlIGVzdGltYXRlcy4gV2UgZXhwZWN0IHRvIGFkanVzdCB0aGVtIGJhc2VkIG9uIHJlc2VhcmNoLlxuXG5mdW5jdGlvbiBqbmQodGltZUVsYXBzZWQpIHtcbiAgcmV0dXJuIHRpbWVFbGFwc2VkIDwgMTIwID8gMTIwIDogdGltZUVsYXBzZWQgPCA0ODAgPyA0ODAgOiB0aW1lRWxhcHNlZCA8IDEwODAgPyAxMDgwIDogdGltZUVsYXBzZWQgPCAxOTIwID8gMTkyMCA6IHRpbWVFbGFwc2VkIDwgMzAwMCA/IDMwMDAgOiB0aW1lRWxhcHNlZCA8IDQzMjAgPyA0MzIwIDogY2VpbCh0aW1lRWxhcHNlZCAvIDE5NjApICogMTk2MDtcbn1cblxuZnVuY3Rpb24gY29tcHV0ZU1zVW50aWxTdXNwZW5zZUxvYWRpbmdEZWxheShtb3N0UmVjZW50RXZlbnRUaW1lLCBjb21taXR0ZWRFeHBpcmF0aW9uVGltZSwgc3VzcGVuc2VDb25maWcpIHtcbiAgdmFyIGJ1c3lNaW5EdXJhdGlvbk1zID0gc3VzcGVuc2VDb25maWcuYnVzeU1pbkR1cmF0aW9uTXMgfCAwO1xuXG4gIGlmIChidXN5TWluRHVyYXRpb25NcyA8PSAwKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICB2YXIgYnVzeURlbGF5TXMgPSBzdXNwZW5zZUNvbmZpZy5idXN5RGVsYXlNcyB8IDA7IC8vIENvbXB1dGUgdGhlIHRpbWUgdW50aWwgdGhpcyByZW5kZXIgcGFzcyB3b3VsZCBleHBpcmUuXG5cbiAgdmFyIGN1cnJlbnRUaW1lTXMgPSBub3coKTtcbiAgdmFyIGV2ZW50VGltZU1zID0gaW5mZXJUaW1lRnJvbUV4cGlyYXRpb25UaW1lV2l0aFN1c3BlbnNlQ29uZmlnKG1vc3RSZWNlbnRFdmVudFRpbWUsIHN1c3BlbnNlQ29uZmlnKTtcbiAgdmFyIHRpbWVFbGFwc2VkID0gY3VycmVudFRpbWVNcyAtIGV2ZW50VGltZU1zO1xuXG4gIGlmICh0aW1lRWxhcHNlZCA8PSBidXN5RGVsYXlNcykge1xuICAgIC8vIElmIHdlIGhhdmVuJ3QgeWV0IHdhaXRlZCBsb25nZXIgdGhhbiB0aGUgaW5pdGlhbCBkZWxheSwgd2UgZG9uJ3RcbiAgICAvLyBoYXZlIHRvIHdhaXQgYW55IGFkZGl0aW9uYWwgdGltZS5cbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIHZhciBtc1VudGlsVGltZW91dCA9IGJ1c3lEZWxheU1zICsgYnVzeU1pbkR1cmF0aW9uTXMgLSB0aW1lRWxhcHNlZDsgLy8gVGhpcyBpcyB0aGUgdmFsdWUgdGhhdCBpcyBwYXNzZWQgdG8gYHNldFRpbWVvdXRgLlxuXG4gIHJldHVybiBtc1VudGlsVGltZW91dDtcbn1cblxuZnVuY3Rpb24gY2hlY2tGb3JOZXN0ZWRVcGRhdGVzKCkge1xuICBpZiAobmVzdGVkVXBkYXRlQ291bnQgPiBORVNURURfVVBEQVRFX0xJTUlUKSB7XG4gICAgbmVzdGVkVXBkYXRlQ291bnQgPSAwO1xuICAgIHJvb3RXaXRoTmVzdGVkVXBkYXRlcyA9IG51bGw7XG5cbiAgICB7XG4gICAgICB7XG4gICAgICAgIHRocm93IEVycm9yKFwiTWF4aW11bSB1cGRhdGUgZGVwdGggZXhjZWVkZWQuIFRoaXMgY2FuIGhhcHBlbiB3aGVuIGEgY29tcG9uZW50IHJlcGVhdGVkbHkgY2FsbHMgc2V0U3RhdGUgaW5zaWRlIGNvbXBvbmVudFdpbGxVcGRhdGUgb3IgY29tcG9uZW50RGlkVXBkYXRlLiBSZWFjdCBsaW1pdHMgdGhlIG51bWJlciBvZiBuZXN0ZWQgdXBkYXRlcyB0byBwcmV2ZW50IGluZmluaXRlIGxvb3BzLlwiKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB7XG4gICAgaWYgKG5lc3RlZFBhc3NpdmVVcGRhdGVDb3VudCA+IE5FU1RFRF9QQVNTSVZFX1VQREFURV9MSU1JVCkge1xuICAgICAgbmVzdGVkUGFzc2l2ZVVwZGF0ZUNvdW50ID0gMDtcbiAgICAgIHdhcm5pbmckMShmYWxzZSwgJ01heGltdW0gdXBkYXRlIGRlcHRoIGV4Y2VlZGVkLiBUaGlzIGNhbiBoYXBwZW4gd2hlbiBhIGNvbXBvbmVudCAnICsgXCJjYWxscyBzZXRTdGF0ZSBpbnNpZGUgdXNlRWZmZWN0LCBidXQgdXNlRWZmZWN0IGVpdGhlciBkb2Vzbid0IFwiICsgJ2hhdmUgYSBkZXBlbmRlbmN5IGFycmF5LCBvciBvbmUgb2YgdGhlIGRlcGVuZGVuY2llcyBjaGFuZ2VzIG9uICcgKyAnZXZlcnkgcmVuZGVyLicpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBmbHVzaFJlbmRlclBoYXNlU3RyaWN0TW9kZVdhcm5pbmdzSW5ERVYoKSB7XG4gIHtcbiAgICBSZWFjdFN0cmljdE1vZGVXYXJuaW5ncy5mbHVzaExlZ2FjeUNvbnRleHRXYXJuaW5nKCk7XG5cbiAgICBpZiAod2FybkFib3V0RGVwcmVjYXRlZExpZmVjeWNsZXMpIHtcbiAgICAgIFJlYWN0U3RyaWN0TW9kZVdhcm5pbmdzLmZsdXNoUGVuZGluZ1Vuc2FmZUxpZmVjeWNsZVdhcm5pbmdzKCk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHN0b3BGaW5pc2hlZFdvcmtMb29wVGltZXIoKSB7XG4gIHZhciBkaWRDb21wbGV0ZVJvb3QgPSB0cnVlO1xuICBzdG9wV29ya0xvb3BUaW1lcihpbnRlcnJ1cHRlZEJ5LCBkaWRDb21wbGV0ZVJvb3QpO1xuICBpbnRlcnJ1cHRlZEJ5ID0gbnVsbDtcbn1cblxuZnVuY3Rpb24gc3RvcEludGVycnVwdGVkV29ya0xvb3BUaW1lcigpIHtcbiAgLy8gVE9ETzogVHJhY2sgd2hpY2ggZmliZXIgY2F1c2VkIHRoZSBpbnRlcnJ1cHRpb24uXG4gIHZhciBkaWRDb21wbGV0ZVJvb3QgPSBmYWxzZTtcbiAgc3RvcFdvcmtMb29wVGltZXIoaW50ZXJydXB0ZWRCeSwgZGlkQ29tcGxldGVSb290KTtcbiAgaW50ZXJydXB0ZWRCeSA9IG51bGw7XG59XG5cbmZ1bmN0aW9uIGNoZWNrRm9ySW50ZXJydXB0aW9uKGZpYmVyVGhhdFJlY2VpdmVkVXBkYXRlLCB1cGRhdGVFeHBpcmF0aW9uVGltZSkge1xuICBpZiAoZW5hYmxlVXNlclRpbWluZ0FQSSAmJiB3b3JrSW5Qcm9ncmVzc1Jvb3QgIT09IG51bGwgJiYgdXBkYXRlRXhwaXJhdGlvblRpbWUgPiByZW5kZXJFeHBpcmF0aW9uVGltZSkge1xuICAgIGludGVycnVwdGVkQnkgPSBmaWJlclRoYXRSZWNlaXZlZFVwZGF0ZTtcbiAgfVxufVxuXG52YXIgZGlkV2FyblN0YXRlVXBkYXRlRm9yVW5tb3VudGVkQ29tcG9uZW50ID0gbnVsbDtcblxuZnVuY3Rpb24gd2FybkFib3V0VXBkYXRlT25Vbm1vdW50ZWRGaWJlckluREVWKGZpYmVyKSB7XG4gIHtcbiAgICB2YXIgdGFnID0gZmliZXIudGFnO1xuXG4gICAgaWYgKHRhZyAhPT0gSG9zdFJvb3QgJiYgdGFnICE9PSBDbGFzc0NvbXBvbmVudCAmJiB0YWcgIT09IEZ1bmN0aW9uQ29tcG9uZW50ICYmIHRhZyAhPT0gRm9yd2FyZFJlZiAmJiB0YWcgIT09IE1lbW9Db21wb25lbnQgJiYgdGFnICE9PSBTaW1wbGVNZW1vQ29tcG9uZW50KSB7XG4gICAgICAvLyBPbmx5IHdhcm4gZm9yIHVzZXItZGVmaW5lZCBjb21wb25lbnRzLCBub3QgaW50ZXJuYWwgb25lcyBsaWtlIFN1c3BlbnNlLlxuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gV2Ugc2hvdyB0aGUgd2hvbGUgc3RhY2sgYnV0IGRlZHVwZSBvbiB0aGUgdG9wIGNvbXBvbmVudCdzIG5hbWUgYmVjYXVzZVxuICAgIC8vIHRoZSBwcm9ibGVtYXRpYyBjb2RlIGFsbW9zdCBhbHdheXMgbGllcyBpbnNpZGUgdGhhdCBjb21wb25lbnQuXG5cblxuICAgIHZhciBjb21wb25lbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZShmaWJlci50eXBlKSB8fCAnUmVhY3RDb21wb25lbnQnO1xuXG4gICAgaWYgKGRpZFdhcm5TdGF0ZVVwZGF0ZUZvclVubW91bnRlZENvbXBvbmVudCAhPT0gbnVsbCkge1xuICAgICAgaWYgKGRpZFdhcm5TdGF0ZVVwZGF0ZUZvclVubW91bnRlZENvbXBvbmVudC5oYXMoY29tcG9uZW50TmFtZSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBkaWRXYXJuU3RhdGVVcGRhdGVGb3JVbm1vdW50ZWRDb21wb25lbnQuYWRkKGNvbXBvbmVudE5hbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkaWRXYXJuU3RhdGVVcGRhdGVGb3JVbm1vdW50ZWRDb21wb25lbnQgPSBuZXcgU2V0KFtjb21wb25lbnROYW1lXSk7XG4gICAgfVxuXG4gICAgd2FybmluZ1dpdGhvdXRTdGFjayQxKGZhbHNlLCBcIkNhbid0IHBlcmZvcm0gYSBSZWFjdCBzdGF0ZSB1cGRhdGUgb24gYW4gdW5tb3VudGVkIGNvbXBvbmVudC4gVGhpcyBcIiArICdpcyBhIG5vLW9wLCBidXQgaXQgaW5kaWNhdGVzIGEgbWVtb3J5IGxlYWsgaW4geW91ciBhcHBsaWNhdGlvbi4gVG8gJyArICdmaXgsIGNhbmNlbCBhbGwgc3Vic2NyaXB0aW9ucyBhbmQgYXN5bmNocm9ub3VzIHRhc2tzIGluICVzLiVzJywgdGFnID09PSBDbGFzc0NvbXBvbmVudCA/ICd0aGUgY29tcG9uZW50V2lsbFVubW91bnQgbWV0aG9kJyA6ICdhIHVzZUVmZmVjdCBjbGVhbnVwIGZ1bmN0aW9uJywgZ2V0U3RhY2tCeUZpYmVySW5EZXZBbmRQcm9kKGZpYmVyKSk7XG4gIH1cbn1cblxudmFyIGJlZ2luV29yayQkMTtcblxuaWYgKHRydWUgJiYgcmVwbGF5RmFpbGVkVW5pdE9mV29ya1dpdGhJbnZva2VHdWFyZGVkQ2FsbGJhY2spIHtcbiAgdmFyIGR1bW15RmliZXIgPSBudWxsO1xuXG4gIGJlZ2luV29yayQkMSA9IGZ1bmN0aW9uIChjdXJyZW50JCQxLCB1bml0T2ZXb3JrLCBleHBpcmF0aW9uVGltZSkge1xuICAgIC8vIElmIGEgY29tcG9uZW50IHRocm93cyBhbiBlcnJvciwgd2UgcmVwbGF5IGl0IGFnYWluIGluIGEgc3luY2hyb25vdXNseVxuICAgIC8vIGRpc3BhdGNoZWQgZXZlbnQsIHNvIHRoYXQgdGhlIGRlYnVnZ2VyIHdpbGwgdHJlYXQgaXQgYXMgYW4gdW5jYXVnaHRcbiAgICAvLyBlcnJvciBTZWUgUmVhY3RFcnJvclV0aWxzIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICAgIC8vIEJlZm9yZSBlbnRlcmluZyB0aGUgYmVnaW4gcGhhc2UsIGNvcHkgdGhlIHdvcmstaW4tcHJvZ3Jlc3Mgb250byBhIGR1bW15XG4gICAgLy8gZmliZXIuIElmIGJlZ2luV29yayB0aHJvd3MsIHdlJ2xsIHVzZSB0aGlzIHRvIHJlc2V0IHRoZSBzdGF0ZS5cbiAgICB2YXIgb3JpZ2luYWxXb3JrSW5Qcm9ncmVzc0NvcHkgPSBhc3NpZ25GaWJlclByb3BlcnRpZXNJbkRFVihkdW1teUZpYmVyLCB1bml0T2ZXb3JrKTtcblxuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYmVnaW5Xb3JrJDEoY3VycmVudCQkMSwgdW5pdE9mV29yaywgZXhwaXJhdGlvblRpbWUpO1xuICAgIH0gY2F0Y2ggKG9yaWdpbmFsRXJyb3IpIHtcbiAgICAgIGlmIChvcmlnaW5hbEVycm9yICE9PSBudWxsICYmIHR5cGVvZiBvcmlnaW5hbEVycm9yID09PSAnb2JqZWN0JyAmJiB0eXBlb2Ygb3JpZ2luYWxFcnJvci50aGVuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIC8vIERvbid0IHJlcGxheSBwcm9taXNlcy4gVHJlYXQgZXZlcnl0aGluZyBlbHNlIGxpa2UgYW4gZXJyb3IuXG4gICAgICAgIHRocm93IG9yaWdpbmFsRXJyb3I7XG4gICAgICB9IC8vIEtlZXAgdGhpcyBjb2RlIGluIHN5bmMgd2l0aCBoYW5kbGVFcnJvcjsgYW55IGNoYW5nZXMgaGVyZSBtdXN0IGhhdmVcbiAgICAgIC8vIGNvcnJlc3BvbmRpbmcgY2hhbmdlcyB0aGVyZS5cblxuXG4gICAgICByZXNldENvbnRleHREZXBlbmRlbmNpZXMoKTtcbiAgICAgIHJlc2V0SG9va3MoKTsgLy8gRG9uJ3QgcmVzZXQgY3VycmVudCBkZWJ1ZyBmaWJlciwgc2luY2Ugd2UncmUgYWJvdXQgdG8gd29yayBvbiB0aGVcbiAgICAgIC8vIHNhbWUgZmliZXIgYWdhaW4uXG4gICAgICAvLyBVbndpbmQgdGhlIGZhaWxlZCBzdGFjayBmcmFtZVxuXG4gICAgICB1bndpbmRJbnRlcnJ1cHRlZFdvcmsodW5pdE9mV29yayk7IC8vIFJlc3RvcmUgdGhlIG9yaWdpbmFsIHByb3BlcnRpZXMgb2YgdGhlIGZpYmVyLlxuXG4gICAgICBhc3NpZ25GaWJlclByb3BlcnRpZXNJbkRFVih1bml0T2ZXb3JrLCBvcmlnaW5hbFdvcmtJblByb2dyZXNzQ29weSk7XG5cbiAgICAgIGlmIChlbmFibGVQcm9maWxlclRpbWVyICYmIHVuaXRPZldvcmsubW9kZSAmIFByb2ZpbGVNb2RlKSB7XG4gICAgICAgIC8vIFJlc2V0IHRoZSBwcm9maWxlciB0aW1lci5cbiAgICAgICAgc3RhcnRQcm9maWxlclRpbWVyKHVuaXRPZldvcmspO1xuICAgICAgfSAvLyBSdW4gYmVnaW5Xb3JrIGFnYWluLlxuXG5cbiAgICAgIGludm9rZUd1YXJkZWRDYWxsYmFjayhudWxsLCBiZWdpbldvcmskMSwgbnVsbCwgY3VycmVudCQkMSwgdW5pdE9mV29yaywgZXhwaXJhdGlvblRpbWUpO1xuXG4gICAgICBpZiAoaGFzQ2F1Z2h0RXJyb3IoKSkge1xuICAgICAgICB2YXIgcmVwbGF5RXJyb3IgPSBjbGVhckNhdWdodEVycm9yKCk7IC8vIGBpbnZva2VHdWFyZGVkQ2FsbGJhY2tgIHNvbWV0aW1lcyBzZXRzIGFuIGV4cGFuZG8gYF9zdXBwcmVzc0xvZ2dpbmdgLlxuICAgICAgICAvLyBSZXRocm93IHRoaXMgZXJyb3IgaW5zdGVhZCBvZiB0aGUgb3JpZ2luYWwgb25lLlxuXG4gICAgICAgIHRocm93IHJlcGxheUVycm9yO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gVGhpcyBicmFuY2ggaXMgcmVhY2hhYmxlIGlmIHRoZSByZW5kZXIgcGhhc2UgaXMgaW1wdXJlLlxuICAgICAgICB0aHJvdyBvcmlnaW5hbEVycm9yO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn0gZWxzZSB7XG4gIGJlZ2luV29yayQkMSA9IGJlZ2luV29yayQxO1xufVxuXG52YXIgZGlkV2FybkFib3V0VXBkYXRlSW5SZW5kZXIgPSBmYWxzZTtcbnZhciBkaWRXYXJuQWJvdXRVcGRhdGVJbkdldENoaWxkQ29udGV4dCA9IGZhbHNlO1xuXG5mdW5jdGlvbiB3YXJuQWJvdXRJbnZhbGlkVXBkYXRlc09uQ2xhc3NDb21wb25lbnRzSW5ERVYoZmliZXIpIHtcbiAge1xuICAgIGlmIChmaWJlci50YWcgPT09IENsYXNzQ29tcG9uZW50KSB7XG4gICAgICBzd2l0Y2ggKHBoYXNlKSB7XG4gICAgICAgIGNhc2UgJ2dldENoaWxkQ29udGV4dCc6XG4gICAgICAgICAgaWYgKGRpZFdhcm5BYm91dFVwZGF0ZUluR2V0Q2hpbGRDb250ZXh0KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgd2FybmluZ1dpdGhvdXRTdGFjayQxKGZhbHNlLCAnc2V0U3RhdGUoLi4uKTogQ2Fubm90IGNhbGwgc2V0U3RhdGUoKSBpbnNpZGUgZ2V0Q2hpbGRDb250ZXh0KCknKTtcbiAgICAgICAgICBkaWRXYXJuQWJvdXRVcGRhdGVJbkdldENoaWxkQ29udGV4dCA9IHRydWU7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAncmVuZGVyJzpcbiAgICAgICAgICBpZiAoZGlkV2FybkFib3V0VXBkYXRlSW5SZW5kZXIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB3YXJuaW5nV2l0aG91dFN0YWNrJDEoZmFsc2UsICdDYW5ub3QgdXBkYXRlIGR1cmluZyBhbiBleGlzdGluZyBzdGF0ZSB0cmFuc2l0aW9uIChzdWNoIGFzICcgKyAnd2l0aGluIGByZW5kZXJgKS4gUmVuZGVyIG1ldGhvZHMgc2hvdWxkIGJlIGEgcHVyZSBmdW5jdGlvbiBvZiAnICsgJ3Byb3BzIGFuZCBzdGF0ZS4nKTtcbiAgICAgICAgICBkaWRXYXJuQWJvdXRVcGRhdGVJblJlbmRlciA9IHRydWU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG59IC8vIGEgJ3NoYXJlZCcgdmFyaWFibGUgdGhhdCBjaGFuZ2VzIHdoZW4gYWN0KCkgb3BlbnMvY2xvc2VzIGluIHRlc3RzLlxuXG5cbnZhciBJc1RoaXNSZW5kZXJlckFjdGluZyA9IHtcbiAgY3VycmVudDogZmFsc2Vcbn07XG5mdW5jdGlvbiB3YXJuSWZOb3RTY29wZWRXaXRoTWF0Y2hpbmdBY3QoZmliZXIpIHtcbiAge1xuICAgIGlmICh3YXJuc0lmTm90QWN0aW5nID09PSB0cnVlICYmIElzU29tZVJlbmRlcmVyQWN0aW5nLmN1cnJlbnQgPT09IHRydWUgJiYgSXNUaGlzUmVuZGVyZXJBY3RpbmcuY3VycmVudCAhPT0gdHJ1ZSkge1xuICAgICAgd2FybmluZ1dpdGhvdXRTdGFjayQxKGZhbHNlLCBcIkl0IGxvb2tzIGxpa2UgeW91J3JlIHVzaW5nIHRoZSB3cm9uZyBhY3QoKSBhcm91bmQgeW91ciB0ZXN0IGludGVyYWN0aW9ucy5cXG5cIiArICdCZSBzdXJlIHRvIHVzZSB0aGUgbWF0Y2hpbmcgdmVyc2lvbiBvZiBhY3QoKSBjb3JyZXNwb25kaW5nIHRvIHlvdXIgcmVuZGVyZXI6XFxuXFxuJyArICcvLyBmb3IgcmVhY3QtZG9tOlxcbicgKyBcImltcG9ydCB7YWN0fSBmcm9tICdyZWFjdC1kb20vdGVzdC11dGlscyc7XFxuXCIgKyAnLy8gLi4uXFxuJyArICdhY3QoKCkgPT4gLi4uKTtcXG5cXG4nICsgJy8vIGZvciByZWFjdC10ZXN0LXJlbmRlcmVyOlxcbicgKyBcImltcG9ydCBUZXN0UmVuZGVyZXIgZnJvbSAncmVhY3QtdGVzdC1yZW5kZXJlcic7XFxuXCIgKyAnY29uc3Qge2FjdH0gPSBUZXN0UmVuZGVyZXI7XFxuJyArICcvLyAuLi5cXG4nICsgJ2FjdCgoKSA9PiAuLi4pOycgKyAnJXMnLCBnZXRTdGFja0J5RmliZXJJbkRldkFuZFByb2QoZmliZXIpKTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIHdhcm5JZk5vdEN1cnJlbnRseUFjdGluZ0VmZmVjdHNJbkRFVihmaWJlcikge1xuICB7XG4gICAgaWYgKHdhcm5zSWZOb3RBY3RpbmcgPT09IHRydWUgJiYgKGZpYmVyLm1vZGUgJiBTdHJpY3RNb2RlKSAhPT0gTm9Nb2RlICYmIElzU29tZVJlbmRlcmVyQWN0aW5nLmN1cnJlbnQgPT09IGZhbHNlICYmIElzVGhpc1JlbmRlcmVyQWN0aW5nLmN1cnJlbnQgPT09IGZhbHNlKSB7XG4gICAgICB3YXJuaW5nV2l0aG91dFN0YWNrJDEoZmFsc2UsICdBbiB1cGRhdGUgdG8gJXMgcmFuIGFuIGVmZmVjdCwgYnV0IHdhcyBub3Qgd3JhcHBlZCBpbiBhY3QoLi4uKS5cXG5cXG4nICsgJ1doZW4gdGVzdGluZywgY29kZSB0aGF0IGNhdXNlcyBSZWFjdCBzdGF0ZSB1cGRhdGVzIHNob3VsZCBiZSAnICsgJ3dyYXBwZWQgaW50byBhY3QoLi4uKTpcXG5cXG4nICsgJ2FjdCgoKSA9PiB7XFxuJyArICcgIC8qIGZpcmUgZXZlbnRzIHRoYXQgdXBkYXRlIHN0YXRlICovXFxuJyArICd9KTtcXG4nICsgJy8qIGFzc2VydCBvbiB0aGUgb3V0cHV0ICovXFxuXFxuJyArIFwiVGhpcyBlbnN1cmVzIHRoYXQgeW91J3JlIHRlc3RpbmcgdGhlIGJlaGF2aW9yIHRoZSB1c2VyIHdvdWxkIHNlZSBcIiArICdpbiB0aGUgYnJvd3Nlci4nICsgJyBMZWFybiBtb3JlIGF0IGh0dHBzOi8vZmIubWUvcmVhY3Qtd3JhcC10ZXN0cy13aXRoLWFjdCcgKyAnJXMnLCBnZXRDb21wb25lbnROYW1lKGZpYmVyLnR5cGUpLCBnZXRTdGFja0J5RmliZXJJbkRldkFuZFByb2QoZmliZXIpKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gd2FybklmTm90Q3VycmVudGx5QWN0aW5nVXBkYXRlc0luREVWKGZpYmVyKSB7XG4gIHtcbiAgICBpZiAod2FybnNJZk5vdEFjdGluZyA9PT0gdHJ1ZSAmJiBleGVjdXRpb25Db250ZXh0ID09PSBOb0NvbnRleHQgJiYgSXNTb21lUmVuZGVyZXJBY3RpbmcuY3VycmVudCA9PT0gZmFsc2UgJiYgSXNUaGlzUmVuZGVyZXJBY3RpbmcuY3VycmVudCA9PT0gZmFsc2UpIHtcbiAgICAgIHdhcm5pbmdXaXRob3V0U3RhY2skMShmYWxzZSwgJ0FuIHVwZGF0ZSB0byAlcyBpbnNpZGUgYSB0ZXN0IHdhcyBub3Qgd3JhcHBlZCBpbiBhY3QoLi4uKS5cXG5cXG4nICsgJ1doZW4gdGVzdGluZywgY29kZSB0aGF0IGNhdXNlcyBSZWFjdCBzdGF0ZSB1cGRhdGVzIHNob3VsZCBiZSAnICsgJ3dyYXBwZWQgaW50byBhY3QoLi4uKTpcXG5cXG4nICsgJ2FjdCgoKSA9PiB7XFxuJyArICcgIC8qIGZpcmUgZXZlbnRzIHRoYXQgdXBkYXRlIHN0YXRlICovXFxuJyArICd9KTtcXG4nICsgJy8qIGFzc2VydCBvbiB0aGUgb3V0cHV0ICovXFxuXFxuJyArIFwiVGhpcyBlbnN1cmVzIHRoYXQgeW91J3JlIHRlc3RpbmcgdGhlIGJlaGF2aW9yIHRoZSB1c2VyIHdvdWxkIHNlZSBcIiArICdpbiB0aGUgYnJvd3Nlci4nICsgJyBMZWFybiBtb3JlIGF0IGh0dHBzOi8vZmIubWUvcmVhY3Qtd3JhcC10ZXN0cy13aXRoLWFjdCcgKyAnJXMnLCBnZXRDb21wb25lbnROYW1lKGZpYmVyLnR5cGUpLCBnZXRTdGFja0J5RmliZXJJbkRldkFuZFByb2QoZmliZXIpKTtcbiAgICB9XG4gIH1cbn1cblxudmFyIHdhcm5JZk5vdEN1cnJlbnRseUFjdGluZ1VwZGF0ZXNJbkRldiA9IHdhcm5JZk5vdEN1cnJlbnRseUFjdGluZ1VwZGF0ZXNJbkRFVjsgLy8gSW4gdGVzdHMsIHdlIHdhbnQgdG8gZW5mb3JjZSBhIG1vY2tlZCBzY2hlZHVsZXIuXG5cbnZhciBkaWRXYXJuQWJvdXRVbm1vY2tlZFNjaGVkdWxlciA9IGZhbHNlOyAvLyBUT0RPIEJlZm9yZSB3ZSByZWxlYXNlIGNvbmN1cnJlbnQgbW9kZSwgcmV2aXNpdCB0aGlzIGFuZCBkZWNpZGUgd2hldGhlciBhIG1vY2tlZFxuLy8gc2NoZWR1bGVyIGlzIHRoZSBhY3R1YWwgcmVjb21tZW5kYXRpb24uIFRoZSBhbHRlcm5hdGl2ZSBjb3VsZCBiZSBhIHRlc3RpbmcgYnVpbGQsXG4vLyBhIG5ldyBsaWIsIG9yIHdoYXRldmVyOyB3ZSBkdW5ubyBqdXN0IHlldC4gVGhpcyBtZXNzYWdlIGlzIGZvciBlYXJseSBhZG9wdGVyc1xuLy8gdG8gZ2V0IHRoZWlyIHRlc3RzIHJpZ2h0LlxuXG5mdW5jdGlvbiB3YXJuSWZVbm1vY2tlZFNjaGVkdWxlcihmaWJlcikge1xuICB7XG4gICAgaWYgKGRpZFdhcm5BYm91dFVubW9ja2VkU2NoZWR1bGVyID09PSBmYWxzZSAmJiBTY2hlZHVsZXIudW5zdGFibGVfZmx1c2hBbGxXaXRob3V0QXNzZXJ0aW5nID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmIChmaWJlci5tb2RlICYgQmxvY2tpbmdNb2RlIHx8IGZpYmVyLm1vZGUgJiBDb25jdXJyZW50TW9kZSkge1xuICAgICAgICBkaWRXYXJuQWJvdXRVbm1vY2tlZFNjaGVkdWxlciA9IHRydWU7XG4gICAgICAgIHdhcm5pbmdXaXRob3V0U3RhY2skMShmYWxzZSwgJ0luIENvbmN1cnJlbnQgb3IgU3luYyBtb2RlcywgdGhlIFwic2NoZWR1bGVyXCIgbW9kdWxlIG5lZWRzIHRvIGJlIG1vY2tlZCAnICsgJ3RvIGd1YXJhbnRlZSBjb25zaXN0ZW50IGJlaGF2aW91ciBhY3Jvc3MgdGVzdHMgYW5kIGJyb3dzZXJzLiAnICsgJ0ZvciBleGFtcGxlLCB3aXRoIGplc3Q6IFxcbicgKyBcImplc3QubW9jaygnc2NoZWR1bGVyJywgKCkgPT4gcmVxdWlyZSgnc2NoZWR1bGVyL3Vuc3RhYmxlX21vY2snKSk7XFxuXFxuXCIgKyAnRm9yIG1vcmUgaW5mbywgdmlzaXQgaHR0cHM6Ly9mYi5tZS9yZWFjdC1tb2NrLXNjaGVkdWxlcicpO1xuICAgICAgfSBlbHNlIGlmICh3YXJuQWJvdXRVbm1vY2tlZFNjaGVkdWxlciA9PT0gdHJ1ZSkge1xuICAgICAgICBkaWRXYXJuQWJvdXRVbm1vY2tlZFNjaGVkdWxlciA9IHRydWU7XG4gICAgICAgIHdhcm5pbmdXaXRob3V0U3RhY2skMShmYWxzZSwgJ1N0YXJ0aW5nIGZyb20gUmVhY3QgdjE3LCB0aGUgXCJzY2hlZHVsZXJcIiBtb2R1bGUgd2lsbCBuZWVkIHRvIGJlIG1vY2tlZCAnICsgJ3RvIGd1YXJhbnRlZSBjb25zaXN0ZW50IGJlaGF2aW91ciBhY3Jvc3MgdGVzdHMgYW5kIGJyb3dzZXJzLiAnICsgJ0ZvciBleGFtcGxlLCB3aXRoIGplc3Q6IFxcbicgKyBcImplc3QubW9jaygnc2NoZWR1bGVyJywgKCkgPT4gcmVxdWlyZSgnc2NoZWR1bGVyL3Vuc3RhYmxlX21vY2snKSk7XFxuXFxuXCIgKyAnRm9yIG1vcmUgaW5mbywgdmlzaXQgaHR0cHM6Ly9mYi5tZS9yZWFjdC1tb2NrLXNjaGVkdWxlcicpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxudmFyIGNvbXBvbmVudHNUaGF0VHJpZ2dlcmVkSGlnaFByaVN1c3BlbmQgPSBudWxsO1xuZnVuY3Rpb24gY2hlY2tGb3JXcm9uZ1N1c3BlbnNlUHJpb3JpdHlJbkRFVihzb3VyY2VGaWJlcikge1xuICB7XG4gICAgdmFyIGN1cnJlbnRQcmlvcml0eUxldmVsID0gZ2V0Q3VycmVudFByaW9yaXR5TGV2ZWwoKTtcblxuICAgIGlmICgoc291cmNlRmliZXIubW9kZSAmIENvbmN1cnJlbnRNb2RlKSAhPT0gTm9FZmZlY3QgJiYgKGN1cnJlbnRQcmlvcml0eUxldmVsID09PSBVc2VyQmxvY2tpbmdQcmlvcml0eSQyIHx8IGN1cnJlbnRQcmlvcml0eUxldmVsID09PSBJbW1lZGlhdGVQcmlvcml0eSkpIHtcbiAgICAgIHZhciB3b3JrSW5Qcm9ncmVzc05vZGUgPSBzb3VyY2VGaWJlcjtcblxuICAgICAgd2hpbGUgKHdvcmtJblByb2dyZXNzTm9kZSAhPT0gbnVsbCkge1xuICAgICAgICAvLyBBZGQgdGhlIGNvbXBvbmVudCB0aGF0IHRyaWdnZXJlZCB0aGUgc3VzcGVuc2VcbiAgICAgICAgdmFyIGN1cnJlbnQkJDEgPSB3b3JrSW5Qcm9ncmVzc05vZGUuYWx0ZXJuYXRlO1xuXG4gICAgICAgIGlmIChjdXJyZW50JCQxICE9PSBudWxsKSB7XG4gICAgICAgICAgLy8gVE9ETzogd2FybiBjb21wb25lbnQgdGhhdCB0cmlnZ2VycyB0aGUgaGlnaCBwcmlvcml0eVxuICAgICAgICAgIC8vIHN1c3BlbmQgaXMgdGhlIEhvc3RSb290XG4gICAgICAgICAgc3dpdGNoICh3b3JrSW5Qcm9ncmVzc05vZGUudGFnKSB7XG4gICAgICAgICAgICBjYXNlIENsYXNzQ29tcG9uZW50OlxuICAgICAgICAgICAgICAvLyBMb29wIHRocm91Z2ggdGhlIGNvbXBvbmVudCdzIHVwZGF0ZSBxdWV1ZSBhbmQgc2VlIHdoZXRoZXIgdGhlIGNvbXBvbmVudFxuICAgICAgICAgICAgICAvLyBoYXMgdHJpZ2dlcmVkIGFueSBoaWdoIHByaW9yaXR5IHVwZGF0ZXNcbiAgICAgICAgICAgICAgdmFyIHVwZGF0ZVF1ZXVlID0gY3VycmVudCQkMS51cGRhdGVRdWV1ZTtcblxuICAgICAgICAgICAgICBpZiAodXBkYXRlUXVldWUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB2YXIgdXBkYXRlID0gdXBkYXRlUXVldWUuZmlyc3RVcGRhdGU7XG5cbiAgICAgICAgICAgICAgICB3aGlsZSAodXBkYXRlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICB2YXIgcHJpb3JpdHlMZXZlbCA9IHVwZGF0ZS5wcmlvcml0eTtcblxuICAgICAgICAgICAgICAgICAgaWYgKHByaW9yaXR5TGV2ZWwgPT09IFVzZXJCbG9ja2luZ1ByaW9yaXR5JDIgfHwgcHJpb3JpdHlMZXZlbCA9PT0gSW1tZWRpYXRlUHJpb3JpdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXBvbmVudHNUaGF0VHJpZ2dlcmVkSGlnaFByaVN1c3BlbmQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRzVGhhdFRyaWdnZXJlZEhpZ2hQcmlTdXNwZW5kID0gbmV3IFNldChbZ2V0Q29tcG9uZW50TmFtZSh3b3JrSW5Qcm9ncmVzc05vZGUudHlwZSldKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRzVGhhdFRyaWdnZXJlZEhpZ2hQcmlTdXNwZW5kLmFkZChnZXRDb21wb25lbnROYW1lKHdvcmtJblByb2dyZXNzTm9kZS50eXBlKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgdXBkYXRlID0gdXBkYXRlLm5leHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgRnVuY3Rpb25Db21wb25lbnQ6XG4gICAgICAgICAgICBjYXNlIEZvcndhcmRSZWY6XG4gICAgICAgICAgICBjYXNlIFNpbXBsZU1lbW9Db21wb25lbnQ6XG4gICAgICAgICAgICAgIGlmICh3b3JrSW5Qcm9ncmVzc05vZGUubWVtb2l6ZWRTdGF0ZSAhPT0gbnVsbCAmJiB3b3JrSW5Qcm9ncmVzc05vZGUubWVtb2l6ZWRTdGF0ZS5iYXNlVXBkYXRlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdmFyIF91cGRhdGUgPSB3b3JrSW5Qcm9ncmVzc05vZGUubWVtb2l6ZWRTdGF0ZS5iYXNlVXBkYXRlOyAvLyBMb29wIHRocm91Z2ggdGhlIGZ1bmN0aW9uYWwgY29tcG9uZW50J3MgbWVtb2l6ZWQgc3RhdGUgdG8gc2VlIHdoZXRoZXJcbiAgICAgICAgICAgICAgICAvLyB0aGUgY29tcG9uZW50IGhhcyB0cmlnZ2VyZWQgYW55IGhpZ2ggcHJpIHVwZGF0ZXNcblxuICAgICAgICAgICAgICAgIHdoaWxlIChfdXBkYXRlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICB2YXIgcHJpb3JpdHkgPSBfdXBkYXRlLnByaW9yaXR5O1xuXG4gICAgICAgICAgICAgICAgICBpZiAocHJpb3JpdHkgPT09IFVzZXJCbG9ja2luZ1ByaW9yaXR5JDIgfHwgcHJpb3JpdHkgPT09IEltbWVkaWF0ZVByaW9yaXR5KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb21wb25lbnRzVGhhdFRyaWdnZXJlZEhpZ2hQcmlTdXNwZW5kID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50c1RoYXRUcmlnZ2VyZWRIaWdoUHJpU3VzcGVuZCA9IG5ldyBTZXQoW2dldENvbXBvbmVudE5hbWUod29ya0luUHJvZ3Jlc3NOb2RlLnR5cGUpXSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50c1RoYXRUcmlnZ2VyZWRIaWdoUHJpU3VzcGVuZC5hZGQoZ2V0Q29tcG9uZW50TmFtZSh3b3JrSW5Qcm9ncmVzc05vZGUudHlwZSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIGlmIChfdXBkYXRlLm5leHQgPT09IHdvcmtJblByb2dyZXNzTm9kZS5tZW1vaXplZFN0YXRlLmJhc2VVcGRhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIF91cGRhdGUgPSBfdXBkYXRlLm5leHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHdvcmtJblByb2dyZXNzTm9kZSA9IHdvcmtJblByb2dyZXNzTm9kZS5yZXR1cm47XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGZsdXNoU3VzcGVuc2VQcmlvcml0eVdhcm5pbmdJbkRFVigpIHtcbiAge1xuICAgIGlmIChjb21wb25lbnRzVGhhdFRyaWdnZXJlZEhpZ2hQcmlTdXNwZW5kICE9PSBudWxsKSB7XG4gICAgICB2YXIgY29tcG9uZW50TmFtZXMgPSBbXTtcbiAgICAgIGNvbXBvbmVudHNUaGF0VHJpZ2dlcmVkSGlnaFByaVN1c3BlbmQuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICByZXR1cm4gY29tcG9uZW50TmFtZXMucHVzaChuYW1lKTtcbiAgICAgIH0pO1xuICAgICAgY29tcG9uZW50c1RoYXRUcmlnZ2VyZWRIaWdoUHJpU3VzcGVuZCA9IG51bGw7XG5cbiAgICAgIGlmIChjb21wb25lbnROYW1lcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHdhcm5pbmdXaXRob3V0U3RhY2skMShmYWxzZSwgJyVzIHRyaWdnZXJlZCBhIHVzZXItYmxvY2tpbmcgdXBkYXRlIHRoYXQgc3VzcGVuZGVkLicgKyAnXFxuXFxuJyArICdUaGUgZml4IGlzIHRvIHNwbGl0IHRoZSB1cGRhdGUgaW50byBtdWx0aXBsZSBwYXJ0czogYSB1c2VyLWJsb2NraW5nICcgKyAndXBkYXRlIHRvIHByb3ZpZGUgaW1tZWRpYXRlIGZlZWRiYWNrLCBhbmQgYW5vdGhlciB1cGRhdGUgdGhhdCAnICsgJ3RyaWdnZXJzIHRoZSBidWxrIG9mIHRoZSBjaGFuZ2VzLicgKyAnXFxuXFxuJyArICdSZWZlciB0byB0aGUgZG9jdW1lbnRhdGlvbiBmb3IgdXNlVHJhbnNpdGlvbiB0byBsZWFybiBob3cgJyArICd0byBpbXBsZW1lbnQgdGhpcyBwYXR0ZXJuLicsIC8vIFRPRE86IEFkZCBsaW5rIHRvIFJlYWN0IGRvY3Mgd2l0aCBtb3JlIGluZm9ybWF0aW9uLCBvbmNlIGl0IGV4aXN0c1xuICAgICAgICBjb21wb25lbnROYW1lcy5zb3J0KCkuam9pbignLCAnKSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGNvbXB1dGVUaHJlYWRJRChyb290LCBleHBpcmF0aW9uVGltZSkge1xuICAvLyBJbnRlcmFjdGlvbiB0aHJlYWRzIGFyZSB1bmlxdWUgcGVyIHJvb3QgYW5kIGV4cGlyYXRpb24gdGltZS5cbiAgcmV0dXJuIGV4cGlyYXRpb25UaW1lICogMTAwMCArIHJvb3QuaW50ZXJhY3Rpb25UaHJlYWRJRDtcbn1cblxuZnVuY3Rpb24gbWFya1NwYXduZWRXb3JrKGV4cGlyYXRpb25UaW1lKSB7XG4gIGlmICghZW5hYmxlU2NoZWR1bGVyVHJhY2luZykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChzcGF3bmVkV29ya0R1cmluZ1JlbmRlciA9PT0gbnVsbCkge1xuICAgIHNwYXduZWRXb3JrRHVyaW5nUmVuZGVyID0gW2V4cGlyYXRpb25UaW1lXTtcbiAgfSBlbHNlIHtcbiAgICBzcGF3bmVkV29ya0R1cmluZ1JlbmRlci5wdXNoKGV4cGlyYXRpb25UaW1lKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzY2hlZHVsZUludGVyYWN0aW9ucyhyb290LCBleHBpcmF0aW9uVGltZSwgaW50ZXJhY3Rpb25zKSB7XG4gIGlmICghZW5hYmxlU2NoZWR1bGVyVHJhY2luZykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChpbnRlcmFjdGlvbnMuc2l6ZSA+IDApIHtcbiAgICB2YXIgcGVuZGluZ0ludGVyYWN0aW9uTWFwID0gcm9vdC5wZW5kaW5nSW50ZXJhY3Rpb25NYXA7XG4gICAgdmFyIHBlbmRpbmdJbnRlcmFjdGlvbnMgPSBwZW5kaW5nSW50ZXJhY3Rpb25NYXAuZ2V0KGV4cGlyYXRpb25UaW1lKTtcblxuICAgIGlmIChwZW5kaW5nSW50ZXJhY3Rpb25zICE9IG51bGwpIHtcbiAgICAgIGludGVyYWN0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChpbnRlcmFjdGlvbikge1xuICAgICAgICBpZiAoIXBlbmRpbmdJbnRlcmFjdGlvbnMuaGFzKGludGVyYWN0aW9uKSkge1xuICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgcGVuZGluZyBhc3luYyB3b3JrIGNvdW50IGZvciBwcmV2aW91c2x5IHVuc2NoZWR1bGVkIGludGVyYWN0aW9uLlxuICAgICAgICAgIGludGVyYWN0aW9uLl9fY291bnQrKztcbiAgICAgICAgfVxuXG4gICAgICAgIHBlbmRpbmdJbnRlcmFjdGlvbnMuYWRkKGludGVyYWN0aW9uKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBwZW5kaW5nSW50ZXJhY3Rpb25NYXAuc2V0KGV4cGlyYXRpb25UaW1lLCBuZXcgU2V0KGludGVyYWN0aW9ucykpOyAvLyBVcGRhdGUgdGhlIHBlbmRpbmcgYXN5bmMgd29yayBjb3VudCBmb3IgdGhlIGN1cnJlbnQgaW50ZXJhY3Rpb25zLlxuXG4gICAgICBpbnRlcmFjdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAoaW50ZXJhY3Rpb24pIHtcbiAgICAgICAgaW50ZXJhY3Rpb24uX19jb3VudCsrO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdmFyIHN1YnNjcmliZXIgPSB0cmFjaW5nLl9fc3Vic2NyaWJlclJlZi5jdXJyZW50O1xuXG4gICAgaWYgKHN1YnNjcmliZXIgIT09IG51bGwpIHtcbiAgICAgIHZhciB0aHJlYWRJRCA9IGNvbXB1dGVUaHJlYWRJRChyb290LCBleHBpcmF0aW9uVGltZSk7XG4gICAgICBzdWJzY3JpYmVyLm9uV29ya1NjaGVkdWxlZChpbnRlcmFjdGlvbnMsIHRocmVhZElEKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gc2NoZWR1bGVQZW5kaW5nSW50ZXJhY3Rpb25zKHJvb3QsIGV4cGlyYXRpb25UaW1lKSB7XG4gIC8vIFRoaXMgaXMgY2FsbGVkIHdoZW4gd29yayBpcyBzY2hlZHVsZWQgb24gYSByb290LlxuICAvLyBJdCBhc3NvY2lhdGVzIHRoZSBjdXJyZW50IGludGVyYWN0aW9ucyB3aXRoIHRoZSBuZXdseS1zY2hlZHVsZWQgZXhwaXJhdGlvbi5cbiAgLy8gVGhleSB3aWxsIGJlIHJlc3RvcmVkIHdoZW4gdGhhdCBleHBpcmF0aW9uIGlzIGxhdGVyIGNvbW1pdHRlZC5cbiAgaWYgKCFlbmFibGVTY2hlZHVsZXJUcmFjaW5nKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgc2NoZWR1bGVJbnRlcmFjdGlvbnMocm9vdCwgZXhwaXJhdGlvblRpbWUsIHRyYWNpbmcuX19pbnRlcmFjdGlvbnNSZWYuY3VycmVudCk7XG59XG5cbmZ1bmN0aW9uIHN0YXJ0V29ya09uUGVuZGluZ0ludGVyYWN0aW9ucyhyb290LCBleHBpcmF0aW9uVGltZSkge1xuICAvLyBUaGlzIGlzIGNhbGxlZCB3aGVuIG5ldyB3b3JrIGlzIHN0YXJ0ZWQgb24gYSByb290LlxuICBpZiAoIWVuYWJsZVNjaGVkdWxlclRyYWNpbmcpIHtcbiAgICByZXR1cm47XG4gIH0gLy8gRGV0ZXJtaW5lIHdoaWNoIGludGVyYWN0aW9ucyB0aGlzIGJhdGNoIG9mIHdvcmsgY3VycmVudGx5IGluY2x1ZGVzLCBTbyB0aGF0XG4gIC8vIHdlIGNhbiBhY2N1cmF0ZWx5IGF0dHJpYnV0ZSB0aW1lIHNwZW50IHdvcmtpbmcgb24gaXQsIEFuZCBzbyB0aGF0IGNhc2NhZGluZ1xuICAvLyB3b3JrIHRyaWdnZXJlZCBkdXJpbmcgdGhlIHJlbmRlciBwaGFzZSB3aWxsIGJlIGFzc29jaWF0ZWQgd2l0aCBpdC5cblxuXG4gIHZhciBpbnRlcmFjdGlvbnMgPSBuZXcgU2V0KCk7XG4gIHJvb3QucGVuZGluZ0ludGVyYWN0aW9uTWFwLmZvckVhY2goZnVuY3Rpb24gKHNjaGVkdWxlZEludGVyYWN0aW9ucywgc2NoZWR1bGVkRXhwaXJhdGlvblRpbWUpIHtcbiAgICBpZiAoc2NoZWR1bGVkRXhwaXJhdGlvblRpbWUgPj0gZXhwaXJhdGlvblRpbWUpIHtcbiAgICAgIHNjaGVkdWxlZEludGVyYWN0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChpbnRlcmFjdGlvbikge1xuICAgICAgICByZXR1cm4gaW50ZXJhY3Rpb25zLmFkZChpbnRlcmFjdGlvbik7XG4gICAgICB9KTtcbiAgICB9XG4gIH0pOyAvLyBTdG9yZSB0aGUgY3VycmVudCBzZXQgb2YgaW50ZXJhY3Rpb25zIG9uIHRoZSBGaWJlclJvb3QgZm9yIGEgZmV3IHJlYXNvbnM6XG4gIC8vIFdlIGNhbiByZS11c2UgaXQgaW4gaG90IGZ1bmN0aW9ucyBsaWtlIHBlcmZvcm1Db25jdXJyZW50V29ya09uUm9vdCgpXG4gIC8vIHdpdGhvdXQgaGF2aW5nIHRvIHJlY2FsY3VsYXRlIGl0LiBXZSB3aWxsIGFsc28gdXNlIGl0IGluIGNvbW1pdFdvcmsoKSB0b1xuICAvLyBwYXNzIHRvIGFueSBQcm9maWxlciBvblJlbmRlcigpIGhvb2tzLiBUaGlzIGFsc28gcHJvdmlkZXMgRGV2VG9vbHMgd2l0aCBhXG4gIC8vIHdheSB0byBhY2Nlc3MgaXQgd2hlbiB0aGUgb25Db21taXRSb290KCkgaG9vayBpcyBjYWxsZWQuXG5cbiAgcm9vdC5tZW1vaXplZEludGVyYWN0aW9ucyA9IGludGVyYWN0aW9ucztcblxuICBpZiAoaW50ZXJhY3Rpb25zLnNpemUgPiAwKSB7XG4gICAgdmFyIHN1YnNjcmliZXIgPSB0cmFjaW5nLl9fc3Vic2NyaWJlclJlZi5jdXJyZW50O1xuXG4gICAgaWYgKHN1YnNjcmliZXIgIT09IG51bGwpIHtcbiAgICAgIHZhciB0aHJlYWRJRCA9IGNvbXB1dGVUaHJlYWRJRChyb290LCBleHBpcmF0aW9uVGltZSk7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHN1YnNjcmliZXIub25Xb3JrU3RhcnRlZChpbnRlcmFjdGlvbnMsIHRocmVhZElEKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIElmIHRoZSBzdWJzY3JpYmVyIHRocm93cywgcmV0aHJvdyBpdCBpbiBhIHNlcGFyYXRlIHRhc2tcbiAgICAgICAgc2NoZWR1bGVDYWxsYmFjayhJbW1lZGlhdGVQcmlvcml0eSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZmluaXNoUGVuZGluZ0ludGVyYWN0aW9ucyhyb290LCBjb21taXR0ZWRFeHBpcmF0aW9uVGltZSkge1xuICBpZiAoIWVuYWJsZVNjaGVkdWxlclRyYWNpbmcpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgZWFybGllc3RSZW1haW5pbmdUaW1lQWZ0ZXJDb21taXQgPSByb290LmZpcnN0UGVuZGluZ1RpbWU7XG4gIHZhciBzdWJzY3JpYmVyO1xuXG4gIHRyeSB7XG4gICAgc3Vic2NyaWJlciA9IHRyYWNpbmcuX19zdWJzY3JpYmVyUmVmLmN1cnJlbnQ7XG5cbiAgICBpZiAoc3Vic2NyaWJlciAhPT0gbnVsbCAmJiByb290Lm1lbW9pemVkSW50ZXJhY3Rpb25zLnNpemUgPiAwKSB7XG4gICAgICB2YXIgdGhyZWFkSUQgPSBjb21wdXRlVGhyZWFkSUQocm9vdCwgY29tbWl0dGVkRXhwaXJhdGlvblRpbWUpO1xuICAgICAgc3Vic2NyaWJlci5vbldvcmtTdG9wcGVkKHJvb3QubWVtb2l6ZWRJbnRlcmFjdGlvbnMsIHRocmVhZElEKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgLy8gSWYgdGhlIHN1YnNjcmliZXIgdGhyb3dzLCByZXRocm93IGl0IGluIGEgc2VwYXJhdGUgdGFza1xuICAgIHNjaGVkdWxlQ2FsbGJhY2soSW1tZWRpYXRlUHJpb3JpdHksIGZ1bmN0aW9uICgpIHtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH0pO1xuICB9IGZpbmFsbHkge1xuICAgIC8vIENsZWFyIGNvbXBsZXRlZCBpbnRlcmFjdGlvbnMgZnJvbSB0aGUgcGVuZGluZyBNYXAuXG4gICAgLy8gVW5sZXNzIHRoZSByZW5kZXIgd2FzIHN1c3BlbmRlZCBvciBjYXNjYWRpbmcgd29yayB3YXMgc2NoZWR1bGVkLFxuICAgIC8vIEluIHdoaWNoIGNhc2XigJMgbGVhdmUgcGVuZGluZyBpbnRlcmFjdGlvbnMgdW50aWwgdGhlIHN1YnNlcXVlbnQgcmVuZGVyLlxuICAgIHZhciBwZW5kaW5nSW50ZXJhY3Rpb25NYXAgPSByb290LnBlbmRpbmdJbnRlcmFjdGlvbk1hcDtcbiAgICBwZW5kaW5nSW50ZXJhY3Rpb25NYXAuZm9yRWFjaChmdW5jdGlvbiAoc2NoZWR1bGVkSW50ZXJhY3Rpb25zLCBzY2hlZHVsZWRFeHBpcmF0aW9uVGltZSkge1xuICAgICAgLy8gT25seSBkZWNyZW1lbnQgdGhlIHBlbmRpbmcgaW50ZXJhY3Rpb24gY291bnQgaWYgd2UncmUgZG9uZS5cbiAgICAgIC8vIElmIHRoZXJlJ3Mgc3RpbGwgd29yayBhdCB0aGUgY3VycmVudCBwcmlvcml0eSxcbiAgICAgIC8vIFRoYXQgaW5kaWNhdGVzIHRoYXQgd2UgYXJlIHdhaXRpbmcgZm9yIHN1c3BlbnNlIGRhdGEuXG4gICAgICBpZiAoc2NoZWR1bGVkRXhwaXJhdGlvblRpbWUgPiBlYXJsaWVzdFJlbWFpbmluZ1RpbWVBZnRlckNvbW1pdCkge1xuICAgICAgICBwZW5kaW5nSW50ZXJhY3Rpb25NYXAuZGVsZXRlKHNjaGVkdWxlZEV4cGlyYXRpb25UaW1lKTtcbiAgICAgICAgc2NoZWR1bGVkSW50ZXJhY3Rpb25zLmZvckVhY2goZnVuY3Rpb24gKGludGVyYWN0aW9uKSB7XG4gICAgICAgICAgaW50ZXJhY3Rpb24uX19jb3VudC0tO1xuXG4gICAgICAgICAgaWYgKHN1YnNjcmliZXIgIT09IG51bGwgJiYgaW50ZXJhY3Rpb24uX19jb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgc3Vic2NyaWJlci5vbkludGVyYWN0aW9uU2NoZWR1bGVkV29ya0NvbXBsZXRlZChpbnRlcmFjdGlvbik7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAvLyBJZiB0aGUgc3Vic2NyaWJlciB0aHJvd3MsIHJldGhyb3cgaXQgaW4gYSBzZXBhcmF0ZSB0YXNrXG4gICAgICAgICAgICAgIHNjaGVkdWxlQ2FsbGJhY2soSW1tZWRpYXRlUHJpb3JpdHksIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG52YXIgb25Db21taXRGaWJlclJvb3QgPSBudWxsO1xudmFyIG9uQ29tbWl0RmliZXJVbm1vdW50ID0gbnVsbDtcbnZhciBoYXNMb2dnZWRFcnJvciA9IGZhbHNlO1xudmFyIGlzRGV2VG9vbHNQcmVzZW50ID0gdHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyAhPT0gJ3VuZGVmaW5lZCc7XG5mdW5jdGlvbiBpbmplY3RJbnRlcm5hbHMoaW50ZXJuYWxzKSB7XG4gIGlmICh0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fID09PSAndW5kZWZpbmVkJykge1xuICAgIC8vIE5vIERldlRvb2xzXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIGhvb2sgPSBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX187XG5cbiAgaWYgKGhvb2suaXNEaXNhYmxlZCkge1xuICAgIC8vIFRoaXMgaXNuJ3QgYSByZWFsIHByb3BlcnR5IG9uIHRoZSBob29rLCBidXQgaXQgY2FuIGJlIHNldCB0byBvcHQgb3V0XG4gICAgLy8gb2YgRGV2VG9vbHMgaW50ZWdyYXRpb24gYW5kIGFzc29jaWF0ZWQgd2FybmluZ3MgYW5kIGxvZ3MuXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2lzc3Vlcy8zODc3XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBpZiAoIWhvb2suc3VwcG9ydHNGaWJlcikge1xuICAgIHtcbiAgICAgIHdhcm5pbmdXaXRob3V0U3RhY2skMShmYWxzZSwgJ1RoZSBpbnN0YWxsZWQgdmVyc2lvbiBvZiBSZWFjdCBEZXZUb29scyBpcyB0b28gb2xkIGFuZCB3aWxsIG5vdCB3b3JrICcgKyAnd2l0aCB0aGUgY3VycmVudCB2ZXJzaW9uIG9mIFJlYWN0LiBQbGVhc2UgdXBkYXRlIFJlYWN0IERldlRvb2xzLiAnICsgJ2h0dHBzOi8vZmIubWUvcmVhY3QtZGV2dG9vbHMnKTtcbiAgICB9IC8vIERldlRvb2xzIGV4aXN0cywgZXZlbiB0aG91Z2ggaXQgZG9lc24ndCBzdXBwb3J0IEZpYmVyLlxuXG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgdmFyIHJlbmRlcmVySUQgPSBob29rLmluamVjdChpbnRlcm5hbHMpOyAvLyBXZSBoYXZlIHN1Y2Nlc3NmdWxseSBpbmplY3RlZCwgc28gbm93IGl0IGlzIHNhZmUgdG8gc2V0IHVwIGhvb2tzLlxuXG4gICAgb25Db21taXRGaWJlclJvb3QgPSBmdW5jdGlvbiAocm9vdCwgZXhwaXJhdGlvblRpbWUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciBkaWRFcnJvciA9IChyb290LmN1cnJlbnQuZWZmZWN0VGFnICYgRGlkQ2FwdHVyZSkgPT09IERpZENhcHR1cmU7XG5cbiAgICAgICAgaWYgKGVuYWJsZVByb2ZpbGVyVGltZXIpIHtcbiAgICAgICAgICB2YXIgY3VycmVudFRpbWUgPSBnZXRDdXJyZW50VGltZSgpO1xuICAgICAgICAgIHZhciBwcmlvcml0eUxldmVsID0gaW5mZXJQcmlvcml0eUZyb21FeHBpcmF0aW9uVGltZShjdXJyZW50VGltZSwgZXhwaXJhdGlvblRpbWUpO1xuICAgICAgICAgIGhvb2sub25Db21taXRGaWJlclJvb3QocmVuZGVyZXJJRCwgcm9vdCwgcHJpb3JpdHlMZXZlbCwgZGlkRXJyb3IpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGhvb2sub25Db21taXRGaWJlclJvb3QocmVuZGVyZXJJRCwgcm9vdCwgdW5kZWZpbmVkLCBkaWRFcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBpZiAodHJ1ZSAmJiAhaGFzTG9nZ2VkRXJyb3IpIHtcbiAgICAgICAgICBoYXNMb2dnZWRFcnJvciA9IHRydWU7XG4gICAgICAgICAgd2FybmluZ1dpdGhvdXRTdGFjayQxKGZhbHNlLCAnUmVhY3QgRGV2VG9vbHMgZW5jb3VudGVyZWQgYW4gZXJyb3I6ICVzJywgZXJyKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBvbkNvbW1pdEZpYmVyVW5tb3VudCA9IGZ1bmN0aW9uIChmaWJlcikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaG9vay5vbkNvbW1pdEZpYmVyVW5tb3VudChyZW5kZXJlcklELCBmaWJlcik7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgaWYgKHRydWUgJiYgIWhhc0xvZ2dlZEVycm9yKSB7XG4gICAgICAgICAgaGFzTG9nZ2VkRXJyb3IgPSB0cnVlO1xuICAgICAgICAgIHdhcm5pbmdXaXRob3V0U3RhY2skMShmYWxzZSwgJ1JlYWN0IERldlRvb2xzIGVuY291bnRlcmVkIGFuIGVycm9yOiAlcycsIGVycik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICAvLyBDYXRjaCBhbGwgZXJyb3JzIGJlY2F1c2UgaXQgaXMgdW5zYWZlIHRvIHRocm93IGR1cmluZyBpbml0aWFsaXphdGlvbi5cbiAgICB7XG4gICAgICB3YXJuaW5nV2l0aG91dFN0YWNrJDEoZmFsc2UsICdSZWFjdCBEZXZUb29scyBlbmNvdW50ZXJlZCBhbiBlcnJvcjogJXMuJywgZXJyKTtcbiAgICB9XG4gIH0gLy8gRGV2VG9vbHMgZXhpc3RzXG5cblxuICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIG9uQ29tbWl0Um9vdChyb290LCBleHBpcmF0aW9uVGltZSkge1xuICBpZiAodHlwZW9mIG9uQ29tbWl0RmliZXJSb290ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgb25Db21taXRGaWJlclJvb3Qocm9vdCwgZXhwaXJhdGlvblRpbWUpO1xuICB9XG59XG5mdW5jdGlvbiBvbkNvbW1pdFVubW91bnQoZmliZXIpIHtcbiAgaWYgKHR5cGVvZiBvbkNvbW1pdEZpYmVyVW5tb3VudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIG9uQ29tbWl0RmliZXJVbm1vdW50KGZpYmVyKTtcbiAgfVxufVxuXG52YXIgaGFzQmFkTWFwUG9seWZpbGw7XG5cbntcbiAgaGFzQmFkTWFwUG9seWZpbGwgPSBmYWxzZTtcblxuICB0cnkge1xuICAgIHZhciBub25FeHRlbnNpYmxlT2JqZWN0ID0gT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zKHt9KTtcbiAgICB2YXIgdGVzdE1hcCA9IG5ldyBNYXAoW1tub25FeHRlbnNpYmxlT2JqZWN0LCBudWxsXV0pO1xuICAgIHZhciB0ZXN0U2V0ID0gbmV3IFNldChbbm9uRXh0ZW5zaWJsZU9iamVjdF0pOyAvLyBUaGlzIGlzIG5lY2Vzc2FyeSBmb3IgUm9sbHVwIHRvIG5vdCBjb25zaWRlciB0aGVzZSB1bnVzZWQuXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3JvbGx1cC9yb2xsdXAvaXNzdWVzLzE3NzFcbiAgICAvLyBUT0RPOiB3ZSBjYW4gcmVtb3ZlIHRoZXNlIGlmIFJvbGx1cCBmaXhlcyB0aGUgYnVnLlxuXG4gICAgdGVzdE1hcC5zZXQoMCwgMCk7XG4gICAgdGVzdFNldC5hZGQoMCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICAvLyBUT0RPOiBDb25zaWRlciB3YXJuaW5nIGFib3V0IGJhZCBwb2x5ZmlsbHNcbiAgICBoYXNCYWRNYXBQb2x5ZmlsbCA9IHRydWU7XG4gIH1cbn1cblxudmFyIGRlYnVnQ291bnRlciA9IDE7XG5cbmZ1bmN0aW9uIEZpYmVyTm9kZSh0YWcsIHBlbmRpbmdQcm9wcywga2V5LCBtb2RlKSB7XG4gIC8vIEluc3RhbmNlXG4gIHRoaXMudGFnID0gdGFnO1xuICB0aGlzLmtleSA9IGtleTtcbiAgdGhpcy5lbGVtZW50VHlwZSA9IG51bGw7XG4gIHRoaXMudHlwZSA9IG51bGw7XG4gIHRoaXMuc3RhdGVOb2RlID0gbnVsbDsgLy8gRmliZXJcblxuICB0aGlzLnJldHVybiA9IG51bGw7XG4gIHRoaXMuY2hpbGQgPSBudWxsO1xuICB0aGlzLnNpYmxpbmcgPSBudWxsO1xuICB0aGlzLmluZGV4ID0gMDtcbiAgdGhpcy5yZWYgPSBudWxsO1xuICB0aGlzLnBlbmRpbmdQcm9wcyA9IHBlbmRpbmdQcm9wcztcbiAgdGhpcy5tZW1vaXplZFByb3BzID0gbnVsbDtcbiAgdGhpcy51cGRhdGVRdWV1ZSA9IG51bGw7XG4gIHRoaXMubWVtb2l6ZWRTdGF0ZSA9IG51bGw7XG4gIHRoaXMuZGVwZW5kZW5jaWVzID0gbnVsbDtcbiAgdGhpcy5tb2RlID0gbW9kZTsgLy8gRWZmZWN0c1xuXG4gIHRoaXMuZWZmZWN0VGFnID0gTm9FZmZlY3Q7XG4gIHRoaXMubmV4dEVmZmVjdCA9IG51bGw7XG4gIHRoaXMuZmlyc3RFZmZlY3QgPSBudWxsO1xuICB0aGlzLmxhc3RFZmZlY3QgPSBudWxsO1xuICB0aGlzLmV4cGlyYXRpb25UaW1lID0gTm9Xb3JrO1xuICB0aGlzLmNoaWxkRXhwaXJhdGlvblRpbWUgPSBOb1dvcms7XG4gIHRoaXMuYWx0ZXJuYXRlID0gbnVsbDtcblxuICBpZiAoZW5hYmxlUHJvZmlsZXJUaW1lcikge1xuICAgIC8vIE5vdGU6IFRoZSBmb2xsb3dpbmcgaXMgZG9uZSB0byBhdm9pZCBhIHY4IHBlcmZvcm1hbmNlIGNsaWZmLlxuICAgIC8vXG4gICAgLy8gSW5pdGlhbGl6aW5nIHRoZSBmaWVsZHMgYmVsb3cgdG8gc21pcyBhbmQgbGF0ZXIgdXBkYXRpbmcgdGhlbSB3aXRoXG4gICAgLy8gZG91YmxlIHZhbHVlcyB3aWxsIGNhdXNlIEZpYmVycyB0byBlbmQgdXAgaGF2aW5nIHNlcGFyYXRlIHNoYXBlcy5cbiAgICAvLyBUaGlzIGJlaGF2aW9yL2J1ZyBoYXMgc29tZXRoaW5nIHRvIGRvIHdpdGggT2JqZWN0LnByZXZlbnRFeHRlbnNpb24oKS5cbiAgICAvLyBGb3J0dW5hdGVseSB0aGlzIG9ubHkgaW1wYWN0cyBERVYgYnVpbGRzLlxuICAgIC8vIFVuZm9ydHVuYXRlbHkgaXQgbWFrZXMgUmVhY3QgdW51c2FibHkgc2xvdyBmb3Igc29tZSBhcHBsaWNhdGlvbnMuXG4gICAgLy8gVG8gd29yayBhcm91bmQgdGhpcywgaW5pdGlhbGl6ZSB0aGUgZmllbGRzIGJlbG93IHdpdGggZG91Ymxlcy5cbiAgICAvL1xuICAgIC8vIExlYXJuIG1vcmUgYWJvdXQgdGhpcyBoZXJlOlxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvMTQzNjVcbiAgICAvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD04NTM4XG4gICAgdGhpcy5hY3R1YWxEdXJhdGlvbiA9IE51bWJlci5OYU47XG4gICAgdGhpcy5hY3R1YWxTdGFydFRpbWUgPSBOdW1iZXIuTmFOO1xuICAgIHRoaXMuc2VsZkJhc2VEdXJhdGlvbiA9IE51bWJlci5OYU47XG4gICAgdGhpcy50cmVlQmFzZUR1cmF0aW9uID0gTnVtYmVyLk5hTjsgLy8gSXQncyBva2F5IHRvIHJlcGxhY2UgdGhlIGluaXRpYWwgZG91YmxlcyB3aXRoIHNtaXMgYWZ0ZXIgaW5pdGlhbGl6YXRpb24uXG4gICAgLy8gVGhpcyB3b24ndCB0cmlnZ2VyIHRoZSBwZXJmb3JtYW5jZSBjbGlmZiBtZW50aW9uZWQgYWJvdmUsXG4gICAgLy8gYW5kIGl0IHNpbXBsaWZpZXMgb3RoZXIgcHJvZmlsZXIgY29kZSAoaW5jbHVkaW5nIERldlRvb2xzKS5cblxuICAgIHRoaXMuYWN0dWFsRHVyYXRpb24gPSAwO1xuICAgIHRoaXMuYWN0dWFsU3RhcnRUaW1lID0gLTE7XG4gICAgdGhpcy5zZWxmQmFzZUR1cmF0aW9uID0gMDtcbiAgICB0aGlzLnRyZWVCYXNlRHVyYXRpb24gPSAwO1xuICB9IC8vIFRoaXMgaXMgbm9ybWFsbHkgREVWLW9ubHkgZXhjZXB0IHd3dyB3aGVuIGl0IGFkZHMgbGlzdGVuZXJzLlxuICAvLyBUT0RPOiByZW1vdmUgdGhlIFVzZXIgVGltaW5nIGludGVncmF0aW9uIGluIGZhdm9yIG9mIFJvb3QgRXZlbnRzLlxuXG5cbiAgaWYgKGVuYWJsZVVzZXJUaW1pbmdBUEkpIHtcbiAgICB0aGlzLl9kZWJ1Z0lEID0gZGVidWdDb3VudGVyKys7XG4gICAgdGhpcy5fZGVidWdJc0N1cnJlbnRseVRpbWluZyA9IGZhbHNlO1xuICB9XG5cbiAge1xuICAgIHRoaXMuX2RlYnVnU291cmNlID0gbnVsbDtcbiAgICB0aGlzLl9kZWJ1Z093bmVyID0gbnVsbDtcbiAgICB0aGlzLl9kZWJ1Z05lZWRzUmVtb3VudCA9IGZhbHNlO1xuICAgIHRoaXMuX2RlYnVnSG9va1R5cGVzID0gbnVsbDtcblxuICAgIGlmICghaGFzQmFkTWFwUG9seWZpbGwgJiYgdHlwZW9mIE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zKHRoaXMpO1xuICAgIH1cbiAgfVxufSAvLyBUaGlzIGlzIGEgY29uc3RydWN0b3IgZnVuY3Rpb24sIHJhdGhlciB0aGFuIGEgUE9KTyBjb25zdHJ1Y3Rvciwgc3RpbGxcbi8vIHBsZWFzZSBlbnN1cmUgd2UgZG8gdGhlIGZvbGxvd2luZzpcbi8vIDEpIE5vYm9keSBzaG91bGQgYWRkIGFueSBpbnN0YW5jZSBtZXRob2RzIG9uIHRoaXMuIEluc3RhbmNlIG1ldGhvZHMgY2FuIGJlXG4vLyAgICBtb3JlIGRpZmZpY3VsdCB0byBwcmVkaWN0IHdoZW4gdGhleSBnZXQgb3B0aW1pemVkIGFuZCB0aGV5IGFyZSBhbG1vc3Rcbi8vICAgIG5ldmVyIGlubGluZWQgcHJvcGVybHkgaW4gc3RhdGljIGNvbXBpbGVycy5cbi8vIDIpIE5vYm9keSBzaG91bGQgcmVseSBvbiBgaW5zdGFuY2VvZiBGaWJlcmAgZm9yIHR5cGUgdGVzdGluZy4gV2Ugc2hvdWxkXG4vLyAgICBhbHdheXMga25vdyB3aGVuIGl0IGlzIGEgZmliZXIuXG4vLyAzKSBXZSBtaWdodCB3YW50IHRvIGV4cGVyaW1lbnQgd2l0aCB1c2luZyBudW1lcmljIGtleXMgc2luY2UgdGhleSBhcmUgZWFzaWVyXG4vLyAgICB0byBvcHRpbWl6ZSBpbiBhIG5vbi1KSVQgZW52aXJvbm1lbnQuXG4vLyA0KSBXZSBjYW4gZWFzaWx5IGdvIGZyb20gYSBjb25zdHJ1Y3RvciB0byBhIGNyZWF0ZUZpYmVyIG9iamVjdCBsaXRlcmFsIGlmIHRoYXRcbi8vICAgIGlzIGZhc3Rlci5cbi8vIDUpIEl0IHNob3VsZCBiZSBlYXN5IHRvIHBvcnQgdGhpcyB0byBhIEMgc3RydWN0IGFuZCBrZWVwIGEgQyBpbXBsZW1lbnRhdGlvblxuLy8gICAgY29tcGF0aWJsZS5cblxuXG52YXIgY3JlYXRlRmliZXIgPSBmdW5jdGlvbiAodGFnLCBwZW5kaW5nUHJvcHMsIGtleSwgbW9kZSkge1xuICAvLyAkRmxvd0ZpeE1lOiB0aGUgc2hhcGVzIGFyZSBleGFjdCBoZXJlIGJ1dCBGbG93IGRvZXNuJ3QgbGlrZSBjb25zdHJ1Y3RvcnNcbiAgcmV0dXJuIG5ldyBGaWJlck5vZGUodGFnLCBwZW5kaW5nUHJvcHMsIGtleSwgbW9kZSk7XG59O1xuXG5mdW5jdGlvbiBzaG91bGRDb25zdHJ1Y3QoQ29tcG9uZW50KSB7XG4gIHZhciBwcm90b3R5cGUgPSBDb21wb25lbnQucHJvdG90eXBlO1xuICByZXR1cm4gISEocHJvdG90eXBlICYmIHByb3RvdHlwZS5pc1JlYWN0Q29tcG9uZW50KTtcbn1cblxuZnVuY3Rpb24gaXNTaW1wbGVGdW5jdGlvbkNvbXBvbmVudCh0eXBlKSB7XG4gIHJldHVybiB0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJyAmJiAhc2hvdWxkQ29uc3RydWN0KHR5cGUpICYmIHR5cGUuZGVmYXVsdFByb3BzID09PSB1bmRlZmluZWQ7XG59XG5mdW5jdGlvbiByZXNvbHZlTGF6eUNvbXBvbmVudFRhZyhDb21wb25lbnQpIHtcbiAgaWYgKHR5cGVvZiBDb21wb25lbnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gc2hvdWxkQ29uc3RydWN0KENvbXBvbmVudCkgPyBDbGFzc0NvbXBvbmVudCA6IEZ1bmN0aW9uQ29tcG9uZW50O1xuICB9IGVsc2UgaWYgKENvbXBvbmVudCAhPT0gdW5kZWZpbmVkICYmIENvbXBvbmVudCAhPT0gbnVsbCkge1xuICAgIHZhciAkJHR5cGVvZiA9IENvbXBvbmVudC4kJHR5cGVvZjtcblxuICAgIGlmICgkJHR5cGVvZiA9PT0gUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRSkge1xuICAgICAgcmV0dXJuIEZvcndhcmRSZWY7XG4gICAgfVxuXG4gICAgaWYgKCQkdHlwZW9mID09PSBSRUFDVF9NRU1PX1RZUEUpIHtcbiAgICAgIHJldHVybiBNZW1vQ29tcG9uZW50O1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBJbmRldGVybWluYXRlQ29tcG9uZW50O1xufSAvLyBUaGlzIGlzIHVzZWQgdG8gY3JlYXRlIGFuIGFsdGVybmF0ZSBmaWJlciB0byBkbyB3b3JrIG9uLlxuXG5mdW5jdGlvbiBjcmVhdGVXb3JrSW5Qcm9ncmVzcyhjdXJyZW50LCBwZW5kaW5nUHJvcHMsIGV4cGlyYXRpb25UaW1lKSB7XG4gIHZhciB3b3JrSW5Qcm9ncmVzcyA9IGN1cnJlbnQuYWx0ZXJuYXRlO1xuXG4gIGlmICh3b3JrSW5Qcm9ncmVzcyA9PT0gbnVsbCkge1xuICAgIC8vIFdlIHVzZSBhIGRvdWJsZSBidWZmZXJpbmcgcG9vbGluZyB0ZWNobmlxdWUgYmVjYXVzZSB3ZSBrbm93IHRoYXQgd2UnbGxcbiAgICAvLyBvbmx5IGV2ZXIgbmVlZCBhdCBtb3N0IHR3byB2ZXJzaW9ucyBvZiBhIHRyZWUuIFdlIHBvb2wgdGhlIFwib3RoZXJcIiB1bnVzZWRcbiAgICAvLyBub2RlIHRoYXQgd2UncmUgZnJlZSB0byByZXVzZS4gVGhpcyBpcyBsYXppbHkgY3JlYXRlZCB0byBhdm9pZCBhbGxvY2F0aW5nXG4gICAgLy8gZXh0cmEgb2JqZWN0cyBmb3IgdGhpbmdzIHRoYXQgYXJlIG5ldmVyIHVwZGF0ZWQuIEl0IGFsc28gYWxsb3cgdXMgdG9cbiAgICAvLyByZWNsYWltIHRoZSBleHRyYSBtZW1vcnkgaWYgbmVlZGVkLlxuICAgIHdvcmtJblByb2dyZXNzID0gY3JlYXRlRmliZXIoY3VycmVudC50YWcsIHBlbmRpbmdQcm9wcywgY3VycmVudC5rZXksIGN1cnJlbnQubW9kZSk7XG4gICAgd29ya0luUHJvZ3Jlc3MuZWxlbWVudFR5cGUgPSBjdXJyZW50LmVsZW1lbnRUeXBlO1xuICAgIHdvcmtJblByb2dyZXNzLnR5cGUgPSBjdXJyZW50LnR5cGU7XG4gICAgd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlID0gY3VycmVudC5zdGF0ZU5vZGU7XG5cbiAgICB7XG4gICAgICAvLyBERVYtb25seSBmaWVsZHNcbiAgICAgIHdvcmtJblByb2dyZXNzLl9kZWJ1Z0lEID0gY3VycmVudC5fZGVidWdJRDtcbiAgICAgIHdvcmtJblByb2dyZXNzLl9kZWJ1Z1NvdXJjZSA9IGN1cnJlbnQuX2RlYnVnU291cmNlO1xuICAgICAgd29ya0luUHJvZ3Jlc3MuX2RlYnVnT3duZXIgPSBjdXJyZW50Ll9kZWJ1Z093bmVyO1xuICAgICAgd29ya0luUHJvZ3Jlc3MuX2RlYnVnSG9va1R5cGVzID0gY3VycmVudC5fZGVidWdIb29rVHlwZXM7XG4gICAgfVxuXG4gICAgd29ya0luUHJvZ3Jlc3MuYWx0ZXJuYXRlID0gY3VycmVudDtcbiAgICBjdXJyZW50LmFsdGVybmF0ZSA9IHdvcmtJblByb2dyZXNzO1xuICB9IGVsc2Uge1xuICAgIHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcyA9IHBlbmRpbmdQcm9wczsgLy8gV2UgYWxyZWFkeSBoYXZlIGFuIGFsdGVybmF0ZS5cbiAgICAvLyBSZXNldCB0aGUgZWZmZWN0IHRhZy5cblxuICAgIHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyA9IE5vRWZmZWN0OyAvLyBUaGUgZWZmZWN0IGxpc3QgaXMgbm8gbG9uZ2VyIHZhbGlkLlxuXG4gICAgd29ya0luUHJvZ3Jlc3MubmV4dEVmZmVjdCA9IG51bGw7XG4gICAgd29ya0luUHJvZ3Jlc3MuZmlyc3RFZmZlY3QgPSBudWxsO1xuICAgIHdvcmtJblByb2dyZXNzLmxhc3RFZmZlY3QgPSBudWxsO1xuXG4gICAgaWYgKGVuYWJsZVByb2ZpbGVyVGltZXIpIHtcbiAgICAgIC8vIFdlIGludGVudGlvbmFsbHkgcmVzZXQsIHJhdGhlciB0aGFuIGNvcHksIGFjdHVhbER1cmF0aW9uICYgYWN0dWFsU3RhcnRUaW1lLlxuICAgICAgLy8gVGhpcyBwcmV2ZW50cyB0aW1lIGZyb20gZW5kbGVzc2x5IGFjY3VtdWxhdGluZyBpbiBuZXcgY29tbWl0cy5cbiAgICAgIC8vIFRoaXMgaGFzIHRoZSBkb3duc2lkZSBvZiByZXNldHRpbmcgdmFsdWVzIGZvciBkaWZmZXJlbnQgcHJpb3JpdHkgcmVuZGVycyxcbiAgICAgIC8vIEJ1dCB3b3JrcyBmb3IgeWllbGRpbmcgKHRoZSBjb21tb24gY2FzZSkgYW5kIHNob3VsZCBzdXBwb3J0IHJlc3VtaW5nLlxuICAgICAgd29ya0luUHJvZ3Jlc3MuYWN0dWFsRHVyYXRpb24gPSAwO1xuICAgICAgd29ya0luUHJvZ3Jlc3MuYWN0dWFsU3RhcnRUaW1lID0gLTE7XG4gICAgfVxuICB9XG5cbiAgd29ya0luUHJvZ3Jlc3MuY2hpbGRFeHBpcmF0aW9uVGltZSA9IGN1cnJlbnQuY2hpbGRFeHBpcmF0aW9uVGltZTtcbiAgd29ya0luUHJvZ3Jlc3MuZXhwaXJhdGlvblRpbWUgPSBjdXJyZW50LmV4cGlyYXRpb25UaW1lO1xuICB3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IGN1cnJlbnQuY2hpbGQ7XG4gIHdvcmtJblByb2dyZXNzLm1lbW9pemVkUHJvcHMgPSBjdXJyZW50Lm1lbW9pemVkUHJvcHM7XG4gIHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPSBjdXJyZW50Lm1lbW9pemVkU3RhdGU7XG4gIHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlID0gY3VycmVudC51cGRhdGVRdWV1ZTsgLy8gQ2xvbmUgdGhlIGRlcGVuZGVuY2llcyBvYmplY3QuIFRoaXMgaXMgbXV0YXRlZCBkdXJpbmcgdGhlIHJlbmRlciBwaGFzZSwgc29cbiAgLy8gaXQgY2Fubm90IGJlIHNoYXJlZCB3aXRoIHRoZSBjdXJyZW50IGZpYmVyLlxuXG4gIHZhciBjdXJyZW50RGVwZW5kZW5jaWVzID0gY3VycmVudC5kZXBlbmRlbmNpZXM7XG4gIHdvcmtJblByb2dyZXNzLmRlcGVuZGVuY2llcyA9IGN1cnJlbnREZXBlbmRlbmNpZXMgPT09IG51bGwgPyBudWxsIDoge1xuICAgIGV4cGlyYXRpb25UaW1lOiBjdXJyZW50RGVwZW5kZW5jaWVzLmV4cGlyYXRpb25UaW1lLFxuICAgIGZpcnN0Q29udGV4dDogY3VycmVudERlcGVuZGVuY2llcy5maXJzdENvbnRleHQsXG4gICAgcmVzcG9uZGVyczogY3VycmVudERlcGVuZGVuY2llcy5yZXNwb25kZXJzXG4gIH07IC8vIFRoZXNlIHdpbGwgYmUgb3ZlcnJpZGRlbiBkdXJpbmcgdGhlIHBhcmVudCdzIHJlY29uY2lsaWF0aW9uXG5cbiAgd29ya0luUHJvZ3Jlc3Muc2libGluZyA9IGN1cnJlbnQuc2libGluZztcbiAgd29ya0luUHJvZ3Jlc3MuaW5kZXggPSBjdXJyZW50LmluZGV4O1xuICB3b3JrSW5Qcm9ncmVzcy5yZWYgPSBjdXJyZW50LnJlZjtcblxuICBpZiAoZW5hYmxlUHJvZmlsZXJUaW1lcikge1xuICAgIHdvcmtJblByb2dyZXNzLnNlbGZCYXNlRHVyYXRpb24gPSBjdXJyZW50LnNlbGZCYXNlRHVyYXRpb247XG4gICAgd29ya0luUHJvZ3Jlc3MudHJlZUJhc2VEdXJhdGlvbiA9IGN1cnJlbnQudHJlZUJhc2VEdXJhdGlvbjtcbiAgfVxuXG4gIHtcbiAgICB3b3JrSW5Qcm9ncmVzcy5fZGVidWdOZWVkc1JlbW91bnQgPSBjdXJyZW50Ll9kZWJ1Z05lZWRzUmVtb3VudDtcblxuICAgIHN3aXRjaCAod29ya0luUHJvZ3Jlc3MudGFnKSB7XG4gICAgICBjYXNlIEluZGV0ZXJtaW5hdGVDb21wb25lbnQ6XG4gICAgICBjYXNlIEZ1bmN0aW9uQ29tcG9uZW50OlxuICAgICAgY2FzZSBTaW1wbGVNZW1vQ29tcG9uZW50OlxuICAgICAgICB3b3JrSW5Qcm9ncmVzcy50eXBlID0gcmVzb2x2ZUZ1bmN0aW9uRm9ySG90UmVsb2FkaW5nKGN1cnJlbnQudHlwZSk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIENsYXNzQ29tcG9uZW50OlxuICAgICAgICB3b3JrSW5Qcm9ncmVzcy50eXBlID0gcmVzb2x2ZUNsYXNzRm9ySG90UmVsb2FkaW5nKGN1cnJlbnQudHlwZSk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIEZvcndhcmRSZWY6XG4gICAgICAgIHdvcmtJblByb2dyZXNzLnR5cGUgPSByZXNvbHZlRm9yd2FyZFJlZkZvckhvdFJlbG9hZGluZyhjdXJyZW50LnR5cGUpO1xuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHdvcmtJblByb2dyZXNzO1xufSAvLyBVc2VkIHRvIHJldXNlIGEgRmliZXIgZm9yIGEgc2Vjb25kIHBhc3MuXG5cbmZ1bmN0aW9uIHJlc2V0V29ya0luUHJvZ3Jlc3Mod29ya0luUHJvZ3Jlc3MsIHJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gIC8vIFRoaXMgcmVzZXRzIHRoZSBGaWJlciB0byB3aGF0IGNyZWF0ZUZpYmVyIG9yIGNyZWF0ZVdvcmtJblByb2dyZXNzIHdvdWxkXG4gIC8vIGhhdmUgc2V0IHRoZSB2YWx1ZXMgdG8gYmVmb3JlIGR1cmluZyB0aGUgZmlyc3QgcGFzcy4gSWRlYWxseSB0aGlzIHdvdWxkbid0XG4gIC8vIGJlIG5lY2Vzc2FyeSBidXQgdW5mb3J0dW5hdGVseSBtYW55IGNvZGUgcGF0aHMgcmVhZHMgZnJvbSB0aGUgd29ya0luUHJvZ3Jlc3NcbiAgLy8gd2hlbiB0aGV5IHNob3VsZCBiZSByZWFkaW5nIGZyb20gY3VycmVudCBhbmQgd3JpdGluZyB0byB3b3JrSW5Qcm9ncmVzcy5cbiAgLy8gV2UgYXNzdW1lIHBlbmRpbmdQcm9wcywgaW5kZXgsIGtleSwgcmVmLCByZXR1cm4gYXJlIHN0aWxsIHVudG91Y2hlZCB0b1xuICAvLyBhdm9pZCBkb2luZyBhbm90aGVyIHJlY29uY2lsaWF0aW9uLlxuICAvLyBSZXNldCB0aGUgZWZmZWN0IHRhZyBidXQga2VlcCBhbnkgUGxhY2VtZW50IHRhZ3MsIHNpbmNlIHRoYXQncyBzb21ldGhpbmdcbiAgLy8gdGhhdCBjaGlsZCBmaWJlciBpcyBzZXR0aW5nLCBub3QgdGhlIHJlY29uY2lsaWF0aW9uLlxuICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgJj0gUGxhY2VtZW50OyAvLyBUaGUgZWZmZWN0IGxpc3QgaXMgbm8gbG9uZ2VyIHZhbGlkLlxuXG4gIHdvcmtJblByb2dyZXNzLm5leHRFZmZlY3QgPSBudWxsO1xuICB3b3JrSW5Qcm9ncmVzcy5maXJzdEVmZmVjdCA9IG51bGw7XG4gIHdvcmtJblByb2dyZXNzLmxhc3RFZmZlY3QgPSBudWxsO1xuICB2YXIgY3VycmVudCA9IHdvcmtJblByb2dyZXNzLmFsdGVybmF0ZTtcblxuICBpZiAoY3VycmVudCA9PT0gbnVsbCkge1xuICAgIC8vIFJlc2V0IHRvIGNyZWF0ZUZpYmVyJ3MgaW5pdGlhbCB2YWx1ZXMuXG4gICAgd29ya0luUHJvZ3Jlc3MuY2hpbGRFeHBpcmF0aW9uVGltZSA9IE5vV29yaztcbiAgICB3b3JrSW5Qcm9ncmVzcy5leHBpcmF0aW9uVGltZSA9IHJlbmRlckV4cGlyYXRpb25UaW1lO1xuICAgIHdvcmtJblByb2dyZXNzLmNoaWxkID0gbnVsbDtcbiAgICB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFByb3BzID0gbnVsbDtcbiAgICB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID0gbnVsbDtcbiAgICB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZSA9IG51bGw7XG4gICAgd29ya0luUHJvZ3Jlc3MuZGVwZW5kZW5jaWVzID0gbnVsbDtcblxuICAgIGlmIChlbmFibGVQcm9maWxlclRpbWVyKSB7XG4gICAgICAvLyBOb3RlOiBXZSBkb24ndCByZXNldCB0aGUgYWN0dWFsVGltZSBjb3VudHMuIEl0J3MgdXNlZnVsIHRvIGFjY3VtdWxhdGVcbiAgICAgIC8vIGFjdHVhbCB0aW1lIGFjcm9zcyBtdWx0aXBsZSByZW5kZXIgcGFzc2VzLlxuICAgICAgd29ya0luUHJvZ3Jlc3Muc2VsZkJhc2VEdXJhdGlvbiA9IDA7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy50cmVlQmFzZUR1cmF0aW9uID0gMDtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gUmVzZXQgdG8gdGhlIGNsb25lZCB2YWx1ZXMgdGhhdCBjcmVhdGVXb3JrSW5Qcm9ncmVzcyB3b3VsZCd2ZS5cbiAgICB3b3JrSW5Qcm9ncmVzcy5jaGlsZEV4cGlyYXRpb25UaW1lID0gY3VycmVudC5jaGlsZEV4cGlyYXRpb25UaW1lO1xuICAgIHdvcmtJblByb2dyZXNzLmV4cGlyYXRpb25UaW1lID0gY3VycmVudC5leHBpcmF0aW9uVGltZTtcbiAgICB3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IGN1cnJlbnQuY2hpbGQ7XG4gICAgd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRQcm9wcyA9IGN1cnJlbnQubWVtb2l6ZWRQcm9wcztcbiAgICB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID0gY3VycmVudC5tZW1vaXplZFN0YXRlO1xuICAgIHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlID0gY3VycmVudC51cGRhdGVRdWV1ZTsgLy8gQ2xvbmUgdGhlIGRlcGVuZGVuY2llcyBvYmplY3QuIFRoaXMgaXMgbXV0YXRlZCBkdXJpbmcgdGhlIHJlbmRlciBwaGFzZSwgc29cbiAgICAvLyBpdCBjYW5ub3QgYmUgc2hhcmVkIHdpdGggdGhlIGN1cnJlbnQgZmliZXIuXG5cbiAgICB2YXIgY3VycmVudERlcGVuZGVuY2llcyA9IGN1cnJlbnQuZGVwZW5kZW5jaWVzO1xuICAgIHdvcmtJblByb2dyZXNzLmRlcGVuZGVuY2llcyA9IGN1cnJlbnREZXBlbmRlbmNpZXMgPT09IG51bGwgPyBudWxsIDoge1xuICAgICAgZXhwaXJhdGlvblRpbWU6IGN1cnJlbnREZXBlbmRlbmNpZXMuZXhwaXJhdGlvblRpbWUsXG4gICAgICBmaXJzdENvbnRleHQ6IGN1cnJlbnREZXBlbmRlbmNpZXMuZmlyc3RDb250ZXh0LFxuICAgICAgcmVzcG9uZGVyczogY3VycmVudERlcGVuZGVuY2llcy5yZXNwb25kZXJzXG4gICAgfTtcblxuICAgIGlmIChlbmFibGVQcm9maWxlclRpbWVyKSB7XG4gICAgICAvLyBOb3RlOiBXZSBkb24ndCByZXNldCB0aGUgYWN0dWFsVGltZSBjb3VudHMuIEl0J3MgdXNlZnVsIHRvIGFjY3VtdWxhdGVcbiAgICAgIC8vIGFjdHVhbCB0aW1lIGFjcm9zcyBtdWx0aXBsZSByZW5kZXIgcGFzc2VzLlxuICAgICAgd29ya0luUHJvZ3Jlc3Muc2VsZkJhc2VEdXJhdGlvbiA9IGN1cnJlbnQuc2VsZkJhc2VEdXJhdGlvbjtcbiAgICAgIHdvcmtJblByb2dyZXNzLnRyZWVCYXNlRHVyYXRpb24gPSBjdXJyZW50LnRyZWVCYXNlRHVyYXRpb247XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHdvcmtJblByb2dyZXNzO1xufVxuZnVuY3Rpb24gY3JlYXRlSG9zdFJvb3RGaWJlcih0YWcpIHtcbiAgdmFyIG1vZGU7XG5cbiAgaWYgKHRhZyA9PT0gQ29uY3VycmVudFJvb3QpIHtcbiAgICBtb2RlID0gQ29uY3VycmVudE1vZGUgfCBCbG9ja2luZ01vZGUgfCBTdHJpY3RNb2RlO1xuICB9IGVsc2UgaWYgKHRhZyA9PT0gQmxvY2tpbmdSb290KSB7XG4gICAgbW9kZSA9IEJsb2NraW5nTW9kZSB8IFN0cmljdE1vZGU7XG4gIH0gZWxzZSB7XG4gICAgbW9kZSA9IE5vTW9kZTtcbiAgfVxuXG4gIGlmIChlbmFibGVQcm9maWxlclRpbWVyICYmIGlzRGV2VG9vbHNQcmVzZW50KSB7XG4gICAgLy8gQWx3YXlzIGNvbGxlY3QgcHJvZmlsZSB0aW1pbmdzIHdoZW4gRGV2VG9vbHMgYXJlIHByZXNlbnQuXG4gICAgLy8gVGhpcyBlbmFibGVzIERldlRvb2xzIHRvIHN0YXJ0IGNhcHR1cmluZyB0aW1pbmcgYXQgYW55IHBvaW504oCTXG4gICAgLy8gV2l0aG91dCBzb21lIG5vZGVzIGluIHRoZSB0cmVlIGhhdmluZyBlbXB0eSBiYXNlIHRpbWVzLlxuICAgIG1vZGUgfD0gUHJvZmlsZU1vZGU7XG4gIH1cblxuICByZXR1cm4gY3JlYXRlRmliZXIoSG9zdFJvb3QsIG51bGwsIG51bGwsIG1vZGUpO1xufVxuZnVuY3Rpb24gY3JlYXRlRmliZXJGcm9tVHlwZUFuZFByb3BzKHR5cGUsIC8vIFJlYWN0JEVsZW1lbnRUeXBlXG5rZXksIHBlbmRpbmdQcm9wcywgb3duZXIsIG1vZGUsIGV4cGlyYXRpb25UaW1lKSB7XG4gIHZhciBmaWJlcjtcbiAgdmFyIGZpYmVyVGFnID0gSW5kZXRlcm1pbmF0ZUNvbXBvbmVudDsgLy8gVGhlIHJlc29sdmVkIHR5cGUgaXMgc2V0IGlmIHdlIGtub3cgd2hhdCB0aGUgZmluYWwgdHlwZSB3aWxsIGJlLiBJLmUuIGl0J3Mgbm90IGxhenkuXG5cbiAgdmFyIHJlc29sdmVkVHlwZSA9IHR5cGU7XG5cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgaWYgKHNob3VsZENvbnN0cnVjdCh0eXBlKSkge1xuICAgICAgZmliZXJUYWcgPSBDbGFzc0NvbXBvbmVudDtcblxuICAgICAge1xuICAgICAgICByZXNvbHZlZFR5cGUgPSByZXNvbHZlQ2xhc3NGb3JIb3RSZWxvYWRpbmcocmVzb2x2ZWRUeXBlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAge1xuICAgICAgICByZXNvbHZlZFR5cGUgPSByZXNvbHZlRnVuY3Rpb25Gb3JIb3RSZWxvYWRpbmcocmVzb2x2ZWRUeXBlKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSBpZiAodHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgZmliZXJUYWcgPSBIb3N0Q29tcG9uZW50O1xuICB9IGVsc2Uge1xuICAgIGdldFRhZzogc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIFJFQUNUX0ZSQUdNRU5UX1RZUEU6XG4gICAgICAgIHJldHVybiBjcmVhdGVGaWJlckZyb21GcmFnbWVudChwZW5kaW5nUHJvcHMuY2hpbGRyZW4sIG1vZGUsIGV4cGlyYXRpb25UaW1lLCBrZXkpO1xuXG4gICAgICBjYXNlIFJFQUNUX0NPTkNVUlJFTlRfTU9ERV9UWVBFOlxuICAgICAgICBmaWJlclRhZyA9IE1vZGU7XG4gICAgICAgIG1vZGUgfD0gQ29uY3VycmVudE1vZGUgfCBCbG9ja2luZ01vZGUgfCBTdHJpY3RNb2RlO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFOlxuICAgICAgICBmaWJlclRhZyA9IE1vZGU7XG4gICAgICAgIG1vZGUgfD0gU3RyaWN0TW9kZTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgUkVBQ1RfUFJPRklMRVJfVFlQRTpcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUZpYmVyRnJvbVByb2ZpbGVyKHBlbmRpbmdQcm9wcywgbW9kZSwgZXhwaXJhdGlvblRpbWUsIGtleSk7XG5cbiAgICAgIGNhc2UgUkVBQ1RfU1VTUEVOU0VfVFlQRTpcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUZpYmVyRnJvbVN1c3BlbnNlKHBlbmRpbmdQcm9wcywgbW9kZSwgZXhwaXJhdGlvblRpbWUsIGtleSk7XG5cbiAgICAgIGNhc2UgUkVBQ1RfU1VTUEVOU0VfTElTVF9UWVBFOlxuICAgICAgICByZXR1cm4gY3JlYXRlRmliZXJGcm9tU3VzcGVuc2VMaXN0KHBlbmRpbmdQcm9wcywgbW9kZSwgZXhwaXJhdGlvblRpbWUsIGtleSk7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHtcbiAgICAgICAgICBpZiAodHlwZW9mIHR5cGUgPT09ICdvYmplY3QnICYmIHR5cGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZS4kJHR5cGVvZikge1xuICAgICAgICAgICAgICBjYXNlIFJFQUNUX1BST1ZJREVSX1RZUEU6XG4gICAgICAgICAgICAgICAgZmliZXJUYWcgPSBDb250ZXh0UHJvdmlkZXI7XG4gICAgICAgICAgICAgICAgYnJlYWsgZ2V0VGFnO1xuXG4gICAgICAgICAgICAgIGNhc2UgUkVBQ1RfQ09OVEVYVF9UWVBFOlxuICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgYSBjb25zdW1lclxuICAgICAgICAgICAgICAgIGZpYmVyVGFnID0gQ29udGV4dENvbnN1bWVyO1xuICAgICAgICAgICAgICAgIGJyZWFrIGdldFRhZztcblxuICAgICAgICAgICAgICBjYXNlIFJFQUNUX0ZPUldBUkRfUkVGX1RZUEU6XG4gICAgICAgICAgICAgICAgZmliZXJUYWcgPSBGb3J3YXJkUmVmO1xuXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgcmVzb2x2ZWRUeXBlID0gcmVzb2x2ZUZvcndhcmRSZWZGb3JIb3RSZWxvYWRpbmcocmVzb2x2ZWRUeXBlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBicmVhayBnZXRUYWc7XG5cbiAgICAgICAgICAgICAgY2FzZSBSRUFDVF9NRU1PX1RZUEU6XG4gICAgICAgICAgICAgICAgZmliZXJUYWcgPSBNZW1vQ29tcG9uZW50O1xuICAgICAgICAgICAgICAgIGJyZWFrIGdldFRhZztcblxuICAgICAgICAgICAgICBjYXNlIFJFQUNUX0xBWllfVFlQRTpcbiAgICAgICAgICAgICAgICBmaWJlclRhZyA9IExhenlDb21wb25lbnQ7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZWRUeXBlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBicmVhayBnZXRUYWc7XG5cbiAgICAgICAgICAgICAgY2FzZSBSRUFDVF9GVU5EQU1FTlRBTF9UWVBFOlxuICAgICAgICAgICAgICAgIGlmIChlbmFibGVGdW5kYW1lbnRhbEFQSSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUZpYmVyRnJvbUZ1bmRhbWVudGFsKHR5cGUsIHBlbmRpbmdQcm9wcywgbW9kZSwgZXhwaXJhdGlvblRpbWUsIGtleSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSBSRUFDVF9TQ09QRV9UWVBFOlxuICAgICAgICAgICAgICAgIGlmIChlbmFibGVTY29wZUFQSSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUZpYmVyRnJvbVNjb3BlKHR5cGUsIHBlbmRpbmdQcm9wcywgbW9kZSwgZXhwaXJhdGlvblRpbWUsIGtleSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIGluZm8gPSAnJztcblxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0eXBlID09PSB1bmRlZmluZWQgfHwgdHlwZW9mIHR5cGUgPT09ICdvYmplY3QnICYmIHR5cGUgIT09IG51bGwgJiYgT2JqZWN0LmtleXModHlwZSkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgIGluZm8gKz0gJyBZb3UgbGlrZWx5IGZvcmdvdCB0byBleHBvcnQgeW91ciBjb21wb25lbnQgZnJvbSB0aGUgZmlsZSAnICsgXCJpdCdzIGRlZmluZWQgaW4sIG9yIHlvdSBtaWdodCBoYXZlIG1peGVkIHVwIGRlZmF1bHQgYW5kIFwiICsgJ25hbWVkIGltcG9ydHMuJztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIG93bmVyTmFtZSA9IG93bmVyID8gZ2V0Q29tcG9uZW50TmFtZShvd25lci50eXBlKSA6IG51bGw7XG5cbiAgICAgICAgICAgIGlmIChvd25lck5hbWUpIHtcbiAgICAgICAgICAgICAgaW5mbyArPSAnXFxuXFxuQ2hlY2sgdGhlIHJlbmRlciBtZXRob2Qgb2YgYCcgKyBvd25lck5hbWUgKyAnYC4nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJFbGVtZW50IHR5cGUgaXMgaW52YWxpZDogZXhwZWN0ZWQgYSBzdHJpbmcgKGZvciBidWlsdC1pbiBjb21wb25lbnRzKSBvciBhIGNsYXNzL2Z1bmN0aW9uIChmb3IgY29tcG9zaXRlIGNvbXBvbmVudHMpIGJ1dCBnb3Q6IFwiICsgKHR5cGUgPT0gbnVsbCA/IHR5cGUgOiB0eXBlb2YgdHlwZSkgKyBcIi5cIiArIGluZm8pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZpYmVyID0gY3JlYXRlRmliZXIoZmliZXJUYWcsIHBlbmRpbmdQcm9wcywga2V5LCBtb2RlKTtcbiAgZmliZXIuZWxlbWVudFR5cGUgPSB0eXBlO1xuICBmaWJlci50eXBlID0gcmVzb2x2ZWRUeXBlO1xuICBmaWJlci5leHBpcmF0aW9uVGltZSA9IGV4cGlyYXRpb25UaW1lO1xuICByZXR1cm4gZmliZXI7XG59XG5mdW5jdGlvbiBjcmVhdGVGaWJlckZyb21FbGVtZW50KGVsZW1lbnQsIG1vZGUsIGV4cGlyYXRpb25UaW1lKSB7XG4gIHZhciBvd25lciA9IG51bGw7XG5cbiAge1xuICAgIG93bmVyID0gZWxlbWVudC5fb3duZXI7XG4gIH1cblxuICB2YXIgdHlwZSA9IGVsZW1lbnQudHlwZTtcbiAgdmFyIGtleSA9IGVsZW1lbnQua2V5O1xuICB2YXIgcGVuZGluZ1Byb3BzID0gZWxlbWVudC5wcm9wcztcbiAgdmFyIGZpYmVyID0gY3JlYXRlRmliZXJGcm9tVHlwZUFuZFByb3BzKHR5cGUsIGtleSwgcGVuZGluZ1Byb3BzLCBvd25lciwgbW9kZSwgZXhwaXJhdGlvblRpbWUpO1xuXG4gIHtcbiAgICBmaWJlci5fZGVidWdTb3VyY2UgPSBlbGVtZW50Ll9zb3VyY2U7XG4gICAgZmliZXIuX2RlYnVnT3duZXIgPSBlbGVtZW50Ll9vd25lcjtcbiAgfVxuXG4gIHJldHVybiBmaWJlcjtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUZpYmVyRnJvbUZyYWdtZW50KGVsZW1lbnRzLCBtb2RlLCBleHBpcmF0aW9uVGltZSwga2V5KSB7XG4gIHZhciBmaWJlciA9IGNyZWF0ZUZpYmVyKEZyYWdtZW50LCBlbGVtZW50cywga2V5LCBtb2RlKTtcbiAgZmliZXIuZXhwaXJhdGlvblRpbWUgPSBleHBpcmF0aW9uVGltZTtcbiAgcmV0dXJuIGZpYmVyO1xufVxuZnVuY3Rpb24gY3JlYXRlRmliZXJGcm9tRnVuZGFtZW50YWwoZnVuZGFtZW50YWxDb21wb25lbnQsIHBlbmRpbmdQcm9wcywgbW9kZSwgZXhwaXJhdGlvblRpbWUsIGtleSkge1xuICB2YXIgZmliZXIgPSBjcmVhdGVGaWJlcihGdW5kYW1lbnRhbENvbXBvbmVudCwgcGVuZGluZ1Byb3BzLCBrZXksIG1vZGUpO1xuICBmaWJlci5lbGVtZW50VHlwZSA9IGZ1bmRhbWVudGFsQ29tcG9uZW50O1xuICBmaWJlci50eXBlID0gZnVuZGFtZW50YWxDb21wb25lbnQ7XG4gIGZpYmVyLmV4cGlyYXRpb25UaW1lID0gZXhwaXJhdGlvblRpbWU7XG4gIHJldHVybiBmaWJlcjtcbn1cblxuZnVuY3Rpb24gY3JlYXRlRmliZXJGcm9tU2NvcGUoc2NvcGUsIHBlbmRpbmdQcm9wcywgbW9kZSwgZXhwaXJhdGlvblRpbWUsIGtleSkge1xuICB2YXIgZmliZXIgPSBjcmVhdGVGaWJlcihTY29wZUNvbXBvbmVudCwgcGVuZGluZ1Byb3BzLCBrZXksIG1vZGUpO1xuICBmaWJlci50eXBlID0gc2NvcGU7XG4gIGZpYmVyLmVsZW1lbnRUeXBlID0gc2NvcGU7XG4gIGZpYmVyLmV4cGlyYXRpb25UaW1lID0gZXhwaXJhdGlvblRpbWU7XG4gIHJldHVybiBmaWJlcjtcbn1cblxuZnVuY3Rpb24gY3JlYXRlRmliZXJGcm9tUHJvZmlsZXIocGVuZGluZ1Byb3BzLCBtb2RlLCBleHBpcmF0aW9uVGltZSwga2V5KSB7XG4gIHtcbiAgICBpZiAodHlwZW9mIHBlbmRpbmdQcm9wcy5pZCAhPT0gJ3N0cmluZycgfHwgdHlwZW9mIHBlbmRpbmdQcm9wcy5vblJlbmRlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgd2FybmluZ1dpdGhvdXRTdGFjayQxKGZhbHNlLCAnUHJvZmlsZXIgbXVzdCBzcGVjaWZ5IGFuIFwiaWRcIiBzdHJpbmcgYW5kIFwib25SZW5kZXJcIiBmdW5jdGlvbiBhcyBwcm9wcycpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBmaWJlciA9IGNyZWF0ZUZpYmVyKFByb2ZpbGVyLCBwZW5kaW5nUHJvcHMsIGtleSwgbW9kZSB8IFByb2ZpbGVNb2RlKTsgLy8gVE9ETzogVGhlIFByb2ZpbGVyIGZpYmVyIHNob3VsZG4ndCBoYXZlIGEgdHlwZS4gSXQgaGFzIGEgdGFnLlxuXG4gIGZpYmVyLmVsZW1lbnRUeXBlID0gUkVBQ1RfUFJPRklMRVJfVFlQRTtcbiAgZmliZXIudHlwZSA9IFJFQUNUX1BST0ZJTEVSX1RZUEU7XG4gIGZpYmVyLmV4cGlyYXRpb25UaW1lID0gZXhwaXJhdGlvblRpbWU7XG4gIHJldHVybiBmaWJlcjtcbn1cblxuZnVuY3Rpb24gY3JlYXRlRmliZXJGcm9tU3VzcGVuc2UocGVuZGluZ1Byb3BzLCBtb2RlLCBleHBpcmF0aW9uVGltZSwga2V5KSB7XG4gIHZhciBmaWJlciA9IGNyZWF0ZUZpYmVyKFN1c3BlbnNlQ29tcG9uZW50LCBwZW5kaW5nUHJvcHMsIGtleSwgbW9kZSk7IC8vIFRPRE86IFRoZSBTdXNwZW5zZUNvbXBvbmVudCBmaWJlciBzaG91bGRuJ3QgaGF2ZSBhIHR5cGUuIEl0IGhhcyBhIHRhZy5cbiAgLy8gVGhpcyBuZWVkcyB0byBiZSBmaXhlZCBpbiBnZXRDb21wb25lbnROYW1lIHNvIHRoYXQgaXQgcmVsaWVzIG9uIHRoZSB0YWdcbiAgLy8gaW5zdGVhZC5cblxuICBmaWJlci50eXBlID0gUkVBQ1RfU1VTUEVOU0VfVFlQRTtcbiAgZmliZXIuZWxlbWVudFR5cGUgPSBSRUFDVF9TVVNQRU5TRV9UWVBFO1xuICBmaWJlci5leHBpcmF0aW9uVGltZSA9IGV4cGlyYXRpb25UaW1lO1xuICByZXR1cm4gZmliZXI7XG59XG5mdW5jdGlvbiBjcmVhdGVGaWJlckZyb21TdXNwZW5zZUxpc3QocGVuZGluZ1Byb3BzLCBtb2RlLCBleHBpcmF0aW9uVGltZSwga2V5KSB7XG4gIHZhciBmaWJlciA9IGNyZWF0ZUZpYmVyKFN1c3BlbnNlTGlzdENvbXBvbmVudCwgcGVuZGluZ1Byb3BzLCBrZXksIG1vZGUpO1xuXG4gIHtcbiAgICAvLyBUT0RPOiBUaGUgU3VzcGVuc2VMaXN0Q29tcG9uZW50IGZpYmVyIHNob3VsZG4ndCBoYXZlIGEgdHlwZS4gSXQgaGFzIGEgdGFnLlxuICAgIC8vIFRoaXMgbmVlZHMgdG8gYmUgZml4ZWQgaW4gZ2V0Q29tcG9uZW50TmFtZSBzbyB0aGF0IGl0IHJlbGllcyBvbiB0aGUgdGFnXG4gICAgLy8gaW5zdGVhZC5cbiAgICBmaWJlci50eXBlID0gUkVBQ1RfU1VTUEVOU0VfTElTVF9UWVBFO1xuICB9XG5cbiAgZmliZXIuZWxlbWVudFR5cGUgPSBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEU7XG4gIGZpYmVyLmV4cGlyYXRpb25UaW1lID0gZXhwaXJhdGlvblRpbWU7XG4gIHJldHVybiBmaWJlcjtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUZpYmVyRnJvbVRleHQoY29udGVudCwgbW9kZSwgZXhwaXJhdGlvblRpbWUpIHtcbiAgdmFyIGZpYmVyID0gY3JlYXRlRmliZXIoSG9zdFRleHQsIGNvbnRlbnQsIG51bGwsIG1vZGUpO1xuICBmaWJlci5leHBpcmF0aW9uVGltZSA9IGV4cGlyYXRpb25UaW1lO1xuICByZXR1cm4gZmliZXI7XG59XG5mdW5jdGlvbiBjcmVhdGVGaWJlckZyb21Ib3N0SW5zdGFuY2VGb3JEZWxldGlvbigpIHtcbiAgdmFyIGZpYmVyID0gY3JlYXRlRmliZXIoSG9zdENvbXBvbmVudCwgbnVsbCwgbnVsbCwgTm9Nb2RlKTsgLy8gVE9ETzogVGhlc2Ugc2hvdWxkIG5vdCBuZWVkIGEgdHlwZS5cblxuICBmaWJlci5lbGVtZW50VHlwZSA9ICdERUxFVEVEJztcbiAgZmliZXIudHlwZSA9ICdERUxFVEVEJztcbiAgcmV0dXJuIGZpYmVyO1xufVxuZnVuY3Rpb24gY3JlYXRlRmliZXJGcm9tRGVoeWRyYXRlZEZyYWdtZW50KGRlaHlkcmF0ZWROb2RlKSB7XG4gIHZhciBmaWJlciA9IGNyZWF0ZUZpYmVyKERlaHlkcmF0ZWRGcmFnbWVudCwgbnVsbCwgbnVsbCwgTm9Nb2RlKTtcbiAgZmliZXIuc3RhdGVOb2RlID0gZGVoeWRyYXRlZE5vZGU7XG4gIHJldHVybiBmaWJlcjtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUZpYmVyRnJvbVBvcnRhbChwb3J0YWwsIG1vZGUsIGV4cGlyYXRpb25UaW1lKSB7XG4gIHZhciBwZW5kaW5nUHJvcHMgPSBwb3J0YWwuY2hpbGRyZW4gIT09IG51bGwgPyBwb3J0YWwuY2hpbGRyZW4gOiBbXTtcbiAgdmFyIGZpYmVyID0gY3JlYXRlRmliZXIoSG9zdFBvcnRhbCwgcGVuZGluZ1Byb3BzLCBwb3J0YWwua2V5LCBtb2RlKTtcbiAgZmliZXIuZXhwaXJhdGlvblRpbWUgPSBleHBpcmF0aW9uVGltZTtcbiAgZmliZXIuc3RhdGVOb2RlID0ge1xuICAgIGNvbnRhaW5lckluZm86IHBvcnRhbC5jb250YWluZXJJbmZvLFxuICAgIHBlbmRpbmdDaGlsZHJlbjogbnVsbCxcbiAgICAvLyBVc2VkIGJ5IHBlcnNpc3RlbnQgdXBkYXRlc1xuICAgIGltcGxlbWVudGF0aW9uOiBwb3J0YWwuaW1wbGVtZW50YXRpb25cbiAgfTtcbiAgcmV0dXJuIGZpYmVyO1xufSAvLyBVc2VkIGZvciBzdGFzaGluZyBXSVAgcHJvcGVydGllcyB0byByZXBsYXkgZmFpbGVkIHdvcmsgaW4gREVWLlxuXG5mdW5jdGlvbiBhc3NpZ25GaWJlclByb3BlcnRpZXNJbkRFVih0YXJnZXQsIHNvdXJjZSkge1xuICBpZiAodGFyZ2V0ID09PSBudWxsKSB7XG4gICAgLy8gVGhpcyBGaWJlcidzIGluaXRpYWwgcHJvcGVydGllcyB3aWxsIGFsd2F5cyBiZSBvdmVyd3JpdHRlbi5cbiAgICAvLyBXZSBvbmx5IHVzZSBhIEZpYmVyIHRvIGVuc3VyZSB0aGUgc2FtZSBoaWRkZW4gY2xhc3Mgc28gREVWIGlzbid0IHNsb3cuXG4gICAgdGFyZ2V0ID0gY3JlYXRlRmliZXIoSW5kZXRlcm1pbmF0ZUNvbXBvbmVudCwgbnVsbCwgbnVsbCwgTm9Nb2RlKTtcbiAgfSAvLyBUaGlzIGlzIGludGVudGlvbmFsbHkgd3JpdHRlbiBhcyBhIGxpc3Qgb2YgYWxsIHByb3BlcnRpZXMuXG4gIC8vIFdlIHRyaWVkIHRvIHVzZSBPYmplY3QuYXNzaWduKCkgaW5zdGVhZCBidXQgdGhpcyBpcyBjYWxsZWQgaW5cbiAgLy8gdGhlIGhvdHRlc3QgcGF0aCwgYW5kIE9iamVjdC5hc3NpZ24oKSB3YXMgdG9vIHNsb3c6XG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvMTI1MDJcbiAgLy8gVGhpcyBjb2RlIGlzIERFVi1vbmx5IHNvIHNpemUgaXMgbm90IGEgY29uY2Vybi5cblxuXG4gIHRhcmdldC50YWcgPSBzb3VyY2UudGFnO1xuICB0YXJnZXQua2V5ID0gc291cmNlLmtleTtcbiAgdGFyZ2V0LmVsZW1lbnRUeXBlID0gc291cmNlLmVsZW1lbnRUeXBlO1xuICB0YXJnZXQudHlwZSA9IHNvdXJjZS50eXBlO1xuICB0YXJnZXQuc3RhdGVOb2RlID0gc291cmNlLnN0YXRlTm9kZTtcbiAgdGFyZ2V0LnJldHVybiA9IHNvdXJjZS5yZXR1cm47XG4gIHRhcmdldC5jaGlsZCA9IHNvdXJjZS5jaGlsZDtcbiAgdGFyZ2V0LnNpYmxpbmcgPSBzb3VyY2Uuc2libGluZztcbiAgdGFyZ2V0LmluZGV4ID0gc291cmNlLmluZGV4O1xuICB0YXJnZXQucmVmID0gc291cmNlLnJlZjtcbiAgdGFyZ2V0LnBlbmRpbmdQcm9wcyA9IHNvdXJjZS5wZW5kaW5nUHJvcHM7XG4gIHRhcmdldC5tZW1vaXplZFByb3BzID0gc291cmNlLm1lbW9pemVkUHJvcHM7XG4gIHRhcmdldC51cGRhdGVRdWV1ZSA9IHNvdXJjZS51cGRhdGVRdWV1ZTtcbiAgdGFyZ2V0Lm1lbW9pemVkU3RhdGUgPSBzb3VyY2UubWVtb2l6ZWRTdGF0ZTtcbiAgdGFyZ2V0LmRlcGVuZGVuY2llcyA9IHNvdXJjZS5kZXBlbmRlbmNpZXM7XG4gIHRhcmdldC5tb2RlID0gc291cmNlLm1vZGU7XG4gIHRhcmdldC5lZmZlY3RUYWcgPSBzb3VyY2UuZWZmZWN0VGFnO1xuICB0YXJnZXQubmV4dEVmZmVjdCA9IHNvdXJjZS5uZXh0RWZmZWN0O1xuICB0YXJnZXQuZmlyc3RFZmZlY3QgPSBzb3VyY2UuZmlyc3RFZmZlY3Q7XG4gIHRhcmdldC5sYXN0RWZmZWN0ID0gc291cmNlLmxhc3RFZmZlY3Q7XG4gIHRhcmdldC5leHBpcmF0aW9uVGltZSA9IHNvdXJjZS5leHBpcmF0aW9uVGltZTtcbiAgdGFyZ2V0LmNoaWxkRXhwaXJhdGlvblRpbWUgPSBzb3VyY2UuY2hpbGRFeHBpcmF0aW9uVGltZTtcbiAgdGFyZ2V0LmFsdGVybmF0ZSA9IHNvdXJjZS5hbHRlcm5hdGU7XG5cbiAgaWYgKGVuYWJsZVByb2ZpbGVyVGltZXIpIHtcbiAgICB0YXJnZXQuYWN0dWFsRHVyYXRpb24gPSBzb3VyY2UuYWN0dWFsRHVyYXRpb247XG4gICAgdGFyZ2V0LmFjdHVhbFN0YXJ0VGltZSA9IHNvdXJjZS5hY3R1YWxTdGFydFRpbWU7XG4gICAgdGFyZ2V0LnNlbGZCYXNlRHVyYXRpb24gPSBzb3VyY2Uuc2VsZkJhc2VEdXJhdGlvbjtcbiAgICB0YXJnZXQudHJlZUJhc2VEdXJhdGlvbiA9IHNvdXJjZS50cmVlQmFzZUR1cmF0aW9uO1xuICB9XG5cbiAgdGFyZ2V0Ll9kZWJ1Z0lEID0gc291cmNlLl9kZWJ1Z0lEO1xuICB0YXJnZXQuX2RlYnVnU291cmNlID0gc291cmNlLl9kZWJ1Z1NvdXJjZTtcbiAgdGFyZ2V0Ll9kZWJ1Z093bmVyID0gc291cmNlLl9kZWJ1Z093bmVyO1xuICB0YXJnZXQuX2RlYnVnSXNDdXJyZW50bHlUaW1pbmcgPSBzb3VyY2UuX2RlYnVnSXNDdXJyZW50bHlUaW1pbmc7XG4gIHRhcmdldC5fZGVidWdOZWVkc1JlbW91bnQgPSBzb3VyY2UuX2RlYnVnTmVlZHNSZW1vdW50O1xuICB0YXJnZXQuX2RlYnVnSG9va1R5cGVzID0gc291cmNlLl9kZWJ1Z0hvb2tUeXBlcztcbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuZnVuY3Rpb24gRmliZXJSb290Tm9kZShjb250YWluZXJJbmZvLCB0YWcsIGh5ZHJhdGUpIHtcbiAgdGhpcy50YWcgPSB0YWc7XG4gIHRoaXMuY3VycmVudCA9IG51bGw7XG4gIHRoaXMuY29udGFpbmVySW5mbyA9IGNvbnRhaW5lckluZm87XG4gIHRoaXMucGVuZGluZ0NoaWxkcmVuID0gbnVsbDtcbiAgdGhpcy5waW5nQ2FjaGUgPSBudWxsO1xuICB0aGlzLmZpbmlzaGVkRXhwaXJhdGlvblRpbWUgPSBOb1dvcms7XG4gIHRoaXMuZmluaXNoZWRXb3JrID0gbnVsbDtcbiAgdGhpcy50aW1lb3V0SGFuZGxlID0gbm9UaW1lb3V0O1xuICB0aGlzLmNvbnRleHQgPSBudWxsO1xuICB0aGlzLnBlbmRpbmdDb250ZXh0ID0gbnVsbDtcbiAgdGhpcy5oeWRyYXRlID0gaHlkcmF0ZTtcbiAgdGhpcy5jYWxsYmFja05vZGUgPSBudWxsO1xuICB0aGlzLmNhbGxiYWNrUHJpb3JpdHkgPSBOb1ByaW9yaXR5O1xuICB0aGlzLmZpcnN0UGVuZGluZ1RpbWUgPSBOb1dvcms7XG4gIHRoaXMuZmlyc3RTdXNwZW5kZWRUaW1lID0gTm9Xb3JrO1xuICB0aGlzLmxhc3RTdXNwZW5kZWRUaW1lID0gTm9Xb3JrO1xuICB0aGlzLm5leHRLbm93blBlbmRpbmdMZXZlbCA9IE5vV29yaztcbiAgdGhpcy5sYXN0UGluZ2VkVGltZSA9IE5vV29yaztcbiAgdGhpcy5sYXN0RXhwaXJlZFRpbWUgPSBOb1dvcms7XG5cbiAgaWYgKGVuYWJsZVNjaGVkdWxlclRyYWNpbmcpIHtcbiAgICB0aGlzLmludGVyYWN0aW9uVGhyZWFkSUQgPSB0cmFjaW5nLnVuc3RhYmxlX2dldFRocmVhZElEKCk7XG4gICAgdGhpcy5tZW1vaXplZEludGVyYWN0aW9ucyA9IG5ldyBTZXQoKTtcbiAgICB0aGlzLnBlbmRpbmdJbnRlcmFjdGlvbk1hcCA9IG5ldyBNYXAoKTtcbiAgfVxuXG4gIGlmIChlbmFibGVTdXNwZW5zZUNhbGxiYWNrKSB7XG4gICAgdGhpcy5oeWRyYXRpb25DYWxsYmFja3MgPSBudWxsO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUZpYmVyUm9vdChjb250YWluZXJJbmZvLCB0YWcsIGh5ZHJhdGUsIGh5ZHJhdGlvbkNhbGxiYWNrcykge1xuICB2YXIgcm9vdCA9IG5ldyBGaWJlclJvb3ROb2RlKGNvbnRhaW5lckluZm8sIHRhZywgaHlkcmF0ZSk7XG5cbiAgaWYgKGVuYWJsZVN1c3BlbnNlQ2FsbGJhY2spIHtcbiAgICByb290Lmh5ZHJhdGlvbkNhbGxiYWNrcyA9IGh5ZHJhdGlvbkNhbGxiYWNrcztcbiAgfSAvLyBDeWNsaWMgY29uc3RydWN0aW9uLiBUaGlzIGNoZWF0cyB0aGUgdHlwZSBzeXN0ZW0gcmlnaHQgbm93IGJlY2F1c2VcbiAgLy8gc3RhdGVOb2RlIGlzIGFueS5cblxuXG4gIHZhciB1bmluaXRpYWxpemVkRmliZXIgPSBjcmVhdGVIb3N0Um9vdEZpYmVyKHRhZyk7XG4gIHJvb3QuY3VycmVudCA9IHVuaW5pdGlhbGl6ZWRGaWJlcjtcbiAgdW5pbml0aWFsaXplZEZpYmVyLnN0YXRlTm9kZSA9IHJvb3Q7XG4gIHJldHVybiByb290O1xufVxuZnVuY3Rpb24gaXNSb290U3VzcGVuZGVkQXRUaW1lKHJvb3QsIGV4cGlyYXRpb25UaW1lKSB7XG4gIHZhciBmaXJzdFN1c3BlbmRlZFRpbWUgPSByb290LmZpcnN0U3VzcGVuZGVkVGltZTtcbiAgdmFyIGxhc3RTdXNwZW5kZWRUaW1lID0gcm9vdC5sYXN0U3VzcGVuZGVkVGltZTtcbiAgcmV0dXJuIGZpcnN0U3VzcGVuZGVkVGltZSAhPT0gTm9Xb3JrICYmIGZpcnN0U3VzcGVuZGVkVGltZSA+PSBleHBpcmF0aW9uVGltZSAmJiBsYXN0U3VzcGVuZGVkVGltZSA8PSBleHBpcmF0aW9uVGltZTtcbn1cbmZ1bmN0aW9uIG1hcmtSb290U3VzcGVuZGVkQXRUaW1lKHJvb3QsIGV4cGlyYXRpb25UaW1lKSB7XG4gIHZhciBmaXJzdFN1c3BlbmRlZFRpbWUgPSByb290LmZpcnN0U3VzcGVuZGVkVGltZTtcbiAgdmFyIGxhc3RTdXNwZW5kZWRUaW1lID0gcm9vdC5sYXN0U3VzcGVuZGVkVGltZTtcblxuICBpZiAoZmlyc3RTdXNwZW5kZWRUaW1lIDwgZXhwaXJhdGlvblRpbWUpIHtcbiAgICByb290LmZpcnN0U3VzcGVuZGVkVGltZSA9IGV4cGlyYXRpb25UaW1lO1xuICB9XG5cbiAgaWYgKGxhc3RTdXNwZW5kZWRUaW1lID4gZXhwaXJhdGlvblRpbWUgfHwgZmlyc3RTdXNwZW5kZWRUaW1lID09PSBOb1dvcmspIHtcbiAgICByb290Lmxhc3RTdXNwZW5kZWRUaW1lID0gZXhwaXJhdGlvblRpbWU7XG4gIH1cblxuICBpZiAoZXhwaXJhdGlvblRpbWUgPD0gcm9vdC5sYXN0UGluZ2VkVGltZSkge1xuICAgIHJvb3QubGFzdFBpbmdlZFRpbWUgPSBOb1dvcms7XG4gIH1cblxuICBpZiAoZXhwaXJhdGlvblRpbWUgPD0gcm9vdC5sYXN0RXhwaXJlZFRpbWUpIHtcbiAgICByb290Lmxhc3RFeHBpcmVkVGltZSA9IE5vV29yaztcbiAgfVxufVxuZnVuY3Rpb24gbWFya1Jvb3RVcGRhdGVkQXRUaW1lKHJvb3QsIGV4cGlyYXRpb25UaW1lKSB7XG4gIC8vIFVwZGF0ZSB0aGUgcmFuZ2Ugb2YgcGVuZGluZyB0aW1lc1xuICB2YXIgZmlyc3RQZW5kaW5nVGltZSA9IHJvb3QuZmlyc3RQZW5kaW5nVGltZTtcblxuICBpZiAoZXhwaXJhdGlvblRpbWUgPiBmaXJzdFBlbmRpbmdUaW1lKSB7XG4gICAgcm9vdC5maXJzdFBlbmRpbmdUaW1lID0gZXhwaXJhdGlvblRpbWU7XG4gIH0gLy8gVXBkYXRlIHRoZSByYW5nZSBvZiBzdXNwZW5kZWQgdGltZXMuIFRyZWF0IGV2ZXJ5dGhpbmcgbG93ZXIgcHJpb3JpdHkgb3JcbiAgLy8gZXF1YWwgdG8gdGhpcyB1cGRhdGUgYXMgdW5zdXNwZW5kZWQuXG5cblxuICB2YXIgZmlyc3RTdXNwZW5kZWRUaW1lID0gcm9vdC5maXJzdFN1c3BlbmRlZFRpbWU7XG5cbiAgaWYgKGZpcnN0U3VzcGVuZGVkVGltZSAhPT0gTm9Xb3JrKSB7XG4gICAgaWYgKGV4cGlyYXRpb25UaW1lID49IGZpcnN0U3VzcGVuZGVkVGltZSkge1xuICAgICAgLy8gVGhlIGVudGlyZSBzdXNwZW5kZWQgcmFuZ2UgaXMgbm93IHVuc3VzcGVuZGVkLlxuICAgICAgcm9vdC5maXJzdFN1c3BlbmRlZFRpbWUgPSByb290Lmxhc3RTdXNwZW5kZWRUaW1lID0gcm9vdC5uZXh0S25vd25QZW5kaW5nTGV2ZWwgPSBOb1dvcms7XG4gICAgfSBlbHNlIGlmIChleHBpcmF0aW9uVGltZSA+PSByb290Lmxhc3RTdXNwZW5kZWRUaW1lKSB7XG4gICAgICByb290Lmxhc3RTdXNwZW5kZWRUaW1lID0gZXhwaXJhdGlvblRpbWUgKyAxO1xuICAgIH0gLy8gVGhpcyBpcyBhIHBlbmRpbmcgbGV2ZWwuIENoZWNrIGlmIGl0J3MgaGlnaGVyIHByaW9yaXR5IHRoYW4gdGhlIG5leHRcbiAgICAvLyBrbm93biBwZW5kaW5nIGxldmVsLlxuXG5cbiAgICBpZiAoZXhwaXJhdGlvblRpbWUgPiByb290Lm5leHRLbm93blBlbmRpbmdMZXZlbCkge1xuICAgICAgcm9vdC5uZXh0S25vd25QZW5kaW5nTGV2ZWwgPSBleHBpcmF0aW9uVGltZTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIG1hcmtSb290RmluaXNoZWRBdFRpbWUocm9vdCwgZmluaXNoZWRFeHBpcmF0aW9uVGltZSwgcmVtYWluaW5nRXhwaXJhdGlvblRpbWUpIHtcbiAgLy8gVXBkYXRlIHRoZSByYW5nZSBvZiBwZW5kaW5nIHRpbWVzXG4gIHJvb3QuZmlyc3RQZW5kaW5nVGltZSA9IHJlbWFpbmluZ0V4cGlyYXRpb25UaW1lOyAvLyBVcGRhdGUgdGhlIHJhbmdlIG9mIHN1c3BlbmRlZCB0aW1lcy4gVHJlYXQgZXZlcnl0aGluZyBoaWdoZXIgcHJpb3JpdHkgb3JcbiAgLy8gZXF1YWwgdG8gdGhpcyB1cGRhdGUgYXMgdW5zdXNwZW5kZWQuXG5cbiAgaWYgKGZpbmlzaGVkRXhwaXJhdGlvblRpbWUgPD0gcm9vdC5sYXN0U3VzcGVuZGVkVGltZSkge1xuICAgIC8vIFRoZSBlbnRpcmUgc3VzcGVuZGVkIHJhbmdlIGlzIG5vdyB1bnN1c3BlbmRlZC5cbiAgICByb290LmZpcnN0U3VzcGVuZGVkVGltZSA9IHJvb3QubGFzdFN1c3BlbmRlZFRpbWUgPSByb290Lm5leHRLbm93blBlbmRpbmdMZXZlbCA9IE5vV29yaztcbiAgfSBlbHNlIGlmIChmaW5pc2hlZEV4cGlyYXRpb25UaW1lIDw9IHJvb3QuZmlyc3RTdXNwZW5kZWRUaW1lKSB7XG4gICAgLy8gUGFydCBvZiB0aGUgc3VzcGVuZGVkIHJhbmdlIGlzIG5vdyB1bnN1c3BlbmRlZC4gTmFycm93IHRoZSByYW5nZSB0b1xuICAgIC8vIGluY2x1ZGUgZXZlcnl0aGluZyBiZXR3ZWVuIHRoZSB1bnN1c3BlbmRlZCB0aW1lIChub24taW5jbHVzaXZlKSBhbmQgdGhlXG4gICAgLy8gbGFzdCBzdXNwZW5kZWQgdGltZS5cbiAgICByb290LmZpcnN0U3VzcGVuZGVkVGltZSA9IGZpbmlzaGVkRXhwaXJhdGlvblRpbWUgLSAxO1xuICB9XG5cbiAgaWYgKGZpbmlzaGVkRXhwaXJhdGlvblRpbWUgPD0gcm9vdC5sYXN0UGluZ2VkVGltZSkge1xuICAgIC8vIENsZWFyIHRoZSBwaW5nZWQgdGltZVxuICAgIHJvb3QubGFzdFBpbmdlZFRpbWUgPSBOb1dvcms7XG4gIH1cblxuICBpZiAoZmluaXNoZWRFeHBpcmF0aW9uVGltZSA8PSByb290Lmxhc3RFeHBpcmVkVGltZSkge1xuICAgIC8vIENsZWFyIHRoZSBleHBpcmVkIHRpbWVcbiAgICByb290Lmxhc3RFeHBpcmVkVGltZSA9IE5vV29yaztcbiAgfVxufVxuZnVuY3Rpb24gbWFya1Jvb3RFeHBpcmVkQXRUaW1lKHJvb3QsIGV4cGlyYXRpb25UaW1lKSB7XG4gIHZhciBsYXN0RXhwaXJlZFRpbWUgPSByb290Lmxhc3RFeHBpcmVkVGltZTtcblxuICBpZiAobGFzdEV4cGlyZWRUaW1lID09PSBOb1dvcmsgfHwgbGFzdEV4cGlyZWRUaW1lID4gZXhwaXJhdGlvblRpbWUpIHtcbiAgICByb290Lmxhc3RFeHBpcmVkVGltZSA9IGV4cGlyYXRpb25UaW1lO1xuICB9XG59XG5cbi8vIFRoaXMgbGV0cyB1cyBob29rIGludG8gRmliZXIgdG8gZGVidWcgd2hhdCBpdCdzIGRvaW5nLlxuLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9wdWxsLzgwMzMuXG4vLyBUaGlzIGlzIG5vdCBwYXJ0IG9mIHRoZSBwdWJsaWMgQVBJLCBub3QgZXZlbiBmb3IgUmVhY3QgRGV2VG9vbHMuXG4vLyBZb3UgbWF5IG9ubHkgaW5qZWN0IGEgZGVidWdUb29sIGlmIHlvdSB3b3JrIG9uIFJlYWN0IEZpYmVyIGl0c2VsZi5cbnZhciBSZWFjdEZpYmVySW5zdHJ1bWVudGF0aW9uID0ge1xuICBkZWJ1Z1Rvb2w6IG51bGxcbn07XG52YXIgUmVhY3RGaWJlckluc3RydW1lbnRhdGlvbl8xID0gUmVhY3RGaWJlckluc3RydW1lbnRhdGlvbjtcblxudmFyIGRpZFdhcm5BYm91dE5lc3RlZFVwZGF0ZXM7XG52YXIgZGlkV2FybkFib3V0RmluZE5vZGVJblN0cmljdE1vZGU7XG5cbntcbiAgZGlkV2FybkFib3V0TmVzdGVkVXBkYXRlcyA9IGZhbHNlO1xuICBkaWRXYXJuQWJvdXRGaW5kTm9kZUluU3RyaWN0TW9kZSA9IHt9O1xufVxuXG5mdW5jdGlvbiBnZXRDb250ZXh0Rm9yU3VidHJlZShwYXJlbnRDb21wb25lbnQpIHtcbiAgaWYgKCFwYXJlbnRDb21wb25lbnQpIHtcbiAgICByZXR1cm4gZW1wdHlDb250ZXh0T2JqZWN0O1xuICB9XG5cbiAgdmFyIGZpYmVyID0gZ2V0KHBhcmVudENvbXBvbmVudCk7XG4gIHZhciBwYXJlbnRDb250ZXh0ID0gZmluZEN1cnJlbnRVbm1hc2tlZENvbnRleHQoZmliZXIpO1xuXG4gIGlmIChmaWJlci50YWcgPT09IENsYXNzQ29tcG9uZW50KSB7XG4gICAgdmFyIENvbXBvbmVudCA9IGZpYmVyLnR5cGU7XG5cbiAgICBpZiAoaXNDb250ZXh0UHJvdmlkZXIoQ29tcG9uZW50KSkge1xuICAgICAgcmV0dXJuIHByb2Nlc3NDaGlsZENvbnRleHQoZmliZXIsIENvbXBvbmVudCwgcGFyZW50Q29udGV4dCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHBhcmVudENvbnRleHQ7XG59XG5cbmZ1bmN0aW9uIGZpbmRIb3N0SW5zdGFuY2UoY29tcG9uZW50KSB7XG4gIHZhciBmaWJlciA9IGdldChjb21wb25lbnQpO1xuXG4gIGlmIChmaWJlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKHR5cGVvZiBjb21wb25lbnQucmVuZGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB7XG4gICAgICAgIHtcbiAgICAgICAgICB0aHJvdyBFcnJvcihcIlVuYWJsZSB0byBmaW5kIG5vZGUgb24gYW4gdW5tb3VudGVkIGNvbXBvbmVudC5cIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAge1xuICAgICAgICB7XG4gICAgICAgICAgdGhyb3cgRXJyb3IoXCJBcmd1bWVudCBhcHBlYXJzIHRvIG5vdCBiZSBhIFJlYWN0Q29tcG9uZW50LiBLZXlzOiBcIiArIE9iamVjdC5rZXlzKGNvbXBvbmVudCkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgdmFyIGhvc3RGaWJlciA9IGZpbmRDdXJyZW50SG9zdEZpYmVyKGZpYmVyKTtcblxuICBpZiAoaG9zdEZpYmVyID09PSBudWxsKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gaG9zdEZpYmVyLnN0YXRlTm9kZTtcbn1cblxuZnVuY3Rpb24gZmluZEhvc3RJbnN0YW5jZVdpdGhXYXJuaW5nKGNvbXBvbmVudCwgbWV0aG9kTmFtZSkge1xuICB7XG4gICAgdmFyIGZpYmVyID0gZ2V0KGNvbXBvbmVudCk7XG5cbiAgICBpZiAoZmliZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgaWYgKHR5cGVvZiBjb21wb25lbnQucmVuZGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHtcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcIlVuYWJsZSB0byBmaW5kIG5vZGUgb24gYW4gdW5tb3VudGVkIGNvbXBvbmVudC5cIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB7XG4gICAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJBcmd1bWVudCBhcHBlYXJzIHRvIG5vdCBiZSBhIFJlYWN0Q29tcG9uZW50LiBLZXlzOiBcIiArIE9iamVjdC5rZXlzKGNvbXBvbmVudCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBob3N0RmliZXIgPSBmaW5kQ3VycmVudEhvc3RGaWJlcihmaWJlcik7XG5cbiAgICBpZiAoaG9zdEZpYmVyID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoaG9zdEZpYmVyLm1vZGUgJiBTdHJpY3RNb2RlKSB7XG4gICAgICB2YXIgY29tcG9uZW50TmFtZSA9IGdldENvbXBvbmVudE5hbWUoZmliZXIudHlwZSkgfHwgJ0NvbXBvbmVudCc7XG5cbiAgICAgIGlmICghZGlkV2FybkFib3V0RmluZE5vZGVJblN0cmljdE1vZGVbY29tcG9uZW50TmFtZV0pIHtcbiAgICAgICAgZGlkV2FybkFib3V0RmluZE5vZGVJblN0cmljdE1vZGVbY29tcG9uZW50TmFtZV0gPSB0cnVlO1xuXG4gICAgICAgIGlmIChmaWJlci5tb2RlICYgU3RyaWN0TW9kZSkge1xuICAgICAgICAgIHdhcm5pbmdXaXRob3V0U3RhY2skMShmYWxzZSwgJyVzIGlzIGRlcHJlY2F0ZWQgaW4gU3RyaWN0TW9kZS4gJyArICclcyB3YXMgcGFzc2VkIGFuIGluc3RhbmNlIG9mICVzIHdoaWNoIGlzIGluc2lkZSBTdHJpY3RNb2RlLiAnICsgJ0luc3RlYWQsIGFkZCBhIHJlZiBkaXJlY3RseSB0byB0aGUgZWxlbWVudCB5b3Ugd2FudCB0byByZWZlcmVuY2UuICcgKyAnTGVhcm4gbW9yZSBhYm91dCB1c2luZyByZWZzIHNhZmVseSBoZXJlOiAnICsgJ2h0dHBzOi8vZmIubWUvcmVhY3Qtc3RyaWN0LW1vZGUtZmluZC1ub2RlJXMnLCBtZXRob2ROYW1lLCBtZXRob2ROYW1lLCBjb21wb25lbnROYW1lLCBnZXRTdGFja0J5RmliZXJJbkRldkFuZFByb2QoaG9zdEZpYmVyKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgd2FybmluZ1dpdGhvdXRTdGFjayQxKGZhbHNlLCAnJXMgaXMgZGVwcmVjYXRlZCBpbiBTdHJpY3RNb2RlLiAnICsgJyVzIHdhcyBwYXNzZWQgYW4gaW5zdGFuY2Ugb2YgJXMgd2hpY2ggcmVuZGVycyBTdHJpY3RNb2RlIGNoaWxkcmVuLiAnICsgJ0luc3RlYWQsIGFkZCBhIHJlZiBkaXJlY3RseSB0byB0aGUgZWxlbWVudCB5b3Ugd2FudCB0byByZWZlcmVuY2UuICcgKyAnTGVhcm4gbW9yZSBhYm91dCB1c2luZyByZWZzIHNhZmVseSBoZXJlOiAnICsgJ2h0dHBzOi8vZmIubWUvcmVhY3Qtc3RyaWN0LW1vZGUtZmluZC1ub2RlJXMnLCBtZXRob2ROYW1lLCBtZXRob2ROYW1lLCBjb21wb25lbnROYW1lLCBnZXRTdGFja0J5RmliZXJJbkRldkFuZFByb2QoaG9zdEZpYmVyKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gaG9zdEZpYmVyLnN0YXRlTm9kZTtcbiAgfVxuXG4gIHJldHVybiBmaW5kSG9zdEluc3RhbmNlKGNvbXBvbmVudCk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUNvbnRhaW5lcihjb250YWluZXJJbmZvLCB0YWcsIGh5ZHJhdGUsIGh5ZHJhdGlvbkNhbGxiYWNrcykge1xuICByZXR1cm4gY3JlYXRlRmliZXJSb290KGNvbnRhaW5lckluZm8sIHRhZywgaHlkcmF0ZSwgaHlkcmF0aW9uQ2FsbGJhY2tzKTtcbn1cbmZ1bmN0aW9uIHVwZGF0ZUNvbnRhaW5lcihlbGVtZW50LCBjb250YWluZXIsIHBhcmVudENvbXBvbmVudCwgY2FsbGJhY2spIHtcbiAgdmFyIGN1cnJlbnQkJDEgPSBjb250YWluZXIuY3VycmVudDtcbiAgdmFyIGN1cnJlbnRUaW1lID0gcmVxdWVzdEN1cnJlbnRUaW1lRm9yVXBkYXRlKCk7XG5cbiAge1xuICAgIC8vICRGbG93RXhwZWN0ZWRFcnJvciAtIGplc3QgaXNuJ3QgYSBnbG9iYWwsIGFuZCBpc24ndCByZWNvZ25pemVkIG91dHNpZGUgb2YgdGVzdHNcbiAgICBpZiAoJ3VuZGVmaW5lZCcgIT09IHR5cGVvZiBqZXN0KSB7XG4gICAgICB3YXJuSWZVbm1vY2tlZFNjaGVkdWxlcihjdXJyZW50JCQxKTtcbiAgICAgIHdhcm5JZk5vdFNjb3BlZFdpdGhNYXRjaGluZ0FjdChjdXJyZW50JCQxKTtcbiAgICB9XG4gIH1cblxuICB2YXIgc3VzcGVuc2VDb25maWcgPSByZXF1ZXN0Q3VycmVudFN1c3BlbnNlQ29uZmlnKCk7XG4gIHZhciBleHBpcmF0aW9uVGltZSA9IGNvbXB1dGVFeHBpcmF0aW9uRm9yRmliZXIoY3VycmVudFRpbWUsIGN1cnJlbnQkJDEsIHN1c3BlbnNlQ29uZmlnKTtcblxuICB7XG4gICAgaWYgKFJlYWN0RmliZXJJbnN0cnVtZW50YXRpb25fMS5kZWJ1Z1Rvb2wpIHtcbiAgICAgIGlmIChjdXJyZW50JCQxLmFsdGVybmF0ZSA9PT0gbnVsbCkge1xuICAgICAgICBSZWFjdEZpYmVySW5zdHJ1bWVudGF0aW9uXzEuZGVidWdUb29sLm9uTW91bnRDb250YWluZXIoY29udGFpbmVyKTtcbiAgICAgIH0gZWxzZSBpZiAoZWxlbWVudCA9PT0gbnVsbCkge1xuICAgICAgICBSZWFjdEZpYmVySW5zdHJ1bWVudGF0aW9uXzEuZGVidWdUb29sLm9uVW5tb3VudENvbnRhaW5lcihjb250YWluZXIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgUmVhY3RGaWJlckluc3RydW1lbnRhdGlvbl8xLmRlYnVnVG9vbC5vblVwZGF0ZUNvbnRhaW5lcihjb250YWluZXIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHZhciBjb250ZXh0ID0gZ2V0Q29udGV4dEZvclN1YnRyZWUocGFyZW50Q29tcG9uZW50KTtcblxuICBpZiAoY29udGFpbmVyLmNvbnRleHQgPT09IG51bGwpIHtcbiAgICBjb250YWluZXIuY29udGV4dCA9IGNvbnRleHQ7XG4gIH0gZWxzZSB7XG4gICAgY29udGFpbmVyLnBlbmRpbmdDb250ZXh0ID0gY29udGV4dDtcbiAgfVxuXG4gIHtcbiAgICBpZiAocGhhc2UgPT09ICdyZW5kZXInICYmIGN1cnJlbnQgIT09IG51bGwgJiYgIWRpZFdhcm5BYm91dE5lc3RlZFVwZGF0ZXMpIHtcbiAgICAgIGRpZFdhcm5BYm91dE5lc3RlZFVwZGF0ZXMgPSB0cnVlO1xuICAgICAgd2FybmluZ1dpdGhvdXRTdGFjayQxKGZhbHNlLCAnUmVuZGVyIG1ldGhvZHMgc2hvdWxkIGJlIGEgcHVyZSBmdW5jdGlvbiBvZiBwcm9wcyBhbmQgc3RhdGU7ICcgKyAndHJpZ2dlcmluZyBuZXN0ZWQgY29tcG9uZW50IHVwZGF0ZXMgZnJvbSByZW5kZXIgaXMgbm90IGFsbG93ZWQuICcgKyAnSWYgbmVjZXNzYXJ5LCB0cmlnZ2VyIG5lc3RlZCB1cGRhdGVzIGluIGNvbXBvbmVudERpZFVwZGF0ZS5cXG5cXG4nICsgJ0NoZWNrIHRoZSByZW5kZXIgbWV0aG9kIG9mICVzLicsIGdldENvbXBvbmVudE5hbWUoY3VycmVudC50eXBlKSB8fCAnVW5rbm93bicpO1xuICAgIH1cbiAgfVxuXG4gIHZhciB1cGRhdGUgPSBjcmVhdGVVcGRhdGUoZXhwaXJhdGlvblRpbWUsIHN1c3BlbnNlQ29uZmlnKTsgLy8gQ2F1dGlvbjogUmVhY3QgRGV2VG9vbHMgY3VycmVudGx5IGRlcGVuZHMgb24gdGhpcyBwcm9wZXJ0eVxuICAvLyBiZWluZyBjYWxsZWQgXCJlbGVtZW50XCIuXG5cbiAgdXBkYXRlLnBheWxvYWQgPSB7XG4gICAgZWxlbWVudDogZWxlbWVudFxuICB9O1xuICBjYWxsYmFjayA9IGNhbGxiYWNrID09PSB1bmRlZmluZWQgPyBudWxsIDogY2FsbGJhY2s7XG5cbiAgaWYgKGNhbGxiYWNrICE9PSBudWxsKSB7XG4gICAgISh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpID8gd2FybmluZ1dpdGhvdXRTdGFjayQxKGZhbHNlLCAncmVuZGVyKC4uLik6IEV4cGVjdGVkIHRoZSBsYXN0IG9wdGlvbmFsIGBjYWxsYmFja2AgYXJndW1lbnQgdG8gYmUgYSAnICsgJ2Z1bmN0aW9uLiBJbnN0ZWFkIHJlY2VpdmVkOiAlcy4nLCBjYWxsYmFjaykgOiB2b2lkIDA7XG4gICAgdXBkYXRlLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gIH1cblxuICBlbnF1ZXVlVXBkYXRlKGN1cnJlbnQkJDEsIHVwZGF0ZSk7XG4gIHNjaGVkdWxlV29yayhjdXJyZW50JCQxLCBleHBpcmF0aW9uVGltZSk7XG4gIHJldHVybiBleHBpcmF0aW9uVGltZTtcbn1cbmZ1bmN0aW9uIGdldFB1YmxpY1Jvb3RJbnN0YW5jZShjb250YWluZXIpIHtcbiAgdmFyIGNvbnRhaW5lckZpYmVyID0gY29udGFpbmVyLmN1cnJlbnQ7XG5cbiAgaWYgKCFjb250YWluZXJGaWJlci5jaGlsZCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgc3dpdGNoIChjb250YWluZXJGaWJlci5jaGlsZC50YWcpIHtcbiAgICBjYXNlIEhvc3RDb21wb25lbnQ6XG4gICAgICByZXR1cm4gZ2V0UHVibGljSW5zdGFuY2UoY29udGFpbmVyRmliZXIuY2hpbGQuc3RhdGVOb2RlKTtcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gY29udGFpbmVyRmliZXIuY2hpbGQuc3RhdGVOb2RlO1xuICB9XG59XG5mdW5jdGlvbiBhdHRlbXB0U3luY2hyb25vdXNIeWRyYXRpb24kMShmaWJlcikge1xuICBzd2l0Y2ggKGZpYmVyLnRhZykge1xuICAgIGNhc2UgSG9zdFJvb3Q6XG4gICAgICB2YXIgcm9vdCA9IGZpYmVyLnN0YXRlTm9kZTtcblxuICAgICAgaWYgKHJvb3QuaHlkcmF0ZSkge1xuICAgICAgICAvLyBGbHVzaCB0aGUgZmlyc3Qgc2NoZWR1bGVkIFwidXBkYXRlXCIuXG4gICAgICAgIGZsdXNoUm9vdChyb290LCByb290LmZpcnN0UGVuZGluZ1RpbWUpO1xuICAgICAgfVxuXG4gICAgICBicmVhaztcblxuICAgIGNhc2UgU3VzcGVuc2VDb21wb25lbnQ6XG4gICAgICBmbHVzaFN5bmMoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gc2NoZWR1bGVXb3JrKGZpYmVyLCBTeW5jKTtcbiAgICAgIH0pOyAvLyBJZiB3ZSdyZSBzdGlsbCBibG9ja2VkIGFmdGVyIHRoaXMsIHdlIG5lZWQgdG8gaW5jcmVhc2VcbiAgICAgIC8vIHRoZSBwcmlvcml0eSBvZiBhbnkgcHJvbWlzZXMgcmVzb2x2aW5nIHdpdGhpbiB0aGlzXG4gICAgICAvLyBib3VuZGFyeSBzbyB0aGF0IHRoZXkgbmV4dCBhdHRlbXB0IGFsc28gaGFzIGhpZ2hlciBwcmkuXG5cbiAgICAgIHZhciByZXRyeUV4cFRpbWUgPSBjb21wdXRlSW50ZXJhY3RpdmVFeHBpcmF0aW9uKHJlcXVlc3RDdXJyZW50VGltZUZvclVwZGF0ZSgpKTtcbiAgICAgIG1hcmtSZXRyeVRpbWVJZk5vdEh5ZHJhdGVkKGZpYmVyLCByZXRyeUV4cFRpbWUpO1xuICAgICAgYnJlYWs7XG4gIH1cbn1cblxuZnVuY3Rpb24gbWFya1JldHJ5VGltZUltcGwoZmliZXIsIHJldHJ5VGltZSkge1xuICB2YXIgc3VzcGVuc2VTdGF0ZSA9IGZpYmVyLm1lbW9pemVkU3RhdGU7XG5cbiAgaWYgKHN1c3BlbnNlU3RhdGUgIT09IG51bGwgJiYgc3VzcGVuc2VTdGF0ZS5kZWh5ZHJhdGVkICE9PSBudWxsKSB7XG4gICAgaWYgKHN1c3BlbnNlU3RhdGUucmV0cnlUaW1lIDwgcmV0cnlUaW1lKSB7XG4gICAgICBzdXNwZW5zZVN0YXRlLnJldHJ5VGltZSA9IHJldHJ5VGltZTtcbiAgICB9XG4gIH1cbn0gLy8gSW5jcmVhc2VzIHRoZSBwcmlvcml0eSBvZiB0aGVubmFibGVzIHdoZW4gdGhleSByZXNvbHZlIHdpdGhpbiB0aGlzIGJvdW5kYXJ5LlxuXG5cbmZ1bmN0aW9uIG1hcmtSZXRyeVRpbWVJZk5vdEh5ZHJhdGVkKGZpYmVyLCByZXRyeVRpbWUpIHtcbiAgbWFya1JldHJ5VGltZUltcGwoZmliZXIsIHJldHJ5VGltZSk7XG4gIHZhciBhbHRlcm5hdGUgPSBmaWJlci5hbHRlcm5hdGU7XG5cbiAgaWYgKGFsdGVybmF0ZSkge1xuICAgIG1hcmtSZXRyeVRpbWVJbXBsKGFsdGVybmF0ZSwgcmV0cnlUaW1lKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBhdHRlbXB0VXNlckJsb2NraW5nSHlkcmF0aW9uJDEoZmliZXIpIHtcbiAgaWYgKGZpYmVyLnRhZyAhPT0gU3VzcGVuc2VDb21wb25lbnQpIHtcbiAgICAvLyBXZSBpZ25vcmUgSG9zdFJvb3RzIGhlcmUgYmVjYXVzZSB3ZSBjYW4ndCBpbmNyZWFzZVxuICAgIC8vIHRoZWlyIHByaW9yaXR5IGFuZCB0aGV5IHNob3VsZCBub3Qgc3VzcGVuZCBvbiBJL08sXG4gICAgLy8gc2luY2UgeW91IGhhdmUgdG8gd3JhcCBhbnl0aGluZyB0aGF0IG1pZ2h0IHN1c3BlbmQgaW5cbiAgICAvLyBTdXNwZW5zZS5cbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgZXhwVGltZSA9IGNvbXB1dGVJbnRlcmFjdGl2ZUV4cGlyYXRpb24ocmVxdWVzdEN1cnJlbnRUaW1lRm9yVXBkYXRlKCkpO1xuICBzY2hlZHVsZVdvcmsoZmliZXIsIGV4cFRpbWUpO1xuICBtYXJrUmV0cnlUaW1lSWZOb3RIeWRyYXRlZChmaWJlciwgZXhwVGltZSk7XG59XG5mdW5jdGlvbiBhdHRlbXB0Q29udGludW91c0h5ZHJhdGlvbiQxKGZpYmVyKSB7XG4gIGlmIChmaWJlci50YWcgIT09IFN1c3BlbnNlQ29tcG9uZW50KSB7XG4gICAgLy8gV2UgaWdub3JlIEhvc3RSb290cyBoZXJlIGJlY2F1c2Ugd2UgY2FuJ3QgaW5jcmVhc2VcbiAgICAvLyB0aGVpciBwcmlvcml0eSBhbmQgdGhleSBzaG91bGQgbm90IHN1c3BlbmQgb24gSS9PLFxuICAgIC8vIHNpbmNlIHlvdSBoYXZlIHRvIHdyYXAgYW55dGhpbmcgdGhhdCBtaWdodCBzdXNwZW5kIGluXG4gICAgLy8gU3VzcGVuc2UuXG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGV4cFRpbWUgPSBjb21wdXRlQ29udGludW91c0h5ZHJhdGlvbkV4cGlyYXRpb24ocmVxdWVzdEN1cnJlbnRUaW1lRm9yVXBkYXRlKCkpO1xuICBzY2hlZHVsZVdvcmsoZmliZXIsIGV4cFRpbWUpO1xuICBtYXJrUmV0cnlUaW1lSWZOb3RIeWRyYXRlZChmaWJlciwgZXhwVGltZSk7XG59XG5mdW5jdGlvbiBhdHRlbXB0SHlkcmF0aW9uQXRDdXJyZW50UHJpb3JpdHkkMShmaWJlcikge1xuICBpZiAoZmliZXIudGFnICE9PSBTdXNwZW5zZUNvbXBvbmVudCkge1xuICAgIC8vIFdlIGlnbm9yZSBIb3N0Um9vdHMgaGVyZSBiZWNhdXNlIHdlIGNhbid0IGluY3JlYXNlXG4gICAgLy8gdGhlaXIgcHJpb3JpdHkgb3RoZXIgdGhhbiBzeW5jaHJvbm91c2x5IGZsdXNoIGl0LlxuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBjdXJyZW50VGltZSA9IHJlcXVlc3RDdXJyZW50VGltZUZvclVwZGF0ZSgpO1xuICB2YXIgZXhwVGltZSA9IGNvbXB1dGVFeHBpcmF0aW9uRm9yRmliZXIoY3VycmVudFRpbWUsIGZpYmVyLCBudWxsKTtcbiAgc2NoZWR1bGVXb3JrKGZpYmVyLCBleHBUaW1lKTtcbiAgbWFya1JldHJ5VGltZUlmTm90SHlkcmF0ZWQoZmliZXIsIGV4cFRpbWUpO1xufVxuZnVuY3Rpb24gZmluZEhvc3RJbnN0YW5jZVdpdGhOb1BvcnRhbHMoZmliZXIpIHtcbiAgdmFyIGhvc3RGaWJlciA9IGZpbmRDdXJyZW50SG9zdEZpYmVyV2l0aE5vUG9ydGFscyhmaWJlcik7XG5cbiAgaWYgKGhvc3RGaWJlciA9PT0gbnVsbCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgaWYgKGhvc3RGaWJlci50YWcgPT09IEZ1bmRhbWVudGFsQ29tcG9uZW50KSB7XG4gICAgcmV0dXJuIGhvc3RGaWJlci5zdGF0ZU5vZGUuaW5zdGFuY2U7XG4gIH1cblxuICByZXR1cm4gaG9zdEZpYmVyLnN0YXRlTm9kZTtcbn1cblxudmFyIHNob3VsZFN1c3BlbmRJbXBsID0gZnVuY3Rpb24gKGZpYmVyKSB7XG4gIHJldHVybiBmYWxzZTtcbn07XG5cbmZ1bmN0aW9uIHNob3VsZFN1c3BlbmQoZmliZXIpIHtcbiAgcmV0dXJuIHNob3VsZFN1c3BlbmRJbXBsKGZpYmVyKTtcbn1cbnZhciBvdmVycmlkZUhvb2tTdGF0ZSA9IG51bGw7XG52YXIgb3ZlcnJpZGVQcm9wcyA9IG51bGw7XG52YXIgc2NoZWR1bGVVcGRhdGUgPSBudWxsO1xudmFyIHNldFN1c3BlbnNlSGFuZGxlciA9IG51bGw7XG5cbntcbiAgdmFyIGNvcHlXaXRoU2V0SW1wbCA9IGZ1bmN0aW9uIChvYmosIHBhdGgsIGlkeCwgdmFsdWUpIHtcbiAgICBpZiAoaWR4ID49IHBhdGgubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgdmFyIGtleSA9IHBhdGhbaWR4XTtcbiAgICB2YXIgdXBkYXRlZCA9IEFycmF5LmlzQXJyYXkob2JqKSA/IG9iai5zbGljZSgpIDogX2Fzc2lnbih7fSwgb2JqKTsgLy8gJEZsb3dGaXhNZSBudW1iZXIgb3Igc3RyaW5nIGlzIGZpbmUgaGVyZVxuXG4gICAgdXBkYXRlZFtrZXldID0gY29weVdpdGhTZXRJbXBsKG9ialtrZXldLCBwYXRoLCBpZHggKyAxLCB2YWx1ZSk7XG4gICAgcmV0dXJuIHVwZGF0ZWQ7XG4gIH07XG5cbiAgdmFyIGNvcHlXaXRoU2V0ID0gZnVuY3Rpb24gKG9iaiwgcGF0aCwgdmFsdWUpIHtcbiAgICByZXR1cm4gY29weVdpdGhTZXRJbXBsKG9iaiwgcGF0aCwgMCwgdmFsdWUpO1xuICB9OyAvLyBTdXBwb3J0IERldlRvb2xzIGVkaXRhYmxlIHZhbHVlcyBmb3IgdXNlU3RhdGUgYW5kIHVzZVJlZHVjZXIuXG5cblxuICBvdmVycmlkZUhvb2tTdGF0ZSA9IGZ1bmN0aW9uIChmaWJlciwgaWQsIHBhdGgsIHZhbHVlKSB7XG4gICAgLy8gRm9yIG5vdywgdGhlIFwiaWRcIiBvZiBzdGF0ZWZ1bCBob29rcyBpcyBqdXN0IHRoZSBzdGF0ZWZ1bCBob29rIGluZGV4LlxuICAgIC8vIFRoaXMgbWF5IGNoYW5nZSBpbiB0aGUgZnV0dXJlIHdpdGggZS5nLiBuZXN0ZWQgaG9va3MuXG4gICAgdmFyIGN1cnJlbnRIb29rID0gZmliZXIubWVtb2l6ZWRTdGF0ZTtcblxuICAgIHdoaWxlIChjdXJyZW50SG9vayAhPT0gbnVsbCAmJiBpZCA+IDApIHtcbiAgICAgIGN1cnJlbnRIb29rID0gY3VycmVudEhvb2submV4dDtcbiAgICAgIGlkLS07XG4gICAgfVxuXG4gICAgaWYgKGN1cnJlbnRIb29rICE9PSBudWxsKSB7XG4gICAgICB2YXIgbmV3U3RhdGUgPSBjb3B5V2l0aFNldChjdXJyZW50SG9vay5tZW1vaXplZFN0YXRlLCBwYXRoLCB2YWx1ZSk7XG4gICAgICBjdXJyZW50SG9vay5tZW1vaXplZFN0YXRlID0gbmV3U3RhdGU7XG4gICAgICBjdXJyZW50SG9vay5iYXNlU3RhdGUgPSBuZXdTdGF0ZTsgLy8gV2UgYXJlbid0IGFjdHVhbGx5IGFkZGluZyBhbiB1cGRhdGUgdG8gdGhlIHF1ZXVlLFxuICAgICAgLy8gYmVjYXVzZSB0aGVyZSBpcyBubyB1cGRhdGUgd2UgY2FuIGFkZCBmb3IgdXNlUmVkdWNlciBob29rcyB0aGF0IHdvbid0IHRyaWdnZXIgYW4gZXJyb3IuXG4gICAgICAvLyAoVGhlcmUncyBubyBhcHByb3ByaWF0ZSBhY3Rpb24gdHlwZSBmb3IgRGV2VG9vbHMgb3ZlcnJpZGVzLilcbiAgICAgIC8vIEFzIGEgcmVzdWx0IHRob3VnaCwgUmVhY3Qgd2lsbCBzZWUgdGhlIHNjaGVkdWxlZCB1cGRhdGUgYXMgYSBub29wIGFuZCBiYWlsb3V0LlxuICAgICAgLy8gU2hhbGxvdyBjbG9uaW5nIHByb3BzIHdvcmtzIGFzIGEgd29ya2Fyb3VuZCBmb3Igbm93IHRvIGJ5cGFzcyB0aGUgYmFpbG91dCBjaGVjay5cblxuICAgICAgZmliZXIubWVtb2l6ZWRQcm9wcyA9IF9hc3NpZ24oe30sIGZpYmVyLm1lbW9pemVkUHJvcHMpO1xuICAgICAgc2NoZWR1bGVXb3JrKGZpYmVyLCBTeW5jKTtcbiAgICB9XG4gIH07IC8vIFN1cHBvcnQgRGV2VG9vbHMgcHJvcHMgZm9yIGZ1bmN0aW9uIGNvbXBvbmVudHMsIGZvcndhcmRSZWYsIG1lbW8sIGhvc3QgY29tcG9uZW50cywgZXRjLlxuXG5cbiAgb3ZlcnJpZGVQcm9wcyA9IGZ1bmN0aW9uIChmaWJlciwgcGF0aCwgdmFsdWUpIHtcbiAgICBmaWJlci5wZW5kaW5nUHJvcHMgPSBjb3B5V2l0aFNldChmaWJlci5tZW1vaXplZFByb3BzLCBwYXRoLCB2YWx1ZSk7XG5cbiAgICBpZiAoZmliZXIuYWx0ZXJuYXRlKSB7XG4gICAgICBmaWJlci5hbHRlcm5hdGUucGVuZGluZ1Byb3BzID0gZmliZXIucGVuZGluZ1Byb3BzO1xuICAgIH1cblxuICAgIHNjaGVkdWxlV29yayhmaWJlciwgU3luYyk7XG4gIH07XG5cbiAgc2NoZWR1bGVVcGRhdGUgPSBmdW5jdGlvbiAoZmliZXIpIHtcbiAgICBzY2hlZHVsZVdvcmsoZmliZXIsIFN5bmMpO1xuICB9O1xuXG4gIHNldFN1c3BlbnNlSGFuZGxlciA9IGZ1bmN0aW9uIChuZXdTaG91bGRTdXNwZW5kSW1wbCkge1xuICAgIHNob3VsZFN1c3BlbmRJbXBsID0gbmV3U2hvdWxkU3VzcGVuZEltcGw7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGluamVjdEludG9EZXZUb29scyhkZXZUb29sc0NvbmZpZykge1xuICB2YXIgZmluZEZpYmVyQnlIb3N0SW5zdGFuY2UgPSBkZXZUb29sc0NvbmZpZy5maW5kRmliZXJCeUhvc3RJbnN0YW5jZTtcbiAgdmFyIFJlYWN0Q3VycmVudERpc3BhdGNoZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5SZWFjdEN1cnJlbnREaXNwYXRjaGVyO1xuICByZXR1cm4gaW5qZWN0SW50ZXJuYWxzKF9hc3NpZ24oe30sIGRldlRvb2xzQ29uZmlnLCB7XG4gICAgb3ZlcnJpZGVIb29rU3RhdGU6IG92ZXJyaWRlSG9va1N0YXRlLFxuICAgIG92ZXJyaWRlUHJvcHM6IG92ZXJyaWRlUHJvcHMsXG4gICAgc2V0U3VzcGVuc2VIYW5kbGVyOiBzZXRTdXNwZW5zZUhhbmRsZXIsXG4gICAgc2NoZWR1bGVVcGRhdGU6IHNjaGVkdWxlVXBkYXRlLFxuICAgIGN1cnJlbnREaXNwYXRjaGVyUmVmOiBSZWFjdEN1cnJlbnREaXNwYXRjaGVyLFxuICAgIGZpbmRIb3N0SW5zdGFuY2VCeUZpYmVyOiBmdW5jdGlvbiAoZmliZXIpIHtcbiAgICAgIHZhciBob3N0RmliZXIgPSBmaW5kQ3VycmVudEhvc3RGaWJlcihmaWJlcik7XG5cbiAgICAgIGlmIChob3N0RmliZXIgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBob3N0RmliZXIuc3RhdGVOb2RlO1xuICAgIH0sXG4gICAgZmluZEZpYmVyQnlIb3N0SW5zdGFuY2U6IGZ1bmN0aW9uIChpbnN0YW5jZSkge1xuICAgICAgaWYgKCFmaW5kRmliZXJCeUhvc3RJbnN0YW5jZSkge1xuICAgICAgICAvLyBNaWdodCBub3QgYmUgaW1wbGVtZW50ZWQgYnkgdGhlIHJlbmRlcmVyLlxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZpbmRGaWJlckJ5SG9zdEluc3RhbmNlKGluc3RhbmNlKTtcbiAgICB9LFxuICAgIC8vIFJlYWN0IFJlZnJlc2hcbiAgICBmaW5kSG9zdEluc3RhbmNlc0ZvclJlZnJlc2g6IGZpbmRIb3N0SW5zdGFuY2VzRm9yUmVmcmVzaCxcbiAgICBzY2hlZHVsZVJlZnJlc2g6IHNjaGVkdWxlUmVmcmVzaCxcbiAgICBzY2hlZHVsZVJvb3Q6IHNjaGVkdWxlUm9vdCxcbiAgICBzZXRSZWZyZXNoSGFuZGxlcjogc2V0UmVmcmVzaEhhbmRsZXIsXG4gICAgLy8gRW5hYmxlcyBEZXZUb29scyB0byBhcHBlbmQgb3duZXIgc3RhY2tzIHRvIGVycm9yIG1lc3NhZ2VzIGluIERFViBtb2RlLlxuICAgIGdldEN1cnJlbnRGaWJlcjogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGN1cnJlbnQ7XG4gICAgfVxuICB9KSk7XG59XG5cbi8vIFRoaXMgZmlsZSBpbnRlbnRpb25hbGx5IGRvZXMgKm5vdCogaGF2ZSB0aGUgRmxvdyBhbm5vdGF0aW9uLlxuLy8gRG9uJ3QgYWRkIGl0LiBTZWUgYC4vaW5saW5lLXR5cGVkLmpzYCBmb3IgYW4gZXhwbGFuYXRpb24uXG5cbi8vIFRPRE86IFRoaXMgdHlwZSBpcyBzaGFyZWQgYmV0d2VlbiB0aGUgcmVjb25jaWxlciBhbmQgUmVhY3RET00sIGJ1dCB3aWxsXG4vLyBldmVudHVhbGx5IGJlIGxpZnRlZCBvdXQgdG8gdGhlIHJlbmRlcmVyLlxuZnVuY3Rpb24gUmVhY3RET01Sb290KGNvbnRhaW5lciwgb3B0aW9ucykge1xuICB0aGlzLl9pbnRlcm5hbFJvb3QgPSBjcmVhdGVSb290SW1wbChjb250YWluZXIsIENvbmN1cnJlbnRSb290LCBvcHRpb25zKTtcbn1cblxuZnVuY3Rpb24gUmVhY3RET01CbG9ja2luZ1Jvb3QoY29udGFpbmVyLCB0YWcsIG9wdGlvbnMpIHtcbiAgdGhpcy5faW50ZXJuYWxSb290ID0gY3JlYXRlUm9vdEltcGwoY29udGFpbmVyLCB0YWcsIG9wdGlvbnMpO1xufVxuXG5SZWFjdERPTVJvb3QucHJvdG90eXBlLnJlbmRlciA9IFJlYWN0RE9NQmxvY2tpbmdSb290LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoY2hpbGRyZW4sIGNhbGxiYWNrKSB7XG4gIHZhciByb290ID0gdGhpcy5faW50ZXJuYWxSb290O1xuICB2YXIgY2IgPSBjYWxsYmFjayA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGNhbGxiYWNrO1xuXG4gIHtcbiAgICB3YXJuT25JbnZhbGlkQ2FsbGJhY2soY2IsICdyZW5kZXInKTtcbiAgfVxuXG4gIHVwZGF0ZUNvbnRhaW5lcihjaGlsZHJlbiwgcm9vdCwgbnVsbCwgY2IpO1xufTtcblxuUmVhY3RET01Sb290LnByb3RvdHlwZS51bm1vdW50ID0gUmVhY3RET01CbG9ja2luZ1Jvb3QucHJvdG90eXBlLnVubW91bnQgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgdmFyIHJvb3QgPSB0aGlzLl9pbnRlcm5hbFJvb3Q7XG4gIHZhciBjYiA9IGNhbGxiYWNrID09PSB1bmRlZmluZWQgPyBudWxsIDogY2FsbGJhY2s7XG5cbiAge1xuICAgIHdhcm5PbkludmFsaWRDYWxsYmFjayhjYiwgJ3JlbmRlcicpO1xuICB9XG5cbiAgdmFyIGNvbnRhaW5lciA9IHJvb3QuY29udGFpbmVySW5mbztcbiAgdXBkYXRlQ29udGFpbmVyKG51bGwsIHJvb3QsIG51bGwsIGZ1bmN0aW9uICgpIHtcbiAgICB1bm1hcmtDb250YWluZXJBc1Jvb3QoY29udGFpbmVyKTtcblxuICAgIGlmIChjYiAhPT0gbnVsbCkge1xuICAgICAgY2IoKTtcbiAgICB9XG4gIH0pO1xufTtcblxuZnVuY3Rpb24gY3JlYXRlUm9vdEltcGwoY29udGFpbmVyLCB0YWcsIG9wdGlvbnMpIHtcbiAgLy8gVGFnIGlzIGVpdGhlciBMZWdhY3lSb290IG9yIENvbmN1cnJlbnQgUm9vdFxuICB2YXIgaHlkcmF0ZSA9IG9wdGlvbnMgIT0gbnVsbCAmJiBvcHRpb25zLmh5ZHJhdGUgPT09IHRydWU7XG4gIHZhciBoeWRyYXRpb25DYWxsYmFja3MgPSBvcHRpb25zICE9IG51bGwgJiYgb3B0aW9ucy5oeWRyYXRpb25PcHRpb25zIHx8IG51bGw7XG4gIHZhciByb290ID0gY3JlYXRlQ29udGFpbmVyKGNvbnRhaW5lciwgdGFnLCBoeWRyYXRlLCBoeWRyYXRpb25DYWxsYmFja3MpO1xuICBtYXJrQ29udGFpbmVyQXNSb290KHJvb3QuY3VycmVudCwgY29udGFpbmVyKTtcblxuICBpZiAoaHlkcmF0ZSAmJiB0YWcgIT09IExlZ2FjeVJvb3QpIHtcbiAgICB2YXIgZG9jID0gY29udGFpbmVyLm5vZGVUeXBlID09PSBET0NVTUVOVF9OT0RFID8gY29udGFpbmVyIDogY29udGFpbmVyLm93bmVyRG9jdW1lbnQ7XG4gICAgZWFnZXJseVRyYXBSZXBsYXlhYmxlRXZlbnRzKGRvYyk7XG4gIH1cblxuICByZXR1cm4gcm9vdDtcbn1cblxuZnVuY3Rpb24gY3JlYXRlUm9vdChjb250YWluZXIsIG9wdGlvbnMpIHtcbiAgaWYgKCFpc1ZhbGlkQ29udGFpbmVyKGNvbnRhaW5lcikpIHtcbiAgICB7XG4gICAgICB0aHJvdyBFcnJvcihcImNyZWF0ZVJvb3QoLi4uKTogVGFyZ2V0IGNvbnRhaW5lciBpcyBub3QgYSBET00gZWxlbWVudC5cIik7XG4gICAgfVxuICB9XG5cbiAgd2FybklmUmVhY3RET01Db250YWluZXJJbkRFVihjb250YWluZXIpO1xuICByZXR1cm4gbmV3IFJlYWN0RE9NUm9vdChjb250YWluZXIsIG9wdGlvbnMpO1xufVxuZnVuY3Rpb24gY3JlYXRlQmxvY2tpbmdSb290KGNvbnRhaW5lciwgb3B0aW9ucykge1xuICBpZiAoIWlzVmFsaWRDb250YWluZXIoY29udGFpbmVyKSkge1xuICAgIHtcbiAgICAgIHRocm93IEVycm9yKFwiY3JlYXRlUm9vdCguLi4pOiBUYXJnZXQgY29udGFpbmVyIGlzIG5vdCBhIERPTSBlbGVtZW50LlwiKTtcbiAgICB9XG4gIH1cblxuICB3YXJuSWZSZWFjdERPTUNvbnRhaW5lckluREVWKGNvbnRhaW5lcik7XG4gIHJldHVybiBuZXcgUmVhY3RET01CbG9ja2luZ1Jvb3QoY29udGFpbmVyLCBCbG9ja2luZ1Jvb3QsIG9wdGlvbnMpO1xufVxuZnVuY3Rpb24gY3JlYXRlTGVnYWN5Um9vdChjb250YWluZXIsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIG5ldyBSZWFjdERPTUJsb2NraW5nUm9vdChjb250YWluZXIsIExlZ2FjeVJvb3QsIG9wdGlvbnMpO1xufVxuZnVuY3Rpb24gaXNWYWxpZENvbnRhaW5lcihub2RlKSB7XG4gIHJldHVybiAhIShub2RlICYmIChub2RlLm5vZGVUeXBlID09PSBFTEVNRU5UX05PREUgfHwgbm9kZS5ub2RlVHlwZSA9PT0gRE9DVU1FTlRfTk9ERSB8fCBub2RlLm5vZGVUeXBlID09PSBET0NVTUVOVF9GUkFHTUVOVF9OT0RFIHx8IG5vZGUubm9kZVR5cGUgPT09IENPTU1FTlRfTk9ERSAmJiBub2RlLm5vZGVWYWx1ZSA9PT0gJyByZWFjdC1tb3VudC1wb2ludC11bnN0YWJsZSAnKSk7XG59XG5mdW5jdGlvbiB3YXJuT25JbnZhbGlkQ2FsbGJhY2soY2FsbGJhY2ssIGNhbGxlck5hbWUpIHtcbiAge1xuICAgICEoY2FsbGJhY2sgPT09IG51bGwgfHwgdHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSA/IHdhcm5pbmdXaXRob3V0U3RhY2skMShmYWxzZSwgJyVzKC4uLik6IEV4cGVjdGVkIHRoZSBsYXN0IG9wdGlvbmFsIGBjYWxsYmFja2AgYXJndW1lbnQgdG8gYmUgYSAnICsgJ2Z1bmN0aW9uLiBJbnN0ZWFkIHJlY2VpdmVkOiAlcy4nLCBjYWxsZXJOYW1lLCBjYWxsYmFjaykgOiB2b2lkIDA7XG4gIH1cbn1cblxuZnVuY3Rpb24gd2FybklmUmVhY3RET01Db250YWluZXJJbkRFVihjb250YWluZXIpIHtcbiAge1xuICAgIGlmIChpc0NvbnRhaW5lck1hcmtlZEFzUm9vdChjb250YWluZXIpKSB7XG4gICAgICBpZiAoY29udGFpbmVyLl9yZWFjdFJvb3RDb250YWluZXIpIHtcbiAgICAgICAgd2FybmluZ1dpdGhvdXRTdGFjayQxKGZhbHNlLCAnWW91IGFyZSBjYWxsaW5nIFJlYWN0RE9NLmNyZWF0ZVJvb3QoKSBvbiBhIGNvbnRhaW5lciB0aGF0IHdhcyBwcmV2aW91c2x5ICcgKyAncGFzc2VkIHRvIFJlYWN0RE9NLnJlbmRlcigpLiBUaGlzIGlzIG5vdCBzdXBwb3J0ZWQuJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3YXJuaW5nV2l0aG91dFN0YWNrJDEoZmFsc2UsICdZb3UgYXJlIGNhbGxpbmcgUmVhY3RET00uY3JlYXRlUm9vdCgpIG9uIGEgY29udGFpbmVyIHRoYXQgJyArICdoYXMgYWxyZWFkeSBiZWVuIHBhc3NlZCB0byBjcmVhdGVSb290KCkgYmVmb3JlLiBJbnN0ZWFkLCBjYWxsICcgKyAncm9vdC5yZW5kZXIoKSBvbiB0aGUgZXhpc3Rpbmcgcm9vdCBpbnN0ZWFkIGlmIHlvdSB3YW50IHRvIHVwZGF0ZSBpdC4nKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxudmFyIFJlYWN0Q3VycmVudE93bmVyJDEgPSBSZWFjdFNoYXJlZEludGVybmFscy5SZWFjdEN1cnJlbnRPd25lcjtcbnZhciB0b3BMZXZlbFVwZGF0ZVdhcm5pbmdzO1xudmFyIHdhcm5lZEFib3V0SHlkcmF0ZUFQSSA9IGZhbHNlO1xuXG57XG4gIHRvcExldmVsVXBkYXRlV2FybmluZ3MgPSBmdW5jdGlvbiAoY29udGFpbmVyKSB7XG4gICAgaWYgKGNvbnRhaW5lci5fcmVhY3RSb290Q29udGFpbmVyICYmIGNvbnRhaW5lci5ub2RlVHlwZSAhPT0gQ09NTUVOVF9OT0RFKSB7XG4gICAgICB2YXIgaG9zdEluc3RhbmNlID0gZmluZEhvc3RJbnN0YW5jZVdpdGhOb1BvcnRhbHMoY29udGFpbmVyLl9yZWFjdFJvb3RDb250YWluZXIuX2ludGVybmFsUm9vdC5jdXJyZW50KTtcblxuICAgICAgaWYgKGhvc3RJbnN0YW5jZSkge1xuICAgICAgICAhKGhvc3RJbnN0YW5jZS5wYXJlbnROb2RlID09PSBjb250YWluZXIpID8gd2FybmluZ1dpdGhvdXRTdGFjayQxKGZhbHNlLCAncmVuZGVyKC4uLik6IEl0IGxvb2tzIGxpa2UgdGhlIFJlYWN0LXJlbmRlcmVkIGNvbnRlbnQgb2YgdGhpcyAnICsgJ2NvbnRhaW5lciB3YXMgcmVtb3ZlZCB3aXRob3V0IHVzaW5nIFJlYWN0LiBUaGlzIGlzIG5vdCAnICsgJ3N1cHBvcnRlZCBhbmQgd2lsbCBjYXVzZSBlcnJvcnMuIEluc3RlYWQsIGNhbGwgJyArICdSZWFjdERPTS51bm1vdW50Q29tcG9uZW50QXROb2RlIHRvIGVtcHR5IGEgY29udGFpbmVyLicpIDogdm9pZCAwO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBpc1Jvb3RSZW5kZXJlZEJ5U29tZVJlYWN0ID0gISFjb250YWluZXIuX3JlYWN0Um9vdENvbnRhaW5lcjtcbiAgICB2YXIgcm9vdEVsID0gZ2V0UmVhY3RSb290RWxlbWVudEluQ29udGFpbmVyKGNvbnRhaW5lcik7XG4gICAgdmFyIGhhc05vblJvb3RSZWFjdENoaWxkID0gISEocm9vdEVsICYmIGdldEluc3RhbmNlRnJvbU5vZGUkMShyb290RWwpKTtcbiAgICAhKCFoYXNOb25Sb290UmVhY3RDaGlsZCB8fCBpc1Jvb3RSZW5kZXJlZEJ5U29tZVJlYWN0KSA/IHdhcm5pbmdXaXRob3V0U3RhY2skMShmYWxzZSwgJ3JlbmRlciguLi4pOiBSZXBsYWNpbmcgUmVhY3QtcmVuZGVyZWQgY2hpbGRyZW4gd2l0aCBhIG5ldyByb290ICcgKyAnY29tcG9uZW50LiBJZiB5b3UgaW50ZW5kZWQgdG8gdXBkYXRlIHRoZSBjaGlsZHJlbiBvZiB0aGlzIG5vZGUsICcgKyAneW91IHNob3VsZCBpbnN0ZWFkIGhhdmUgdGhlIGV4aXN0aW5nIGNoaWxkcmVuIHVwZGF0ZSB0aGVpciBzdGF0ZSAnICsgJ2FuZCByZW5kZXIgdGhlIG5ldyBjb21wb25lbnRzIGluc3RlYWQgb2YgY2FsbGluZyBSZWFjdERPTS5yZW5kZXIuJykgOiB2b2lkIDA7XG4gICAgIShjb250YWluZXIubm9kZVR5cGUgIT09IEVMRU1FTlRfTk9ERSB8fCAhY29udGFpbmVyLnRhZ05hbWUgfHwgY29udGFpbmVyLnRhZ05hbWUudG9VcHBlckNhc2UoKSAhPT0gJ0JPRFknKSA/IHdhcm5pbmdXaXRob3V0U3RhY2skMShmYWxzZSwgJ3JlbmRlcigpOiBSZW5kZXJpbmcgY29tcG9uZW50cyBkaXJlY3RseSBpbnRvIGRvY3VtZW50LmJvZHkgaXMgJyArICdkaXNjb3VyYWdlZCwgc2luY2UgaXRzIGNoaWxkcmVuIGFyZSBvZnRlbiBtYW5pcHVsYXRlZCBieSB0aGlyZC1wYXJ0eSAnICsgJ3NjcmlwdHMgYW5kIGJyb3dzZXIgZXh0ZW5zaW9ucy4gVGhpcyBtYXkgbGVhZCB0byBzdWJ0bGUgJyArICdyZWNvbmNpbGlhdGlvbiBpc3N1ZXMuIFRyeSByZW5kZXJpbmcgaW50byBhIGNvbnRhaW5lciBlbGVtZW50IGNyZWF0ZWQgJyArICdmb3IgeW91ciBhcHAuJykgOiB2b2lkIDA7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGdldFJlYWN0Um9vdEVsZW1lbnRJbkNvbnRhaW5lcihjb250YWluZXIpIHtcbiAgaWYgKCFjb250YWluZXIpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGlmIChjb250YWluZXIubm9kZVR5cGUgPT09IERPQ1VNRU5UX05PREUpIHtcbiAgICByZXR1cm4gY29udGFpbmVyLmRvY3VtZW50RWxlbWVudDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gY29udGFpbmVyLmZpcnN0Q2hpbGQ7XG4gIH1cbn1cblxuZnVuY3Rpb24gc2hvdWxkSHlkcmF0ZUR1ZVRvTGVnYWN5SGV1cmlzdGljKGNvbnRhaW5lcikge1xuICB2YXIgcm9vdEVsZW1lbnQgPSBnZXRSZWFjdFJvb3RFbGVtZW50SW5Db250YWluZXIoY29udGFpbmVyKTtcbiAgcmV0dXJuICEhKHJvb3RFbGVtZW50ICYmIHJvb3RFbGVtZW50Lm5vZGVUeXBlID09PSBFTEVNRU5UX05PREUgJiYgcm9vdEVsZW1lbnQuaGFzQXR0cmlidXRlKFJPT1RfQVRUUklCVVRFX05BTUUpKTtcbn1cblxuZnVuY3Rpb24gbGVnYWN5Q3JlYXRlUm9vdEZyb21ET01Db250YWluZXIoY29udGFpbmVyLCBmb3JjZUh5ZHJhdGUpIHtcbiAgdmFyIHNob3VsZEh5ZHJhdGUgPSBmb3JjZUh5ZHJhdGUgfHwgc2hvdWxkSHlkcmF0ZUR1ZVRvTGVnYWN5SGV1cmlzdGljKGNvbnRhaW5lcik7IC8vIEZpcnN0IGNsZWFyIGFueSBleGlzdGluZyBjb250ZW50LlxuXG4gIGlmICghc2hvdWxkSHlkcmF0ZSkge1xuICAgIHZhciB3YXJuZWQgPSBmYWxzZTtcbiAgICB2YXIgcm9vdFNpYmxpbmc7XG5cbiAgICB3aGlsZSAocm9vdFNpYmxpbmcgPSBjb250YWluZXIubGFzdENoaWxkKSB7XG4gICAgICB7XG4gICAgICAgIGlmICghd2FybmVkICYmIHJvb3RTaWJsaW5nLm5vZGVUeXBlID09PSBFTEVNRU5UX05PREUgJiYgcm9vdFNpYmxpbmcuaGFzQXR0cmlidXRlKFJPT1RfQVRUUklCVVRFX05BTUUpKSB7XG4gICAgICAgICAgd2FybmVkID0gdHJ1ZTtcbiAgICAgICAgICB3YXJuaW5nV2l0aG91dFN0YWNrJDEoZmFsc2UsICdyZW5kZXIoKTogVGFyZ2V0IG5vZGUgaGFzIG1hcmt1cCByZW5kZXJlZCBieSBSZWFjdCwgYnV0IHRoZXJlICcgKyAnYXJlIHVucmVsYXRlZCBub2RlcyBhcyB3ZWxsLiBUaGlzIGlzIG1vc3QgY29tbW9ubHkgY2F1c2VkIGJ5ICcgKyAnd2hpdGUtc3BhY2UgaW5zZXJ0ZWQgYXJvdW5kIHNlcnZlci1yZW5kZXJlZCBtYXJrdXAuJyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY29udGFpbmVyLnJlbW92ZUNoaWxkKHJvb3RTaWJsaW5nKTtcbiAgICB9XG4gIH1cblxuICB7XG4gICAgaWYgKHNob3VsZEh5ZHJhdGUgJiYgIWZvcmNlSHlkcmF0ZSAmJiAhd2FybmVkQWJvdXRIeWRyYXRlQVBJKSB7XG4gICAgICB3YXJuZWRBYm91dEh5ZHJhdGVBUEkgPSB0cnVlO1xuICAgICAgbG93UHJpb3JpdHlXYXJuaW5nV2l0aG91dFN0YWNrJDEoZmFsc2UsICdyZW5kZXIoKTogQ2FsbGluZyBSZWFjdERPTS5yZW5kZXIoKSB0byBoeWRyYXRlIHNlcnZlci1yZW5kZXJlZCBtYXJrdXAgJyArICd3aWxsIHN0b3Agd29ya2luZyBpbiBSZWFjdCB2MTcuIFJlcGxhY2UgdGhlIFJlYWN0RE9NLnJlbmRlcigpIGNhbGwgJyArICd3aXRoIFJlYWN0RE9NLmh5ZHJhdGUoKSBpZiB5b3Ugd2FudCBSZWFjdCB0byBhdHRhY2ggdG8gdGhlIHNlcnZlciBIVE1MLicpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBjcmVhdGVMZWdhY3lSb290KGNvbnRhaW5lciwgc2hvdWxkSHlkcmF0ZSA/IHtcbiAgICBoeWRyYXRlOiB0cnVlXG4gIH0gOiB1bmRlZmluZWQpO1xufVxuXG5mdW5jdGlvbiBsZWdhY3lSZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lcihwYXJlbnRDb21wb25lbnQsIGNoaWxkcmVuLCBjb250YWluZXIsIGZvcmNlSHlkcmF0ZSwgY2FsbGJhY2spIHtcbiAge1xuICAgIHRvcExldmVsVXBkYXRlV2FybmluZ3MoY29udGFpbmVyKTtcbiAgICB3YXJuT25JbnZhbGlkQ2FsbGJhY2soY2FsbGJhY2sgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBjYWxsYmFjaywgJ3JlbmRlcicpO1xuICB9IC8vIFRPRE86IFdpdGhvdXQgYGFueWAgdHlwZSwgRmxvdyBzYXlzIFwiUHJvcGVydHkgY2Fubm90IGJlIGFjY2Vzc2VkIG9uIGFueVxuICAvLyBtZW1iZXIgb2YgaW50ZXJzZWN0aW9uIHR5cGUuXCIgV2h5eXl5eXkuXG5cblxuICB2YXIgcm9vdCA9IGNvbnRhaW5lci5fcmVhY3RSb290Q29udGFpbmVyO1xuICB2YXIgZmliZXJSb290O1xuXG4gIGlmICghcm9vdCkge1xuICAgIC8vIEluaXRpYWwgbW91bnRcbiAgICByb290ID0gY29udGFpbmVyLl9yZWFjdFJvb3RDb250YWluZXIgPSBsZWdhY3lDcmVhdGVSb290RnJvbURPTUNvbnRhaW5lcihjb250YWluZXIsIGZvcmNlSHlkcmF0ZSk7XG4gICAgZmliZXJSb290ID0gcm9vdC5faW50ZXJuYWxSb290O1xuXG4gICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdmFyIG9yaWdpbmFsQ2FsbGJhY2sgPSBjYWxsYmFjaztcblxuICAgICAgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBpbnN0YW5jZSA9IGdldFB1YmxpY1Jvb3RJbnN0YW5jZShmaWJlclJvb3QpO1xuICAgICAgICBvcmlnaW5hbENhbGxiYWNrLmNhbGwoaW5zdGFuY2UpO1xuICAgICAgfTtcbiAgICB9IC8vIEluaXRpYWwgbW91bnQgc2hvdWxkIG5vdCBiZSBiYXRjaGVkLlxuXG5cbiAgICB1bmJhdGNoZWRVcGRhdGVzKGZ1bmN0aW9uICgpIHtcbiAgICAgIHVwZGF0ZUNvbnRhaW5lcihjaGlsZHJlbiwgZmliZXJSb290LCBwYXJlbnRDb21wb25lbnQsIGNhbGxiYWNrKTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBmaWJlclJvb3QgPSByb290Ll9pbnRlcm5hbFJvb3Q7XG5cbiAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB2YXIgX29yaWdpbmFsQ2FsbGJhY2sgPSBjYWxsYmFjaztcblxuICAgICAgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBpbnN0YW5jZSA9IGdldFB1YmxpY1Jvb3RJbnN0YW5jZShmaWJlclJvb3QpO1xuXG4gICAgICAgIF9vcmlnaW5hbENhbGxiYWNrLmNhbGwoaW5zdGFuY2UpO1xuICAgICAgfTtcbiAgICB9IC8vIFVwZGF0ZVxuXG5cbiAgICB1cGRhdGVDb250YWluZXIoY2hpbGRyZW4sIGZpYmVyUm9vdCwgcGFyZW50Q29tcG9uZW50LCBjYWxsYmFjayk7XG4gIH1cblxuICByZXR1cm4gZ2V0UHVibGljUm9vdEluc3RhbmNlKGZpYmVyUm9vdCk7XG59XG5cbmZ1bmN0aW9uIGZpbmRET01Ob2RlKGNvbXBvbmVudE9yRWxlbWVudCkge1xuICB7XG4gICAgdmFyIG93bmVyID0gUmVhY3RDdXJyZW50T3duZXIkMS5jdXJyZW50O1xuXG4gICAgaWYgKG93bmVyICE9PSBudWxsICYmIG93bmVyLnN0YXRlTm9kZSAhPT0gbnVsbCkge1xuICAgICAgdmFyIHdhcm5lZEFib3V0UmVmc0luUmVuZGVyID0gb3duZXIuc3RhdGVOb2RlLl93YXJuZWRBYm91dFJlZnNJblJlbmRlcjtcbiAgICAgICF3YXJuZWRBYm91dFJlZnNJblJlbmRlciA/IHdhcm5pbmdXaXRob3V0U3RhY2skMShmYWxzZSwgJyVzIGlzIGFjY2Vzc2luZyBmaW5kRE9NTm9kZSBpbnNpZGUgaXRzIHJlbmRlcigpLiAnICsgJ3JlbmRlcigpIHNob3VsZCBiZSBhIHB1cmUgZnVuY3Rpb24gb2YgcHJvcHMgYW5kIHN0YXRlLiBJdCBzaG91bGQgJyArICduZXZlciBhY2Nlc3Mgc29tZXRoaW5nIHRoYXQgcmVxdWlyZXMgc3RhbGUgZGF0YSBmcm9tIHRoZSBwcmV2aW91cyAnICsgJ3JlbmRlciwgc3VjaCBhcyByZWZzLiBNb3ZlIHRoaXMgbG9naWMgdG8gY29tcG9uZW50RGlkTW91bnQgYW5kICcgKyAnY29tcG9uZW50RGlkVXBkYXRlIGluc3RlYWQuJywgZ2V0Q29tcG9uZW50TmFtZShvd25lci50eXBlKSB8fCAnQSBjb21wb25lbnQnKSA6IHZvaWQgMDtcbiAgICAgIG93bmVyLnN0YXRlTm9kZS5fd2FybmVkQWJvdXRSZWZzSW5SZW5kZXIgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIGlmIChjb21wb25lbnRPckVsZW1lbnQgPT0gbnVsbCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgaWYgKGNvbXBvbmVudE9yRWxlbWVudC5ub2RlVHlwZSA9PT0gRUxFTUVOVF9OT0RFKSB7XG4gICAgcmV0dXJuIGNvbXBvbmVudE9yRWxlbWVudDtcbiAgfVxuXG4gIHtcbiAgICByZXR1cm4gZmluZEhvc3RJbnN0YW5jZVdpdGhXYXJuaW5nKGNvbXBvbmVudE9yRWxlbWVudCwgJ2ZpbmRET01Ob2RlJyk7XG4gIH1cblxuICByZXR1cm4gZmluZEhvc3RJbnN0YW5jZShjb21wb25lbnRPckVsZW1lbnQpO1xufVxuZnVuY3Rpb24gaHlkcmF0ZShlbGVtZW50LCBjb250YWluZXIsIGNhbGxiYWNrKSB7XG4gIGlmICghaXNWYWxpZENvbnRhaW5lcihjb250YWluZXIpKSB7XG4gICAge1xuICAgICAgdGhyb3cgRXJyb3IoXCJUYXJnZXQgY29udGFpbmVyIGlzIG5vdCBhIERPTSBlbGVtZW50LlwiKTtcbiAgICB9XG4gIH1cblxuICB7XG4gICAgdmFyIGlzTW9kZXJuUm9vdCA9IGlzQ29udGFpbmVyTWFya2VkQXNSb290KGNvbnRhaW5lcikgJiYgY29udGFpbmVyLl9yZWFjdFJvb3RDb250YWluZXIgPT09IHVuZGVmaW5lZDtcblxuICAgIGlmIChpc01vZGVyblJvb3QpIHtcbiAgICAgIHdhcm5pbmdXaXRob3V0U3RhY2skMShmYWxzZSwgJ1lvdSBhcmUgY2FsbGluZyBSZWFjdERPTS5oeWRyYXRlKCkgb24gYSBjb250YWluZXIgdGhhdCB3YXMgcHJldmlvdXNseSAnICsgJ3Bhc3NlZCB0byBSZWFjdERPTS5jcmVhdGVSb290KCkuIFRoaXMgaXMgbm90IHN1cHBvcnRlZC4gJyArICdEaWQgeW91IG1lYW4gdG8gY2FsbCBjcmVhdGVSb290KGNvbnRhaW5lciwge2h5ZHJhdGU6IHRydWV9KS5yZW5kZXIoZWxlbWVudCk/Jyk7XG4gICAgfVxuICB9IC8vIFRPRE86IHRocm93IG9yIHdhcm4gaWYgd2UgY291bGRuJ3QgaHlkcmF0ZT9cblxuXG4gIHJldHVybiBsZWdhY3lSZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lcihudWxsLCBlbGVtZW50LCBjb250YWluZXIsIHRydWUsIGNhbGxiYWNrKTtcbn1cbmZ1bmN0aW9uIHJlbmRlcihlbGVtZW50LCBjb250YWluZXIsIGNhbGxiYWNrKSB7XG4gIGlmICghaXNWYWxpZENvbnRhaW5lcihjb250YWluZXIpKSB7XG4gICAge1xuICAgICAgdGhyb3cgRXJyb3IoXCJUYXJnZXQgY29udGFpbmVyIGlzIG5vdCBhIERPTSBlbGVtZW50LlwiKTtcbiAgICB9XG4gIH1cblxuICB7XG4gICAgdmFyIGlzTW9kZXJuUm9vdCA9IGlzQ29udGFpbmVyTWFya2VkQXNSb290KGNvbnRhaW5lcikgJiYgY29udGFpbmVyLl9yZWFjdFJvb3RDb250YWluZXIgPT09IHVuZGVmaW5lZDtcblxuICAgIGlmIChpc01vZGVyblJvb3QpIHtcbiAgICAgIHdhcm5pbmdXaXRob3V0U3RhY2skMShmYWxzZSwgJ1lvdSBhcmUgY2FsbGluZyBSZWFjdERPTS5yZW5kZXIoKSBvbiBhIGNvbnRhaW5lciB0aGF0IHdhcyBwcmV2aW91c2x5ICcgKyAncGFzc2VkIHRvIFJlYWN0RE9NLmNyZWF0ZVJvb3QoKS4gVGhpcyBpcyBub3Qgc3VwcG9ydGVkLiAnICsgJ0RpZCB5b3UgbWVhbiB0byBjYWxsIHJvb3QucmVuZGVyKGVsZW1lbnQpPycpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBsZWdhY3lSZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lcihudWxsLCBlbGVtZW50LCBjb250YWluZXIsIGZhbHNlLCBjYWxsYmFjayk7XG59XG5mdW5jdGlvbiB1bnN0YWJsZV9yZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lcihwYXJlbnRDb21wb25lbnQsIGVsZW1lbnQsIGNvbnRhaW5lck5vZGUsIGNhbGxiYWNrKSB7XG4gIGlmICghaXNWYWxpZENvbnRhaW5lcihjb250YWluZXJOb2RlKSkge1xuICAgIHtcbiAgICAgIHRocm93IEVycm9yKFwiVGFyZ2V0IGNvbnRhaW5lciBpcyBub3QgYSBET00gZWxlbWVudC5cIik7XG4gICAgfVxuICB9XG5cbiAgaWYgKCEocGFyZW50Q29tcG9uZW50ICE9IG51bGwgJiYgaGFzKHBhcmVudENvbXBvbmVudCkpKSB7XG4gICAge1xuICAgICAgdGhyb3cgRXJyb3IoXCJwYXJlbnRDb21wb25lbnQgbXVzdCBiZSBhIHZhbGlkIFJlYWN0IENvbXBvbmVudFwiKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbGVnYWN5UmVuZGVyU3VidHJlZUludG9Db250YWluZXIocGFyZW50Q29tcG9uZW50LCBlbGVtZW50LCBjb250YWluZXJOb2RlLCBmYWxzZSwgY2FsbGJhY2spO1xufVxuZnVuY3Rpb24gdW5tb3VudENvbXBvbmVudEF0Tm9kZShjb250YWluZXIpIHtcbiAgaWYgKCFpc1ZhbGlkQ29udGFpbmVyKGNvbnRhaW5lcikpIHtcbiAgICB7XG4gICAgICB0aHJvdyBFcnJvcihcInVubW91bnRDb21wb25lbnRBdE5vZGUoLi4uKTogVGFyZ2V0IGNvbnRhaW5lciBpcyBub3QgYSBET00gZWxlbWVudC5cIik7XG4gICAgfVxuICB9XG5cbiAge1xuICAgIHZhciBpc01vZGVyblJvb3QgPSBpc0NvbnRhaW5lck1hcmtlZEFzUm9vdChjb250YWluZXIpICYmIGNvbnRhaW5lci5fcmVhY3RSb290Q29udGFpbmVyID09PSB1bmRlZmluZWQ7XG5cbiAgICBpZiAoaXNNb2Rlcm5Sb290KSB7XG4gICAgICB3YXJuaW5nV2l0aG91dFN0YWNrJDEoZmFsc2UsICdZb3UgYXJlIGNhbGxpbmcgUmVhY3RET00udW5tb3VudENvbXBvbmVudEF0Tm9kZSgpIG9uIGEgY29udGFpbmVyIHRoYXQgd2FzIHByZXZpb3VzbHkgJyArICdwYXNzZWQgdG8gUmVhY3RET00uY3JlYXRlUm9vdCgpLiBUaGlzIGlzIG5vdCBzdXBwb3J0ZWQuIERpZCB5b3UgbWVhbiB0byBjYWxsIHJvb3QudW5tb3VudCgpPycpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChjb250YWluZXIuX3JlYWN0Um9vdENvbnRhaW5lcikge1xuICAgIHtcbiAgICAgIHZhciByb290RWwgPSBnZXRSZWFjdFJvb3RFbGVtZW50SW5Db250YWluZXIoY29udGFpbmVyKTtcbiAgICAgIHZhciByZW5kZXJlZEJ5RGlmZmVyZW50UmVhY3QgPSByb290RWwgJiYgIWdldEluc3RhbmNlRnJvbU5vZGUkMShyb290RWwpO1xuICAgICAgISFyZW5kZXJlZEJ5RGlmZmVyZW50UmVhY3QgPyB3YXJuaW5nV2l0aG91dFN0YWNrJDEoZmFsc2UsIFwidW5tb3VudENvbXBvbmVudEF0Tm9kZSgpOiBUaGUgbm9kZSB5b3UncmUgYXR0ZW1wdGluZyB0byB1bm1vdW50IFwiICsgJ3dhcyByZW5kZXJlZCBieSBhbm90aGVyIGNvcHkgb2YgUmVhY3QuJykgOiB2b2lkIDA7XG4gICAgfSAvLyBVbm1vdW50IHNob3VsZCBub3QgYmUgYmF0Y2hlZC5cblxuXG4gICAgdW5iYXRjaGVkVXBkYXRlcyhmdW5jdGlvbiAoKSB7XG4gICAgICBsZWdhY3lSZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lcihudWxsLCBudWxsLCBjb250YWluZXIsIGZhbHNlLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnRhaW5lci5fcmVhY3RSb290Q29udGFpbmVyID0gbnVsbDtcbiAgICAgICAgdW5tYXJrQ29udGFpbmVyQXNSb290KGNvbnRhaW5lcik7XG4gICAgICB9KTtcbiAgICB9KTsgLy8gSWYgeW91IGNhbGwgdW5tb3VudENvbXBvbmVudEF0Tm9kZSB0d2ljZSBpbiBxdWljayBzdWNjZXNzaW9uLCB5b3UnbGxcbiAgICAvLyBnZXQgYHRydWVgIHR3aWNlLiBUaGF0J3MgcHJvYmFibHkgZmluZT9cblxuICAgIHJldHVybiB0cnVlO1xuICB9IGVsc2Uge1xuICAgIHtcbiAgICAgIHZhciBfcm9vdEVsID0gZ2V0UmVhY3RSb290RWxlbWVudEluQ29udGFpbmVyKGNvbnRhaW5lcik7XG5cbiAgICAgIHZhciBoYXNOb25Sb290UmVhY3RDaGlsZCA9ICEhKF9yb290RWwgJiYgZ2V0SW5zdGFuY2VGcm9tTm9kZSQxKF9yb290RWwpKTsgLy8gQ2hlY2sgaWYgdGhlIGNvbnRhaW5lciBpdHNlbGYgaXMgYSBSZWFjdCByb290IG5vZGUuXG5cbiAgICAgIHZhciBpc0NvbnRhaW5lclJlYWN0Um9vdCA9IGNvbnRhaW5lci5ub2RlVHlwZSA9PT0gRUxFTUVOVF9OT0RFICYmIGlzVmFsaWRDb250YWluZXIoY29udGFpbmVyLnBhcmVudE5vZGUpICYmICEhY29udGFpbmVyLnBhcmVudE5vZGUuX3JlYWN0Um9vdENvbnRhaW5lcjtcbiAgICAgICEhaGFzTm9uUm9vdFJlYWN0Q2hpbGQgPyB3YXJuaW5nV2l0aG91dFN0YWNrJDEoZmFsc2UsIFwidW5tb3VudENvbXBvbmVudEF0Tm9kZSgpOiBUaGUgbm9kZSB5b3UncmUgYXR0ZW1wdGluZyB0byB1bm1vdW50IFwiICsgJ3dhcyByZW5kZXJlZCBieSBSZWFjdCBhbmQgaXMgbm90IGEgdG9wLWxldmVsIGNvbnRhaW5lci4gJXMnLCBpc0NvbnRhaW5lclJlYWN0Um9vdCA/ICdZb3UgbWF5IGhhdmUgYWNjaWRlbnRhbGx5IHBhc3NlZCBpbiBhIFJlYWN0IHJvb3Qgbm9kZSBpbnN0ZWFkICcgKyAnb2YgaXRzIGNvbnRhaW5lci4nIDogJ0luc3RlYWQsIGhhdmUgdGhlIHBhcmVudCBjb21wb25lbnQgdXBkYXRlIGl0cyBzdGF0ZSBhbmQgJyArICdyZXJlbmRlciBpbiBvcmRlciB0byByZW1vdmUgdGhpcyBjb21wb25lbnQuJykgOiB2b2lkIDA7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVBvcnRhbCQxKGNoaWxkcmVuLCBjb250YWluZXJJbmZvLCAvLyBUT0RPOiBmaWd1cmUgb3V0IHRoZSBBUEkgZm9yIGNyb3NzLXJlbmRlcmVyIGltcGxlbWVudGF0aW9uLlxuaW1wbGVtZW50YXRpb24pIHtcbiAgdmFyIGtleSA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogbnVsbDtcbiAgcmV0dXJuIHtcbiAgICAvLyBUaGlzIHRhZyBhbGxvdyB1cyB0byB1bmlxdWVseSBpZGVudGlmeSB0aGlzIGFzIGEgUmVhY3QgUG9ydGFsXG4gICAgJCR0eXBlb2Y6IFJFQUNUX1BPUlRBTF9UWVBFLFxuICAgIGtleToga2V5ID09IG51bGwgPyBudWxsIDogJycgKyBrZXksXG4gICAgY2hpbGRyZW46IGNoaWxkcmVuLFxuICAgIGNvbnRhaW5lckluZm86IGNvbnRhaW5lckluZm8sXG4gICAgaW1wbGVtZW50YXRpb246IGltcGxlbWVudGF0aW9uXG4gIH07XG59XG5cbi8vIFRPRE86IHRoaXMgaXMgc3BlY2lhbCBiZWNhdXNlIGl0IGdldHMgaW1wb3J0ZWQgZHVyaW5nIGJ1aWxkLlxuXG52YXIgUmVhY3RWZXJzaW9uID0gJzE2LjEyLjAnO1xuXG5zZXRBdHRlbXB0U3luY2hyb25vdXNIeWRyYXRpb24oYXR0ZW1wdFN5bmNocm9ub3VzSHlkcmF0aW9uJDEpO1xuc2V0QXR0ZW1wdFVzZXJCbG9ja2luZ0h5ZHJhdGlvbihhdHRlbXB0VXNlckJsb2NraW5nSHlkcmF0aW9uJDEpO1xuc2V0QXR0ZW1wdENvbnRpbnVvdXNIeWRyYXRpb24oYXR0ZW1wdENvbnRpbnVvdXNIeWRyYXRpb24kMSk7XG5zZXRBdHRlbXB0SHlkcmF0aW9uQXRDdXJyZW50UHJpb3JpdHkoYXR0ZW1wdEh5ZHJhdGlvbkF0Q3VycmVudFByaW9yaXR5JDEpO1xudmFyIGRpZFdhcm5BYm91dFVuc3RhYmxlQ3JlYXRlUG9ydGFsID0gZmFsc2U7XG5cbntcbiAgaWYgKHR5cGVvZiBNYXAgIT09ICdmdW5jdGlvbicgfHwgLy8gJEZsb3dJc3N1ZSBGbG93IGluY29ycmVjdGx5IHRoaW5rcyBNYXAgaGFzIG5vIHByb3RvdHlwZVxuICBNYXAucHJvdG90eXBlID09IG51bGwgfHwgdHlwZW9mIE1hcC5wcm90b3R5cGUuZm9yRWFjaCAhPT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2YgU2V0ICE9PSAnZnVuY3Rpb24nIHx8IC8vICRGbG93SXNzdWUgRmxvdyBpbmNvcnJlY3RseSB0aGlua3MgU2V0IGhhcyBubyBwcm90b3R5cGVcbiAgU2V0LnByb3RvdHlwZSA9PSBudWxsIHx8IHR5cGVvZiBTZXQucHJvdG90eXBlLmNsZWFyICE9PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiBTZXQucHJvdG90eXBlLmZvckVhY2ggIT09ICdmdW5jdGlvbicpIHtcbiAgICB3YXJuaW5nV2l0aG91dFN0YWNrJDEoZmFsc2UsICdSZWFjdCBkZXBlbmRzIG9uIE1hcCBhbmQgU2V0IGJ1aWx0LWluIHR5cGVzLiBNYWtlIHN1cmUgdGhhdCB5b3UgbG9hZCBhICcgKyAncG9seWZpbGwgaW4gb2xkZXIgYnJvd3NlcnMuIGh0dHBzOi8vZmIubWUvcmVhY3QtcG9seWZpbGxzJyk7XG4gIH1cbn1cblxuc2V0UmVzdG9yZUltcGxlbWVudGF0aW9uKHJlc3RvcmVDb250cm9sbGVkU3RhdGUkJDEpO1xuc2V0QmF0Y2hpbmdJbXBsZW1lbnRhdGlvbihiYXRjaGVkVXBkYXRlcyQxLCBkaXNjcmV0ZVVwZGF0ZXMkMSwgZmx1c2hEaXNjcmV0ZVVwZGF0ZXMsIGJhdGNoZWRFdmVudFVwZGF0ZXMkMSk7XG5cbmZ1bmN0aW9uIGNyZWF0ZVBvcnRhbCQkMShjaGlsZHJlbiwgY29udGFpbmVyKSB7XG4gIHZhciBrZXkgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IG51bGw7XG5cbiAgaWYgKCFpc1ZhbGlkQ29udGFpbmVyKGNvbnRhaW5lcikpIHtcbiAgICB7XG4gICAgICB0aHJvdyBFcnJvcihcIlRhcmdldCBjb250YWluZXIgaXMgbm90IGEgRE9NIGVsZW1lbnQuXCIpO1xuICAgIH1cbiAgfSAvLyBUT0RPOiBwYXNzIFJlYWN0RE9NIHBvcnRhbCBpbXBsZW1lbnRhdGlvbiBhcyB0aGlyZCBhcmd1bWVudFxuXG5cbiAgcmV0dXJuIGNyZWF0ZVBvcnRhbCQxKGNoaWxkcmVuLCBjb250YWluZXIsIG51bGwsIGtleSk7XG59XG5cbnZhciBSZWFjdERPTSA9IHtcbiAgY3JlYXRlUG9ydGFsOiBjcmVhdGVQb3J0YWwkJDEsXG4gIC8vIExlZ2FjeVxuICBmaW5kRE9NTm9kZTogZmluZERPTU5vZGUsXG4gIGh5ZHJhdGU6IGh5ZHJhdGUsXG4gIHJlbmRlcjogcmVuZGVyLFxuICB1bnN0YWJsZV9yZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lcjogdW5zdGFibGVfcmVuZGVyU3VidHJlZUludG9Db250YWluZXIsXG4gIHVubW91bnRDb21wb25lbnRBdE5vZGU6IHVubW91bnRDb21wb25lbnRBdE5vZGUsXG4gIC8vIFRlbXBvcmFyeSBhbGlhcyBzaW5jZSB3ZSBhbHJlYWR5IHNoaXBwZWQgUmVhY3QgMTYgUkMgd2l0aCBpdC5cbiAgLy8gVE9ETzogcmVtb3ZlIGluIFJlYWN0IDE3LlxuICB1bnN0YWJsZV9jcmVhdGVQb3J0YWw6IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIWRpZFdhcm5BYm91dFVuc3RhYmxlQ3JlYXRlUG9ydGFsKSB7XG4gICAgICBkaWRXYXJuQWJvdXRVbnN0YWJsZUNyZWF0ZVBvcnRhbCA9IHRydWU7XG4gICAgICBsb3dQcmlvcml0eVdhcm5pbmdXaXRob3V0U3RhY2skMShmYWxzZSwgJ1RoZSBSZWFjdERPTS51bnN0YWJsZV9jcmVhdGVQb3J0YWwoKSBhbGlhcyBoYXMgYmVlbiBkZXByZWNhdGVkLCAnICsgJ2FuZCB3aWxsIGJlIHJlbW92ZWQgaW4gUmVhY3QgMTcrLiBVcGRhdGUgeW91ciBjb2RlIHRvIHVzZSAnICsgJ1JlYWN0RE9NLmNyZWF0ZVBvcnRhbCgpIGluc3RlYWQuIEl0IGhhcyB0aGUgZXhhY3Qgc2FtZSBBUEksICcgKyAnYnV0IHdpdGhvdXQgdGhlIFwidW5zdGFibGVfXCIgcHJlZml4LicpO1xuICAgIH1cblxuICAgIHJldHVybiBjcmVhdGVQb3J0YWwkJDEuYXBwbHkodm9pZCAwLCBhcmd1bWVudHMpO1xuICB9LFxuICB1bnN0YWJsZV9iYXRjaGVkVXBkYXRlczogYmF0Y2hlZFVwZGF0ZXMkMSxcbiAgZmx1c2hTeW5jOiBmbHVzaFN5bmMsXG4gIF9fU0VDUkVUX0lOVEVSTkFMU19ET19OT1RfVVNFX09SX1lPVV9XSUxMX0JFX0ZJUkVEOiB7XG4gICAgLy8gS2VlcCBpbiBzeW5jIHdpdGggUmVhY3RET01VbnN0YWJsZU5hdGl2ZURlcGVuZGVuY2llcy5qc1xuICAgIC8vIFJlYWN0VGVzdFV0aWxzLmpzLCBhbmQgUmVhY3RUZXN0VXRpbHNBY3QuanMuIFRoaXMgaXMgYW4gYXJyYXkgZm9yIGJldHRlciBtaW5pZmljYXRpb24uXG4gICAgRXZlbnRzOiBbZ2V0SW5zdGFuY2VGcm9tTm9kZSQxLCBnZXROb2RlRnJvbUluc3RhbmNlJDEsIGdldEZpYmVyQ3VycmVudFByb3BzRnJvbU5vZGUkMSwgaW5qZWN0aW9uLmluamVjdEV2ZW50UGx1Z2luc0J5TmFtZSwgZXZlbnROYW1lRGlzcGF0Y2hDb25maWdzLCBhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzLCBhY2N1bXVsYXRlRGlyZWN0RGlzcGF0Y2hlcywgZW5xdWV1ZVN0YXRlUmVzdG9yZSwgcmVzdG9yZVN0YXRlSWZOZWVkZWQsIGRpc3BhdGNoRXZlbnQsIHJ1bkV2ZW50c0luQmF0Y2gsIGZsdXNoUGFzc2l2ZUVmZmVjdHMsIElzVGhpc1JlbmRlcmVyQWN0aW5nXVxuICB9XG59O1xuXG5pZiAoZXhwb3NlQ29uY3VycmVudE1vZGVBUElzKSB7XG4gIFJlYWN0RE9NLmNyZWF0ZVJvb3QgPSBjcmVhdGVSb290O1xuICBSZWFjdERPTS5jcmVhdGVCbG9ja2luZ1Jvb3QgPSBjcmVhdGVCbG9ja2luZ1Jvb3Q7XG4gIFJlYWN0RE9NLnVuc3RhYmxlX2Rpc2NyZXRlVXBkYXRlcyA9IGRpc2NyZXRlVXBkYXRlcyQxO1xuICBSZWFjdERPTS51bnN0YWJsZV9mbHVzaERpc2NyZXRlVXBkYXRlcyA9IGZsdXNoRGlzY3JldGVVcGRhdGVzO1xuICBSZWFjdERPTS51bnN0YWJsZV9mbHVzaENvbnRyb2xsZWQgPSBmbHVzaENvbnRyb2xsZWQ7XG5cbiAgUmVhY3RET00udW5zdGFibGVfc2NoZWR1bGVIeWRyYXRpb24gPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgaWYgKHRhcmdldCkge1xuICAgICAgcXVldWVFeHBsaWNpdEh5ZHJhdGlvblRhcmdldCh0YXJnZXQpO1xuICAgIH1cbiAgfTtcbn1cblxudmFyIGZvdW5kRGV2VG9vbHMgPSBpbmplY3RJbnRvRGV2VG9vbHMoe1xuICBmaW5kRmliZXJCeUhvc3RJbnN0YW5jZTogZ2V0Q2xvc2VzdEluc3RhbmNlRnJvbU5vZGUsXG4gIGJ1bmRsZVR5cGU6IDEsXG4gIHZlcnNpb246IFJlYWN0VmVyc2lvbixcbiAgcmVuZGVyZXJQYWNrYWdlTmFtZTogJ3JlYWN0LWRvbSdcbn0pO1xuXG57XG4gIGlmICghZm91bmREZXZUb29scyAmJiBjYW5Vc2VET00gJiYgd2luZG93LnRvcCA9PT0gd2luZG93LnNlbGYpIHtcbiAgICAvLyBJZiB3ZSdyZSBpbiBDaHJvbWUgb3IgRmlyZWZveCwgcHJvdmlkZSBhIGRvd25sb2FkIGxpbmsgaWYgbm90IGluc3RhbGxlZC5cbiAgICBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdDaHJvbWUnKSA+IC0xICYmIG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignRWRnZScpID09PSAtMSB8fCBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ0ZpcmVmb3gnKSA+IC0xKSB7XG4gICAgICB2YXIgcHJvdG9jb2wgPSB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2w7IC8vIERvbid0IHdhcm4gaW4gZXhvdGljIGNhc2VzIGxpa2UgY2hyb21lLWV4dGVuc2lvbjovLy5cblxuICAgICAgaWYgKC9eKGh0dHBzP3xmaWxlKTokLy50ZXN0KHByb3RvY29sKSkge1xuICAgICAgICBjb25zb2xlLmluZm8oJyVjRG93bmxvYWQgdGhlIFJlYWN0IERldlRvb2xzICcgKyAnZm9yIGEgYmV0dGVyIGRldmVsb3BtZW50IGV4cGVyaWVuY2U6ICcgKyAnaHR0cHM6Ly9mYi5tZS9yZWFjdC1kZXZ0b29scycgKyAocHJvdG9jb2wgPT09ICdmaWxlOicgPyAnXFxuWW91IG1pZ2h0IG5lZWQgdG8gdXNlIGEgbG9jYWwgSFRUUCBzZXJ2ZXIgKGluc3RlYWQgb2YgZmlsZTovLyk6ICcgKyAnaHR0cHM6Ly9mYi5tZS9yZWFjdC1kZXZ0b29scy1mYXEnIDogJycpLCAnZm9udC13ZWlnaHQ6Ym9sZCcpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5cblxudmFyIFJlYWN0RE9NJDIgPSBPYmplY3QuZnJlZXplKHtcblx0ZGVmYXVsdDogUmVhY3RET01cbn0pO1xuXG52YXIgUmVhY3RET00kMyA9ICggUmVhY3RET00kMiAmJiBSZWFjdERPTSApIHx8IFJlYWN0RE9NJDI7XG5cbi8vIFRPRE86IGRlY2lkZSBvbiB0aGUgdG9wLWxldmVsIGV4cG9ydCBmb3JtLlxuLy8gVGhpcyBpcyBoYWNreSBidXQgbWFrZXMgaXQgd29yayB3aXRoIGJvdGggUm9sbHVwIGFuZCBKZXN0LlxuXG5cbnZhciByZWFjdERvbSA9IFJlYWN0RE9NJDMuZGVmYXVsdCB8fCBSZWFjdERPTSQzO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlYWN0RG9tO1xuICB9KSgpO1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBjaGVja0RDRSgpIHtcbiAgLyogZ2xvYmFsIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyAqL1xuICBpZiAoXG4gICAgdHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyA9PT0gJ3VuZGVmaW5lZCcgfHxcbiAgICB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLmNoZWNrRENFICE9PSAnZnVuY3Rpb24nXG4gICkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIC8vIFRoaXMgYnJhbmNoIGlzIHVucmVhY2hhYmxlIGJlY2F1c2UgdGhpcyBmdW5jdGlvbiBpcyBvbmx5IGNhbGxlZFxuICAgIC8vIGluIHByb2R1Y3Rpb24sIGJ1dCB0aGUgY29uZGl0aW9uIGlzIHRydWUgb25seSBpbiBkZXZlbG9wbWVudC5cbiAgICAvLyBUaGVyZWZvcmUgaWYgdGhlIGJyYW5jaCBpcyBzdGlsbCBoZXJlLCBkZWFkIGNvZGUgZWxpbWluYXRpb24gd2Fzbid0XG4gICAgLy8gcHJvcGVybHkgYXBwbGllZC5cbiAgICAvLyBEb24ndCBjaGFuZ2UgdGhlIG1lc3NhZ2UuIFJlYWN0IERldlRvb2xzIHJlbGllcyBvbiBpdC4gQWxzbyBtYWtlIHN1cmVcbiAgICAvLyB0aGlzIG1lc3NhZ2UgZG9lc24ndCBvY2N1ciBlbHNld2hlcmUgaW4gdGhpcyBmdW5jdGlvbiwgb3IgaXQgd2lsbCBjYXVzZVxuICAgIC8vIGEgZmFsc2UgcG9zaXRpdmUuXG4gICAgdGhyb3cgbmV3IEVycm9yKCdeX14nKTtcbiAgfVxuICB0cnkge1xuICAgIC8vIFZlcmlmeSB0aGF0IHRoZSBjb2RlIGFib3ZlIGhhcyBiZWVuIGRlYWQgY29kZSBlbGltaW5hdGVkIChEQ0UnZCkuXG4gICAgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLmNoZWNrRENFKGNoZWNrRENFKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgLy8gRGV2VG9vbHMgc2hvdWxkbid0IGNyYXNoIFJlYWN0LCBubyBtYXR0ZXIgd2hhdC5cbiAgICAvLyBXZSBzaG91bGQgc3RpbGwgcmVwb3J0IGluIGNhc2Ugd2UgYnJlYWsgdGhpcyBjb2RlLlxuICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgfVxufVxuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJykge1xuICAvLyBEQ0UgY2hlY2sgc2hvdWxkIGhhcHBlbiBiZWZvcmUgUmVhY3RET00gYnVuZGxlIGV4ZWN1dGVzIHNvIHRoYXRcbiAgLy8gRGV2VG9vbHMgY2FuIHJlcG9ydCBiYWQgbWluaWZpY2F0aW9uIGR1cmluZyBpbmplY3Rpb24uXG4gIGNoZWNrRENFKCk7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtZG9tLnByb2R1Y3Rpb24ubWluLmpzJyk7XG59IGVsc2Uge1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY2pzL3JlYWN0LWRvbS5kZXZlbG9wbWVudC5qcycpO1xufVxuIiwiLyoqIEBsaWNlbnNlIFJlYWN0IHYxNi4xMi4wXG4gKiByZWFjdC5kZXZlbG9wbWVudC5qc1xuICpcbiAqIENvcHlyaWdodCAoYykgRmFjZWJvb2ssIEluYy4gYW5kIGl0cyBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuXG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgKGZ1bmN0aW9uKCkge1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgX2Fzc2lnbiA9IHJlcXVpcmUoJ29iamVjdC1hc3NpZ24nKTtcbnZhciBjaGVja1Byb3BUeXBlcyA9IHJlcXVpcmUoJ3Byb3AtdHlwZXMvY2hlY2tQcm9wVHlwZXMnKTtcblxuLy8gVE9ETzogdGhpcyBpcyBzcGVjaWFsIGJlY2F1c2UgaXQgZ2V0cyBpbXBvcnRlZCBkdXJpbmcgYnVpbGQuXG5cbnZhciBSZWFjdFZlcnNpb24gPSAnMTYuMTIuMCc7XG5cbi8vIFRoZSBTeW1ib2wgdXNlZCB0byB0YWcgdGhlIFJlYWN0RWxlbWVudC1saWtlIHR5cGVzLiBJZiB0aGVyZSBpcyBubyBuYXRpdmUgU3ltYm9sXG4vLyBub3IgcG9seWZpbGwsIHRoZW4gYSBwbGFpbiBudW1iZXIgaXMgdXNlZCBmb3IgcGVyZm9ybWFuY2UuXG52YXIgaGFzU3ltYm9sID0gdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBTeW1ib2wuZm9yO1xudmFyIFJFQUNUX0VMRU1FTlRfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LmVsZW1lbnQnKSA6IDB4ZWFjNztcbnZhciBSRUFDVF9QT1JUQUxfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LnBvcnRhbCcpIDogMHhlYWNhO1xudmFyIFJFQUNUX0ZSQUdNRU5UX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5mcmFnbWVudCcpIDogMHhlYWNiO1xudmFyIFJFQUNUX1NUUklDVF9NT0RFX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5zdHJpY3RfbW9kZScpIDogMHhlYWNjO1xudmFyIFJFQUNUX1BST0ZJTEVSX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5wcm9maWxlcicpIDogMHhlYWQyO1xudmFyIFJFQUNUX1BST1ZJREVSX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5wcm92aWRlcicpIDogMHhlYWNkO1xudmFyIFJFQUNUX0NPTlRFWFRfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LmNvbnRleHQnKSA6IDB4ZWFjZTsgLy8gVE9ETzogV2UgZG9uJ3QgdXNlIEFzeW5jTW9kZSBvciBDb25jdXJyZW50TW9kZSBhbnltb3JlLiBUaGV5IHdlcmUgdGVtcG9yYXJ5XG4vLyAodW5zdGFibGUpIEFQSXMgdGhhdCBoYXZlIGJlZW4gcmVtb3ZlZC4gQ2FuIHdlIHJlbW92ZSB0aGUgc3ltYm9scz9cblxuXG52YXIgUkVBQ1RfQ09OQ1VSUkVOVF9NT0RFX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5jb25jdXJyZW50X21vZGUnKSA6IDB4ZWFjZjtcbnZhciBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QuZm9yd2FyZF9yZWYnKSA6IDB4ZWFkMDtcbnZhciBSRUFDVF9TVVNQRU5TRV9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3Quc3VzcGVuc2UnKSA6IDB4ZWFkMTtcbnZhciBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5zdXNwZW5zZV9saXN0JykgOiAweGVhZDg7XG52YXIgUkVBQ1RfTUVNT19UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QubWVtbycpIDogMHhlYWQzO1xudmFyIFJFQUNUX0xBWllfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LmxhenknKSA6IDB4ZWFkNDtcbnZhciBSRUFDVF9GVU5EQU1FTlRBTF9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QuZnVuZGFtZW50YWwnKSA6IDB4ZWFkNTtcbnZhciBSRUFDVF9SRVNQT05ERVJfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LnJlc3BvbmRlcicpIDogMHhlYWQ2O1xudmFyIFJFQUNUX1NDT1BFX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5zY29wZScpIDogMHhlYWQ3O1xudmFyIE1BWUJFX0lURVJBVE9SX1NZTUJPTCA9IHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sLml0ZXJhdG9yO1xudmFyIEZBVVhfSVRFUkFUT1JfU1lNQk9MID0gJ0BAaXRlcmF0b3InO1xuZnVuY3Rpb24gZ2V0SXRlcmF0b3JGbihtYXliZUl0ZXJhYmxlKSB7XG4gIGlmIChtYXliZUl0ZXJhYmxlID09PSBudWxsIHx8IHR5cGVvZiBtYXliZUl0ZXJhYmxlICE9PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgdmFyIG1heWJlSXRlcmF0b3IgPSBNQVlCRV9JVEVSQVRPUl9TWU1CT0wgJiYgbWF5YmVJdGVyYWJsZVtNQVlCRV9JVEVSQVRPUl9TWU1CT0xdIHx8IG1heWJlSXRlcmFibGVbRkFVWF9JVEVSQVRPUl9TWU1CT0xdO1xuXG4gIGlmICh0eXBlb2YgbWF5YmVJdGVyYXRvciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBtYXliZUl0ZXJhdG9yO1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbi8vIERvIG5vdCByZXF1aXJlIHRoaXMgbW9kdWxlIGRpcmVjdGx5ISBVc2Ugbm9ybWFsIGBpbnZhcmlhbnRgIGNhbGxzIHdpdGhcbi8vIHRlbXBsYXRlIGxpdGVyYWwgc3RyaW5ncy4gVGhlIG1lc3NhZ2VzIHdpbGwgYmUgcmVwbGFjZWQgd2l0aCBlcnJvciBjb2Rlc1xuLy8gZHVyaW5nIGJ1aWxkLlxuXG4vKipcbiAqIFVzZSBpbnZhcmlhbnQoKSB0byBhc3NlcnQgc3RhdGUgd2hpY2ggeW91ciBwcm9ncmFtIGFzc3VtZXMgdG8gYmUgdHJ1ZS5cbiAqXG4gKiBQcm92aWRlIHNwcmludGYtc3R5bGUgZm9ybWF0IChvbmx5ICVzIGlzIHN1cHBvcnRlZCkgYW5kIGFyZ3VtZW50c1xuICogdG8gcHJvdmlkZSBpbmZvcm1hdGlvbiBhYm91dCB3aGF0IGJyb2tlIGFuZCB3aGF0IHlvdSB3ZXJlXG4gKiBleHBlY3RpbmcuXG4gKlxuICogVGhlIGludmFyaWFudCBtZXNzYWdlIHdpbGwgYmUgc3RyaXBwZWQgaW4gcHJvZHVjdGlvbiwgYnV0IHRoZSBpbnZhcmlhbnRcbiAqIHdpbGwgcmVtYWluIHRvIGVuc3VyZSBsb2dpYyBkb2VzIG5vdCBkaWZmZXIgaW4gcHJvZHVjdGlvbi5cbiAqL1xuXG4vKipcbiAqIEZvcmtlZCBmcm9tIGZianMvd2FybmluZzpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9mYmpzL2Jsb2IvZTY2YmEyMGFkNWJlNDMzZWI1NDQyM2YyYjA5N2Q4MjkzMjRkOWRlNi9wYWNrYWdlcy9mYmpzL3NyYy9fX2ZvcmtzX18vd2FybmluZy5qc1xuICpcbiAqIE9ubHkgY2hhbmdlIGlzIHdlIHVzZSBjb25zb2xlLndhcm4gaW5zdGVhZCBvZiBjb25zb2xlLmVycm9yLFxuICogYW5kIGRvIG5vdGhpbmcgd2hlbiAnY29uc29sZScgaXMgbm90IHN1cHBvcnRlZC5cbiAqIFRoaXMgcmVhbGx5IHNpbXBsaWZpZXMgdGhlIGNvZGUuXG4gKiAtLS1cbiAqIFNpbWlsYXIgdG8gaW52YXJpYW50IGJ1dCBvbmx5IGxvZ3MgYSB3YXJuaW5nIGlmIHRoZSBjb25kaXRpb24gaXMgbm90IG1ldC5cbiAqIFRoaXMgY2FuIGJlIHVzZWQgdG8gbG9nIGlzc3VlcyBpbiBkZXZlbG9wbWVudCBlbnZpcm9ubWVudHMgaW4gY3JpdGljYWxcbiAqIHBhdGhzLiBSZW1vdmluZyB0aGUgbG9nZ2luZyBjb2RlIGZvciBwcm9kdWN0aW9uIGVudmlyb25tZW50cyB3aWxsIGtlZXAgdGhlXG4gKiBzYW1lIGxvZ2ljIGFuZCBmb2xsb3cgdGhlIHNhbWUgY29kZSBwYXRocy5cbiAqL1xudmFyIGxvd1ByaW9yaXR5V2FybmluZ1dpdGhvdXRTdGFjayA9IGZ1bmN0aW9uICgpIHt9O1xuXG57XG4gIHZhciBwcmludFdhcm5pbmcgPSBmdW5jdGlvbiAoZm9ybWF0KSB7XG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgdmFyIGFyZ0luZGV4ID0gMDtcbiAgICB2YXIgbWVzc2FnZSA9ICdXYXJuaW5nOiAnICsgZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBhcmdzW2FyZ0luZGV4KytdO1xuICAgIH0pO1xuXG4gICAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uc29sZS53YXJuKG1lc3NhZ2UpO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAvLyAtLS0gV2VsY29tZSB0byBkZWJ1Z2dpbmcgUmVhY3QgLS0tXG4gICAgICAvLyBUaGlzIGVycm9yIHdhcyB0aHJvd24gYXMgYSBjb252ZW5pZW5jZSBzbyB0aGF0IHlvdSBjYW4gdXNlIHRoaXMgc3RhY2tcbiAgICAgIC8vIHRvIGZpbmQgdGhlIGNhbGxzaXRlIHRoYXQgY2F1c2VkIHRoaXMgd2FybmluZyB0byBmaXJlLlxuICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgIH0gY2F0Y2ggKHgpIHt9XG4gIH07XG5cbiAgbG93UHJpb3JpdHlXYXJuaW5nV2l0aG91dFN0YWNrID0gZnVuY3Rpb24gKGNvbmRpdGlvbiwgZm9ybWF0KSB7XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2Bsb3dQcmlvcml0eVdhcm5pbmdXaXRob3V0U3RhY2soY29uZGl0aW9uLCBmb3JtYXQsIC4uLmFyZ3MpYCByZXF1aXJlcyBhIHdhcm5pbmcgJyArICdtZXNzYWdlIGFyZ3VtZW50Jyk7XG4gICAgfVxuXG4gICAgaWYgKCFjb25kaXRpb24pIHtcbiAgICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMiA+IDIgPyBfbGVuMiAtIDIgOiAwKSwgX2tleTIgPSAyOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICAgIGFyZ3NbX2tleTIgLSAyXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgICB9XG5cbiAgICAgIHByaW50V2FybmluZy5hcHBseSh2b2lkIDAsIFtmb3JtYXRdLmNvbmNhdChhcmdzKSk7XG4gICAgfVxuICB9O1xufVxuXG52YXIgbG93UHJpb3JpdHlXYXJuaW5nV2l0aG91dFN0YWNrJDEgPSBsb3dQcmlvcml0eVdhcm5pbmdXaXRob3V0U3RhY2s7XG5cbi8qKlxuICogU2ltaWxhciB0byBpbnZhcmlhbnQgYnV0IG9ubHkgbG9ncyBhIHdhcm5pbmcgaWYgdGhlIGNvbmRpdGlvbiBpcyBub3QgbWV0LlxuICogVGhpcyBjYW4gYmUgdXNlZCB0byBsb2cgaXNzdWVzIGluIGRldmVsb3BtZW50IGVudmlyb25tZW50cyBpbiBjcml0aWNhbFxuICogcGF0aHMuIFJlbW92aW5nIHRoZSBsb2dnaW5nIGNvZGUgZm9yIHByb2R1Y3Rpb24gZW52aXJvbm1lbnRzIHdpbGwga2VlcCB0aGVcbiAqIHNhbWUgbG9naWMgYW5kIGZvbGxvdyB0aGUgc2FtZSBjb2RlIHBhdGhzLlxuICovXG52YXIgd2FybmluZ1dpdGhvdXRTdGFjayA9IGZ1bmN0aW9uICgpIHt9O1xuXG57XG4gIHdhcm5pbmdXaXRob3V0U3RhY2sgPSBmdW5jdGlvbiAoY29uZGl0aW9uLCBmb3JtYXQpIHtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuID4gMiA/IF9sZW4gLSAyIDogMCksIF9rZXkgPSAyOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXkgLSAyXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignYHdhcm5pbmdXaXRob3V0U3RhY2soY29uZGl0aW9uLCBmb3JtYXQsIC4uLmFyZ3MpYCByZXF1aXJlcyBhIHdhcm5pbmcgJyArICdtZXNzYWdlIGFyZ3VtZW50Jyk7XG4gICAgfVxuXG4gICAgaWYgKGFyZ3MubGVuZ3RoID4gOCkge1xuICAgICAgLy8gQ2hlY2sgYmVmb3JlIHRoZSBjb25kaXRpb24gdG8gY2F0Y2ggdmlvbGF0aW9ucyBlYXJseS5cbiAgICAgIHRocm93IG5ldyBFcnJvcignd2FybmluZ1dpdGhvdXRTdGFjaygpIGN1cnJlbnRseSBzdXBwb3J0cyBhdCBtb3N0IDggYXJndW1lbnRzLicpO1xuICAgIH1cblxuICAgIGlmIChjb25kaXRpb24pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YXIgYXJnc1dpdGhGb3JtYXQgPSBhcmdzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICByZXR1cm4gJycgKyBpdGVtO1xuICAgICAgfSk7XG4gICAgICBhcmdzV2l0aEZvcm1hdC51bnNoaWZ0KCdXYXJuaW5nOiAnICsgZm9ybWF0KTsgLy8gV2UgaW50ZW50aW9uYWxseSBkb24ndCB1c2Ugc3ByZWFkIChvciAuYXBwbHkpIGRpcmVjdGx5IGJlY2F1c2UgaXRcbiAgICAgIC8vIGJyZWFrcyBJRTk6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvMTM2MTBcblxuICAgICAgRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmNhbGwoY29uc29sZS5lcnJvciwgY29uc29sZSwgYXJnc1dpdGhGb3JtYXQpO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAvLyAtLS0gV2VsY29tZSB0byBkZWJ1Z2dpbmcgUmVhY3QgLS0tXG4gICAgICAvLyBUaGlzIGVycm9yIHdhcyB0aHJvd24gYXMgYSBjb252ZW5pZW5jZSBzbyB0aGF0IHlvdSBjYW4gdXNlIHRoaXMgc3RhY2tcbiAgICAgIC8vIHRvIGZpbmQgdGhlIGNhbGxzaXRlIHRoYXQgY2F1c2VkIHRoaXMgd2FybmluZyB0byBmaXJlLlxuICAgICAgdmFyIGFyZ0luZGV4ID0gMDtcbiAgICAgIHZhciBtZXNzYWdlID0gJ1dhcm5pbmc6ICcgKyBmb3JtYXQucmVwbGFjZSgvJXMvZywgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gYXJnc1thcmdJbmRleCsrXTtcbiAgICAgIH0pO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgIH0gY2F0Y2ggKHgpIHt9XG4gIH07XG59XG5cbnZhciB3YXJuaW5nV2l0aG91dFN0YWNrJDEgPSB3YXJuaW5nV2l0aG91dFN0YWNrO1xuXG52YXIgZGlkV2FyblN0YXRlVXBkYXRlRm9yVW5tb3VudGVkQ29tcG9uZW50ID0ge307XG5cbmZ1bmN0aW9uIHdhcm5Ob29wKHB1YmxpY0luc3RhbmNlLCBjYWxsZXJOYW1lKSB7XG4gIHtcbiAgICB2YXIgX2NvbnN0cnVjdG9yID0gcHVibGljSW5zdGFuY2UuY29uc3RydWN0b3I7XG4gICAgdmFyIGNvbXBvbmVudE5hbWUgPSBfY29uc3RydWN0b3IgJiYgKF9jb25zdHJ1Y3Rvci5kaXNwbGF5TmFtZSB8fCBfY29uc3RydWN0b3IubmFtZSkgfHwgJ1JlYWN0Q2xhc3MnO1xuICAgIHZhciB3YXJuaW5nS2V5ID0gY29tcG9uZW50TmFtZSArIFwiLlwiICsgY2FsbGVyTmFtZTtcblxuICAgIGlmIChkaWRXYXJuU3RhdGVVcGRhdGVGb3JVbm1vdW50ZWRDb21wb25lbnRbd2FybmluZ0tleV0pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB3YXJuaW5nV2l0aG91dFN0YWNrJDEoZmFsc2UsIFwiQ2FuJ3QgY2FsbCAlcyBvbiBhIGNvbXBvbmVudCB0aGF0IGlzIG5vdCB5ZXQgbW91bnRlZC4gXCIgKyAnVGhpcyBpcyBhIG5vLW9wLCBidXQgaXQgbWlnaHQgaW5kaWNhdGUgYSBidWcgaW4geW91ciBhcHBsaWNhdGlvbi4gJyArICdJbnN0ZWFkLCBhc3NpZ24gdG8gYHRoaXMuc3RhdGVgIGRpcmVjdGx5IG9yIGRlZmluZSBhIGBzdGF0ZSA9IHt9O2AgJyArICdjbGFzcyBwcm9wZXJ0eSB3aXRoIHRoZSBkZXNpcmVkIHN0YXRlIGluIHRoZSAlcyBjb21wb25lbnQuJywgY2FsbGVyTmFtZSwgY29tcG9uZW50TmFtZSk7XG4gICAgZGlkV2FyblN0YXRlVXBkYXRlRm9yVW5tb3VudGVkQ29tcG9uZW50W3dhcm5pbmdLZXldID0gdHJ1ZTtcbiAgfVxufVxuLyoqXG4gKiBUaGlzIGlzIHRoZSBhYnN0cmFjdCBBUEkgZm9yIGFuIHVwZGF0ZSBxdWV1ZS5cbiAqL1xuXG5cbnZhciBSZWFjdE5vb3BVcGRhdGVRdWV1ZSA9IHtcbiAgLyoqXG4gICAqIENoZWNrcyB3aGV0aGVyIG9yIG5vdCB0aGlzIGNvbXBvc2l0ZSBjb21wb25lbnQgaXMgbW91bnRlZC5cbiAgICogQHBhcmFtIHtSZWFjdENsYXNzfSBwdWJsaWNJbnN0YW5jZSBUaGUgaW5zdGFuY2Ugd2Ugd2FudCB0byB0ZXN0LlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIG1vdW50ZWQsIGZhbHNlIG90aGVyd2lzZS5cbiAgICogQHByb3RlY3RlZFxuICAgKiBAZmluYWxcbiAgICovXG4gIGlzTW91bnRlZDogZnVuY3Rpb24gKHB1YmxpY0luc3RhbmNlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuXG4gIC8qKlxuICAgKiBGb3JjZXMgYW4gdXBkYXRlLiBUaGlzIHNob3VsZCBvbmx5IGJlIGludm9rZWQgd2hlbiBpdCBpcyBrbm93biB3aXRoXG4gICAqIGNlcnRhaW50eSB0aGF0IHdlIGFyZSAqKm5vdCoqIGluIGEgRE9NIHRyYW5zYWN0aW9uLlxuICAgKlxuICAgKiBZb3UgbWF5IHdhbnQgdG8gY2FsbCB0aGlzIHdoZW4geW91IGtub3cgdGhhdCBzb21lIGRlZXBlciBhc3BlY3Qgb2YgdGhlXG4gICAqIGNvbXBvbmVudCdzIHN0YXRlIGhhcyBjaGFuZ2VkIGJ1dCBgc2V0U3RhdGVgIHdhcyBub3QgY2FsbGVkLlxuICAgKlxuICAgKiBUaGlzIHdpbGwgbm90IGludm9rZSBgc2hvdWxkQ29tcG9uZW50VXBkYXRlYCwgYnV0IGl0IHdpbGwgaW52b2tlXG4gICAqIGBjb21wb25lbnRXaWxsVXBkYXRlYCBhbmQgYGNvbXBvbmVudERpZFVwZGF0ZWAuXG4gICAqXG4gICAqIEBwYXJhbSB7UmVhY3RDbGFzc30gcHVibGljSW5zdGFuY2UgVGhlIGluc3RhbmNlIHRoYXQgc2hvdWxkIHJlcmVuZGVyLlxuICAgKiBAcGFyYW0gez9mdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGVkIGFmdGVyIGNvbXBvbmVudCBpcyB1cGRhdGVkLlxuICAgKiBAcGFyYW0gez9zdHJpbmd9IGNhbGxlck5hbWUgbmFtZSBvZiB0aGUgY2FsbGluZyBmdW5jdGlvbiBpbiB0aGUgcHVibGljIEFQSS5cbiAgICogQGludGVybmFsXG4gICAqL1xuICBlbnF1ZXVlRm9yY2VVcGRhdGU6IGZ1bmN0aW9uIChwdWJsaWNJbnN0YW5jZSwgY2FsbGJhY2ssIGNhbGxlck5hbWUpIHtcbiAgICB3YXJuTm9vcChwdWJsaWNJbnN0YW5jZSwgJ2ZvcmNlVXBkYXRlJyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJlcGxhY2VzIGFsbCBvZiB0aGUgc3RhdGUuIEFsd2F5cyB1c2UgdGhpcyBvciBgc2V0U3RhdGVgIHRvIG11dGF0ZSBzdGF0ZS5cbiAgICogWW91IHNob3VsZCB0cmVhdCBgdGhpcy5zdGF0ZWAgYXMgaW1tdXRhYmxlLlxuICAgKlxuICAgKiBUaGVyZSBpcyBubyBndWFyYW50ZWUgdGhhdCBgdGhpcy5zdGF0ZWAgd2lsbCBiZSBpbW1lZGlhdGVseSB1cGRhdGVkLCBzb1xuICAgKiBhY2Nlc3NpbmcgYHRoaXMuc3RhdGVgIGFmdGVyIGNhbGxpbmcgdGhpcyBtZXRob2QgbWF5IHJldHVybiB0aGUgb2xkIHZhbHVlLlxuICAgKlxuICAgKiBAcGFyYW0ge1JlYWN0Q2xhc3N9IHB1YmxpY0luc3RhbmNlIFRoZSBpbnN0YW5jZSB0aGF0IHNob3VsZCByZXJlbmRlci5cbiAgICogQHBhcmFtIHtvYmplY3R9IGNvbXBsZXRlU3RhdGUgTmV4dCBzdGF0ZS5cbiAgICogQHBhcmFtIHs/ZnVuY3Rpb259IGNhbGxiYWNrIENhbGxlZCBhZnRlciBjb21wb25lbnQgaXMgdXBkYXRlZC5cbiAgICogQHBhcmFtIHs/c3RyaW5nfSBjYWxsZXJOYW1lIG5hbWUgb2YgdGhlIGNhbGxpbmcgZnVuY3Rpb24gaW4gdGhlIHB1YmxpYyBBUEkuXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgZW5xdWV1ZVJlcGxhY2VTdGF0ZTogZnVuY3Rpb24gKHB1YmxpY0luc3RhbmNlLCBjb21wbGV0ZVN0YXRlLCBjYWxsYmFjaywgY2FsbGVyTmFtZSkge1xuICAgIHdhcm5Ob29wKHB1YmxpY0luc3RhbmNlLCAncmVwbGFjZVN0YXRlJyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFNldHMgYSBzdWJzZXQgb2YgdGhlIHN0YXRlLiBUaGlzIG9ubHkgZXhpc3RzIGJlY2F1c2UgX3BlbmRpbmdTdGF0ZSBpc1xuICAgKiBpbnRlcm5hbC4gVGhpcyBwcm92aWRlcyBhIG1lcmdpbmcgc3RyYXRlZ3kgdGhhdCBpcyBub3QgYXZhaWxhYmxlIHRvIGRlZXBcbiAgICogcHJvcGVydGllcyB3aGljaCBpcyBjb25mdXNpbmcuIFRPRE86IEV4cG9zZSBwZW5kaW5nU3RhdGUgb3IgZG9uJ3QgdXNlIGl0XG4gICAqIGR1cmluZyB0aGUgbWVyZ2UuXG4gICAqXG4gICAqIEBwYXJhbSB7UmVhY3RDbGFzc30gcHVibGljSW5zdGFuY2UgVGhlIGluc3RhbmNlIHRoYXQgc2hvdWxkIHJlcmVuZGVyLlxuICAgKiBAcGFyYW0ge29iamVjdH0gcGFydGlhbFN0YXRlIE5leHQgcGFydGlhbCBzdGF0ZSB0byBiZSBtZXJnZWQgd2l0aCBzdGF0ZS5cbiAgICogQHBhcmFtIHs/ZnVuY3Rpb259IGNhbGxiYWNrIENhbGxlZCBhZnRlciBjb21wb25lbnQgaXMgdXBkYXRlZC5cbiAgICogQHBhcmFtIHs/c3RyaW5nfSBOYW1lIG9mIHRoZSBjYWxsaW5nIGZ1bmN0aW9uIGluIHRoZSBwdWJsaWMgQVBJLlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGVucXVldWVTZXRTdGF0ZTogZnVuY3Rpb24gKHB1YmxpY0luc3RhbmNlLCBwYXJ0aWFsU3RhdGUsIGNhbGxiYWNrLCBjYWxsZXJOYW1lKSB7XG4gICAgd2Fybk5vb3AocHVibGljSW5zdGFuY2UsICdzZXRTdGF0ZScpO1xuICB9XG59O1xuXG52YXIgZW1wdHlPYmplY3QgPSB7fTtcblxue1xuICBPYmplY3QuZnJlZXplKGVtcHR5T2JqZWN0KTtcbn1cbi8qKlxuICogQmFzZSBjbGFzcyBoZWxwZXJzIGZvciB0aGUgdXBkYXRpbmcgc3RhdGUgb2YgYSBjb21wb25lbnQuXG4gKi9cblxuXG5mdW5jdGlvbiBDb21wb25lbnQocHJvcHMsIGNvbnRleHQsIHVwZGF0ZXIpIHtcbiAgdGhpcy5wcm9wcyA9IHByb3BzO1xuICB0aGlzLmNvbnRleHQgPSBjb250ZXh0OyAvLyBJZiBhIGNvbXBvbmVudCBoYXMgc3RyaW5nIHJlZnMsIHdlIHdpbGwgYXNzaWduIGEgZGlmZmVyZW50IG9iamVjdCBsYXRlci5cblxuICB0aGlzLnJlZnMgPSBlbXB0eU9iamVjdDsgLy8gV2UgaW5pdGlhbGl6ZSB0aGUgZGVmYXVsdCB1cGRhdGVyIGJ1dCB0aGUgcmVhbCBvbmUgZ2V0cyBpbmplY3RlZCBieSB0aGVcbiAgLy8gcmVuZGVyZXIuXG5cbiAgdGhpcy51cGRhdGVyID0gdXBkYXRlciB8fCBSZWFjdE5vb3BVcGRhdGVRdWV1ZTtcbn1cblxuQ29tcG9uZW50LnByb3RvdHlwZS5pc1JlYWN0Q29tcG9uZW50ID0ge307XG4vKipcbiAqIFNldHMgYSBzdWJzZXQgb2YgdGhlIHN0YXRlLiBBbHdheXMgdXNlIHRoaXMgdG8gbXV0YXRlXG4gKiBzdGF0ZS4gWW91IHNob3VsZCB0cmVhdCBgdGhpcy5zdGF0ZWAgYXMgaW1tdXRhYmxlLlxuICpcbiAqIFRoZXJlIGlzIG5vIGd1YXJhbnRlZSB0aGF0IGB0aGlzLnN0YXRlYCB3aWxsIGJlIGltbWVkaWF0ZWx5IHVwZGF0ZWQsIHNvXG4gKiBhY2Nlc3NpbmcgYHRoaXMuc3RhdGVgIGFmdGVyIGNhbGxpbmcgdGhpcyBtZXRob2QgbWF5IHJldHVybiB0aGUgb2xkIHZhbHVlLlxuICpcbiAqIFRoZXJlIGlzIG5vIGd1YXJhbnRlZSB0aGF0IGNhbGxzIHRvIGBzZXRTdGF0ZWAgd2lsbCBydW4gc3luY2hyb25vdXNseSxcbiAqIGFzIHRoZXkgbWF5IGV2ZW50dWFsbHkgYmUgYmF0Y2hlZCB0b2dldGhlci4gIFlvdSBjYW4gcHJvdmlkZSBhbiBvcHRpb25hbFxuICogY2FsbGJhY2sgdGhhdCB3aWxsIGJlIGV4ZWN1dGVkIHdoZW4gdGhlIGNhbGwgdG8gc2V0U3RhdGUgaXMgYWN0dWFsbHlcbiAqIGNvbXBsZXRlZC5cbiAqXG4gKiBXaGVuIGEgZnVuY3Rpb24gaXMgcHJvdmlkZWQgdG8gc2V0U3RhdGUsIGl0IHdpbGwgYmUgY2FsbGVkIGF0IHNvbWUgcG9pbnQgaW5cbiAqIHRoZSBmdXR1cmUgKG5vdCBzeW5jaHJvbm91c2x5KS4gSXQgd2lsbCBiZSBjYWxsZWQgd2l0aCB0aGUgdXAgdG8gZGF0ZVxuICogY29tcG9uZW50IGFyZ3VtZW50cyAoc3RhdGUsIHByb3BzLCBjb250ZXh0KS4gVGhlc2UgdmFsdWVzIGNhbiBiZSBkaWZmZXJlbnRcbiAqIGZyb20gdGhpcy4qIGJlY2F1c2UgeW91ciBmdW5jdGlvbiBtYXkgYmUgY2FsbGVkIGFmdGVyIHJlY2VpdmVQcm9wcyBidXQgYmVmb3JlXG4gKiBzaG91bGRDb21wb25lbnRVcGRhdGUsIGFuZCB0aGlzIG5ldyBzdGF0ZSwgcHJvcHMsIGFuZCBjb250ZXh0IHdpbGwgbm90IHlldCBiZVxuICogYXNzaWduZWQgdG8gdGhpcy5cbiAqXG4gKiBAcGFyYW0ge29iamVjdHxmdW5jdGlvbn0gcGFydGlhbFN0YXRlIE5leHQgcGFydGlhbCBzdGF0ZSBvciBmdW5jdGlvbiB0b1xuICogICAgICAgIHByb2R1Y2UgbmV4dCBwYXJ0aWFsIHN0YXRlIHRvIGJlIG1lcmdlZCB3aXRoIGN1cnJlbnQgc3RhdGUuXG4gKiBAcGFyYW0gez9mdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGVkIGFmdGVyIHN0YXRlIGlzIHVwZGF0ZWQuXG4gKiBAZmluYWxcbiAqIEBwcm90ZWN0ZWRcbiAqL1xuXG5Db21wb25lbnQucHJvdG90eXBlLnNldFN0YXRlID0gZnVuY3Rpb24gKHBhcnRpYWxTdGF0ZSwgY2FsbGJhY2spIHtcbiAgaWYgKCEodHlwZW9mIHBhcnRpYWxTdGF0ZSA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIHBhcnRpYWxTdGF0ZSA9PT0gJ2Z1bmN0aW9uJyB8fCBwYXJ0aWFsU3RhdGUgPT0gbnVsbCkpIHtcbiAgICB7XG4gICAgICB0aHJvdyBFcnJvcihcInNldFN0YXRlKC4uLik6IHRha2VzIGFuIG9iamVjdCBvZiBzdGF0ZSB2YXJpYWJsZXMgdG8gdXBkYXRlIG9yIGEgZnVuY3Rpb24gd2hpY2ggcmV0dXJucyBhbiBvYmplY3Qgb2Ygc3RhdGUgdmFyaWFibGVzLlwiKTtcbiAgICB9XG4gIH1cblxuICB0aGlzLnVwZGF0ZXIuZW5xdWV1ZVNldFN0YXRlKHRoaXMsIHBhcnRpYWxTdGF0ZSwgY2FsbGJhY2ssICdzZXRTdGF0ZScpO1xufTtcbi8qKlxuICogRm9yY2VzIGFuIHVwZGF0ZS4gVGhpcyBzaG91bGQgb25seSBiZSBpbnZva2VkIHdoZW4gaXQgaXMga25vd24gd2l0aFxuICogY2VydGFpbnR5IHRoYXQgd2UgYXJlICoqbm90KiogaW4gYSBET00gdHJhbnNhY3Rpb24uXG4gKlxuICogWW91IG1heSB3YW50IHRvIGNhbGwgdGhpcyB3aGVuIHlvdSBrbm93IHRoYXQgc29tZSBkZWVwZXIgYXNwZWN0IG9mIHRoZVxuICogY29tcG9uZW50J3Mgc3RhdGUgaGFzIGNoYW5nZWQgYnV0IGBzZXRTdGF0ZWAgd2FzIG5vdCBjYWxsZWQuXG4gKlxuICogVGhpcyB3aWxsIG5vdCBpbnZva2UgYHNob3VsZENvbXBvbmVudFVwZGF0ZWAsIGJ1dCBpdCB3aWxsIGludm9rZVxuICogYGNvbXBvbmVudFdpbGxVcGRhdGVgIGFuZCBgY29tcG9uZW50RGlkVXBkYXRlYC5cbiAqXG4gKiBAcGFyYW0gez9mdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGVkIGFmdGVyIHVwZGF0ZSBpcyBjb21wbGV0ZS5cbiAqIEBmaW5hbFxuICogQHByb3RlY3RlZFxuICovXG5cblxuQ29tcG9uZW50LnByb3RvdHlwZS5mb3JjZVVwZGF0ZSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICB0aGlzLnVwZGF0ZXIuZW5xdWV1ZUZvcmNlVXBkYXRlKHRoaXMsIGNhbGxiYWNrLCAnZm9yY2VVcGRhdGUnKTtcbn07XG4vKipcbiAqIERlcHJlY2F0ZWQgQVBJcy4gVGhlc2UgQVBJcyB1c2VkIHRvIGV4aXN0IG9uIGNsYXNzaWMgUmVhY3QgY2xhc3NlcyBidXQgc2luY2VcbiAqIHdlIHdvdWxkIGxpa2UgdG8gZGVwcmVjYXRlIHRoZW0sIHdlJ3JlIG5vdCBnb2luZyB0byBtb3ZlIHRoZW0gb3ZlciB0byB0aGlzXG4gKiBtb2Rlcm4gYmFzZSBjbGFzcy4gSW5zdGVhZCwgd2UgZGVmaW5lIGEgZ2V0dGVyIHRoYXQgd2FybnMgaWYgaXQncyBhY2Nlc3NlZC5cbiAqL1xuXG5cbntcbiAgdmFyIGRlcHJlY2F0ZWRBUElzID0ge1xuICAgIGlzTW91bnRlZDogWydpc01vdW50ZWQnLCAnSW5zdGVhZCwgbWFrZSBzdXJlIHRvIGNsZWFuIHVwIHN1YnNjcmlwdGlvbnMgYW5kIHBlbmRpbmcgcmVxdWVzdHMgaW4gJyArICdjb21wb25lbnRXaWxsVW5tb3VudCB0byBwcmV2ZW50IG1lbW9yeSBsZWFrcy4nXSxcbiAgICByZXBsYWNlU3RhdGU6IFsncmVwbGFjZVN0YXRlJywgJ1JlZmFjdG9yIHlvdXIgY29kZSB0byB1c2Ugc2V0U3RhdGUgaW5zdGVhZCAoc2VlICcgKyAnaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2lzc3Vlcy8zMjM2KS4nXVxuICB9O1xuXG4gIHZhciBkZWZpbmVEZXByZWNhdGlvbldhcm5pbmcgPSBmdW5jdGlvbiAobWV0aG9kTmFtZSwgaW5mbykge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb21wb25lbnQucHJvdG90eXBlLCBtZXRob2ROYW1lLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbG93UHJpb3JpdHlXYXJuaW5nV2l0aG91dFN0YWNrJDEoZmFsc2UsICclcyguLi4pIGlzIGRlcHJlY2F0ZWQgaW4gcGxhaW4gSmF2YVNjcmlwdCBSZWFjdCBjbGFzc2VzLiAlcycsIGluZm9bMF0sIGluZm9bMV0pO1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIGZvciAodmFyIGZuTmFtZSBpbiBkZXByZWNhdGVkQVBJcykge1xuICAgIGlmIChkZXByZWNhdGVkQVBJcy5oYXNPd25Qcm9wZXJ0eShmbk5hbWUpKSB7XG4gICAgICBkZWZpbmVEZXByZWNhdGlvbldhcm5pbmcoZm5OYW1lLCBkZXByZWNhdGVkQVBJc1tmbk5hbWVdKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gQ29tcG9uZW50RHVtbXkoKSB7fVxuXG5Db21wb25lbnREdW1teS5wcm90b3R5cGUgPSBDb21wb25lbnQucHJvdG90eXBlO1xuLyoqXG4gKiBDb252ZW5pZW5jZSBjb21wb25lbnQgd2l0aCBkZWZhdWx0IHNoYWxsb3cgZXF1YWxpdHkgY2hlY2sgZm9yIHNDVS5cbiAqL1xuXG5mdW5jdGlvbiBQdXJlQ29tcG9uZW50KHByb3BzLCBjb250ZXh0LCB1cGRhdGVyKSB7XG4gIHRoaXMucHJvcHMgPSBwcm9wcztcbiAgdGhpcy5jb250ZXh0ID0gY29udGV4dDsgLy8gSWYgYSBjb21wb25lbnQgaGFzIHN0cmluZyByZWZzLCB3ZSB3aWxsIGFzc2lnbiBhIGRpZmZlcmVudCBvYmplY3QgbGF0ZXIuXG5cbiAgdGhpcy5yZWZzID0gZW1wdHlPYmplY3Q7XG4gIHRoaXMudXBkYXRlciA9IHVwZGF0ZXIgfHwgUmVhY3ROb29wVXBkYXRlUXVldWU7XG59XG5cbnZhciBwdXJlQ29tcG9uZW50UHJvdG90eXBlID0gUHVyZUNvbXBvbmVudC5wcm90b3R5cGUgPSBuZXcgQ29tcG9uZW50RHVtbXkoKTtcbnB1cmVDb21wb25lbnRQcm90b3R5cGUuY29uc3RydWN0b3IgPSBQdXJlQ29tcG9uZW50OyAvLyBBdm9pZCBhbiBleHRyYSBwcm90b3R5cGUganVtcCBmb3IgdGhlc2UgbWV0aG9kcy5cblxuX2Fzc2lnbihwdXJlQ29tcG9uZW50UHJvdG90eXBlLCBDb21wb25lbnQucHJvdG90eXBlKTtcblxucHVyZUNvbXBvbmVudFByb3RvdHlwZS5pc1B1cmVSZWFjdENvbXBvbmVudCA9IHRydWU7XG5cbi8vIGFuIGltbXV0YWJsZSBvYmplY3Qgd2l0aCBhIHNpbmdsZSBtdXRhYmxlIHZhbHVlXG5mdW5jdGlvbiBjcmVhdGVSZWYoKSB7XG4gIHZhciByZWZPYmplY3QgPSB7XG4gICAgY3VycmVudDogbnVsbFxuICB9O1xuXG4gIHtcbiAgICBPYmplY3Quc2VhbChyZWZPYmplY3QpO1xuICB9XG5cbiAgcmV0dXJuIHJlZk9iamVjdDtcbn1cblxuLyoqXG4gKiBLZWVwcyB0cmFjayBvZiB0aGUgY3VycmVudCBkaXNwYXRjaGVyLlxuICovXG52YXIgUmVhY3RDdXJyZW50RGlzcGF0Y2hlciA9IHtcbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKiBAdHlwZSB7UmVhY3RDb21wb25lbnR9XG4gICAqL1xuICBjdXJyZW50OiBudWxsXG59O1xuXG4vKipcbiAqIEtlZXBzIHRyYWNrIG9mIHRoZSBjdXJyZW50IGJhdGNoJ3MgY29uZmlndXJhdGlvbiBzdWNoIGFzIGhvdyBsb25nIGFuIHVwZGF0ZVxuICogc2hvdWxkIHN1c3BlbmQgZm9yIGlmIGl0IG5lZWRzIHRvLlxuICovXG52YXIgUmVhY3RDdXJyZW50QmF0Y2hDb25maWcgPSB7XG4gIHN1c3BlbnNlOiBudWxsXG59O1xuXG4vKipcbiAqIEtlZXBzIHRyYWNrIG9mIHRoZSBjdXJyZW50IG93bmVyLlxuICpcbiAqIFRoZSBjdXJyZW50IG93bmVyIGlzIHRoZSBjb21wb25lbnQgd2hvIHNob3VsZCBvd24gYW55IGNvbXBvbmVudHMgdGhhdCBhcmVcbiAqIGN1cnJlbnRseSBiZWluZyBjb25zdHJ1Y3RlZC5cbiAqL1xudmFyIFJlYWN0Q3VycmVudE93bmVyID0ge1xuICAvKipcbiAgICogQGludGVybmFsXG4gICAqIEB0eXBlIHtSZWFjdENvbXBvbmVudH1cbiAgICovXG4gIGN1cnJlbnQ6IG51bGxcbn07XG5cbnZhciBCRUZPUkVfU0xBU0hfUkUgPSAvXiguKilbXFxcXFxcL10vO1xudmFyIGRlc2NyaWJlQ29tcG9uZW50RnJhbWUgPSBmdW5jdGlvbiAobmFtZSwgc291cmNlLCBvd25lck5hbWUpIHtcbiAgdmFyIHNvdXJjZUluZm8gPSAnJztcblxuICBpZiAoc291cmNlKSB7XG4gICAgdmFyIHBhdGggPSBzb3VyY2UuZmlsZU5hbWU7XG4gICAgdmFyIGZpbGVOYW1lID0gcGF0aC5yZXBsYWNlKEJFRk9SRV9TTEFTSF9SRSwgJycpO1xuXG4gICAge1xuICAgICAgLy8gSW4gREVWLCBpbmNsdWRlIGNvZGUgZm9yIGEgY29tbW9uIHNwZWNpYWwgY2FzZTpcbiAgICAgIC8vIHByZWZlciBcImZvbGRlci9pbmRleC5qc1wiIGluc3RlYWQgb2YganVzdCBcImluZGV4LmpzXCIuXG4gICAgICBpZiAoL15pbmRleFxcLi8udGVzdChmaWxlTmFtZSkpIHtcbiAgICAgICAgdmFyIG1hdGNoID0gcGF0aC5tYXRjaChCRUZPUkVfU0xBU0hfUkUpO1xuXG4gICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgIHZhciBwYXRoQmVmb3JlU2xhc2ggPSBtYXRjaFsxXTtcblxuICAgICAgICAgIGlmIChwYXRoQmVmb3JlU2xhc2gpIHtcbiAgICAgICAgICAgIHZhciBmb2xkZXJOYW1lID0gcGF0aEJlZm9yZVNsYXNoLnJlcGxhY2UoQkVGT1JFX1NMQVNIX1JFLCAnJyk7XG4gICAgICAgICAgICBmaWxlTmFtZSA9IGZvbGRlck5hbWUgKyAnLycgKyBmaWxlTmFtZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBzb3VyY2VJbmZvID0gJyAoYXQgJyArIGZpbGVOYW1lICsgJzonICsgc291cmNlLmxpbmVOdW1iZXIgKyAnKSc7XG4gIH0gZWxzZSBpZiAob3duZXJOYW1lKSB7XG4gICAgc291cmNlSW5mbyA9ICcgKGNyZWF0ZWQgYnkgJyArIG93bmVyTmFtZSArICcpJztcbiAgfVxuXG4gIHJldHVybiAnXFxuICAgIGluICcgKyAobmFtZSB8fCAnVW5rbm93bicpICsgc291cmNlSW5mbztcbn07XG5cbnZhciBSZXNvbHZlZCA9IDE7XG5cbmZ1bmN0aW9uIHJlZmluZVJlc29sdmVkTGF6eUNvbXBvbmVudChsYXp5Q29tcG9uZW50KSB7XG4gIHJldHVybiBsYXp5Q29tcG9uZW50Ll9zdGF0dXMgPT09IFJlc29sdmVkID8gbGF6eUNvbXBvbmVudC5fcmVzdWx0IDogbnVsbDtcbn1cblxuZnVuY3Rpb24gZ2V0V3JhcHBlZE5hbWUob3V0ZXJUeXBlLCBpbm5lclR5cGUsIHdyYXBwZXJOYW1lKSB7XG4gIHZhciBmdW5jdGlvbk5hbWUgPSBpbm5lclR5cGUuZGlzcGxheU5hbWUgfHwgaW5uZXJUeXBlLm5hbWUgfHwgJyc7XG4gIHJldHVybiBvdXRlclR5cGUuZGlzcGxheU5hbWUgfHwgKGZ1bmN0aW9uTmFtZSAhPT0gJycgPyB3cmFwcGVyTmFtZSArIFwiKFwiICsgZnVuY3Rpb25OYW1lICsgXCIpXCIgOiB3cmFwcGVyTmFtZSk7XG59XG5cbmZ1bmN0aW9uIGdldENvbXBvbmVudE5hbWUodHlwZSkge1xuICBpZiAodHlwZSA9PSBudWxsKSB7XG4gICAgLy8gSG9zdCByb290LCB0ZXh0IG5vZGUgb3IganVzdCBpbnZhbGlkIHR5cGUuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICB7XG4gICAgaWYgKHR5cGVvZiB0eXBlLnRhZyA9PT0gJ251bWJlcicpIHtcbiAgICAgIHdhcm5pbmdXaXRob3V0U3RhY2skMShmYWxzZSwgJ1JlY2VpdmVkIGFuIHVuZXhwZWN0ZWQgb2JqZWN0IGluIGdldENvbXBvbmVudE5hbWUoKS4gJyArICdUaGlzIGlzIGxpa2VseSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJyk7XG4gICAgfVxuICB9XG5cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIHR5cGUuZGlzcGxheU5hbWUgfHwgdHlwZS5uYW1lIHx8IG51bGw7XG4gIH1cblxuICBpZiAodHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHR5cGU7XG4gIH1cblxuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlIFJFQUNUX0ZSQUdNRU5UX1RZUEU6XG4gICAgICByZXR1cm4gJ0ZyYWdtZW50JztcblxuICAgIGNhc2UgUkVBQ1RfUE9SVEFMX1RZUEU6XG4gICAgICByZXR1cm4gJ1BvcnRhbCc7XG5cbiAgICBjYXNlIFJFQUNUX1BST0ZJTEVSX1RZUEU6XG4gICAgICByZXR1cm4gXCJQcm9maWxlclwiO1xuXG4gICAgY2FzZSBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFOlxuICAgICAgcmV0dXJuICdTdHJpY3RNb2RlJztcblxuICAgIGNhc2UgUkVBQ1RfU1VTUEVOU0VfVFlQRTpcbiAgICAgIHJldHVybiAnU3VzcGVuc2UnO1xuXG4gICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEU6XG4gICAgICByZXR1cm4gJ1N1c3BlbnNlTGlzdCc7XG4gIH1cblxuICBpZiAodHlwZW9mIHR5cGUgPT09ICdvYmplY3QnKSB7XG4gICAgc3dpdGNoICh0eXBlLiQkdHlwZW9mKSB7XG4gICAgICBjYXNlIFJFQUNUX0NPTlRFWFRfVFlQRTpcbiAgICAgICAgcmV0dXJuICdDb250ZXh0LkNvbnN1bWVyJztcblxuICAgICAgY2FzZSBSRUFDVF9QUk9WSURFUl9UWVBFOlxuICAgICAgICByZXR1cm4gJ0NvbnRleHQuUHJvdmlkZXInO1xuXG4gICAgICBjYXNlIFJFQUNUX0ZPUldBUkRfUkVGX1RZUEU6XG4gICAgICAgIHJldHVybiBnZXRXcmFwcGVkTmFtZSh0eXBlLCB0eXBlLnJlbmRlciwgJ0ZvcndhcmRSZWYnKTtcblxuICAgICAgY2FzZSBSRUFDVF9NRU1PX1RZUEU6XG4gICAgICAgIHJldHVybiBnZXRDb21wb25lbnROYW1lKHR5cGUudHlwZSk7XG5cbiAgICAgIGNhc2UgUkVBQ1RfTEFaWV9UWVBFOlxuICAgICAgICB7XG4gICAgICAgICAgdmFyIHRoZW5hYmxlID0gdHlwZTtcbiAgICAgICAgICB2YXIgcmVzb2x2ZWRUaGVuYWJsZSA9IHJlZmluZVJlc29sdmVkTGF6eUNvbXBvbmVudCh0aGVuYWJsZSk7XG5cbiAgICAgICAgICBpZiAocmVzb2x2ZWRUaGVuYWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuIGdldENvbXBvbmVudE5hbWUocmVzb2x2ZWRUaGVuYWJsZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxudmFyIFJlYWN0RGVidWdDdXJyZW50RnJhbWUgPSB7fTtcbnZhciBjdXJyZW50bHlWYWxpZGF0aW5nRWxlbWVudCA9IG51bGw7XG5mdW5jdGlvbiBzZXRDdXJyZW50bHlWYWxpZGF0aW5nRWxlbWVudChlbGVtZW50KSB7XG4gIHtcbiAgICBjdXJyZW50bHlWYWxpZGF0aW5nRWxlbWVudCA9IGVsZW1lbnQ7XG4gIH1cbn1cblxue1xuICAvLyBTdGFjayBpbXBsZW1lbnRhdGlvbiBpbmplY3RlZCBieSB0aGUgY3VycmVudCByZW5kZXJlci5cbiAgUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZS5nZXRDdXJyZW50U3RhY2sgPSBudWxsO1xuXG4gIFJlYWN0RGVidWdDdXJyZW50RnJhbWUuZ2V0U3RhY2tBZGRlbmR1bSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc3RhY2sgPSAnJzsgLy8gQWRkIGFuIGV4dHJhIHRvcCBmcmFtZSB3aGlsZSBhbiBlbGVtZW50IGlzIGJlaW5nIHZhbGlkYXRlZFxuXG4gICAgaWYgKGN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50KSB7XG4gICAgICB2YXIgbmFtZSA9IGdldENvbXBvbmVudE5hbWUoY3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQudHlwZSk7XG4gICAgICB2YXIgb3duZXIgPSBjdXJyZW50bHlWYWxpZGF0aW5nRWxlbWVudC5fb3duZXI7XG4gICAgICBzdGFjayArPSBkZXNjcmliZUNvbXBvbmVudEZyYW1lKG5hbWUsIGN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50Ll9zb3VyY2UsIG93bmVyICYmIGdldENvbXBvbmVudE5hbWUob3duZXIudHlwZSkpO1xuICAgIH0gLy8gRGVsZWdhdGUgdG8gdGhlIGluamVjdGVkIHJlbmRlcmVyLXNwZWNpZmljIGltcGxlbWVudGF0aW9uXG5cblxuICAgIHZhciBpbXBsID0gUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZS5nZXRDdXJyZW50U3RhY2s7XG5cbiAgICBpZiAoaW1wbCkge1xuICAgICAgc3RhY2sgKz0gaW1wbCgpIHx8ICcnO1xuICAgIH1cblxuICAgIHJldHVybiBzdGFjaztcbiAgfTtcbn1cblxuLyoqXG4gKiBVc2VkIGJ5IGFjdCgpIHRvIHRyYWNrIHdoZXRoZXIgeW91J3JlIGluc2lkZSBhbiBhY3QoKSBzY29wZS5cbiAqL1xudmFyIElzU29tZVJlbmRlcmVyQWN0aW5nID0ge1xuICBjdXJyZW50OiBmYWxzZVxufTtcblxudmFyIFJlYWN0U2hhcmVkSW50ZXJuYWxzID0ge1xuICBSZWFjdEN1cnJlbnREaXNwYXRjaGVyOiBSZWFjdEN1cnJlbnREaXNwYXRjaGVyLFxuICBSZWFjdEN1cnJlbnRCYXRjaENvbmZpZzogUmVhY3RDdXJyZW50QmF0Y2hDb25maWcsXG4gIFJlYWN0Q3VycmVudE93bmVyOiBSZWFjdEN1cnJlbnRPd25lcixcbiAgSXNTb21lUmVuZGVyZXJBY3Rpbmc6IElzU29tZVJlbmRlcmVyQWN0aW5nLFxuICAvLyBVc2VkIGJ5IHJlbmRlcmVycyB0byBhdm9pZCBidW5kbGluZyBvYmplY3QtYXNzaWduIHR3aWNlIGluIFVNRCBidW5kbGVzOlxuICBhc3NpZ246IF9hc3NpZ25cbn07XG5cbntcbiAgX2Fzc2lnbihSZWFjdFNoYXJlZEludGVybmFscywge1xuICAgIC8vIFRoZXNlIHNob3VsZCBub3QgYmUgaW5jbHVkZWQgaW4gcHJvZHVjdGlvbi5cbiAgICBSZWFjdERlYnVnQ3VycmVudEZyYW1lOiBSZWFjdERlYnVnQ3VycmVudEZyYW1lLFxuICAgIC8vIFNoaW0gZm9yIFJlYWN0IERPTSAxNi4wLjAgd2hpY2ggc3RpbGwgZGVzdHJ1Y3R1cmVkIChidXQgbm90IHVzZWQpIHRoaXMuXG4gICAgLy8gVE9ETzogcmVtb3ZlIGluIFJlYWN0IDE3LjAuXG4gICAgUmVhY3RDb21wb25lbnRUcmVlSG9vazoge31cbiAgfSk7XG59XG5cbi8qKlxuICogU2ltaWxhciB0byBpbnZhcmlhbnQgYnV0IG9ubHkgbG9ncyBhIHdhcm5pbmcgaWYgdGhlIGNvbmRpdGlvbiBpcyBub3QgbWV0LlxuICogVGhpcyBjYW4gYmUgdXNlZCB0byBsb2cgaXNzdWVzIGluIGRldmVsb3BtZW50IGVudmlyb25tZW50cyBpbiBjcml0aWNhbFxuICogcGF0aHMuIFJlbW92aW5nIHRoZSBsb2dnaW5nIGNvZGUgZm9yIHByb2R1Y3Rpb24gZW52aXJvbm1lbnRzIHdpbGwga2VlcCB0aGVcbiAqIHNhbWUgbG9naWMgYW5kIGZvbGxvdyB0aGUgc2FtZSBjb2RlIHBhdGhzLlxuICovXG5cbnZhciB3YXJuaW5nID0gd2FybmluZ1dpdGhvdXRTdGFjayQxO1xuXG57XG4gIHdhcm5pbmcgPSBmdW5jdGlvbiAoY29uZGl0aW9uLCBmb3JtYXQpIHtcbiAgICBpZiAoY29uZGl0aW9uKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIFJlYWN0RGVidWdDdXJyZW50RnJhbWUgPSBSZWFjdFNoYXJlZEludGVybmFscy5SZWFjdERlYnVnQ3VycmVudEZyYW1lO1xuICAgIHZhciBzdGFjayA9IFJlYWN0RGVidWdDdXJyZW50RnJhbWUuZ2V0U3RhY2tBZGRlbmR1bSgpOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaW50ZXJuYWwvd2FybmluZy1hbmQtaW52YXJpYW50LWFyZ3NcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4gPiAyID8gX2xlbiAtIDIgOiAwKSwgX2tleSA9IDI7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleSAtIDJdID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHdhcm5pbmdXaXRob3V0U3RhY2skMS5hcHBseSh2b2lkIDAsIFtmYWxzZSwgZm9ybWF0ICsgJyVzJ10uY29uY2F0KGFyZ3MsIFtzdGFja10pKTtcbiAgfTtcbn1cblxudmFyIHdhcm5pbmckMSA9IHdhcm5pbmc7XG5cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgUkVTRVJWRURfUFJPUFMgPSB7XG4gIGtleTogdHJ1ZSxcbiAgcmVmOiB0cnVlLFxuICBfX3NlbGY6IHRydWUsXG4gIF9fc291cmNlOiB0cnVlXG59O1xudmFyIHNwZWNpYWxQcm9wS2V5V2FybmluZ1Nob3duO1xudmFyIHNwZWNpYWxQcm9wUmVmV2FybmluZ1Nob3duO1xuXG5mdW5jdGlvbiBoYXNWYWxpZFJlZihjb25maWcpIHtcbiAge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgJ3JlZicpKSB7XG4gICAgICB2YXIgZ2V0dGVyID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihjb25maWcsICdyZWYnKS5nZXQ7XG5cbiAgICAgIGlmIChnZXR0ZXIgJiYgZ2V0dGVyLmlzUmVhY3RXYXJuaW5nKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gY29uZmlnLnJlZiAhPT0gdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiBoYXNWYWxpZEtleShjb25maWcpIHtcbiAge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgJ2tleScpKSB7XG4gICAgICB2YXIgZ2V0dGVyID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihjb25maWcsICdrZXknKS5nZXQ7XG5cbiAgICAgIGlmIChnZXR0ZXIgJiYgZ2V0dGVyLmlzUmVhY3RXYXJuaW5nKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gY29uZmlnLmtleSAhPT0gdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiBkZWZpbmVLZXlQcm9wV2FybmluZ0dldHRlcihwcm9wcywgZGlzcGxheU5hbWUpIHtcbiAgdmFyIHdhcm5BYm91dEFjY2Vzc2luZ0tleSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIXNwZWNpYWxQcm9wS2V5V2FybmluZ1Nob3duKSB7XG4gICAgICBzcGVjaWFsUHJvcEtleVdhcm5pbmdTaG93biA9IHRydWU7XG4gICAgICB3YXJuaW5nV2l0aG91dFN0YWNrJDEoZmFsc2UsICclczogYGtleWAgaXMgbm90IGEgcHJvcC4gVHJ5aW5nIHRvIGFjY2VzcyBpdCB3aWxsIHJlc3VsdCAnICsgJ2luIGB1bmRlZmluZWRgIGJlaW5nIHJldHVybmVkLiBJZiB5b3UgbmVlZCB0byBhY2Nlc3MgdGhlIHNhbWUgJyArICd2YWx1ZSB3aXRoaW4gdGhlIGNoaWxkIGNvbXBvbmVudCwgeW91IHNob3VsZCBwYXNzIGl0IGFzIGEgZGlmZmVyZW50ICcgKyAncHJvcC4gKGh0dHBzOi8vZmIubWUvcmVhY3Qtc3BlY2lhbC1wcm9wcyknLCBkaXNwbGF5TmFtZSk7XG4gICAgfVxuICB9O1xuXG4gIHdhcm5BYm91dEFjY2Vzc2luZ0tleS5pc1JlYWN0V2FybmluZyA9IHRydWU7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm9wcywgJ2tleScsIHtcbiAgICBnZXQ6IHdhcm5BYm91dEFjY2Vzc2luZ0tleSxcbiAgICBjb25maWd1cmFibGU6IHRydWVcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGRlZmluZVJlZlByb3BXYXJuaW5nR2V0dGVyKHByb3BzLCBkaXNwbGF5TmFtZSkge1xuICB2YXIgd2FybkFib3V0QWNjZXNzaW5nUmVmID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICghc3BlY2lhbFByb3BSZWZXYXJuaW5nU2hvd24pIHtcbiAgICAgIHNwZWNpYWxQcm9wUmVmV2FybmluZ1Nob3duID0gdHJ1ZTtcbiAgICAgIHdhcm5pbmdXaXRob3V0U3RhY2skMShmYWxzZSwgJyVzOiBgcmVmYCBpcyBub3QgYSBwcm9wLiBUcnlpbmcgdG8gYWNjZXNzIGl0IHdpbGwgcmVzdWx0ICcgKyAnaW4gYHVuZGVmaW5lZGAgYmVpbmcgcmV0dXJuZWQuIElmIHlvdSBuZWVkIHRvIGFjY2VzcyB0aGUgc2FtZSAnICsgJ3ZhbHVlIHdpdGhpbiB0aGUgY2hpbGQgY29tcG9uZW50LCB5b3Ugc2hvdWxkIHBhc3MgaXQgYXMgYSBkaWZmZXJlbnQgJyArICdwcm9wLiAoaHR0cHM6Ly9mYi5tZS9yZWFjdC1zcGVjaWFsLXByb3BzKScsIGRpc3BsYXlOYW1lKTtcbiAgICB9XG4gIH07XG5cbiAgd2FybkFib3V0QWNjZXNzaW5nUmVmLmlzUmVhY3RXYXJuaW5nID0gdHJ1ZTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3BzLCAncmVmJywge1xuICAgIGdldDogd2FybkFib3V0QWNjZXNzaW5nUmVmLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KTtcbn1cbi8qKlxuICogRmFjdG9yeSBtZXRob2QgdG8gY3JlYXRlIGEgbmV3IFJlYWN0IGVsZW1lbnQuIFRoaXMgbm8gbG9uZ2VyIGFkaGVyZXMgdG9cbiAqIHRoZSBjbGFzcyBwYXR0ZXJuLCBzbyBkbyBub3QgdXNlIG5ldyB0byBjYWxsIGl0LiBBbHNvLCBpbnN0YW5jZW9mIGNoZWNrXG4gKiB3aWxsIG5vdCB3b3JrLiBJbnN0ZWFkIHRlc3QgJCR0eXBlb2YgZmllbGQgYWdhaW5zdCBTeW1ib2wuZm9yKCdyZWFjdC5lbGVtZW50JykgdG8gY2hlY2tcbiAqIGlmIHNvbWV0aGluZyBpcyBhIFJlYWN0IEVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHsqfSB0eXBlXG4gKiBAcGFyYW0geyp9IHByb3BzXG4gKiBAcGFyYW0geyp9IGtleVxuICogQHBhcmFtIHtzdHJpbmd8b2JqZWN0fSByZWZcbiAqIEBwYXJhbSB7Kn0gb3duZXJcbiAqIEBwYXJhbSB7Kn0gc2VsZiBBICp0ZW1wb3JhcnkqIGhlbHBlciB0byBkZXRlY3QgcGxhY2VzIHdoZXJlIGB0aGlzYCBpc1xuICogZGlmZmVyZW50IGZyb20gdGhlIGBvd25lcmAgd2hlbiBSZWFjdC5jcmVhdGVFbGVtZW50IGlzIGNhbGxlZCwgc28gdGhhdCB3ZVxuICogY2FuIHdhcm4uIFdlIHdhbnQgdG8gZ2V0IHJpZCBvZiBvd25lciBhbmQgcmVwbGFjZSBzdHJpbmcgYHJlZmBzIHdpdGggYXJyb3dcbiAqIGZ1bmN0aW9ucywgYW5kIGFzIGxvbmcgYXMgYHRoaXNgIGFuZCBvd25lciBhcmUgdGhlIHNhbWUsIHRoZXJlIHdpbGwgYmUgbm9cbiAqIGNoYW5nZSBpbiBiZWhhdmlvci5cbiAqIEBwYXJhbSB7Kn0gc291cmNlIEFuIGFubm90YXRpb24gb2JqZWN0IChhZGRlZCBieSBhIHRyYW5zcGlsZXIgb3Igb3RoZXJ3aXNlKVxuICogaW5kaWNhdGluZyBmaWxlbmFtZSwgbGluZSBudW1iZXIsIGFuZC9vciBvdGhlciBpbmZvcm1hdGlvbi5cbiAqIEBpbnRlcm5hbFxuICovXG5cblxudmFyIFJlYWN0RWxlbWVudCA9IGZ1bmN0aW9uICh0eXBlLCBrZXksIHJlZiwgc2VsZiwgc291cmNlLCBvd25lciwgcHJvcHMpIHtcbiAgdmFyIGVsZW1lbnQgPSB7XG4gICAgLy8gVGhpcyB0YWcgYWxsb3dzIHVzIHRvIHVuaXF1ZWx5IGlkZW50aWZ5IHRoaXMgYXMgYSBSZWFjdCBFbGVtZW50XG4gICAgJCR0eXBlb2Y6IFJFQUNUX0VMRU1FTlRfVFlQRSxcbiAgICAvLyBCdWlsdC1pbiBwcm9wZXJ0aWVzIHRoYXQgYmVsb25nIG9uIHRoZSBlbGVtZW50XG4gICAgdHlwZTogdHlwZSxcbiAgICBrZXk6IGtleSxcbiAgICByZWY6IHJlZixcbiAgICBwcm9wczogcHJvcHMsXG4gICAgLy8gUmVjb3JkIHRoZSBjb21wb25lbnQgcmVzcG9uc2libGUgZm9yIGNyZWF0aW5nIHRoaXMgZWxlbWVudC5cbiAgICBfb3duZXI6IG93bmVyXG4gIH07XG5cbiAge1xuICAgIC8vIFRoZSB2YWxpZGF0aW9uIGZsYWcgaXMgY3VycmVudGx5IG11dGF0aXZlLiBXZSBwdXQgaXQgb25cbiAgICAvLyBhbiBleHRlcm5hbCBiYWNraW5nIHN0b3JlIHNvIHRoYXQgd2UgY2FuIGZyZWV6ZSB0aGUgd2hvbGUgb2JqZWN0LlxuICAgIC8vIFRoaXMgY2FuIGJlIHJlcGxhY2VkIHdpdGggYSBXZWFrTWFwIG9uY2UgdGhleSBhcmUgaW1wbGVtZW50ZWQgaW5cbiAgICAvLyBjb21tb25seSB1c2VkIGRldmVsb3BtZW50IGVudmlyb25tZW50cy5cbiAgICBlbGVtZW50Ll9zdG9yZSA9IHt9OyAvLyBUbyBtYWtlIGNvbXBhcmluZyBSZWFjdEVsZW1lbnRzIGVhc2llciBmb3IgdGVzdGluZyBwdXJwb3Nlcywgd2UgbWFrZVxuICAgIC8vIHRoZSB2YWxpZGF0aW9uIGZsYWcgbm9uLWVudW1lcmFibGUgKHdoZXJlIHBvc3NpYmxlLCB3aGljaCBzaG91bGRcbiAgICAvLyBpbmNsdWRlIGV2ZXJ5IGVudmlyb25tZW50IHdlIHJ1biB0ZXN0cyBpbiksIHNvIHRoZSB0ZXN0IGZyYW1ld29ya1xuICAgIC8vIGlnbm9yZXMgaXQuXG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZWxlbWVudC5fc3RvcmUsICd2YWxpZGF0ZWQnLCB7XG4gICAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiBmYWxzZVxuICAgIH0pOyAvLyBzZWxmIGFuZCBzb3VyY2UgYXJlIERFViBvbmx5IHByb3BlcnRpZXMuXG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZWxlbWVudCwgJ19zZWxmJywge1xuICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgICAgdmFsdWU6IHNlbGZcbiAgICB9KTsgLy8gVHdvIGVsZW1lbnRzIGNyZWF0ZWQgaW4gdHdvIGRpZmZlcmVudCBwbGFjZXMgc2hvdWxkIGJlIGNvbnNpZGVyZWRcbiAgICAvLyBlcXVhbCBmb3IgdGVzdGluZyBwdXJwb3NlcyBhbmQgdGhlcmVmb3JlIHdlIGhpZGUgaXQgZnJvbSBlbnVtZXJhdGlvbi5cblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbGVtZW50LCAnX3NvdXJjZScsIHtcbiAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICAgIHZhbHVlOiBzb3VyY2VcbiAgICB9KTtcblxuICAgIGlmIChPYmplY3QuZnJlZXplKSB7XG4gICAgICBPYmplY3QuZnJlZXplKGVsZW1lbnQucHJvcHMpO1xuICAgICAgT2JqZWN0LmZyZWV6ZShlbGVtZW50KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZWxlbWVudDtcbn07XG4vKipcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9yZWFjdGpzL3JmY3MvcHVsbC8xMDdcbiAqIEBwYXJhbSB7Kn0gdHlwZVxuICogQHBhcmFtIHtvYmplY3R9IHByb3BzXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5XG4gKi9cblxuXG5cbi8qKlxuICogaHR0cHM6Ly9naXRodWIuY29tL3JlYWN0anMvcmZjcy9wdWxsLzEwN1xuICogQHBhcmFtIHsqfSB0eXBlXG4gKiBAcGFyYW0ge29iamVjdH0gcHJvcHNcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXlcbiAqL1xuXG5mdW5jdGlvbiBqc3hERVYodHlwZSwgY29uZmlnLCBtYXliZUtleSwgc291cmNlLCBzZWxmKSB7XG4gIHZhciBwcm9wTmFtZTsgLy8gUmVzZXJ2ZWQgbmFtZXMgYXJlIGV4dHJhY3RlZFxuXG4gIHZhciBwcm9wcyA9IHt9O1xuICB2YXIga2V5ID0gbnVsbDtcbiAgdmFyIHJlZiA9IG51bGw7IC8vIEN1cnJlbnRseSwga2V5IGNhbiBiZSBzcHJlYWQgaW4gYXMgYSBwcm9wLiBUaGlzIGNhdXNlcyBhIHBvdGVudGlhbFxuICAvLyBpc3N1ZSBpZiBrZXkgaXMgYWxzbyBleHBsaWNpdGx5IGRlY2xhcmVkIChpZS4gPGRpdiB7Li4ucHJvcHN9IGtleT1cIkhpXCIgLz5cbiAgLy8gb3IgPGRpdiBrZXk9XCJIaVwiIHsuLi5wcm9wc30gLz4gKS4gV2Ugd2FudCB0byBkZXByZWNhdGUga2V5IHNwcmVhZCxcbiAgLy8gYnV0IGFzIGFuIGludGVybWVkaWFyeSBzdGVwLCB3ZSB3aWxsIHVzZSBqc3hERVYgZm9yIGV2ZXJ5dGhpbmcgZXhjZXB0XG4gIC8vIDxkaXYgey4uLnByb3BzfSBrZXk9XCJIaVwiIC8+LCBiZWNhdXNlIHdlIGFyZW4ndCBjdXJyZW50bHkgYWJsZSB0byB0ZWxsIGlmXG4gIC8vIGtleSBpcyBleHBsaWNpdGx5IGRlY2xhcmVkIHRvIGJlIHVuZGVmaW5lZCBvciBub3QuXG5cbiAgaWYgKG1heWJlS2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICBrZXkgPSAnJyArIG1heWJlS2V5O1xuICB9XG5cbiAgaWYgKGhhc1ZhbGlkS2V5KGNvbmZpZykpIHtcbiAgICBrZXkgPSAnJyArIGNvbmZpZy5rZXk7XG4gIH1cblxuICBpZiAoaGFzVmFsaWRSZWYoY29uZmlnKSkge1xuICAgIHJlZiA9IGNvbmZpZy5yZWY7XG4gIH0gLy8gUmVtYWluaW5nIHByb3BlcnRpZXMgYXJlIGFkZGVkIHRvIGEgbmV3IHByb3BzIG9iamVjdFxuXG5cbiAgZm9yIChwcm9wTmFtZSBpbiBjb25maWcpIHtcbiAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChjb25maWcsIHByb3BOYW1lKSAmJiAhUkVTRVJWRURfUFJPUFMuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpKSB7XG4gICAgICBwcm9wc1twcm9wTmFtZV0gPSBjb25maWdbcHJvcE5hbWVdO1xuICAgIH1cbiAgfSAvLyBSZXNvbHZlIGRlZmF1bHQgcHJvcHNcblxuXG4gIGlmICh0eXBlICYmIHR5cGUuZGVmYXVsdFByb3BzKSB7XG4gICAgdmFyIGRlZmF1bHRQcm9wcyA9IHR5cGUuZGVmYXVsdFByb3BzO1xuXG4gICAgZm9yIChwcm9wTmFtZSBpbiBkZWZhdWx0UHJvcHMpIHtcbiAgICAgIGlmIChwcm9wc1twcm9wTmFtZV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBwcm9wc1twcm9wTmFtZV0gPSBkZWZhdWx0UHJvcHNbcHJvcE5hbWVdO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlmIChrZXkgfHwgcmVmKSB7XG4gICAgdmFyIGRpc3BsYXlOYW1lID0gdHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicgPyB0eXBlLmRpc3BsYXlOYW1lIHx8IHR5cGUubmFtZSB8fCAnVW5rbm93bicgOiB0eXBlO1xuXG4gICAgaWYgKGtleSkge1xuICAgICAgZGVmaW5lS2V5UHJvcFdhcm5pbmdHZXR0ZXIocHJvcHMsIGRpc3BsYXlOYW1lKTtcbiAgICB9XG5cbiAgICBpZiAocmVmKSB7XG4gICAgICBkZWZpbmVSZWZQcm9wV2FybmluZ0dldHRlcihwcm9wcywgZGlzcGxheU5hbWUpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBSZWFjdEVsZW1lbnQodHlwZSwga2V5LCByZWYsIHNlbGYsIHNvdXJjZSwgUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCwgcHJvcHMpO1xufVxuLyoqXG4gKiBDcmVhdGUgYW5kIHJldHVybiBhIG5ldyBSZWFjdEVsZW1lbnQgb2YgdGhlIGdpdmVuIHR5cGUuXG4gKiBTZWUgaHR0cHM6Ly9yZWFjdGpzLm9yZy9kb2NzL3JlYWN0LWFwaS5odG1sI2NyZWF0ZWVsZW1lbnRcbiAqL1xuXG5mdW5jdGlvbiBjcmVhdGVFbGVtZW50KHR5cGUsIGNvbmZpZywgY2hpbGRyZW4pIHtcbiAgdmFyIHByb3BOYW1lOyAvLyBSZXNlcnZlZCBuYW1lcyBhcmUgZXh0cmFjdGVkXG5cbiAgdmFyIHByb3BzID0ge307XG4gIHZhciBrZXkgPSBudWxsO1xuICB2YXIgcmVmID0gbnVsbDtcbiAgdmFyIHNlbGYgPSBudWxsO1xuICB2YXIgc291cmNlID0gbnVsbDtcblxuICBpZiAoY29uZmlnICE9IG51bGwpIHtcbiAgICBpZiAoaGFzVmFsaWRSZWYoY29uZmlnKSkge1xuICAgICAgcmVmID0gY29uZmlnLnJlZjtcbiAgICB9XG5cbiAgICBpZiAoaGFzVmFsaWRLZXkoY29uZmlnKSkge1xuICAgICAga2V5ID0gJycgKyBjb25maWcua2V5O1xuICAgIH1cblxuICAgIHNlbGYgPSBjb25maWcuX19zZWxmID09PSB1bmRlZmluZWQgPyBudWxsIDogY29uZmlnLl9fc2VsZjtcbiAgICBzb3VyY2UgPSBjb25maWcuX19zb3VyY2UgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBjb25maWcuX19zb3VyY2U7IC8vIFJlbWFpbmluZyBwcm9wZXJ0aWVzIGFyZSBhZGRlZCB0byBhIG5ldyBwcm9wcyBvYmplY3RcblxuICAgIGZvciAocHJvcE5hbWUgaW4gY29uZmlnKSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChjb25maWcsIHByb3BOYW1lKSAmJiAhUkVTRVJWRURfUFJPUFMuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpKSB7XG4gICAgICAgIHByb3BzW3Byb3BOYW1lXSA9IGNvbmZpZ1twcm9wTmFtZV07XG4gICAgICB9XG4gICAgfVxuICB9IC8vIENoaWxkcmVuIGNhbiBiZSBtb3JlIHRoYW4gb25lIGFyZ3VtZW50LCBhbmQgdGhvc2UgYXJlIHRyYW5zZmVycmVkIG9udG9cbiAgLy8gdGhlIG5ld2x5IGFsbG9jYXRlZCBwcm9wcyBvYmplY3QuXG5cblxuICB2YXIgY2hpbGRyZW5MZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoIC0gMjtcblxuICBpZiAoY2hpbGRyZW5MZW5ndGggPT09IDEpIHtcbiAgICBwcm9wcy5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuICB9IGVsc2UgaWYgKGNoaWxkcmVuTGVuZ3RoID4gMSkge1xuICAgIHZhciBjaGlsZEFycmF5ID0gQXJyYXkoY2hpbGRyZW5MZW5ndGgpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbkxlbmd0aDsgaSsrKSB7XG4gICAgICBjaGlsZEFycmF5W2ldID0gYXJndW1lbnRzW2kgKyAyXTtcbiAgICB9XG5cbiAgICB7XG4gICAgICBpZiAoT2JqZWN0LmZyZWV6ZSkge1xuICAgICAgICBPYmplY3QuZnJlZXplKGNoaWxkQXJyYXkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHByb3BzLmNoaWxkcmVuID0gY2hpbGRBcnJheTtcbiAgfSAvLyBSZXNvbHZlIGRlZmF1bHQgcHJvcHNcblxuXG4gIGlmICh0eXBlICYmIHR5cGUuZGVmYXVsdFByb3BzKSB7XG4gICAgdmFyIGRlZmF1bHRQcm9wcyA9IHR5cGUuZGVmYXVsdFByb3BzO1xuXG4gICAgZm9yIChwcm9wTmFtZSBpbiBkZWZhdWx0UHJvcHMpIHtcbiAgICAgIGlmIChwcm9wc1twcm9wTmFtZV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBwcm9wc1twcm9wTmFtZV0gPSBkZWZhdWx0UHJvcHNbcHJvcE5hbWVdO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHtcbiAgICBpZiAoa2V5IHx8IHJlZikge1xuICAgICAgdmFyIGRpc3BsYXlOYW1lID0gdHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicgPyB0eXBlLmRpc3BsYXlOYW1lIHx8IHR5cGUubmFtZSB8fCAnVW5rbm93bicgOiB0eXBlO1xuXG4gICAgICBpZiAoa2V5KSB7XG4gICAgICAgIGRlZmluZUtleVByb3BXYXJuaW5nR2V0dGVyKHByb3BzLCBkaXNwbGF5TmFtZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZWYpIHtcbiAgICAgICAgZGVmaW5lUmVmUHJvcFdhcm5pbmdHZXR0ZXIocHJvcHMsIGRpc3BsYXlOYW1lKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gUmVhY3RFbGVtZW50KHR5cGUsIGtleSwgcmVmLCBzZWxmLCBzb3VyY2UsIFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQsIHByb3BzKTtcbn1cbi8qKlxuICogUmV0dXJuIGEgZnVuY3Rpb24gdGhhdCBwcm9kdWNlcyBSZWFjdEVsZW1lbnRzIG9mIGEgZ2l2ZW4gdHlwZS5cbiAqIFNlZSBodHRwczovL3JlYWN0anMub3JnL2RvY3MvcmVhY3QtYXBpLmh0bWwjY3JlYXRlZmFjdG9yeVxuICovXG5cblxuZnVuY3Rpb24gY2xvbmVBbmRSZXBsYWNlS2V5KG9sZEVsZW1lbnQsIG5ld0tleSkge1xuICB2YXIgbmV3RWxlbWVudCA9IFJlYWN0RWxlbWVudChvbGRFbGVtZW50LnR5cGUsIG5ld0tleSwgb2xkRWxlbWVudC5yZWYsIG9sZEVsZW1lbnQuX3NlbGYsIG9sZEVsZW1lbnQuX3NvdXJjZSwgb2xkRWxlbWVudC5fb3duZXIsIG9sZEVsZW1lbnQucHJvcHMpO1xuICByZXR1cm4gbmV3RWxlbWVudDtcbn1cbi8qKlxuICogQ2xvbmUgYW5kIHJldHVybiBhIG5ldyBSZWFjdEVsZW1lbnQgdXNpbmcgZWxlbWVudCBhcyB0aGUgc3RhcnRpbmcgcG9pbnQuXG4gKiBTZWUgaHR0cHM6Ly9yZWFjdGpzLm9yZy9kb2NzL3JlYWN0LWFwaS5odG1sI2Nsb25lZWxlbWVudFxuICovXG5cbmZ1bmN0aW9uIGNsb25lRWxlbWVudChlbGVtZW50LCBjb25maWcsIGNoaWxkcmVuKSB7XG4gIGlmICghIShlbGVtZW50ID09PSBudWxsIHx8IGVsZW1lbnQgPT09IHVuZGVmaW5lZCkpIHtcbiAgICB7XG4gICAgICB0aHJvdyBFcnJvcihcIlJlYWN0LmNsb25lRWxlbWVudCguLi4pOiBUaGUgYXJndW1lbnQgbXVzdCBiZSBhIFJlYWN0IGVsZW1lbnQsIGJ1dCB5b3UgcGFzc2VkIFwiICsgZWxlbWVudCArIFwiLlwiKTtcbiAgICB9XG4gIH1cblxuICB2YXIgcHJvcE5hbWU7IC8vIE9yaWdpbmFsIHByb3BzIGFyZSBjb3BpZWRcblxuICB2YXIgcHJvcHMgPSBfYXNzaWduKHt9LCBlbGVtZW50LnByb3BzKTsgLy8gUmVzZXJ2ZWQgbmFtZXMgYXJlIGV4dHJhY3RlZFxuXG5cbiAgdmFyIGtleSA9IGVsZW1lbnQua2V5O1xuICB2YXIgcmVmID0gZWxlbWVudC5yZWY7IC8vIFNlbGYgaXMgcHJlc2VydmVkIHNpbmNlIHRoZSBvd25lciBpcyBwcmVzZXJ2ZWQuXG5cbiAgdmFyIHNlbGYgPSBlbGVtZW50Ll9zZWxmOyAvLyBTb3VyY2UgaXMgcHJlc2VydmVkIHNpbmNlIGNsb25lRWxlbWVudCBpcyB1bmxpa2VseSB0byBiZSB0YXJnZXRlZCBieSBhXG4gIC8vIHRyYW5zcGlsZXIsIGFuZCB0aGUgb3JpZ2luYWwgc291cmNlIGlzIHByb2JhYmx5IGEgYmV0dGVyIGluZGljYXRvciBvZiB0aGVcbiAgLy8gdHJ1ZSBvd25lci5cblxuICB2YXIgc291cmNlID0gZWxlbWVudC5fc291cmNlOyAvLyBPd25lciB3aWxsIGJlIHByZXNlcnZlZCwgdW5sZXNzIHJlZiBpcyBvdmVycmlkZGVuXG5cbiAgdmFyIG93bmVyID0gZWxlbWVudC5fb3duZXI7XG5cbiAgaWYgKGNvbmZpZyAhPSBudWxsKSB7XG4gICAgaWYgKGhhc1ZhbGlkUmVmKGNvbmZpZykpIHtcbiAgICAgIC8vIFNpbGVudGx5IHN0ZWFsIHRoZSByZWYgZnJvbSB0aGUgcGFyZW50LlxuICAgICAgcmVmID0gY29uZmlnLnJlZjtcbiAgICAgIG93bmVyID0gUmVhY3RDdXJyZW50T3duZXIuY3VycmVudDtcbiAgICB9XG5cbiAgICBpZiAoaGFzVmFsaWRLZXkoY29uZmlnKSkge1xuICAgICAga2V5ID0gJycgKyBjb25maWcua2V5O1xuICAgIH0gLy8gUmVtYWluaW5nIHByb3BlcnRpZXMgb3ZlcnJpZGUgZXhpc3RpbmcgcHJvcHNcblxuXG4gICAgdmFyIGRlZmF1bHRQcm9wcztcblxuICAgIGlmIChlbGVtZW50LnR5cGUgJiYgZWxlbWVudC50eXBlLmRlZmF1bHRQcm9wcykge1xuICAgICAgZGVmYXVsdFByb3BzID0gZWxlbWVudC50eXBlLmRlZmF1bHRQcm9wcztcbiAgICB9XG5cbiAgICBmb3IgKHByb3BOYW1lIGluIGNvbmZpZykge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoY29uZmlnLCBwcm9wTmFtZSkgJiYgIVJFU0VSVkVEX1BST1BTLmhhc093blByb3BlcnR5KHByb3BOYW1lKSkge1xuICAgICAgICBpZiAoY29uZmlnW3Byb3BOYW1lXSA9PT0gdW5kZWZpbmVkICYmIGRlZmF1bHRQcm9wcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgLy8gUmVzb2x2ZSBkZWZhdWx0IHByb3BzXG4gICAgICAgICAgcHJvcHNbcHJvcE5hbWVdID0gZGVmYXVsdFByb3BzW3Byb3BOYW1lXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwcm9wc1twcm9wTmFtZV0gPSBjb25maWdbcHJvcE5hbWVdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9IC8vIENoaWxkcmVuIGNhbiBiZSBtb3JlIHRoYW4gb25lIGFyZ3VtZW50LCBhbmQgdGhvc2UgYXJlIHRyYW5zZmVycmVkIG9udG9cbiAgLy8gdGhlIG5ld2x5IGFsbG9jYXRlZCBwcm9wcyBvYmplY3QuXG5cblxuICB2YXIgY2hpbGRyZW5MZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoIC0gMjtcblxuICBpZiAoY2hpbGRyZW5MZW5ndGggPT09IDEpIHtcbiAgICBwcm9wcy5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuICB9IGVsc2UgaWYgKGNoaWxkcmVuTGVuZ3RoID4gMSkge1xuICAgIHZhciBjaGlsZEFycmF5ID0gQXJyYXkoY2hpbGRyZW5MZW5ndGgpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbkxlbmd0aDsgaSsrKSB7XG4gICAgICBjaGlsZEFycmF5W2ldID0gYXJndW1lbnRzW2kgKyAyXTtcbiAgICB9XG5cbiAgICBwcm9wcy5jaGlsZHJlbiA9IGNoaWxkQXJyYXk7XG4gIH1cblxuICByZXR1cm4gUmVhY3RFbGVtZW50KGVsZW1lbnQudHlwZSwga2V5LCByZWYsIHNlbGYsIHNvdXJjZSwgb3duZXIsIHByb3BzKTtcbn1cbi8qKlxuICogVmVyaWZpZXMgdGhlIG9iamVjdCBpcyBhIFJlYWN0RWxlbWVudC5cbiAqIFNlZSBodHRwczovL3JlYWN0anMub3JnL2RvY3MvcmVhY3QtYXBpLmh0bWwjaXN2YWxpZGVsZW1lbnRcbiAqIEBwYXJhbSB7P29iamVjdH0gb2JqZWN0XG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIGBvYmplY3RgIGlzIGEgUmVhY3RFbGVtZW50LlxuICogQGZpbmFsXG4gKi9cblxuZnVuY3Rpb24gaXNWYWxpZEVsZW1lbnQob2JqZWN0KSB7XG4gIHJldHVybiB0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0JyAmJiBvYmplY3QgIT09IG51bGwgJiYgb2JqZWN0LiQkdHlwZW9mID09PSBSRUFDVF9FTEVNRU5UX1RZUEU7XG59XG5cbnZhciBTRVBBUkFUT1IgPSAnLic7XG52YXIgU1VCU0VQQVJBVE9SID0gJzonO1xuLyoqXG4gKiBFc2NhcGUgYW5kIHdyYXAga2V5IHNvIGl0IGlzIHNhZmUgdG8gdXNlIGFzIGEgcmVhY3RpZFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgdG8gYmUgZXNjYXBlZC5cbiAqIEByZXR1cm4ge3N0cmluZ30gdGhlIGVzY2FwZWQga2V5LlxuICovXG5cbmZ1bmN0aW9uIGVzY2FwZShrZXkpIHtcbiAgdmFyIGVzY2FwZVJlZ2V4ID0gL1s9Ol0vZztcbiAgdmFyIGVzY2FwZXJMb29rdXAgPSB7XG4gICAgJz0nOiAnPTAnLFxuICAgICc6JzogJz0yJ1xuICB9O1xuICB2YXIgZXNjYXBlZFN0cmluZyA9ICgnJyArIGtleSkucmVwbGFjZShlc2NhcGVSZWdleCwgZnVuY3Rpb24gKG1hdGNoKSB7XG4gICAgcmV0dXJuIGVzY2FwZXJMb29rdXBbbWF0Y2hdO1xuICB9KTtcbiAgcmV0dXJuICckJyArIGVzY2FwZWRTdHJpbmc7XG59XG4vKipcbiAqIFRPRE86IFRlc3QgdGhhdCBhIHNpbmdsZSBjaGlsZCBhbmQgYW4gYXJyYXkgd2l0aCBvbmUgaXRlbSBoYXZlIHRoZSBzYW1lIGtleVxuICogcGF0dGVybi5cbiAqL1xuXG5cbnZhciBkaWRXYXJuQWJvdXRNYXBzID0gZmFsc2U7XG52YXIgdXNlclByb3ZpZGVkS2V5RXNjYXBlUmVnZXggPSAvXFwvKy9nO1xuXG5mdW5jdGlvbiBlc2NhcGVVc2VyUHJvdmlkZWRLZXkodGV4dCkge1xuICByZXR1cm4gKCcnICsgdGV4dCkucmVwbGFjZSh1c2VyUHJvdmlkZWRLZXlFc2NhcGVSZWdleCwgJyQmLycpO1xufVxuXG52YXIgUE9PTF9TSVpFID0gMTA7XG52YXIgdHJhdmVyc2VDb250ZXh0UG9vbCA9IFtdO1xuXG5mdW5jdGlvbiBnZXRQb29sZWRUcmF2ZXJzZUNvbnRleHQobWFwUmVzdWx0LCBrZXlQcmVmaXgsIG1hcEZ1bmN0aW9uLCBtYXBDb250ZXh0KSB7XG4gIGlmICh0cmF2ZXJzZUNvbnRleHRQb29sLmxlbmd0aCkge1xuICAgIHZhciB0cmF2ZXJzZUNvbnRleHQgPSB0cmF2ZXJzZUNvbnRleHRQb29sLnBvcCgpO1xuICAgIHRyYXZlcnNlQ29udGV4dC5yZXN1bHQgPSBtYXBSZXN1bHQ7XG4gICAgdHJhdmVyc2VDb250ZXh0LmtleVByZWZpeCA9IGtleVByZWZpeDtcbiAgICB0cmF2ZXJzZUNvbnRleHQuZnVuYyA9IG1hcEZ1bmN0aW9uO1xuICAgIHRyYXZlcnNlQ29udGV4dC5jb250ZXh0ID0gbWFwQ29udGV4dDtcbiAgICB0cmF2ZXJzZUNvbnRleHQuY291bnQgPSAwO1xuICAgIHJldHVybiB0cmF2ZXJzZUNvbnRleHQ7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3VsdDogbWFwUmVzdWx0LFxuICAgICAga2V5UHJlZml4OiBrZXlQcmVmaXgsXG4gICAgICBmdW5jOiBtYXBGdW5jdGlvbixcbiAgICAgIGNvbnRleHQ6IG1hcENvbnRleHQsXG4gICAgICBjb3VudDogMFxuICAgIH07XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVsZWFzZVRyYXZlcnNlQ29udGV4dCh0cmF2ZXJzZUNvbnRleHQpIHtcbiAgdHJhdmVyc2VDb250ZXh0LnJlc3VsdCA9IG51bGw7XG4gIHRyYXZlcnNlQ29udGV4dC5rZXlQcmVmaXggPSBudWxsO1xuICB0cmF2ZXJzZUNvbnRleHQuZnVuYyA9IG51bGw7XG4gIHRyYXZlcnNlQ29udGV4dC5jb250ZXh0ID0gbnVsbDtcbiAgdHJhdmVyc2VDb250ZXh0LmNvdW50ID0gMDtcblxuICBpZiAodHJhdmVyc2VDb250ZXh0UG9vbC5sZW5ndGggPCBQT09MX1NJWkUpIHtcbiAgICB0cmF2ZXJzZUNvbnRleHRQb29sLnB1c2godHJhdmVyc2VDb250ZXh0KTtcbiAgfVxufVxuLyoqXG4gKiBAcGFyYW0gez8qfSBjaGlsZHJlbiBDaGlsZHJlbiB0cmVlIGNvbnRhaW5lci5cbiAqIEBwYXJhbSB7IXN0cmluZ30gbmFtZVNvRmFyIE5hbWUgb2YgdGhlIGtleSBwYXRoIHNvIGZhci5cbiAqIEBwYXJhbSB7IWZ1bmN0aW9ufSBjYWxsYmFjayBDYWxsYmFjayB0byBpbnZva2Ugd2l0aCBlYWNoIGNoaWxkIGZvdW5kLlxuICogQHBhcmFtIHs/Kn0gdHJhdmVyc2VDb250ZXh0IFVzZWQgdG8gcGFzcyBpbmZvcm1hdGlvbiB0aHJvdWdob3V0IHRoZSB0cmF2ZXJzYWxcbiAqIHByb2Nlc3MuXG4gKiBAcmV0dXJuIHshbnVtYmVyfSBUaGUgbnVtYmVyIG9mIGNoaWxkcmVuIGluIHRoaXMgc3VidHJlZS5cbiAqL1xuXG5cbmZ1bmN0aW9uIHRyYXZlcnNlQWxsQ2hpbGRyZW5JbXBsKGNoaWxkcmVuLCBuYW1lU29GYXIsIGNhbGxiYWNrLCB0cmF2ZXJzZUNvbnRleHQpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgY2hpbGRyZW47XG5cbiAgaWYgKHR5cGUgPT09ICd1bmRlZmluZWQnIHx8IHR5cGUgPT09ICdib29sZWFuJykge1xuICAgIC8vIEFsbCBvZiB0aGUgYWJvdmUgYXJlIHBlcmNlaXZlZCBhcyBudWxsLlxuICAgIGNoaWxkcmVuID0gbnVsbDtcbiAgfVxuXG4gIHZhciBpbnZva2VDYWxsYmFjayA9IGZhbHNlO1xuXG4gIGlmIChjaGlsZHJlbiA9PT0gbnVsbCkge1xuICAgIGludm9rZUNhbGxiYWNrID0gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICBjYXNlICdudW1iZXInOlxuICAgICAgICBpbnZva2VDYWxsYmFjayA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICBzd2l0Y2ggKGNoaWxkcmVuLiQkdHlwZW9mKSB7XG4gICAgICAgICAgY2FzZSBSRUFDVF9FTEVNRU5UX1RZUEU6XG4gICAgICAgICAgY2FzZSBSRUFDVF9QT1JUQUxfVFlQRTpcbiAgICAgICAgICAgIGludm9rZUNhbGxiYWNrID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgfVxuICB9XG5cbiAgaWYgKGludm9rZUNhbGxiYWNrKSB7XG4gICAgY2FsbGJhY2sodHJhdmVyc2VDb250ZXh0LCBjaGlsZHJlbiwgLy8gSWYgaXQncyB0aGUgb25seSBjaGlsZCwgdHJlYXQgdGhlIG5hbWUgYXMgaWYgaXQgd2FzIHdyYXBwZWQgaW4gYW4gYXJyYXlcbiAgICAvLyBzbyB0aGF0IGl0J3MgY29uc2lzdGVudCBpZiB0aGUgbnVtYmVyIG9mIGNoaWxkcmVuIGdyb3dzLlxuICAgIG5hbWVTb0ZhciA9PT0gJycgPyBTRVBBUkFUT1IgKyBnZXRDb21wb25lbnRLZXkoY2hpbGRyZW4sIDApIDogbmFtZVNvRmFyKTtcbiAgICByZXR1cm4gMTtcbiAgfVxuXG4gIHZhciBjaGlsZDtcbiAgdmFyIG5leHROYW1lO1xuICB2YXIgc3VidHJlZUNvdW50ID0gMDsgLy8gQ291bnQgb2YgY2hpbGRyZW4gZm91bmQgaW4gdGhlIGN1cnJlbnQgc3VidHJlZS5cblxuICB2YXIgbmV4dE5hbWVQcmVmaXggPSBuYW1lU29GYXIgPT09ICcnID8gU0VQQVJBVE9SIDogbmFtZVNvRmFyICsgU1VCU0VQQVJBVE9SO1xuXG4gIGlmIChBcnJheS5pc0FycmF5KGNoaWxkcmVuKSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNoaWxkID0gY2hpbGRyZW5baV07XG4gICAgICBuZXh0TmFtZSA9IG5leHROYW1lUHJlZml4ICsgZ2V0Q29tcG9uZW50S2V5KGNoaWxkLCBpKTtcbiAgICAgIHN1YnRyZWVDb3VudCArPSB0cmF2ZXJzZUFsbENoaWxkcmVuSW1wbChjaGlsZCwgbmV4dE5hbWUsIGNhbGxiYWNrLCB0cmF2ZXJzZUNvbnRleHQpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB2YXIgaXRlcmF0b3JGbiA9IGdldEl0ZXJhdG9yRm4oY2hpbGRyZW4pO1xuXG4gICAgaWYgKHR5cGVvZiBpdGVyYXRvckZuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB7XG4gICAgICAgIC8vIFdhcm4gYWJvdXQgdXNpbmcgTWFwcyBhcyBjaGlsZHJlblxuICAgICAgICBpZiAoaXRlcmF0b3JGbiA9PT0gY2hpbGRyZW4uZW50cmllcykge1xuICAgICAgICAgICFkaWRXYXJuQWJvdXRNYXBzID8gd2FybmluZyQxKGZhbHNlLCAnVXNpbmcgTWFwcyBhcyBjaGlsZHJlbiBpcyB1bnN1cHBvcnRlZCBhbmQgd2lsbCBsaWtlbHkgeWllbGQgJyArICd1bmV4cGVjdGVkIHJlc3VsdHMuIENvbnZlcnQgaXQgdG8gYSBzZXF1ZW5jZS9pdGVyYWJsZSBvZiBrZXllZCAnICsgJ1JlYWN0RWxlbWVudHMgaW5zdGVhZC4nKSA6IHZvaWQgMDtcbiAgICAgICAgICBkaWRXYXJuQWJvdXRNYXBzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgaXRlcmF0b3IgPSBpdGVyYXRvckZuLmNhbGwoY2hpbGRyZW4pO1xuICAgICAgdmFyIHN0ZXA7XG4gICAgICB2YXIgaWkgPSAwO1xuXG4gICAgICB3aGlsZSAoIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG4gICAgICAgIGNoaWxkID0gc3RlcC52YWx1ZTtcbiAgICAgICAgbmV4dE5hbWUgPSBuZXh0TmFtZVByZWZpeCArIGdldENvbXBvbmVudEtleShjaGlsZCwgaWkrKyk7XG4gICAgICAgIHN1YnRyZWVDb3VudCArPSB0cmF2ZXJzZUFsbENoaWxkcmVuSW1wbChjaGlsZCwgbmV4dE5hbWUsIGNhbGxiYWNrLCB0cmF2ZXJzZUNvbnRleHQpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHZhciBhZGRlbmR1bSA9ICcnO1xuXG4gICAgICB7XG4gICAgICAgIGFkZGVuZHVtID0gJyBJZiB5b3UgbWVhbnQgdG8gcmVuZGVyIGEgY29sbGVjdGlvbiBvZiBjaGlsZHJlbiwgdXNlIGFuIGFycmF5ICcgKyAnaW5zdGVhZC4nICsgUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZS5nZXRTdGFja0FkZGVuZHVtKCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBjaGlsZHJlblN0cmluZyA9ICcnICsgY2hpbGRyZW47XG5cbiAgICAgIHtcbiAgICAgICAge1xuICAgICAgICAgIHRocm93IEVycm9yKFwiT2JqZWN0cyBhcmUgbm90IHZhbGlkIGFzIGEgUmVhY3QgY2hpbGQgKGZvdW5kOiBcIiArIChjaGlsZHJlblN0cmluZyA9PT0gJ1tvYmplY3QgT2JqZWN0XScgPyAnb2JqZWN0IHdpdGgga2V5cyB7JyArIE9iamVjdC5rZXlzKGNoaWxkcmVuKS5qb2luKCcsICcpICsgJ30nIDogY2hpbGRyZW5TdHJpbmcpICsgXCIpLlwiICsgYWRkZW5kdW0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHN1YnRyZWVDb3VudDtcbn1cbi8qKlxuICogVHJhdmVyc2VzIGNoaWxkcmVuIHRoYXQgYXJlIHR5cGljYWxseSBzcGVjaWZpZWQgYXMgYHByb3BzLmNoaWxkcmVuYCwgYnV0XG4gKiBtaWdodCBhbHNvIGJlIHNwZWNpZmllZCB0aHJvdWdoIGF0dHJpYnV0ZXM6XG4gKlxuICogLSBgdHJhdmVyc2VBbGxDaGlsZHJlbih0aGlzLnByb3BzLmNoaWxkcmVuLCAuLi4pYFxuICogLSBgdHJhdmVyc2VBbGxDaGlsZHJlbih0aGlzLnByb3BzLmxlZnRQYW5lbENoaWxkcmVuLCAuLi4pYFxuICpcbiAqIFRoZSBgdHJhdmVyc2VDb250ZXh0YCBpcyBhbiBvcHRpb25hbCBhcmd1bWVudCB0aGF0IGlzIHBhc3NlZCB0aHJvdWdoIHRoZVxuICogZW50aXJlIHRyYXZlcnNhbC4gSXQgY2FuIGJlIHVzZWQgdG8gc3RvcmUgYWNjdW11bGF0aW9ucyBvciBhbnl0aGluZyBlbHNlIHRoYXRcbiAqIHRoZSBjYWxsYmFjayBtaWdodCBmaW5kIHJlbGV2YW50LlxuICpcbiAqIEBwYXJhbSB7Pyp9IGNoaWxkcmVuIENoaWxkcmVuIHRyZWUgb2JqZWN0LlxuICogQHBhcmFtIHshZnVuY3Rpb259IGNhbGxiYWNrIFRvIGludm9rZSB1cG9uIHRyYXZlcnNpbmcgZWFjaCBjaGlsZC5cbiAqIEBwYXJhbSB7Pyp9IHRyYXZlcnNlQ29udGV4dCBDb250ZXh0IGZvciB0cmF2ZXJzYWwuXG4gKiBAcmV0dXJuIHshbnVtYmVyfSBUaGUgbnVtYmVyIG9mIGNoaWxkcmVuIGluIHRoaXMgc3VidHJlZS5cbiAqL1xuXG5cbmZ1bmN0aW9uIHRyYXZlcnNlQWxsQ2hpbGRyZW4oY2hpbGRyZW4sIGNhbGxiYWNrLCB0cmF2ZXJzZUNvbnRleHQpIHtcbiAgaWYgKGNoaWxkcmVuID09IG51bGwpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIHJldHVybiB0cmF2ZXJzZUFsbENoaWxkcmVuSW1wbChjaGlsZHJlbiwgJycsIGNhbGxiYWNrLCB0cmF2ZXJzZUNvbnRleHQpO1xufVxuLyoqXG4gKiBHZW5lcmF0ZSBhIGtleSBzdHJpbmcgdGhhdCBpZGVudGlmaWVzIGEgY29tcG9uZW50IHdpdGhpbiBhIHNldC5cbiAqXG4gKiBAcGFyYW0geyp9IGNvbXBvbmVudCBBIGNvbXBvbmVudCB0aGF0IGNvdWxkIGNvbnRhaW4gYSBtYW51YWwga2V5LlxuICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IEluZGV4IHRoYXQgaXMgdXNlZCBpZiBhIG1hbnVhbCBrZXkgaXMgbm90IHByb3ZpZGVkLlxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5cblxuZnVuY3Rpb24gZ2V0Q29tcG9uZW50S2V5KGNvbXBvbmVudCwgaW5kZXgpIHtcbiAgLy8gRG8gc29tZSB0eXBlY2hlY2tpbmcgaGVyZSBzaW5jZSB3ZSBjYWxsIHRoaXMgYmxpbmRseS4gV2Ugd2FudCB0byBlbnN1cmVcbiAgLy8gdGhhdCB3ZSBkb24ndCBibG9jayBwb3RlbnRpYWwgZnV0dXJlIEVTIEFQSXMuXG4gIGlmICh0eXBlb2YgY29tcG9uZW50ID09PSAnb2JqZWN0JyAmJiBjb21wb25lbnQgIT09IG51bGwgJiYgY29tcG9uZW50LmtleSAhPSBudWxsKSB7XG4gICAgLy8gRXhwbGljaXQga2V5XG4gICAgcmV0dXJuIGVzY2FwZShjb21wb25lbnQua2V5KTtcbiAgfSAvLyBJbXBsaWNpdCBrZXkgZGV0ZXJtaW5lZCBieSB0aGUgaW5kZXggaW4gdGhlIHNldFxuXG5cbiAgcmV0dXJuIGluZGV4LnRvU3RyaW5nKDM2KTtcbn1cblxuZnVuY3Rpb24gZm9yRWFjaFNpbmdsZUNoaWxkKGJvb2tLZWVwaW5nLCBjaGlsZCwgbmFtZSkge1xuICB2YXIgZnVuYyA9IGJvb2tLZWVwaW5nLmZ1bmMsXG4gICAgICBjb250ZXh0ID0gYm9va0tlZXBpbmcuY29udGV4dDtcbiAgZnVuYy5jYWxsKGNvbnRleHQsIGNoaWxkLCBib29rS2VlcGluZy5jb3VudCsrKTtcbn1cbi8qKlxuICogSXRlcmF0ZXMgdGhyb3VnaCBjaGlsZHJlbiB0aGF0IGFyZSB0eXBpY2FsbHkgc3BlY2lmaWVkIGFzIGBwcm9wcy5jaGlsZHJlbmAuXG4gKlxuICogU2VlIGh0dHBzOi8vcmVhY3Rqcy5vcmcvZG9jcy9yZWFjdC1hcGkuaHRtbCNyZWFjdGNoaWxkcmVuZm9yZWFjaFxuICpcbiAqIFRoZSBwcm92aWRlZCBmb3JFYWNoRnVuYyhjaGlsZCwgaW5kZXgpIHdpbGwgYmUgY2FsbGVkIGZvciBlYWNoXG4gKiBsZWFmIGNoaWxkLlxuICpcbiAqIEBwYXJhbSB7Pyp9IGNoaWxkcmVuIENoaWxkcmVuIHRyZWUgY29udGFpbmVyLlxuICogQHBhcmFtIHtmdW5jdGlvbigqLCBpbnQpfSBmb3JFYWNoRnVuY1xuICogQHBhcmFtIHsqfSBmb3JFYWNoQ29udGV4dCBDb250ZXh0IGZvciBmb3JFYWNoQ29udGV4dC5cbiAqL1xuXG5cbmZ1bmN0aW9uIGZvckVhY2hDaGlsZHJlbihjaGlsZHJlbiwgZm9yRWFjaEZ1bmMsIGZvckVhY2hDb250ZXh0KSB7XG4gIGlmIChjaGlsZHJlbiA9PSBudWxsKSB7XG4gICAgcmV0dXJuIGNoaWxkcmVuO1xuICB9XG5cbiAgdmFyIHRyYXZlcnNlQ29udGV4dCA9IGdldFBvb2xlZFRyYXZlcnNlQ29udGV4dChudWxsLCBudWxsLCBmb3JFYWNoRnVuYywgZm9yRWFjaENvbnRleHQpO1xuICB0cmF2ZXJzZUFsbENoaWxkcmVuKGNoaWxkcmVuLCBmb3JFYWNoU2luZ2xlQ2hpbGQsIHRyYXZlcnNlQ29udGV4dCk7XG4gIHJlbGVhc2VUcmF2ZXJzZUNvbnRleHQodHJhdmVyc2VDb250ZXh0KTtcbn1cblxuZnVuY3Rpb24gbWFwU2luZ2xlQ2hpbGRJbnRvQ29udGV4dChib29rS2VlcGluZywgY2hpbGQsIGNoaWxkS2V5KSB7XG4gIHZhciByZXN1bHQgPSBib29rS2VlcGluZy5yZXN1bHQsXG4gICAgICBrZXlQcmVmaXggPSBib29rS2VlcGluZy5rZXlQcmVmaXgsXG4gICAgICBmdW5jID0gYm9va0tlZXBpbmcuZnVuYyxcbiAgICAgIGNvbnRleHQgPSBib29rS2VlcGluZy5jb250ZXh0O1xuICB2YXIgbWFwcGVkQ2hpbGQgPSBmdW5jLmNhbGwoY29udGV4dCwgY2hpbGQsIGJvb2tLZWVwaW5nLmNvdW50KyspO1xuXG4gIGlmIChBcnJheS5pc0FycmF5KG1hcHBlZENoaWxkKSkge1xuICAgIG1hcEludG9XaXRoS2V5UHJlZml4SW50ZXJuYWwobWFwcGVkQ2hpbGQsIHJlc3VsdCwgY2hpbGRLZXksIGZ1bmN0aW9uIChjKSB7XG4gICAgICByZXR1cm4gYztcbiAgICB9KTtcbiAgfSBlbHNlIGlmIChtYXBwZWRDaGlsZCAhPSBudWxsKSB7XG4gICAgaWYgKGlzVmFsaWRFbGVtZW50KG1hcHBlZENoaWxkKSkge1xuICAgICAgbWFwcGVkQ2hpbGQgPSBjbG9uZUFuZFJlcGxhY2VLZXkobWFwcGVkQ2hpbGQsIC8vIEtlZXAgYm90aCB0aGUgKG1hcHBlZCkgYW5kIG9sZCBrZXlzIGlmIHRoZXkgZGlmZmVyLCBqdXN0IGFzXG4gICAgICAvLyB0cmF2ZXJzZUFsbENoaWxkcmVuIHVzZWQgdG8gZG8gZm9yIG9iamVjdHMgYXMgY2hpbGRyZW5cbiAgICAgIGtleVByZWZpeCArIChtYXBwZWRDaGlsZC5rZXkgJiYgKCFjaGlsZCB8fCBjaGlsZC5rZXkgIT09IG1hcHBlZENoaWxkLmtleSkgPyBlc2NhcGVVc2VyUHJvdmlkZWRLZXkobWFwcGVkQ2hpbGQua2V5KSArICcvJyA6ICcnKSArIGNoaWxkS2V5KTtcbiAgICB9XG5cbiAgICByZXN1bHQucHVzaChtYXBwZWRDaGlsZCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gbWFwSW50b1dpdGhLZXlQcmVmaXhJbnRlcm5hbChjaGlsZHJlbiwgYXJyYXksIHByZWZpeCwgZnVuYywgY29udGV4dCkge1xuICB2YXIgZXNjYXBlZFByZWZpeCA9ICcnO1xuXG4gIGlmIChwcmVmaXggIT0gbnVsbCkge1xuICAgIGVzY2FwZWRQcmVmaXggPSBlc2NhcGVVc2VyUHJvdmlkZWRLZXkocHJlZml4KSArICcvJztcbiAgfVxuXG4gIHZhciB0cmF2ZXJzZUNvbnRleHQgPSBnZXRQb29sZWRUcmF2ZXJzZUNvbnRleHQoYXJyYXksIGVzY2FwZWRQcmVmaXgsIGZ1bmMsIGNvbnRleHQpO1xuICB0cmF2ZXJzZUFsbENoaWxkcmVuKGNoaWxkcmVuLCBtYXBTaW5nbGVDaGlsZEludG9Db250ZXh0LCB0cmF2ZXJzZUNvbnRleHQpO1xuICByZWxlYXNlVHJhdmVyc2VDb250ZXh0KHRyYXZlcnNlQ29udGV4dCk7XG59XG4vKipcbiAqIE1hcHMgY2hpbGRyZW4gdGhhdCBhcmUgdHlwaWNhbGx5IHNwZWNpZmllZCBhcyBgcHJvcHMuY2hpbGRyZW5gLlxuICpcbiAqIFNlZSBodHRwczovL3JlYWN0anMub3JnL2RvY3MvcmVhY3QtYXBpLmh0bWwjcmVhY3RjaGlsZHJlbm1hcFxuICpcbiAqIFRoZSBwcm92aWRlZCBtYXBGdW5jdGlvbihjaGlsZCwga2V5LCBpbmRleCkgd2lsbCBiZSBjYWxsZWQgZm9yIGVhY2hcbiAqIGxlYWYgY2hpbGQuXG4gKlxuICogQHBhcmFtIHs/Kn0gY2hpbGRyZW4gQ2hpbGRyZW4gdHJlZSBjb250YWluZXIuXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKCosIGludCl9IGZ1bmMgVGhlIG1hcCBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gY29udGV4dCBDb250ZXh0IGZvciBtYXBGdW5jdGlvbi5cbiAqIEByZXR1cm4ge29iamVjdH0gT2JqZWN0IGNvbnRhaW5pbmcgdGhlIG9yZGVyZWQgbWFwIG9mIHJlc3VsdHMuXG4gKi9cblxuXG5mdW5jdGlvbiBtYXBDaGlsZHJlbihjaGlsZHJlbiwgZnVuYywgY29udGV4dCkge1xuICBpZiAoY2hpbGRyZW4gPT0gbnVsbCkge1xuICAgIHJldHVybiBjaGlsZHJlbjtcbiAgfVxuXG4gIHZhciByZXN1bHQgPSBbXTtcbiAgbWFwSW50b1dpdGhLZXlQcmVmaXhJbnRlcm5hbChjaGlsZHJlbiwgcmVzdWx0LCBudWxsLCBmdW5jLCBjb250ZXh0KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cbi8qKlxuICogQ291bnQgdGhlIG51bWJlciBvZiBjaGlsZHJlbiB0aGF0IGFyZSB0eXBpY2FsbHkgc3BlY2lmaWVkIGFzXG4gKiBgcHJvcHMuY2hpbGRyZW5gLlxuICpcbiAqIFNlZSBodHRwczovL3JlYWN0anMub3JnL2RvY3MvcmVhY3QtYXBpLmh0bWwjcmVhY3RjaGlsZHJlbmNvdW50XG4gKlxuICogQHBhcmFtIHs/Kn0gY2hpbGRyZW4gQ2hpbGRyZW4gdHJlZSBjb250YWluZXIuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBudW1iZXIgb2YgY2hpbGRyZW4uXG4gKi9cblxuXG5mdW5jdGlvbiBjb3VudENoaWxkcmVuKGNoaWxkcmVuKSB7XG4gIHJldHVybiB0cmF2ZXJzZUFsbENoaWxkcmVuKGNoaWxkcmVuLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH0sIG51bGwpO1xufVxuLyoqXG4gKiBGbGF0dGVuIGEgY2hpbGRyZW4gb2JqZWN0ICh0eXBpY2FsbHkgc3BlY2lmaWVkIGFzIGBwcm9wcy5jaGlsZHJlbmApIGFuZFxuICogcmV0dXJuIGFuIGFycmF5IHdpdGggYXBwcm9wcmlhdGVseSByZS1rZXllZCBjaGlsZHJlbi5cbiAqXG4gKiBTZWUgaHR0cHM6Ly9yZWFjdGpzLm9yZy9kb2NzL3JlYWN0LWFwaS5odG1sI3JlYWN0Y2hpbGRyZW50b2FycmF5XG4gKi9cblxuXG5mdW5jdGlvbiB0b0FycmF5KGNoaWxkcmVuKSB7XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgbWFwSW50b1dpdGhLZXlQcmVmaXhJbnRlcm5hbChjaGlsZHJlbiwgcmVzdWx0LCBudWxsLCBmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICByZXR1cm4gY2hpbGQ7XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBmaXJzdCBjaGlsZCBpbiBhIGNvbGxlY3Rpb24gb2YgY2hpbGRyZW4gYW5kIHZlcmlmaWVzIHRoYXQgdGhlcmVcbiAqIGlzIG9ubHkgb25lIGNoaWxkIGluIHRoZSBjb2xsZWN0aW9uLlxuICpcbiAqIFNlZSBodHRwczovL3JlYWN0anMub3JnL2RvY3MvcmVhY3QtYXBpLmh0bWwjcmVhY3RjaGlsZHJlbm9ubHlcbiAqXG4gKiBUaGUgY3VycmVudCBpbXBsZW1lbnRhdGlvbiBvZiB0aGlzIGZ1bmN0aW9uIGFzc3VtZXMgdGhhdCBhIHNpbmdsZSBjaGlsZCBnZXRzXG4gKiBwYXNzZWQgd2l0aG91dCBhIHdyYXBwZXIsIGJ1dCB0aGUgcHVycG9zZSBvZiB0aGlzIGhlbHBlciBmdW5jdGlvbiBpcyB0b1xuICogYWJzdHJhY3QgYXdheSB0aGUgcGFydGljdWxhciBzdHJ1Y3R1cmUgb2YgY2hpbGRyZW4uXG4gKlxuICogQHBhcmFtIHs/b2JqZWN0fSBjaGlsZHJlbiBDaGlsZCBjb2xsZWN0aW9uIHN0cnVjdHVyZS5cbiAqIEByZXR1cm4ge1JlYWN0RWxlbWVudH0gVGhlIGZpcnN0IGFuZCBvbmx5IGBSZWFjdEVsZW1lbnRgIGNvbnRhaW5lZCBpbiB0aGVcbiAqIHN0cnVjdHVyZS5cbiAqL1xuXG5cbmZ1bmN0aW9uIG9ubHlDaGlsZChjaGlsZHJlbikge1xuICBpZiAoIWlzVmFsaWRFbGVtZW50KGNoaWxkcmVuKSkge1xuICAgIHtcbiAgICAgIHRocm93IEVycm9yKFwiUmVhY3QuQ2hpbGRyZW4ub25seSBleHBlY3RlZCB0byByZWNlaXZlIGEgc2luZ2xlIFJlYWN0IGVsZW1lbnQgY2hpbGQuXCIpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBjaGlsZHJlbjtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQ29udGV4dChkZWZhdWx0VmFsdWUsIGNhbGN1bGF0ZUNoYW5nZWRCaXRzKSB7XG4gIGlmIChjYWxjdWxhdGVDaGFuZ2VkQml0cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgY2FsY3VsYXRlQ2hhbmdlZEJpdHMgPSBudWxsO1xuICB9IGVsc2Uge1xuICAgIHtcbiAgICAgICEoY2FsY3VsYXRlQ2hhbmdlZEJpdHMgPT09IG51bGwgfHwgdHlwZW9mIGNhbGN1bGF0ZUNoYW5nZWRCaXRzID09PSAnZnVuY3Rpb24nKSA/IHdhcm5pbmdXaXRob3V0U3RhY2skMShmYWxzZSwgJ2NyZWF0ZUNvbnRleHQ6IEV4cGVjdGVkIHRoZSBvcHRpb25hbCBzZWNvbmQgYXJndW1lbnQgdG8gYmUgYSAnICsgJ2Z1bmN0aW9uLiBJbnN0ZWFkIHJlY2VpdmVkOiAlcycsIGNhbGN1bGF0ZUNoYW5nZWRCaXRzKSA6IHZvaWQgMDtcbiAgICB9XG4gIH1cblxuICB2YXIgY29udGV4dCA9IHtcbiAgICAkJHR5cGVvZjogUkVBQ1RfQ09OVEVYVF9UWVBFLFxuICAgIF9jYWxjdWxhdGVDaGFuZ2VkQml0czogY2FsY3VsYXRlQ2hhbmdlZEJpdHMsXG4gICAgLy8gQXMgYSB3b3JrYXJvdW5kIHRvIHN1cHBvcnQgbXVsdGlwbGUgY29uY3VycmVudCByZW5kZXJlcnMsIHdlIGNhdGVnb3JpemVcbiAgICAvLyBzb21lIHJlbmRlcmVycyBhcyBwcmltYXJ5IGFuZCBvdGhlcnMgYXMgc2Vjb25kYXJ5LiBXZSBvbmx5IGV4cGVjdFxuICAgIC8vIHRoZXJlIHRvIGJlIHR3byBjb25jdXJyZW50IHJlbmRlcmVycyBhdCBtb3N0OiBSZWFjdCBOYXRpdmUgKHByaW1hcnkpIGFuZFxuICAgIC8vIEZhYnJpYyAoc2Vjb25kYXJ5KTsgUmVhY3QgRE9NIChwcmltYXJ5KSBhbmQgUmVhY3QgQVJUIChzZWNvbmRhcnkpLlxuICAgIC8vIFNlY29uZGFyeSByZW5kZXJlcnMgc3RvcmUgdGhlaXIgY29udGV4dCB2YWx1ZXMgb24gc2VwYXJhdGUgZmllbGRzLlxuICAgIF9jdXJyZW50VmFsdWU6IGRlZmF1bHRWYWx1ZSxcbiAgICBfY3VycmVudFZhbHVlMjogZGVmYXVsdFZhbHVlLFxuICAgIC8vIFVzZWQgdG8gdHJhY2sgaG93IG1hbnkgY29uY3VycmVudCByZW5kZXJlcnMgdGhpcyBjb250ZXh0IGN1cnJlbnRseVxuICAgIC8vIHN1cHBvcnRzIHdpdGhpbiBpbiBhIHNpbmdsZSByZW5kZXJlci4gU3VjaCBhcyBwYXJhbGxlbCBzZXJ2ZXIgcmVuZGVyaW5nLlxuICAgIF90aHJlYWRDb3VudDogMCxcbiAgICAvLyBUaGVzZSBhcmUgY2lyY3VsYXJcbiAgICBQcm92aWRlcjogbnVsbCxcbiAgICBDb25zdW1lcjogbnVsbFxuICB9O1xuICBjb250ZXh0LlByb3ZpZGVyID0ge1xuICAgICQkdHlwZW9mOiBSRUFDVF9QUk9WSURFUl9UWVBFLFxuICAgIF9jb250ZXh0OiBjb250ZXh0XG4gIH07XG4gIHZhciBoYXNXYXJuZWRBYm91dFVzaW5nTmVzdGVkQ29udGV4dENvbnN1bWVycyA9IGZhbHNlO1xuICB2YXIgaGFzV2FybmVkQWJvdXRVc2luZ0NvbnN1bWVyUHJvdmlkZXIgPSBmYWxzZTtcblxuICB7XG4gICAgLy8gQSBzZXBhcmF0ZSBvYmplY3QsIGJ1dCBwcm94aWVzIGJhY2sgdG8gdGhlIG9yaWdpbmFsIGNvbnRleHQgb2JqZWN0IGZvclxuICAgIC8vIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LiBJdCBoYXMgYSBkaWZmZXJlbnQgJCR0eXBlb2YsIHNvIHdlIGNhbiBwcm9wZXJseVxuICAgIC8vIHdhcm4gZm9yIHRoZSBpbmNvcnJlY3QgdXNhZ2Ugb2YgQ29udGV4dCBhcyBhIENvbnN1bWVyLlxuICAgIHZhciBDb25zdW1lciA9IHtcbiAgICAgICQkdHlwZW9mOiBSRUFDVF9DT05URVhUX1RZUEUsXG4gICAgICBfY29udGV4dDogY29udGV4dCxcbiAgICAgIF9jYWxjdWxhdGVDaGFuZ2VkQml0czogY29udGV4dC5fY2FsY3VsYXRlQ2hhbmdlZEJpdHNcbiAgICB9OyAvLyAkRmxvd0ZpeE1lOiBGbG93IGNvbXBsYWlucyBhYm91dCBub3Qgc2V0dGluZyBhIHZhbHVlLCB3aGljaCBpcyBpbnRlbnRpb25hbCBoZXJlXG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhDb25zdW1lciwge1xuICAgICAgUHJvdmlkZXI6IHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKCFoYXNXYXJuZWRBYm91dFVzaW5nQ29uc3VtZXJQcm92aWRlcikge1xuICAgICAgICAgICAgaGFzV2FybmVkQWJvdXRVc2luZ0NvbnN1bWVyUHJvdmlkZXIgPSB0cnVlO1xuICAgICAgICAgICAgd2FybmluZyQxKGZhbHNlLCAnUmVuZGVyaW5nIDxDb250ZXh0LkNvbnN1bWVyLlByb3ZpZGVyPiBpcyBub3Qgc3VwcG9ydGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gJyArICdhIGZ1dHVyZSBtYWpvciByZWxlYXNlLiBEaWQgeW91IG1lYW4gdG8gcmVuZGVyIDxDb250ZXh0LlByb3ZpZGVyPiBpbnN0ZWFkPycpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBjb250ZXh0LlByb3ZpZGVyO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChfUHJvdmlkZXIpIHtcbiAgICAgICAgICBjb250ZXh0LlByb3ZpZGVyID0gX1Byb3ZpZGVyO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgX2N1cnJlbnRWYWx1ZToge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gY29udGV4dC5fY3VycmVudFZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChfY3VycmVudFZhbHVlKSB7XG4gICAgICAgICAgY29udGV4dC5fY3VycmVudFZhbHVlID0gX2N1cnJlbnRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIF9jdXJyZW50VmFsdWUyOiB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBjb250ZXh0Ll9jdXJyZW50VmFsdWUyO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChfY3VycmVudFZhbHVlMikge1xuICAgICAgICAgIGNvbnRleHQuX2N1cnJlbnRWYWx1ZTIgPSBfY3VycmVudFZhbHVlMjtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIF90aHJlYWRDb3VudDoge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gY29udGV4dC5fdGhyZWFkQ291bnQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKF90aHJlYWRDb3VudCkge1xuICAgICAgICAgIGNvbnRleHQuX3RocmVhZENvdW50ID0gX3RocmVhZENvdW50O1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgQ29uc3VtZXI6IHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKCFoYXNXYXJuZWRBYm91dFVzaW5nTmVzdGVkQ29udGV4dENvbnN1bWVycykge1xuICAgICAgICAgICAgaGFzV2FybmVkQWJvdXRVc2luZ05lc3RlZENvbnRleHRDb25zdW1lcnMgPSB0cnVlO1xuICAgICAgICAgICAgd2FybmluZyQxKGZhbHNlLCAnUmVuZGVyaW5nIDxDb250ZXh0LkNvbnN1bWVyLkNvbnN1bWVyPiBpcyBub3Qgc3VwcG9ydGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gJyArICdhIGZ1dHVyZSBtYWpvciByZWxlYXNlLiBEaWQgeW91IG1lYW4gdG8gcmVuZGVyIDxDb250ZXh0LkNvbnN1bWVyPiBpbnN0ZWFkPycpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBjb250ZXh0LkNvbnN1bWVyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7IC8vICRGbG93Rml4TWU6IEZsb3cgY29tcGxhaW5zIGFib3V0IG1pc3NpbmcgcHJvcGVydGllcyBiZWNhdXNlIGl0IGRvZXNuJ3QgdW5kZXJzdGFuZCBkZWZpbmVQcm9wZXJ0eVxuXG4gICAgY29udGV4dC5Db25zdW1lciA9IENvbnN1bWVyO1xuICB9XG5cbiAge1xuICAgIGNvbnRleHQuX2N1cnJlbnRSZW5kZXJlciA9IG51bGw7XG4gICAgY29udGV4dC5fY3VycmVudFJlbmRlcmVyMiA9IG51bGw7XG4gIH1cblxuICByZXR1cm4gY29udGV4dDtcbn1cblxuZnVuY3Rpb24gbGF6eShjdG9yKSB7XG4gIHZhciBsYXp5VHlwZSA9IHtcbiAgICAkJHR5cGVvZjogUkVBQ1RfTEFaWV9UWVBFLFxuICAgIF9jdG9yOiBjdG9yLFxuICAgIC8vIFJlYWN0IHVzZXMgdGhlc2UgZmllbGRzIHRvIHN0b3JlIHRoZSByZXN1bHQuXG4gICAgX3N0YXR1czogLTEsXG4gICAgX3Jlc3VsdDogbnVsbFxuICB9O1xuXG4gIHtcbiAgICAvLyBJbiBwcm9kdWN0aW9uLCB0aGlzIHdvdWxkIGp1c3Qgc2V0IGl0IG9uIHRoZSBvYmplY3QuXG4gICAgdmFyIGRlZmF1bHRQcm9wcztcbiAgICB2YXIgcHJvcFR5cGVzO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGxhenlUeXBlLCB7XG4gICAgICBkZWZhdWx0UHJvcHM6IHtcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gZGVmYXVsdFByb3BzO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChuZXdEZWZhdWx0UHJvcHMpIHtcbiAgICAgICAgICB3YXJuaW5nJDEoZmFsc2UsICdSZWFjdC5sYXp5KC4uLik6IEl0IGlzIG5vdCBzdXBwb3J0ZWQgdG8gYXNzaWduIGBkZWZhdWx0UHJvcHNgIHRvICcgKyAnYSBsYXp5IGNvbXBvbmVudCBpbXBvcnQuIEVpdGhlciBzcGVjaWZ5IHRoZW0gd2hlcmUgdGhlIGNvbXBvbmVudCAnICsgJ2lzIGRlZmluZWQsIG9yIGNyZWF0ZSBhIHdyYXBwaW5nIGNvbXBvbmVudCBhcm91bmQgaXQuJyk7XG4gICAgICAgICAgZGVmYXVsdFByb3BzID0gbmV3RGVmYXVsdFByb3BzOyAvLyBNYXRjaCBwcm9kdWN0aW9uIGJlaGF2aW9yIG1vcmUgY2xvc2VseTpcblxuICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShsYXp5VHlwZSwgJ2RlZmF1bHRQcm9wcycsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHByb3BUeXBlczoge1xuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBwcm9wVHlwZXM7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKG5ld1Byb3BUeXBlcykge1xuICAgICAgICAgIHdhcm5pbmckMShmYWxzZSwgJ1JlYWN0LmxhenkoLi4uKTogSXQgaXMgbm90IHN1cHBvcnRlZCB0byBhc3NpZ24gYHByb3BUeXBlc2AgdG8gJyArICdhIGxhenkgY29tcG9uZW50IGltcG9ydC4gRWl0aGVyIHNwZWNpZnkgdGhlbSB3aGVyZSB0aGUgY29tcG9uZW50ICcgKyAnaXMgZGVmaW5lZCwgb3IgY3JlYXRlIGEgd3JhcHBpbmcgY29tcG9uZW50IGFyb3VuZCBpdC4nKTtcbiAgICAgICAgICBwcm9wVHlwZXMgPSBuZXdQcm9wVHlwZXM7IC8vIE1hdGNoIHByb2R1Y3Rpb24gYmVoYXZpb3IgbW9yZSBjbG9zZWx5OlxuXG4gICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGxhenlUeXBlLCAncHJvcFR5cGVzJywge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gbGF6eVR5cGU7XG59XG5cbmZ1bmN0aW9uIGZvcndhcmRSZWYocmVuZGVyKSB7XG4gIHtcbiAgICBpZiAocmVuZGVyICE9IG51bGwgJiYgcmVuZGVyLiQkdHlwZW9mID09PSBSRUFDVF9NRU1PX1RZUEUpIHtcbiAgICAgIHdhcm5pbmdXaXRob3V0U3RhY2skMShmYWxzZSwgJ2ZvcndhcmRSZWYgcmVxdWlyZXMgYSByZW5kZXIgZnVuY3Rpb24gYnV0IHJlY2VpdmVkIGEgYG1lbW9gICcgKyAnY29tcG9uZW50LiBJbnN0ZWFkIG9mIGZvcndhcmRSZWYobWVtbyguLi4pKSwgdXNlICcgKyAnbWVtbyhmb3J3YXJkUmVmKC4uLikpLicpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHJlbmRlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgd2FybmluZ1dpdGhvdXRTdGFjayQxKGZhbHNlLCAnZm9yd2FyZFJlZiByZXF1aXJlcyBhIHJlbmRlciBmdW5jdGlvbiBidXQgd2FzIGdpdmVuICVzLicsIHJlbmRlciA9PT0gbnVsbCA/ICdudWxsJyA6IHR5cGVvZiByZW5kZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICAhKCAvLyBEbyBub3Qgd2FybiBmb3IgMCBhcmd1bWVudHMgYmVjYXVzZSBpdCBjb3VsZCBiZSBkdWUgdG8gdXNhZ2Ugb2YgdGhlICdhcmd1bWVudHMnIG9iamVjdFxuICAgICAgcmVuZGVyLmxlbmd0aCA9PT0gMCB8fCByZW5kZXIubGVuZ3RoID09PSAyKSA/IHdhcm5pbmdXaXRob3V0U3RhY2skMShmYWxzZSwgJ2ZvcndhcmRSZWYgcmVuZGVyIGZ1bmN0aW9ucyBhY2NlcHQgZXhhY3RseSB0d28gcGFyYW1ldGVyczogcHJvcHMgYW5kIHJlZi4gJXMnLCByZW5kZXIubGVuZ3RoID09PSAxID8gJ0RpZCB5b3UgZm9yZ2V0IHRvIHVzZSB0aGUgcmVmIHBhcmFtZXRlcj8nIDogJ0FueSBhZGRpdGlvbmFsIHBhcmFtZXRlciB3aWxsIGJlIHVuZGVmaW5lZC4nKSA6IHZvaWQgMDtcbiAgICB9XG5cbiAgICBpZiAocmVuZGVyICE9IG51bGwpIHtcbiAgICAgICEocmVuZGVyLmRlZmF1bHRQcm9wcyA9PSBudWxsICYmIHJlbmRlci5wcm9wVHlwZXMgPT0gbnVsbCkgPyB3YXJuaW5nV2l0aG91dFN0YWNrJDEoZmFsc2UsICdmb3J3YXJkUmVmIHJlbmRlciBmdW5jdGlvbnMgZG8gbm90IHN1cHBvcnQgcHJvcFR5cGVzIG9yIGRlZmF1bHRQcm9wcy4gJyArICdEaWQgeW91IGFjY2lkZW50YWxseSBwYXNzIGEgUmVhY3QgY29tcG9uZW50PycpIDogdm9pZCAwO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgJCR0eXBlb2Y6IFJFQUNUX0ZPUldBUkRfUkVGX1RZUEUsXG4gICAgcmVuZGVyOiByZW5kZXJcbiAgfTtcbn1cblxuZnVuY3Rpb24gaXNWYWxpZEVsZW1lbnRUeXBlKHR5cGUpIHtcbiAgcmV0dXJuIHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJyB8fCAvLyBOb3RlOiBpdHMgdHlwZW9mIG1pZ2h0IGJlIG90aGVyIHRoYW4gJ3N5bWJvbCcgb3IgJ251bWJlcicgaWYgaXQncyBhIHBvbHlmaWxsLlxuICB0eXBlID09PSBSRUFDVF9GUkFHTUVOVF9UWVBFIHx8IHR5cGUgPT09IFJFQUNUX0NPTkNVUlJFTlRfTU9ERV9UWVBFIHx8IHR5cGUgPT09IFJFQUNUX1BST0ZJTEVSX1RZUEUgfHwgdHlwZSA9PT0gUkVBQ1RfU1RSSUNUX01PREVfVFlQRSB8fCB0eXBlID09PSBSRUFDVF9TVVNQRU5TRV9UWVBFIHx8IHR5cGUgPT09IFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRSB8fCB0eXBlb2YgdHlwZSA9PT0gJ29iamVjdCcgJiYgdHlwZSAhPT0gbnVsbCAmJiAodHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfTEFaWV9UWVBFIHx8IHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX01FTU9fVFlQRSB8fCB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9QUk9WSURFUl9UWVBFIHx8IHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0NPTlRFWFRfVFlQRSB8fCB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFIHx8IHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0ZVTkRBTUVOVEFMX1RZUEUgfHwgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfUkVTUE9OREVSX1RZUEUgfHwgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfU0NPUEVfVFlQRSk7XG59XG5cbmZ1bmN0aW9uIG1lbW8odHlwZSwgY29tcGFyZSkge1xuICB7XG4gICAgaWYgKCFpc1ZhbGlkRWxlbWVudFR5cGUodHlwZSkpIHtcbiAgICAgIHdhcm5pbmdXaXRob3V0U3RhY2skMShmYWxzZSwgJ21lbW86IFRoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgY29tcG9uZW50LiBJbnN0ZWFkICcgKyAncmVjZWl2ZWQ6ICVzJywgdHlwZSA9PT0gbnVsbCA/ICdudWxsJyA6IHR5cGVvZiB0eXBlKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgICQkdHlwZW9mOiBSRUFDVF9NRU1PX1RZUEUsXG4gICAgdHlwZTogdHlwZSxcbiAgICBjb21wYXJlOiBjb21wYXJlID09PSB1bmRlZmluZWQgPyBudWxsIDogY29tcGFyZVxuICB9O1xufVxuXG5mdW5jdGlvbiByZXNvbHZlRGlzcGF0Y2hlcigpIHtcbiAgdmFyIGRpc3BhdGNoZXIgPSBSZWFjdEN1cnJlbnREaXNwYXRjaGVyLmN1cnJlbnQ7XG5cbiAgaWYgKCEoZGlzcGF0Y2hlciAhPT0gbnVsbCkpIHtcbiAgICB7XG4gICAgICB0aHJvdyBFcnJvcihcIkludmFsaWQgaG9vayBjYWxsLiBIb29rcyBjYW4gb25seSBiZSBjYWxsZWQgaW5zaWRlIG9mIHRoZSBib2R5IG9mIGEgZnVuY3Rpb24gY29tcG9uZW50LiBUaGlzIGNvdWxkIGhhcHBlbiBmb3Igb25lIG9mIHRoZSBmb2xsb3dpbmcgcmVhc29uczpcXG4xLiBZb3UgbWlnaHQgaGF2ZSBtaXNtYXRjaGluZyB2ZXJzaW9ucyBvZiBSZWFjdCBhbmQgdGhlIHJlbmRlcmVyIChzdWNoIGFzIFJlYWN0IERPTSlcXG4yLiBZb3UgbWlnaHQgYmUgYnJlYWtpbmcgdGhlIFJ1bGVzIG9mIEhvb2tzXFxuMy4gWW91IG1pZ2h0IGhhdmUgbW9yZSB0aGFuIG9uZSBjb3B5IG9mIFJlYWN0IGluIHRoZSBzYW1lIGFwcFxcblNlZSBodHRwczovL2ZiLm1lL3JlYWN0LWludmFsaWQtaG9vay1jYWxsIGZvciB0aXBzIGFib3V0IGhvdyB0byBkZWJ1ZyBhbmQgZml4IHRoaXMgcHJvYmxlbS5cIik7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGRpc3BhdGNoZXI7XG59XG5cbmZ1bmN0aW9uIHVzZUNvbnRleHQoQ29udGV4dCwgdW5zdGFibGVfb2JzZXJ2ZWRCaXRzKSB7XG4gIHZhciBkaXNwYXRjaGVyID0gcmVzb2x2ZURpc3BhdGNoZXIoKTtcblxuICB7XG4gICAgISh1bnN0YWJsZV9vYnNlcnZlZEJpdHMgPT09IHVuZGVmaW5lZCkgPyB3YXJuaW5nJDEoZmFsc2UsICd1c2VDb250ZXh0KCkgc2Vjb25kIGFyZ3VtZW50IGlzIHJlc2VydmVkIGZvciBmdXR1cmUgJyArICd1c2UgaW4gUmVhY3QuIFBhc3NpbmcgaXQgaXMgbm90IHN1cHBvcnRlZC4gJyArICdZb3UgcGFzc2VkOiAlcy4lcycsIHVuc3RhYmxlX29ic2VydmVkQml0cywgdHlwZW9mIHVuc3RhYmxlX29ic2VydmVkQml0cyA9PT0gJ251bWJlcicgJiYgQXJyYXkuaXNBcnJheShhcmd1bWVudHNbMl0pID8gJ1xcblxcbkRpZCB5b3UgY2FsbCBhcnJheS5tYXAodXNlQ29udGV4dCk/ICcgKyAnQ2FsbGluZyBIb29rcyBpbnNpZGUgYSBsb29wIGlzIG5vdCBzdXBwb3J0ZWQuICcgKyAnTGVhcm4gbW9yZSBhdCBodHRwczovL2ZiLm1lL3J1bGVzLW9mLWhvb2tzJyA6ICcnKSA6IHZvaWQgMDsgLy8gVE9ETzogYWRkIGEgbW9yZSBnZW5lcmljIHdhcm5pbmcgZm9yIGludmFsaWQgdmFsdWVzLlxuXG4gICAgaWYgKENvbnRleHQuX2NvbnRleHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdmFyIHJlYWxDb250ZXh0ID0gQ29udGV4dC5fY29udGV4dDsgLy8gRG9uJ3QgZGVkdXBsaWNhdGUgYmVjYXVzZSB0aGlzIGxlZ2l0aW1hdGVseSBjYXVzZXMgYnVnc1xuICAgICAgLy8gYW5kIG5vYm9keSBzaG91bGQgYmUgdXNpbmcgdGhpcyBpbiBleGlzdGluZyBjb2RlLlxuXG4gICAgICBpZiAocmVhbENvbnRleHQuQ29uc3VtZXIgPT09IENvbnRleHQpIHtcbiAgICAgICAgd2FybmluZyQxKGZhbHNlLCAnQ2FsbGluZyB1c2VDb250ZXh0KENvbnRleHQuQ29uc3VtZXIpIGlzIG5vdCBzdXBwb3J0ZWQsIG1heSBjYXVzZSBidWdzLCBhbmQgd2lsbCBiZSAnICsgJ3JlbW92ZWQgaW4gYSBmdXR1cmUgbWFqb3IgcmVsZWFzZS4gRGlkIHlvdSBtZWFuIHRvIGNhbGwgdXNlQ29udGV4dChDb250ZXh0KSBpbnN0ZWFkPycpO1xuICAgICAgfSBlbHNlIGlmIChyZWFsQ29udGV4dC5Qcm92aWRlciA9PT0gQ29udGV4dCkge1xuICAgICAgICB3YXJuaW5nJDEoZmFsc2UsICdDYWxsaW5nIHVzZUNvbnRleHQoQ29udGV4dC5Qcm92aWRlcikgaXMgbm90IHN1cHBvcnRlZC4gJyArICdEaWQgeW91IG1lYW4gdG8gY2FsbCB1c2VDb250ZXh0KENvbnRleHQpIGluc3RlYWQ/Jyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGRpc3BhdGNoZXIudXNlQ29udGV4dChDb250ZXh0LCB1bnN0YWJsZV9vYnNlcnZlZEJpdHMpO1xufVxuZnVuY3Rpb24gdXNlU3RhdGUoaW5pdGlhbFN0YXRlKSB7XG4gIHZhciBkaXNwYXRjaGVyID0gcmVzb2x2ZURpc3BhdGNoZXIoKTtcbiAgcmV0dXJuIGRpc3BhdGNoZXIudXNlU3RhdGUoaW5pdGlhbFN0YXRlKTtcbn1cbmZ1bmN0aW9uIHVzZVJlZHVjZXIocmVkdWNlciwgaW5pdGlhbEFyZywgaW5pdCkge1xuICB2YXIgZGlzcGF0Y2hlciA9IHJlc29sdmVEaXNwYXRjaGVyKCk7XG4gIHJldHVybiBkaXNwYXRjaGVyLnVzZVJlZHVjZXIocmVkdWNlciwgaW5pdGlhbEFyZywgaW5pdCk7XG59XG5mdW5jdGlvbiB1c2VSZWYoaW5pdGlhbFZhbHVlKSB7XG4gIHZhciBkaXNwYXRjaGVyID0gcmVzb2x2ZURpc3BhdGNoZXIoKTtcbiAgcmV0dXJuIGRpc3BhdGNoZXIudXNlUmVmKGluaXRpYWxWYWx1ZSk7XG59XG5mdW5jdGlvbiB1c2VFZmZlY3QoY3JlYXRlLCBpbnB1dHMpIHtcbiAgdmFyIGRpc3BhdGNoZXIgPSByZXNvbHZlRGlzcGF0Y2hlcigpO1xuICByZXR1cm4gZGlzcGF0Y2hlci51c2VFZmZlY3QoY3JlYXRlLCBpbnB1dHMpO1xufVxuZnVuY3Rpb24gdXNlTGF5b3V0RWZmZWN0KGNyZWF0ZSwgaW5wdXRzKSB7XG4gIHZhciBkaXNwYXRjaGVyID0gcmVzb2x2ZURpc3BhdGNoZXIoKTtcbiAgcmV0dXJuIGRpc3BhdGNoZXIudXNlTGF5b3V0RWZmZWN0KGNyZWF0ZSwgaW5wdXRzKTtcbn1cbmZ1bmN0aW9uIHVzZUNhbGxiYWNrKGNhbGxiYWNrLCBpbnB1dHMpIHtcbiAgdmFyIGRpc3BhdGNoZXIgPSByZXNvbHZlRGlzcGF0Y2hlcigpO1xuICByZXR1cm4gZGlzcGF0Y2hlci51c2VDYWxsYmFjayhjYWxsYmFjaywgaW5wdXRzKTtcbn1cbmZ1bmN0aW9uIHVzZU1lbW8oY3JlYXRlLCBpbnB1dHMpIHtcbiAgdmFyIGRpc3BhdGNoZXIgPSByZXNvbHZlRGlzcGF0Y2hlcigpO1xuICByZXR1cm4gZGlzcGF0Y2hlci51c2VNZW1vKGNyZWF0ZSwgaW5wdXRzKTtcbn1cbmZ1bmN0aW9uIHVzZUltcGVyYXRpdmVIYW5kbGUocmVmLCBjcmVhdGUsIGlucHV0cykge1xuICB2YXIgZGlzcGF0Y2hlciA9IHJlc29sdmVEaXNwYXRjaGVyKCk7XG4gIHJldHVybiBkaXNwYXRjaGVyLnVzZUltcGVyYXRpdmVIYW5kbGUocmVmLCBjcmVhdGUsIGlucHV0cyk7XG59XG5mdW5jdGlvbiB1c2VEZWJ1Z1ZhbHVlKHZhbHVlLCBmb3JtYXR0ZXJGbikge1xuICB7XG4gICAgdmFyIGRpc3BhdGNoZXIgPSByZXNvbHZlRGlzcGF0Y2hlcigpO1xuICAgIHJldHVybiBkaXNwYXRjaGVyLnVzZURlYnVnVmFsdWUodmFsdWUsIGZvcm1hdHRlckZuKTtcbiAgfVxufVxudmFyIGVtcHR5T2JqZWN0JDEgPSB7fTtcbmZ1bmN0aW9uIHVzZVJlc3BvbmRlcihyZXNwb25kZXIsIGxpc3RlbmVyUHJvcHMpIHtcbiAgdmFyIGRpc3BhdGNoZXIgPSByZXNvbHZlRGlzcGF0Y2hlcigpO1xuXG4gIHtcbiAgICBpZiAocmVzcG9uZGVyID09IG51bGwgfHwgcmVzcG9uZGVyLiQkdHlwZW9mICE9PSBSRUFDVF9SRVNQT05ERVJfVFlQRSkge1xuICAgICAgd2FybmluZyQxKGZhbHNlLCAndXNlUmVzcG9uZGVyOiBpbnZhbGlkIGZpcnN0IGFyZ3VtZW50LiBFeHBlY3RlZCBhbiBldmVudCByZXNwb25kZXIsIGJ1dCBpbnN0ZWFkIGdvdCAlcycsIHJlc3BvbmRlcik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGRpc3BhdGNoZXIudXNlUmVzcG9uZGVyKHJlc3BvbmRlciwgbGlzdGVuZXJQcm9wcyB8fCBlbXB0eU9iamVjdCQxKTtcbn1cbmZ1bmN0aW9uIHVzZVRyYW5zaXRpb24oY29uZmlnKSB7XG4gIHZhciBkaXNwYXRjaGVyID0gcmVzb2x2ZURpc3BhdGNoZXIoKTtcbiAgcmV0dXJuIGRpc3BhdGNoZXIudXNlVHJhbnNpdGlvbihjb25maWcpO1xufVxuZnVuY3Rpb24gdXNlRGVmZXJyZWRWYWx1ZSh2YWx1ZSwgY29uZmlnKSB7XG4gIHZhciBkaXNwYXRjaGVyID0gcmVzb2x2ZURpc3BhdGNoZXIoKTtcbiAgcmV0dXJuIGRpc3BhdGNoZXIudXNlRGVmZXJyZWRWYWx1ZSh2YWx1ZSwgY29uZmlnKTtcbn1cblxuZnVuY3Rpb24gd2l0aFN1c3BlbnNlQ29uZmlnKHNjb3BlLCBjb25maWcpIHtcbiAgdmFyIHByZXZpb3VzQ29uZmlnID0gUmVhY3RDdXJyZW50QmF0Y2hDb25maWcuc3VzcGVuc2U7XG4gIFJlYWN0Q3VycmVudEJhdGNoQ29uZmlnLnN1c3BlbnNlID0gY29uZmlnID09PSB1bmRlZmluZWQgPyBudWxsIDogY29uZmlnO1xuXG4gIHRyeSB7XG4gICAgc2NvcGUoKTtcbiAgfSBmaW5hbGx5IHtcbiAgICBSZWFjdEN1cnJlbnRCYXRjaENvbmZpZy5zdXNwZW5zZSA9IHByZXZpb3VzQ29uZmlnO1xuICB9XG59XG5cbi8qKlxuICogUmVhY3RFbGVtZW50VmFsaWRhdG9yIHByb3ZpZGVzIGEgd3JhcHBlciBhcm91bmQgYSBlbGVtZW50IGZhY3RvcnlcbiAqIHdoaWNoIHZhbGlkYXRlcyB0aGUgcHJvcHMgcGFzc2VkIHRvIHRoZSBlbGVtZW50LiBUaGlzIGlzIGludGVuZGVkIHRvIGJlXG4gKiB1c2VkIG9ubHkgaW4gREVWIGFuZCBjb3VsZCBiZSByZXBsYWNlZCBieSBhIHN0YXRpYyB0eXBlIGNoZWNrZXIgZm9yIGxhbmd1YWdlc1xuICogdGhhdCBzdXBwb3J0IGl0LlxuICovXG52YXIgcHJvcFR5cGVzTWlzc3BlbGxXYXJuaW5nU2hvd247XG5cbntcbiAgcHJvcFR5cGVzTWlzc3BlbGxXYXJuaW5nU2hvd24gPSBmYWxzZTtcbn1cblxudmFyIGhhc093blByb3BlcnR5JDEgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXG5mdW5jdGlvbiBnZXREZWNsYXJhdGlvbkVycm9yQWRkZW5kdW0oKSB7XG4gIGlmIChSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50KSB7XG4gICAgdmFyIG5hbWUgPSBnZXRDb21wb25lbnROYW1lKFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQudHlwZSk7XG5cbiAgICBpZiAobmFtZSkge1xuICAgICAgcmV0dXJuICdcXG5cXG5DaGVjayB0aGUgcmVuZGVyIG1ldGhvZCBvZiBgJyArIG5hbWUgKyAnYC4nO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiAnJztcbn1cblxuZnVuY3Rpb24gZ2V0U291cmNlSW5mb0Vycm9yQWRkZW5kdW0oc291cmNlKSB7XG4gIGlmIChzb3VyY2UgIT09IHVuZGVmaW5lZCkge1xuICAgIHZhciBmaWxlTmFtZSA9IHNvdXJjZS5maWxlTmFtZS5yZXBsYWNlKC9eLipbXFxcXFxcL10vLCAnJyk7XG4gICAgdmFyIGxpbmVOdW1iZXIgPSBzb3VyY2UubGluZU51bWJlcjtcbiAgICByZXR1cm4gJ1xcblxcbkNoZWNrIHlvdXIgY29kZSBhdCAnICsgZmlsZU5hbWUgKyAnOicgKyBsaW5lTnVtYmVyICsgJy4nO1xuICB9XG5cbiAgcmV0dXJuICcnO1xufVxuXG5mdW5jdGlvbiBnZXRTb3VyY2VJbmZvRXJyb3JBZGRlbmR1bUZvclByb3BzKGVsZW1lbnRQcm9wcykge1xuICBpZiAoZWxlbWVudFByb3BzICE9PSBudWxsICYmIGVsZW1lbnRQcm9wcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIGdldFNvdXJjZUluZm9FcnJvckFkZGVuZHVtKGVsZW1lbnRQcm9wcy5fX3NvdXJjZSk7XG4gIH1cblxuICByZXR1cm4gJyc7XG59XG4vKipcbiAqIFdhcm4gaWYgdGhlcmUncyBubyBrZXkgZXhwbGljaXRseSBzZXQgb24gZHluYW1pYyBhcnJheXMgb2YgY2hpbGRyZW4gb3JcbiAqIG9iamVjdCBrZXlzIGFyZSBub3QgdmFsaWQuIFRoaXMgYWxsb3dzIHVzIHRvIGtlZXAgdHJhY2sgb2YgY2hpbGRyZW4gYmV0d2VlblxuICogdXBkYXRlcy5cbiAqL1xuXG5cbnZhciBvd25lckhhc0tleVVzZVdhcm5pbmcgPSB7fTtcblxuZnVuY3Rpb24gZ2V0Q3VycmVudENvbXBvbmVudEVycm9ySW5mbyhwYXJlbnRUeXBlKSB7XG4gIHZhciBpbmZvID0gZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtKCk7XG5cbiAgaWYgKCFpbmZvKSB7XG4gICAgdmFyIHBhcmVudE5hbWUgPSB0eXBlb2YgcGFyZW50VHlwZSA9PT0gJ3N0cmluZycgPyBwYXJlbnRUeXBlIDogcGFyZW50VHlwZS5kaXNwbGF5TmFtZSB8fCBwYXJlbnRUeXBlLm5hbWU7XG5cbiAgICBpZiAocGFyZW50TmFtZSkge1xuICAgICAgaW5mbyA9IFwiXFxuXFxuQ2hlY2sgdGhlIHRvcC1sZXZlbCByZW5kZXIgY2FsbCB1c2luZyA8XCIgKyBwYXJlbnROYW1lICsgXCI+LlwiO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBpbmZvO1xufVxuLyoqXG4gKiBXYXJuIGlmIHRoZSBlbGVtZW50IGRvZXNuJ3QgaGF2ZSBhbiBleHBsaWNpdCBrZXkgYXNzaWduZWQgdG8gaXQuXG4gKiBUaGlzIGVsZW1lbnQgaXMgaW4gYW4gYXJyYXkuIFRoZSBhcnJheSBjb3VsZCBncm93IGFuZCBzaHJpbmsgb3IgYmVcbiAqIHJlb3JkZXJlZC4gQWxsIGNoaWxkcmVuIHRoYXQgaGF2ZW4ndCBhbHJlYWR5IGJlZW4gdmFsaWRhdGVkIGFyZSByZXF1aXJlZCB0b1xuICogaGF2ZSBhIFwia2V5XCIgcHJvcGVydHkgYXNzaWduZWQgdG8gaXQuIEVycm9yIHN0YXR1c2VzIGFyZSBjYWNoZWQgc28gYSB3YXJuaW5nXG4gKiB3aWxsIG9ubHkgYmUgc2hvd24gb25jZS5cbiAqXG4gKiBAaW50ZXJuYWxcbiAqIEBwYXJhbSB7UmVhY3RFbGVtZW50fSBlbGVtZW50IEVsZW1lbnQgdGhhdCByZXF1aXJlcyBhIGtleS5cbiAqIEBwYXJhbSB7Kn0gcGFyZW50VHlwZSBlbGVtZW50J3MgcGFyZW50J3MgdHlwZS5cbiAqL1xuXG5cbmZ1bmN0aW9uIHZhbGlkYXRlRXhwbGljaXRLZXkoZWxlbWVudCwgcGFyZW50VHlwZSkge1xuICBpZiAoIWVsZW1lbnQuX3N0b3JlIHx8IGVsZW1lbnQuX3N0b3JlLnZhbGlkYXRlZCB8fCBlbGVtZW50LmtleSAhPSBudWxsKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgZWxlbWVudC5fc3RvcmUudmFsaWRhdGVkID0gdHJ1ZTtcbiAgdmFyIGN1cnJlbnRDb21wb25lbnRFcnJvckluZm8gPSBnZXRDdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvKHBhcmVudFR5cGUpO1xuXG4gIGlmIChvd25lckhhc0tleVVzZVdhcm5pbmdbY3VycmVudENvbXBvbmVudEVycm9ySW5mb10pIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBvd25lckhhc0tleVVzZVdhcm5pbmdbY3VycmVudENvbXBvbmVudEVycm9ySW5mb10gPSB0cnVlOyAvLyBVc3VhbGx5IHRoZSBjdXJyZW50IG93bmVyIGlzIHRoZSBvZmZlbmRlciwgYnV0IGlmIGl0IGFjY2VwdHMgY2hpbGRyZW4gYXMgYVxuICAvLyBwcm9wZXJ0eSwgaXQgbWF5IGJlIHRoZSBjcmVhdG9yIG9mIHRoZSBjaGlsZCB0aGF0J3MgcmVzcG9uc2libGUgZm9yXG4gIC8vIGFzc2lnbmluZyBpdCBhIGtleS5cblxuICB2YXIgY2hpbGRPd25lciA9ICcnO1xuXG4gIGlmIChlbGVtZW50ICYmIGVsZW1lbnQuX293bmVyICYmIGVsZW1lbnQuX293bmVyICE9PSBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50KSB7XG4gICAgLy8gR2l2ZSB0aGUgY29tcG9uZW50IHRoYXQgb3JpZ2luYWxseSBjcmVhdGVkIHRoaXMgY2hpbGQuXG4gICAgY2hpbGRPd25lciA9IFwiIEl0IHdhcyBwYXNzZWQgYSBjaGlsZCBmcm9tIFwiICsgZ2V0Q29tcG9uZW50TmFtZShlbGVtZW50Ll9vd25lci50eXBlKSArIFwiLlwiO1xuICB9XG5cbiAgc2V0Q3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQoZWxlbWVudCk7XG5cbiAge1xuICAgIHdhcm5pbmckMShmYWxzZSwgJ0VhY2ggY2hpbGQgaW4gYSBsaXN0IHNob3VsZCBoYXZlIGEgdW5pcXVlIFwia2V5XCIgcHJvcC4nICsgJyVzJXMgU2VlIGh0dHBzOi8vZmIubWUvcmVhY3Qtd2FybmluZy1rZXlzIGZvciBtb3JlIGluZm9ybWF0aW9uLicsIGN1cnJlbnRDb21wb25lbnRFcnJvckluZm8sIGNoaWxkT3duZXIpO1xuICB9XG5cbiAgc2V0Q3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQobnVsbCk7XG59XG4vKipcbiAqIEVuc3VyZSB0aGF0IGV2ZXJ5IGVsZW1lbnQgZWl0aGVyIGlzIHBhc3NlZCBpbiBhIHN0YXRpYyBsb2NhdGlvbiwgaW4gYW5cbiAqIGFycmF5IHdpdGggYW4gZXhwbGljaXQga2V5cyBwcm9wZXJ0eSBkZWZpbmVkLCBvciBpbiBhbiBvYmplY3QgbGl0ZXJhbFxuICogd2l0aCB2YWxpZCBrZXkgcHJvcGVydHkuXG4gKlxuICogQGludGVybmFsXG4gKiBAcGFyYW0ge1JlYWN0Tm9kZX0gbm9kZSBTdGF0aWNhbGx5IHBhc3NlZCBjaGlsZCBvZiBhbnkgdHlwZS5cbiAqIEBwYXJhbSB7Kn0gcGFyZW50VHlwZSBub2RlJ3MgcGFyZW50J3MgdHlwZS5cbiAqL1xuXG5cbmZ1bmN0aW9uIHZhbGlkYXRlQ2hpbGRLZXlzKG5vZGUsIHBhcmVudFR5cGUpIHtcbiAgaWYgKHR5cGVvZiBub2RlICE9PSAnb2JqZWN0Jykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChBcnJheS5pc0FycmF5KG5vZGUpKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2RlLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgY2hpbGQgPSBub2RlW2ldO1xuXG4gICAgICBpZiAoaXNWYWxpZEVsZW1lbnQoY2hpbGQpKSB7XG4gICAgICAgIHZhbGlkYXRlRXhwbGljaXRLZXkoY2hpbGQsIHBhcmVudFR5cGUpO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmIChpc1ZhbGlkRWxlbWVudChub2RlKSkge1xuICAgIC8vIFRoaXMgZWxlbWVudCB3YXMgcGFzc2VkIGluIGEgdmFsaWQgbG9jYXRpb24uXG4gICAgaWYgKG5vZGUuX3N0b3JlKSB7XG4gICAgICBub2RlLl9zdG9yZS52YWxpZGF0ZWQgPSB0cnVlO1xuICAgIH1cbiAgfSBlbHNlIGlmIChub2RlKSB7XG4gICAgdmFyIGl0ZXJhdG9yRm4gPSBnZXRJdGVyYXRvckZuKG5vZGUpO1xuXG4gICAgaWYgKHR5cGVvZiBpdGVyYXRvckZuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAvLyBFbnRyeSBpdGVyYXRvcnMgdXNlZCB0byBwcm92aWRlIGltcGxpY2l0IGtleXMsXG4gICAgICAvLyBidXQgbm93IHdlIHByaW50IGEgc2VwYXJhdGUgd2FybmluZyBmb3IgdGhlbSBsYXRlci5cbiAgICAgIGlmIChpdGVyYXRvckZuICE9PSBub2RlLmVudHJpZXMpIHtcbiAgICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmF0b3JGbi5jYWxsKG5vZGUpO1xuICAgICAgICB2YXIgc3RlcDtcblxuICAgICAgICB3aGlsZSAoIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG4gICAgICAgICAgaWYgKGlzVmFsaWRFbGVtZW50KHN0ZXAudmFsdWUpKSB7XG4gICAgICAgICAgICB2YWxpZGF0ZUV4cGxpY2l0S2V5KHN0ZXAudmFsdWUsIHBhcmVudFR5cGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuLyoqXG4gKiBHaXZlbiBhbiBlbGVtZW50LCB2YWxpZGF0ZSB0aGF0IGl0cyBwcm9wcyBmb2xsb3cgdGhlIHByb3BUeXBlcyBkZWZpbml0aW9uLFxuICogcHJvdmlkZWQgYnkgdGhlIHR5cGUuXG4gKlxuICogQHBhcmFtIHtSZWFjdEVsZW1lbnR9IGVsZW1lbnRcbiAqL1xuXG5cbmZ1bmN0aW9uIHZhbGlkYXRlUHJvcFR5cGVzKGVsZW1lbnQpIHtcbiAgdmFyIHR5cGUgPSBlbGVtZW50LnR5cGU7XG5cbiAgaWYgKHR5cGUgPT09IG51bGwgfHwgdHlwZSA9PT0gdW5kZWZpbmVkIHx8IHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBuYW1lID0gZ2V0Q29tcG9uZW50TmFtZSh0eXBlKTtcbiAgdmFyIHByb3BUeXBlcztcblxuICBpZiAodHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICBwcm9wVHlwZXMgPSB0eXBlLnByb3BUeXBlcztcbiAgfSBlbHNlIGlmICh0eXBlb2YgdHlwZSA9PT0gJ29iamVjdCcgJiYgKHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0ZPUldBUkRfUkVGX1RZUEUgfHwgLy8gTm90ZTogTWVtbyBvbmx5IGNoZWNrcyBvdXRlciBwcm9wcyBoZXJlLlxuICAvLyBJbm5lciBwcm9wcyBhcmUgY2hlY2tlZCBpbiB0aGUgcmVjb25jaWxlci5cbiAgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfTUVNT19UWVBFKSkge1xuICAgIHByb3BUeXBlcyA9IHR5cGUucHJvcFR5cGVzO1xuICB9IGVsc2Uge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChwcm9wVHlwZXMpIHtcbiAgICBzZXRDdXJyZW50bHlWYWxpZGF0aW5nRWxlbWVudChlbGVtZW50KTtcbiAgICBjaGVja1Byb3BUeXBlcyhwcm9wVHlwZXMsIGVsZW1lbnQucHJvcHMsICdwcm9wJywgbmFtZSwgUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZS5nZXRTdGFja0FkZGVuZHVtKTtcbiAgICBzZXRDdXJyZW50bHlWYWxpZGF0aW5nRWxlbWVudChudWxsKTtcbiAgfSBlbHNlIGlmICh0eXBlLlByb3BUeXBlcyAhPT0gdW5kZWZpbmVkICYmICFwcm9wVHlwZXNNaXNzcGVsbFdhcm5pbmdTaG93bikge1xuICAgIHByb3BUeXBlc01pc3NwZWxsV2FybmluZ1Nob3duID0gdHJ1ZTtcbiAgICB3YXJuaW5nV2l0aG91dFN0YWNrJDEoZmFsc2UsICdDb21wb25lbnQgJXMgZGVjbGFyZWQgYFByb3BUeXBlc2AgaW5zdGVhZCBvZiBgcHJvcFR5cGVzYC4gRGlkIHlvdSBtaXNzcGVsbCB0aGUgcHJvcGVydHkgYXNzaWdubWVudD8nLCBuYW1lIHx8ICdVbmtub3duJyk7XG4gIH1cblxuICBpZiAodHlwZW9mIHR5cGUuZ2V0RGVmYXVsdFByb3BzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgIXR5cGUuZ2V0RGVmYXVsdFByb3BzLmlzUmVhY3RDbGFzc0FwcHJvdmVkID8gd2FybmluZ1dpdGhvdXRTdGFjayQxKGZhbHNlLCAnZ2V0RGVmYXVsdFByb3BzIGlzIG9ubHkgdXNlZCBvbiBjbGFzc2ljIFJlYWN0LmNyZWF0ZUNsYXNzICcgKyAnZGVmaW5pdGlvbnMuIFVzZSBhIHN0YXRpYyBwcm9wZXJ0eSBuYW1lZCBgZGVmYXVsdFByb3BzYCBpbnN0ZWFkLicpIDogdm9pZCAwO1xuICB9XG59XG4vKipcbiAqIEdpdmVuIGEgZnJhZ21lbnQsIHZhbGlkYXRlIHRoYXQgaXQgY2FuIG9ubHkgYmUgcHJvdmlkZWQgd2l0aCBmcmFnbWVudCBwcm9wc1xuICogQHBhcmFtIHtSZWFjdEVsZW1lbnR9IGZyYWdtZW50XG4gKi9cblxuXG5mdW5jdGlvbiB2YWxpZGF0ZUZyYWdtZW50UHJvcHMoZnJhZ21lbnQpIHtcbiAgc2V0Q3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQoZnJhZ21lbnQpO1xuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGZyYWdtZW50LnByb3BzKTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIga2V5ID0ga2V5c1tpXTtcblxuICAgIGlmIChrZXkgIT09ICdjaGlsZHJlbicgJiYga2V5ICE9PSAna2V5Jykge1xuICAgICAgd2FybmluZyQxKGZhbHNlLCAnSW52YWxpZCBwcm9wIGAlc2Agc3VwcGxpZWQgdG8gYFJlYWN0LkZyYWdtZW50YC4gJyArICdSZWFjdC5GcmFnbWVudCBjYW4gb25seSBoYXZlIGBrZXlgIGFuZCBgY2hpbGRyZW5gIHByb3BzLicsIGtleSk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBpZiAoZnJhZ21lbnQucmVmICE9PSBudWxsKSB7XG4gICAgd2FybmluZyQxKGZhbHNlLCAnSW52YWxpZCBhdHRyaWJ1dGUgYHJlZmAgc3VwcGxpZWQgdG8gYFJlYWN0LkZyYWdtZW50YC4nKTtcbiAgfVxuXG4gIHNldEN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50KG51bGwpO1xufVxuXG5mdW5jdGlvbiBqc3hXaXRoVmFsaWRhdGlvbih0eXBlLCBwcm9wcywga2V5LCBpc1N0YXRpY0NoaWxkcmVuLCBzb3VyY2UsIHNlbGYpIHtcbiAgdmFyIHZhbGlkVHlwZSA9IGlzVmFsaWRFbGVtZW50VHlwZSh0eXBlKTsgLy8gV2Ugd2FybiBpbiB0aGlzIGNhc2UgYnV0IGRvbid0IHRocm93LiBXZSBleHBlY3QgdGhlIGVsZW1lbnQgY3JlYXRpb24gdG9cbiAgLy8gc3VjY2VlZCBhbmQgdGhlcmUgd2lsbCBsaWtlbHkgYmUgZXJyb3JzIGluIHJlbmRlci5cblxuICBpZiAoIXZhbGlkVHlwZSkge1xuICAgIHZhciBpbmZvID0gJyc7XG5cbiAgICBpZiAodHlwZSA9PT0gdW5kZWZpbmVkIHx8IHR5cGVvZiB0eXBlID09PSAnb2JqZWN0JyAmJiB0eXBlICE9PSBudWxsICYmIE9iamVjdC5rZXlzKHR5cGUpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgaW5mbyArPSAnIFlvdSBsaWtlbHkgZm9yZ290IHRvIGV4cG9ydCB5b3VyIGNvbXBvbmVudCBmcm9tIHRoZSBmaWxlICcgKyBcIml0J3MgZGVmaW5lZCBpbiwgb3IgeW91IG1pZ2h0IGhhdmUgbWl4ZWQgdXAgZGVmYXVsdCBhbmQgbmFtZWQgaW1wb3J0cy5cIjtcbiAgICB9XG5cbiAgICB2YXIgc291cmNlSW5mbyA9IGdldFNvdXJjZUluZm9FcnJvckFkZGVuZHVtKHNvdXJjZSk7XG5cbiAgICBpZiAoc291cmNlSW5mbykge1xuICAgICAgaW5mbyArPSBzb3VyY2VJbmZvO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbmZvICs9IGdldERlY2xhcmF0aW9uRXJyb3JBZGRlbmR1bSgpO1xuICAgIH1cblxuICAgIHZhciB0eXBlU3RyaW5nO1xuXG4gICAgaWYgKHR5cGUgPT09IG51bGwpIHtcbiAgICAgIHR5cGVTdHJpbmcgPSAnbnVsbCc7XG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHR5cGUpKSB7XG4gICAgICB0eXBlU3RyaW5nID0gJ2FycmF5JztcbiAgICB9IGVsc2UgaWYgKHR5cGUgIT09IHVuZGVmaW5lZCAmJiB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9FTEVNRU5UX1RZUEUpIHtcbiAgICAgIHR5cGVTdHJpbmcgPSBcIjxcIiArIChnZXRDb21wb25lbnROYW1lKHR5cGUudHlwZSkgfHwgJ1Vua25vd24nKSArIFwiIC8+XCI7XG4gICAgICBpbmZvID0gJyBEaWQgeW91IGFjY2lkZW50YWxseSBleHBvcnQgYSBKU1ggbGl0ZXJhbCBpbnN0ZWFkIG9mIGEgY29tcG9uZW50Pyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHR5cGVTdHJpbmcgPSB0eXBlb2YgdHlwZTtcbiAgICB9XG5cbiAgICB3YXJuaW5nJDEoZmFsc2UsICdSZWFjdC5qc3g6IHR5cGUgaXMgaW52YWxpZCAtLSBleHBlY3RlZCBhIHN0cmluZyAoZm9yICcgKyAnYnVpbHQtaW4gY29tcG9uZW50cykgb3IgYSBjbGFzcy9mdW5jdGlvbiAoZm9yIGNvbXBvc2l0ZSAnICsgJ2NvbXBvbmVudHMpIGJ1dCBnb3Q6ICVzLiVzJywgdHlwZVN0cmluZywgaW5mbyk7XG4gIH1cblxuICB2YXIgZWxlbWVudCA9IGpzeERFVih0eXBlLCBwcm9wcywga2V5LCBzb3VyY2UsIHNlbGYpOyAvLyBUaGUgcmVzdWx0IGNhbiBiZSBudWxsaXNoIGlmIGEgbW9jayBvciBhIGN1c3RvbSBmdW5jdGlvbiBpcyB1c2VkLlxuICAvLyBUT0RPOiBEcm9wIHRoaXMgd2hlbiB0aGVzZSBhcmUgbm8gbG9uZ2VyIGFsbG93ZWQgYXMgdGhlIHR5cGUgYXJndW1lbnQuXG5cbiAgaWYgKGVsZW1lbnQgPT0gbnVsbCkge1xuICAgIHJldHVybiBlbGVtZW50O1xuICB9IC8vIFNraXAga2V5IHdhcm5pbmcgaWYgdGhlIHR5cGUgaXNuJ3QgdmFsaWQgc2luY2Ugb3VyIGtleSB2YWxpZGF0aW9uIGxvZ2ljXG4gIC8vIGRvZXNuJ3QgZXhwZWN0IGEgbm9uLXN0cmluZy9mdW5jdGlvbiB0eXBlIGFuZCBjYW4gdGhyb3cgY29uZnVzaW5nIGVycm9ycy5cbiAgLy8gV2UgZG9uJ3Qgd2FudCBleGNlcHRpb24gYmVoYXZpb3IgdG8gZGlmZmVyIGJldHdlZW4gZGV2IGFuZCBwcm9kLlxuICAvLyAoUmVuZGVyaW5nIHdpbGwgdGhyb3cgd2l0aCBhIGhlbHBmdWwgbWVzc2FnZSBhbmQgYXMgc29vbiBhcyB0aGUgdHlwZSBpc1xuICAvLyBmaXhlZCwgdGhlIGtleSB3YXJuaW5ncyB3aWxsIGFwcGVhci4pXG5cblxuICBpZiAodmFsaWRUeXBlKSB7XG4gICAgdmFyIGNoaWxkcmVuID0gcHJvcHMuY2hpbGRyZW47XG5cbiAgICBpZiAoY2hpbGRyZW4gIT09IHVuZGVmaW5lZCkge1xuICAgICAgaWYgKGlzU3RhdGljQ2hpbGRyZW4pIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY2hpbGRyZW4pKSB7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFsaWRhdGVDaGlsZEtleXMoY2hpbGRyZW5baV0sIHR5cGUpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChPYmplY3QuZnJlZXplKSB7XG4gICAgICAgICAgICBPYmplY3QuZnJlZXplKGNoaWxkcmVuKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgd2FybmluZyQxKGZhbHNlLCAnUmVhY3QuanN4OiBTdGF0aWMgY2hpbGRyZW4gc2hvdWxkIGFsd2F5cyBiZSBhbiBhcnJheS4gJyArICdZb3UgYXJlIGxpa2VseSBleHBsaWNpdGx5IGNhbGxpbmcgUmVhY3QuanN4cyBvciBSZWFjdC5qc3hERVYuICcgKyAnVXNlIHRoZSBCYWJlbCB0cmFuc2Zvcm0gaW5zdGVhZC4nKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsaWRhdGVDaGlsZEtleXMoY2hpbGRyZW4sIHR5cGUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlmIChoYXNPd25Qcm9wZXJ0eSQxLmNhbGwocHJvcHMsICdrZXknKSkge1xuICAgIHdhcm5pbmckMShmYWxzZSwgJ1JlYWN0LmpzeDogU3ByZWFkaW5nIGEga2V5IHRvIEpTWCBpcyBhIGRlcHJlY2F0ZWQgcGF0dGVybi4gJyArICdFeHBsaWNpdGx5IHBhc3MgYSBrZXkgYWZ0ZXIgc3ByZWFkaW5nIHByb3BzIGluIHlvdXIgSlNYIGNhbGwuICcgKyAnRS5nLiA8Q29tcG9uZW50TmFtZSB7Li4ucHJvcHN9IGtleT17a2V5fSAvPicpO1xuICB9XG5cbiAgaWYgKHR5cGUgPT09IFJFQUNUX0ZSQUdNRU5UX1RZUEUpIHtcbiAgICB2YWxpZGF0ZUZyYWdtZW50UHJvcHMoZWxlbWVudCk7XG4gIH0gZWxzZSB7XG4gICAgdmFsaWRhdGVQcm9wVHlwZXMoZWxlbWVudCk7XG4gIH1cblxuICByZXR1cm4gZWxlbWVudDtcbn0gLy8gVGhlc2UgdHdvIGZ1bmN0aW9ucyBleGlzdCB0byBzdGlsbCBnZXQgY2hpbGQgd2FybmluZ3MgaW4gZGV2XG4vLyBldmVuIHdpdGggdGhlIHByb2QgdHJhbnNmb3JtLiBUaGlzIG1lYW5zIHRoYXQganN4REVWIGlzIHB1cmVseVxuLy8gb3B0LWluIGJlaGF2aW9yIGZvciBiZXR0ZXIgbWVzc2FnZXMgYnV0IHRoYXQgd2Ugd29uJ3Qgc3RvcFxuLy8gZ2l2aW5nIHlvdSB3YXJuaW5ncyBpZiB5b3UgdXNlIHByb2R1Y3Rpb24gYXBpcy5cblxuZnVuY3Rpb24ganN4V2l0aFZhbGlkYXRpb25TdGF0aWModHlwZSwgcHJvcHMsIGtleSkge1xuICByZXR1cm4ganN4V2l0aFZhbGlkYXRpb24odHlwZSwgcHJvcHMsIGtleSwgdHJ1ZSk7XG59XG5mdW5jdGlvbiBqc3hXaXRoVmFsaWRhdGlvbkR5bmFtaWModHlwZSwgcHJvcHMsIGtleSkge1xuICByZXR1cm4ganN4V2l0aFZhbGlkYXRpb24odHlwZSwgcHJvcHMsIGtleSwgZmFsc2UpO1xufVxuZnVuY3Rpb24gY3JlYXRlRWxlbWVudFdpdGhWYWxpZGF0aW9uKHR5cGUsIHByb3BzLCBjaGlsZHJlbikge1xuICB2YXIgdmFsaWRUeXBlID0gaXNWYWxpZEVsZW1lbnRUeXBlKHR5cGUpOyAvLyBXZSB3YXJuIGluIHRoaXMgY2FzZSBidXQgZG9uJ3QgdGhyb3cuIFdlIGV4cGVjdCB0aGUgZWxlbWVudCBjcmVhdGlvbiB0b1xuICAvLyBzdWNjZWVkIGFuZCB0aGVyZSB3aWxsIGxpa2VseSBiZSBlcnJvcnMgaW4gcmVuZGVyLlxuXG4gIGlmICghdmFsaWRUeXBlKSB7XG4gICAgdmFyIGluZm8gPSAnJztcblxuICAgIGlmICh0eXBlID09PSB1bmRlZmluZWQgfHwgdHlwZW9mIHR5cGUgPT09ICdvYmplY3QnICYmIHR5cGUgIT09IG51bGwgJiYgT2JqZWN0LmtleXModHlwZSkubGVuZ3RoID09PSAwKSB7XG4gICAgICBpbmZvICs9ICcgWW91IGxpa2VseSBmb3Jnb3QgdG8gZXhwb3J0IHlvdXIgY29tcG9uZW50IGZyb20gdGhlIGZpbGUgJyArIFwiaXQncyBkZWZpbmVkIGluLCBvciB5b3UgbWlnaHQgaGF2ZSBtaXhlZCB1cCBkZWZhdWx0IGFuZCBuYW1lZCBpbXBvcnRzLlwiO1xuICAgIH1cblxuICAgIHZhciBzb3VyY2VJbmZvID0gZ2V0U291cmNlSW5mb0Vycm9yQWRkZW5kdW1Gb3JQcm9wcyhwcm9wcyk7XG5cbiAgICBpZiAoc291cmNlSW5mbykge1xuICAgICAgaW5mbyArPSBzb3VyY2VJbmZvO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbmZvICs9IGdldERlY2xhcmF0aW9uRXJyb3JBZGRlbmR1bSgpO1xuICAgIH1cblxuICAgIHZhciB0eXBlU3RyaW5nO1xuXG4gICAgaWYgKHR5cGUgPT09IG51bGwpIHtcbiAgICAgIHR5cGVTdHJpbmcgPSAnbnVsbCc7XG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHR5cGUpKSB7XG4gICAgICB0eXBlU3RyaW5nID0gJ2FycmF5JztcbiAgICB9IGVsc2UgaWYgKHR5cGUgIT09IHVuZGVmaW5lZCAmJiB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9FTEVNRU5UX1RZUEUpIHtcbiAgICAgIHR5cGVTdHJpbmcgPSBcIjxcIiArIChnZXRDb21wb25lbnROYW1lKHR5cGUudHlwZSkgfHwgJ1Vua25vd24nKSArIFwiIC8+XCI7XG4gICAgICBpbmZvID0gJyBEaWQgeW91IGFjY2lkZW50YWxseSBleHBvcnQgYSBKU1ggbGl0ZXJhbCBpbnN0ZWFkIG9mIGEgY29tcG9uZW50Pyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHR5cGVTdHJpbmcgPSB0eXBlb2YgdHlwZTtcbiAgICB9XG5cbiAgICB3YXJuaW5nJDEoZmFsc2UsICdSZWFjdC5jcmVhdGVFbGVtZW50OiB0eXBlIGlzIGludmFsaWQgLS0gZXhwZWN0ZWQgYSBzdHJpbmcgKGZvciAnICsgJ2J1aWx0LWluIGNvbXBvbmVudHMpIG9yIGEgY2xhc3MvZnVuY3Rpb24gKGZvciBjb21wb3NpdGUgJyArICdjb21wb25lbnRzKSBidXQgZ290OiAlcy4lcycsIHR5cGVTdHJpbmcsIGluZm8pO1xuICB9XG5cbiAgdmFyIGVsZW1lbnQgPSBjcmVhdGVFbGVtZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IC8vIFRoZSByZXN1bHQgY2FuIGJlIG51bGxpc2ggaWYgYSBtb2NrIG9yIGEgY3VzdG9tIGZ1bmN0aW9uIGlzIHVzZWQuXG4gIC8vIFRPRE86IERyb3AgdGhpcyB3aGVuIHRoZXNlIGFyZSBubyBsb25nZXIgYWxsb3dlZCBhcyB0aGUgdHlwZSBhcmd1bWVudC5cblxuICBpZiAoZWxlbWVudCA9PSBudWxsKSB7XG4gICAgcmV0dXJuIGVsZW1lbnQ7XG4gIH0gLy8gU2tpcCBrZXkgd2FybmluZyBpZiB0aGUgdHlwZSBpc24ndCB2YWxpZCBzaW5jZSBvdXIga2V5IHZhbGlkYXRpb24gbG9naWNcbiAgLy8gZG9lc24ndCBleHBlY3QgYSBub24tc3RyaW5nL2Z1bmN0aW9uIHR5cGUgYW5kIGNhbiB0aHJvdyBjb25mdXNpbmcgZXJyb3JzLlxuICAvLyBXZSBkb24ndCB3YW50IGV4Y2VwdGlvbiBiZWhhdmlvciB0byBkaWZmZXIgYmV0d2VlbiBkZXYgYW5kIHByb2QuXG4gIC8vIChSZW5kZXJpbmcgd2lsbCB0aHJvdyB3aXRoIGEgaGVscGZ1bCBtZXNzYWdlIGFuZCBhcyBzb29uIGFzIHRoZSB0eXBlIGlzXG4gIC8vIGZpeGVkLCB0aGUga2V5IHdhcm5pbmdzIHdpbGwgYXBwZWFyLilcblxuXG4gIGlmICh2YWxpZFR5cGUpIHtcbiAgICBmb3IgKHZhciBpID0gMjsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFsaWRhdGVDaGlsZEtleXMoYXJndW1lbnRzW2ldLCB0eXBlKTtcbiAgICB9XG4gIH1cblxuICBpZiAodHlwZSA9PT0gUkVBQ1RfRlJBR01FTlRfVFlQRSkge1xuICAgIHZhbGlkYXRlRnJhZ21lbnRQcm9wcyhlbGVtZW50KTtcbiAgfSBlbHNlIHtcbiAgICB2YWxpZGF0ZVByb3BUeXBlcyhlbGVtZW50KTtcbiAgfVxuXG4gIHJldHVybiBlbGVtZW50O1xufVxuZnVuY3Rpb24gY3JlYXRlRmFjdG9yeVdpdGhWYWxpZGF0aW9uKHR5cGUpIHtcbiAgdmFyIHZhbGlkYXRlZEZhY3RvcnkgPSBjcmVhdGVFbGVtZW50V2l0aFZhbGlkYXRpb24uYmluZChudWxsLCB0eXBlKTtcbiAgdmFsaWRhdGVkRmFjdG9yeS50eXBlID0gdHlwZTsgLy8gTGVnYWN5IGhvb2s6IHJlbW92ZSBpdFxuXG4gIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodmFsaWRhdGVkRmFjdG9yeSwgJ3R5cGUnLCB7XG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICBsb3dQcmlvcml0eVdhcm5pbmdXaXRob3V0U3RhY2skMShmYWxzZSwgJ0ZhY3RvcnkudHlwZSBpcyBkZXByZWNhdGVkLiBBY2Nlc3MgdGhlIGNsYXNzIGRpcmVjdGx5ICcgKyAnYmVmb3JlIHBhc3NpbmcgaXQgdG8gY3JlYXRlRmFjdG9yeS4nKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICd0eXBlJywge1xuICAgICAgICAgIHZhbHVlOiB0eXBlXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdHlwZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiB2YWxpZGF0ZWRGYWN0b3J5O1xufVxuZnVuY3Rpb24gY2xvbmVFbGVtZW50V2l0aFZhbGlkYXRpb24oZWxlbWVudCwgcHJvcHMsIGNoaWxkcmVuKSB7XG4gIHZhciBuZXdFbGVtZW50ID0gY2xvbmVFbGVtZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgZm9yICh2YXIgaSA9IDI7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YWxpZGF0ZUNoaWxkS2V5cyhhcmd1bWVudHNbaV0sIG5ld0VsZW1lbnQudHlwZSk7XG4gIH1cblxuICB2YWxpZGF0ZVByb3BUeXBlcyhuZXdFbGVtZW50KTtcbiAgcmV0dXJuIG5ld0VsZW1lbnQ7XG59XG5cbnZhciBoYXNCYWRNYXBQb2x5ZmlsbDtcblxue1xuICBoYXNCYWRNYXBQb2x5ZmlsbCA9IGZhbHNlO1xuXG4gIHRyeSB7XG4gICAgdmFyIGZyb3plbk9iamVjdCA9IE9iamVjdC5mcmVlemUoe30pO1xuICAgIHZhciB0ZXN0TWFwID0gbmV3IE1hcChbW2Zyb3plbk9iamVjdCwgbnVsbF1dKTtcbiAgICB2YXIgdGVzdFNldCA9IG5ldyBTZXQoW2Zyb3plbk9iamVjdF0pOyAvLyBUaGlzIGlzIG5lY2Vzc2FyeSBmb3IgUm9sbHVwIHRvIG5vdCBjb25zaWRlciB0aGVzZSB1bnVzZWQuXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3JvbGx1cC9yb2xsdXAvaXNzdWVzLzE3NzFcbiAgICAvLyBUT0RPOiB3ZSBjYW4gcmVtb3ZlIHRoZXNlIGlmIFJvbGx1cCBmaXhlcyB0aGUgYnVnLlxuXG4gICAgdGVzdE1hcC5zZXQoMCwgMCk7XG4gICAgdGVzdFNldC5hZGQoMCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICAvLyBUT0RPOiBDb25zaWRlciB3YXJuaW5nIGFib3V0IGJhZCBwb2x5ZmlsbHNcbiAgICBoYXNCYWRNYXBQb2x5ZmlsbCA9IHRydWU7XG4gIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlRnVuZGFtZW50YWxDb21wb25lbnQoaW1wbCkge1xuICAvLyBXZSB1c2UgcmVzcG9uZGVyIGFzIGEgTWFwIGtleSBsYXRlciBvbi4gV2hlbiB3ZSBoYXZlIGEgYmFkXG4gIC8vIHBvbHlmaWxsLCB0aGVuIHdlIGNhbid0IHVzZSBpdCBhcyBhIGtleSBhcyB0aGUgcG9seWZpbGwgdHJpZXNcbiAgLy8gdG8gYWRkIGEgcHJvcGVydHkgdG8gdGhlIG9iamVjdC5cbiAgaWYgKHRydWUgJiYgIWhhc0JhZE1hcFBvbHlmaWxsKSB7XG4gICAgT2JqZWN0LmZyZWV6ZShpbXBsKTtcbiAgfVxuXG4gIHZhciBmdW5kYW1hbnRhbENvbXBvbmVudCA9IHtcbiAgICAkJHR5cGVvZjogUkVBQ1RfRlVOREFNRU5UQUxfVFlQRSxcbiAgICBpbXBsOiBpbXBsXG4gIH07XG5cbiAge1xuICAgIE9iamVjdC5mcmVlemUoZnVuZGFtYW50YWxDb21wb25lbnQpO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmRhbWFudGFsQ29tcG9uZW50O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVFdmVudFJlc3BvbmRlcihkaXNwbGF5TmFtZSwgcmVzcG9uZGVyQ29uZmlnKSB7XG4gIHZhciBnZXRJbml0aWFsU3RhdGUgPSByZXNwb25kZXJDb25maWcuZ2V0SW5pdGlhbFN0YXRlLFxuICAgICAgb25FdmVudCA9IHJlc3BvbmRlckNvbmZpZy5vbkV2ZW50LFxuICAgICAgb25Nb3VudCA9IHJlc3BvbmRlckNvbmZpZy5vbk1vdW50LFxuICAgICAgb25Vbm1vdW50ID0gcmVzcG9uZGVyQ29uZmlnLm9uVW5tb3VudCxcbiAgICAgIG9uUm9vdEV2ZW50ID0gcmVzcG9uZGVyQ29uZmlnLm9uUm9vdEV2ZW50LFxuICAgICAgcm9vdEV2ZW50VHlwZXMgPSByZXNwb25kZXJDb25maWcucm9vdEV2ZW50VHlwZXMsXG4gICAgICB0YXJnZXRFdmVudFR5cGVzID0gcmVzcG9uZGVyQ29uZmlnLnRhcmdldEV2ZW50VHlwZXMsXG4gICAgICB0YXJnZXRQb3J0YWxQcm9wYWdhdGlvbiA9IHJlc3BvbmRlckNvbmZpZy50YXJnZXRQb3J0YWxQcm9wYWdhdGlvbjtcbiAgdmFyIGV2ZW50UmVzcG9uZGVyID0ge1xuICAgICQkdHlwZW9mOiBSRUFDVF9SRVNQT05ERVJfVFlQRSxcbiAgICBkaXNwbGF5TmFtZTogZGlzcGxheU5hbWUsXG4gICAgZ2V0SW5pdGlhbFN0YXRlOiBnZXRJbml0aWFsU3RhdGUgfHwgbnVsbCxcbiAgICBvbkV2ZW50OiBvbkV2ZW50IHx8IG51bGwsXG4gICAgb25Nb3VudDogb25Nb3VudCB8fCBudWxsLFxuICAgIG9uUm9vdEV2ZW50OiBvblJvb3RFdmVudCB8fCBudWxsLFxuICAgIG9uVW5tb3VudDogb25Vbm1vdW50IHx8IG51bGwsXG4gICAgcm9vdEV2ZW50VHlwZXM6IHJvb3RFdmVudFR5cGVzIHx8IG51bGwsXG4gICAgdGFyZ2V0RXZlbnRUeXBlczogdGFyZ2V0RXZlbnRUeXBlcyB8fCBudWxsLFxuICAgIHRhcmdldFBvcnRhbFByb3BhZ2F0aW9uOiB0YXJnZXRQb3J0YWxQcm9wYWdhdGlvbiB8fCBmYWxzZVxuICB9OyAvLyBXZSB1c2UgcmVzcG9uZGVyIGFzIGEgTWFwIGtleSBsYXRlciBvbi4gV2hlbiB3ZSBoYXZlIGEgYmFkXG4gIC8vIHBvbHlmaWxsLCB0aGVuIHdlIGNhbid0IHVzZSBpdCBhcyBhIGtleSBhcyB0aGUgcG9seWZpbGwgdHJpZXNcbiAgLy8gdG8gYWRkIGEgcHJvcGVydHkgdG8gdGhlIG9iamVjdC5cblxuICBpZiAodHJ1ZSAmJiAhaGFzQmFkTWFwUG9seWZpbGwpIHtcbiAgICBPYmplY3QuZnJlZXplKGV2ZW50UmVzcG9uZGVyKTtcbiAgfVxuXG4gIHJldHVybiBldmVudFJlc3BvbmRlcjtcbn1cblxuZnVuY3Rpb24gY3JlYXRlU2NvcGUoKSB7XG4gIHZhciBzY29wZUNvbXBvbmVudCA9IHtcbiAgICAkJHR5cGVvZjogUkVBQ1RfU0NPUEVfVFlQRVxuICB9O1xuXG4gIHtcbiAgICBPYmplY3QuZnJlZXplKHNjb3BlQ29tcG9uZW50KTtcbiAgfVxuXG4gIHJldHVybiBzY29wZUNvbXBvbmVudDtcbn1cblxuLy8gSGVscHMgaWRlbnRpZnkgc2lkZSBlZmZlY3RzIGluIHJlbmRlci1waGFzZSBsaWZlY3ljbGUgaG9va3MgYW5kIHNldFN0YXRlXG4vLyByZWR1Y2VycyBieSBkb3VibGUgaW52b2tpbmcgdGhlbSBpbiBTdHJpY3QgTW9kZS5cblxuIC8vIFRvIHByZXNlcnZlIHRoZSBcIlBhdXNlIG9uIGNhdWdodCBleGNlcHRpb25zXCIgYmVoYXZpb3Igb2YgdGhlIGRlYnVnZ2VyLCB3ZVxuLy8gcmVwbGF5IHRoZSBiZWdpbiBwaGFzZSBvZiBhIGZhaWxlZCBjb21wb25lbnQgaW5zaWRlIGludm9rZUd1YXJkZWRDYWxsYmFjay5cblxuIC8vIFdhcm4gYWJvdXQgZGVwcmVjYXRlZCwgYXN5bmMtdW5zYWZlIGxpZmVjeWNsZXM7IHJlbGF0ZXMgdG8gUkZDICM2OlxuXG4gLy8gR2F0aGVyIGFkdmFuY2VkIHRpbWluZyBtZXRyaWNzIGZvciBQcm9maWxlciBzdWJ0cmVlcy5cblxuIC8vIFRyYWNlIHdoaWNoIGludGVyYWN0aW9ucyB0cmlnZ2VyIGVhY2ggY29tbWl0LlxuXG4gLy8gU1NSIGV4cGVyaW1lbnRzXG5cblxuIC8vIE9ubHkgdXNlZCBpbiB3d3cgYnVpbGRzLlxuXG4gLy8gT25seSB1c2VkIGluIHd3dyBidWlsZHMuXG5cbiAvLyBEaXNhYmxlIGphdmFzY3JpcHQ6IFVSTCBzdHJpbmdzIGluIGhyZWYgZm9yIFhTUyBwcm90ZWN0aW9uLlxuXG4gLy8gUmVhY3QgRmlyZTogcHJldmVudCB0aGUgdmFsdWUgYW5kIGNoZWNrZWQgYXR0cmlidXRlcyBmcm9tIHN5bmNpbmdcbi8vIHdpdGggdGhlaXIgcmVsYXRlZCBET00gcHJvcGVydGllc1xuXG4gLy8gVGhlc2UgQVBJcyB3aWxsIG5vIGxvbmdlciBiZSBcInVuc3RhYmxlXCIgaW4gdGhlIHVwY29taW5nIDE2LjcgcmVsZWFzZSxcbi8vIENvbnRyb2wgdGhpcyBiZWhhdmlvciB3aXRoIGEgZmxhZyB0byBzdXBwb3J0IDE2LjYgbWlub3IgcmVsZWFzZXMgaW4gdGhlIG1lYW53aGlsZS5cblxudmFyIGV4cG9zZUNvbmN1cnJlbnRNb2RlQVBJcyA9IGZhbHNlO1xuIC8vIEV4cGVyaW1lbnRhbCBSZWFjdCBGbGFyZSBldmVudCBzeXN0ZW0gYW5kIGV2ZW50IGNvbXBvbmVudHMgc3VwcG9ydC5cblxudmFyIGVuYWJsZUZsYXJlQVBJID0gZmFsc2U7IC8vIEV4cGVyaW1lbnRhbCBIb3N0IENvbXBvbmVudCBzdXBwb3J0LlxuXG52YXIgZW5hYmxlRnVuZGFtZW50YWxBUEkgPSBmYWxzZTsgLy8gRXhwZXJpbWVudGFsIFNjb3BlIHN1cHBvcnQuXG5cbnZhciBlbmFibGVTY29wZUFQSSA9IGZhbHNlOyAvLyBOZXcgQVBJIGZvciBKU1ggdHJhbnNmb3JtcyB0byB0YXJnZXQgLSBodHRwczovL2dpdGh1Yi5jb20vcmVhY3Rqcy9yZmNzL3B1bGwvMTA3XG5cbnZhciBlbmFibGVKU1hUcmFuc2Zvcm1BUEkgPSBmYWxzZTsgLy8gV2Ugd2lsbCBlbmZvcmNlIG1vY2tpbmcgc2NoZWR1bGVyIHdpdGggc2NoZWR1bGVyL3Vuc3RhYmxlX21vY2sgYXQgc29tZSBwb2ludC4gKHYxNz8pXG4vLyBUaWxsIHRoZW4sIHdlIHdhcm4gYWJvdXQgdGhlIG1pc3NpbmcgbW9jaywgYnV0IHN0aWxsIGZhbGxiYWNrIHRvIGEgbGVnYWN5IG1vZGUgY29tcGF0aWJsZSB2ZXJzaW9uXG5cbiAvLyBGb3IgdGVzdHMsIHdlIGZsdXNoIHN1c3BlbnNlIGZhbGxiYWNrcyBpbiBhbiBhY3Qgc2NvcGU7XG4vLyAqZXhjZXB0KiBpbiBzb21lIG9mIG91ciBvd24gdGVzdHMsIHdoZXJlIHdlIHRlc3QgaW5jcmVtZW50YWwgbG9hZGluZyBzdGF0ZXMuXG5cbiAvLyBBZGQgYSBjYWxsYmFjayBwcm9wZXJ0eSB0byBzdXNwZW5zZSB0byBub3RpZnkgd2hpY2ggcHJvbWlzZXMgYXJlIGN1cnJlbnRseVxuLy8gaW4gdGhlIHVwZGF0ZSBxdWV1ZS4gVGhpcyBhbGxvd3MgcmVwb3J0aW5nIGFuZCB0cmFjaW5nIG9mIHdoYXQgaXMgY2F1c2luZ1xuLy8gdGhlIHVzZXIgdG8gc2VlIGEgbG9hZGluZyBzdGF0ZS5cbi8vIEFsc28gYWxsb3dzIGh5ZHJhdGlvbiBjYWxsYmFja3MgdG8gZmlyZSB3aGVuIGEgZGVoeWRyYXRlZCBib3VuZGFyeSBnZXRzXG4vLyBoeWRyYXRlZCBvciBkZWxldGVkLlxuXG4gLy8gUGFydCBvZiB0aGUgc2ltcGxpZmljYXRpb24gb2YgUmVhY3QuY3JlYXRlRWxlbWVudCBzbyB3ZSBjYW4gZXZlbnR1YWxseSBtb3ZlXG4vLyBmcm9tIFJlYWN0LmNyZWF0ZUVsZW1lbnQgdG8gUmVhY3QuanN4XG4vLyBodHRwczovL2dpdGh1Yi5jb20vcmVhY3Rqcy9yZmNzL2Jsb2IvY3JlYXRlbGVtZW50LXJmYy90ZXh0LzAwMDAtY3JlYXRlLWVsZW1lbnQtY2hhbmdlcy5tZFxuXG5cblxuXG5cbiAvLyBGbGFnIHRvIHR1cm4gZXZlbnQudGFyZ2V0IGFuZCBldmVudC5jdXJyZW50VGFyZ2V0IGluIFJlYWN0TmF0aXZlIGZyb20gYSByZWFjdFRhZyB0byBhIGNvbXBvbmVudCBpbnN0YW5jZVxuXG52YXIgUmVhY3QgPSB7XG4gIENoaWxkcmVuOiB7XG4gICAgbWFwOiBtYXBDaGlsZHJlbixcbiAgICBmb3JFYWNoOiBmb3JFYWNoQ2hpbGRyZW4sXG4gICAgY291bnQ6IGNvdW50Q2hpbGRyZW4sXG4gICAgdG9BcnJheTogdG9BcnJheSxcbiAgICBvbmx5OiBvbmx5Q2hpbGRcbiAgfSxcbiAgY3JlYXRlUmVmOiBjcmVhdGVSZWYsXG4gIENvbXBvbmVudDogQ29tcG9uZW50LFxuICBQdXJlQ29tcG9uZW50OiBQdXJlQ29tcG9uZW50LFxuICBjcmVhdGVDb250ZXh0OiBjcmVhdGVDb250ZXh0LFxuICBmb3J3YXJkUmVmOiBmb3J3YXJkUmVmLFxuICBsYXp5OiBsYXp5LFxuICBtZW1vOiBtZW1vLFxuICB1c2VDYWxsYmFjazogdXNlQ2FsbGJhY2ssXG4gIHVzZUNvbnRleHQ6IHVzZUNvbnRleHQsXG4gIHVzZUVmZmVjdDogdXNlRWZmZWN0LFxuICB1c2VJbXBlcmF0aXZlSGFuZGxlOiB1c2VJbXBlcmF0aXZlSGFuZGxlLFxuICB1c2VEZWJ1Z1ZhbHVlOiB1c2VEZWJ1Z1ZhbHVlLFxuICB1c2VMYXlvdXRFZmZlY3Q6IHVzZUxheW91dEVmZmVjdCxcbiAgdXNlTWVtbzogdXNlTWVtbyxcbiAgdXNlUmVkdWNlcjogdXNlUmVkdWNlcixcbiAgdXNlUmVmOiB1c2VSZWYsXG4gIHVzZVN0YXRlOiB1c2VTdGF0ZSxcbiAgRnJhZ21lbnQ6IFJFQUNUX0ZSQUdNRU5UX1RZUEUsXG4gIFByb2ZpbGVyOiBSRUFDVF9QUk9GSUxFUl9UWVBFLFxuICBTdHJpY3RNb2RlOiBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFLFxuICBTdXNwZW5zZTogUkVBQ1RfU1VTUEVOU0VfVFlQRSxcbiAgY3JlYXRlRWxlbWVudDogY3JlYXRlRWxlbWVudFdpdGhWYWxpZGF0aW9uLFxuICBjbG9uZUVsZW1lbnQ6IGNsb25lRWxlbWVudFdpdGhWYWxpZGF0aW9uLFxuICBjcmVhdGVGYWN0b3J5OiBjcmVhdGVGYWN0b3J5V2l0aFZhbGlkYXRpb24sXG4gIGlzVmFsaWRFbGVtZW50OiBpc1ZhbGlkRWxlbWVudCxcbiAgdmVyc2lvbjogUmVhY3RWZXJzaW9uLFxuICBfX1NFQ1JFVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRDogUmVhY3RTaGFyZWRJbnRlcm5hbHNcbn07XG5cbmlmIChleHBvc2VDb25jdXJyZW50TW9kZUFQSXMpIHtcbiAgUmVhY3QudXNlVHJhbnNpdGlvbiA9IHVzZVRyYW5zaXRpb247XG4gIFJlYWN0LnVzZURlZmVycmVkVmFsdWUgPSB1c2VEZWZlcnJlZFZhbHVlO1xuICBSZWFjdC5TdXNwZW5zZUxpc3QgPSBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEU7XG4gIFJlYWN0LnVuc3RhYmxlX3dpdGhTdXNwZW5zZUNvbmZpZyA9IHdpdGhTdXNwZW5zZUNvbmZpZztcbn1cblxuaWYgKGVuYWJsZUZsYXJlQVBJKSB7XG4gIFJlYWN0LnVuc3RhYmxlX3VzZVJlc3BvbmRlciA9IHVzZVJlc3BvbmRlcjtcbiAgUmVhY3QudW5zdGFibGVfY3JlYXRlUmVzcG9uZGVyID0gY3JlYXRlRXZlbnRSZXNwb25kZXI7XG59XG5cbmlmIChlbmFibGVGdW5kYW1lbnRhbEFQSSkge1xuICBSZWFjdC51bnN0YWJsZV9jcmVhdGVGdW5kYW1lbnRhbCA9IGNyZWF0ZUZ1bmRhbWVudGFsQ29tcG9uZW50O1xufVxuXG5pZiAoZW5hYmxlU2NvcGVBUEkpIHtcbiAgUmVhY3QudW5zdGFibGVfY3JlYXRlU2NvcGUgPSBjcmVhdGVTY29wZTtcbn0gLy8gTm90ZTogc29tZSBBUElzIGFyZSBhZGRlZCB3aXRoIGZlYXR1cmUgZmxhZ3MuXG4vLyBNYWtlIHN1cmUgdGhhdCBzdGFibGUgYnVpbGRzIGZvciBvcGVuIHNvdXJjZVxuLy8gZG9uJ3QgbW9kaWZ5IHRoZSBSZWFjdCBvYmplY3QgdG8gYXZvaWQgZGVvcHRzLlxuLy8gQWxzbyBsZXQncyBub3QgZXhwb3NlIHRoZWlyIG5hbWVzIGluIHN0YWJsZSBidWlsZHMuXG5cblxuaWYgKGVuYWJsZUpTWFRyYW5zZm9ybUFQSSkge1xuICB7XG4gICAgUmVhY3QuanN4REVWID0ganN4V2l0aFZhbGlkYXRpb247XG4gICAgUmVhY3QuanN4ID0ganN4V2l0aFZhbGlkYXRpb25EeW5hbWljO1xuICAgIFJlYWN0LmpzeHMgPSBqc3hXaXRoVmFsaWRhdGlvblN0YXRpYztcbiAgfVxufVxuXG5cblxudmFyIFJlYWN0JDIgPSBPYmplY3QuZnJlZXplKHtcblx0ZGVmYXVsdDogUmVhY3Rcbn0pO1xuXG52YXIgUmVhY3QkMyA9ICggUmVhY3QkMiAmJiBSZWFjdCApIHx8IFJlYWN0JDI7XG5cbi8vIFRPRE86IGRlY2lkZSBvbiB0aGUgdG9wLWxldmVsIGV4cG9ydCBmb3JtLlxuLy8gVGhpcyBpcyBoYWNreSBidXQgbWFrZXMgaXQgd29yayB3aXRoIGJvdGggUm9sbHVwIGFuZCBKZXN0LlxuXG5cbnZhciByZWFjdCA9IFJlYWN0JDMuZGVmYXVsdCB8fCBSZWFjdCQzO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlYWN0O1xuICB9KSgpO1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJykge1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY2pzL3JlYWN0LnByb2R1Y3Rpb24ubWluLmpzJyk7XG59IGVsc2Uge1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY2pzL3JlYWN0LmRldmVsb3BtZW50LmpzJyk7XG59XG4iLCIvKiogQGxpY2Vuc2UgUmVhY3QgdjAuMTguMFxuICogc2NoZWR1bGVyLXRyYWNpbmcuZGV2ZWxvcG1lbnQuanNcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIEZhY2Vib29rLCBJbmMuIGFuZCBpdHMgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cblxuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gIChmdW5jdGlvbigpIHtcbid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcblxuLy8gSGVscHMgaWRlbnRpZnkgc2lkZSBlZmZlY3RzIGluIHJlbmRlci1waGFzZSBsaWZlY3ljbGUgaG9va3MgYW5kIHNldFN0YXRlXG4vLyByZWR1Y2VycyBieSBkb3VibGUgaW52b2tpbmcgdGhlbSBpbiBTdHJpY3QgTW9kZS5cblxuIC8vIFRvIHByZXNlcnZlIHRoZSBcIlBhdXNlIG9uIGNhdWdodCBleGNlcHRpb25zXCIgYmVoYXZpb3Igb2YgdGhlIGRlYnVnZ2VyLCB3ZVxuLy8gcmVwbGF5IHRoZSBiZWdpbiBwaGFzZSBvZiBhIGZhaWxlZCBjb21wb25lbnQgaW5zaWRlIGludm9rZUd1YXJkZWRDYWxsYmFjay5cblxuIC8vIFdhcm4gYWJvdXQgZGVwcmVjYXRlZCwgYXN5bmMtdW5zYWZlIGxpZmVjeWNsZXM7IHJlbGF0ZXMgdG8gUkZDICM2OlxuXG4gLy8gR2F0aGVyIGFkdmFuY2VkIHRpbWluZyBtZXRyaWNzIGZvciBQcm9maWxlciBzdWJ0cmVlcy5cblxuIC8vIFRyYWNlIHdoaWNoIGludGVyYWN0aW9ucyB0cmlnZ2VyIGVhY2ggY29tbWl0LlxuXG52YXIgZW5hYmxlU2NoZWR1bGVyVHJhY2luZyA9IHRydWU7IC8vIFNTUiBleHBlcmltZW50c1xuXG5cbiAvLyBPbmx5IHVzZWQgaW4gd3d3IGJ1aWxkcy5cblxuIC8vIE9ubHkgdXNlZCBpbiB3d3cgYnVpbGRzLlxuXG4gLy8gRGlzYWJsZSBqYXZhc2NyaXB0OiBVUkwgc3RyaW5ncyBpbiBocmVmIGZvciBYU1MgcHJvdGVjdGlvbi5cblxuIC8vIFJlYWN0IEZpcmU6IHByZXZlbnQgdGhlIHZhbHVlIGFuZCBjaGVja2VkIGF0dHJpYnV0ZXMgZnJvbSBzeW5jaW5nXG4vLyB3aXRoIHRoZWlyIHJlbGF0ZWQgRE9NIHByb3BlcnRpZXNcblxuIC8vIFRoZXNlIEFQSXMgd2lsbCBubyBsb25nZXIgYmUgXCJ1bnN0YWJsZVwiIGluIHRoZSB1cGNvbWluZyAxNi43IHJlbGVhc2UsXG4vLyBDb250cm9sIHRoaXMgYmVoYXZpb3Igd2l0aCBhIGZsYWcgdG8gc3VwcG9ydCAxNi42IG1pbm9yIHJlbGVhc2VzIGluIHRoZSBtZWFud2hpbGUuXG5cblxuIC8vIEV4cGVyaW1lbnRhbCBSZWFjdCBGbGFyZSBldmVudCBzeXN0ZW0gYW5kIGV2ZW50IGNvbXBvbmVudHMgc3VwcG9ydC5cblxuIC8vIEV4cGVyaW1lbnRhbCBIb3N0IENvbXBvbmVudCBzdXBwb3J0LlxuXG4gLy8gRXhwZXJpbWVudGFsIFNjb3BlIHN1cHBvcnQuXG5cbiAvLyBOZXcgQVBJIGZvciBKU1ggdHJhbnNmb3JtcyB0byB0YXJnZXQgLSBodHRwczovL2dpdGh1Yi5jb20vcmVhY3Rqcy9yZmNzL3B1bGwvMTA3XG5cbiAvLyBXZSB3aWxsIGVuZm9yY2UgbW9ja2luZyBzY2hlZHVsZXIgd2l0aCBzY2hlZHVsZXIvdW5zdGFibGVfbW9jayBhdCBzb21lIHBvaW50LiAodjE3Pylcbi8vIFRpbGwgdGhlbiwgd2Ugd2FybiBhYm91dCB0aGUgbWlzc2luZyBtb2NrLCBidXQgc3RpbGwgZmFsbGJhY2sgdG8gYSBsZWdhY3kgbW9kZSBjb21wYXRpYmxlIHZlcnNpb25cblxuIC8vIEZvciB0ZXN0cywgd2UgZmx1c2ggc3VzcGVuc2UgZmFsbGJhY2tzIGluIGFuIGFjdCBzY29wZTtcbi8vICpleGNlcHQqIGluIHNvbWUgb2Ygb3VyIG93biB0ZXN0cywgd2hlcmUgd2UgdGVzdCBpbmNyZW1lbnRhbCBsb2FkaW5nIHN0YXRlcy5cblxuIC8vIEFkZCBhIGNhbGxiYWNrIHByb3BlcnR5IHRvIHN1c3BlbnNlIHRvIG5vdGlmeSB3aGljaCBwcm9taXNlcyBhcmUgY3VycmVudGx5XG4vLyBpbiB0aGUgdXBkYXRlIHF1ZXVlLiBUaGlzIGFsbG93cyByZXBvcnRpbmcgYW5kIHRyYWNpbmcgb2Ygd2hhdCBpcyBjYXVzaW5nXG4vLyB0aGUgdXNlciB0byBzZWUgYSBsb2FkaW5nIHN0YXRlLlxuLy8gQWxzbyBhbGxvd3MgaHlkcmF0aW9uIGNhbGxiYWNrcyB0byBmaXJlIHdoZW4gYSBkZWh5ZHJhdGVkIGJvdW5kYXJ5IGdldHNcbi8vIGh5ZHJhdGVkIG9yIGRlbGV0ZWQuXG5cbiAvLyBQYXJ0IG9mIHRoZSBzaW1wbGlmaWNhdGlvbiBvZiBSZWFjdC5jcmVhdGVFbGVtZW50IHNvIHdlIGNhbiBldmVudHVhbGx5IG1vdmVcbi8vIGZyb20gUmVhY3QuY3JlYXRlRWxlbWVudCB0byBSZWFjdC5qc3hcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9yZWFjdGpzL3JmY3MvYmxvYi9jcmVhdGVsZW1lbnQtcmZjL3RleHQvMDAwMC1jcmVhdGUtZWxlbWVudC1jaGFuZ2VzLm1kXG5cblxuXG5cblxuIC8vIEZsYWcgdG8gdHVybiBldmVudC50YXJnZXQgYW5kIGV2ZW50LmN1cnJlbnRUYXJnZXQgaW4gUmVhY3ROYXRpdmUgZnJvbSBhIHJlYWN0VGFnIHRvIGEgY29tcG9uZW50IGluc3RhbmNlXG5cbnZhciBERUZBVUxUX1RIUkVBRF9JRCA9IDA7IC8vIENvdW50ZXJzIHVzZWQgdG8gZ2VuZXJhdGUgdW5pcXVlIElEcy5cblxudmFyIGludGVyYWN0aW9uSURDb3VudGVyID0gMDtcbnZhciB0aHJlYWRJRENvdW50ZXIgPSAwOyAvLyBTZXQgb2YgY3VycmVudGx5IHRyYWNlZCBpbnRlcmFjdGlvbnMuXG4vLyBJbnRlcmFjdGlvbnMgXCJzdGFja1wi4oCTXG4vLyBNZWFuaW5nIHRoYXQgbmV3bHkgdHJhY2VkIGludGVyYWN0aW9ucyBhcmUgYXBwZW5kZWQgdG8gdGhlIHByZXZpb3VzbHkgYWN0aXZlIHNldC5cbi8vIFdoZW4gYW4gaW50ZXJhY3Rpb24gZ29lcyBvdXQgb2Ygc2NvcGUsIHRoZSBwcmV2aW91cyBzZXQgKGlmIGFueSkgaXMgcmVzdG9yZWQuXG5cbmV4cG9ydHMuX19pbnRlcmFjdGlvbnNSZWYgPSBudWxsOyAvLyBMaXN0ZW5lcihzKSB0byBub3RpZnkgd2hlbiBpbnRlcmFjdGlvbnMgYmVnaW4gYW5kIGVuZC5cblxuZXhwb3J0cy5fX3N1YnNjcmliZXJSZWYgPSBudWxsO1xuXG5pZiAoZW5hYmxlU2NoZWR1bGVyVHJhY2luZykge1xuICBleHBvcnRzLl9faW50ZXJhY3Rpb25zUmVmID0ge1xuICAgIGN1cnJlbnQ6IG5ldyBTZXQoKVxuICB9O1xuICBleHBvcnRzLl9fc3Vic2NyaWJlclJlZiA9IHtcbiAgICBjdXJyZW50OiBudWxsXG4gIH07XG59XG5cbmZ1bmN0aW9uIHVuc3RhYmxlX2NsZWFyKGNhbGxiYWNrKSB7XG4gIGlmICghZW5hYmxlU2NoZWR1bGVyVHJhY2luZykge1xuICAgIHJldHVybiBjYWxsYmFjaygpO1xuICB9XG5cbiAgdmFyIHByZXZJbnRlcmFjdGlvbnMgPSBleHBvcnRzLl9faW50ZXJhY3Rpb25zUmVmLmN1cnJlbnQ7XG4gIGV4cG9ydHMuX19pbnRlcmFjdGlvbnNSZWYuY3VycmVudCA9IG5ldyBTZXQoKTtcblxuICB0cnkge1xuICAgIHJldHVybiBjYWxsYmFjaygpO1xuICB9IGZpbmFsbHkge1xuICAgIGV4cG9ydHMuX19pbnRlcmFjdGlvbnNSZWYuY3VycmVudCA9IHByZXZJbnRlcmFjdGlvbnM7XG4gIH1cbn1cbmZ1bmN0aW9uIHVuc3RhYmxlX2dldEN1cnJlbnQoKSB7XG4gIGlmICghZW5hYmxlU2NoZWR1bGVyVHJhY2luZykge1xuICAgIHJldHVybiBudWxsO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBleHBvcnRzLl9faW50ZXJhY3Rpb25zUmVmLmN1cnJlbnQ7XG4gIH1cbn1cbmZ1bmN0aW9uIHVuc3RhYmxlX2dldFRocmVhZElEKCkge1xuICByZXR1cm4gKyt0aHJlYWRJRENvdW50ZXI7XG59XG5mdW5jdGlvbiB1bnN0YWJsZV90cmFjZShuYW1lLCB0aW1lc3RhbXAsIGNhbGxiYWNrKSB7XG4gIHZhciB0aHJlYWRJRCA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogREVGQVVMVF9USFJFQURfSUQ7XG5cbiAgaWYgKCFlbmFibGVTY2hlZHVsZXJUcmFjaW5nKSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gIH1cblxuICB2YXIgaW50ZXJhY3Rpb24gPSB7XG4gICAgX19jb3VudDogMSxcbiAgICBpZDogaW50ZXJhY3Rpb25JRENvdW50ZXIrKyxcbiAgICBuYW1lOiBuYW1lLFxuICAgIHRpbWVzdGFtcDogdGltZXN0YW1wXG4gIH07XG4gIHZhciBwcmV2SW50ZXJhY3Rpb25zID0gZXhwb3J0cy5fX2ludGVyYWN0aW9uc1JlZi5jdXJyZW50OyAvLyBUcmFjZWQgaW50ZXJhY3Rpb25zIHNob3VsZCBzdGFjay9hY2N1bXVsYXRlLlxuICAvLyBUbyBkbyB0aGF0LCBjbG9uZSB0aGUgY3VycmVudCBpbnRlcmFjdGlvbnMuXG4gIC8vIFRoZSBwcmV2aW91cyBzZXQgd2lsbCBiZSByZXN0b3JlZCB1cG9uIGNvbXBsZXRpb24uXG5cbiAgdmFyIGludGVyYWN0aW9ucyA9IG5ldyBTZXQocHJldkludGVyYWN0aW9ucyk7XG4gIGludGVyYWN0aW9ucy5hZGQoaW50ZXJhY3Rpb24pO1xuICBleHBvcnRzLl9faW50ZXJhY3Rpb25zUmVmLmN1cnJlbnQgPSBpbnRlcmFjdGlvbnM7XG4gIHZhciBzdWJzY3JpYmVyID0gZXhwb3J0cy5fX3N1YnNjcmliZXJSZWYuY3VycmVudDtcbiAgdmFyIHJldHVyblZhbHVlO1xuXG4gIHRyeSB7XG4gICAgaWYgKHN1YnNjcmliZXIgIT09IG51bGwpIHtcbiAgICAgIHN1YnNjcmliZXIub25JbnRlcmFjdGlvblRyYWNlZChpbnRlcmFjdGlvbik7XG4gICAgfVxuICB9IGZpbmFsbHkge1xuICAgIHRyeSB7XG4gICAgICBpZiAoc3Vic2NyaWJlciAhPT0gbnVsbCkge1xuICAgICAgICBzdWJzY3JpYmVyLm9uV29ya1N0YXJ0ZWQoaW50ZXJhY3Rpb25zLCB0aHJlYWRJRCk7XG4gICAgICB9XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVyblZhbHVlID0gY2FsbGJhY2soKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGV4cG9ydHMuX19pbnRlcmFjdGlvbnNSZWYuY3VycmVudCA9IHByZXZJbnRlcmFjdGlvbnM7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAoc3Vic2NyaWJlciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5vbldvcmtTdG9wcGVkKGludGVyYWN0aW9ucywgdGhyZWFkSUQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBpbnRlcmFjdGlvbi5fX2NvdW50LS07IC8vIElmIG5vIGFzeW5jIHdvcmsgd2FzIHNjaGVkdWxlZCBmb3IgdGhpcyBpbnRlcmFjdGlvbixcbiAgICAgICAgICAvLyBOb3RpZnkgc3Vic2NyaWJlcnMgdGhhdCBpdCdzIGNvbXBsZXRlZC5cblxuICAgICAgICAgIGlmIChzdWJzY3JpYmVyICE9PSBudWxsICYmIGludGVyYWN0aW9uLl9fY291bnQgPT09IDApIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIub25JbnRlcmFjdGlvblNjaGVkdWxlZFdvcmtDb21wbGV0ZWQoaW50ZXJhY3Rpb24pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXR1cm5WYWx1ZTtcbn1cbmZ1bmN0aW9uIHVuc3RhYmxlX3dyYXAoY2FsbGJhY2spIHtcbiAgdmFyIHRocmVhZElEID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBERUZBVUxUX1RIUkVBRF9JRDtcblxuICBpZiAoIWVuYWJsZVNjaGVkdWxlclRyYWNpbmcpIHtcbiAgICByZXR1cm4gY2FsbGJhY2s7XG4gIH1cblxuICB2YXIgd3JhcHBlZEludGVyYWN0aW9ucyA9IGV4cG9ydHMuX19pbnRlcmFjdGlvbnNSZWYuY3VycmVudDtcbiAgdmFyIHN1YnNjcmliZXIgPSBleHBvcnRzLl9fc3Vic2NyaWJlclJlZi5jdXJyZW50O1xuXG4gIGlmIChzdWJzY3JpYmVyICE9PSBudWxsKSB7XG4gICAgc3Vic2NyaWJlci5vbldvcmtTY2hlZHVsZWQod3JhcHBlZEludGVyYWN0aW9ucywgdGhyZWFkSUQpO1xuICB9IC8vIFVwZGF0ZSB0aGUgcGVuZGluZyBhc3luYyB3b3JrIGNvdW50IGZvciB0aGUgY3VycmVudCBpbnRlcmFjdGlvbnMuXG4gIC8vIFVwZGF0ZSBhZnRlciBjYWxsaW5nIHN1YnNjcmliZXJzIGluIGNhc2Ugb2YgZXJyb3IuXG5cblxuICB3cmFwcGVkSW50ZXJhY3Rpb25zLmZvckVhY2goZnVuY3Rpb24gKGludGVyYWN0aW9uKSB7XG4gICAgaW50ZXJhY3Rpb24uX19jb3VudCsrO1xuICB9KTtcbiAgdmFyIGhhc1J1biA9IGZhbHNlO1xuXG4gIGZ1bmN0aW9uIHdyYXBwZWQoKSB7XG4gICAgdmFyIHByZXZJbnRlcmFjdGlvbnMgPSBleHBvcnRzLl9faW50ZXJhY3Rpb25zUmVmLmN1cnJlbnQ7XG4gICAgZXhwb3J0cy5fX2ludGVyYWN0aW9uc1JlZi5jdXJyZW50ID0gd3JhcHBlZEludGVyYWN0aW9ucztcbiAgICBzdWJzY3JpYmVyID0gZXhwb3J0cy5fX3N1YnNjcmliZXJSZWYuY3VycmVudDtcblxuICAgIHRyeSB7XG4gICAgICB2YXIgcmV0dXJuVmFsdWU7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChzdWJzY3JpYmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgc3Vic2NyaWJlci5vbldvcmtTdGFydGVkKHdyYXBwZWRJbnRlcmFjdGlvbnMsIHRocmVhZElEKTtcbiAgICAgICAgfVxuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm5WYWx1ZSA9IGNhbGxiYWNrLmFwcGx5KHVuZGVmaW5lZCwgYXJndW1lbnRzKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBleHBvcnRzLl9faW50ZXJhY3Rpb25zUmVmLmN1cnJlbnQgPSBwcmV2SW50ZXJhY3Rpb25zO1xuXG4gICAgICAgICAgaWYgKHN1YnNjcmliZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIub25Xb3JrU3RvcHBlZCh3cmFwcGVkSW50ZXJhY3Rpb25zLCB0aHJlYWRJRCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXR1cm5WYWx1ZTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKCFoYXNSdW4pIHtcbiAgICAgICAgLy8gV2Ugb25seSBleHBlY3QgYSB3cmFwcGVkIGZ1bmN0aW9uIHRvIGJlIGV4ZWN1dGVkIG9uY2UsXG4gICAgICAgIC8vIEJ1dCBpbiB0aGUgZXZlbnQgdGhhdCBpdCdzIGV4ZWN1dGVkIG1vcmUgdGhhbiBvbmNl4oCTXG4gICAgICAgIC8vIE9ubHkgZGVjcmVtZW50IHRoZSBvdXRzdGFuZGluZyBpbnRlcmFjdGlvbiBjb3VudHMgb25jZS5cbiAgICAgICAgaGFzUnVuID0gdHJ1ZTsgLy8gVXBkYXRlIHBlbmRpbmcgYXN5bmMgY291bnRzIGZvciBhbGwgd3JhcHBlZCBpbnRlcmFjdGlvbnMuXG4gICAgICAgIC8vIElmIHRoaXMgd2FzIHRoZSBsYXN0IHNjaGVkdWxlZCBhc3luYyB3b3JrIGZvciBhbnkgb2YgdGhlbSxcbiAgICAgICAgLy8gTWFyayB0aGVtIGFzIGNvbXBsZXRlZC5cblxuICAgICAgICB3cmFwcGVkSW50ZXJhY3Rpb25zLmZvckVhY2goZnVuY3Rpb24gKGludGVyYWN0aW9uKSB7XG4gICAgICAgICAgaW50ZXJhY3Rpb24uX19jb3VudC0tO1xuXG4gICAgICAgICAgaWYgKHN1YnNjcmliZXIgIT09IG51bGwgJiYgaW50ZXJhY3Rpb24uX19jb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5vbkludGVyYWN0aW9uU2NoZWR1bGVkV29ya0NvbXBsZXRlZChpbnRlcmFjdGlvbik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB3cmFwcGVkLmNhbmNlbCA9IGZ1bmN0aW9uIGNhbmNlbCgpIHtcbiAgICBzdWJzY3JpYmVyID0gZXhwb3J0cy5fX3N1YnNjcmliZXJSZWYuY3VycmVudDtcblxuICAgIHRyeSB7XG4gICAgICBpZiAoc3Vic2NyaWJlciAhPT0gbnVsbCkge1xuICAgICAgICBzdWJzY3JpYmVyLm9uV29ya0NhbmNlbGVkKHdyYXBwZWRJbnRlcmFjdGlvbnMsIHRocmVhZElEKTtcbiAgICAgIH1cbiAgICB9IGZpbmFsbHkge1xuICAgICAgLy8gVXBkYXRlIHBlbmRpbmcgYXN5bmMgY291bnRzIGZvciBhbGwgd3JhcHBlZCBpbnRlcmFjdGlvbnMuXG4gICAgICAvLyBJZiB0aGlzIHdhcyB0aGUgbGFzdCBzY2hlZHVsZWQgYXN5bmMgd29yayBmb3IgYW55IG9mIHRoZW0sXG4gICAgICAvLyBNYXJrIHRoZW0gYXMgY29tcGxldGVkLlxuICAgICAgd3JhcHBlZEludGVyYWN0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChpbnRlcmFjdGlvbikge1xuICAgICAgICBpbnRlcmFjdGlvbi5fX2NvdW50LS07XG5cbiAgICAgICAgaWYgKHN1YnNjcmliZXIgJiYgaW50ZXJhY3Rpb24uX19jb3VudCA9PT0gMCkge1xuICAgICAgICAgIHN1YnNjcmliZXIub25JbnRlcmFjdGlvblNjaGVkdWxlZFdvcmtDb21wbGV0ZWQoaW50ZXJhY3Rpb24pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIHdyYXBwZWQ7XG59XG5cbnZhciBzdWJzY3JpYmVycyA9IG51bGw7XG5cbmlmIChlbmFibGVTY2hlZHVsZXJUcmFjaW5nKSB7XG4gIHN1YnNjcmliZXJzID0gbmV3IFNldCgpO1xufVxuXG5mdW5jdGlvbiB1bnN0YWJsZV9zdWJzY3JpYmUoc3Vic2NyaWJlcikge1xuICBpZiAoZW5hYmxlU2NoZWR1bGVyVHJhY2luZykge1xuICAgIHN1YnNjcmliZXJzLmFkZChzdWJzY3JpYmVyKTtcblxuICAgIGlmIChzdWJzY3JpYmVycy5zaXplID09PSAxKSB7XG4gICAgICBleHBvcnRzLl9fc3Vic2NyaWJlclJlZi5jdXJyZW50ID0ge1xuICAgICAgICBvbkludGVyYWN0aW9uU2NoZWR1bGVkV29ya0NvbXBsZXRlZDogb25JbnRlcmFjdGlvblNjaGVkdWxlZFdvcmtDb21wbGV0ZWQsXG4gICAgICAgIG9uSW50ZXJhY3Rpb25UcmFjZWQ6IG9uSW50ZXJhY3Rpb25UcmFjZWQsXG4gICAgICAgIG9uV29ya0NhbmNlbGVkOiBvbldvcmtDYW5jZWxlZCxcbiAgICAgICAgb25Xb3JrU2NoZWR1bGVkOiBvbldvcmtTY2hlZHVsZWQsXG4gICAgICAgIG9uV29ya1N0YXJ0ZWQ6IG9uV29ya1N0YXJ0ZWQsXG4gICAgICAgIG9uV29ya1N0b3BwZWQ6IG9uV29ya1N0b3BwZWRcbiAgICAgIH07XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiB1bnN0YWJsZV91bnN1YnNjcmliZShzdWJzY3JpYmVyKSB7XG4gIGlmIChlbmFibGVTY2hlZHVsZXJUcmFjaW5nKSB7XG4gICAgc3Vic2NyaWJlcnMuZGVsZXRlKHN1YnNjcmliZXIpO1xuXG4gICAgaWYgKHN1YnNjcmliZXJzLnNpemUgPT09IDApIHtcbiAgICAgIGV4cG9ydHMuX19zdWJzY3JpYmVyUmVmLmN1cnJlbnQgPSBudWxsO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBvbkludGVyYWN0aW9uVHJhY2VkKGludGVyYWN0aW9uKSB7XG4gIHZhciBkaWRDYXRjaEVycm9yID0gZmFsc2U7XG4gIHZhciBjYXVnaHRFcnJvciA9IG51bGw7XG4gIHN1YnNjcmliZXJzLmZvckVhY2goZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICB0cnkge1xuICAgICAgc3Vic2NyaWJlci5vbkludGVyYWN0aW9uVHJhY2VkKGludGVyYWN0aW9uKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKCFkaWRDYXRjaEVycm9yKSB7XG4gICAgICAgIGRpZENhdGNoRXJyb3IgPSB0cnVlO1xuICAgICAgICBjYXVnaHRFcnJvciA9IGVycm9yO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgaWYgKGRpZENhdGNoRXJyb3IpIHtcbiAgICB0aHJvdyBjYXVnaHRFcnJvcjtcbiAgfVxufVxuXG5mdW5jdGlvbiBvbkludGVyYWN0aW9uU2NoZWR1bGVkV29ya0NvbXBsZXRlZChpbnRlcmFjdGlvbikge1xuICB2YXIgZGlkQ2F0Y2hFcnJvciA9IGZhbHNlO1xuICB2YXIgY2F1Z2h0RXJyb3IgPSBudWxsO1xuICBzdWJzY3JpYmVycy5mb3JFYWNoKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgdHJ5IHtcbiAgICAgIHN1YnNjcmliZXIub25JbnRlcmFjdGlvblNjaGVkdWxlZFdvcmtDb21wbGV0ZWQoaW50ZXJhY3Rpb24pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoIWRpZENhdGNoRXJyb3IpIHtcbiAgICAgICAgZGlkQ2F0Y2hFcnJvciA9IHRydWU7XG4gICAgICAgIGNhdWdodEVycm9yID0gZXJyb3I7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICBpZiAoZGlkQ2F0Y2hFcnJvcikge1xuICAgIHRocm93IGNhdWdodEVycm9yO1xuICB9XG59XG5cbmZ1bmN0aW9uIG9uV29ya1NjaGVkdWxlZChpbnRlcmFjdGlvbnMsIHRocmVhZElEKSB7XG4gIHZhciBkaWRDYXRjaEVycm9yID0gZmFsc2U7XG4gIHZhciBjYXVnaHRFcnJvciA9IG51bGw7XG4gIHN1YnNjcmliZXJzLmZvckVhY2goZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICB0cnkge1xuICAgICAgc3Vic2NyaWJlci5vbldvcmtTY2hlZHVsZWQoaW50ZXJhY3Rpb25zLCB0aHJlYWRJRCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGlmICghZGlkQ2F0Y2hFcnJvcikge1xuICAgICAgICBkaWRDYXRjaEVycm9yID0gdHJ1ZTtcbiAgICAgICAgY2F1Z2h0RXJyb3IgPSBlcnJvcjtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIGlmIChkaWRDYXRjaEVycm9yKSB7XG4gICAgdGhyb3cgY2F1Z2h0RXJyb3I7XG4gIH1cbn1cblxuZnVuY3Rpb24gb25Xb3JrU3RhcnRlZChpbnRlcmFjdGlvbnMsIHRocmVhZElEKSB7XG4gIHZhciBkaWRDYXRjaEVycm9yID0gZmFsc2U7XG4gIHZhciBjYXVnaHRFcnJvciA9IG51bGw7XG4gIHN1YnNjcmliZXJzLmZvckVhY2goZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICB0cnkge1xuICAgICAgc3Vic2NyaWJlci5vbldvcmtTdGFydGVkKGludGVyYWN0aW9ucywgdGhyZWFkSUQpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoIWRpZENhdGNoRXJyb3IpIHtcbiAgICAgICAgZGlkQ2F0Y2hFcnJvciA9IHRydWU7XG4gICAgICAgIGNhdWdodEVycm9yID0gZXJyb3I7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICBpZiAoZGlkQ2F0Y2hFcnJvcikge1xuICAgIHRocm93IGNhdWdodEVycm9yO1xuICB9XG59XG5cbmZ1bmN0aW9uIG9uV29ya1N0b3BwZWQoaW50ZXJhY3Rpb25zLCB0aHJlYWRJRCkge1xuICB2YXIgZGlkQ2F0Y2hFcnJvciA9IGZhbHNlO1xuICB2YXIgY2F1Z2h0RXJyb3IgPSBudWxsO1xuICBzdWJzY3JpYmVycy5mb3JFYWNoKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgdHJ5IHtcbiAgICAgIHN1YnNjcmliZXIub25Xb3JrU3RvcHBlZChpbnRlcmFjdGlvbnMsIHRocmVhZElEKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKCFkaWRDYXRjaEVycm9yKSB7XG4gICAgICAgIGRpZENhdGNoRXJyb3IgPSB0cnVlO1xuICAgICAgICBjYXVnaHRFcnJvciA9IGVycm9yO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgaWYgKGRpZENhdGNoRXJyb3IpIHtcbiAgICB0aHJvdyBjYXVnaHRFcnJvcjtcbiAgfVxufVxuXG5mdW5jdGlvbiBvbldvcmtDYW5jZWxlZChpbnRlcmFjdGlvbnMsIHRocmVhZElEKSB7XG4gIHZhciBkaWRDYXRjaEVycm9yID0gZmFsc2U7XG4gIHZhciBjYXVnaHRFcnJvciA9IG51bGw7XG4gIHN1YnNjcmliZXJzLmZvckVhY2goZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICB0cnkge1xuICAgICAgc3Vic2NyaWJlci5vbldvcmtDYW5jZWxlZChpbnRlcmFjdGlvbnMsIHRocmVhZElEKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKCFkaWRDYXRjaEVycm9yKSB7XG4gICAgICAgIGRpZENhdGNoRXJyb3IgPSB0cnVlO1xuICAgICAgICBjYXVnaHRFcnJvciA9IGVycm9yO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgaWYgKGRpZENhdGNoRXJyb3IpIHtcbiAgICB0aHJvdyBjYXVnaHRFcnJvcjtcbiAgfVxufVxuXG5leHBvcnRzLnVuc3RhYmxlX2NsZWFyID0gdW5zdGFibGVfY2xlYXI7XG5leHBvcnRzLnVuc3RhYmxlX2dldEN1cnJlbnQgPSB1bnN0YWJsZV9nZXRDdXJyZW50O1xuZXhwb3J0cy51bnN0YWJsZV9nZXRUaHJlYWRJRCA9IHVuc3RhYmxlX2dldFRocmVhZElEO1xuZXhwb3J0cy51bnN0YWJsZV90cmFjZSA9IHVuc3RhYmxlX3RyYWNlO1xuZXhwb3J0cy51bnN0YWJsZV93cmFwID0gdW5zdGFibGVfd3JhcDtcbmV4cG9ydHMudW5zdGFibGVfc3Vic2NyaWJlID0gdW5zdGFibGVfc3Vic2NyaWJlO1xuZXhwb3J0cy51bnN0YWJsZV91bnN1YnNjcmliZSA9IHVuc3RhYmxlX3Vuc3Vic2NyaWJlO1xuICB9KSgpO1xufVxuIiwiLyoqIEBsaWNlbnNlIFJlYWN0IHYwLjE4LjBcbiAqIHNjaGVkdWxlci5kZXZlbG9wbWVudC5qc1xuICpcbiAqIENvcHlyaWdodCAoYykgRmFjZWJvb2ssIEluYy4gYW5kIGl0cyBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuXG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgKGZ1bmN0aW9uKCkge1xuJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG52YXIgZW5hYmxlU2NoZWR1bGVyRGVidWdnaW5nID0gZmFsc2U7XG52YXIgZW5hYmxlSXNJbnB1dFBlbmRpbmcgPSBmYWxzZTtcbnZhciBlbmFibGVQcm9maWxpbmcgPSB0cnVlO1xuXG52YXIgcmVxdWVzdEhvc3RDYWxsYmFjaztcblxudmFyIHJlcXVlc3RIb3N0VGltZW91dDtcbnZhciBjYW5jZWxIb3N0VGltZW91dDtcbnZhciBzaG91bGRZaWVsZFRvSG9zdDtcbnZhciByZXF1ZXN0UGFpbnQ7XG5cblxuXG5pZiAoIC8vIElmIFNjaGVkdWxlciBydW5zIGluIGEgbm9uLURPTSBlbnZpcm9ubWVudCwgaXQgZmFsbHMgYmFjayB0byBhIG5haXZlXG4vLyBpbXBsZW1lbnRhdGlvbiB1c2luZyBzZXRUaW1lb3V0LlxudHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcgfHwgLy8gQ2hlY2sgaWYgTWVzc2FnZUNoYW5uZWwgaXMgc3VwcG9ydGVkLCB0b28uXG50eXBlb2YgTWVzc2FnZUNoYW5uZWwgIT09ICdmdW5jdGlvbicpIHtcbiAgLy8gSWYgdGhpcyBhY2NpZGVudGFsbHkgZ2V0cyBpbXBvcnRlZCBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50LCBlLmcuIEphdmFTY3JpcHRDb3JlLFxuICAvLyBmYWxsYmFjayB0byBhIG5haXZlIGltcGxlbWVudGF0aW9uLlxuICB2YXIgX2NhbGxiYWNrID0gbnVsbDtcbiAgdmFyIF90aW1lb3V0SUQgPSBudWxsO1xuXG4gIHZhciBfZmx1c2hDYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoX2NhbGxiYWNrICE9PSBudWxsKSB7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgY3VycmVudFRpbWUgPSBleHBvcnRzLnVuc3RhYmxlX25vdygpO1xuICAgICAgICB2YXIgaGFzUmVtYWluaW5nVGltZSA9IHRydWU7XG5cbiAgICAgICAgX2NhbGxiYWNrKGhhc1JlbWFpbmluZ1RpbWUsIGN1cnJlbnRUaW1lKTtcblxuICAgICAgICBfY2FsbGJhY2sgPSBudWxsO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBzZXRUaW1lb3V0KF9mbHVzaENhbGxiYWNrLCAwKTtcbiAgICAgICAgdGhyb3cgZTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdmFyIGluaXRpYWxUaW1lID0gRGF0ZS5ub3coKTtcblxuICBleHBvcnRzLnVuc3RhYmxlX25vdyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gRGF0ZS5ub3coKSAtIGluaXRpYWxUaW1lO1xuICB9O1xuXG4gIHJlcXVlc3RIb3N0Q2FsbGJhY2sgPSBmdW5jdGlvbiAoY2IpIHtcbiAgICBpZiAoX2NhbGxiYWNrICE9PSBudWxsKSB7XG4gICAgICAvLyBQcm90ZWN0IGFnYWluc3QgcmUtZW50cmFuY3kuXG4gICAgICBzZXRUaW1lb3V0KHJlcXVlc3RIb3N0Q2FsbGJhY2ssIDAsIGNiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgX2NhbGxiYWNrID0gY2I7XG4gICAgICBzZXRUaW1lb3V0KF9mbHVzaENhbGxiYWNrLCAwKTtcbiAgICB9XG4gIH07XG5cbiAgcmVxdWVzdEhvc3RUaW1lb3V0ID0gZnVuY3Rpb24gKGNiLCBtcykge1xuICAgIF90aW1lb3V0SUQgPSBzZXRUaW1lb3V0KGNiLCBtcyk7XG4gIH07XG5cbiAgY2FuY2VsSG9zdFRpbWVvdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgY2xlYXJUaW1lb3V0KF90aW1lb3V0SUQpO1xuICB9O1xuXG4gIHNob3VsZFlpZWxkVG9Ib3N0ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICByZXF1ZXN0UGFpbnQgPSBleHBvcnRzLnVuc3RhYmxlX2ZvcmNlRnJhbWVSYXRlID0gZnVuY3Rpb24gKCkge307XG59IGVsc2Uge1xuICAvLyBDYXB0dXJlIGxvY2FsIHJlZmVyZW5jZXMgdG8gbmF0aXZlIEFQSXMsIGluIGNhc2UgYSBwb2x5ZmlsbCBvdmVycmlkZXMgdGhlbS5cbiAgdmFyIHBlcmZvcm1hbmNlID0gd2luZG93LnBlcmZvcm1hbmNlO1xuICB2YXIgX0RhdGUgPSB3aW5kb3cuRGF0ZTtcbiAgdmFyIF9zZXRUaW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQ7XG4gIHZhciBfY2xlYXJUaW1lb3V0ID0gd2luZG93LmNsZWFyVGltZW91dDtcblxuICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgLy8gVE9ETzogU2NoZWR1bGVyIG5vIGxvbmdlciByZXF1aXJlcyB0aGVzZSBtZXRob2RzIHRvIGJlIHBvbHlmaWxsZWQuIEJ1dFxuICAgIC8vIG1heWJlIHdlIHdhbnQgdG8gY29udGludWUgd2FybmluZyBpZiB0aGV5IGRvbid0IGV4aXN0LCB0byBwcmVzZXJ2ZSB0aGVcbiAgICAvLyBvcHRpb24gdG8gcmVseSBvbiBpdCBpbiB0aGUgZnV0dXJlP1xuICAgIHZhciByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lO1xuICAgIHZhciBjYW5jZWxBbmltYXRpb25GcmFtZSA9IHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZTsgLy8gVE9ETzogUmVtb3ZlIGZiLm1lIGxpbmtcblxuICAgIGlmICh0eXBlb2YgcmVxdWVzdEFuaW1hdGlvbkZyYW1lICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiVGhpcyBicm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCByZXF1ZXN0QW5pbWF0aW9uRnJhbWUuIFwiICsgJ01ha2Ugc3VyZSB0aGF0IHlvdSBsb2FkIGEgJyArICdwb2x5ZmlsbCBpbiBvbGRlciBicm93c2Vycy4gaHR0cHM6Ly9mYi5tZS9yZWFjdC1wb2x5ZmlsbHMnKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGNhbmNlbEFuaW1hdGlvbkZyYW1lICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiVGhpcyBicm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCBjYW5jZWxBbmltYXRpb25GcmFtZS4gXCIgKyAnTWFrZSBzdXJlIHRoYXQgeW91IGxvYWQgYSAnICsgJ3BvbHlmaWxsIGluIG9sZGVyIGJyb3dzZXJzLiBodHRwczovL2ZiLm1lL3JlYWN0LXBvbHlmaWxscycpO1xuICAgIH1cbiAgfVxuXG4gIGlmICh0eXBlb2YgcGVyZm9ybWFuY2UgPT09ICdvYmplY3QnICYmIHR5cGVvZiBwZXJmb3JtYW5jZS5ub3cgPT09ICdmdW5jdGlvbicpIHtcbiAgICBleHBvcnRzLnVuc3RhYmxlX25vdyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHZhciBfaW5pdGlhbFRpbWUgPSBfRGF0ZS5ub3coKTtcblxuICAgIGV4cG9ydHMudW5zdGFibGVfbm93ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF9EYXRlLm5vdygpIC0gX2luaXRpYWxUaW1lO1xuICAgIH07XG4gIH1cblxuICB2YXIgaXNNZXNzYWdlTG9vcFJ1bm5pbmcgPSBmYWxzZTtcbiAgdmFyIHNjaGVkdWxlZEhvc3RDYWxsYmFjayA9IG51bGw7XG4gIHZhciB0YXNrVGltZW91dElEID0gLTE7IC8vIFNjaGVkdWxlciBwZXJpb2RpY2FsbHkgeWllbGRzIGluIGNhc2UgdGhlcmUgaXMgb3RoZXIgd29yayBvbiB0aGUgbWFpblxuICAvLyB0aHJlYWQsIGxpa2UgdXNlciBldmVudHMuIEJ5IGRlZmF1bHQsIGl0IHlpZWxkcyBtdWx0aXBsZSB0aW1lcyBwZXIgZnJhbWUuXG4gIC8vIEl0IGRvZXMgbm90IGF0dGVtcHQgdG8gYWxpZ24gd2l0aCBmcmFtZSBib3VuZGFyaWVzLCBzaW5jZSBtb3N0IHRhc2tzIGRvbid0XG4gIC8vIG5lZWQgdG8gYmUgZnJhbWUgYWxpZ25lZDsgZm9yIHRob3NlIHRoYXQgZG8sIHVzZSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUuXG5cbiAgdmFyIHlpZWxkSW50ZXJ2YWwgPSA1O1xuICB2YXIgZGVhZGxpbmUgPSAwOyAvLyBUT0RPOiBNYWtlIHRoaXMgY29uZmlndXJhYmxlXG4gIC8vIFRPRE86IEFkanVzdCB0aGlzIGJhc2VkIG9uIHByaW9yaXR5P1xuXG4gIHZhciBtYXhZaWVsZEludGVydmFsID0gMzAwO1xuICB2YXIgbmVlZHNQYWludCA9IGZhbHNlO1xuXG4gIGlmIChlbmFibGVJc0lucHV0UGVuZGluZyAmJiBuYXZpZ2F0b3IgIT09IHVuZGVmaW5lZCAmJiBuYXZpZ2F0b3Iuc2NoZWR1bGluZyAhPT0gdW5kZWZpbmVkICYmIG5hdmlnYXRvci5zY2hlZHVsaW5nLmlzSW5wdXRQZW5kaW5nICE9PSB1bmRlZmluZWQpIHtcbiAgICB2YXIgc2NoZWR1bGluZyA9IG5hdmlnYXRvci5zY2hlZHVsaW5nO1xuXG4gICAgc2hvdWxkWWllbGRUb0hvc3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgY3VycmVudFRpbWUgPSBleHBvcnRzLnVuc3RhYmxlX25vdygpO1xuXG4gICAgICBpZiAoY3VycmVudFRpbWUgPj0gZGVhZGxpbmUpIHtcbiAgICAgICAgLy8gVGhlcmUncyBubyB0aW1lIGxlZnQuIFdlIG1heSB3YW50IHRvIHlpZWxkIGNvbnRyb2wgb2YgdGhlIG1haW5cbiAgICAgICAgLy8gdGhyZWFkLCBzbyB0aGUgYnJvd3NlciBjYW4gcGVyZm9ybSBoaWdoIHByaW9yaXR5IHRhc2tzLiBUaGUgbWFpbiBvbmVzXG4gICAgICAgIC8vIGFyZSBwYWludGluZyBhbmQgdXNlciBpbnB1dC4gSWYgdGhlcmUncyBhIHBlbmRpbmcgcGFpbnQgb3IgYSBwZW5kaW5nXG4gICAgICAgIC8vIGlucHV0LCB0aGVuIHdlIHNob3VsZCB5aWVsZC4gQnV0IGlmIHRoZXJlJ3MgbmVpdGhlciwgdGhlbiB3ZSBjYW5cbiAgICAgICAgLy8geWllbGQgbGVzcyBvZnRlbiB3aGlsZSByZW1haW5pbmcgcmVzcG9uc2l2ZS4gV2UnbGwgZXZlbnR1YWxseSB5aWVsZFxuICAgICAgICAvLyByZWdhcmRsZXNzLCBzaW5jZSB0aGVyZSBjb3VsZCBiZSBhIHBlbmRpbmcgcGFpbnQgdGhhdCB3YXNuJ3RcbiAgICAgICAgLy8gYWNjb21wYW5pZWQgYnkgYSBjYWxsIHRvIGByZXF1ZXN0UGFpbnRgLCBvciBvdGhlciBtYWluIHRocmVhZCB0YXNrc1xuICAgICAgICAvLyBsaWtlIG5ldHdvcmsgZXZlbnRzLlxuICAgICAgICBpZiAobmVlZHNQYWludCB8fCBzY2hlZHVsaW5nLmlzSW5wdXRQZW5kaW5nKCkpIHtcbiAgICAgICAgICAvLyBUaGVyZSBpcyBlaXRoZXIgYSBwZW5kaW5nIHBhaW50IG9yIGEgcGVuZGluZyBpbnB1dC5cbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSAvLyBUaGVyZSdzIG5vIHBlbmRpbmcgaW5wdXQuIE9ubHkgeWllbGQgaWYgd2UndmUgcmVhY2hlZCB0aGUgbWF4XG4gICAgICAgIC8vIHlpZWxkIGludGVydmFsLlxuXG5cbiAgICAgICAgcmV0dXJuIGN1cnJlbnRUaW1lID49IG1heFlpZWxkSW50ZXJ2YWw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBUaGVyZSdzIHN0aWxsIHRpbWUgbGVmdCBpbiB0aGUgZnJhbWUuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmVxdWVzdFBhaW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgbmVlZHNQYWludCA9IHRydWU7XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICAvLyBgaXNJbnB1dFBlbmRpbmdgIGlzIG5vdCBhdmFpbGFibGUuIFNpbmNlIHdlIGhhdmUgbm8gd2F5IG9mIGtub3dpbmcgaWZcbiAgICAvLyB0aGVyZSdzIHBlbmRpbmcgaW5wdXQsIGFsd2F5cyB5aWVsZCBhdCB0aGUgZW5kIG9mIHRoZSBmcmFtZS5cbiAgICBzaG91bGRZaWVsZFRvSG9zdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBleHBvcnRzLnVuc3RhYmxlX25vdygpID49IGRlYWRsaW5lO1xuICAgIH07IC8vIFNpbmNlIHdlIHlpZWxkIGV2ZXJ5IGZyYW1lIHJlZ2FyZGxlc3MsIGByZXF1ZXN0UGFpbnRgIGhhcyBubyBlZmZlY3QuXG5cblxuICAgIHJlcXVlc3RQYWludCA9IGZ1bmN0aW9uICgpIHt9O1xuICB9XG5cbiAgZXhwb3J0cy51bnN0YWJsZV9mb3JjZUZyYW1lUmF0ZSA9IGZ1bmN0aW9uIChmcHMpIHtcbiAgICBpZiAoZnBzIDwgMCB8fCBmcHMgPiAxMjUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ2ZvcmNlRnJhbWVSYXRlIHRha2VzIGEgcG9zaXRpdmUgaW50IGJldHdlZW4gMCBhbmQgMTI1LCAnICsgJ2ZvcmNpbmcgZnJhbWVyYXRlcyBoaWdoZXIgdGhhbiAxMjUgZnBzIGlzIG5vdCB1bnN1cHBvcnRlZCcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChmcHMgPiAwKSB7XG4gICAgICB5aWVsZEludGVydmFsID0gTWF0aC5mbG9vcigxMDAwIC8gZnBzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gcmVzZXQgdGhlIGZyYW1lcmF0ZVxuICAgICAgeWllbGRJbnRlcnZhbCA9IDU7XG4gICAgfVxuICB9O1xuXG4gIHZhciBwZXJmb3JtV29ya1VudGlsRGVhZGxpbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHNjaGVkdWxlZEhvc3RDYWxsYmFjayAhPT0gbnVsbCkge1xuICAgICAgdmFyIGN1cnJlbnRUaW1lID0gZXhwb3J0cy51bnN0YWJsZV9ub3coKTsgLy8gWWllbGQgYWZ0ZXIgYHlpZWxkSW50ZXJ2YWxgIG1zLCByZWdhcmRsZXNzIG9mIHdoZXJlIHdlIGFyZSBpbiB0aGUgdnN5bmNcbiAgICAgIC8vIGN5Y2xlLiBUaGlzIG1lYW5zIHRoZXJlJ3MgYWx3YXlzIHRpbWUgcmVtYWluaW5nIGF0IHRoZSBiZWdpbm5pbmcgb2ZcbiAgICAgIC8vIHRoZSBtZXNzYWdlIGV2ZW50LlxuXG4gICAgICBkZWFkbGluZSA9IGN1cnJlbnRUaW1lICsgeWllbGRJbnRlcnZhbDtcbiAgICAgIHZhciBoYXNUaW1lUmVtYWluaW5nID0gdHJ1ZTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIGhhc01vcmVXb3JrID0gc2NoZWR1bGVkSG9zdENhbGxiYWNrKGhhc1RpbWVSZW1haW5pbmcsIGN1cnJlbnRUaW1lKTtcblxuICAgICAgICBpZiAoIWhhc01vcmVXb3JrKSB7XG4gICAgICAgICAgaXNNZXNzYWdlTG9vcFJ1bm5pbmcgPSBmYWxzZTtcbiAgICAgICAgICBzY2hlZHVsZWRIb3N0Q2FsbGJhY2sgPSBudWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIElmIHRoZXJlJ3MgbW9yZSB3b3JrLCBzY2hlZHVsZSB0aGUgbmV4dCBtZXNzYWdlIGV2ZW50IGF0IHRoZSBlbmRcbiAgICAgICAgICAvLyBvZiB0aGUgcHJlY2VkaW5nIG9uZS5cbiAgICAgICAgICBwb3J0LnBvc3RNZXNzYWdlKG51bGwpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAvLyBJZiBhIHNjaGVkdWxlciB0YXNrIHRocm93cywgZXhpdCB0aGUgY3VycmVudCBicm93c2VyIHRhc2sgc28gdGhlXG4gICAgICAgIC8vIGVycm9yIGNhbiBiZSBvYnNlcnZlZC5cbiAgICAgICAgcG9ydC5wb3N0TWVzc2FnZShudWxsKTtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlzTWVzc2FnZUxvb3BSdW5uaW5nID0gZmFsc2U7XG4gICAgfSAvLyBZaWVsZGluZyB0byB0aGUgYnJvd3NlciB3aWxsIGdpdmUgaXQgYSBjaGFuY2UgdG8gcGFpbnQsIHNvIHdlIGNhblxuICAgIC8vIHJlc2V0IHRoaXMuXG5cblxuICAgIG5lZWRzUGFpbnQgPSBmYWxzZTtcbiAgfTtcblxuICB2YXIgY2hhbm5lbCA9IG5ldyBNZXNzYWdlQ2hhbm5lbCgpO1xuICB2YXIgcG9ydCA9IGNoYW5uZWwucG9ydDI7XG4gIGNoYW5uZWwucG9ydDEub25tZXNzYWdlID0gcGVyZm9ybVdvcmtVbnRpbERlYWRsaW5lO1xuXG4gIHJlcXVlc3RIb3N0Q2FsbGJhY2sgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICBzY2hlZHVsZWRIb3N0Q2FsbGJhY2sgPSBjYWxsYmFjaztcblxuICAgIGlmICghaXNNZXNzYWdlTG9vcFJ1bm5pbmcpIHtcbiAgICAgIGlzTWVzc2FnZUxvb3BSdW5uaW5nID0gdHJ1ZTtcbiAgICAgIHBvcnQucG9zdE1lc3NhZ2UobnVsbCk7XG4gICAgfVxuICB9O1xuXG4gIHJlcXVlc3RIb3N0VGltZW91dCA9IGZ1bmN0aW9uIChjYWxsYmFjaywgbXMpIHtcbiAgICB0YXNrVGltZW91dElEID0gX3NldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgY2FsbGJhY2soZXhwb3J0cy51bnN0YWJsZV9ub3coKSk7XG4gICAgfSwgbXMpO1xuICB9O1xuXG4gIGNhbmNlbEhvc3RUaW1lb3V0ID0gZnVuY3Rpb24gKCkge1xuICAgIF9jbGVhclRpbWVvdXQodGFza1RpbWVvdXRJRCk7XG5cbiAgICB0YXNrVGltZW91dElEID0gLTE7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHB1c2goaGVhcCwgbm9kZSkge1xuICB2YXIgaW5kZXggPSBoZWFwLmxlbmd0aDtcbiAgaGVhcC5wdXNoKG5vZGUpO1xuICBzaWZ0VXAoaGVhcCwgbm9kZSwgaW5kZXgpO1xufVxuZnVuY3Rpb24gcGVlayhoZWFwKSB7XG4gIHZhciBmaXJzdCA9IGhlYXBbMF07XG4gIHJldHVybiBmaXJzdCA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGZpcnN0O1xufVxuZnVuY3Rpb24gcG9wKGhlYXApIHtcbiAgdmFyIGZpcnN0ID0gaGVhcFswXTtcblxuICBpZiAoZmlyc3QgIT09IHVuZGVmaW5lZCkge1xuICAgIHZhciBsYXN0ID0gaGVhcC5wb3AoKTtcblxuICAgIGlmIChsYXN0ICE9PSBmaXJzdCkge1xuICAgICAgaGVhcFswXSA9IGxhc3Q7XG4gICAgICBzaWZ0RG93bihoZWFwLCBsYXN0LCAwKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmlyc3Q7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZnVuY3Rpb24gc2lmdFVwKGhlYXAsIG5vZGUsIGkpIHtcbiAgdmFyIGluZGV4ID0gaTtcblxuICB3aGlsZSAodHJ1ZSkge1xuICAgIHZhciBwYXJlbnRJbmRleCA9IE1hdGguZmxvb3IoKGluZGV4IC0gMSkgLyAyKTtcbiAgICB2YXIgcGFyZW50ID0gaGVhcFtwYXJlbnRJbmRleF07XG5cbiAgICBpZiAocGFyZW50ICE9PSB1bmRlZmluZWQgJiYgY29tcGFyZShwYXJlbnQsIG5vZGUpID4gMCkge1xuICAgICAgLy8gVGhlIHBhcmVudCBpcyBsYXJnZXIuIFN3YXAgcG9zaXRpb25zLlxuICAgICAgaGVhcFtwYXJlbnRJbmRleF0gPSBub2RlO1xuICAgICAgaGVhcFtpbmRleF0gPSBwYXJlbnQ7XG4gICAgICBpbmRleCA9IHBhcmVudEluZGV4O1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBUaGUgcGFyZW50IGlzIHNtYWxsZXIuIEV4aXQuXG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHNpZnREb3duKGhlYXAsIG5vZGUsIGkpIHtcbiAgdmFyIGluZGV4ID0gaTtcbiAgdmFyIGxlbmd0aCA9IGhlYXAubGVuZ3RoO1xuXG4gIHdoaWxlIChpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBsZWZ0SW5kZXggPSAoaW5kZXggKyAxKSAqIDIgLSAxO1xuICAgIHZhciBsZWZ0ID0gaGVhcFtsZWZ0SW5kZXhdO1xuICAgIHZhciByaWdodEluZGV4ID0gbGVmdEluZGV4ICsgMTtcbiAgICB2YXIgcmlnaHQgPSBoZWFwW3JpZ2h0SW5kZXhdOyAvLyBJZiB0aGUgbGVmdCBvciByaWdodCBub2RlIGlzIHNtYWxsZXIsIHN3YXAgd2l0aCB0aGUgc21hbGxlciBvZiB0aG9zZS5cblxuICAgIGlmIChsZWZ0ICE9PSB1bmRlZmluZWQgJiYgY29tcGFyZShsZWZ0LCBub2RlKSA8IDApIHtcbiAgICAgIGlmIChyaWdodCAhPT0gdW5kZWZpbmVkICYmIGNvbXBhcmUocmlnaHQsIGxlZnQpIDwgMCkge1xuICAgICAgICBoZWFwW2luZGV4XSA9IHJpZ2h0O1xuICAgICAgICBoZWFwW3JpZ2h0SW5kZXhdID0gbm9kZTtcbiAgICAgICAgaW5kZXggPSByaWdodEluZGV4O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaGVhcFtpbmRleF0gPSBsZWZ0O1xuICAgICAgICBoZWFwW2xlZnRJbmRleF0gPSBub2RlO1xuICAgICAgICBpbmRleCA9IGxlZnRJbmRleDtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHJpZ2h0ICE9PSB1bmRlZmluZWQgJiYgY29tcGFyZShyaWdodCwgbm9kZSkgPCAwKSB7XG4gICAgICBoZWFwW2luZGV4XSA9IHJpZ2h0O1xuICAgICAgaGVhcFtyaWdodEluZGV4XSA9IG5vZGU7XG4gICAgICBpbmRleCA9IHJpZ2h0SW5kZXg7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE5laXRoZXIgY2hpbGQgaXMgc21hbGxlci4gRXhpdC5cbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gY29tcGFyZShhLCBiKSB7XG4gIC8vIENvbXBhcmUgc29ydCBpbmRleCBmaXJzdCwgdGhlbiB0YXNrIGlkLlxuICB2YXIgZGlmZiA9IGEuc29ydEluZGV4IC0gYi5zb3J0SW5kZXg7XG4gIHJldHVybiBkaWZmICE9PSAwID8gZGlmZiA6IGEuaWQgLSBiLmlkO1xufVxuXG4vLyBUT0RPOiBVc2Ugc3ltYm9scz9cbnZhciBOb1ByaW9yaXR5ID0gMDtcbnZhciBJbW1lZGlhdGVQcmlvcml0eSA9IDE7XG52YXIgVXNlckJsb2NraW5nUHJpb3JpdHkgPSAyO1xudmFyIE5vcm1hbFByaW9yaXR5ID0gMztcbnZhciBMb3dQcmlvcml0eSA9IDQ7XG52YXIgSWRsZVByaW9yaXR5ID0gNTtcblxudmFyIHJ1bklkQ291bnRlciA9IDA7XG52YXIgbWFpblRocmVhZElkQ291bnRlciA9IDA7XG52YXIgcHJvZmlsaW5nU3RhdGVTaXplID0gNDtcbnZhciBzaGFyZWRQcm9maWxpbmdCdWZmZXIgPSBlbmFibGVQcm9maWxpbmcgPyAvLyAkRmxvd0ZpeE1lIEZsb3cgZG9lc24ndCBrbm93IGFib3V0IFNoYXJlZEFycmF5QnVmZmVyXG50eXBlb2YgU2hhcmVkQXJyYXlCdWZmZXIgPT09ICdmdW5jdGlvbicgPyBuZXcgU2hhcmVkQXJyYXlCdWZmZXIocHJvZmlsaW5nU3RhdGVTaXplICogSW50MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCkgOiAvLyAkRmxvd0ZpeE1lIEZsb3cgZG9lc24ndCBrbm93IGFib3V0IEFycmF5QnVmZmVyXG50eXBlb2YgQXJyYXlCdWZmZXIgPT09ICdmdW5jdGlvbicgPyBuZXcgQXJyYXlCdWZmZXIocHJvZmlsaW5nU3RhdGVTaXplICogSW50MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCkgOiBudWxsIC8vIERvbid0IGNyYXNoIHRoZSBpbml0IHBhdGggb24gSUU5XG46IG51bGw7XG52YXIgcHJvZmlsaW5nU3RhdGUgPSBlbmFibGVQcm9maWxpbmcgJiYgc2hhcmVkUHJvZmlsaW5nQnVmZmVyICE9PSBudWxsID8gbmV3IEludDMyQXJyYXkoc2hhcmVkUHJvZmlsaW5nQnVmZmVyKSA6IFtdOyAvLyBXZSBjYW4ndCByZWFkIHRoaXMgYnV0IGl0IGhlbHBzIHNhdmUgYnl0ZXMgZm9yIG51bGwgY2hlY2tzXG5cbnZhciBQUklPUklUWSA9IDA7XG52YXIgQ1VSUkVOVF9UQVNLX0lEID0gMTtcbnZhciBDVVJSRU5UX1JVTl9JRCA9IDI7XG52YXIgUVVFVUVfU0laRSA9IDM7XG5cbmlmIChlbmFibGVQcm9maWxpbmcpIHtcbiAgcHJvZmlsaW5nU3RhdGVbUFJJT1JJVFldID0gTm9Qcmlvcml0eTsgLy8gVGhpcyBpcyBtYWludGFpbmVkIHdpdGggYSBjb3VudGVyLCBiZWNhdXNlIHRoZSBzaXplIG9mIHRoZSBwcmlvcml0eSBxdWV1ZVxuICAvLyBhcnJheSBtaWdodCBpbmNsdWRlIGNhbmNlbGVkIHRhc2tzLlxuXG4gIHByb2ZpbGluZ1N0YXRlW1FVRVVFX1NJWkVdID0gMDtcbiAgcHJvZmlsaW5nU3RhdGVbQ1VSUkVOVF9UQVNLX0lEXSA9IDA7XG59IC8vIEJ5dGVzIHBlciBlbGVtZW50IGlzIDRcblxuXG52YXIgSU5JVElBTF9FVkVOVF9MT0dfU0laRSA9IDEzMTA3MjtcbnZhciBNQVhfRVZFTlRfTE9HX1NJWkUgPSA1MjQyODg7IC8vIEVxdWl2YWxlbnQgdG8gMiBtZWdhYnl0ZXNcblxudmFyIGV2ZW50TG9nU2l6ZSA9IDA7XG52YXIgZXZlbnRMb2dCdWZmZXIgPSBudWxsO1xudmFyIGV2ZW50TG9nID0gbnVsbDtcbnZhciBldmVudExvZ0luZGV4ID0gMDtcbnZhciBUYXNrU3RhcnRFdmVudCA9IDE7XG52YXIgVGFza0NvbXBsZXRlRXZlbnQgPSAyO1xudmFyIFRhc2tFcnJvckV2ZW50ID0gMztcbnZhciBUYXNrQ2FuY2VsRXZlbnQgPSA0O1xudmFyIFRhc2tSdW5FdmVudCA9IDU7XG52YXIgVGFza1lpZWxkRXZlbnQgPSA2O1xudmFyIFNjaGVkdWxlclN1c3BlbmRFdmVudCA9IDc7XG52YXIgU2NoZWR1bGVyUmVzdW1lRXZlbnQgPSA4O1xuXG5mdW5jdGlvbiBsb2dFdmVudChlbnRyaWVzKSB7XG4gIGlmIChldmVudExvZyAhPT0gbnVsbCkge1xuICAgIHZhciBvZmZzZXQgPSBldmVudExvZ0luZGV4O1xuICAgIGV2ZW50TG9nSW5kZXggKz0gZW50cmllcy5sZW5ndGg7XG5cbiAgICBpZiAoZXZlbnRMb2dJbmRleCArIDEgPiBldmVudExvZ1NpemUpIHtcbiAgICAgIGV2ZW50TG9nU2l6ZSAqPSAyO1xuXG4gICAgICBpZiAoZXZlbnRMb2dTaXplID4gTUFYX0VWRU5UX0xPR19TSVpFKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJTY2hlZHVsZXIgUHJvZmlsaW5nOiBFdmVudCBsb2cgZXhjZWVkZWQgbWF4aW11bSBzaXplLiBEb24ndCBcIiArICdmb3JnZXQgdG8gY2FsbCBgc3RvcExvZ2dpbmdQcm9maWxpbmdFdmVudHMoKWAuJyk7XG4gICAgICAgIHN0b3BMb2dnaW5nUHJvZmlsaW5nRXZlbnRzKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIG5ld0V2ZW50TG9nID0gbmV3IEludDMyQXJyYXkoZXZlbnRMb2dTaXplICogNCk7XG4gICAgICBuZXdFdmVudExvZy5zZXQoZXZlbnRMb2cpO1xuICAgICAgZXZlbnRMb2dCdWZmZXIgPSBuZXdFdmVudExvZy5idWZmZXI7XG4gICAgICBldmVudExvZyA9IG5ld0V2ZW50TG9nO1xuICAgIH1cblxuICAgIGV2ZW50TG9nLnNldChlbnRyaWVzLCBvZmZzZXQpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHN0YXJ0TG9nZ2luZ1Byb2ZpbGluZ0V2ZW50cygpIHtcbiAgZXZlbnRMb2dTaXplID0gSU5JVElBTF9FVkVOVF9MT0dfU0laRTtcbiAgZXZlbnRMb2dCdWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIoZXZlbnRMb2dTaXplICogNCk7XG4gIGV2ZW50TG9nID0gbmV3IEludDMyQXJyYXkoZXZlbnRMb2dCdWZmZXIpO1xuICBldmVudExvZ0luZGV4ID0gMDtcbn1cbmZ1bmN0aW9uIHN0b3BMb2dnaW5nUHJvZmlsaW5nRXZlbnRzKCkge1xuICB2YXIgYnVmZmVyID0gZXZlbnRMb2dCdWZmZXI7XG4gIGV2ZW50TG9nU2l6ZSA9IDA7XG4gIGV2ZW50TG9nQnVmZmVyID0gbnVsbDtcbiAgZXZlbnRMb2cgPSBudWxsO1xuICBldmVudExvZ0luZGV4ID0gMDtcbiAgcmV0dXJuIGJ1ZmZlcjtcbn1cbmZ1bmN0aW9uIG1hcmtUYXNrU3RhcnQodGFzaywgbXMpIHtcbiAgaWYgKGVuYWJsZVByb2ZpbGluZykge1xuICAgIHByb2ZpbGluZ1N0YXRlW1FVRVVFX1NJWkVdKys7XG5cbiAgICBpZiAoZXZlbnRMb2cgIT09IG51bGwpIHtcbiAgICAgIC8vIHBlcmZvcm1hbmNlLm5vdyByZXR1cm5zIGEgZmxvYXQsIHJlcHJlc2VudGluZyBtaWxsaXNlY29uZHMuIFdoZW4gdGhlXG4gICAgICAvLyBldmVudCBpcyBsb2dnZWQsIGl0J3MgY29lcmNlZCB0byBhbiBpbnQuIENvbnZlcnQgdG8gbWljcm9zZWNvbmRzIHRvXG4gICAgICAvLyBtYWludGFpbiBleHRyYSBkZWdyZWVzIG9mIHByZWNpc2lvbi5cbiAgICAgIGxvZ0V2ZW50KFtUYXNrU3RhcnRFdmVudCwgbXMgKiAxMDAwLCB0YXNrLmlkLCB0YXNrLnByaW9yaXR5TGV2ZWxdKTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIG1hcmtUYXNrQ29tcGxldGVkKHRhc2ssIG1zKSB7XG4gIGlmIChlbmFibGVQcm9maWxpbmcpIHtcbiAgICBwcm9maWxpbmdTdGF0ZVtQUklPUklUWV0gPSBOb1ByaW9yaXR5O1xuICAgIHByb2ZpbGluZ1N0YXRlW0NVUlJFTlRfVEFTS19JRF0gPSAwO1xuICAgIHByb2ZpbGluZ1N0YXRlW1FVRVVFX1NJWkVdLS07XG5cbiAgICBpZiAoZXZlbnRMb2cgIT09IG51bGwpIHtcbiAgICAgIGxvZ0V2ZW50KFtUYXNrQ29tcGxldGVFdmVudCwgbXMgKiAxMDAwLCB0YXNrLmlkXSk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBtYXJrVGFza0NhbmNlbGVkKHRhc2ssIG1zKSB7XG4gIGlmIChlbmFibGVQcm9maWxpbmcpIHtcbiAgICBwcm9maWxpbmdTdGF0ZVtRVUVVRV9TSVpFXS0tO1xuXG4gICAgaWYgKGV2ZW50TG9nICE9PSBudWxsKSB7XG4gICAgICBsb2dFdmVudChbVGFza0NhbmNlbEV2ZW50LCBtcyAqIDEwMDAsIHRhc2suaWRdKTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIG1hcmtUYXNrRXJyb3JlZCh0YXNrLCBtcykge1xuICBpZiAoZW5hYmxlUHJvZmlsaW5nKSB7XG4gICAgcHJvZmlsaW5nU3RhdGVbUFJJT1JJVFldID0gTm9Qcmlvcml0eTtcbiAgICBwcm9maWxpbmdTdGF0ZVtDVVJSRU5UX1RBU0tfSURdID0gMDtcbiAgICBwcm9maWxpbmdTdGF0ZVtRVUVVRV9TSVpFXS0tO1xuXG4gICAgaWYgKGV2ZW50TG9nICE9PSBudWxsKSB7XG4gICAgICBsb2dFdmVudChbVGFza0Vycm9yRXZlbnQsIG1zICogMTAwMCwgdGFzay5pZF0pO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gbWFya1Rhc2tSdW4odGFzaywgbXMpIHtcbiAgaWYgKGVuYWJsZVByb2ZpbGluZykge1xuICAgIHJ1bklkQ291bnRlcisrO1xuICAgIHByb2ZpbGluZ1N0YXRlW1BSSU9SSVRZXSA9IHRhc2sucHJpb3JpdHlMZXZlbDtcbiAgICBwcm9maWxpbmdTdGF0ZVtDVVJSRU5UX1RBU0tfSURdID0gdGFzay5pZDtcbiAgICBwcm9maWxpbmdTdGF0ZVtDVVJSRU5UX1JVTl9JRF0gPSBydW5JZENvdW50ZXI7XG5cbiAgICBpZiAoZXZlbnRMb2cgIT09IG51bGwpIHtcbiAgICAgIGxvZ0V2ZW50KFtUYXNrUnVuRXZlbnQsIG1zICogMTAwMCwgdGFzay5pZCwgcnVuSWRDb3VudGVyXSk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBtYXJrVGFza1lpZWxkKHRhc2ssIG1zKSB7XG4gIGlmIChlbmFibGVQcm9maWxpbmcpIHtcbiAgICBwcm9maWxpbmdTdGF0ZVtQUklPUklUWV0gPSBOb1ByaW9yaXR5O1xuICAgIHByb2ZpbGluZ1N0YXRlW0NVUlJFTlRfVEFTS19JRF0gPSAwO1xuICAgIHByb2ZpbGluZ1N0YXRlW0NVUlJFTlRfUlVOX0lEXSA9IDA7XG5cbiAgICBpZiAoZXZlbnRMb2cgIT09IG51bGwpIHtcbiAgICAgIGxvZ0V2ZW50KFtUYXNrWWllbGRFdmVudCwgbXMgKiAxMDAwLCB0YXNrLmlkLCBydW5JZENvdW50ZXJdKTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIG1hcmtTY2hlZHVsZXJTdXNwZW5kZWQobXMpIHtcbiAgaWYgKGVuYWJsZVByb2ZpbGluZykge1xuICAgIG1haW5UaHJlYWRJZENvdW50ZXIrKztcblxuICAgIGlmIChldmVudExvZyAhPT0gbnVsbCkge1xuICAgICAgbG9nRXZlbnQoW1NjaGVkdWxlclN1c3BlbmRFdmVudCwgbXMgKiAxMDAwLCBtYWluVGhyZWFkSWRDb3VudGVyXSk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBtYXJrU2NoZWR1bGVyVW5zdXNwZW5kZWQobXMpIHtcbiAgaWYgKGVuYWJsZVByb2ZpbGluZykge1xuICAgIGlmIChldmVudExvZyAhPT0gbnVsbCkge1xuICAgICAgbG9nRXZlbnQoW1NjaGVkdWxlclJlc3VtZUV2ZW50LCBtcyAqIDEwMDAsIG1haW5UaHJlYWRJZENvdW50ZXJdKTtcbiAgICB9XG4gIH1cbn1cblxuLyogZXNsaW50LWRpc2FibGUgbm8tdmFyICovXG4vLyBNYXRoLnBvdygyLCAzMCkgLSAxXG4vLyAwYjExMTExMTExMTExMTExMTExMTExMTExMTExMTExMVxuXG52YXIgbWF4U2lnbmVkMzFCaXRJbnQgPSAxMDczNzQxODIzOyAvLyBUaW1lcyBvdXQgaW1tZWRpYXRlbHlcblxudmFyIElNTUVESUFURV9QUklPUklUWV9USU1FT1VUID0gLTE7IC8vIEV2ZW50dWFsbHkgdGltZXMgb3V0XG5cbnZhciBVU0VSX0JMT0NLSU5HX1BSSU9SSVRZID0gMjUwO1xudmFyIE5PUk1BTF9QUklPUklUWV9USU1FT1VUID0gNTAwMDtcbnZhciBMT1dfUFJJT1JJVFlfVElNRU9VVCA9IDEwMDAwOyAvLyBOZXZlciB0aW1lcyBvdXRcblxudmFyIElETEVfUFJJT1JJVFkgPSBtYXhTaWduZWQzMUJpdEludDsgLy8gVGFza3MgYXJlIHN0b3JlZCBvbiBhIG1pbiBoZWFwXG5cbnZhciB0YXNrUXVldWUgPSBbXTtcbnZhciB0aW1lclF1ZXVlID0gW107IC8vIEluY3JlbWVudGluZyBpZCBjb3VudGVyLiBVc2VkIHRvIG1haW50YWluIGluc2VydGlvbiBvcmRlci5cblxudmFyIHRhc2tJZENvdW50ZXIgPSAxOyAvLyBQYXVzaW5nIHRoZSBzY2hlZHVsZXIgaXMgdXNlZnVsIGZvciBkZWJ1Z2dpbmcuXG5cbnZhciBpc1NjaGVkdWxlclBhdXNlZCA9IGZhbHNlO1xudmFyIGN1cnJlbnRUYXNrID0gbnVsbDtcbnZhciBjdXJyZW50UHJpb3JpdHlMZXZlbCA9IE5vcm1hbFByaW9yaXR5OyAvLyBUaGlzIGlzIHNldCB3aGlsZSBwZXJmb3JtaW5nIHdvcmssIHRvIHByZXZlbnQgcmUtZW50cmFuY3kuXG5cbnZhciBpc1BlcmZvcm1pbmdXb3JrID0gZmFsc2U7XG52YXIgaXNIb3N0Q2FsbGJhY2tTY2hlZHVsZWQgPSBmYWxzZTtcbnZhciBpc0hvc3RUaW1lb3V0U2NoZWR1bGVkID0gZmFsc2U7XG5cbmZ1bmN0aW9uIGFkdmFuY2VUaW1lcnMoY3VycmVudFRpbWUpIHtcbiAgLy8gQ2hlY2sgZm9yIHRhc2tzIHRoYXQgYXJlIG5vIGxvbmdlciBkZWxheWVkIGFuZCBhZGQgdGhlbSB0byB0aGUgcXVldWUuXG4gIHZhciB0aW1lciA9IHBlZWsodGltZXJRdWV1ZSk7XG5cbiAgd2hpbGUgKHRpbWVyICE9PSBudWxsKSB7XG4gICAgaWYgKHRpbWVyLmNhbGxiYWNrID09PSBudWxsKSB7XG4gICAgICAvLyBUaW1lciB3YXMgY2FuY2VsbGVkLlxuICAgICAgcG9wKHRpbWVyUXVldWUpO1xuICAgIH0gZWxzZSBpZiAodGltZXIuc3RhcnRUaW1lIDw9IGN1cnJlbnRUaW1lKSB7XG4gICAgICAvLyBUaW1lciBmaXJlZC4gVHJhbnNmZXIgdG8gdGhlIHRhc2sgcXVldWUuXG4gICAgICBwb3AodGltZXJRdWV1ZSk7XG4gICAgICB0aW1lci5zb3J0SW5kZXggPSB0aW1lci5leHBpcmF0aW9uVGltZTtcbiAgICAgIHB1c2godGFza1F1ZXVlLCB0aW1lcik7XG5cbiAgICAgIGlmIChlbmFibGVQcm9maWxpbmcpIHtcbiAgICAgICAgbWFya1Rhc2tTdGFydCh0aW1lciwgY3VycmVudFRpbWUpO1xuICAgICAgICB0aW1lci5pc1F1ZXVlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFJlbWFpbmluZyB0aW1lcnMgYXJlIHBlbmRpbmcuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGltZXIgPSBwZWVrKHRpbWVyUXVldWUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVRpbWVvdXQoY3VycmVudFRpbWUpIHtcbiAgaXNIb3N0VGltZW91dFNjaGVkdWxlZCA9IGZhbHNlO1xuICBhZHZhbmNlVGltZXJzKGN1cnJlbnRUaW1lKTtcblxuICBpZiAoIWlzSG9zdENhbGxiYWNrU2NoZWR1bGVkKSB7XG4gICAgaWYgKHBlZWsodGFza1F1ZXVlKSAhPT0gbnVsbCkge1xuICAgICAgaXNIb3N0Q2FsbGJhY2tTY2hlZHVsZWQgPSB0cnVlO1xuICAgICAgcmVxdWVzdEhvc3RDYWxsYmFjayhmbHVzaFdvcmspO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgZmlyc3RUaW1lciA9IHBlZWsodGltZXJRdWV1ZSk7XG5cbiAgICAgIGlmIChmaXJzdFRpbWVyICE9PSBudWxsKSB7XG4gICAgICAgIHJlcXVlc3RIb3N0VGltZW91dChoYW5kbGVUaW1lb3V0LCBmaXJzdFRpbWVyLnN0YXJ0VGltZSAtIGN1cnJlbnRUaW1lKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZmx1c2hXb3JrKGhhc1RpbWVSZW1haW5pbmcsIGluaXRpYWxUaW1lKSB7XG4gIGlmIChlbmFibGVQcm9maWxpbmcpIHtcbiAgICBtYXJrU2NoZWR1bGVyVW5zdXNwZW5kZWQoaW5pdGlhbFRpbWUpO1xuICB9IC8vIFdlJ2xsIG5lZWQgYSBob3N0IGNhbGxiYWNrIHRoZSBuZXh0IHRpbWUgd29yayBpcyBzY2hlZHVsZWQuXG5cblxuICBpc0hvc3RDYWxsYmFja1NjaGVkdWxlZCA9IGZhbHNlO1xuXG4gIGlmIChpc0hvc3RUaW1lb3V0U2NoZWR1bGVkKSB7XG4gICAgLy8gV2Ugc2NoZWR1bGVkIGEgdGltZW91dCBidXQgaXQncyBubyBsb25nZXIgbmVlZGVkLiBDYW5jZWwgaXQuXG4gICAgaXNIb3N0VGltZW91dFNjaGVkdWxlZCA9IGZhbHNlO1xuICAgIGNhbmNlbEhvc3RUaW1lb3V0KCk7XG4gIH1cblxuICBpc1BlcmZvcm1pbmdXb3JrID0gdHJ1ZTtcbiAgdmFyIHByZXZpb3VzUHJpb3JpdHlMZXZlbCA9IGN1cnJlbnRQcmlvcml0eUxldmVsO1xuXG4gIHRyeSB7XG4gICAgaWYgKGVuYWJsZVByb2ZpbGluZykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIHdvcmtMb29wKGhhc1RpbWVSZW1haW5pbmcsIGluaXRpYWxUaW1lKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGlmIChjdXJyZW50VGFzayAhPT0gbnVsbCkge1xuICAgICAgICAgIHZhciBjdXJyZW50VGltZSA9IGV4cG9ydHMudW5zdGFibGVfbm93KCk7XG4gICAgICAgICAgbWFya1Rhc2tFcnJvcmVkKGN1cnJlbnRUYXNrLCBjdXJyZW50VGltZSk7XG4gICAgICAgICAgY3VycmVudFRhc2suaXNRdWV1ZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBObyBjYXRjaCBpbiBwcm9kIGNvZGVwYXRoLlxuICAgICAgcmV0dXJuIHdvcmtMb29wKGhhc1RpbWVSZW1haW5pbmcsIGluaXRpYWxUaW1lKTtcbiAgICB9XG4gIH0gZmluYWxseSB7XG4gICAgY3VycmVudFRhc2sgPSBudWxsO1xuICAgIGN1cnJlbnRQcmlvcml0eUxldmVsID0gcHJldmlvdXNQcmlvcml0eUxldmVsO1xuICAgIGlzUGVyZm9ybWluZ1dvcmsgPSBmYWxzZTtcblxuICAgIGlmIChlbmFibGVQcm9maWxpbmcpIHtcbiAgICAgIHZhciBfY3VycmVudFRpbWUgPSBleHBvcnRzLnVuc3RhYmxlX25vdygpO1xuXG4gICAgICBtYXJrU2NoZWR1bGVyU3VzcGVuZGVkKF9jdXJyZW50VGltZSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHdvcmtMb29wKGhhc1RpbWVSZW1haW5pbmcsIGluaXRpYWxUaW1lKSB7XG4gIHZhciBjdXJyZW50VGltZSA9IGluaXRpYWxUaW1lO1xuICBhZHZhbmNlVGltZXJzKGN1cnJlbnRUaW1lKTtcbiAgY3VycmVudFRhc2sgPSBwZWVrKHRhc2tRdWV1ZSk7XG5cbiAgd2hpbGUgKGN1cnJlbnRUYXNrICE9PSBudWxsICYmICEoZW5hYmxlU2NoZWR1bGVyRGVidWdnaW5nICYmIGlzU2NoZWR1bGVyUGF1c2VkKSkge1xuICAgIGlmIChjdXJyZW50VGFzay5leHBpcmF0aW9uVGltZSA+IGN1cnJlbnRUaW1lICYmICghaGFzVGltZVJlbWFpbmluZyB8fCBzaG91bGRZaWVsZFRvSG9zdCgpKSkge1xuICAgICAgLy8gVGhpcyBjdXJyZW50VGFzayBoYXNuJ3QgZXhwaXJlZCwgYW5kIHdlJ3ZlIHJlYWNoZWQgdGhlIGRlYWRsaW5lLlxuICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgdmFyIGNhbGxiYWNrID0gY3VycmVudFRhc2suY2FsbGJhY2s7XG5cbiAgICBpZiAoY2FsbGJhY2sgIT09IG51bGwpIHtcbiAgICAgIGN1cnJlbnRUYXNrLmNhbGxiYWNrID0gbnVsbDtcbiAgICAgIGN1cnJlbnRQcmlvcml0eUxldmVsID0gY3VycmVudFRhc2sucHJpb3JpdHlMZXZlbDtcbiAgICAgIHZhciBkaWRVc2VyQ2FsbGJhY2tUaW1lb3V0ID0gY3VycmVudFRhc2suZXhwaXJhdGlvblRpbWUgPD0gY3VycmVudFRpbWU7XG4gICAgICBtYXJrVGFza1J1bihjdXJyZW50VGFzaywgY3VycmVudFRpbWUpO1xuICAgICAgdmFyIGNvbnRpbnVhdGlvbkNhbGxiYWNrID0gY2FsbGJhY2soZGlkVXNlckNhbGxiYWNrVGltZW91dCk7XG4gICAgICBjdXJyZW50VGltZSA9IGV4cG9ydHMudW5zdGFibGVfbm93KCk7XG5cbiAgICAgIGlmICh0eXBlb2YgY29udGludWF0aW9uQ2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgY3VycmVudFRhc2suY2FsbGJhY2sgPSBjb250aW51YXRpb25DYWxsYmFjaztcbiAgICAgICAgbWFya1Rhc2tZaWVsZChjdXJyZW50VGFzaywgY3VycmVudFRpbWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGVuYWJsZVByb2ZpbGluZykge1xuICAgICAgICAgIG1hcmtUYXNrQ29tcGxldGVkKGN1cnJlbnRUYXNrLCBjdXJyZW50VGltZSk7XG4gICAgICAgICAgY3VycmVudFRhc2suaXNRdWV1ZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjdXJyZW50VGFzayA9PT0gcGVlayh0YXNrUXVldWUpKSB7XG4gICAgICAgICAgcG9wKHRhc2tRdWV1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgYWR2YW5jZVRpbWVycyhjdXJyZW50VGltZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBvcCh0YXNrUXVldWUpO1xuICAgIH1cblxuICAgIGN1cnJlbnRUYXNrID0gcGVlayh0YXNrUXVldWUpO1xuICB9IC8vIFJldHVybiB3aGV0aGVyIHRoZXJlJ3MgYWRkaXRpb25hbCB3b3JrXG5cblxuICBpZiAoY3VycmVudFRhc2sgIT09IG51bGwpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgZmlyc3RUaW1lciA9IHBlZWsodGltZXJRdWV1ZSk7XG5cbiAgICBpZiAoZmlyc3RUaW1lciAhPT0gbnVsbCkge1xuICAgICAgcmVxdWVzdEhvc3RUaW1lb3V0KGhhbmRsZVRpbWVvdXQsIGZpcnN0VGltZXIuc3RhcnRUaW1lIC0gY3VycmVudFRpbWUpO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5mdW5jdGlvbiB1bnN0YWJsZV9ydW5XaXRoUHJpb3JpdHkocHJpb3JpdHlMZXZlbCwgZXZlbnRIYW5kbGVyKSB7XG4gIHN3aXRjaCAocHJpb3JpdHlMZXZlbCkge1xuICAgIGNhc2UgSW1tZWRpYXRlUHJpb3JpdHk6XG4gICAgY2FzZSBVc2VyQmxvY2tpbmdQcmlvcml0eTpcbiAgICBjYXNlIE5vcm1hbFByaW9yaXR5OlxuICAgIGNhc2UgTG93UHJpb3JpdHk6XG4gICAgY2FzZSBJZGxlUHJpb3JpdHk6XG4gICAgICBicmVhaztcblxuICAgIGRlZmF1bHQ6XG4gICAgICBwcmlvcml0eUxldmVsID0gTm9ybWFsUHJpb3JpdHk7XG4gIH1cblxuICB2YXIgcHJldmlvdXNQcmlvcml0eUxldmVsID0gY3VycmVudFByaW9yaXR5TGV2ZWw7XG4gIGN1cnJlbnRQcmlvcml0eUxldmVsID0gcHJpb3JpdHlMZXZlbDtcblxuICB0cnkge1xuICAgIHJldHVybiBldmVudEhhbmRsZXIoKTtcbiAgfSBmaW5hbGx5IHtcbiAgICBjdXJyZW50UHJpb3JpdHlMZXZlbCA9IHByZXZpb3VzUHJpb3JpdHlMZXZlbDtcbiAgfVxufVxuXG5mdW5jdGlvbiB1bnN0YWJsZV9uZXh0KGV2ZW50SGFuZGxlcikge1xuICB2YXIgcHJpb3JpdHlMZXZlbDtcblxuICBzd2l0Y2ggKGN1cnJlbnRQcmlvcml0eUxldmVsKSB7XG4gICAgY2FzZSBJbW1lZGlhdGVQcmlvcml0eTpcbiAgICBjYXNlIFVzZXJCbG9ja2luZ1ByaW9yaXR5OlxuICAgIGNhc2UgTm9ybWFsUHJpb3JpdHk6XG4gICAgICAvLyBTaGlmdCBkb3duIHRvIG5vcm1hbCBwcmlvcml0eVxuICAgICAgcHJpb3JpdHlMZXZlbCA9IE5vcm1hbFByaW9yaXR5O1xuICAgICAgYnJlYWs7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgLy8gQW55dGhpbmcgbG93ZXIgdGhhbiBub3JtYWwgcHJpb3JpdHkgc2hvdWxkIHJlbWFpbiBhdCB0aGUgY3VycmVudCBsZXZlbC5cbiAgICAgIHByaW9yaXR5TGV2ZWwgPSBjdXJyZW50UHJpb3JpdHlMZXZlbDtcbiAgICAgIGJyZWFrO1xuICB9XG5cbiAgdmFyIHByZXZpb3VzUHJpb3JpdHlMZXZlbCA9IGN1cnJlbnRQcmlvcml0eUxldmVsO1xuICBjdXJyZW50UHJpb3JpdHlMZXZlbCA9IHByaW9yaXR5TGV2ZWw7XG5cbiAgdHJ5IHtcbiAgICByZXR1cm4gZXZlbnRIYW5kbGVyKCk7XG4gIH0gZmluYWxseSB7XG4gICAgY3VycmVudFByaW9yaXR5TGV2ZWwgPSBwcmV2aW91c1ByaW9yaXR5TGV2ZWw7XG4gIH1cbn1cblxuZnVuY3Rpb24gdW5zdGFibGVfd3JhcENhbGxiYWNrKGNhbGxiYWNrKSB7XG4gIHZhciBwYXJlbnRQcmlvcml0eUxldmVsID0gY3VycmVudFByaW9yaXR5TGV2ZWw7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgLy8gVGhpcyBpcyBhIGZvcmsgb2YgcnVuV2l0aFByaW9yaXR5LCBpbmxpbmVkIGZvciBwZXJmb3JtYW5jZS5cbiAgICB2YXIgcHJldmlvdXNQcmlvcml0eUxldmVsID0gY3VycmVudFByaW9yaXR5TGV2ZWw7XG4gICAgY3VycmVudFByaW9yaXR5TGV2ZWwgPSBwYXJlbnRQcmlvcml0eUxldmVsO1xuXG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBjYWxsYmFjay5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBjdXJyZW50UHJpb3JpdHlMZXZlbCA9IHByZXZpb3VzUHJpb3JpdHlMZXZlbDtcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIHRpbWVvdXRGb3JQcmlvcml0eUxldmVsKHByaW9yaXR5TGV2ZWwpIHtcbiAgc3dpdGNoIChwcmlvcml0eUxldmVsKSB7XG4gICAgY2FzZSBJbW1lZGlhdGVQcmlvcml0eTpcbiAgICAgIHJldHVybiBJTU1FRElBVEVfUFJJT1JJVFlfVElNRU9VVDtcblxuICAgIGNhc2UgVXNlckJsb2NraW5nUHJpb3JpdHk6XG4gICAgICByZXR1cm4gVVNFUl9CTE9DS0lOR19QUklPUklUWTtcblxuICAgIGNhc2UgSWRsZVByaW9yaXR5OlxuICAgICAgcmV0dXJuIElETEVfUFJJT1JJVFk7XG5cbiAgICBjYXNlIExvd1ByaW9yaXR5OlxuICAgICAgcmV0dXJuIExPV19QUklPUklUWV9USU1FT1VUO1xuXG4gICAgY2FzZSBOb3JtYWxQcmlvcml0eTpcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIE5PUk1BTF9QUklPUklUWV9USU1FT1VUO1xuICB9XG59XG5cbmZ1bmN0aW9uIHVuc3RhYmxlX3NjaGVkdWxlQ2FsbGJhY2socHJpb3JpdHlMZXZlbCwgY2FsbGJhY2ssIG9wdGlvbnMpIHtcbiAgdmFyIGN1cnJlbnRUaW1lID0gZXhwb3J0cy51bnN0YWJsZV9ub3coKTtcbiAgdmFyIHN0YXJ0VGltZTtcbiAgdmFyIHRpbWVvdXQ7XG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnb2JqZWN0JyAmJiBvcHRpb25zICE9PSBudWxsKSB7XG4gICAgdmFyIGRlbGF5ID0gb3B0aW9ucy5kZWxheTtcblxuICAgIGlmICh0eXBlb2YgZGVsYXkgPT09ICdudW1iZXInICYmIGRlbGF5ID4gMCkge1xuICAgICAgc3RhcnRUaW1lID0gY3VycmVudFRpbWUgKyBkZWxheTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RhcnRUaW1lID0gY3VycmVudFRpbWU7XG4gICAgfVxuXG4gICAgdGltZW91dCA9IHR5cGVvZiBvcHRpb25zLnRpbWVvdXQgPT09ICdudW1iZXInID8gb3B0aW9ucy50aW1lb3V0IDogdGltZW91dEZvclByaW9yaXR5TGV2ZWwocHJpb3JpdHlMZXZlbCk7XG4gIH0gZWxzZSB7XG4gICAgdGltZW91dCA9IHRpbWVvdXRGb3JQcmlvcml0eUxldmVsKHByaW9yaXR5TGV2ZWwpO1xuICAgIHN0YXJ0VGltZSA9IGN1cnJlbnRUaW1lO1xuICB9XG5cbiAgdmFyIGV4cGlyYXRpb25UaW1lID0gc3RhcnRUaW1lICsgdGltZW91dDtcbiAgdmFyIG5ld1Rhc2sgPSB7XG4gICAgaWQ6IHRhc2tJZENvdW50ZXIrKyxcbiAgICBjYWxsYmFjazogY2FsbGJhY2ssXG4gICAgcHJpb3JpdHlMZXZlbDogcHJpb3JpdHlMZXZlbCxcbiAgICBzdGFydFRpbWU6IHN0YXJ0VGltZSxcbiAgICBleHBpcmF0aW9uVGltZTogZXhwaXJhdGlvblRpbWUsXG4gICAgc29ydEluZGV4OiAtMVxuICB9O1xuXG4gIGlmIChlbmFibGVQcm9maWxpbmcpIHtcbiAgICBuZXdUYXNrLmlzUXVldWVkID0gZmFsc2U7XG4gIH1cblxuICBpZiAoc3RhcnRUaW1lID4gY3VycmVudFRpbWUpIHtcbiAgICAvLyBUaGlzIGlzIGEgZGVsYXllZCB0YXNrLlxuICAgIG5ld1Rhc2suc29ydEluZGV4ID0gc3RhcnRUaW1lO1xuICAgIHB1c2godGltZXJRdWV1ZSwgbmV3VGFzayk7XG5cbiAgICBpZiAocGVlayh0YXNrUXVldWUpID09PSBudWxsICYmIG5ld1Rhc2sgPT09IHBlZWsodGltZXJRdWV1ZSkpIHtcbiAgICAgIC8vIEFsbCB0YXNrcyBhcmUgZGVsYXllZCwgYW5kIHRoaXMgaXMgdGhlIHRhc2sgd2l0aCB0aGUgZWFybGllc3QgZGVsYXkuXG4gICAgICBpZiAoaXNIb3N0VGltZW91dFNjaGVkdWxlZCkge1xuICAgICAgICAvLyBDYW5jZWwgYW4gZXhpc3RpbmcgdGltZW91dC5cbiAgICAgICAgY2FuY2VsSG9zdFRpbWVvdXQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlzSG9zdFRpbWVvdXRTY2hlZHVsZWQgPSB0cnVlO1xuICAgICAgfSAvLyBTY2hlZHVsZSBhIHRpbWVvdXQuXG5cblxuICAgICAgcmVxdWVzdEhvc3RUaW1lb3V0KGhhbmRsZVRpbWVvdXQsIHN0YXJ0VGltZSAtIGN1cnJlbnRUaW1lKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgbmV3VGFzay5zb3J0SW5kZXggPSBleHBpcmF0aW9uVGltZTtcbiAgICBwdXNoKHRhc2tRdWV1ZSwgbmV3VGFzayk7XG5cbiAgICBpZiAoZW5hYmxlUHJvZmlsaW5nKSB7XG4gICAgICBtYXJrVGFza1N0YXJ0KG5ld1Rhc2ssIGN1cnJlbnRUaW1lKTtcbiAgICAgIG5ld1Rhc2suaXNRdWV1ZWQgPSB0cnVlO1xuICAgIH0gLy8gU2NoZWR1bGUgYSBob3N0IGNhbGxiYWNrLCBpZiBuZWVkZWQuIElmIHdlJ3JlIGFscmVhZHkgcGVyZm9ybWluZyB3b3JrLFxuICAgIC8vIHdhaXQgdW50aWwgdGhlIG5leHQgdGltZSB3ZSB5aWVsZC5cblxuXG4gICAgaWYgKCFpc0hvc3RDYWxsYmFja1NjaGVkdWxlZCAmJiAhaXNQZXJmb3JtaW5nV29yaykge1xuICAgICAgaXNIb3N0Q2FsbGJhY2tTY2hlZHVsZWQgPSB0cnVlO1xuICAgICAgcmVxdWVzdEhvc3RDYWxsYmFjayhmbHVzaFdvcmspO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXdUYXNrO1xufVxuXG5mdW5jdGlvbiB1bnN0YWJsZV9wYXVzZUV4ZWN1dGlvbigpIHtcbiAgaXNTY2hlZHVsZXJQYXVzZWQgPSB0cnVlO1xufVxuXG5mdW5jdGlvbiB1bnN0YWJsZV9jb250aW51ZUV4ZWN1dGlvbigpIHtcbiAgaXNTY2hlZHVsZXJQYXVzZWQgPSBmYWxzZTtcblxuICBpZiAoIWlzSG9zdENhbGxiYWNrU2NoZWR1bGVkICYmICFpc1BlcmZvcm1pbmdXb3JrKSB7XG4gICAgaXNIb3N0Q2FsbGJhY2tTY2hlZHVsZWQgPSB0cnVlO1xuICAgIHJlcXVlc3RIb3N0Q2FsbGJhY2soZmx1c2hXb3JrKTtcbiAgfVxufVxuXG5mdW5jdGlvbiB1bnN0YWJsZV9nZXRGaXJzdENhbGxiYWNrTm9kZSgpIHtcbiAgcmV0dXJuIHBlZWsodGFza1F1ZXVlKTtcbn1cblxuZnVuY3Rpb24gdW5zdGFibGVfY2FuY2VsQ2FsbGJhY2sodGFzaykge1xuICBpZiAoZW5hYmxlUHJvZmlsaW5nKSB7XG4gICAgaWYgKHRhc2suaXNRdWV1ZWQpIHtcbiAgICAgIHZhciBjdXJyZW50VGltZSA9IGV4cG9ydHMudW5zdGFibGVfbm93KCk7XG4gICAgICBtYXJrVGFza0NhbmNlbGVkKHRhc2ssIGN1cnJlbnRUaW1lKTtcbiAgICAgIHRhc2suaXNRdWV1ZWQgPSBmYWxzZTtcbiAgICB9XG4gIH0gLy8gTnVsbCBvdXQgdGhlIGNhbGxiYWNrIHRvIGluZGljYXRlIHRoZSB0YXNrIGhhcyBiZWVuIGNhbmNlbGVkLiAoQ2FuJ3RcbiAgLy8gcmVtb3ZlIGZyb20gdGhlIHF1ZXVlIGJlY2F1c2UgeW91IGNhbid0IHJlbW92ZSBhcmJpdHJhcnkgbm9kZXMgZnJvbSBhblxuICAvLyBhcnJheSBiYXNlZCBoZWFwLCBvbmx5IHRoZSBmaXJzdCBvbmUuKVxuXG5cbiAgdGFzay5jYWxsYmFjayA9IG51bGw7XG59XG5cbmZ1bmN0aW9uIHVuc3RhYmxlX2dldEN1cnJlbnRQcmlvcml0eUxldmVsKCkge1xuICByZXR1cm4gY3VycmVudFByaW9yaXR5TGV2ZWw7XG59XG5cbmZ1bmN0aW9uIHVuc3RhYmxlX3Nob3VsZFlpZWxkKCkge1xuICB2YXIgY3VycmVudFRpbWUgPSBleHBvcnRzLnVuc3RhYmxlX25vdygpO1xuICBhZHZhbmNlVGltZXJzKGN1cnJlbnRUaW1lKTtcbiAgdmFyIGZpcnN0VGFzayA9IHBlZWsodGFza1F1ZXVlKTtcbiAgcmV0dXJuIGZpcnN0VGFzayAhPT0gY3VycmVudFRhc2sgJiYgY3VycmVudFRhc2sgIT09IG51bGwgJiYgZmlyc3RUYXNrICE9PSBudWxsICYmIGZpcnN0VGFzay5jYWxsYmFjayAhPT0gbnVsbCAmJiBmaXJzdFRhc2suc3RhcnRUaW1lIDw9IGN1cnJlbnRUaW1lICYmIGZpcnN0VGFzay5leHBpcmF0aW9uVGltZSA8IGN1cnJlbnRUYXNrLmV4cGlyYXRpb25UaW1lIHx8IHNob3VsZFlpZWxkVG9Ib3N0KCk7XG59XG5cbnZhciB1bnN0YWJsZV9yZXF1ZXN0UGFpbnQgPSByZXF1ZXN0UGFpbnQ7XG52YXIgdW5zdGFibGVfUHJvZmlsaW5nID0gZW5hYmxlUHJvZmlsaW5nID8ge1xuICBzdGFydExvZ2dpbmdQcm9maWxpbmdFdmVudHM6IHN0YXJ0TG9nZ2luZ1Byb2ZpbGluZ0V2ZW50cyxcbiAgc3RvcExvZ2dpbmdQcm9maWxpbmdFdmVudHM6IHN0b3BMb2dnaW5nUHJvZmlsaW5nRXZlbnRzLFxuICBzaGFyZWRQcm9maWxpbmdCdWZmZXI6IHNoYXJlZFByb2ZpbGluZ0J1ZmZlclxufSA6IG51bGw7XG5cbmV4cG9ydHMudW5zdGFibGVfSW1tZWRpYXRlUHJpb3JpdHkgPSBJbW1lZGlhdGVQcmlvcml0eTtcbmV4cG9ydHMudW5zdGFibGVfVXNlckJsb2NraW5nUHJpb3JpdHkgPSBVc2VyQmxvY2tpbmdQcmlvcml0eTtcbmV4cG9ydHMudW5zdGFibGVfTm9ybWFsUHJpb3JpdHkgPSBOb3JtYWxQcmlvcml0eTtcbmV4cG9ydHMudW5zdGFibGVfSWRsZVByaW9yaXR5ID0gSWRsZVByaW9yaXR5O1xuZXhwb3J0cy51bnN0YWJsZV9Mb3dQcmlvcml0eSA9IExvd1ByaW9yaXR5O1xuZXhwb3J0cy51bnN0YWJsZV9ydW5XaXRoUHJpb3JpdHkgPSB1bnN0YWJsZV9ydW5XaXRoUHJpb3JpdHk7XG5leHBvcnRzLnVuc3RhYmxlX25leHQgPSB1bnN0YWJsZV9uZXh0O1xuZXhwb3J0cy51bnN0YWJsZV9zY2hlZHVsZUNhbGxiYWNrID0gdW5zdGFibGVfc2NoZWR1bGVDYWxsYmFjaztcbmV4cG9ydHMudW5zdGFibGVfY2FuY2VsQ2FsbGJhY2sgPSB1bnN0YWJsZV9jYW5jZWxDYWxsYmFjaztcbmV4cG9ydHMudW5zdGFibGVfd3JhcENhbGxiYWNrID0gdW5zdGFibGVfd3JhcENhbGxiYWNrO1xuZXhwb3J0cy51bnN0YWJsZV9nZXRDdXJyZW50UHJpb3JpdHlMZXZlbCA9IHVuc3RhYmxlX2dldEN1cnJlbnRQcmlvcml0eUxldmVsO1xuZXhwb3J0cy51bnN0YWJsZV9zaG91bGRZaWVsZCA9IHVuc3RhYmxlX3Nob3VsZFlpZWxkO1xuZXhwb3J0cy51bnN0YWJsZV9yZXF1ZXN0UGFpbnQgPSB1bnN0YWJsZV9yZXF1ZXN0UGFpbnQ7XG5leHBvcnRzLnVuc3RhYmxlX2NvbnRpbnVlRXhlY3V0aW9uID0gdW5zdGFibGVfY29udGludWVFeGVjdXRpb247XG5leHBvcnRzLnVuc3RhYmxlX3BhdXNlRXhlY3V0aW9uID0gdW5zdGFibGVfcGF1c2VFeGVjdXRpb247XG5leHBvcnRzLnVuc3RhYmxlX2dldEZpcnN0Q2FsbGJhY2tOb2RlID0gdW5zdGFibGVfZ2V0Rmlyc3RDYWxsYmFja05vZGU7XG5leHBvcnRzLnVuc3RhYmxlX1Byb2ZpbGluZyA9IHVuc3RhYmxlX1Byb2ZpbGluZztcbiAgfSkoKTtcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9zY2hlZHVsZXIucHJvZHVjdGlvbi5taW4uanMnKTtcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvc2NoZWR1bGVyLmRldmVsb3BtZW50LmpzJyk7XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvc2NoZWR1bGVyLXRyYWNpbmcucHJvZHVjdGlvbi5taW4uanMnKTtcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvc2NoZWR1bGVyLXRyYWNpbmcuZGV2ZWxvcG1lbnQuanMnKTtcbn1cbiIsInZhciBnO1xuXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxuZyA9IChmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXM7XG59KSgpO1xuXG50cnkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcblx0ZyA9IGcgfHwgbmV3IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtcbn0gY2F0Y2ggKGUpIHtcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpIGcgPSB3aW5kb3c7XG59XG5cbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XG5cbm1vZHVsZS5leHBvcnRzID0gZztcbiIsImV4cG9ydCBjb25zdCBmaXJzdE5hbWU6U3RyaW5nID0gJ0hlbGxvIFdvcmxkJ1xyXG5cclxuY29uc29sZS5sb2coJ0RvZXMgaXQgc3RhcnQgd2l0aCBXPycgLGZpcnN0TmFtZS5zdGFydHNXaXRoKCdXJykpXHJcblxyXG5jb25zb2xlLmxvZyhmaXJzdE5hbWUpXHJcblxyXG5cclxuIiwiaW1wb3J0IHtmaXJzdE5hbWV9IGZyb20gXCIuL2luZGV4LnRzXCI7XHJcbmNvbnN0IHNlY29uZE5hbWUgPSAnQm9iYnknXHJcblxyXG5jb25zb2xlLmxvZygnTXkgbmFtZSBpcyAnICsgZmlyc3ROYW1lKVxyXG5cclxuY29uc3QgZnVsbE5hbWUgPSBmaXJzdE5hbWUgKyAnJyArIHNlY29uZE5hbWVcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bGxOYW1lIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xyXG5pbXBvcnQgUmVhY3REb20gZnJvbSAncmVhY3QtZG9tJ1xyXG5pbXBvcnQgZnVsbE5hbWUgIGZyb20gJy4vamF2YXNjcmlwdC5qcydcclxuXHJcbmV4cG9ydCBjb25zdCBBcHAgPSAoKSA9PiB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgIDxoMT5NeSByZWFjdCBhcHBsaWNhdGlvbjwvaDE+XHJcbiAgICAgICAgICAgIDxwPk15IGZ1bGwgbmFtZSBpcyB7ZnVsbE5hbWV9PC9wPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgKVxyXG59XHJcbmNvbnNvbGUubG9nKCdoZWxsbyBib3knKVxyXG5SZWFjdERvbS5yZW5kZXIoPEFwcCAvPiwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFwcCcpKSJdLCJzb3VyY2VSb290IjoiIn0=